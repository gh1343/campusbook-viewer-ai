var lre=Object.defineProperty;var FV=n=>{throw TypeError(n)};var ure=(n,e,t)=>e in n?lre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ce=(n,e,t)=>ure(n,typeof e!="symbol"?e+"":e,t),XM=(n,e,t)=>e.has(n)||FV("Cannot "+t);var f=(n,e,t)=>(XM(n,e,"read from private field"),t?t.call(n):e.get(n)),U=(n,e,t)=>e.has(n)?FV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,r)=>(XM(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),P=(n,e,t)=>(XM(n,e,"access private method"),t);var ur=(n,e,t,r)=>({set _(i){_(n,e,i,t)},get _(){return f(n,e,r)}});function cre(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function QA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var JM={exports:{}},I0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV;function dre(){if(MV)return I0;MV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return I0.Fragment=e,I0.jsx=t,I0.jsxs=t,I0}var UV;function fre(){return UV||(UV=1,JM.exports=dre()),JM.exports}var Q=fre(),ZM={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PV;function hre(){if(PV)return rt;PV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,B={};function S(q,Y,Ae){this.props=q,this.context=Y,this.refs=B,this.updater=Ae||b}S.prototype.isReactComponent={},S.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=S.prototype;function T(q,Y,Ae){this.props=q,this.context=Y,this.refs=B,this.updater=Ae||b}var R=T.prototype=new I;R.constructor=T,C(R,S.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function D(){}var L={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k(q,Y,Ae){var me=Ae.ref;return{$$typeof:n,type:q,key:Y,ref:me!==void 0?me:null,props:Ae}}function K(q,Y){return k(q.type,Y,q.props)}function G(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function z(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Ae){return Y[Ae]})}var Z=/\/+/g;function ne(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):Y.toString(36)}function J(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(Y){q.status==="pending"&&(q.status="fulfilled",q.value=Y)},function(Y){q.status==="pending"&&(q.status="rejected",q.reason=Y)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function V(q,Y,Ae,me,ie){var he=typeof q;(he==="undefined"||he==="boolean")&&(q=null);var ce=!1;if(q===null)ce=!0;else switch(he){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(q.$$typeof){case n:case e:ce=!0;break;case d:return ce=q._init,V(ce(q._payload),Y,Ae,me,ie)}}if(ce)return ie=ie(q),ce=me===""?"."+ne(q,0):me,M(ie)?(Ae="",ce!=null&&(Ae=ce.replace(Z,"$&/")+"/"),V(ie,Y,Ae,"",function(Me){return Me})):ie!=null&&(G(ie)&&(ie=K(ie,Ae+(ie.key==null||q&&q.key===ie.key?"":(""+ie.key).replace(Z,"$&/")+"/")+ce)),Y.push(ie)),1;ce=0;var Se=me===""?".":me+":";if(M(q))for(var ee=0;ee<q.length;ee++)me=q[ee],he=Se+ne(me,ee),ce+=V(me,Y,Ae,he,ie);else if(ee=v(q),typeof ee=="function")for(q=ee.call(q),ee=0;!(me=q.next()).done;)me=me.value,he=Se+ne(me,ee++),ce+=V(me,Y,Ae,he,ie);else if(he==="object"){if(typeof q.then=="function")return V(J(q),Y,Ae,me,ie);throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ce}function $(q,Y,Ae){if(q==null)return q;var me=[],ie=0;return V(q,me,"","",function(he){return Y.call(Ae,he,ie++)}),me}function re(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(Ae){(q._status===0||q._status===-1)&&(q._status=1,q._result=Ae)},function(Ae){(q._status===0||q._status===-1)&&(q._status=2,q._result=Ae)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var de=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Ee={map:$,forEach:function(q,Y,Ae){$(q,function(){Y.apply(this,arguments)},Ae)},count:function(q){var Y=0;return $(q,function(){Y++}),Y},toArray:function(q){return $(q,function(Y){return Y})||[]},only:function(q){if(!G(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return rt.Activity=h,rt.Children=Ee,rt.Component=S,rt.Fragment=t,rt.Profiler=i,rt.PureComponent=T,rt.StrictMode=r,rt.Suspense=l,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,rt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return L.H.useMemoCache(q)}},rt.cache=function(q){return function(){return q.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(q,Y,Ae){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var me=C({},q.props),ie=q.key;if(Y!=null)for(he in Y.key!==void 0&&(ie=""+Y.key),Y)!H.call(Y,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Y.ref===void 0||(me[he]=Y[he]);var he=arguments.length-2;if(he===1)me.children=Ae;else if(1<he){for(var ce=Array(he),Se=0;Se<he;Se++)ce[Se]=arguments[Se+2];me.children=ce}return k(q.type,ie,me)},rt.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},rt.createElement=function(q,Y,Ae){var me,ie={},he=null;if(Y!=null)for(me in Y.key!==void 0&&(he=""+Y.key),Y)H.call(Y,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ie[me]=Y[me]);var ce=arguments.length-2;if(ce===1)ie.children=Ae;else if(1<ce){for(var Se=Array(ce),ee=0;ee<ce;ee++)Se[ee]=arguments[ee+2];ie.children=Se}if(q&&q.defaultProps)for(me in ce=q.defaultProps,ce)ie[me]===void 0&&(ie[me]=ce[me]);return k(q,he,ie)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(q){return{$$typeof:o,render:q}},rt.isValidElement=G,rt.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:re}},rt.memo=function(q,Y){return{$$typeof:u,type:q,compare:Y===void 0?null:Y}},rt.startTransition=function(q){var Y=L.T,Ae={};L.T=Ae;try{var me=q(),ie=L.S;ie!==null&&ie(Ae,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(D,de)}catch(he){de(he)}finally{Y!==null&&Ae.types!==null&&(Y.types=Ae.types),L.T=Y}},rt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},rt.use=function(q){return L.H.use(q)},rt.useActionState=function(q,Y,Ae){return L.H.useActionState(q,Y,Ae)},rt.useCallback=function(q,Y){return L.H.useCallback(q,Y)},rt.useContext=function(q){return L.H.useContext(q)},rt.useDebugValue=function(){},rt.useDeferredValue=function(q,Y){return L.H.useDeferredValue(q,Y)},rt.useEffect=function(q,Y){return L.H.useEffect(q,Y)},rt.useEffectEvent=function(q){return L.H.useEffectEvent(q)},rt.useId=function(){return L.H.useId()},rt.useImperativeHandle=function(q,Y,Ae){return L.H.useImperativeHandle(q,Y,Ae)},rt.useInsertionEffect=function(q,Y){return L.H.useInsertionEffect(q,Y)},rt.useLayoutEffect=function(q,Y){return L.H.useLayoutEffect(q,Y)},rt.useMemo=function(q,Y){return L.H.useMemo(q,Y)},rt.useOptimistic=function(q,Y){return L.H.useOptimistic(q,Y)},rt.useReducer=function(q,Y,Ae){return L.H.useReducer(q,Y,Ae)},rt.useRef=function(q){return L.H.useRef(q)},rt.useState=function(q){return L.H.useState(q)},rt.useSyncExternalStore=function(q,Y,Ae){return L.H.useSyncExternalStore(q,Y,Ae)},rt.useTransition=function(){return L.H.useTransition()},rt.version="19.2.1",rt}var RV;function By(){return RV||(RV=1,ZM.exports=hre()),ZM.exports}var F=By();const tm=QA(F),pre=cre({__proto__:null,default:tm},[F]);var eU={exports:{}},F0={},tU={exports:{}},nU={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DV;function gre(){return DV||(DV=1,(function(n){function e(V,$){var re=V.length;V.push($);e:for(;0<re;){var de=re-1>>>1,Ee=V[de];if(0<i(Ee,$))V[de]=$,V[re]=Ee,re=de;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var $=V[0],re=V.pop();if(re!==$){V[0]=re;e:for(var de=0,Ee=V.length,q=Ee>>>1;de<q;){var Y=2*(de+1)-1,Ae=V[Y],me=Y+1,ie=V[me];if(0>i(Ae,re))me<Ee&&0>i(ie,Ae)?(V[de]=ie,V[me]=re,de=me):(V[de]=Ae,V[Y]=re,de=Y);else if(me<Ee&&0>i(ie,re))V[de]=ie,V[me]=re,de=me;else break e}}return $}function i(V,$){var re=V.sortIndex-$.sortIndex;return re!==0?re:V.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,b=!1,C=!1,B=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var $=t(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=V)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function M(V){if(C=!1,R(V),!b)if(t(l)!==null)b=!0,D||(D=!0,z());else{var $=t(u);$!==null&&J(M,$.startTime-V)}}var D=!1,L=-1,H=5,k=-1;function K(){return B?!0:!(n.unstable_now()-k<H)}function G(){if(B=!1,D){var V=n.unstable_now();k=V;var $=!0;try{e:{b=!1,C&&(C=!1,I(L),L=-1),v=!0;var re=g;try{t:{for(R(V),h=t(l);h!==null&&!(h.expirationTime>V&&K());){var de=h.callback;if(typeof de=="function"){h.callback=null,g=h.priorityLevel;var Ee=de(h.expirationTime<=V);if(V=n.unstable_now(),typeof Ee=="function"){h.callback=Ee,R(V),$=!0;break t}h===t(l)&&r(l),R(V)}else r(l);h=t(l)}if(h!==null)$=!0;else{var q=t(u);q!==null&&J(M,q.startTime-V),$=!1}}break e}finally{h=null,g=re,v=!1}$=void 0}}finally{$?z():D=!1}}}var z;if(typeof T=="function")z=function(){T(G)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ne=Z.port2;Z.port1.onmessage=G,z=function(){ne.postMessage(null)}}else z=function(){S(G,0)};function J(V,$){L=S(function(){V(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(V){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var re=g;g=$;try{return V()}finally{g=re}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=g;g=V;try{return $()}finally{g=re}},n.unstable_scheduleCallback=function(V,$,re){var de=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,V){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=re+Ee,V={id:d++,callback:$,priorityLevel:V,startTime:re,expirationTime:Ee,sortIndex:-1},re>de?(V.sortIndex=re,e(u,V),t(l)===null&&V===t(u)&&(C?(I(L),L=-1):C=!0,J(M,re-de))):(V.sortIndex=Ee,e(l,V),b||v||(b=!0,D||(D=!0,z()))),V},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(V){var $=g;return function(){var re=g;g=$;try{return V.apply(this,arguments)}finally{g=re}}}})(nU)),nU}var NV;function mre(){return NV||(NV=1,tU.exports=gre()),tU.exports}var rU={exports:{}},Mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LV;function vre(){if(LV)return Mi;LV=1;var n=By();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mi.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},Mi.flushSync=function(l){var u=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=u,r.p=d,r.d.f()}},Mi.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Mi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Mi.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Mi.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Mi.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Mi.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Mi.requestFormReset=function(l){r.d.r(l)},Mi.unstable_batchedUpdates=function(l,u){return l(u)},Mi.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},Mi.useFormStatus=function(){return a.H.useHostTransitionStatus()},Mi.version="19.2.1",Mi}var QV;function $8(){if(QV)return rU.exports;QV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rU.exports=vre(),rU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kV;function yre(){if(kV)return F0;kV=1;var n=mre(),e=By(),t=$8();function r(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(r(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(r(188));return c!==A?null:A}for(var p=A,m=c;;){var E=p.return;if(E===null)break;var x=E.alternate;if(x===null){if(m=E.return,m!==null){p=m;continue}break}if(E.child===x.child){for(x=E.child;x;){if(x===p)return l(E),A;if(x===m)return l(E),c;x=x.sibling}throw Error(r(188))}if(p.return!==m.return)p=E,m=x;else{for(var N=!1,O=E.child;O;){if(O===p){N=!0,p=E,m=x;break}if(O===m){N=!0,m=E,p=x;break}O=O.sibling}if(!N){for(O=x.child;O;){if(O===p){N=!0,p=x,m=E;break}if(O===m){N=!0,m=x,p=E;break}O=O.sibling}if(!N)throw Error(r(189))}}if(p.alternate!==m)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function z(A){return A===null||typeof A!="object"?null:(A=G&&A[G]||A["@@iterator"],typeof A=="function"?A:null)}var Z=Symbol.for("react.client.reference");function ne(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===Z?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case C:return"Fragment";case S:return"Profiler";case B:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case b:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case R:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case L:return c=A.displayName||null,c!==null?c:ne(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return ne(A(c))}catch{}}return null}var J=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},de=[],Ee=-1;function q(A){return{current:A}}function Y(A){0>Ee||(A.current=de[Ee],de[Ee]=null,Ee--)}function Ae(A,c){Ee++,de[Ee]=A.current,A.current=c}var me=q(null),ie=q(null),he=q(null),ce=q(null);function Se(A,c){switch(Ae(he,c),Ae(ie,A),Ae(me,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?Z4(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=Z4(c),A=eV(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}Y(me),Ae(me,A)}function ee(){Y(me),Y(ie),Y(he)}function Me(A){A.memoizedState!==null&&Ae(ce,A);var c=me.current,p=eV(c,A.type);c!==p&&(Ae(ie,A),Ae(me,p))}function Te(A){ie.current===A&&(Y(me),Y(ie)),ce.current===A&&(Y(ce),S0._currentValue=re)}var ve,vt;function $e(A){if(ve===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);ve=c&&c[1]||"",vt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+A+vt}var Gt=!1;function It(A,c){if(!A||Gt)return"";Gt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(le){var oe=le}Reflect.construct(A,[],be)}else{try{be.call()}catch(le){oe=le}A.call(be.prototype)}}else{try{throw Error()}catch(le){oe=le}(be=A())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),N=x[0],O=x[1];if(N&&O){var j=N.split(`
`),ae=O.split(`
`);for(E=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;E<ae.length&&!ae[E].includes("DetermineComponentFrameRoot");)E++;if(m===j.length||E===ae.length)for(m=j.length-1,E=ae.length-1;1<=m&&0<=E&&j[m]!==ae[E];)E--;for(;1<=m&&0<=E;m--,E--)if(j[m]!==ae[E]){if(m!==1||E!==1)do if(m--,E--,0>E||j[m]!==ae[E]){var ge=`
`+j[m].replace(" at new "," at ");return A.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",A.displayName)),ge}while(1<=m&&0<=E);break}}}finally{Gt=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?$e(p):""}function zn(A,c){switch(A.tag){case 26:case 27:case 5:return $e(A.type);case 16:return $e("Lazy");case 13:return A.child!==c&&c!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return It(A.type,!1);case 11:return It(A.type.render,!1);case 1:return It(A.type,!0);case 31:return $e("Activity");default:return""}}function nt(A){try{var c="",p=null;do c+=zn(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var yr=Object.prototype.hasOwnProperty,Yn=n.unstable_scheduleCallback,en=n.unstable_cancelCallback,ya=n.unstable_shouldYield,wa=n.unstable_requestPaint,tn=n.unstable_now,xe=n.unstable_getCurrentPriorityLevel,te=n.unstable_ImmediatePriority,Be=n.unstable_UserBlockingPriority,Ue=n.unstable_NormalPriority,pt=n.unstable_LowPriority,Ke=n.unstable_IdlePriority,pn=n.log,Ft=n.unstable_setDisableYieldValue,Bn=null,St=null;function or(A){if(typeof pn=="function"&&Ft(A),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Bn,A)}catch{}}var wr=Math.clz32?Math.clz32:et,we=Math.log,Le=Math.LN2;function et(A){return A>>>=0,A===0?32:31-(we(A)/Le|0)|0}var Mt=256,gn=262144,nn=4194304;function Sn(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Mn(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var E=0,x=A.suspendedLanes,N=A.pingedLanes;A=A.warmLanes;var O=m&134217727;return O!==0?(m=O&~x,m!==0?E=Sn(m):(N&=O,N!==0?E=Sn(N):p||(p=O&~A,p!==0&&(E=Sn(p))))):(O=m&~x,O!==0?E=Sn(O):N!==0?E=Sn(N):p||(p=m&~A,p!==0&&(E=Sn(p)))),E===0?0:c!==0&&c!==E&&(c&x)===0&&(x=E&-E,p=c&-c,x>=p||x===32&&(p&4194048)!==0)?c:E}function Ut(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function Us(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gi(){var A=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),A}function ba(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function zi(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function HA(A,c,p,m,E,x){var N=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var O=A.entanglements,j=A.expirationTimes,ae=A.hiddenUpdates;for(p=N&~p;0<p;){var ge=31-wr(p),be=1<<ge;O[ge]=0,j[ge]=-1;var oe=ae[ge];if(oe!==null)for(ae[ge]=null,ge=0;ge<oe.length;ge++){var le=oe[ge];le!==null&&(le.lane&=-536870913)}p&=~be}m!==0&&lf(A,m,0),x!==0&&E===0&&A.tag!==0&&(A.suspendedLanes|=x&~(N&~c))}function lf(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-wr(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function kp(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-wr(p),E=1<<m;E&c|A[m]&c&&(A[m]|=c),p&=~E}}function Ii(A,c){var p=c&-c;return p=(p&42)!==0?1:Qy(p),(p&(A.suspendedLanes|c))!==0?0:p}function Qy(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function ky(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function uf(){var A=$.p;return A!==0?A:(A=window.event,A===void 0?32:EV(A.type))}function SB(A,c){var p=$.p;try{return $.p=A,c()}finally{$.p=p}}var qo=Math.random().toString(36).slice(2),br="__reactFiber$"+qo,Fi="__reactProps$"+qo,VA="__reactContainer$"+qo,Oy="__reactEvents$"+qo,VI="__reactListeners$"+qo,KI="__reactHandles$"+qo,xB="__reactResources$"+qo,$u="__reactMarker$"+qo;function Hy(A){delete A[br],delete A[Fi],delete A[Oy],delete A[VI],delete A[KI]}function ju(A){var c=A[br];if(c)return c;for(var p=A.parentNode;p;){if(c=p[VA]||p[br]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=oV(A);A!==null;){if(p=A[br])return p;A=oV(A)}return c}A=p,p=A.parentNode}return null}function Wu(A){if(A=A[br]||A[VA]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function cf(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(r(33))}function $o(A){var c=A[xB];return c||(c=A[xB]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Cr(A){A[$u]=!0}var _B=new Set,Yu={};function KA(A,c){Xu(A,c),Xu(A+"Capture",c)}function Xu(A,c){for(Yu[A]=c,A=0;A<c.length;A++)_B.add(c[A])}var GI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pe={},_e={};function Ie(A){return yr.call(_e,A)?!0:yr.call(pe,A)?!1:GI.test(A)?_e[A]=!0:(pe[A]=!0,!1)}function De(A,c,p){if(Ie(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function gt(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function $t(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function Pt(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Un(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function GA(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,x=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return E.call(this)},set:function(N){p=""+N,x.call(this,N)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function Op(A){if(!A._valueTracker){var c=Un(A)?"checked":"value";A._valueTracker=GA(A,c,""+A[c])}}function qO(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=Un(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function TB(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var rte=/[\n"\\]/g;function Ca(A){return A.replace(rte,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function zI(A,c,p,m,E,x,N,O){A.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?A.type=N:A.removeAttribute("type"),c!=null?N==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+Pt(c)):A.value!==""+Pt(c)&&(A.value=""+Pt(c)):N!=="submit"&&N!=="reset"||A.removeAttribute("value"),c!=null?qI(A,N,Pt(c)):p!=null?qI(A,N,Pt(p)):m!=null&&A.removeAttribute("value"),E==null&&x!=null&&(A.defaultChecked=!!x),E!=null&&(A.checked=E&&typeof E!="function"&&typeof E!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?A.name=""+Pt(O):A.removeAttribute("name")}function $O(A,c,p,m,E,x,N,O){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(A.type=x),c!=null||p!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){Op(A);return}p=p!=null?""+Pt(p):"",c=c!=null?""+Pt(c):p,O||c===A.value||(A.value=c),A.defaultValue=c}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=O?A.checked:!!m,A.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(A.name=N),Op(A)}function qI(A,c,p){c==="number"&&TB(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function Hp(A,c,p,m){if(A=A.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<A.length;p++)E=c.hasOwnProperty("$"+A[p].value),A[p].selected!==E&&(A[p].selected=E),E&&m&&(A[p].defaultSelected=!0)}else{for(p=""+Pt(p),c=null,E=0;E<A.length;E++){if(A[E].value===p){A[E].selected=!0,m&&(A[E].defaultSelected=!0);return}c!==null||A[E].disabled||(c=A[E])}c!==null&&(c.selected=!0)}}function jO(A,c,p){if(c!=null&&(c=""+Pt(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+Pt(p):""}function WO(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(r(92));if(J(m)){if(1<m.length)throw Error(r(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=Pt(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),Op(A)}function Vp(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var ite=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function YO(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||ite.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function XO(A,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var E in c)m=c[E],c.hasOwnProperty(E)&&p[E]!==m&&YO(A,E,m)}else for(var x in c)c.hasOwnProperty(x)&&YO(A,x,c[x])}function $I(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ste=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ate=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function IB(A){return ate.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function zA(){}var jI=null;function WI(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Kp=null,Gp=null;function JO(A){var c=Wu(A);if(c&&(A=c.stateNode)){var p=A[Fi]||null;e:switch(A=c.stateNode,c.type){case"input":if(zI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ca(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var E=m[Fi]||null;if(!E)throw Error(r(90));zI(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&qO(m)}break e;case"textarea":jO(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Hp(A,!!p.multiple,c,!1)}}}var YI=!1;function ZO(A,c,p){if(YI)return A(c,p);YI=!0;try{var m=A(c);return m}finally{if(YI=!1,(Kp!==null||Gp!==null)&&(gS(),Kp&&(c=Kp,A=Gp,Gp=Kp=null,JO(c),A)))for(c=0;c<A.length;c++)JO(A[c])}}function Vy(A,c){var p=A.stateNode;if(p===null)return null;var m=p[Fi]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var qA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),XI=!1;if(qA)try{var Ky={};Object.defineProperty(Ky,"passive",{get:function(){XI=!0}}),window.addEventListener("test",Ky,Ky),window.removeEventListener("test",Ky,Ky)}catch{XI=!1}var Ju=null,JI=null,FB=null;function e2(){if(FB)return FB;var A,c=JI,p=c.length,m,E="value"in Ju?Ju.value:Ju.textContent,x=E.length;for(A=0;A<p&&c[A]===E[A];A++);var N=p-A;for(m=1;m<=N&&c[p-m]===E[x-m];m++);return FB=E.slice(A,1<m?1-m:void 0)}function MB(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function UB(){return!0}function t2(){return!1}function As(A){function c(p,m,E,x,N){this._reactName=p,this._targetInst=E,this.type=m,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var O in A)A.hasOwnProperty(O)&&(p=A[O],this[O]=p?p(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?UB:t2,this.isPropagationStopped=t2,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=UB)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=UB)},persist:function(){},isPersistent:UB}),c}var df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PB=As(df),Gy=h({},df,{view:0,detail:0}),ote=As(Gy),ZI,eF,zy,RB=h({},Gy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nF,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==zy&&(zy&&A.type==="mousemove"?(ZI=A.screenX-zy.screenX,eF=A.screenY-zy.screenY):eF=ZI=0,zy=A),ZI)},movementY:function(A){return"movementY"in A?A.movementY:eF}}),n2=As(RB),Ate=h({},RB,{dataTransfer:0}),lte=As(Ate),ute=h({},Gy,{relatedTarget:0}),tF=As(ute),cte=h({},df,{animationName:0,elapsedTime:0,pseudoElement:0}),dte=As(cte),fte=h({},df,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),hte=As(fte),pte=h({},df,{data:0}),r2=As(pte),gte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yte(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=vte[A])?!!c[A]:!1}function nF(){return yte}var wte=h({},Gy,{key:function(A){if(A.key){var c=gte[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=MB(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?mte[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nF,charCode:function(A){return A.type==="keypress"?MB(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?MB(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),bte=As(wte),Cte=h({},RB,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i2=As(Cte),Ete=h({},Gy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nF}),Bte=As(Ete),Ste=h({},df,{propertyName:0,elapsedTime:0,pseudoElement:0}),xte=As(Ste),_te=h({},RB,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Tte=As(_te),Ite=h({},df,{newState:0,oldState:0}),Fte=As(Ite),Mte=[9,13,27,32],rF=qA&&"CompositionEvent"in window,qy=null;qA&&"documentMode"in document&&(qy=document.documentMode);var Ute=qA&&"TextEvent"in window&&!qy,s2=qA&&(!rF||qy&&8<qy&&11>=qy),a2=" ",o2=!1;function A2(A,c){switch(A){case"keyup":return Mte.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l2(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var zp=!1;function Pte(A,c){switch(A){case"compositionend":return l2(c);case"keypress":return c.which!==32?null:(o2=!0,a2);case"textInput":return A=c.data,A===a2&&o2?null:A;default:return null}}function Rte(A,c){if(zp)return A==="compositionend"||!rF&&A2(A,c)?(A=e2(),FB=JI=Ju=null,zp=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return s2&&c.locale!=="ko"?null:c.data;default:return null}}var Dte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u2(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!Dte[A.type]:c==="textarea"}function c2(A,c,p,m){Kp?Gp?Gp.push(m):Gp=[m]:Kp=m,c=ES(c,"onChange"),0<c.length&&(p=new PB("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var $y=null,jy=null;function Nte(A){$4(A,0)}function DB(A){var c=cf(A);if(qO(c))return A}function d2(A,c){if(A==="change")return c}var f2=!1;if(qA){var iF;if(qA){var sF="oninput"in document;if(!sF){var h2=document.createElement("div");h2.setAttribute("oninput","return;"),sF=typeof h2.oninput=="function"}iF=sF}else iF=!1;f2=iF&&(!document.documentMode||9<document.documentMode)}function p2(){$y&&($y.detachEvent("onpropertychange",g2),jy=$y=null)}function g2(A){if(A.propertyName==="value"&&DB(jy)){var c=[];c2(c,jy,A,WI(A)),ZO(Nte,c)}}function Lte(A,c,p){A==="focusin"?(p2(),$y=c,jy=p,$y.attachEvent("onpropertychange",g2)):A==="focusout"&&p2()}function Qte(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return DB(jy)}function kte(A,c){if(A==="click")return DB(c)}function Ote(A,c){if(A==="input"||A==="change")return DB(c)}function Hte(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var Ps=typeof Object.is=="function"?Object.is:Hte;function Wy(A,c){if(Ps(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var E=p[m];if(!yr.call(c,E)||!Ps(A[E],c[E]))return!1}return!0}function m2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function v2(A,c){var p=m2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=m2(p)}}function y2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?y2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function w2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=TB(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=TB(A.document)}return c}function aF(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var Vte=qA&&"documentMode"in document&&11>=document.documentMode,qp=null,oF=null,Yy=null,AF=!1;function b2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;AF||qp==null||qp!==TB(m)||(m=qp,"selectionStart"in m&&aF(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Yy&&Wy(Yy,m)||(Yy=m,m=ES(oF,"onSelect"),0<m.length&&(c=new PB("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=qp)))}function ff(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var $p={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionrun:ff("Transition","TransitionRun"),transitionstart:ff("Transition","TransitionStart"),transitioncancel:ff("Transition","TransitionCancel"),transitionend:ff("Transition","TransitionEnd")},lF={},C2={};qA&&(C2=document.createElement("div").style,"AnimationEvent"in window||(delete $p.animationend.animation,delete $p.animationiteration.animation,delete $p.animationstart.animation),"TransitionEvent"in window||delete $p.transitionend.transition);function hf(A){if(lF[A])return lF[A];if(!$p[A])return A;var c=$p[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in C2)return lF[A]=c[p];return A}var E2=hf("animationend"),B2=hf("animationiteration"),S2=hf("animationstart"),Kte=hf("transitionrun"),Gte=hf("transitionstart"),zte=hf("transitioncancel"),x2=hf("transitionend"),_2=new Map,uF="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uF.push("scrollEnd");function ho(A,c){_2.set(A,c),KA(c,[A])}var NB=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Ea=[],jp=0,cF=0;function LB(){for(var A=jp,c=cF=jp=0;c<A;){var p=Ea[c];Ea[c++]=null;var m=Ea[c];Ea[c++]=null;var E=Ea[c];Ea[c++]=null;var x=Ea[c];if(Ea[c++]=null,m!==null&&E!==null){var N=m.pending;N===null?E.next=E:(E.next=N.next,N.next=E),m.pending=E}x!==0&&T2(p,E,x)}}function QB(A,c,p,m){Ea[jp++]=A,Ea[jp++]=c,Ea[jp++]=p,Ea[jp++]=m,cF|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function dF(A,c,p,m){return QB(A,c,p,m),kB(A)}function pf(A,c){return QB(A,null,null,c),kB(A)}function T2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var E=!1,x=A.return;x!==null;)x.childLanes|=p,m=x.alternate,m!==null&&(m.childLanes|=p),x.tag===22&&(A=x.stateNode,A===null||A._visibility&1||(E=!0)),A=x,x=x.return;return A.tag===3?(x=A.stateNode,E&&c!==null&&(E=31-wr(p),A=x.hiddenUpdates,m=A[E],m===null?A[E]=[c]:m.push(c),c.lane=p|536870912),x):null}function kB(A){if(50<v0)throw v0=0,bM=null,Error(r(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var Wp={};function qte(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(A,c,p,m){return new qte(A,c,p,m)}function fF(A){return A=A.prototype,!(!A||!A.isReactComponent)}function $A(A,c){var p=A.alternate;return p===null?(p=Rs(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function I2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function OB(A,c,p,m,E,x){var N=0;if(m=A,typeof A=="function")fF(A)&&(N=1);else if(typeof A=="string")N=Xne(A,p,me.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=Rs(31,p,c,E),A.elementType=k,A.lanes=x,A;case C:return gf(p.children,E,x,c);case B:N=8,E|=24;break;case S:return A=Rs(12,p,c,E|2),A.elementType=S,A.lanes=x,A;case M:return A=Rs(13,p,c,E),A.elementType=M,A.lanes=x,A;case D:return A=Rs(19,p,c,E),A.elementType=D,A.lanes=x,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:N=10;break e;case I:N=9;break e;case R:N=11;break e;case L:N=14;break e;case H:N=16,m=null;break e}N=29,p=Error(r(130,A===null?"null":typeof A,"")),m=null}return c=Rs(N,p,c,E),c.elementType=A,c.type=m,c.lanes=x,c}function gf(A,c,p,m){return A=Rs(7,A,m,c),A.lanes=p,A}function hF(A,c,p){return A=Rs(6,A,null,c),A.lanes=p,A}function F2(A){var c=Rs(18,null,null,0);return c.stateNode=A,c}function pF(A,c,p){return c=Rs(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var M2=new WeakMap;function Ba(A,c){if(typeof A=="object"&&A!==null){var p=M2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:nt(c)},M2.set(A,c),c)}return{value:A,source:c,stack:nt(c)}}var Yp=[],Xp=0,HB=null,Xy=0,Sa=[],xa=0,Zu=null,jo=1,Wo="";function jA(A,c){Yp[Xp++]=Xy,Yp[Xp++]=HB,HB=A,Xy=c}function U2(A,c,p){Sa[xa++]=jo,Sa[xa++]=Wo,Sa[xa++]=Zu,Zu=A;var m=jo;A=Wo;var E=32-wr(m)-1;m&=~(1<<E),p+=1;var x=32-wr(c)+E;if(30<x){var N=E-E%5;x=(m&(1<<N)-1).toString(32),m>>=N,E-=N,jo=1<<32-wr(c)+E|p<<E|m,Wo=x+A}else jo=1<<x|p<<E|m,Wo=A}function gF(A){A.return!==null&&(jA(A,1),U2(A,1,0))}function mF(A){for(;A===HB;)HB=Yp[--Xp],Yp[Xp]=null,Xy=Yp[--Xp],Yp[Xp]=null;for(;A===Zu;)Zu=Sa[--xa],Sa[xa]=null,Wo=Sa[--xa],Sa[xa]=null,jo=Sa[--xa],Sa[xa]=null}function P2(A,c){Sa[xa++]=jo,Sa[xa++]=Wo,Sa[xa++]=Zu,jo=c.id,Wo=c.overflow,Zu=A}var li=null,Pn=null,xt=!1,ec=null,_a=!1,vF=Error(r(519));function tc(A){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jy(Ba(c,A)),vF}function R2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[br]=A,c[Fi]=m,p){case"dialog":wt("cancel",c),wt("close",c);break;case"iframe":case"object":case"embed":wt("load",c);break;case"video":case"audio":for(p=0;p<w0.length;p++)wt(w0[p],c);break;case"source":wt("error",c);break;case"img":case"image":case"link":wt("error",c),wt("load",c);break;case"details":wt("toggle",c);break;case"input":wt("invalid",c),$O(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":wt("invalid",c);break;case"textarea":wt("invalid",c),WO(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||X4(c.textContent,p)?(m.popover!=null&&(wt("beforetoggle",c),wt("toggle",c)),m.onScroll!=null&&wt("scroll",c),m.onScrollEnd!=null&&wt("scrollend",c),m.onClick!=null&&(c.onclick=zA),c=!0):c=!1,c||tc(A,!0)}function D2(A){for(li=A.return;li;)switch(li.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:li=li.return}}function Jp(A){if(A!==li)return!1;if(!xt)return D2(A),xt=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||NM(A.type,A.memoizedProps)),p=!p),p&&Pn&&tc(A),D2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));Pn=aV(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));Pn=aV(A)}else c===27?(c=Pn,pc(A.type)?(A=HM,HM=null,Pn=A):Pn=c):Pn=li?Ia(A.stateNode.nextSibling):null;return!0}function mf(){Pn=li=null,xt=!1}function yF(){var A=ec;return A!==null&&(ds===null?ds=A:ds.push.apply(ds,A),ec=null),A}function Jy(A){ec===null?ec=[A]:ec.push(A)}var wF=q(null),vf=null,WA=null;function nc(A,c,p){Ae(wF,c._currentValue),c._currentValue=p}function YA(A){A._currentValue=wF.current,Y(wF)}function bF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function CF(A,c,p,m){var E=A.child;for(E!==null&&(E.return=A);E!==null;){var x=E.dependencies;if(x!==null){var N=E.child;x=x.firstContext;e:for(;x!==null;){var O=x;x=E;for(var j=0;j<c.length;j++)if(O.context===c[j]){x.lanes|=p,O=x.alternate,O!==null&&(O.lanes|=p),bF(x.return,p,A),m||(N=null);break e}x=O.next}}else if(E.tag===18){if(N=E.return,N===null)throw Error(r(341));N.lanes|=p,x=N.alternate,x!==null&&(x.lanes|=p),bF(N,p,A),N=null}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===A){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}}function Zp(A,c,p,m){A=null;for(var E=c,x=!1;E!==null;){if(!x){if((E.flags&524288)!==0)x=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var N=E.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var O=E.type;Ps(E.pendingProps.value,N.value)||(A!==null?A.push(O):A=[O])}}else if(E===ce.current){if(N=E.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(A!==null?A.push(S0):A=[S0])}E=E.return}A!==null&&CF(c,A,p,m),c.flags|=262144}function VB(A){for(A=A.firstContext;A!==null;){if(!Ps(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function yf(A){vf=A,WA=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function ui(A){return N2(vf,A)}function KB(A,c){return vf===null&&yf(A),N2(A,c)}function N2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},WA===null){if(A===null)throw Error(r(308));WA=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else WA=WA.next=c;return p}var $te=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},jte=n.unstable_scheduleCallback,Wte=n.unstable_NormalPriority,Er={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function EF(){return{controller:new $te,data:new Map,refCount:0}}function Zy(A){A.refCount--,A.refCount===0&&jte(Wte,function(){A.controller.abort()})}var e0=null,BF=0,eg=0,tg=null;function Yte(A,c){if(e0===null){var p=e0=[];BF=0,eg=_M(),tg={status:"pending",value:void 0,then:function(m){p.push(m)}}}return BF++,c.then(L2,L2),c}function L2(){if(--BF===0&&e0!==null){tg!==null&&(tg.status="fulfilled");var A=e0;e0=null,eg=0,tg=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function Xte(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(m.status="rejected",m.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),m}var Q2=V.S;V.S=function(A,c){b4=tn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Yte(A,c),Q2!==null&&Q2(A,c)};var wf=q(null);function SF(){var A=wf.current;return A!==null?A:mn.pooledCache}function GB(A,c){c===null?Ae(wf,wf.current):Ae(wf,c.pool)}function k2(){var A=SF();return A===null?null:{parent:Er._currentValue,pool:A}}var ng=Error(r(460)),xF=Error(r(474)),zB=Error(r(542)),qB={then:function(){}};function O2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function H2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then(zA,zA),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,K2(A),A;default:if(typeof c.status=="string")c.then(zA,zA);else{if(A=mn,A!==null&&100<A.shellSuspendCounter)throw Error(r(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=m}},function(m){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,K2(A),A}throw Cf=c,ng}}function bf(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Cf=p,ng):p}}var Cf=null;function V2(){if(Cf===null)throw Error(r(459));var A=Cf;return Cf=null,A}function K2(A){if(A===ng||A===zB)throw Error(r(483))}var rg=null,t0=0;function $B(A){var c=t0;return t0+=1,rg===null&&(rg=[]),H2(rg,A,c)}function n0(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function jB(A,c){throw c.$$typeof===g?Error(r(525)):(A=Object.prototype.toString.call(c),Error(r(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function G2(A){function c(X,W){if(A){var se=X.deletions;se===null?(X.deletions=[W],X.flags|=16):se.push(W)}}function p(X,W){if(!A)return null;for(;W!==null;)c(X,W),W=W.sibling;return null}function m(X){for(var W=new Map;X!==null;)X.key!==null?W.set(X.key,X):W.set(X.index,X),X=X.sibling;return W}function E(X,W){return X=$A(X,W),X.index=0,X.sibling=null,X}function x(X,W,se){return X.index=se,A?(se=X.alternate,se!==null?(se=se.index,se<W?(X.flags|=67108866,W):se):(X.flags|=67108866,W)):(X.flags|=1048576,W)}function N(X){return A&&X.alternate===null&&(X.flags|=67108866),X}function O(X,W,se,ye){return W===null||W.tag!==6?(W=hF(se,X.mode,ye),W.return=X,W):(W=E(W,se),W.return=X,W)}function j(X,W,se,ye){var We=se.type;return We===C?ge(X,W,se.props.children,ye,se.key):W!==null&&(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===H&&bf(We)===W.type)?(W=E(W,se.props),n0(W,se),W.return=X,W):(W=OB(se.type,se.key,se.props,null,X.mode,ye),n0(W,se),W.return=X,W)}function ae(X,W,se,ye){return W===null||W.tag!==4||W.stateNode.containerInfo!==se.containerInfo||W.stateNode.implementation!==se.implementation?(W=pF(se,X.mode,ye),W.return=X,W):(W=E(W,se.children||[]),W.return=X,W)}function ge(X,W,se,ye,We){return W===null||W.tag!==7?(W=gf(se,X.mode,ye,We),W.return=X,W):(W=E(W,se),W.return=X,W)}function be(X,W,se){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=hF(""+W,X.mode,se),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return se=OB(W.type,W.key,W.props,null,X.mode,se),n0(se,W),se.return=X,se;case b:return W=pF(W,X.mode,se),W.return=X,W;case H:return W=bf(W),be(X,W,se)}if(J(W)||z(W))return W=gf(W,X.mode,se,null),W.return=X,W;if(typeof W.then=="function")return be(X,$B(W),se);if(W.$$typeof===T)return be(X,KB(X,W),se);jB(X,W)}return null}function oe(X,W,se,ye){var We=W!==null?W.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return We!==null?null:O(X,W,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return se.key===We?j(X,W,se,ye):null;case b:return se.key===We?ae(X,W,se,ye):null;case H:return se=bf(se),oe(X,W,se,ye)}if(J(se)||z(se))return We!==null?null:ge(X,W,se,ye,null);if(typeof se.then=="function")return oe(X,W,$B(se),ye);if(se.$$typeof===T)return oe(X,W,KB(X,se),ye);jB(X,se)}return null}function le(X,W,se,ye,We){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return X=X.get(se)||null,O(W,X,""+ye,We);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return X=X.get(ye.key===null?se:ye.key)||null,j(W,X,ye,We);case b:return X=X.get(ye.key===null?se:ye.key)||null,ae(W,X,ye,We);case H:return ye=bf(ye),le(X,W,se,ye,We)}if(J(ye)||z(ye))return X=X.get(se)||null,ge(W,X,ye,We,null);if(typeof ye.then=="function")return le(X,W,se,$B(ye),We);if(ye.$$typeof===T)return le(X,W,se,KB(W,ye),We);jB(W,ye)}return null}function He(X,W,se,ye){for(var We=null,Lt=null,Ge=W,ct=W=0,Ct=null;Ge!==null&&ct<se.length;ct++){Ge.index>ct?(Ct=Ge,Ge=null):Ct=Ge.sibling;var Qt=oe(X,Ge,se[ct],ye);if(Qt===null){Ge===null&&(Ge=Ct);break}A&&Ge&&Qt.alternate===null&&c(X,Ge),W=x(Qt,W,ct),Lt===null?We=Qt:Lt.sibling=Qt,Lt=Qt,Ge=Ct}if(ct===se.length)return p(X,Ge),xt&&jA(X,ct),We;if(Ge===null){for(;ct<se.length;ct++)Ge=be(X,se[ct],ye),Ge!==null&&(W=x(Ge,W,ct),Lt===null?We=Ge:Lt.sibling=Ge,Lt=Ge);return xt&&jA(X,ct),We}for(Ge=m(Ge);ct<se.length;ct++)Ct=le(Ge,X,ct,se[ct],ye),Ct!==null&&(A&&Ct.alternate!==null&&Ge.delete(Ct.key===null?ct:Ct.key),W=x(Ct,W,ct),Lt===null?We=Ct:Lt.sibling=Ct,Lt=Ct);return A&&Ge.forEach(function(wc){return c(X,wc)}),xt&&jA(X,ct),We}function Xe(X,W,se,ye){if(se==null)throw Error(r(151));for(var We=null,Lt=null,Ge=W,ct=W=0,Ct=null,Qt=se.next();Ge!==null&&!Qt.done;ct++,Qt=se.next()){Ge.index>ct?(Ct=Ge,Ge=null):Ct=Ge.sibling;var wc=oe(X,Ge,Qt.value,ye);if(wc===null){Ge===null&&(Ge=Ct);break}A&&Ge&&wc.alternate===null&&c(X,Ge),W=x(wc,W,ct),Lt===null?We=wc:Lt.sibling=wc,Lt=wc,Ge=Ct}if(Qt.done)return p(X,Ge),xt&&jA(X,ct),We;if(Ge===null){for(;!Qt.done;ct++,Qt=se.next())Qt=be(X,Qt.value,ye),Qt!==null&&(W=x(Qt,W,ct),Lt===null?We=Qt:Lt.sibling=Qt,Lt=Qt);return xt&&jA(X,ct),We}for(Ge=m(Ge);!Qt.done;ct++,Qt=se.next())Qt=le(Ge,X,ct,Qt.value,ye),Qt!==null&&(A&&Qt.alternate!==null&&Ge.delete(Qt.key===null?ct:Qt.key),W=x(Qt,W,ct),Lt===null?We=Qt:Lt.sibling=Qt,Lt=Qt);return A&&Ge.forEach(function(Are){return c(X,Are)}),xt&&jA(X,ct),We}function an(X,W,se,ye){if(typeof se=="object"&&se!==null&&se.type===C&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case v:e:{for(var We=se.key;W!==null;){if(W.key===We){if(We=se.type,We===C){if(W.tag===7){p(X,W.sibling),ye=E(W,se.props.children),ye.return=X,X=ye;break e}}else if(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===H&&bf(We)===W.type){p(X,W.sibling),ye=E(W,se.props),n0(ye,se),ye.return=X,X=ye;break e}p(X,W);break}else c(X,W);W=W.sibling}se.type===C?(ye=gf(se.props.children,X.mode,ye,se.key),ye.return=X,X=ye):(ye=OB(se.type,se.key,se.props,null,X.mode,ye),n0(ye,se),ye.return=X,X=ye)}return N(X);case b:e:{for(We=se.key;W!==null;){if(W.key===We)if(W.tag===4&&W.stateNode.containerInfo===se.containerInfo&&W.stateNode.implementation===se.implementation){p(X,W.sibling),ye=E(W,se.children||[]),ye.return=X,X=ye;break e}else{p(X,W);break}else c(X,W);W=W.sibling}ye=pF(se,X.mode,ye),ye.return=X,X=ye}return N(X);case H:return se=bf(se),an(X,W,se,ye)}if(J(se))return He(X,W,se,ye);if(z(se)){if(We=z(se),typeof We!="function")throw Error(r(150));return se=We.call(se),Xe(X,W,se,ye)}if(typeof se.then=="function")return an(X,W,$B(se),ye);if(se.$$typeof===T)return an(X,W,KB(X,se),ye);jB(X,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,W!==null&&W.tag===6?(p(X,W.sibling),ye=E(W,se),ye.return=X,X=ye):(p(X,W),ye=hF(se,X.mode,ye),ye.return=X,X=ye),N(X)):p(X,W)}return function(X,W,se,ye){try{t0=0;var We=an(X,W,se,ye);return rg=null,We}catch(Ge){if(Ge===ng||Ge===zB)throw Ge;var Lt=Rs(29,Ge,null,X.mode);return Lt.lanes=ye,Lt.return=X,Lt}finally{}}}var Ef=G2(!0),z2=G2(!1),rc=!1;function _F(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function TF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function ic(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function sc(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(Vt&2)!==0){var E=m.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),m.pending=c,c=kB(A),T2(A,null,p),c}return QB(A,m,c,p),kB(A)}function r0(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,kp(A,p)}}function IF(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var E=null,x=null;if(p=p.firstBaseUpdate,p!==null){do{var N={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};x===null?E=x=N:x=x.next=N,p=p.next}while(p!==null);x===null?E=x=c:x=x.next=c}else E=x=c;p={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var FF=!1;function i0(){if(FF){var A=tg;if(A!==null)throw A}}function s0(A,c,p,m){FF=!1;var E=A.updateQueue;rc=!1;var x=E.firstBaseUpdate,N=E.lastBaseUpdate,O=E.shared.pending;if(O!==null){E.shared.pending=null;var j=O,ae=j.next;j.next=null,N===null?x=ae:N.next=ae,N=j;var ge=A.alternate;ge!==null&&(ge=ge.updateQueue,O=ge.lastBaseUpdate,O!==N&&(O===null?ge.firstBaseUpdate=ae:O.next=ae,ge.lastBaseUpdate=j))}if(x!==null){var be=E.baseState;N=0,ge=ae=j=null,O=x;do{var oe=O.lane&-536870913,le=oe!==O.lane;if(le?(bt&oe)===oe:(m&oe)===oe){oe!==0&&oe===eg&&(FF=!0),ge!==null&&(ge=ge.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var He=A,Xe=O;oe=c;var an=p;switch(Xe.tag){case 1:if(He=Xe.payload,typeof He=="function"){be=He.call(an,be,oe);break e}be=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Xe.payload,oe=typeof He=="function"?He.call(an,be,oe):He,oe==null)break e;be=h({},be,oe);break e;case 2:rc=!0}}oe=O.callback,oe!==null&&(A.flags|=64,le&&(A.flags|=8192),le=E.callbacks,le===null?E.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ge===null?(ae=ge=le,j=be):ge=ge.next=le,N|=oe;if(O=O.next,O===null){if(O=E.shared.pending,O===null)break;le=O,O=le.next,le.next=null,E.lastBaseUpdate=le,E.shared.pending=null}}while(!0);ge===null&&(j=be),E.baseState=j,E.firstBaseUpdate=ae,E.lastBaseUpdate=ge,x===null&&(E.shared.lanes=0),uc|=N,A.lanes=N,A.memoizedState=be}}function q2(A,c){if(typeof A!="function")throw Error(r(191,A));A.call(c)}function $2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)q2(p[A],c)}var ig=q(null),WB=q(0);function j2(A,c){A=sl,Ae(WB,A),Ae(ig,c),sl=A|c.baseLanes}function MF(){Ae(WB,sl),Ae(ig,ig.current)}function UF(){sl=WB.current,Y(ig),Y(WB)}var Ds=q(null),Ta=null;function ac(A){var c=A.alternate;Ae(Ar,Ar.current&1),Ae(Ds,A),Ta===null&&(c===null||ig.current!==null||c.memoizedState!==null)&&(Ta=A)}function PF(A){Ae(Ar,Ar.current),Ae(Ds,A),Ta===null&&(Ta=A)}function W2(A){A.tag===22?(Ae(Ar,Ar.current),Ae(Ds,A),Ta===null&&(Ta=A)):oc()}function oc(){Ae(Ar,Ar.current),Ae(Ds,Ds.current)}function Ns(A){Y(Ds),Ta===A&&(Ta=null),Y(Ar)}var Ar=q(0);function YB(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||kM(p)||OM(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var XA=0,At=null,rn=null,Br=null,XB=!1,sg=!1,Bf=!1,JB=0,a0=0,ag=null,Jte=0;function Xn(){throw Error(r(321))}function RF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!Ps(A[p],c[p]))return!1;return!0}function DF(A,c,p,m,E,x){return XA=x,At=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=A===null||A.memoizedState===null?UH:YF,Bf=!1,x=p(m,E),Bf=!1,sg&&(x=X2(c,p,m,E)),Y2(A),x}function Y2(A){V.H=l0;var c=rn!==null&&rn.next!==null;if(XA=0,Br=rn=At=null,XB=!1,a0=0,ag=null,c)throw Error(r(300));A===null||Sr||(A=A.dependencies,A!==null&&VB(A)&&(Sr=!0))}function X2(A,c,p,m){At=A;var E=0;do{if(sg&&(ag=null),a0=0,sg=!1,25<=E)throw Error(r(301));if(E+=1,Br=rn=null,A.updateQueue!=null){var x=A.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}V.H=PH,x=c(p,m)}while(sg);return x}function Zte(){var A=V.H,c=A.useState()[0];return c=typeof c.then=="function"?o0(c):c,A=A.useState()[0],(rn!==null?rn.memoizedState:null)!==A&&(At.flags|=1024),c}function NF(){var A=JB!==0;return JB=0,A}function LF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function QF(A){if(XB){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}XB=!1}XA=0,Br=rn=At=null,sg=!1,a0=JB=0,ag=null}function qi(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?At.memoizedState=Br=A:Br=Br.next=A,Br}function lr(){if(rn===null){var A=At.alternate;A=A!==null?A.memoizedState:null}else A=rn.next;var c=Br===null?At.memoizedState:Br.next;if(c!==null)Br=c,rn=A;else{if(A===null)throw At.alternate===null?Error(r(467)):Error(r(310));rn=A,A={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},Br===null?At.memoizedState=Br=A:Br=Br.next=A}return Br}function ZB(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function o0(A){var c=a0;return a0+=1,ag===null&&(ag=[]),A=H2(ag,A,c),c=At,(Br===null?c.memoizedState:Br.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?UH:YF),A}function eS(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return o0(A);if(A.$$typeof===T)return ui(A)}throw Error(r(438,String(A)))}function kF(A){var c=null,p=At.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=At.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=ZB(),At.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=K;return c.index++,p}function JA(A,c){return typeof c=="function"?c(A):c}function tS(A){var c=lr();return OF(c,rn,A)}function OF(A,c,p){var m=A.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=p;var E=A.baseQueue,x=m.pending;if(x!==null){if(E!==null){var N=E.next;E.next=x.next,x.next=N}c.baseQueue=E=x,m.pending=null}if(x=A.baseState,E===null)A.memoizedState=x;else{c=E.next;var O=N=null,j=null,ae=c,ge=!1;do{var be=ae.lane&-536870913;if(be!==ae.lane?(bt&be)===be:(XA&be)===be){var oe=ae.revertLane;if(oe===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),be===eg&&(ge=!0);else if((XA&oe)===oe){ae=ae.next,oe===eg&&(ge=!0);continue}else be={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},j===null?(O=j=be,N=x):j=j.next=be,At.lanes|=oe,uc|=oe;be=ae.action,Bf&&p(x,be),x=ae.hasEagerState?ae.eagerState:p(x,be)}else oe={lane:be,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},j===null?(O=j=oe,N=x):j=j.next=oe,At.lanes|=be,uc|=be;ae=ae.next}while(ae!==null&&ae!==c);if(j===null?N=x:j.next=O,!Ps(x,A.memoizedState)&&(Sr=!0,ge&&(p=tg,p!==null)))throw p;A.memoizedState=x,A.baseState=N,A.baseQueue=j,m.lastRenderedState=x}return E===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function HF(A){var c=lr(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=A;var m=p.dispatch,E=p.pending,x=c.memoizedState;if(E!==null){p.pending=null;var N=E=E.next;do x=A(x,N.action),N=N.next;while(N!==E);Ps(x,c.memoizedState)||(Sr=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),p.lastRenderedState=x}return[x,m]}function J2(A,c,p){var m=At,E=lr(),x=xt;if(x){if(p===void 0)throw Error(r(407));p=p()}else p=c();var N=!Ps((rn||E).memoizedState,p);if(N&&(E.memoizedState=p,Sr=!0),E=E.queue,GF(tH.bind(null,m,E,A),[A]),E.getSnapshot!==c||N||Br!==null&&Br.memoizedState.tag&1){if(m.flags|=2048,og(9,{destroy:void 0},eH.bind(null,m,E,p,c),null),mn===null)throw Error(r(349));x||(XA&127)!==0||Z2(m,c,p)}return p}function Z2(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=At.updateQueue,c===null?(c=ZB(),At.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function eH(A,c,p,m){c.value=p,c.getSnapshot=m,nH(c)&&rH(A)}function tH(A,c,p){return p(function(){nH(c)&&rH(A)})}function nH(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!Ps(A,p)}catch{return!0}}function rH(A){var c=pf(A,2);c!==null&&fs(c,A,2)}function VF(A){var c=qi();if(typeof A=="function"){var p=A;if(A=p(),Bf){or(!0);try{p()}finally{or(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JA,lastRenderedState:A},c}function iH(A,c,p,m){return A.baseState=p,OF(A,rn,typeof m=="function"?m:JA)}function ene(A,c,p,m,E){if(iS(A))throw Error(r(485));if(A=c.action,A!==null){var x={payload:E,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};V.T!==null?p(!0):x.isTransition=!1,m(x),p=c.pending,p===null?(x.next=c.pending=x,sH(c,x)):(x.next=p.next,c.pending=p.next=x)}}function sH(A,c){var p=c.action,m=c.payload,E=A.state;if(c.isTransition){var x=V.T,N={};V.T=N;try{var O=p(E,m),j=V.S;j!==null&&j(N,O),aH(A,c,O)}catch(ae){KF(A,c,ae)}finally{x!==null&&N.types!==null&&(x.types=N.types),V.T=x}}else try{x=p(E,m),aH(A,c,x)}catch(ae){KF(A,c,ae)}}function aH(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){oH(A,c,m)},function(m){return KF(A,c,m)}):oH(A,c,p)}function oH(A,c,p){c.status="fulfilled",c.value=p,AH(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,sH(A,p)))}function KF(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,AH(c),c=c.next;while(c!==m)}A.action=null}function AH(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function lH(A,c){return c}function uH(A,c){if(xt){var p=mn.formState;if(p!==null){e:{var m=At;if(xt){if(Pn){t:{for(var E=Pn,x=_a;E.nodeType!==8;){if(!x){E=null;break t}if(E=Ia(E.nextSibling),E===null){E=null;break t}}x=E.data,E=x==="F!"||x==="F"?E:null}if(E){Pn=Ia(E.nextSibling),m=E.data==="F!";break e}}tc(m)}m=!1}m&&(c=p[0])}}return p=qi(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lH,lastRenderedState:c},p.queue=m,p=IH.bind(null,At,m),m.dispatch=p,m=VF(!1),x=WF.bind(null,At,!1,m.queue),m=qi(),E={state:c,dispatch:null,action:A,pending:null},m.queue=E,p=ene.bind(null,At,E,x,p),E.dispatch=p,m.memoizedState=A,[c,p,!1]}function cH(A){var c=lr();return dH(c,rn,A)}function dH(A,c,p){if(c=OF(A,c,lH)[0],A=tS(JA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=o0(c)}catch(N){throw N===ng?zB:N}else m=c;c=lr();var E=c.queue,x=E.dispatch;return p!==c.memoizedState&&(At.flags|=2048,og(9,{destroy:void 0},tne.bind(null,E,p),null)),[m,x,A]}function tne(A,c){A.action=c}function fH(A){var c=lr(),p=rn;if(p!==null)return dH(c,p,A);lr(),c=c.memoizedState,p=lr();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function og(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=At.updateQueue,c===null&&(c=ZB(),At.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function hH(){return lr().memoizedState}function nS(A,c,p,m){var E=qi();At.flags|=A,E.memoizedState=og(1|c,{destroy:void 0},p,m===void 0?null:m)}function rS(A,c,p,m){var E=lr();m=m===void 0?null:m;var x=E.memoizedState.inst;rn!==null&&m!==null&&RF(m,rn.memoizedState.deps)?E.memoizedState=og(c,x,p,m):(At.flags|=A,E.memoizedState=og(1|c,x,p,m))}function pH(A,c){nS(8390656,8,A,c)}function GF(A,c){rS(2048,8,A,c)}function nne(A){At.flags|=4;var c=At.updateQueue;if(c===null)c=ZB(),At.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function gH(A){var c=lr().memoizedState;return nne({ref:c,nextImpl:A}),function(){if((Vt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function mH(A,c){return rS(4,2,A,c)}function vH(A,c){return rS(4,4,A,c)}function yH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function wH(A,c,p){p=p!=null?p.concat([A]):null,rS(4,4,yH.bind(null,c,A),p)}function zF(){}function bH(A,c){var p=lr();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&RF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function CH(A,c){var p=lr();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&RF(c,m[1]))return m[0];if(m=A(),Bf){or(!0);try{A()}finally{or(!1)}}return p.memoizedState=[m,c],m}function qF(A,c,p){return p===void 0||(XA&1073741824)!==0&&(bt&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=E4(),At.lanes|=A,uc|=A,p)}function EH(A,c,p,m){return Ps(p,c)?p:ig.current!==null?(A=qF(A,p,m),Ps(A,c)||(Sr=!0),A):(XA&42)===0||(XA&1073741824)!==0&&(bt&261930)===0?(Sr=!0,A.memoizedState=p):(A=E4(),At.lanes|=A,uc|=A,c)}function BH(A,c,p,m,E){var x=$.p;$.p=x!==0&&8>x?x:8;var N=V.T,O={};V.T=O,WF(A,!1,c,p);try{var j=E(),ae=V.S;if(ae!==null&&ae(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ge=Xte(j,m);A0(A,c,ge,ks(A))}else A0(A,c,m,ks(A))}catch(be){A0(A,c,{then:function(){},status:"rejected",reason:be},ks())}finally{$.p=x,N!==null&&O.types!==null&&(N.types=O.types),V.T=N}}function rne(){}function $F(A,c,p,m){if(A.tag!==5)throw Error(r(476));var E=SH(A).queue;BH(A,E,c,re,p===null?rne:function(){return xH(A),p(m)})}function SH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:JA,lastRenderedState:re},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:JA,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function xH(A){var c=SH(A);c.next===null&&(c=A.alternate.memoizedState),A0(A,c.next.queue,{},ks())}function jF(){return ui(S0)}function _H(){return lr().memoizedState}function TH(){return lr().memoizedState}function ine(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=ks();A=ic(p);var m=sc(c,A,p);m!==null&&(fs(m,c,p),r0(m,c,p)),c={cache:EF()},A.payload=c;return}c=c.return}}function sne(A,c,p){var m=ks();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},iS(A)?FH(c,p):(p=dF(A,c,p,m),p!==null&&(fs(p,A,m),MH(p,c,m)))}function IH(A,c,p){var m=ks();A0(A,c,p,m)}function A0(A,c,p,m){var E={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(iS(A))FH(c,E);else{var x=A.alternate;if(A.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var N=c.lastRenderedState,O=x(N,p);if(E.hasEagerState=!0,E.eagerState=O,Ps(O,N))return QB(A,c,E,0),mn===null&&LB(),!1}catch{}finally{}if(p=dF(A,c,E,m),p!==null)return fs(p,A,m),MH(p,c,m),!0}return!1}function WF(A,c,p,m){if(m={lane:2,revertLane:_M(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},iS(A)){if(c)throw Error(r(479))}else c=dF(A,p,m,2),c!==null&&fs(c,A,2)}function iS(A){var c=A.alternate;return A===At||c!==null&&c===At}function FH(A,c){sg=XB=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function MH(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,kp(A,p)}}var l0={readContext:ui,use:eS,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useLayoutEffect:Xn,useInsertionEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useSyncExternalStore:Xn,useId:Xn,useHostTransitionStatus:Xn,useFormState:Xn,useActionState:Xn,useOptimistic:Xn,useMemoCache:Xn,useCacheRefresh:Xn};l0.useEffectEvent=Xn;var UH={readContext:ui,use:eS,useCallback:function(A,c){return qi().memoizedState=[A,c===void 0?null:c],A},useContext:ui,useEffect:pH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,nS(4194308,4,yH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return nS(4194308,4,A,c)},useInsertionEffect:function(A,c){nS(4,2,A,c)},useMemo:function(A,c){var p=qi();c=c===void 0?null:c;var m=A();if(Bf){or(!0);try{A()}finally{or(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=qi();if(p!==void 0){var E=p(c);if(Bf){or(!0);try{p(c)}finally{or(!1)}}}else E=c;return m.memoizedState=m.baseState=E,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:E},m.queue=A,A=A.dispatch=sne.bind(null,At,A),[m.memoizedState,A]},useRef:function(A){var c=qi();return A={current:A},c.memoizedState=A},useState:function(A){A=VF(A);var c=A.queue,p=IH.bind(null,At,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:zF,useDeferredValue:function(A,c){var p=qi();return qF(p,A,c)},useTransition:function(){var A=VF(!1);return A=BH.bind(null,At,A.queue,!0,!1),qi().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=At,E=qi();if(xt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),mn===null)throw Error(r(349));(bt&127)!==0||Z2(m,c,p)}E.memoizedState=p;var x={value:p,getSnapshot:c};return E.queue=x,pH(tH.bind(null,m,x,A),[A]),m.flags|=2048,og(9,{destroy:void 0},eH.bind(null,m,x,p,c),null),p},useId:function(){var A=qi(),c=mn.identifierPrefix;if(xt){var p=Wo,m=jo;p=(m&~(1<<32-wr(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=JB++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Jte++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:jF,useFormState:uH,useActionState:uH,useOptimistic:function(A){var c=qi();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=WF.bind(null,At,!0,p),p.dispatch=c,[A,c]},useMemoCache:kF,useCacheRefresh:function(){return qi().memoizedState=ine.bind(null,At)},useEffectEvent:function(A){var c=qi(),p={impl:A};return c.memoizedState=p,function(){if((Vt&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},YF={readContext:ui,use:eS,useCallback:bH,useContext:ui,useEffect:GF,useImperativeHandle:wH,useInsertionEffect:mH,useLayoutEffect:vH,useMemo:CH,useReducer:tS,useRef:hH,useState:function(){return tS(JA)},useDebugValue:zF,useDeferredValue:function(A,c){var p=lr();return EH(p,rn.memoizedState,A,c)},useTransition:function(){var A=tS(JA)[0],c=lr().memoizedState;return[typeof A=="boolean"?A:o0(A),c]},useSyncExternalStore:J2,useId:_H,useHostTransitionStatus:jF,useFormState:cH,useActionState:cH,useOptimistic:function(A,c){var p=lr();return iH(p,rn,A,c)},useMemoCache:kF,useCacheRefresh:TH};YF.useEffectEvent=gH;var PH={readContext:ui,use:eS,useCallback:bH,useContext:ui,useEffect:GF,useImperativeHandle:wH,useInsertionEffect:mH,useLayoutEffect:vH,useMemo:CH,useReducer:HF,useRef:hH,useState:function(){return HF(JA)},useDebugValue:zF,useDeferredValue:function(A,c){var p=lr();return rn===null?qF(p,A,c):EH(p,rn.memoizedState,A,c)},useTransition:function(){var A=HF(JA)[0],c=lr().memoizedState;return[typeof A=="boolean"?A:o0(A),c]},useSyncExternalStore:J2,useId:_H,useHostTransitionStatus:jF,useFormState:fH,useActionState:fH,useOptimistic:function(A,c){var p=lr();return rn!==null?iH(p,rn,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:kF,useCacheRefresh:TH};PH.useEffectEvent=gH;function XF(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var JF={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=ks(),E=ic(m);E.payload=c,p!=null&&(E.callback=p),c=sc(A,E,m),c!==null&&(fs(c,A,m),r0(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=ks(),E=ic(m);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=sc(A,E,m),c!==null&&(fs(c,A,m),r0(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=ks(),m=ic(p);m.tag=2,c!=null&&(m.callback=c),c=sc(A,m,p),c!==null&&(fs(c,A,p),r0(c,A,p))}};function RH(A,c,p,m,E,x,N){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,x,N):c.prototype&&c.prototype.isPureReactComponent?!Wy(p,m)||!Wy(E,x):!0}function DH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&JF.enqueueReplaceState(c,c.state,null)}function Sf(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var E in A)p[E]===void 0&&(p[E]=A[E])}return p}function NH(A){NB(A)}function LH(A){console.error(A)}function QH(A){NB(A)}function sS(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function kH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function ZF(A,c,p){return p=ic(p),p.tag=3,p.payload={element:null},p.callback=function(){sS(A,c)},p}function OH(A){return A=ic(A),A.tag=3,A}function HH(A,c,p,m){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var x=m.value;A.payload=function(){return E(x)},A.callback=function(){kH(c,p,m)}}var N=p.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){kH(c,p,m),typeof E!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function ane(A,c,p,m,E){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&Zp(c,p,E,!0),p=Ds.current,p!==null){switch(p.tag){case 31:case 13:return Ta===null?mS():p.alternate===null&&Jn===0&&(Jn=3),p.flags&=-257,p.flags|=65536,p.lanes=E,m===qB?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),BM(A,m,E)),!1;case 22:return p.flags|=65536,m===qB?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),BM(A,m,E)),!1}throw Error(r(435,p.tag))}return BM(A,m,E),mS(),!1}if(xt)return c=Ds.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,m!==vF&&(A=Error(r(422),{cause:m}),Jy(Ba(A,p)))):(m!==vF&&(c=Error(r(423),{cause:m}),Jy(Ba(c,p))),A=A.current.alternate,A.flags|=65536,E&=-E,A.lanes|=E,m=Ba(m,p),E=ZF(A.stateNode,m,E),IF(A,E),Jn!==4&&(Jn=2)),!1;var x=Error(r(520),{cause:m});if(x=Ba(x,p),m0===null?m0=[x]:m0.push(x),Jn!==4&&(Jn=2),c===null)return!0;m=Ba(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=E&-E,p.lanes|=A,A=ZF(p.stateNode,m,A),IF(p,A),!1;case 1:if(c=p.type,x=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(cc===null||!cc.has(x))))return p.flags|=65536,E&=-E,p.lanes|=E,E=OH(E),HH(E,A,p,m),IF(p,E),!1}p=p.return}while(p!==null);return!1}var eM=Error(r(461)),Sr=!1;function ci(A,c,p,m){c.child=A===null?z2(c,null,p,m):Ef(c,A.child,p,m)}function VH(A,c,p,m,E){p=p.render;var x=c.ref;if("ref"in m){var N={};for(var O in m)O!=="ref"&&(N[O]=m[O])}else N=m;return yf(c),m=DF(A,c,p,N,x,E),O=NF(),A!==null&&!Sr?(LF(A,c,E),ZA(A,c,E)):(xt&&O&&gF(c),c.flags|=1,ci(A,c,m,E),c.child)}function KH(A,c,p,m,E){if(A===null){var x=p.type;return typeof x=="function"&&!fF(x)&&x.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=x,GH(A,c,x,m,E)):(A=OB(p.type,null,m,c,c.mode,E),A.ref=c.ref,A.return=c,c.child=A)}if(x=A.child,!AM(A,E)){var N=x.memoizedProps;if(p=p.compare,p=p!==null?p:Wy,p(N,m)&&A.ref===c.ref)return ZA(A,c,E)}return c.flags|=1,A=$A(x,m),A.ref=c.ref,A.return=c,c.child=A}function GH(A,c,p,m,E){if(A!==null){var x=A.memoizedProps;if(Wy(x,m)&&A.ref===c.ref)if(Sr=!1,c.pendingProps=m=x,AM(A,E))(A.flags&131072)!==0&&(Sr=!0);else return c.lanes=A.lanes,ZA(A,c,E)}return tM(A,c,p,m,E)}function zH(A,c,p,m){var E=m.children,x=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|p:p,A!==null){for(m=c.child=A.child,E=0;m!==null;)E=E|m.lanes|m.childLanes,m=m.sibling;m=E&~x}else m=0,c.child=null;return qH(A,c,x,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&GB(c,x!==null?x.cachePool:null),x!==null?j2(c,x):MF(),W2(c);else return m=c.lanes=536870912,qH(A,c,x!==null?x.baseLanes|p:p,p,m)}else x!==null?(GB(c,x.cachePool),j2(c,x),oc(),c.memoizedState=null):(A!==null&&GB(c,null),MF(),oc());return ci(A,c,E,p),c.child}function u0(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function qH(A,c,p,m,E){var x=SF();return x=x===null?null:{parent:Er._currentValue,pool:x},c.memoizedState={baseLanes:p,cachePool:x},A!==null&&GB(c,null),MF(),W2(c),A!==null&&Zp(A,c,m,!0),c.childLanes=E,null}function aS(A,c){return c=AS({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function $H(A,c,p){return Ef(c,A.child,null,p),A=aS(c,c.pendingProps),A.flags|=2,Ns(c),c.memoizedState=null,A}function one(A,c,p){var m=c.pendingProps,E=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(xt){if(m.mode==="hidden")return A=aS(c,m),c.lanes=536870912,u0(null,A);if(PF(c),(A=Pn)?(A=sV(A,_a),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Zu!==null?{id:jo,overflow:Wo}:null,retryLane:536870912,hydrationErrors:null},p=F2(A),p.return=c,c.child=p,li=c,Pn=null)):A=null,A===null)throw tc(c);return c.lanes=536870912,null}return aS(c,m)}var x=A.memoizedState;if(x!==null){var N=x.dehydrated;if(PF(c),E)if(c.flags&256)c.flags&=-257,c=$H(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(r(558));else if(Sr||Zp(A,c,p,!1),E=(p&A.childLanes)!==0,Sr||E){if(m=mn,m!==null&&(N=Ii(m,p),N!==0&&N!==x.retryLane))throw x.retryLane=N,pf(A,N),fs(m,A,N),eM;mS(),c=$H(A,c,p)}else A=x.treeContext,Pn=Ia(N.nextSibling),li=c,xt=!0,ec=null,_a=!1,A!==null&&P2(c,A),c=aS(c,m),c.flags|=4096;return c}return A=$A(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function oS(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function tM(A,c,p,m,E){return yf(c),p=DF(A,c,p,m,void 0,E),m=NF(),A!==null&&!Sr?(LF(A,c,E),ZA(A,c,E)):(xt&&m&&gF(c),c.flags|=1,ci(A,c,p,E),c.child)}function jH(A,c,p,m,E,x){return yf(c),c.updateQueue=null,p=X2(c,m,p,E),Y2(A),m=NF(),A!==null&&!Sr?(LF(A,c,x),ZA(A,c,x)):(xt&&m&&gF(c),c.flags|=1,ci(A,c,p,x),c.child)}function WH(A,c,p,m,E){if(yf(c),c.stateNode===null){var x=Wp,N=p.contextType;typeof N=="object"&&N!==null&&(x=ui(N)),x=new p(m,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=JF,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=m,x.state=c.memoizedState,x.refs={},_F(c),N=p.contextType,x.context=typeof N=="object"&&N!==null?ui(N):Wp,x.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(XF(c,p,N,m),x.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&JF.enqueueReplaceState(x,x.state,null),s0(c,m,x,E),i0(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){x=c.stateNode;var O=c.memoizedProps,j=Sf(p,O);x.props=j;var ae=x.context,ge=p.contextType;N=Wp,typeof ge=="object"&&ge!==null&&(N=ui(ge));var be=p.getDerivedStateFromProps;ge=typeof be=="function"||typeof x.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,ge||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O||ae!==N)&&DH(c,x,m,N),rc=!1;var oe=c.memoizedState;x.state=oe,s0(c,m,x,E),i0(),ae=c.memoizedState,O||oe!==ae||rc?(typeof be=="function"&&(XF(c,p,be,m),ae=c.memoizedState),(j=rc||RH(c,p,j,m,oe,ae,N))?(ge||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ae),x.props=m,x.state=ae,x.context=N,m=j):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{x=c.stateNode,TF(A,c),N=c.memoizedProps,ge=Sf(p,N),x.props=ge,be=c.pendingProps,oe=x.context,ae=p.contextType,j=Wp,typeof ae=="object"&&ae!==null&&(j=ui(ae)),O=p.getDerivedStateFromProps,(ae=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==be||oe!==j)&&DH(c,x,m,j),rc=!1,oe=c.memoizedState,x.state=oe,s0(c,m,x,E),i0();var le=c.memoizedState;N!==be||oe!==le||rc||A!==null&&A.dependencies!==null&&VB(A.dependencies)?(typeof O=="function"&&(XF(c,p,O,m),le=c.memoizedState),(ge=rc||RH(c,p,ge,m,oe,le,j)||A!==null&&A.dependencies!==null&&VB(A.dependencies))?(ae||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,le,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,le,j)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===A.memoizedProps&&oe===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&oe===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=le),x.props=m,x.state=le,x.context=j,m=ge):(typeof x.componentDidUpdate!="function"||N===A.memoizedProps&&oe===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&oe===A.memoizedState||(c.flags|=1024),m=!1)}return x=m,oS(A,c),m=(c.flags&128)!==0,x||m?(x=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,A!==null&&m?(c.child=Ef(c,A.child,null,E),c.child=Ef(c,null,p,E)):ci(A,c,p,E),c.memoizedState=x.state,A=c.child):A=ZA(A,c,E),A}function YH(A,c,p,m){return mf(),c.flags|=256,ci(A,c,p,m),c.child}var nM={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rM(A){return{baseLanes:A,cachePool:k2()}}function iM(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=Qs),A}function XH(A,c,p){var m=c.pendingProps,E=!1,x=(c.flags&128)!==0,N;if((N=x)||(N=A!==null&&A.memoizedState===null?!1:(Ar.current&2)!==0),N&&(E=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,A===null){if(xt){if(E?ac(c):oc(),(A=Pn)?(A=sV(A,_a),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Zu!==null?{id:jo,overflow:Wo}:null,retryLane:536870912,hydrationErrors:null},p=F2(A),p.return=c,c.child=p,li=c,Pn=null)):A=null,A===null)throw tc(c);return OM(A)?c.lanes=32:c.lanes=536870912,null}var O=m.children;return m=m.fallback,E?(oc(),E=c.mode,O=AS({mode:"hidden",children:O},E),m=gf(m,E,p,null),O.return=c,m.return=c,O.sibling=m,c.child=O,m=c.child,m.memoizedState=rM(p),m.childLanes=iM(A,N,p),c.memoizedState=nM,u0(null,m)):(ac(c),sM(c,O))}var j=A.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(x)c.flags&256?(ac(c),c.flags&=-257,c=aM(A,c,p)):c.memoizedState!==null?(oc(),c.child=A.child,c.flags|=128,c=null):(oc(),O=m.fallback,E=c.mode,m=AS({mode:"visible",children:m.children},E),O=gf(O,E,p,null),O.flags|=2,m.return=c,O.return=c,m.sibling=O,c.child=m,Ef(c,A.child,null,p),m=c.child,m.memoizedState=rM(p),m.childLanes=iM(A,N,p),c.memoizedState=nM,c=u0(null,m));else if(ac(c),OM(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var ae=N.dgst;N=ae,m=Error(r(419)),m.stack="",m.digest=N,Jy({value:m,source:null,stack:null}),c=aM(A,c,p)}else if(Sr||Zp(A,c,p,!1),N=(p&A.childLanes)!==0,Sr||N){if(N=mn,N!==null&&(m=Ii(N,p),m!==0&&m!==j.retryLane))throw j.retryLane=m,pf(A,m),fs(N,A,m),eM;kM(O)||mS(),c=aM(A,c,p)}else kM(O)?(c.flags|=192,c.child=A.child,c=null):(A=j.treeContext,Pn=Ia(O.nextSibling),li=c,xt=!0,ec=null,_a=!1,A!==null&&P2(c,A),c=sM(c,m.children),c.flags|=4096);return c}return E?(oc(),O=m.fallback,E=c.mode,j=A.child,ae=j.sibling,m=$A(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,ae!==null?O=$A(ae,O):(O=gf(O,E,p,null),O.flags|=2),O.return=c,m.return=c,m.sibling=O,c.child=m,u0(null,m),m=c.child,O=A.child.memoizedState,O===null?O=rM(p):(E=O.cachePool,E!==null?(j=Er._currentValue,E=E.parent!==j?{parent:j,pool:j}:E):E=k2(),O={baseLanes:O.baseLanes|p,cachePool:E}),m.memoizedState=O,m.childLanes=iM(A,N,p),c.memoizedState=nM,u0(A.child,m)):(ac(c),p=A.child,A=p.sibling,p=$A(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(N=c.deletions,N===null?(c.deletions=[A],c.flags|=16):N.push(A)),c.child=p,c.memoizedState=null,p)}function sM(A,c){return c=AS({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function AS(A,c){return A=Rs(22,A,null,c),A.lanes=0,A}function aM(A,c,p){return Ef(c,A.child,null,p),A=sM(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function JH(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),bF(A.return,c,p)}function oM(A,c,p,m,E,x){var N=A.memoizedState;N===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:E,treeForkCount:x}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=p,N.tailMode=E,N.treeForkCount=x)}function ZH(A,c,p){var m=c.pendingProps,E=m.revealOrder,x=m.tail;m=m.children;var N=Ar.current,O=(N&2)!==0;if(O?(N=N&1|2,c.flags|=128):N&=1,Ae(Ar,N),ci(A,c,m,p),m=xt?Xy:0,!O&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&JH(A,p,c);else if(A.tag===19)JH(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(E){case"forwards":for(p=c.child,E=null;p!==null;)A=p.alternate,A!==null&&YB(A)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),oM(c,!1,E,p,x,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(A=E.alternate,A!==null&&YB(A)===null){c.child=E;break}A=E.sibling,E.sibling=p,p=E,E=A}oM(c,!0,p,null,x,m);break;case"together":oM(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function ZA(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),uc|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(Zp(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(r(153));if(c.child!==null){for(A=c.child,p=$A(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=$A(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function AM(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&VB(A)))}function Ane(A,c,p){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),nc(c,Er,A.memoizedState.cache),mf();break;case 27:case 5:Me(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:nc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,PF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(ac(c),c.flags|=128,null):(p&c.child.childLanes)!==0?XH(A,c,p):(ac(c),A=ZA(A,c,p),A!==null?A.sibling:null);ac(c);break;case 19:var E=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(Zp(A,c,p,!1),m=(p&c.childLanes)!==0),E){if(m)return ZH(A,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ae(Ar,Ar.current),m)break;return null;case 22:return c.lanes=0,zH(A,c,p,c.pendingProps);case 24:nc(c,Er,A.memoizedState.cache)}return ZA(A,c,p)}function e4(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)Sr=!0;else{if(!AM(A,p)&&(c.flags&128)===0)return Sr=!1,Ane(A,c,p);Sr=(A.flags&131072)!==0}else Sr=!1,xt&&(c.flags&1048576)!==0&&U2(c,Xy,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=bf(c.elementType),c.type=A,typeof A=="function")fF(A)?(m=Sf(A,m),c.tag=1,c=WH(null,c,A,m,p)):(c.tag=0,c=tM(null,c,A,m,p));else{if(A!=null){var E=A.$$typeof;if(E===R){c.tag=11,c=VH(null,c,A,m,p);break e}else if(E===L){c.tag=14,c=KH(null,c,A,m,p);break e}}throw c=ne(A)||A,Error(r(306,c,""))}}return c;case 0:return tM(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,E=Sf(m,c.pendingProps),WH(A,c,m,E,p);case 3:e:{if(Se(c,c.stateNode.containerInfo),A===null)throw Error(r(387));m=c.pendingProps;var x=c.memoizedState;E=x.element,TF(A,c),s0(c,m,null,p);var N=c.memoizedState;if(m=N.cache,nc(c,Er,m),m!==x.cache&&CF(c,[Er],p,!0),i0(),m=N.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=YH(A,c,m,p);break e}else if(m!==E){E=Ba(Error(r(424)),c),Jy(E),c=YH(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(Pn=Ia(A.firstChild),li=c,xt=!0,ec=null,_a=!0,p=z2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(mf(),m===E){c=ZA(A,c,p);break e}ci(A,c,m,p)}c=c.child}return c;case 26:return oS(A,c),A===null?(p=cV(c.type,null,c.pendingProps,null))?c.memoizedState=p:xt||(p=c.type,A=c.pendingProps,m=BS(he.current).createElement(p),m[br]=c,m[Fi]=A,di(m,p,A),Cr(m),c.stateNode=m):c.memoizedState=cV(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Me(c),A===null&&xt&&(m=c.stateNode=AV(c.type,c.pendingProps,he.current),li=c,_a=!0,E=Pn,pc(c.type)?(HM=E,Pn=Ia(m.firstChild)):Pn=E),ci(A,c,c.pendingProps.children,p),oS(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&xt&&((E=m=Pn)&&(m=Qne(m,c.type,c.pendingProps,_a),m!==null?(c.stateNode=m,li=c,Pn=Ia(m.firstChild),_a=!1,E=!0):E=!1),E||tc(c)),Me(c),E=c.type,x=c.pendingProps,N=A!==null?A.memoizedProps:null,m=x.children,NM(E,x)?m=null:N!==null&&NM(E,N)&&(c.flags|=32),c.memoizedState!==null&&(E=DF(A,c,Zte,null,null,p),S0._currentValue=E),oS(A,c),ci(A,c,m,p),c.child;case 6:return A===null&&xt&&((A=p=Pn)&&(p=kne(p,c.pendingProps,_a),p!==null?(c.stateNode=p,li=c,Pn=null,A=!0):A=!1),A||tc(c)),null;case 13:return XH(A,c,p);case 4:return Se(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=Ef(c,null,m,p):ci(A,c,m,p),c.child;case 11:return VH(A,c,c.type,c.pendingProps,p);case 7:return ci(A,c,c.pendingProps,p),c.child;case 8:return ci(A,c,c.pendingProps.children,p),c.child;case 12:return ci(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,nc(c,c.type,m.value),ci(A,c,m.children,p),c.child;case 9:return E=c.type._context,m=c.pendingProps.children,yf(c),E=ui(E),m=m(E),c.flags|=1,ci(A,c,m,p),c.child;case 14:return KH(A,c,c.type,c.pendingProps,p);case 15:return GH(A,c,c.type,c.pendingProps,p);case 19:return ZH(A,c,p);case 31:return one(A,c,p);case 22:return zH(A,c,p,c.pendingProps);case 24:return yf(c),m=ui(Er),A===null?(E=SF(),E===null&&(E=mn,x=EF(),E.pooledCache=x,x.refCount++,x!==null&&(E.pooledCacheLanes|=p),E=x),c.memoizedState={parent:m,cache:E},_F(c),nc(c,Er,E)):((A.lanes&p)!==0&&(TF(A,c),s0(c,null,null,p),i0()),E=A.memoizedState,x=c.memoizedState,E.parent!==m?(E={parent:m,cache:m},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),nc(c,Er,m)):(m=x.cache,nc(c,Er,m),m!==E.cache&&CF(c,[Er],p,!0))),ci(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function el(A){A.flags|=4}function lM(A,c,p,m,E){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(E&335544128)===E)if(A.stateNode.complete)A.flags|=8192;else if(_4())A.flags|=8192;else throw Cf=qB,xF}else A.flags&=-16777217}function t4(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!gV(c))if(_4())A.flags|=8192;else throw Cf=qB,xF}function lS(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?Gi():536870912,A.lanes|=c,cg|=c)}function c0(A,c){if(!xt)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function Rn(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var E=A.child;E!==null;)p|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=A,E=E.sibling;else for(E=A.child;E!==null;)p|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=A,E=E.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function lne(A,c,p){var m=c.pendingProps;switch(mF(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(c),null;case 1:return Rn(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),YA(Er),ee(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(Jp(c)?el(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,yF())),Rn(c),null;case 26:var E=c.type,x=c.memoizedState;return A===null?(el(c),x!==null?(Rn(c),t4(c,x)):(Rn(c),lM(c,E,null,m,p))):x?x!==A.memoizedState?(el(c),Rn(c),t4(c,x)):(Rn(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&el(c),Rn(c),lM(c,E,A,m,p)),null;case 27:if(Te(c),p=he.current,E=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&el(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Rn(c),null}A=me.current,Jp(c)?R2(c):(A=AV(E,m,p),c.stateNode=A,el(c))}return Rn(c),null;case 5:if(Te(c),E=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&el(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Rn(c),null}if(x=me.current,Jp(c))R2(c);else{var N=BS(he.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?N.createElement(E,{is:m.is}):N.createElement(E)}}x[br]=c,x[Fi]=m;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=x;e:switch(di(x,E,m),E){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&el(c)}}return Rn(c),lM(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&el(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(A=he.current,Jp(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,E=li,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}A[br]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||X4(A.nodeValue,p)),A||tc(c,!0)}else A=BS(A).createTextNode(m),A[br]=c,c.stateNode=A}return Rn(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=Jp(c),p!==null){if(A===null){if(!m)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(557));A[br]=c}else mf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Rn(c),A=!1}else p=yF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(Ns(c),c):(Ns(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Rn(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(E=Jp(c),m!==null&&m.dehydrated!==null){if(A===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[br]=c}else mf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Rn(c),E=!1}else E=yF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Ns(c),c):(Ns(c),null)}return Ns(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==E&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),lS(c,c.updateQueue),Rn(c),null);case 4:return ee(),A===null&&MM(c.stateNode.containerInfo),Rn(c),null;case 10:return YA(c.type),Rn(c),null;case 19:if(Y(Ar),m=c.memoizedState,m===null)return Rn(c),null;if(E=(c.flags&128)!==0,x=m.rendering,x===null)if(E)c0(m,!1);else{if(Jn!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(x=YB(A),x!==null){for(c.flags|=128,c0(m,!1),A=x.updateQueue,c.updateQueue=A,lS(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)I2(p,A),p=p.sibling;return Ae(Ar,Ar.current&1|2),xt&&jA(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&tn()>hS&&(c.flags|=128,E=!0,c0(m,!1),c.lanes=4194304)}else{if(!E)if(A=YB(x),A!==null){if(c.flags|=128,E=!0,A=A.updateQueue,c.updateQueue=A,lS(c,A),c0(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!xt)return Rn(c),null}else 2*tn()-m.renderingStartTime>hS&&p!==536870912&&(c.flags|=128,E=!0,c0(m,!1),c.lanes=4194304);m.isBackwards?(x.sibling=c.child,c.child=x):(A=m.last,A!==null?A.sibling=x:c.child=x,m.last=x)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=tn(),A.sibling=null,p=Ar.current,Ae(Ar,E?p&1|2:p&1),xt&&jA(c,m.treeForkCount),A):(Rn(c),null);case 22:case 23:return Ns(c),UF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(Rn(c),c.subtreeFlags&6&&(c.flags|=8192)):Rn(c),p=c.updateQueue,p!==null&&lS(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&Y(wf),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),YA(Er),Rn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function une(A,c){switch(mF(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return YA(Er),ee(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return Te(c),null;case 31:if(c.memoizedState!==null){if(Ns(c),c.alternate===null)throw Error(r(340));mf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(Ns(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(r(340));mf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return Y(Ar),null;case 4:return ee(),null;case 10:return YA(c.type),null;case 22:case 23:return Ns(c),UF(),A!==null&&Y(wf),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return YA(Er),null;case 25:return null;default:return null}}function n4(A,c){switch(mF(c),c.tag){case 3:YA(Er),ee();break;case 26:case 27:case 5:Te(c);break;case 4:ee();break;case 31:c.memoizedState!==null&&Ns(c);break;case 13:Ns(c);break;case 19:Y(Ar);break;case 10:YA(c.type);break;case 22:case 23:Ns(c),UF(),A!==null&&Y(wf);break;case 24:YA(Er)}}function d0(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var E=m.next;p=E;do{if((p.tag&A)===A){m=void 0;var x=p.create,N=p.inst;m=x(),N.destroy=m}p=p.next}while(p!==E)}}catch(O){Wt(c,c.return,O)}}function Ac(A,c,p){try{var m=c.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var x=E.next;m=x;do{if((m.tag&A)===A){var N=m.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,E=c;var j=p,ae=O;try{ae()}catch(ge){Wt(E,j,ge)}}}m=m.next}while(m!==x)}}catch(ge){Wt(c,c.return,ge)}}function r4(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{$2(c,p)}catch(m){Wt(A,A.return,m)}}}function i4(A,c,p){p.props=Sf(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){Wt(A,c,m)}}function f0(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(E){Wt(A,c,E)}}function Yo(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(E){Wt(A,c,E)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Wt(A,c,E)}else p.current=null}function s4(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(E){Wt(A,A.return,E)}}function uM(A,c,p){try{var m=A.stateNode;Une(m,A.type,p,c),m[Fi]=c}catch(E){Wt(A,A.return,E)}}function a4(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&pc(A.type)||A.tag===4}function cM(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||a4(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&pc(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function dM(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=zA));else if(m!==4&&(m===27&&pc(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for(dM(A,c,p),A=A.sibling;A!==null;)dM(A,c,p),A=A.sibling}function uS(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&pc(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(uS(A,c,p),A=A.sibling;A!==null;)uS(A,c,p),A=A.sibling}function o4(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);di(c,m,p),c[br]=A,c[Fi]=p}catch(x){Wt(A,A.return,x)}}var tl=!1,xr=!1,fM=!1,A4=typeof WeakSet=="function"?WeakSet:Set,$r=null;function cne(A,c){if(A=A.containerInfo,RM=MS,A=w2(A),aF(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var E=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{p.nodeType,x.nodeType}catch{p=null;break e}var N=0,O=-1,j=-1,ae=0,ge=0,be=A,oe=null;t:for(;;){for(var le;be!==p||E!==0&&be.nodeType!==3||(O=N+E),be!==x||m!==0&&be.nodeType!==3||(j=N+m),be.nodeType===3&&(N+=be.nodeValue.length),(le=be.firstChild)!==null;)oe=be,be=le;for(;;){if(be===A)break t;if(oe===p&&++ae===E&&(O=N),oe===x&&++ge===m&&(j=N),(le=be.nextSibling)!==null)break;be=oe,oe=be.parentNode}be=le}p=O===-1||j===-1?null:{start:O,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for(DM={focusedElem:A,selectionRange:p},MS=!1,$r=c;$r!==null;)if(c=$r,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,$r=A;else for(;$r!==null;){switch(c=$r,x=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)E=A[p],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&x!==null){A=void 0,p=c,E=x.memoizedProps,x=x.memoizedState,m=p.stateNode;try{var He=Sf(p.type,E);A=m.getSnapshotBeforeUpdate(He,x),m.__reactInternalSnapshotBeforeUpdate=A}catch(Xe){Wt(p,p.return,Xe)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)QM(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":QM(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(r(163))}if(A=c.sibling,A!==null){A.return=c.return,$r=A;break}$r=c.return}}function l4(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:rl(A,p),m&4&&d0(5,p);break;case 1:if(rl(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(N){Wt(p,p.return,N)}else{var E=Sf(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(E,c,A.__reactInternalSnapshotBeforeUpdate)}catch(N){Wt(p,p.return,N)}}m&64&&r4(p),m&512&&f0(p,p.return);break;case 3:if(rl(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{$2(A,c)}catch(N){Wt(p,p.return,N)}}break;case 27:c===null&&m&4&&o4(p);case 26:case 5:rl(A,p),c===null&&m&4&&s4(p),m&512&&f0(p,p.return);break;case 12:rl(A,p);break;case 31:rl(A,p),m&4&&d4(A,p);break;case 13:rl(A,p),m&4&&f4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=wne.bind(null,p),One(A,p))));break;case 22:if(m=p.memoizedState!==null||tl,!m){c=c!==null&&c.memoizedState!==null||xr,E=tl;var x=xr;tl=m,(xr=c)&&!x?il(A,p,(p.subtreeFlags&8772)!==0):rl(A,p),tl=E,xr=x}break;case 30:break;default:rl(A,p)}}function u4(A){var c=A.alternate;c!==null&&(A.alternate=null,u4(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&Hy(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var kn=null,ls=!1;function nl(A,c,p){for(p=p.child;p!==null;)c4(A,c,p),p=p.sibling}function c4(A,c,p){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Bn,p)}catch{}switch(p.tag){case 26:xr||Yo(p,c),nl(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:xr||Yo(p,c);var m=kn,E=ls;pc(p.type)&&(kn=p.stateNode,ls=!1),nl(A,c,p),C0(p.stateNode),kn=m,ls=E;break;case 5:xr||Yo(p,c);case 6:if(m=kn,E=ls,kn=null,nl(A,c,p),kn=m,ls=E,kn!==null)if(ls)try{(kn.nodeType===9?kn.body:kn.nodeName==="HTML"?kn.ownerDocument.body:kn).removeChild(p.stateNode)}catch(x){Wt(p,c,x)}else try{kn.removeChild(p.stateNode)}catch(x){Wt(p,c,x)}break;case 18:kn!==null&&(ls?(A=kn,rV(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),yg(A)):rV(kn,p.stateNode));break;case 4:m=kn,E=ls,kn=p.stateNode.containerInfo,ls=!0,nl(A,c,p),kn=m,ls=E;break;case 0:case 11:case 14:case 15:Ac(2,p,c),xr||Ac(4,p,c),nl(A,c,p);break;case 1:xr||(Yo(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&i4(p,c,m)),nl(A,c,p);break;case 21:nl(A,c,p);break;case 22:xr=(m=xr)||p.memoizedState!==null,nl(A,c,p),xr=m;break;default:nl(A,c,p)}}function d4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{yg(A)}catch(p){Wt(c,c.return,p)}}}function f4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{yg(A)}catch(p){Wt(c,c.return,p)}}function dne(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new A4),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new A4),c;default:throw Error(r(435,A.tag))}}function cS(A,c){var p=dne(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var E=bne.bind(null,A,m);m.then(E,E)}})}function us(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var E=p[m],x=A,N=c,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(pc(O.type)){kn=O.stateNode,ls=!1;break e}break;case 5:kn=O.stateNode,ls=!1;break e;case 3:case 4:kn=O.stateNode.containerInfo,ls=!0;break e}O=O.return}if(kn===null)throw Error(r(160));c4(x,N,E),kn=null,ls=!1,x=E.alternate,x!==null&&(x.return=null),E.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)h4(c,A),c=c.sibling}var po=null;function h4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:us(c,A),cs(A),m&4&&(Ac(3,A,A.return),d0(3,A),Ac(5,A,A.return));break;case 1:us(c,A),cs(A),m&512&&(xr||p===null||Yo(p,p.return)),m&64&&tl&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var E=po;if(us(c,A),cs(A),m&512&&(xr||p===null||Yo(p,p.return)),m&4){var x=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":x=E.getElementsByTagName("title")[0],(!x||x[$u]||x[br]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=E.createElement(m),E.head.insertBefore(x,E.querySelector("head > title"))),di(x,m,p),x[br]=A,Cr(x),m=x;break e;case"link":var N=hV("link","href",E).get(m+(p.href||""));if(N){for(var O=0;O<N.length;O++)if(x=N[O],x.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&x.getAttribute("rel")===(p.rel==null?null:p.rel)&&x.getAttribute("title")===(p.title==null?null:p.title)&&x.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){N.splice(O,1);break t}}x=E.createElement(m),di(x,m,p),E.head.appendChild(x);break;case"meta":if(N=hV("meta","content",E).get(m+(p.content||""))){for(O=0;O<N.length;O++)if(x=N[O],x.getAttribute("content")===(p.content==null?null:""+p.content)&&x.getAttribute("name")===(p.name==null?null:p.name)&&x.getAttribute("property")===(p.property==null?null:p.property)&&x.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&x.getAttribute("charset")===(p.charSet==null?null:p.charSet)){N.splice(O,1);break t}}x=E.createElement(m),di(x,m,p),E.head.appendChild(x);break;default:throw Error(r(468,m))}x[br]=A,Cr(x),m=x}A.stateNode=m}else pV(E,A.type,A.stateNode);else A.stateNode=fV(E,m,A.memoizedProps);else x!==m?(x===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):x.count--,m===null?pV(E,A.type,A.stateNode):fV(E,m,A.memoizedProps)):m===null&&A.stateNode!==null&&uM(A,A.memoizedProps,p.memoizedProps)}break;case 27:us(c,A),cs(A),m&512&&(xr||p===null||Yo(p,p.return)),p!==null&&m&4&&uM(A,A.memoizedProps,p.memoizedProps);break;case 5:if(us(c,A),cs(A),m&512&&(xr||p===null||Yo(p,p.return)),A.flags&32){E=A.stateNode;try{Vp(E,"")}catch(He){Wt(A,A.return,He)}}m&4&&A.stateNode!=null&&(E=A.memoizedProps,uM(A,E,p!==null?p.memoizedProps:E)),m&1024&&(fM=!0);break;case 6:if(us(c,A),cs(A),m&4){if(A.stateNode===null)throw Error(r(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(He){Wt(A,A.return,He)}}break;case 3:if(_S=null,E=po,po=SS(c.containerInfo),us(c,A),po=E,cs(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{yg(c.containerInfo)}catch(He){Wt(A,A.return,He)}fM&&(fM=!1,p4(A));break;case 4:m=po,po=SS(A.stateNode.containerInfo),us(c,A),cs(A),po=m;break;case 12:us(c,A),cs(A);break;case 31:us(c,A),cs(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,cS(A,m)));break;case 13:us(c,A),cs(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(fS=tn()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,cS(A,m)));break;case 22:E=A.memoizedState!==null;var j=p!==null&&p.memoizedState!==null,ae=tl,ge=xr;if(tl=ae||E,xr=ge||j,us(c,A),xr=ge,tl=ae,cs(A),m&8192)e:for(c=A.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||j||tl||xr||xf(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){j=p=c;try{if(x=j.stateNode,E)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=j.stateNode;var be=j.memoizedProps.style,oe=be!=null&&be.hasOwnProperty("display")?be.display:null;O.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(He){Wt(j,j.return,He)}}}else if(c.tag===6){if(p===null){j=c;try{j.stateNode.nodeValue=E?"":j.memoizedProps}catch(He){Wt(j,j.return,He)}}}else if(c.tag===18){if(p===null){j=c;try{var le=j.stateNode;E?iV(le,!0):iV(j.stateNode,!1)}catch(He){Wt(j,j.return,He)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,cS(A,p))));break;case 19:us(c,A),cs(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,cS(A,m)));break;case 30:break;case 21:break;default:us(c,A),cs(A)}}function cs(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if(a4(m)){p=m;break}m=m.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,x=cM(A);uS(A,x,E);break;case 5:var N=p.stateNode;p.flags&32&&(Vp(N,""),p.flags&=-33);var O=cM(A);uS(A,O,N);break;case 3:case 4:var j=p.stateNode.containerInfo,ae=cM(A);dM(A,ae,j);break;default:throw Error(r(161))}}catch(ge){Wt(A,A.return,ge)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function p4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;p4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function rl(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)l4(A,c.alternate,c),c=c.sibling}function xf(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:Ac(4,c,c.return),xf(c);break;case 1:Yo(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&i4(c,c.return,p),xf(c);break;case 27:C0(c.stateNode);case 26:case 5:Yo(c,c.return),xf(c);break;case 22:c.memoizedState===null&&xf(c);break;case 30:xf(c);break;default:xf(c)}A=A.sibling}}function il(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,E=A,x=c,N=x.flags;switch(x.tag){case 0:case 11:case 15:il(E,x,p),d0(4,x);break;case 1:if(il(E,x,p),m=x,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ae){Wt(m,m.return,ae)}if(m=x,E=m.updateQueue,E!==null){var O=m.stateNode;try{var j=E.shared.hiddenCallbacks;if(j!==null)for(E.shared.hiddenCallbacks=null,E=0;E<j.length;E++)q2(j[E],O)}catch(ae){Wt(m,m.return,ae)}}p&&N&64&&r4(x),f0(x,x.return);break;case 27:o4(x);case 26:case 5:il(E,x,p),p&&m===null&&N&4&&s4(x),f0(x,x.return);break;case 12:il(E,x,p);break;case 31:il(E,x,p),p&&N&4&&d4(E,x);break;case 13:il(E,x,p),p&&N&4&&f4(E,x);break;case 22:x.memoizedState===null&&il(E,x,p),f0(x,x.return);break;case 30:break;default:il(E,x,p)}c=c.sibling}}function hM(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&Zy(p))}function pM(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Zy(A))}function go(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)g4(A,c,p,m),c=c.sibling}function g4(A,c,p,m){var E=c.flags;switch(c.tag){case 0:case 11:case 15:go(A,c,p,m),E&2048&&d0(9,c);break;case 1:go(A,c,p,m);break;case 3:go(A,c,p,m),E&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Zy(A)));break;case 12:if(E&2048){go(A,c,p,m),A=c.stateNode;try{var x=c.memoizedProps,N=x.id,O=x.onPostCommit;typeof O=="function"&&O(N,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(j){Wt(c,c.return,j)}}else go(A,c,p,m);break;case 31:go(A,c,p,m);break;case 13:go(A,c,p,m);break;case 23:break;case 22:x=c.stateNode,N=c.alternate,c.memoizedState!==null?x._visibility&2?go(A,c,p,m):h0(A,c):x._visibility&2?go(A,c,p,m):(x._visibility|=2,Ag(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),E&2048&&hM(N,c);break;case 24:go(A,c,p,m),E&2048&&pM(c.alternate,c);break;default:go(A,c,p,m)}}function Ag(A,c,p,m,E){for(E=E&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=A,N=c,O=p,j=m,ae=N.flags;switch(N.tag){case 0:case 11:case 15:Ag(x,N,O,j,E),d0(8,N);break;case 23:break;case 22:var ge=N.stateNode;N.memoizedState!==null?ge._visibility&2?Ag(x,N,O,j,E):h0(x,N):(ge._visibility|=2,Ag(x,N,O,j,E)),E&&ae&2048&&hM(N.alternate,N);break;case 24:Ag(x,N,O,j,E),E&&ae&2048&&pM(N.alternate,N);break;default:Ag(x,N,O,j,E)}c=c.sibling}}function h0(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,E=m.flags;switch(m.tag){case 22:h0(p,m),E&2048&&hM(m.alternate,m);break;case 24:h0(p,m),E&2048&&pM(m.alternate,m);break;default:h0(p,m)}c=c.sibling}}var p0=8192;function lg(A,c,p){if(A.subtreeFlags&p0)for(A=A.child;A!==null;)m4(A,c,p),A=A.sibling}function m4(A,c,p){switch(A.tag){case 26:lg(A,c,p),A.flags&p0&&A.memoizedState!==null&&Jne(p,po,A.memoizedState,A.memoizedProps);break;case 5:lg(A,c,p);break;case 3:case 4:var m=po;po=SS(A.stateNode.containerInfo),lg(A,c,p),po=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=p0,p0=16777216,lg(A,c,p),p0=m):lg(A,c,p));break;default:lg(A,c,p)}}function v4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function g0(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];$r=m,w4(m,A)}v4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)y4(A),A=A.sibling}function y4(A){switch(A.tag){case 0:case 11:case 15:g0(A),A.flags&2048&&Ac(9,A,A.return);break;case 3:g0(A);break;case 12:g0(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,dS(A)):g0(A);break;default:g0(A)}}function dS(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];$r=m,w4(m,A)}v4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:Ac(8,c,c.return),dS(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,dS(c));break;default:dS(c)}A=A.sibling}}function w4(A,c){for(;$r!==null;){var p=$r;switch(p.tag){case 0:case 11:case 15:Ac(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Zy(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,$r=m;else e:for(p=A;$r!==null;){m=$r;var E=m.sibling,x=m.return;if(u4(m),m===p){$r=null;break e}if(E!==null){E.return=x,$r=E;break e}$r=x}}}var fne={getCacheForType:function(A){var c=ui(Er),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return ui(Er).controller.signal}},hne=typeof WeakMap=="function"?WeakMap:Map,Vt=0,mn=null,yt=null,bt=0,jt=0,Ls=null,lc=!1,ug=!1,gM=!1,sl=0,Jn=0,uc=0,_f=0,mM=0,Qs=0,cg=0,m0=null,ds=null,vM=!1,fS=0,b4=0,hS=1/0,pS=null,cc=null,Dr=0,dc=null,dg=null,al=0,yM=0,wM=null,C4=null,v0=0,bM=null;function ks(){return(Vt&2)!==0&&bt!==0?bt&-bt:V.T!==null?_M():uf()}function E4(){if(Qs===0)if((bt&536870912)===0||xt){var A=gn;gn<<=1,(gn&3932160)===0&&(gn=262144),Qs=A}else Qs=536870912;return A=Ds.current,A!==null&&(A.flags|=32),Qs}function fs(A,c,p){(A===mn&&(jt===2||jt===9)||A.cancelPendingCommit!==null)&&(fg(A,0),fc(A,bt,Qs,!1)),zi(A,p),((Vt&2)===0||A!==mn)&&(A===mn&&((Vt&2)===0&&(_f|=p),Jn===4&&fc(A,bt,Qs,!1)),Xo(A))}function B4(A,c,p){if((Vt&6)!==0)throw Error(r(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||Ut(A,c),E=m?mne(A,c):EM(A,c,!0),x=m;do{if(E===0){ug&&!m&&fc(A,c,0,!1);break}else{if(p=A.current.alternate,x&&!pne(p)){E=EM(A,c,!1),x=!1;continue}if(E===2){if(x=c,A.errorRecoveryDisabledLanes&x)var N=0;else N=A.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var O=A;E=m0;var j=O.current.memoizedState.isDehydrated;if(j&&(fg(O,N).flags|=256),N=EM(O,N,!1),N!==2){if(gM&&!j){O.errorRecoveryDisabledLanes|=x,_f|=x,E=4;break e}x=ds,ds=E,x!==null&&(ds===null?ds=x:ds.push.apply(ds,x))}E=N}if(x=!1,E!==2)continue}}if(E===1){fg(A,0),fc(A,c,0,!0);break}e:{switch(m=A,x=E,x){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:fc(m,c,Qs,!lc);break e;case 2:ds=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(E=fS+300-tn(),10<E)){if(fc(m,c,Qs,!lc),Mn(m,0,!0)!==0)break e;al=c,m.timeoutHandle=tV(S4.bind(null,m,p,ds,pS,vM,c,Qs,_f,cg,lc,x,"Throttled",-0,0),E);break e}S4(m,p,ds,pS,vM,c,Qs,_f,cg,lc,x,null,-0,0)}}break}while(!0);Xo(A)}function S4(A,c,p,m,E,x,N,O,j,ae,ge,be,oe,le){if(A.timeoutHandle=-1,be=c.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zA},m4(c,x,be);var He=(x&62914560)===x?fS-tn():(x&4194048)===x?b4-tn():0;if(He=Zne(be,He),He!==null){al=x,A.cancelPendingCommit=He(P4.bind(null,A,c,x,p,m,E,N,O,j,ge,be,null,oe,le)),fc(A,x,N,!ae);return}}P4(A,c,x,p,m,E,N,O,j)}function pne(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var E=p[m],x=E.getSnapshot;E=E.value;try{if(!Ps(x(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function fc(A,c,p,m){c&=~mM,c&=~_f,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var E=c;0<E;){var x=31-wr(E),N=1<<x;m[x]=-1,E&=~N}p!==0&&lf(A,p,c)}function gS(){return(Vt&6)===0?(y0(0),!1):!0}function CM(){if(yt!==null){if(jt===0)var A=yt.return;else A=yt,WA=vf=null,QF(A),rg=null,t0=0,A=yt;for(;A!==null;)n4(A.alternate,A),A=A.return;yt=null}}function fg(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,Dne(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),al=0,CM(),mn=A,yt=p=$A(A.current,null),bt=c,jt=0,Ls=null,lc=!1,ug=Ut(A,c),gM=!1,cg=Qs=mM=_f=uc=Jn=0,ds=m0=null,vM=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var E=31-wr(m),x=1<<E;c|=A[E],m&=~x}return sl=c,LB(),p}function x4(A,c){At=null,V.H=l0,c===ng||c===zB?(c=V2(),jt=3):c===xF?(c=V2(),jt=4):jt=c===eM?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ls=c,yt===null&&(Jn=1,sS(A,Ba(c,A.current)))}function _4(){var A=Ds.current;return A===null?!0:(bt&4194048)===bt?Ta===null:(bt&62914560)===bt||(bt&536870912)!==0?A===Ta:!1}function T4(){var A=V.H;return V.H=l0,A===null?l0:A}function I4(){var A=V.A;return V.A=fne,A}function mS(){Jn=4,lc||(bt&4194048)!==bt&&Ds.current!==null||(ug=!0),(uc&134217727)===0&&(_f&134217727)===0||mn===null||fc(mn,bt,Qs,!1)}function EM(A,c,p){var m=Vt;Vt|=2;var E=T4(),x=I4();(mn!==A||bt!==c)&&(pS=null,fg(A,c)),c=!1;var N=Jn;e:do try{if(jt!==0&&yt!==null){var O=yt,j=Ls;switch(jt){case 8:CM(),N=6;break e;case 3:case 2:case 9:case 6:Ds.current===null&&(c=!0);var ae=jt;if(jt=0,Ls=null,hg(A,O,j,ae),p&&ug){N=0;break e}break;default:ae=jt,jt=0,Ls=null,hg(A,O,j,ae)}}gne(),N=Jn;break}catch(ge){x4(A,ge)}while(!0);return c&&A.shellSuspendCounter++,WA=vf=null,Vt=m,V.H=E,V.A=x,yt===null&&(mn=null,bt=0,LB()),N}function gne(){for(;yt!==null;)F4(yt)}function mne(A,c){var p=Vt;Vt|=2;var m=T4(),E=I4();mn!==A||bt!==c?(pS=null,hS=tn()+500,fg(A,c)):ug=Ut(A,c);e:do try{if(jt!==0&&yt!==null){c=yt;var x=Ls;t:switch(jt){case 1:jt=0,Ls=null,hg(A,c,x,1);break;case 2:case 9:if(O2(x)){jt=0,Ls=null,M4(c);break}c=function(){jt!==2&&jt!==9||mn!==A||(jt=7),Xo(A)},x.then(c,c);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:O2(x)?(jt=0,Ls=null,M4(c)):(jt=0,Ls=null,hg(A,c,x,7));break;case 5:var N=null;switch(yt.tag){case 26:N=yt.memoizedState;case 5:case 27:var O=yt;if(N?gV(N):O.stateNode.complete){jt=0,Ls=null;var j=O.sibling;if(j!==null)yt=j;else{var ae=O.return;ae!==null?(yt=ae,vS(ae)):yt=null}break t}}jt=0,Ls=null,hg(A,c,x,5);break;case 6:jt=0,Ls=null,hg(A,c,x,6);break;case 8:CM(),Jn=6;break e;default:throw Error(r(462))}}vne();break}catch(ge){x4(A,ge)}while(!0);return WA=vf=null,V.H=m,V.A=E,Vt=p,yt!==null?0:(mn=null,bt=0,LB(),Jn)}function vne(){for(;yt!==null&&!ya();)F4(yt)}function F4(A){var c=e4(A.alternate,A,sl);A.memoizedProps=A.pendingProps,c===null?vS(A):yt=c}function M4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=jH(p,c,c.pendingProps,c.type,void 0,bt);break;case 11:c=jH(p,c,c.pendingProps,c.type.render,c.ref,bt);break;case 5:QF(c);default:n4(p,c),c=yt=I2(c,sl),c=e4(p,c,sl)}A.memoizedProps=A.pendingProps,c===null?vS(A):yt=c}function hg(A,c,p,m){WA=vf=null,QF(c),rg=null,t0=0;var E=c.return;try{if(ane(A,E,c,p,bt)){Jn=1,sS(A,Ba(p,A.current)),yt=null;return}}catch(x){if(E!==null)throw yt=E,x;Jn=1,sS(A,Ba(p,A.current)),yt=null;return}c.flags&32768?(xt||m===1?A=!0:ug||(bt&536870912)!==0?A=!1:(lc=A=!0,(m===2||m===9||m===3||m===6)&&(m=Ds.current,m!==null&&m.tag===13&&(m.flags|=16384))),U4(c,A)):vS(c)}function vS(A){var c=A;do{if((c.flags&32768)!==0){U4(c,lc);return}A=c.return;var p=lne(c.alternate,c,sl);if(p!==null){yt=p;return}if(c=c.sibling,c!==null){yt=c;return}yt=c=A}while(c!==null);Jn===0&&(Jn=5)}function U4(A,c){do{var p=une(A.alternate,A);if(p!==null){p.flags&=32767,yt=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){yt=A;return}yt=A=p}while(A!==null);Jn=6,yt=null}function P4(A,c,p,m,E,x,N,O,j){A.cancelPendingCommit=null;do yS();while(Dr!==0);if((Vt&6)!==0)throw Error(r(327));if(c!==null){if(c===A.current)throw Error(r(177));if(x=c.lanes|c.childLanes,x|=cF,HA(A,p,x,N,O,j),A===mn&&(yt=mn=null,bt=0),dg=c,dc=A,al=p,yM=x,wM=E,C4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,Cne(Ue,function(){return Q4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,E=$.p,$.p=2,N=Vt,Vt|=4;try{cne(A,c,p)}finally{Vt=N,$.p=E,V.T=m}}Dr=1,R4(),D4(),N4()}}function R4(){if(Dr===1){Dr=0;var A=dc,c=dg,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var m=$.p;$.p=2;var E=Vt;Vt|=4;try{h4(c,A);var x=DM,N=w2(A.containerInfo),O=x.focusedElem,j=x.selectionRange;if(N!==O&&O&&O.ownerDocument&&y2(O.ownerDocument.documentElement,O)){if(j!==null&&aF(O)){var ae=j.start,ge=j.end;if(ge===void 0&&(ge=ae),"selectionStart"in O)O.selectionStart=ae,O.selectionEnd=Math.min(ge,O.value.length);else{var be=O.ownerDocument||document,oe=be&&be.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),He=O.textContent.length,Xe=Math.min(j.start,He),an=j.end===void 0?Xe:Math.min(j.end,He);!le.extend&&Xe>an&&(N=an,an=Xe,Xe=N);var X=v2(O,Xe),W=v2(O,an);if(X&&W&&(le.rangeCount!==1||le.anchorNode!==X.node||le.anchorOffset!==X.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var se=be.createRange();se.setStart(X.node,X.offset),le.removeAllRanges(),Xe>an?(le.addRange(se),le.extend(W.node,W.offset)):(se.setEnd(W.node,W.offset),le.addRange(se))}}}}for(be=[],le=O;le=le.parentNode;)le.nodeType===1&&be.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<be.length;O++){var ye=be[O];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}MS=!!RM,DM=RM=null}finally{Vt=E,$.p=m,V.T=p}}A.current=c,Dr=2}}function D4(){if(Dr===2){Dr=0;var A=dc,c=dg,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var m=$.p;$.p=2;var E=Vt;Vt|=4;try{l4(A,c.alternate,c)}finally{Vt=E,$.p=m,V.T=p}}Dr=3}}function N4(){if(Dr===4||Dr===3){Dr=0,wa();var A=dc,c=dg,p=al,m=C4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Dr=5:(Dr=0,dg=dc=null,L4(A,A.pendingLanes));var E=A.pendingLanes;if(E===0&&(cc=null),ky(p),c=c.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Bn,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=V.T,E=$.p,$.p=2,V.T=null;try{for(var x=A.onRecoverableError,N=0;N<m.length;N++){var O=m[N];x(O.value,{componentStack:O.stack})}}finally{V.T=c,$.p=E}}(al&3)!==0&&yS(),Xo(A),E=A.pendingLanes,(p&261930)!==0&&(E&42)!==0?A===bM?v0++:(v0=0,bM=A):v0=0,y0(0)}}function L4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,Zy(c)))}function yS(){return R4(),D4(),N4(),Q4()}function Q4(){if(Dr!==5)return!1;var A=dc,c=yM;yM=0;var p=ky(al),m=V.T,E=$.p;try{$.p=32>p?32:p,V.T=null,p=wM,wM=null;var x=dc,N=al;if(Dr=0,dg=dc=null,al=0,(Vt&6)!==0)throw Error(r(331));var O=Vt;if(Vt|=4,y4(x.current),g4(x,x.current,N,p),Vt=O,y0(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Bn,x)}catch{}return!0}finally{$.p=E,V.T=m,L4(A,c)}}function k4(A,c,p){c=Ba(p,c),c=ZF(A.stateNode,c,2),A=sc(A,c,2),A!==null&&(zi(A,2),Xo(A))}function Wt(A,c,p){if(A.tag===3)k4(A,A,p);else for(;c!==null;){if(c.tag===3){k4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(cc===null||!cc.has(m))){A=Ba(p,A),p=OH(2),m=sc(c,p,2),m!==null&&(HH(p,m,c,A),zi(m,2),Xo(m));break}}c=c.return}}function BM(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new hne;var E=new Set;m.set(c,E)}else E=m.get(c),E===void 0&&(E=new Set,m.set(c,E));E.has(p)||(gM=!0,E.add(p),A=yne.bind(null,A,c,p),c.then(A,A))}function yne(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,mn===A&&(bt&p)===p&&(Jn===4||Jn===3&&(bt&62914560)===bt&&300>tn()-fS?(Vt&2)===0&&fg(A,0):mM|=p,cg===bt&&(cg=0)),Xo(A)}function O4(A,c){c===0&&(c=Gi()),A=pf(A,c),A!==null&&(zi(A,c),Xo(A))}function wne(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),O4(A,p)}function bne(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,E=A.memoizedState;E!==null&&(p=E.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),O4(A,p)}function Cne(A,c){return Yn(A,c)}var wS=null,pg=null,SM=!1,bS=!1,xM=!1,hc=0;function Xo(A){A!==pg&&A.next===null&&(pg===null?wS=pg=A:pg=pg.next=A),bS=!0,SM||(SM=!0,Bne())}function y0(A,c){if(!xM&&bS){xM=!0;do for(var p=!1,m=wS;m!==null;){if(A!==0){var E=m.pendingLanes;if(E===0)var x=0;else{var N=m.suspendedLanes,O=m.pingedLanes;x=(1<<31-wr(42|A)+1)-1,x&=E&~(N&~O),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(p=!0,G4(m,x))}else x=bt,x=Mn(m,m===mn?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Ut(m,x)||(p=!0,G4(m,x));m=m.next}while(p);xM=!1}}function Ene(){H4()}function H4(){bS=SM=!1;var A=0;hc!==0&&Rne()&&(A=hc);for(var c=tn(),p=null,m=wS;m!==null;){var E=m.next,x=V4(m,c);x===0?(m.next=null,p===null?wS=E:p.next=E,E===null&&(pg=p)):(p=m,(A!==0||(x&3)!==0)&&(bS=!0)),m=E}Dr!==0&&Dr!==5||y0(A),hc!==0&&(hc=0)}function V4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,E=A.expirationTimes,x=A.pendingLanes&-62914561;0<x;){var N=31-wr(x),O=1<<N,j=E[N];j===-1?((O&p)===0||(O&m)!==0)&&(E[N]=Us(O,c)):j<=c&&(A.expiredLanes|=O),x&=~O}if(c=mn,p=bt,p=Mn(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(jt===2||jt===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&en(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||Ut(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&en(m),ky(p)){case 2:case 8:p=Be;break;case 32:p=Ue;break;case 268435456:p=Ke;break;default:p=Ue}return m=K4.bind(null,A),p=Yn(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&en(m),A.callbackPriority=2,A.callbackNode=null,2}function K4(A,c){if(Dr!==0&&Dr!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(yS()&&A.callbackNode!==p)return null;var m=bt;return m=Mn(A,A===mn?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(B4(A,m,c),V4(A,tn()),A.callbackNode!=null&&A.callbackNode===p?K4.bind(null,A):null)}function G4(A,c){if(yS())return null;B4(A,c,!0)}function Bne(){Nne(function(){(Vt&6)!==0?Yn(te,Ene):H4()})}function _M(){if(hc===0){var A=eg;A===0&&(A=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),hc=A}return hc}function z4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:IB(""+A)}function q4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function Sne(A,c,p,m,E){if(c==="submit"&&p&&p.stateNode===E){var x=z4((E[Fi]||null).action),N=m.submitter;N&&(c=(c=N[Fi]||null)?z4(c.formAction):N.getAttribute("formAction"),c!==null&&(x=c,N=null));var O=new PB("action","action",null,m,E);A.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(hc!==0){var j=N?q4(E,N):new FormData(E);$F(p,{pending:!0,data:j,method:E.method,action:x},null,j)}}else typeof x=="function"&&(O.preventDefault(),j=N?q4(E,N):new FormData(E),$F(p,{pending:!0,data:j,method:E.method,action:x},x,j))},currentTarget:E}]})}}for(var TM=0;TM<uF.length;TM++){var IM=uF[TM],xne=IM.toLowerCase(),_ne=IM[0].toUpperCase()+IM.slice(1);ho(xne,"on"+_ne)}ho(E2,"onAnimationEnd"),ho(B2,"onAnimationIteration"),ho(S2,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(Kte,"onTransitionRun"),ho(Gte,"onTransitionStart"),ho(zte,"onTransitionCancel"),ho(x2,"onTransitionEnd"),Xu("onMouseEnter",["mouseout","mouseover"]),Xu("onMouseLeave",["mouseout","mouseover"]),Xu("onPointerEnter",["pointerout","pointerover"]),Xu("onPointerLeave",["pointerout","pointerover"]),KA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),KA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),KA("onBeforeInput",["compositionend","keypress","textInput","paste"]),KA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),KA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),KA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var w0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(w0));function $4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],E=m.event;m=m.listeners;e:{var x=void 0;if(c)for(var N=m.length-1;0<=N;N--){var O=m[N],j=O.instance,ae=O.currentTarget;if(O=O.listener,j!==x&&E.isPropagationStopped())break e;x=O,E.currentTarget=ae;try{x(E)}catch(ge){NB(ge)}E.currentTarget=null,x=j}else for(N=0;N<m.length;N++){if(O=m[N],j=O.instance,ae=O.currentTarget,O=O.listener,j!==x&&E.isPropagationStopped())break e;x=O,E.currentTarget=ae;try{x(E)}catch(ge){NB(ge)}E.currentTarget=null,x=j}}}}function wt(A,c){var p=c[Oy];p===void 0&&(p=c[Oy]=new Set);var m=A+"__bubble";p.has(m)||(j4(c,A,2,!1),p.add(m))}function FM(A,c,p){var m=0;c&&(m|=4),j4(p,A,m,c)}var CS="_reactListening"+Math.random().toString(36).slice(2);function MM(A){if(!A[CS]){A[CS]=!0,_B.forEach(function(p){p!=="selectionchange"&&(Tne.has(p)||FM(p,!1,A),FM(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[CS]||(c[CS]=!0,FM("selectionchange",!1,c))}}function j4(A,c,p,m){switch(EV(c)){case 2:var E=nre;break;case 8:E=rre;break;default:E=qM}p=E.bind(null,c,p,A),E=void 0,!XI||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),m?E!==void 0?A.addEventListener(c,p,{capture:!0,passive:E}):A.addEventListener(c,p,!0):E!==void 0?A.addEventListener(c,p,{passive:E}):A.addEventListener(c,p,!1)}function UM(A,c,p,m,E){var x=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var O=m.stateNode.containerInfo;if(O===E)break;if(N===4)for(N=m.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===E)return;N=N.return}for(;O!==null;){if(N=ju(O),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){m=x=N;continue e}O=O.parentNode}}m=m.return}ZO(function(){var ae=x,ge=WI(p),be=[];e:{var oe=_2.get(A);if(oe!==void 0){var le=PB,He=A;switch(A){case"keypress":if(MB(p)===0)break e;case"keydown":case"keyup":le=bte;break;case"focusin":He="focus",le=tF;break;case"focusout":He="blur",le=tF;break;case"beforeblur":case"afterblur":le=tF;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=n2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=lte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Bte;break;case E2:case B2:case S2:le=dte;break;case x2:le=xte;break;case"scroll":case"scrollend":le=ote;break;case"wheel":le=Tte;break;case"copy":case"cut":case"paste":le=hte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=i2;break;case"toggle":case"beforetoggle":le=Fte}var Xe=(c&4)!==0,an=!Xe&&(A==="scroll"||A==="scrollend"),X=Xe?oe!==null?oe+"Capture":null:oe;Xe=[];for(var W=ae,se;W!==null;){var ye=W;if(se=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||se===null||X===null||(ye=Vy(W,X),ye!=null&&Xe.push(b0(W,ye,se))),an)break;W=W.return}0<Xe.length&&(oe=new le(oe,He,null,p,ge),be.push({event:oe,listeners:Xe}))}}if((c&7)===0){e:{if(oe=A==="mouseover"||A==="pointerover",le=A==="mouseout"||A==="pointerout",oe&&p!==jI&&(He=p.relatedTarget||p.fromElement)&&(ju(He)||He[VA]))break e;if((le||oe)&&(oe=ge.window===ge?ge:(oe=ge.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(He=p.relatedTarget||p.toElement,le=ae,He=He?ju(He):null,He!==null&&(an=s(He),Xe=He.tag,He!==an||Xe!==5&&Xe!==27&&Xe!==6)&&(He=null)):(le=null,He=ae),le!==He)){if(Xe=n2,ye="onMouseLeave",X="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(Xe=i2,ye="onPointerLeave",X="onPointerEnter",W="pointer"),an=le==null?oe:cf(le),se=He==null?oe:cf(He),oe=new Xe(ye,W+"leave",le,p,ge),oe.target=an,oe.relatedTarget=se,ye=null,ju(ge)===ae&&(Xe=new Xe(X,W+"enter",He,p,ge),Xe.target=se,Xe.relatedTarget=an,ye=Xe),an=ye,le&&He)t:{for(Xe=Ine,X=le,W=He,se=0,ye=X;ye;ye=Xe(ye))se++;ye=0;for(var We=W;We;We=Xe(We))ye++;for(;0<se-ye;)X=Xe(X),se--;for(;0<ye-se;)W=Xe(W),ye--;for(;se--;){if(X===W||W!==null&&X===W.alternate){Xe=X;break t}X=Xe(X),W=Xe(W)}Xe=null}else Xe=null;le!==null&&W4(be,oe,le,Xe,!1),He!==null&&an!==null&&W4(be,an,He,Xe,!0)}}e:{if(oe=ae?cf(ae):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var Lt=d2;else if(u2(oe))if(f2)Lt=Ote;else{Lt=Qte;var Ge=Lte}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&$I(ae.elementType)&&(Lt=d2):Lt=kte;if(Lt&&(Lt=Lt(A,ae))){c2(be,Lt,p,ge);break e}Ge&&Ge(A,oe,ae),A==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&qI(oe,"number",oe.value)}switch(Ge=ae?cf(ae):window,A){case"focusin":(u2(Ge)||Ge.contentEditable==="true")&&(qp=Ge,oF=ae,Yy=null);break;case"focusout":Yy=oF=qp=null;break;case"mousedown":AF=!0;break;case"contextmenu":case"mouseup":case"dragend":AF=!1,b2(be,p,ge);break;case"selectionchange":if(Vte)break;case"keydown":case"keyup":b2(be,p,ge)}var ct;if(rF)e:{switch(A){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else zp?A2(A,p)&&(Ct="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(Ct="onCompositionStart");Ct&&(s2&&p.locale!=="ko"&&(zp||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&zp&&(ct=e2()):(Ju=ge,JI="value"in Ju?Ju.value:Ju.textContent,zp=!0)),Ge=ES(ae,Ct),0<Ge.length&&(Ct=new r2(Ct,A,null,p,ge),be.push({event:Ct,listeners:Ge}),ct?Ct.data=ct:(ct=l2(p),ct!==null&&(Ct.data=ct)))),(ct=Ute?Pte(A,p):Rte(A,p))&&(Ct=ES(ae,"onBeforeInput"),0<Ct.length&&(Ge=new r2("onBeforeInput","beforeinput",null,p,ge),be.push({event:Ge,listeners:Ct}),Ge.data=ct)),Sne(be,A,ae,p,ge)}$4(be,c)})}function b0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function ES(A,c){for(var p=c+"Capture",m=[];A!==null;){var E=A,x=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||x===null||(E=Vy(A,p),E!=null&&m.unshift(b0(A,E,x)),E=Vy(A,c),E!=null&&m.push(b0(A,E,x))),A.tag===3)return m;A=A.return}return[]}function Ine(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function W4(A,c,p,m,E){for(var x=c._reactName,N=[];p!==null&&p!==m;){var O=p,j=O.alternate,ae=O.stateNode;if(O=O.tag,j!==null&&j===m)break;O!==5&&O!==26&&O!==27||ae===null||(j=ae,E?(ae=Vy(p,x),ae!=null&&N.unshift(b0(p,ae,j))):E||(ae=Vy(p,x),ae!=null&&N.push(b0(p,ae,j)))),p=p.return}N.length!==0&&A.push({event:c,listeners:N})}var Fne=/\r\n?/g,Mne=/\u0000|\uFFFD/g;function Y4(A){return(typeof A=="string"?A:""+A).replace(Fne,`
`).replace(Mne,"")}function X4(A,c){return c=Y4(c),Y4(A)===c}function sn(A,c,p,m,E,x){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Vp(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Vp(A,""+m);break;case"className":gt(A,"class",m);break;case"tabIndex":gt(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":gt(A,p,m);break;case"style":XO(A,m,x);break;case"data":if(c!=="object"){gt(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=IB(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(p==="formAction"?(c!=="input"&&sn(A,c,"name",E.name,E,null),sn(A,c,"formEncType",E.formEncType,E,null),sn(A,c,"formMethod",E.formMethod,E,null),sn(A,c,"formTarget",E.formTarget,E,null)):(sn(A,c,"encType",E.encType,E,null),sn(A,c,"method",E.method,E,null),sn(A,c,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=IB(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=zA);break;case"onScroll":m!=null&&wt("scroll",A);break;case"onScrollEnd":m!=null&&wt("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(E.children!=null)throw Error(r(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=IB(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":wt("beforetoggle",A),wt("toggle",A),De(A,"popover",m);break;case"xlinkActuate":$t(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":$t(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":$t(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":$t(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":$t(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":$t(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":$t(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":$t(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":$t(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":De(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ste.get(p)||p,De(A,p,m))}}function PM(A,c,p,m,E,x){switch(p){case"style":XO(A,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(E.children!=null)throw Error(r(60));A.innerHTML=p}}break;case"children":typeof m=="string"?Vp(A,m):(typeof m=="number"||typeof m=="bigint")&&Vp(A,""+m);break;case"onScroll":m!=null&&wt("scroll",A);break;case"onScrollEnd":m!=null&&wt("scrollend",A);break;case"onClick":m!=null&&(A.onclick=zA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yu.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),x=A[Fi]||null,x=x!=null?x[p]:null,typeof x=="function"&&A.removeEventListener(c,x,E),typeof m=="function")){typeof x!="function"&&x!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,E);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):De(A,p,m)}}}function di(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",A),wt("load",A);var m=!1,E=!1,x;for(x in p)if(p.hasOwnProperty(x)){var N=p[x];if(N!=null)switch(x){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:sn(A,c,x,N,p,null)}}E&&sn(A,c,"srcSet",p.srcSet,p,null),m&&sn(A,c,"src",p.src,p,null);return;case"input":wt("invalid",A);var O=x=N=E=null,j=null,ae=null;for(m in p)if(p.hasOwnProperty(m)){var ge=p[m];if(ge!=null)switch(m){case"name":E=ge;break;case"type":N=ge;break;case"checked":j=ge;break;case"defaultChecked":ae=ge;break;case"value":x=ge;break;case"defaultValue":O=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,c));break;default:sn(A,c,m,ge,p,null)}}$O(A,x,O,j,ae,N,E,!1);return;case"select":wt("invalid",A),m=N=x=null;for(E in p)if(p.hasOwnProperty(E)&&(O=p[E],O!=null))switch(E){case"value":x=O;break;case"defaultValue":N=O;break;case"multiple":m=O;default:sn(A,c,E,O,p,null)}c=x,p=N,A.multiple=!!m,c!=null?Hp(A,!!m,c,!1):p!=null&&Hp(A,!!m,p,!0);return;case"textarea":wt("invalid",A),x=E=m=null;for(N in p)if(p.hasOwnProperty(N)&&(O=p[N],O!=null))switch(N){case"value":m=O;break;case"defaultValue":E=O;break;case"children":x=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:sn(A,c,N,O,p,null)}WO(A,m,E,x);return;case"option":for(j in p)if(p.hasOwnProperty(j)&&(m=p[j],m!=null))switch(j){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:sn(A,c,j,m,p,null)}return;case"dialog":wt("beforetoggle",A),wt("toggle",A),wt("cancel",A),wt("close",A);break;case"iframe":case"object":wt("load",A);break;case"video":case"audio":for(m=0;m<w0.length;m++)wt(w0[m],A);break;case"image":wt("error",A),wt("load",A);break;case"details":wt("toggle",A);break;case"embed":case"source":case"link":wt("error",A),wt("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in p)if(p.hasOwnProperty(ae)&&(m=p[ae],m!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:sn(A,c,ae,m,p,null)}return;default:if($I(c)){for(ge in p)p.hasOwnProperty(ge)&&(m=p[ge],m!==void 0&&PM(A,c,ge,m,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(m=p[O],m!=null&&sn(A,c,O,m,p,null))}function Une(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,x=null,N=null,O=null,j=null,ae=null,ge=null;for(le in p){var be=p[le];if(p.hasOwnProperty(le)&&be!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":j=be;default:m.hasOwnProperty(le)||sn(A,c,le,null,m,be)}}for(var oe in m){var le=m[oe];if(be=p[oe],m.hasOwnProperty(oe)&&(le!=null||be!=null))switch(oe){case"type":x=le;break;case"name":E=le;break;case"checked":ae=le;break;case"defaultChecked":ge=le;break;case"value":N=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,c));break;default:le!==be&&sn(A,c,oe,le,m,be)}}zI(A,N,O,j,ae,ge,x,E);return;case"select":le=N=O=oe=null;for(x in p)if(j=p[x],p.hasOwnProperty(x)&&j!=null)switch(x){case"value":break;case"multiple":le=j;default:m.hasOwnProperty(x)||sn(A,c,x,null,m,j)}for(E in m)if(x=m[E],j=p[E],m.hasOwnProperty(E)&&(x!=null||j!=null))switch(E){case"value":oe=x;break;case"defaultValue":O=x;break;case"multiple":N=x;default:x!==j&&sn(A,c,E,x,m,j)}c=O,p=N,m=le,oe!=null?Hp(A,!!p,oe,!1):!!m!=!!p&&(c!=null?Hp(A,!!p,c,!0):Hp(A,!!p,p?[]:"",!1));return;case"textarea":le=oe=null;for(O in p)if(E=p[O],p.hasOwnProperty(O)&&E!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:sn(A,c,O,null,m,E)}for(N in m)if(E=m[N],x=p[N],m.hasOwnProperty(N)&&(E!=null||x!=null))switch(N){case"value":oe=E;break;case"defaultValue":le=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==x&&sn(A,c,N,E,m,x)}jO(A,oe,le);return;case"option":for(var He in p)if(oe=p[He],p.hasOwnProperty(He)&&oe!=null&&!m.hasOwnProperty(He))switch(He){case"selected":A.selected=!1;break;default:sn(A,c,He,null,m,oe)}for(j in m)if(oe=m[j],le=p[j],m.hasOwnProperty(j)&&oe!==le&&(oe!=null||le!=null))switch(j){case"selected":A.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:sn(A,c,j,oe,m,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in p)oe=p[Xe],p.hasOwnProperty(Xe)&&oe!=null&&!m.hasOwnProperty(Xe)&&sn(A,c,Xe,null,m,oe);for(ae in m)if(oe=m[ae],le=p[ae],m.hasOwnProperty(ae)&&oe!==le&&(oe!=null||le!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,c));break;default:sn(A,c,ae,oe,m,le)}return;default:if($I(c)){for(var an in p)oe=p[an],p.hasOwnProperty(an)&&oe!==void 0&&!m.hasOwnProperty(an)&&PM(A,c,an,void 0,m,oe);for(ge in m)oe=m[ge],le=p[ge],!m.hasOwnProperty(ge)||oe===le||oe===void 0&&le===void 0||PM(A,c,ge,oe,m,le);return}}for(var X in p)oe=p[X],p.hasOwnProperty(X)&&oe!=null&&!m.hasOwnProperty(X)&&sn(A,c,X,null,m,oe);for(be in m)oe=m[be],le=p[be],!m.hasOwnProperty(be)||oe===le||oe==null&&le==null||sn(A,c,be,oe,m,le)}function J4(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pne(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var E=p[m],x=E.transferSize,N=E.initiatorType,O=E.duration;if(x&&O&&J4(N)){for(N=0,O=E.responseEnd,m+=1;m<p.length;m++){var j=p[m],ae=j.startTime;if(ae>O)break;var ge=j.transferSize,be=j.initiatorType;ge&&J4(be)&&(j=j.responseEnd,N+=ge*(j<O?1:(O-ae)/(j-ae)))}if(--m,c+=8*(x+N)/(E.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var RM=null,DM=null;function BS(A){return A.nodeType===9?A:A.ownerDocument}function Z4(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eV(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function NM(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var LM=null;function Rne(){var A=window.event;return A&&A.type==="popstate"?A===LM?!1:(LM=A,!0):(LM=null,!1)}var tV=typeof setTimeout=="function"?setTimeout:void 0,Dne=typeof clearTimeout=="function"?clearTimeout:void 0,nV=typeof Promise=="function"?Promise:void 0,Nne=typeof queueMicrotask=="function"?queueMicrotask:typeof nV<"u"?function(A){return nV.resolve(null).then(A).catch(Lne)}:tV;function Lne(A){setTimeout(function(){throw A})}function pc(A){return A==="head"}function rV(A,c){var p=c,m=0;do{var E=p.nextSibling;if(A.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(E),yg(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")C0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,C0(p);for(var x=p.firstChild;x;){var N=x.nextSibling,O=x.nodeName;x[$u]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||p.removeChild(x),x=N}}else p==="body"&&C0(A.ownerDocument.body);p=E}while(p);yg(c)}function iV(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function QM(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":QM(p),Hy(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function Qne(A,c,p,m){for(;A.nodeType===1;){var E=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[$u])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(x=A.getAttribute("rel"),x==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(x!==E.rel||A.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||A.getAttribute("title")!==(E.title==null?null:E.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(x=A.getAttribute("src"),(x!==(E.src==null?null:E.src)||A.getAttribute("type")!==(E.type==null?null:E.type)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&x&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var x=E.name==null?null:""+E.name;if(E.type==="hidden"&&A.getAttribute("name")===x)return A}else return A;if(A=Ia(A.nextSibling),A===null)break}return null}function kne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=Ia(A.nextSibling),A===null))return null;return A}function sV(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=Ia(A.nextSibling),A===null))return null;return A}function kM(A){return A.data==="$?"||A.data==="$~"}function OM(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function One(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function Ia(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var HM=null;function aV(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return Ia(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function oV(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function AV(A,c,p){switch(c=BS(p),A){case"html":if(A=c.documentElement,!A)throw Error(r(452));return A;case"head":if(A=c.head,!A)throw Error(r(453));return A;case"body":if(A=c.body,!A)throw Error(r(454));return A;default:throw Error(r(451))}}function C0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);Hy(A)}var Fa=new Map,lV=new Set;function SS(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var ol=$.d;$.d={f:Hne,r:Vne,D:Kne,C:Gne,L:zne,m:qne,X:jne,S:$ne,M:Wne};function Hne(){var A=ol.f(),c=gS();return A||c}function Vne(A){var c=Wu(A);c!==null&&c.tag===5&&c.type==="form"?xH(c):ol.r(A)}var gg=typeof document>"u"?null:document;function uV(A,c,p){var m=gg;if(m&&typeof c=="string"&&c){var E=Ca(c);E='link[rel="'+A+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),lV.has(E)||(lV.add(E),A={rel:A,crossOrigin:p,href:c},m.querySelector(E)===null&&(c=m.createElement("link"),di(c,"link",A),Cr(c),m.head.appendChild(c)))}}function Kne(A){ol.D(A),uV("dns-prefetch",A,null)}function Gne(A,c){ol.C(A,c),uV("preconnect",A,c)}function zne(A,c,p){ol.L(A,c,p);var m=gg;if(m&&A&&c){var E='link[rel="preload"][as="'+Ca(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+Ca(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+Ca(p.imageSizes)+'"]')):E+='[href="'+Ca(A)+'"]';var x=E;switch(c){case"style":x=mg(A);break;case"script":x=vg(A)}Fa.has(x)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),Fa.set(x,A),m.querySelector(E)!==null||c==="style"&&m.querySelector(E0(x))||c==="script"&&m.querySelector(B0(x))||(c=m.createElement("link"),di(c,"link",A),Cr(c),m.head.appendChild(c)))}}function qne(A,c){ol.m(A,c);var p=gg;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+Ca(m)+'"][href="'+Ca(A)+'"]',x=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=vg(A)}if(!Fa.has(x)&&(A=h({rel:"modulepreload",href:A},c),Fa.set(x,A),p.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(B0(x)))return}m=p.createElement("link"),di(m,"link",A),Cr(m),p.head.appendChild(m)}}}function $ne(A,c,p){ol.S(A,c,p);var m=gg;if(m&&A){var E=$o(m).hoistableStyles,x=mg(A);c=c||"default";var N=E.get(x);if(!N){var O={loading:0,preload:null};if(N=m.querySelector(E0(x)))O.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=Fa.get(x))&&VM(A,p);var j=N=m.createElement("link");Cr(j),di(j,"link",A),j._p=new Promise(function(ae,ge){j.onload=ae,j.onerror=ge}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,xS(N,c,m)}N={type:"stylesheet",instance:N,count:1,state:O},E.set(x,N)}}}function jne(A,c){ol.X(A,c);var p=gg;if(p&&A){var m=$o(p).hoistableScripts,E=vg(A),x=m.get(E);x||(x=p.querySelector(B0(E)),x||(A=h({src:A,async:!0},c),(c=Fa.get(E))&&KM(A,c),x=p.createElement("script"),Cr(x),di(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(E,x))}}function Wne(A,c){ol.M(A,c);var p=gg;if(p&&A){var m=$o(p).hoistableScripts,E=vg(A),x=m.get(E);x||(x=p.querySelector(B0(E)),x||(A=h({src:A,async:!0,type:"module"},c),(c=Fa.get(E))&&KM(A,c),x=p.createElement("script"),Cr(x),di(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(E,x))}}function cV(A,c,p,m){var E=(E=he.current)?SS(E):null;if(!E)throw Error(r(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=mg(p.href),p=$o(E).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=mg(p.href);var x=$o(E).hoistableStyles,N=x.get(A);if(N||(E=E.ownerDocument||E,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(A,N),(x=E.querySelector(E0(A)))&&!x._p&&(N.instance=x,N.state.loading=5),Fa.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Fa.set(A,p),x||Yne(E,A,p,N.state))),c&&m===null)throw Error(r(528,""));return N}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=vg(p),p=$o(E).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,A))}}function mg(A){return'href="'+Ca(A)+'"'}function E0(A){return'link[rel="stylesheet"]['+A+"]"}function dV(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Yne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),di(c,"link",p),Cr(c),A.head.appendChild(c))}function vg(A){return'[src="'+Ca(A)+'"]'}function B0(A){return"script[async]"+A}function fV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+Ca(p.href)+'"]');if(m)return c.instance=m,Cr(m),m;var E=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),Cr(m),di(m,"style",E),xS(m,p.precedence,A),c.instance=m;case"stylesheet":E=mg(p.href);var x=A.querySelector(E0(E));if(x)return c.state.loading|=4,c.instance=x,Cr(x),x;m=dV(p),(E=Fa.get(E))&&VM(m,E),x=(A.ownerDocument||A).createElement("link"),Cr(x);var N=x;return N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),di(x,"link",m),c.state.loading|=4,xS(x,p.precedence,A),c.instance=x;case"script":return x=vg(p.src),(E=A.querySelector(B0(x)))?(c.instance=E,Cr(E),E):(m=p,(E=Fa.get(x))&&(m=h({},p),KM(m,E)),A=A.ownerDocument||A,E=A.createElement("script"),Cr(E),di(E,"link",m),A.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,xS(m,p.precedence,A));return c.instance}function xS(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,x=E,N=0;N<m.length;N++){var O=m[N];if(O.dataset.precedence===c)x=O;else if(x!==E)break}x?x.parentNode.insertBefore(A,x.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function VM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function KM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var _S=null;function hV(A,c,p){if(_S===null){var m=new Map,E=_S=new Map;E.set(p,m)}else E=_S,m=E.get(p),m||(m=new Map,E.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),E=0;E<p.length;E++){var x=p[E];if(!(x[$u]||x[br]||A==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(c)||"";N=A+N;var O=m.get(N);O?O.push(x):m.set(N,[x])}}return m}function pV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function Xne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function gV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function Jne(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var E=mg(m.href),x=c.querySelector(E0(E));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=TS.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=x,Cr(x);return}x=c.ownerDocument||c,m=dV(m),(E=Fa.get(E))&&VM(m,E),x=x.createElement("link"),Cr(x);var N=x;N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),di(x,"link",m),p.instance=x}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=TS.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var GM=0;function Zne(A,c){return A.stylesheets&&A.count===0&&FS(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&FS(A,A.stylesheets),A.unsuspend){var x=A.unsuspend;A.unsuspend=null,x()}},6e4+c);0<A.imgBytes&&GM===0&&(GM=62500*Pne());var E=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&FS(A,A.stylesheets),A.unsuspend)){var x=A.unsuspend;A.unsuspend=null,x()}},(A.imgBytes>GM?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(E)}}:null}function TS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)FS(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var IS=null;function FS(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,IS=new Map,c.forEach(ere,A),IS=null,TS.call(A))}function ere(A,c){if(!(c.state.loading&4)){var p=IS.get(A);if(p)var m=p.get(null);else{p=new Map,IS.set(A,p);for(var E=A.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<E.length;x++){var N=E[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(p.set(N.dataset.precedence,N),m=N)}m&&p.set(null,m)}E=c.instance,N=E.getAttribute("data-precedence"),x=p.get(N)||m,x===m&&p.set(null,E),p.set(N,E),this.count++,m=TS.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),x?x.parentNode.insertBefore(E,x.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(E,A.firstChild)),c.state.loading|=4}}var S0={$$typeof:T,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function tre(A,c,p,m,E,x,N,O,j){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function mV(A,c,p,m,E,x,N,O,j,ae,ge,be){return A=new tre(A,c,p,N,j,ae,ge,be,O),c=1,x===!0&&(c|=24),x=Rs(3,null,null,c),A.current=x,x.stateNode=A,c=EF(),c.refCount++,A.pooledCache=c,c.refCount++,x.memoizedState={element:m,isDehydrated:p,cache:c},_F(x),A}function vV(A){return A?(A=Wp,A):Wp}function yV(A,c,p,m,E,x){E=vV(E),m.context===null?m.context=E:m.pendingContext=E,m=ic(c),m.payload={element:p},x=x===void 0?null:x,x!==null&&(m.callback=x),p=sc(A,m,c),p!==null&&(fs(p,A,c),r0(p,A,c))}function wV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function zM(A,c){wV(A,c),(A=A.alternate)&&wV(A,c)}function bV(A){if(A.tag===13||A.tag===31){var c=pf(A,67108864);c!==null&&fs(c,A,67108864),zM(A,67108864)}}function CV(A){if(A.tag===13||A.tag===31){var c=ks();c=Qy(c);var p=pf(A,c);p!==null&&fs(p,A,c),zM(A,c)}}var MS=!0;function nre(A,c,p,m){var E=V.T;V.T=null;var x=$.p;try{$.p=2,qM(A,c,p,m)}finally{$.p=x,V.T=E}}function rre(A,c,p,m){var E=V.T;V.T=null;var x=$.p;try{$.p=8,qM(A,c,p,m)}finally{$.p=x,V.T=E}}function qM(A,c,p,m){if(MS){var E=$M(m);if(E===null)UM(A,c,m,US,p),BV(A,m);else if(sre(E,A,c,p,m))m.stopPropagation();else if(BV(A,m),c&4&&-1<ire.indexOf(A)){for(;E!==null;){var x=Wu(E);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=Sn(x.pendingLanes);if(N!==0){var O=x;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var j=1<<31-wr(N);O.entanglements[1]|=j,N&=~j}Xo(x),(Vt&6)===0&&(hS=tn()+500,y0(0))}}break;case 31:case 13:O=pf(x,2),O!==null&&fs(O,x,2),gS(),zM(x,2)}if(x=$M(m),x===null&&UM(A,c,m,US,p),x===E)break;E=x}E!==null&&m.stopPropagation()}else UM(A,c,m,null,p)}}function $M(A){return A=WI(A),jM(A)}var US=null;function jM(A){if(US=null,A=ju(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return US=A,null}function EV(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case te:return 2;case Be:return 8;case Ue:case pt:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var WM=!1,gc=null,mc=null,vc=null,x0=new Map,_0=new Map,yc=[],ire="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BV(A,c){switch(A){case"focusin":case"focusout":gc=null;break;case"dragenter":case"dragleave":mc=null;break;case"mouseover":case"mouseout":vc=null;break;case"pointerover":case"pointerout":x0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":_0.delete(c.pointerId)}}function T0(A,c,p,m,E,x){return A===null||A.nativeEvent!==x?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:x,targetContainers:[E]},c!==null&&(c=Wu(c),c!==null&&bV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),A)}function sre(A,c,p,m,E){switch(c){case"focusin":return gc=T0(gc,A,c,p,m,E),!0;case"dragenter":return mc=T0(mc,A,c,p,m,E),!0;case"mouseover":return vc=T0(vc,A,c,p,m,E),!0;case"pointerover":var x=E.pointerId;return x0.set(x,T0(x0.get(x)||null,A,c,p,m,E)),!0;case"gotpointercapture":return x=E.pointerId,_0.set(x,T0(_0.get(x)||null,A,c,p,m,E)),!0}return!1}function SV(A){var c=ju(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,SB(A.priority,function(){CV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,SB(A.priority,function(){CV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function PS(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=$M(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);jI=m,p.target.dispatchEvent(m),jI=null}else return c=Wu(p),c!==null&&bV(c),A.blockedOn=p,!1;c.shift()}return!0}function xV(A,c,p){PS(A)&&p.delete(c)}function are(){WM=!1,gc!==null&&PS(gc)&&(gc=null),mc!==null&&PS(mc)&&(mc=null),vc!==null&&PS(vc)&&(vc=null),x0.forEach(xV),_0.forEach(xV)}function RS(A,c){A.blockedOn===c&&(A.blockedOn=null,WM||(WM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,are)))}var DS=null;function _V(A){DS!==A&&(DS=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){DS===A&&(DS=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],E=A[c+2];if(typeof m!="function"){if(jM(m||p)===null)continue;break}var x=Wu(p);x!==null&&(A.splice(c,3),c-=3,$F(x,{pending:!0,data:E,method:p.method,action:m},m,E))}}))}function yg(A){function c(j){return RS(j,A)}gc!==null&&RS(gc,A),mc!==null&&RS(mc,A),vc!==null&&RS(vc,A),x0.forEach(c),_0.forEach(c);for(var p=0;p<yc.length;p++){var m=yc[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<yc.length&&(p=yc[0],p.blockedOn===null);)SV(p),p.blockedOn===null&&yc.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var E=p[m],x=p[m+1],N=E[Fi]||null;if(typeof x=="function")N||_V(p);else if(N){var O=null;if(x&&x.hasAttribute("formAction")){if(E=x,N=x[Fi]||null)O=N.formAction;else if(jM(E)!==null)continue}else O=N.action;typeof O=="function"?p[m+1]=O:(p.splice(m,3),m-=3),_V(p)}}}function TV(){function A(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return E=N})},focusReset:"manual",scroll:"manual"})}function c(){E!==null&&(E(),E=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,E=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),E!==null&&(E(),E=null)}}}function YM(A){this._internalRoot=A}NS.prototype.render=YM.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,m=ks();yV(p,m,A,c,null,null)},NS.prototype.unmount=YM.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;yV(A.current,2,null,A,null,null),gS(),c[VA]=null}};function NS(A){this._internalRoot=A}NS.prototype.unstable_scheduleHydration=function(A){if(A){var c=uf();A={blockedOn:null,target:A,priority:c};for(var p=0;p<yc.length&&c!==0&&c<yc[p].priority;p++);yc.splice(p,0,A),p===0&&SV(A)}};var IV=e.version;if(IV!=="19.2.1")throw Error(r(527,IV,"19.2.1"));$.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(r(188)):(A=Object.keys(A).join(","),Error(r(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var ore={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var LS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!LS.isDisabled&&LS.supportsFiber)try{Bn=LS.inject(ore),St=LS}catch{}}return F0.createRoot=function(A,c){if(!i(A))throw Error(r(299));var p=!1,m="",E=NH,x=LH,N=QH;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=mV(A,1,!1,null,null,p,m,null,E,x,N,TV),A[VA]=c.current,MM(A),new YM(c)},F0.hydrateRoot=function(A,c,p){if(!i(A))throw Error(r(299));var m=!1,E="",x=NH,N=LH,O=QH,j=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(x=p.onUncaughtError),p.onCaughtError!==void 0&&(N=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.formState!==void 0&&(j=p.formState)),c=mV(A,1,!0,c,p??null,m,E,j,x,N,O,TV),c.context=vV(null),p=c.current,m=ks(),m=Qy(m),E=ic(m),E.callback=null,sc(p,E,m),p=m,c.current.lanes=p,zi(c,p),Xo(c),A[VA]=c.current,MM(A),new NS(c)},F0.version="19.2.1",F0}var OV;function wre(){if(OV)return eU.exports;OV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eU.exports=yre(),eU.exports}var bre=wre();const Cre=QA(bre);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HV="popstate";function Ere(n={}){function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Up(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),TR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:qw(s))}function r(i,s){ao(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Sre(e,t,r,n)}function jn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ao(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bre(){return Math.random().toString(36).substring(2,10)}function VV(n,e){return{usr:n.state,key:n.key,idx:e}}function TR(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Up(e):e,state:t,key:e&&e.key||r||Bre()}}function qw({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Up(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Sre(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let B=d(),S=B==null?null:B-u;u=B,l&&l({action:o,location:C.location,delta:S})}function g(B,S){o="PUSH";let I=TR(C.location,B,S);t&&t(I,B),u=d()+1;let T=VV(I,u),R=C.createHref(I);try{a.pushState(T,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(R)}s&&l&&l({action:o,location:C.location,delta:1})}function v(B,S){o="REPLACE";let I=TR(C.location,B,S);t&&t(I,B),u=d();let T=VV(I,u),R=C.createHref(I);a.replaceState(T,"",R),s&&l&&l({action:o,location:C.location,delta:0})}function b(B){return xre(B)}let C={get action(){return o},get location(){return n(i,a)},listen(B){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(HV,h),l=B,()=>{i.removeEventListener(HV,h),l=null}},createHref(B){return e(i,B)},createURL:b,encodeLocation(B){let S=b(B);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(B){return a.go(B)}};return C}function xre(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),jn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:qw(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function j8(n,e,t="/"){return _re(n,e,t,!1)}function _re(n,e,t,r){let i=typeof e=="string"?Up(e):e,s=Eu(i.pathname||"/",t);if(s==null)return null;let a=W8(n);Tre(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=kre(s);o=Lre(a[l],u,r)}return o}function W8(n,e=[],t=[],r="",i=!1){let s=(a,o,l=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;jn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=gu([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(jn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),W8(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:Dre(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of Y8(a.path))s(a,o,!0,u)}),e}function Y8(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Y8(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function Tre(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Nre(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Ire=/^:[\w-]+$/,Fre=3,Mre=2,Ure=1,Pre=10,Rre=-2,KV=n=>n==="*";function Dre(n,e){let t=n.split("/"),r=t.length;return t.some(KV)&&(r+=Rre),e&&(r+=Mre),t.filter(i=>!KV(i)).reduce((i,s)=>i+(Ire.test(s)?Fre:s===""?Ure:Pre),r)}function Nre(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Lre(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=$_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!r[r.length-1].route.index&&(h=$_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:gu([s,h.pathname]),pathnameBase:Gre(gu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=gu([s,h.pathnameBase]))}return a}function $_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Qre(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function Qre(n,e=!1,t=!0){ao(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kre(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ao(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Eu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Ore=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hre=n=>Ore.test(n);function Vre(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Up(n):n,s;if(t)if(Hre(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),ao(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=GV(t.substring(1),"/"):s=GV(t,e)}else s=e;return{pathname:s,search:zre(r),hash:qre(i)}}function GV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function iU(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kre(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function X8(n){let e=Kre(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function J8(n,e,t,r=!1){let i;typeof n=="string"?i=Up(n):(i={...n},jn(!i.pathname||!i.pathname.includes("?"),iU("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),iU("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),iU("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=Vre(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var gu=n=>n.join("/").replace(/\/\/+/g,"/"),Gre=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zre=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qre=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $re(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function jre(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z8=["POST","PUT","PATCH","DELETE"];new Set(Z8);var Wre=["GET",...Z8];new Set(Wre);var Sy=F.createContext(null);Sy.displayName="DataRouter";var R1=F.createContext(null);R1.displayName="DataRouterState";F.createContext(!1);var e6=F.createContext({isTransitioning:!1});e6.displayName="ViewTransition";var Yre=F.createContext(new Map);Yre.displayName="Fetchers";var Xre=F.createContext(null);Xre.displayName="Await";var Vo=F.createContext(null);Vo.displayName="Navigation";var zE=F.createContext(null);zE.displayName="Location";var Lu=F.createContext({outlet:null,matches:[],isDataRoute:!1});Lu.displayName="Route";var xQ=F.createContext(null);xQ.displayName="RouteError";function Jre(n,{relative:e}={}){jn(qE(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(Vo),{hash:i,pathname:s,search:a}=$E(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:gu([t,s])),r.createHref({pathname:o,search:a,hash:i})}function qE(){return F.useContext(zE)!=null}function Qu(){return jn(qE(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(zE).location}var t6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n6(n){F.useContext(Vo).static||F.useLayoutEffect(n)}function r6(){let{isDataRoute:n}=F.useContext(Lu);return n?cie():Zre()}function Zre(){jn(qE(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Sy),{basename:e,navigator:t}=F.useContext(Vo),{matches:r}=F.useContext(Lu),{pathname:i}=Qu(),s=JSON.stringify(X8(r)),a=F.useRef(!1);return n6(()=>{a.current=!0}),F.useCallback((l,u={})=>{if(ao(a.current,t6),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=J8(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:gu([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,i,n])}F.createContext(null);function $E(n,{relative:e}={}){let{matches:t}=F.useContext(Lu),{pathname:r}=Qu(),i=JSON.stringify(X8(t));return F.useMemo(()=>J8(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function eie(n,e){return i6(n,e)}function i6(n,e,t,r,i){var I;jn(qE(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(Vo),{matches:a}=F.useContext(Lu),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";s6(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Qu(),v;if(e){let T=typeof e=="string"?Up(e):e;jn(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let b=v.pathname||"/",C=b;if(d!=="/"){let T=d.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let B=j8(n,{pathname:C});ao(h||B!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ao(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=sie(B&&B.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:gu([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:gu([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,r,i);return e&&S?F.createElement(zE.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function tie(){let n=uie(),e=$re(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:i},t):null,a)}var nie=F.createElement(tie,null),rie=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(Lu.Provider,{value:this.props.routeContext},F.createElement(xQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iie({routeContext:n,match:e,children:t}){let r=F.useContext(Sy);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Lu.Provider,{value:n},t)}function sie(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);jn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||b){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&r?(d,h)=>{var g,v;r(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:jre(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,b=!1,C=null,B=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,C=h.route.errorElement||nie,o&&(l<0&&g===0?(s6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,B=null):l===g&&(b=!0,B=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=C:b?T=B:h.route.Component?T=F.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,F.createElement(iie,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?F.createElement(rie,{location:t.location,revalidation:t.revalidation,component:C,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:u}):I()},null)}function _Q(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aie(n){let e=F.useContext(Sy);return jn(e,_Q(n)),e}function oie(n){let e=F.useContext(R1);return jn(e,_Q(n)),e}function Aie(n){let e=F.useContext(Lu);return jn(e,_Q(n)),e}function TQ(n){let e=Aie(n),t=e.matches[e.matches.length-1];return jn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function lie(){return TQ("useRouteId")}function uie(){var r;let n=F.useContext(xQ),e=oie("useRouteError"),t=TQ("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function cie(){let{router:n}=aie("useNavigate"),e=TQ("useNavigate"),t=F.useRef(!1);return n6(()=>{t.current=!0}),F.useCallback(async(i,s={})=>{ao(t.current,t6),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var zV={};function s6(n,e,t){!e&&!zV[n]&&(zV[n]=!0,ao(!1,t))}F.memo(die);function die({routes:n,future:e,state:t,unstable_onError:r}){return i6(n,void 0,t,r,e)}function IR(n){jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fie({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){jn(!qE(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:o,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[o,i,s,a]);typeof t=="string"&&(t=Up(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,b=F.useMemo(()=>{let C=Eu(u,o);return C==null?null:{location:{pathname:C,search:d,hash:h,state:g,key:v},navigationType:r}},[o,u,d,h,g,v,r]);return ao(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:F.createElement(Vo.Provider,{value:l},F.createElement(zE.Provider,{children:e,value:b}))}function hie({children:n,location:e}){return eie(FR(n),e)}function FR(n,e=[]){let t=[];return F.Children.forEach(n,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){t.push.apply(t,FR(r.props.children,s));return}jn(r.type===IR,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=FR(r.props.children,s)),t.push(a)}),t}var Hx="get",Vx="application/x-www-form-urlencoded";function D1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function pie(n){return D1(n)&&n.tagName.toLowerCase()==="button"}function gie(n){return D1(n)&&n.tagName.toLowerCase()==="form"}function mie(n){return D1(n)&&n.tagName.toLowerCase()==="input"}function vie(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yie(n,e){return n.button===0&&(!e||e==="_self")&&!vie(n)}var QS=null;function wie(){if(QS===null)try{new FormData(document.createElement("form"),0),QS=!1}catch{QS=!0}return QS}var bie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sU(n){return n!=null&&!bie.has(n)?(ao(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vx}"`),null):n}function Cie(n,e){let t,r,i,s,a;if(gie(n)){let o=n.getAttribute("action");r=o?Eu(o,e):null,t=n.getAttribute("method")||Hx,i=sU(n.getAttribute("enctype"))||Vx,s=new FormData(n)}else if(pie(n)||mie(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(r=l?Eu(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Hx,i=sU(n.getAttribute("formenctype"))||sU(o.getAttribute("enctype"))||Vx,s=new FormData(o,n),!wie()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(D1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hx,r=null,i=Vx,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function IQ(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Eie(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Eu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function Bie(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sie(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xie(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Bie(s,t);return a.links?a.links():[]}return[]}));return Fie(r.flat(1).filter(Sie).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qV(n,e,t,r,i,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _ie(n,e,{includeHydrateFallback:t}={}){return Tie(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Tie(n){return[...new Set(n)]}function Iie(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Fie(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Iie(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function a6(){let n=F.useContext(Sy);return IQ(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Mie(){let n=F.useContext(R1);return IQ(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var FQ=F.createContext(void 0);FQ.displayName="FrameworkContext";function o6(){let n=F.useContext(FQ);return IQ(n,"You must render this element inside a <HydratedRouter> element"),n}function Uie(n,e){let t=F.useContext(FQ),[r,i]=F.useState(!1),[s,a]=F.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=F.useRef(null);F.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let C=S=>{S.forEach(I=>{a(I.isIntersecting)})},B=new IntersectionObserver(C,{threshold:.5});return g.current&&B.observe(g.current),()=>{B.disconnect()}}},[n]),F.useEffect(()=>{if(r){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:M0(o,v),onBlur:M0(l,b),onMouseEnter:M0(u,v),onMouseLeave:M0(d,b),onTouchStart:M0(h,v)}]:[!1,g,{}]}function M0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Pie({page:n,...e}){let{router:t}=a6(),r=F.useMemo(()=>j8(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(Die,{page:n,matches:r,...e}):null}function Rie(n){let{manifest:e,routeModules:t}=o6(),[r,i]=F.useState([]);return F.useEffect(()=>{let s=!1;return xie(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function Die({page:n,matches:e,...t}){let r=Qu(),{manifest:i,routeModules:s}=o6(),{basename:a}=a6(),{loaderData:o,matches:l}=Mie(),u=F.useMemo(()=>qV(n,e,l,i,r,"data"),[n,e,l,i,r]),d=F.useMemo(()=>qV(n,e,l,i,r,"assets"),[n,e,l,i,r]),h=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,C=!1;if(e.forEach(S=>{var T;let I=i.routes[S.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===S.route.id)&&S.route.id in o&&((T=s[S.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?C=!0:b.add(S.route.id))}),b.size===0)return[];let B=Eie(n,a,"data");return C&&b.size>0&&B.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[B.pathname+B.search]},[a,o,r,i,u,e,n,s]),g=F.useMemo(()=>_ie(d,i),[d,i]),v=Rie(d);return F.createElement(F.Fragment,null,h.map(b=>F.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>F.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:C})=>F.createElement("link",{key:b,nonce:t.nonce,...C})))}function Nie(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var A6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A6&&(window.__reactRouterVersion="7.10.1")}catch{}function Lie({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=F.useRef();i.current==null&&(i.current=Ere({window:r,v5Compat:!0}));let s=i.current,[a,o]=F.useState({action:s.action,location:s.location}),l=F.useCallback(u=>{t===!1?o(u):F.startTransition(()=>o(u))},[t]);return F.useLayoutEffect(()=>s.listen(l),[s,l]),F.createElement(fie,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var l6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j_=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:b,unstable_useTransitions:C}=F.useContext(Vo),B=typeof u=="string"&&l6.test(u),S,I=!1;if(typeof u=="string"&&B&&(S=u,A6))try{let K=new URL(window.location.href),G=u.startsWith("//")?new URL(K.protocol+u):new URL(u),z=Eu(G.pathname,b);G.origin===K.origin&&z!=null?u=z+G.search+G.hash:I=!0}catch{ao(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Jre(u,{relative:i}),[R,M,D]=Uie(r,g),L=Hie(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h,unstable_useTransitions:C});function H(K){e&&e(K),K.defaultPrevented||L(K)}let k=F.createElement("a",{...g,...D,href:S||T,onClick:I||s?e:H,ref:Nie(v,M),target:l,"data-discover":!B&&t==="render"?"true":void 0});return R&&!B?F.createElement(F.Fragment,null,k,F.createElement(Pie,{page:T})):k});j_.displayName="Link";var Qie=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=$E(a,{relative:u.relative}),g=Qu(),v=F.useContext(R1),{navigator:b,basename:C}=F.useContext(Vo),B=v!=null&&qie(h)&&o===!0,S=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&C&&(T=Eu(T,C)||T);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=I===S||!i&&I.startsWith(S)&&I.charAt(R)==="/",D=T!=null&&(T===S||!i&&T.startsWith(S)&&T.charAt(S.length)==="/"),L={isActive:M,isPending:D,isTransitioning:B},H=M?e:void 0,k;typeof r=="function"?k=r(L):k=[r,M?"active":null,D?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(L):s;return F.createElement(j_,{...u,"aria-current":H,className:k,ref:d,style:K,to:a,viewTransition:o},typeof l=="function"?l(L):l)});Qie.displayName="NavLink";var kie=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Hx,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:b}=F.useContext(Vo),C=Gie(),B=zie(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&l6.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,D=(M==null?void 0:M.getAttribute("formmethod"))||a,L=()=>C(M||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h});b&&t!==!1?F.startTransition(()=>L()):L()};return F.createElement("form",{ref:v,method:S,action:B,onSubmit:r?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});kie.displayName="Form";function Oie(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u6(n){let e=F.useContext(Sy);return jn(e,Oie(n)),e}function Hie(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=r6(),u=Qu(),d=$E(n,{relative:s});return F.useCallback(h=>{if(yie(h,e)){h.preventDefault();let g=t!==void 0?t:qw(u)===qw(d),v=()=>l(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a});o?F.startTransition(()=>v()):v()}},[u,l,d,t,r,e,n,i,s,a,o])}var Vie=0,Kie=()=>`__${String(++Vie)}__`;function Gie(){let{router:n}=u6("useSubmit"),{basename:e}=F.useContext(Vo),t=lie(),r=n.fetch,i=n.navigate;return F.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=Cie(s,e);if(a.navigate===!1){let g=a.fetcherKey||Kie();await r(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,t])}function zie(n,{relative:e}={}){let{basename:t}=F.useContext(Vo),r=F.useContext(Lu);jn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...$E(n||".",{relative:e})},a=Qu();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:gu([t,s.pathname])),qw(s)}function qie(n,{relative:e}={}){let t=F.useContext(e6);jn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=u6("useViewTransitionState"),i=$E(n,{relative:e});if(!t.isTransitioning)return!1;let s=Eu(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Eu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $_(i.pathname,a)!=null||$_(i.pathname,s)!=null}var c6=$8();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $ie,jie;function Wie(){return{geminiUrl:$ie,vertexUrl:jie}}function Yie(n,e,t,r){var i,s;if(!(n!=null&&n.baseUrl)){const a=Wie();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ku{}function Pe(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function Xie(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),s=r.split("."),a=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}MR(n,i,s,0,a)}}function MR(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])MR(l,e,t,r+1,i)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(r))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&MR(a[s],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MQ(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jie(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const r=y(n,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function Zie(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],tse(a)),e}function ese(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],nse(a)),e}function tse(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>rse(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function nse(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>ise(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function rse(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],use(t)),e}function ise(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],cse(t)),e}function sse(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function ase(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function ose(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Ase(a)),e}function Ase(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function d6(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],lse(a)),e}function lse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function use(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],MQ(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function cse(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],MQ(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $V;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($V||($V={}));var jV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(jV||(jV={}));var WV;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(WV||(WV={}));var Vd;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Vd||(Vd={}));var YV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(YV||(YV={}));var XV;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(XV||(XV={}));var JV;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(JV||(JV={}));var ZV;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ZV||(ZV={}));var e3;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(e3||(e3={}));var t3;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(t3||(t3={}));var n3;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(n3||(n3={}));var r3;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(r3||(r3={}));var i3;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(i3||(i3={}));var s3;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(s3||(s3={}));var a3;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(a3||(a3={}));var o3;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(o3||(o3={}));var A3;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(A3||(A3={}));var l3;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(l3||(l3={}));var u3;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(u3||(u3={}));var W_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(W_||(W_={}));var c3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(c3||(c3={}));var d3;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(d3||(d3={}));var f3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(f3||(f3={}));var UR;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(UR||(UR={}));var h3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(h3||(h3={}));var p3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(p3||(p3={}));var g3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(g3||(g3={}));var m3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(m3||(m3={}));var v3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(v3||(v3={}));var y3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(y3||(y3={}));var w3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(w3||(w3={}));var b3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(b3||(b3={}));var C3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(C3||(C3={}));var E3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(E3||(E3={}));var B3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(B3||(B3={}));var S3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(S3||(S3={}));var x3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(x3||(x3={}));var _3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_3||(_3={}));var T3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(T3||(T3={}));var I3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(I3||(I3={}));var F3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(F3||(F3={}));var M3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(M3||(M3={}));var U3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(U3||(U3={}));var P3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(P3||(P3={}));var R3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(R3||(R3={}));var D3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(D3||(D3={}));var N3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(N3||(N3={}));var L3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(L3||(L3={}));var Q3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Q3||(Q3={}));var k3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(k3||(k3={}));var O3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(O3||(O3={}));var H3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(H3||(H3={}));var V3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(V3||(V3={}));var K3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(K3||(K3={}));var zg;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(zg||(zg={}));class PR{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class U0{get text(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,b]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(b!==null||b!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,r,i,s,a,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,r,i,s,a,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class G3{}class z3{}class dse{}class fse{}class hse{}class pse{}class q3{}class $3{}class j3{}class gse{}class Y_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new Y_;let i;const s=e;return t?i=ese(s):i=Zie(s),Object.assign(r,i),r}}class W3{}class Y3{}class X3{}class J3{}class mse{}class vse{}class yse{}class UQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new UQ,s=ose(e);return Object.assign(r,s),r}}class wse{}class bse{}class Cse{}class Z3{}class Ese{get text(){var e,t,r;let i="",s=!1;const a=[];for(const o of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,r;let i="";const s=[];for(const a of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Bse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class PQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new PQ,s=d6(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ot(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function f6(n,e){const t=Ot(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function h6(n){return Array.isArray(n)?n.map(e=>X_(e)):[X_(n)]}function X_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function p6(n){const e=X_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function g6(n){const e=X_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function eK(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function m6(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>eK(e)):[eK(n)]}function RR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function tK(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function nK(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Vi(n){if(n==null)throw new Error("ContentUnion is required");return RR(n)?n:{role:"user",parts:m6(n)}}function RQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=Vi(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=Vi(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Vi(t)):[Vi(e)]}function io(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(tK(n)||nK(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vi(n)]}const e=[],t=[],r=RR(n[0]);for(const i of n){const s=RR(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(tK(i)||nK(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:m6(t)}),e}function Sse(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(Vd).includes(t[0].toUpperCase())?t[0].toUpperCase():Vd.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(Vd).includes(r.toUpperCase())?r.toUpperCase():Vd.TYPE_UNSPECIFIED})}}function nm(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&Sse(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Vd).includes(o.toUpperCase())?o.toUpperCase():Vd.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=nm(o);else if(r.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(nm(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=nm(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function DQ(n){return nm(n)}function NQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function LQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function xy(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=nm(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=nm(e.response));return n}function _y(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function xse(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Ou(n,e){if(typeof e!="string")throw new Error("name must be a string");return xse(n,e,"cachedContents")}function v6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function nf(n){return MQ(n)}function _se(n){return n!=null&&typeof n=="object"&&"name"in n}function Tse(n){return n!=null&&typeof n=="object"&&"video"in n}function Ise(n){return n!=null&&typeof n=="object"&&"uri"in n}function y6(n){var e;let t;if(_se(n)&&(t=n.name),!(Ise(n)&&(t=n.uri,t===void 0))&&!(Tse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function w6(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function b6(n){for(const e of["models","tunedModels","publisherModels"])if(Fse(n,e))return n[e];return[]}function Fse(n,e){return n!==null&&typeof n=="object"&&e in n}function Mse(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Use(n,e={}){const t=[],r=new Set;for(const i of n){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=Mse(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function C6(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Pse(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function E6(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ty(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function B6(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const r=y(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>hae(a))),w(e,["inlinedResponses"],s)}const i=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function Dse(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function Nse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Kx(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["metadata","state"]);i!=null&&w(e,["state"],B6(i));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],Rse(E6(u))),e}function DR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["state"]);i!=null&&w(e,["state"],B6(i));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],Lse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],Dse(E6(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function Lse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function Qse(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&w(t,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>fae(n,a))),w(t,["requests","requests"],s)}return t}function kse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ose(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Hse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function Vse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function Kse(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],Gse(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Gse(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function S6(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>bae(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function zse(n,e){const t={},r=y(n,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function qse(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],Nse(Pse(i))),t}function rK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],Qse(n,C6(n,i)));const s=y(e,["config"]);return s!=null&&zse(s,t),t}function $se(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],Ot(n,r));const i=y(e,["src"]);i!=null&&w(t,["inputConfig"],kse(C6(n,i)));const s=y(e,["config"]);return s!=null&&qse(s,t),t}function jse(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),t}function Wse(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],nae(n,i));const s=y(e,["config"]);return s!=null&&jse(s,t),t}function Yse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function Xse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function Jse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Zse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function eae(n,e){const t={},r=y(e,["contents"]);if(r!=null){let s=RQ(n,r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(w(t,["_self"],tae(i,t)),Xie(t,{"requests[].*":"requests[].request.*"})),t}function tae(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function nae(n,e){const t={},r=y(e,["fileName"]);r!=null&&w(t,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&w(t,["requests"],eae(n,i)),t}function rae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function iae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function aae(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],S6(Vi(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(r,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(r,["seed"],C);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],DQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(Z=>Cae(Z))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=_y(R);Array.isArray(z)&&(z=z.map(Z=>Bae(xy(Z)))),w(t,["tools"],z)}const M=y(e,["toolConfig"]);if(t!==void 0&&M!=null&&w(t,["toolConfig"],Eae(M)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Ou(n,D));const L=y(e,["responseModalities"]);L!=null&&w(r,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(r,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(r,["speechConfig"],NQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(r,["thinkingConfig"],K);const G=y(e,["imageConfig"]);return G!=null&&w(r,["imageConfig"],dae(G)),r}function oae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Kse(u))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function Aae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function lae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function uae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function cae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function dae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["request","model"],Ot(n,r));const i=y(e,["contents"]);if(i!=null){let o=io(i);Array.isArray(o)&&(o=o.map(l=>S6(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],aae(n,a,y(t,["request"],{}))),t}function hae(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],oae(t));const r=y(n,["error"]);return r!=null&&w(e,["error"],r),e}function pae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function gae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function mae(n){const e={},t=y(n,["config"]);return t!=null&&pae(t,e),e}function vae(n){const e={},t=y(n,["config"]);return t!=null&&gae(t,e),e}function yae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Kx(a))),w(e,["batchJobs"],s)}return e}function wae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>DR(a))),w(e,["batchJobs"],s)}return e}function bae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],rae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],iae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Ose(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Cae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function Eae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],sae(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function Bae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],uae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],cae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bu;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Bu||(Bu={}));class Pp{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sae extends ku{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pp(Bu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=rK(this.apiClient,e),r=t._url,i=Pe("{model}:batchGenerateContent",r),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=$se(this.apiClient,e);return o=Pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>DR(d))}else{const u=rK(this.apiClient,e);return o=Pe("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Kx(d))}}async createEmbeddingsInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Wse(this.apiClient,e);return s=Pe("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Kx(l))}}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=lae(this.apiClient,e);return o=Pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>DR(d))}else{const u=Aae(this.apiClient,e);return o=Pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Kx(d))}}async cancel(e){var t,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Vse(this.apiClient,e);a=Pe("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Hse(this.apiClient,e);a=Pe("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=vae(e);return o=Pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=wae(d),g=new Z3;return Object.assign(g,h),g})}else{const u=mae(e);return o=Pe("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=yae(d),g=new Z3;return Object.assign(g,h),g})}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Xse(this.apiClient,e);return o=Pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Zse(d))}else{const u=Yse(this.apiClient,e);return o=Pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Jse(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function iK(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Wae(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function _ae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=io(a);Array.isArray(d)&&(d=d.map(h=>iK(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],iK(Vi(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Xae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],Yae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Tae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=io(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],Vi(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Jae(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function Iae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],f6(n,r));const i=y(e,["config"]);return i!=null&&_ae(i,t),t}function Fae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],f6(n,r));const i=y(e,["config"]);return i!=null&&Tae(i,t),t}function Mae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ou(n,r)),t}function Uae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ou(n,r)),t}function Pae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Rae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Dae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Nae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function kae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ou(n,r)),t}function Oae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ou(n,r)),t}function Hae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Vae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Kae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Gae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function zae(n){const e={},t=y(n,["config"]);return t!=null&&Kae(t,e),e}function qae(n){const e={},t=y(n,["config"]);return t!=null&&Gae(t,e),e}function $ae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function jae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Wae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Dae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Nae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],xae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Yae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Lae(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function Xae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Hae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Vae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Jae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Qae(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Zae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function eoe(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function toe(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Ou(n,r));const i=y(e,["config"]);return i!=null&&Zae(i,t),t}function noe(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Ou(n,r));const i=y(e,["config"]);return i!=null&&eoe(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class roe extends ku{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pp(Bu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Fae(this.apiClient,e);return o=Pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Iae(this.apiClient,e);return o=Pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Oae(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=kae(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Uae(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Rae(d),g=new X3;return Object.assign(g,h),g})}else{const u=Mae(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Pae(d),g=new X3;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=noe(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=toe(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=qae(e);return o=Pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=jae(d),g=new J3;return Object.assign(g,h),g})}else{const u=zae(e);return o=Pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=$ae(d),g=new J3;return Object.assign(g,h),g})}}}function sK(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nn(n){return this instanceof Nn?(this.v=n,this):new Nn(n)}function rm(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(b){return Promise.resolve(b).then(v,h)}}function o(v,b){r[v]&&(i[v]=function(C){return new Promise(function(B,S){s.push([v,C,B,S])>1||l(v,C)})},b&&(i[v]=b(i[v])))}function l(v,b){try{u(r[v](b))}catch(C){g(s[0][3],C)}}function u(v){v.value instanceof Nn?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,b){v(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Dw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof sK=="function"?sK(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ioe(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:x6(t)}function x6(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function soe(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function aK(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let s=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),s&&!x6(n[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class aoe{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ooe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ooe{constructor(e,t,r,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),soe(s)}async sendMessage(e){var t;await this.sendPromise;const r=Vi(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=Vi(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const t=e?aK(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,i;return rm(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=Dw(e),v;v=yield Nn(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const b=u;if(ioe(b)){const C=(i=(r=b.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&d.push(C)}yield yield Nn(b)}}catch(b){o={error:b}}finally{try{!h&&!a&&(l=g.return)&&(yield Nn(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...aK(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,N1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aoe(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function loe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function uoe(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],y6(t)),e}function coe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function doe(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],y6(t)),e}function foe(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function hoe(n){const e={},t=y(n,["config"]);return t!=null&&foe(t,e),e}function poe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class goe extends ku{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pp(Bu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hoe(e);return s=Pe("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=poe(l),d=new wse;return Object.assign(d,u),d})}}async createInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Aoe(e);return s=Pe("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=loe(l),d=new bse;return Object.assign(d,u),d})}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=doe(e);return s=Pe("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uoe(e);return s=Pe("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=coe(l),d=new Cse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gx(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function moe(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Poe(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function voe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function yoe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function woe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function boe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const B=y(n,["routingConfig"]);B!=null&&w(e,["routingConfig"],B);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],_6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const M=y(n,["thinkingConfig"]);M!=null&&w(e,["thinkingConfig"],M);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Coe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Eoe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Boe(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],LQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],moe(Vi(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=_y(C);Array.isArray(D)&&(D=D.map(L=>Doe(xy(L)))),w(e,["setup","tools"],D)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],Roe(B));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function Soe(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],boe(r));const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],_6(LQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],Vi(b));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=_y(C);Array.isArray(D)&&(D=D.map(L=>Noe(xy(L)))),w(e,["setup","tools"],D)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],B);const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function xoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],Ot(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],Boe(i,t)),t}function _oe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],Ot(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],Soe(i,t)),t}function Toe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function Ioe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function Foe(n){const e={},t=y(n,["media"]);if(t!=null){let u=h6(t);Array.isArray(u)&&(u=u.map(d=>Gx(d))),w(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],Gx(g6(r)));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],Gx(p6(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function Moe(n){const e={},t=y(n,["media"]);if(t!=null){let u=h6(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],g6(r));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],p6(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function Uoe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const r=y(n,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=y(n,["toolCall"]);i!=null&&w(e,["toolCall"],i);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],Loe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function Poe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],voe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],yoe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Gx(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Roe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Doe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Coe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Eoe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Noe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>woe(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Loe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const r=y(n,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=y(n,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qoe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function koe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],Ooe(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Ooe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function Hoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["contents"]);if(i!=null){let s=io(i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function Voe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["tokensInfo"],i)}return e}function Koe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const r=y(n,["statistics"]);return r!=null&&w(e,["statistics"],Goe(r)),e}function Goe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const r=y(n,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function L1(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>ZAe(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function zoe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const r=y(n,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function qoe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function $oe(n,e){const t={},r=y(n,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],Vi(r));const i=y(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>U6(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],QAe(s)),t}function joe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["contents"]);if(i!=null){let a=io(i);Array.isArray(a)&&(a=a.map(o=>L1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&qoe(s),t}function Woe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["contents"]);if(i!=null){let a=io(i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&$oe(s,t),t}function Yoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=y(n,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function Xoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function Joe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Ot(n,r)),t}function Zoe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Ot(n,r)),t}function eAe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function tAe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function nAe(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const B=y(n,["addWatermark"]);e!==void 0&&B!=null&&w(e,["parameters","addWatermark"],B);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function rAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>sle(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&nAe(a,t),t}function iAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Q1(s))),w(e,["generatedImages"],i)}return e}function sAe(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function aAe(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function oAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["contents"]);if(i!=null){let o=RQ(n,i);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&sAe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],Ot(n,a)),t}function AAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["contents"]);if(i!=null){let a=RQ(n,i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&aAe(s,t),t}function lAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function uAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Koe(a))),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function cAe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const r=y(n,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function dAe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function fAe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hAe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pAe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function gAe(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],L1(Vi(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(r,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(r,["seed"],C);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],DQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(Z=>ale(Z))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=_y(R);Array.isArray(z)&&(z=z.map(Z=>fle(xy(Z)))),w(t,["tools"],z)}const M=y(e,["toolConfig"]);if(t!==void 0&&M!=null&&w(t,["toolConfig"],dle(M)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Ou(n,D));const L=y(e,["responseModalities"]);L!=null&&w(r,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(r,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(r,["speechConfig"],NQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(r,["thinkingConfig"],K);const G=y(e,["imageConfig"]);return G!=null&&w(r,["imageConfig"],KAe(G)),r}function mAe(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Vi(i));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(r,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(r,["seed"],C);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],DQ(S));const I=y(e,["responseJsonSchema"]);I!=null&&w(r,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(r,["routingConfig"],T);const R=y(e,["modelSelectionConfig"]);R!=null&&w(r,["modelConfig"],R);const M=y(e,["safetySettings"]);if(t!==void 0&&M!=null){let V=M;Array.isArray(V)&&(V=V.map($=>$)),w(t,["safetySettings"],V)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let V=_y(D);Array.isArray(V)&&(V=V.map($=>U6(xy($)))),w(t,["tools"],V)}const L=y(e,["toolConfig"]);t!==void 0&&L!=null&&w(t,["toolConfig"],L);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const k=y(e,["cachedContent"]);t!==void 0&&k!=null&&w(t,["cachedContent"],Ou(n,k));const K=y(e,["responseModalities"]);K!=null&&w(r,["responseModalities"],K);const G=y(e,["mediaResolution"]);G!=null&&w(r,["mediaResolution"],G);const z=y(e,["speechConfig"]);z!=null&&w(r,["speechConfig"],M6(NQ(z)));const Z=y(e,["audioTimestamp"]);Z!=null&&w(r,["audioTimestamp"],Z);const ne=y(e,["thinkingConfig"]);ne!=null&&w(r,["thinkingConfig"],ne);const J=y(e,["imageConfig"]);return J!=null&&w(r,["imageConfig"],GAe(J)),r}function oK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["contents"]);if(i!=null){let a=io(i);Array.isArray(a)&&(a=a.map(o=>L1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],gAe(n,s,t)),t}function AK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["contents"]);if(i!=null){let a=io(i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],mAe(n,s,t)),t}function lK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>koe(u))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function uK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function vAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function yAe(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const B=y(n,["addWatermark"]);e!==void 0&&B!=null&&w(e,["parameters","addWatermark"],B);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function wAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&vAe(s,t),t}function bAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&yAe(s,t),t}function CAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>RAe(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],I6(i)),e}function EAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Q1(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],F6(i)),e}function BAe(n,e){const t={},r=y(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(n,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],k1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>xle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function SAe(n,e){const t={},r=y(n,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const b=y(n,["generateAudio"]);e!==void 0&&b!=null&&w(e,["parameters","generateAudio"],b);const C=y(n,["lastFrame"]);e!==void 0&&C!=null&&w(e,["instances[0]","lastFrame"],Ko(C));const B=y(n,["referenceImages"]);if(e!==void 0&&B!=null){let T=B;Array.isArray(T)&&(T=T.map(R=>_le(R))),w(e,["instances[0]","referenceImages"],T)}const S=y(n,["mask"]);e!==void 0&&S!=null&&w(e,["instances[0]","mask"],Sle(S));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function xAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],FAe(a)),e}function _Ae(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],MAe(a)),e}function TAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],k1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],P6(a));const o=y(e,["source"]);o!=null&&UAe(o,t);const l=y(e,["config"]);return l!=null&&BAe(l,t),t}function IAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],Ko(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],R6(a));const o=y(e,["source"]);o!=null&&PAe(o,t);const l=y(e,["config"]);return l!=null&&SAe(l,t),t}function FAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>NAe(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function MAe(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>LAe(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function UAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],k1(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],P6(s)),t}function PAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Ko(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],R6(s)),t}function RAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],zAe(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);return i!=null&&w(e,["safetyAttributes"],I6(i)),e}function Q1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],T6(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);i!=null&&w(e,["safetyAttributes"],F6(i));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function DAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],T6(t));const r=y(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["labels"],i)}return e}function NAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],Ele(t)),e}function LAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],Ble(t)),e}function QAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const B=y(n,["routingConfig"]);B!=null&&w(e,["routingConfig"],B);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],M6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const M=y(n,["thinkingConfig"]);M!=null&&w(e,["thinkingConfig"],M);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function kAe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Ot(n,r)),t}function OAe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Ot(n,r)),t}function HAe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function VAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function KAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function GAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=y(n,["outputMimeType"]);i!=null&&w(e,["imageOutputOptions","mimeType"],i);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function zAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],nf(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function T6(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],nf(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function k1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],nf(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ko(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],nf(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function qAe(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],w6(n,o)),r}function $Ae(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],w6(n,o)),r}function jAe(n,e){const t={},r=y(e,["config"]);return r!=null&&qAe(n,r,t),t}function WAe(n,e){const t={},r=y(e,["config"]);return r!=null&&$Ae(n,r,t),t}function YAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=b6(i);Array.isArray(s)&&(s=s.map(a=>NR(a))),w(e,["models"],s)}return e}function XAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=b6(i);Array.isArray(s)&&(s=s.map(a=>LR(a))),w(e,["models"],s)}return e}function JAe(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const r=y(n,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=y(n,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function NR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],hle(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const b=y(n,["thinking"]);return b!=null&&w(e,["thinking"],b),e}function LR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>cAe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],ple(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function ZAe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],dAe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],fAe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Qoe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function ele(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],Ko(t)),e}function tle(n,e){const t={},r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function nle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["source"]);i!=null&&ile(i,t);const s=y(e,["config"]);return s!=null&&tle(s,t),t}function rle(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Q1(i))),w(e,["generatedImages"],r)}return e}function ile(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],Ko(i));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>ele(o))),w(e,["instances[0]","productImages"],a)}return t}function sle(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Ko(t));const r=y(n,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=y(n,["referenceType"]);i!=null&&w(e,["referenceType"],i);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],JAe(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],zoe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function I6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function F6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function ale(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function ole(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],Ko(t)),e}function Ale(n,e){const t={},r=y(n,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=y(n,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function lle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["source"]);i!=null&&cle(i,t);const s=y(e,["config"]);return s!=null&&Ale(s,t),t}function ule(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>DAe(i))),w(e,["generatedMasks"],r)}return e}function cle(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Ko(i));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],ole(s)),t}function M6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function dle(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],hAe(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function fle(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],HAe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],VAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function U6(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>pAe(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function hle(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function ple(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function gle(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function mle(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function vle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","name"],Ot(n,r));const i=y(e,["config"]);return i!=null&&gle(i,t),t}function yle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["config"]);return i!=null&&mle(i,t),t}function wle(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function ble(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Ot(n,r));const i=y(e,["image"]);i!=null&&w(t,["instances[0]","image"],Ko(i));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&wle(a,t),t}function Cle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Q1(s))),w(e,["generatedImages"],i)}return e}function Ele(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],nf(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function Ble(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],nf(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Sle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],Ko(t));const r=y(n,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function xle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],k1(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function _le(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],Ko(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function P6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["encodedVideo"],nf(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function R6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],nf(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tle(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),t}function Ile(n){const e={},t=y(n,["config"]);return t!=null&&Tle(t,e),e}function Fle(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function Mle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&Fle(r,e),e}function Ule(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Ple(n,e){const t={},r=y(n,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const i=y(n,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),t}function Rle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Nle(a)),e}function Dle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["fileName"]);r!=null&&w(e,["fileName"],r);const i=y(n,["config"]);return i!=null&&Ple(i,e),e}function Nle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function Lle(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Qle(n){const e={},t=y(n,["config"]);return t!=null&&Lle(t,e),e}function kle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function D6(n,e){const t={},r=y(n,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Ole(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["config"]);return r!=null&&D6(r,e),e}function Hle(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vle="Content-Type",Kle="X-Server-Timeout",Gle="User-Agent",QR="x-goog-api-client",zle="1.31.0",qle=`google-genai-sdk/${zle}`,$le="v1beta1",jle="v1beta",cK=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Wle{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:$le,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:jle,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&Yle(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await dK(i),new PR(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await dK(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return rm(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield Nn(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,b=g.code,C=`got status: ${v}. ${JSON.stringify(h)}`;if(b>=400&&b<600)throw new N1({message:C,status:b})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(cK);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Nn(new PR(g)),a=a.slice(d[0].length),d=a.match(cK)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=qle+" "+this.clientOptions.userAgentExtra;return e[Gle]=t,e[QR]=t,e[Vle]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(Kle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},u=this.getFileName(e),d=Pe("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,r){var i;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};r!=null&&D6(r,h);const g=await this.fetchUploadUrl(u,o,l,d,h,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function dK(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new N1({message:i,status:t}):new Error(i)}}function Yle(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xle="mcp_used/unknown";let Jle=!1;function N6(n){for(const e of n)if(Zle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Jle}function L6(n){var e;const t=(e=n[QR])!==null&&e!==void 0?e:"";n[QR]=(t+` ${Xle}`).trimStart()}function Zle(n){return n!==null&&typeof n=="object"&&n instanceof QQ}function eue(n,e=100){return rm(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield Nn(n.listTools({cursor:r}));for(const a of s.tools)yield yield Nn(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class QQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new QQ(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,Dw(eue(d))),u;u=await l.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const h=i;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Use(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);t.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tue(n,e,t){const r=new Bse;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class nue{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=sue(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,b={onopen:g,onmessage:T=>{tue(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(T){}},C=this.webSocketFactory.create(l,iue(a),b);C.connect(),await d;const I={setup:{model:Ot(this.apiClient,e.model)}};return C.send(JSON.stringify(I)),new rue(C,this.apiClient)}}class rue{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=Ioe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Toe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(zg.PLAY)}pause(){this.sendPlaybackControl(zg.PAUSE)}stop(){this.sendPlaybackControl(zg.STOP)}resetContext(){this.sendPlaybackControl(zg.RESET_CONTEXT)}close(){this.conn.close()}}function iue(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function sue(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aue="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function oue(n,e,t){const r=new Ese;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const s=JSON.parse(i);if(n.isVertexAI()){const a=Uoe(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class Aue{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new nue(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&N6(e.config.tools)&&L6(h);const g=due(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let K="BidiGenerateContent",G="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",G="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${K}?${G}=${k}`}let v=()=>{};const b=new Promise(k=>{v=k}),C=e.callbacks,B=function(){var k;(k=C==null?void 0:C.onopen)===null||k===void 0||k.call(C),v({})},S=this.apiClient,I={onopen:B,onmessage:k=>{oue(S,C.onmessage,k)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(k){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(k){}},T=this.webSocketFactory.create(d,cue(g),I);T.connect(),await b;let R=Ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const k=this.apiClient.getProject(),K=this.apiClient.getLocation();R=`projects/${k}/locations/${K}/`+R}let M={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[W_.AUDIO]}:e.config.responseModalities=[W_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],L=[];for(const k of D)if(this.isCallableTool(k)){const K=k;L.push(await K.tool())}else L.push(k);L.length>0&&(e.config.tools=L);const H={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=_oe(this.apiClient,H):M=xoe(this.apiClient,H),delete M.config,T.send(JSON.stringify(M)),new uue(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lue={turnComplete:!0};class uue{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=io(t.turns),e.isVertexAI()||(r=r.map(i=>L1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(aue)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},lue),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Moe(e)}:t={realtimeInput:Foe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function cue(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function due(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fK=10;function hK(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(im(a)){i=!0;break}if(!i)return!0;const s=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function im(n){return"callTool"in n&&typeof n.callTool=="function"}function fue(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>im(i)))!==null&&r!==void 0?r:!1}function pK(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(im(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(i)}),t}function gK(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hue extends ku{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!fue(t)||hK(t.config))return await this.generateContentInternal(l);const u=pK(t);if(u.length>0){const C=u.map(B=>`tools[${B}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let d,h;const g=io(l.contents),v=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:fK;let b=0;for(;b<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,B=[];for(const S of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(im(S)){const T=await S.callTool(d.functionCalls);B.push(...T)}b++,h={role:"user",parts:B},l.contents=io(l.contents),l.contents.push(C),l.contents.push(h),gK(l.config)&&(g.push(C),g.push(h))}return gK(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var r,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),hK(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=pK(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async t=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Pp(Bu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>im(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&N6(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),L6(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,r,i;const s=new Map;for(const a of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(im(a)){const o=a,l=await o.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,r,i;const s=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:fK;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return rm(this,arguments,function*(){for(var b,C,B,S;o<s;){a&&(o++,a=!1);const M=yield Nn(u.processParamsMaybeAddMcpUsage(h)),D=yield Nn(u.generateContentStreamInternal(M)),L=[],H=[];try{for(var I=!0,T=(C=void 0,Dw(D)),R;R=yield Nn(T.next()),b=R.done,!b;I=!0){S=R.value,I=!1;const k=S;if(yield yield Nn(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){H.push(k.candidates[0].content);for(const K of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(K.functionCall.name)){const G=yield Nn(d.get(K.functionCall.name).callTool([K.functionCall]));L.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(k){C={error:k}}finally{try{!I&&!b&&(B=T.return)&&(yield Nn(B.call(T)))}finally{if(C)throw C.error}}if(L.length>0){a=!0;const k=new U0;k.candidates=[{content:{role:"user",parts:L}}],yield yield Nn(k);const K=[];K.push(...H),K.push({role:"user",parts:L});const G=io(h.contents).concat(K);h.contents=G}else break}})})(this,l,e)}async generateContentInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=AK(this.apiClient,e);return o=Pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=uK(d),g=new U0;return Object.assign(g,h),g})}else{const u=oK(this.apiClient,e);return o=Pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=lK(d),g=new U0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=AK(this.apiClient,e);return o=Pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(h){return rm(this,arguments,function*(){var g,v,b,C;try{for(var B=!0,S=Dw(h),I;I=yield Nn(S.next()),g=I.done,!g;B=!0){C=I.value,B=!1;const T=C,R=uK(yield Nn(T.json()));R.sdkHttpResponse={headers:T.headers};const M=new U0;Object.assign(M,R),yield yield Nn(M)}}catch(T){v={error:T}}finally{try{!B&&!g&&(b=S.return)&&(yield Nn(b.call(S)))}finally{if(v)throw v.error}}})})}else{const u=oK(this.apiClient,e);return o=Pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return rm(this,arguments,function*(){var g,v,b,C;try{for(var B=!0,S=Dw(h),I;I=yield Nn(S.next()),g=I.done,!g;B=!0){C=I.value,B=!1;const T=C,R=lK(yield Nn(T.json()));R.sdkHttpResponse={headers:T.headers};const M=new U0;Object.assign(M,R),yield yield Nn(M)}}catch(T){v={error:T}}finally{try{!B&&!g&&(b=S.return)&&(yield Nn(b.call(S)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=AAe(this.apiClient,e);return o=Pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=uAe(d),g=new G3;return Object.assign(g,h),g})}else{const u=oAe(this.apiClient,e);return o=Pe("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=lAe(d),g=new G3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=bAe(this.apiClient,e);return o=Pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=EAe(d),g=new z3;return Object.assign(g,h),g})}else{const u=wAe(this.apiClient,e);return o=Pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=CAe(d),g=new z3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=rAe(this.apiClient,e);return s=Pe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=iAe(l),d=new dse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=ble(this.apiClient,e);return s=Pe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Cle(l),d=new fse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=nle(this.apiClient,e);return s=Pe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=rle(l),d=new hse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=lle(this.apiClient,e);return s=Pe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=ule(l),d=new pse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=OAe(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>LR(d))}else{const u=kAe(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>NR(d))}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=WAe(this.apiClient,e);return o=Pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=XAe(d),g=new q3;return Object.assign(g,h),g})}else{const u=jAe(this.apiClient,e);return o=Pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=YAe(d),g=new q3;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=yle(this.apiClient,e);return o=Pe("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>LR(d))}else{const u=vle(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>NR(d))}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Zoe(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=tAe(d),g=new $3;return Object.assign(g,h),g})}else{const u=Joe(this.apiClient,e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=eAe(d),g=new $3;return Object.assign(g,h),g})}}async countTokens(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Woe(this.apiClient,e);return o=Pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Xoe(d),g=new j3;return Object.assign(g,h),g})}else{const u=joe(this.apiClient,e);return o=Pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Yoe(d),g=new j3;return Object.assign(g,h),g})}}async computeTokens(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Hoe(this.apiClient,e);return s=Pe("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Voe(l),d=new gse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=IAe(this.apiClient,e);return o=Pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const h=_Ae(d),g=new Y_;return Object.assign(g,h),g})}else{const u=TAe(this.apiClient,e);return o=Pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=xAe(d),g=new Y_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pue extends ku{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=ase(e);return o=Pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const u=sse(e);return o=Pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Jie(e);return s=Pe("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gue(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function mue(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>xue(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function vue(n,e,t){const r={},i=y(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],Sue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),r}function yue(n,e){const t={},r=y(e,["config"]);return r!=null&&w(t,["config"],vue(n,r,t)),t}function wue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function bue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Cue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Eue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Bue(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],LQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],mue(Vi(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=_y(C);Array.isArray(D)&&(D=D.map(L=>Tue(xy(L)))),w(e,["setup","tools"],D)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],_ue(B));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function Sue(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],Ot(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],Bue(i,t)),t}function xue(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],wue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],bue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],gue(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function _ue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Tue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Cue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Eue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iue(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${t}.${s}`);e.push(...i)}else e.push(t)}return e.join(",")}function Fue(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const s=Iue(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class Mue extends ku{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=yue(this.apiClient,e);s=Pe("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=Fue(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uue(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function Pue(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&Uue(r,e),e}function Rue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Due(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Nue(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const r=y(n,["config"]);return r!=null&&Due(r,e),e}function Lue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Que extends ku{constructor(e){super(),this.apiClient=e,this.list=async t=>new Pp(Bu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rue(e);return s=Pe("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Pue(e);i=Pe("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Nue(e);return s=Pe("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Lue(l),d=new mse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kue extends ku{constructor(e,t=new Que(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new Pp(Bu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ile(e);return s=Pe("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ule(e);return s=Pe("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Mle(e);i=Pe("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Qle(e);return s=Pe("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=kle(l),d=new vse;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ole(e);return s=Pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Hle(l),d=new yse;return Object.assign(d,u),d})}}async importFile(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Dle(e);return s=Pe("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Rle(l),d=new UQ;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Hue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Vue(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Kue(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Gue(n,e,t){const r={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function zue(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],mK(v))}else if(i==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],mK(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function que(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&rce(s);const a=y(n,["config"]);return a!=null&&Gue(a,t),t}function $ue(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&ice(s,t,e);const a=y(n,["config"]);return a!=null&&zue(a,t,e),t}function jue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Wue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Yue(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function Xue(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function Jue(n,e){const t={},r=y(n,["config"]);return r!=null&&Yue(r,t),t}function Zue(n,e){const t={},r=y(n,["config"]);return r!=null&&Xue(r,t),t}function ece(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>Q6(o))),w(t,["tuningJobs"],a)}return t}function tce(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>kR(o))),w(t,["tuningJobs"],a)}return t}function nce(n,e){const t={},r=y(n,["name"]);r!=null&&w(t,["model"],r);const i=y(n,["name"]);return i!=null&&w(t,["endpoint"],i),t}function rce(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(t,["examples","examples"],i)}return t}function ice(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Q6(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],v6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],nce(g)),t}function kR(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],v6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const b=y(n,["preTunedModel"]);b!=null&&w(t,["preTunedModel"],b);const C=y(n,["supervisedTuningSpec"]);C!=null&&w(t,["supervisedTuningSpec"],C);const B=y(n,["preferenceOptimizationSpec"]);B!=null&&w(t,["preferenceOptimizationSpec"],B);const S=y(n,["tuningDataStats"]);S!=null&&w(t,["tuningDataStats"],S);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const R=y(n,["customBaseModel"]);R!=null&&w(t,["customBaseModel"],R);const M=y(n,["experiment"]);M!=null&&w(t,["experiment"],M);const D=y(n,["labels"]);D!=null&&w(t,["labels"],D);const L=y(n,["outputUri"]);L!=null&&w(t,["outputUri"],L);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const k=y(n,["serviceAccount"]);k!=null&&w(t,["serviceAccount"],k);const K=y(n,["tunedModelDisplayName"]);K!=null&&w(t,["tunedModelDisplayName"],K);const G=y(n,["veoTuningSpec"]);return G!=null&&w(t,["veoTuningSpec"],G),t}function sce(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function mK(n,e){const t={},r=y(n,["gcsUri"]);r!=null&&w(t,["validationDatasetUri"],r);const i=y(n,["vertexDatasetResource"]);return i!=null&&w(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ace extends ku{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pp(Bu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:UR.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Wue(e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>kR(d))}else{const u=jue(e);return o=Pe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Q6(d))}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Zue(e);return o=Pe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=tce(d),g=new W3;return Object.assign(g,h),g})}else{const u=Jue(e);return o=Pe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=ece(d),g=new W3;return Object.assign(g,h),g})}}async cancel(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Hue(e);return o=Pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Kue(d),g=new Y3;return Object.assign(g,h),g})}else{const u=Oue(e);return o=Pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Vue(d),g=new Y3;return Object.assign(g,h),g})}}async tuneInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=$ue(e,e);return s=Pe("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>kR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=que(e);return s=Pe("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>sce(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oce{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ace=1024*1024*8,lce=3,uce=1e3,cce=2,J_="x-goog-upload-status";async function dce(n,e,t){var r;const i=await k6(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[J_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function fce(n,e,t){var r;const i=await k6(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[J_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=d6(s),o=new PQ;return Object.assign(o,a),o}async function k6(n,e,t){var r,i;let s=0,a=0,o=new PR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(Ace,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=uce;for(;h<lce&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[J_]));)h++,await pce(g),g=g*cce;if(a+=u,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[J_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function hce(n){return{size:n.size,type:n.type}}function pce(n){return new Promise(e=>setTimeout(e,n))}class gce{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dce(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fce(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hce(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mce{create(e,t,r){return new vce(e,t,r)}}class vce{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vK="x-goog-api-key";class yce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(vK)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(vK,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wce="gl-node/";class bce{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=Yie(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new yce(this.apiKey);this.apiClient=new Wle({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:wce+"web",uploader:new gce,downloader:new oce}),this.models=new hue(this.apiClient),this.live=new Aue(this.apiClient,i,new mce),this.batches=new Sae(this.apiClient),this.chats=new aoe(this.models,this.apiClient),this.caches=new roe(this.apiClient),this.files=new goe(this.apiClient),this.operations=new pue(this.apiClient),this.authTokens=new Mue(this.apiClient),this.tunings=new ace(this.apiClient),this.fileSearchStores=new kue(this.apiClient)}}const Cce="AIzaSyCsuOQli4AjSdQxo1VCTf5d_0JO5EW_ecQ",Ece=new bce({apiKey:Cce}),Bce="gemini-2.5-flash",O6=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
      Language: Respond in Korean.
    `;return(await Ece.models.generateContent({model:Bce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},es=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),OR=[.001,0,0,.001,0,0],aU=1.35,oa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Fc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$w="pdfjs_internal_editor_",ot={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},_t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Sce={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},HR={TRIANGLES:1,LATTICE:2},fi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},zx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Tr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Mg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},O1={ERRORS:0,WARNINGS:1,INFOS:5},jw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},P0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},xce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let H1=O1.WARNINGS;function _ce(n){Number.isInteger(n)&&(H1=n)}function Tce(){return H1}function V1(n){H1>=O1.INFOS&&console.info(`Info: ${n}`)}function it(n){H1>=O1.WARNINGS&&console.warn(`Warning: ${n}`)}function Cn(n){throw new Error(n)}function Tt(n,e){n||Cn(e)}function Ice(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function H6(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Rce(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return Ice(r)?r:null}function V6(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&H6(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function st(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Rp=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class yK extends Rp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class oU extends Rp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let VR=class extends Rp{constructor(e){super(e,"InvalidPDFException")}},Z_=class extends Rp{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}};class Fce extends Rp{constructor(e){super(e,"FormatError")}}let Wd=class extends Rp{constructor(e){super(e,"AbortException")}};function K6(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Cn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function jE(n){typeof n!="string"&&Cn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function Mce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Uce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Pce(){try{return new Function(""),!0}catch{return!1}}class Ti{static get isLittleEndian(){return st(this,"isLittleEndian",Uce())}static get isEvalSupported(){return st(this,"isEvalSupported",Pce())}static get isOffscreenCanvasSupported(){return st(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return st(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return st(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return st(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return st(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return st(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const AU=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var wu,xR,qx,KR;let Ve=(xR=class{static makeHexColor(e,t,r){return`#${AU[e]}${AU[t]}${AU[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[r+d],g=e[r+d+1];e[r+d]=h*i+g*a+l,e[r+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let b=i*d+l,C=b,B=i*g+l,S=B,I=o*h+u,T=I,R=o*v+u,M=R;if(s!==0||a!==0){const D=s*d,L=s*g,H=a*h,k=a*v;b+=H,S+=H,B+=k,C+=k,I+=D,M+=D,R+=L,T+=L}r[0]=Math.min(r[0],b,B,C,S),r[1]=Math.min(r[1],I,R,T,M),r[2]=Math.max(r[2],b,B,C,S),r[3]=Math.max(r[3],I,R,T,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),P(this,wu,KR).call(this,e,r,s,o,t,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),u),P(this,wu,KR).call(this,e,r,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),u)}},wu=new WeakSet,qx=function(e,t,r,i,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,b=h*(h*(h*e+3*u*t)+3*g*r)+v*i,C=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],b),d[1]=Math.min(d[1],C),d[2]=Math.max(d[2],b),d[3]=Math.max(d[3],C)},KR=function(e,t,r,i,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&P(this,wu,qx).call(this,e,t,r,i,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const b=Math.sqrt(v),C=2*u;P(this,wu,qx).call(this,e,t,r,i,s,a,o,l,(-d+b)/C,g),P(this,wu,qx).call(this,e,t,r,i,s,a,o,l,(-d-b)/C,g)},U(xR,wu),xR);function Rce(n){return decodeURIComponent(escape(n))}let lU=null,wK=null;function Dce(n){return lU||(lU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wK=new Map([["","t"]])),n.replaceAll(lU,(e,t,r)=>t?t.normalize("NFKC"):wK.get(r))}function G6(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),K6(n)}const qg="pdfjs_internal_id_";function Nce(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function ts(n,e,t){return Math.min(Math.max(n,e),t)}function z6(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(K6(n))}function Lce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):jE(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Ww{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Ww.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let q6=class{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var h,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const v=document.createTextNode(i.value);a.append(v),o&&Ww.shouldBuildText(i.name)&&u.push(v)}return{textDivs:u}}const d=[[i,-1,a]];for(;d.length>0;){const[v,b,C]=d.at(-1);if(b+1===v.children.length){d.pop();continue}const B=v.children[++d.at(-1)[1]];if(B===null)continue;const{name:S}=B;if(S==="#text"){const T=document.createTextNode(B.value);u.push(T),C.append(T);continue}const I=(h=B==null?void 0:B.attributes)!=null&&h.xmlns?document.createElementNS(B.attributes.xmlns,S):document.createElement(S);if(C.append(I),B.attributes&&this.setAttributes({html:I,element:B,storage:t,intent:s,linkService:r}),((g=B.children)==null?void 0:g.length)>0)d.push([B,-1,I]);else if(B.value){const T=document.createTextNode(B.value);o&&Ww.shouldBuildText(S)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const ul="http://www.w3.org/2000/svg";var IA;let oy=(IA=class{},Ce(IA,"CSS",96),Ce(IA,"PDF",72),Ce(IA,"PDF_TO_CSS_UNITS",IA.CSS/IA.PDF),IA);async function WE(n,e="text"){if(Z0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class YE{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let b,C,B,S;d===0?(b=Math.abs(u-e[1])*r+s,C=Math.abs(l-e[0])*r+a,B=(e[3]-e[1])*r,S=(e[2]-e[0])*r):(b=Math.abs(l-e[0])*r+s,C=Math.abs(u-e[1])*r+a,B=(e[2]-e[0])*r,S=(e[3]-e[1])*r),this.transform=[d*r,h*r,g*r,v*r,b-d*r*l-g*r*u,C-h*r*l-v*r*u],this.width=B,this.height=S}get rawDims(){const e=this.viewBox;return st(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new YE({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Ve.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Ve.applyTransform(t,this.transform);const r=[e[2],e[3]];return Ve.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Ve.applyInverseTransform(r,this.transform),r}}let kQ=class extends Rp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function K1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function OQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Qce(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function kce(n,e="document.pdf"){if(typeof n!="string")return e;if(K1(n))return it('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const u of o)if(s.test(u))return i(u);const l=Array.from(r.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return i(u)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class bK{constructor(){Ce(this,"started",Object.create(null));Ce(this,"times",[])}time(e){e in this.started&&it(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||it(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Z0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function oo(n){n.preventDefault()}function ar(n){n.preventDefault(),n.stopPropagation()}function Oce(n){console.log("Deprecated API usage: "+n)}var _R,mb;let GR=(_R=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,mb)||_(this,mb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,mb).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(r,i,s,a,o,l))}},mb=new WeakMap,U(_R,mb),_R);function Hce(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new YE({viewBox:s,userUnit:1,scale:e,rotation:t})}function XE(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(it(`Not a valid color format: "${n}"`),[0,0,0])}function Vce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,XE(r))}e.remove()}function $n(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function Jo(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function Bp(n,e,t=!1,r=!0){if(e instanceof YE){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=Ti.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}let Sp=class zR{constructor(){const{pixelRatio:e}=zR;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=zR.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*t))),i!==-1&&(o=i/e,l=i/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}};const qR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Kce{static get isDarkMode(){var e;return st(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let Gce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),st(this,"commentForegroundColor",XE(r))}};function zce(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function CK(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-r)/l+4)*60;break}}e[2]=o}function $R(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(t/60%2-1)),o=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function EK(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function BK(n,e,t){$R(n,t),t.map(EK);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];$R(e,t),t.map(EK);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const SK=new Map;function qce(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=SK.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);CK(n,a);const o=i.subarray(6,9);CK(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),BK(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===BK(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return $R(a,s),r=Ve.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),SK.set(t,r),r}function $6({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else q6.render({xfaHtml:n,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",t),r.append(i)}function j6(n){const e=new Path2D;if(!n)return e;for(let t=0,r=n.length;t<r;)switch(n[t++]){case P0.moveTo:e.moveTo(n[t++],n[t++]);break;case P0.lineTo:e.lineTo(n[t++],n[t++]);break;case P0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case P0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case P0.closePath:e.closePath();break;default:it(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Uc,Pc,La,Qa,vb,Rc,cm,dm,yb,c1,W6,Si,Y6,X6,Ug,ew;const hl=class hl{constructor(e){U(this,Si);U(this,Uc,null);U(this,Pc,null);U(this,La);U(this,Qa,null);U(this,vb,null);U(this,Rc,null);U(this,cm,null);U(this,dm,null);_(this,La,e),f(hl,yb)||_(hl,yb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,Uc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,La)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",oo,{signal:t}),e.addEventListener("pointerdown",P(hl,c1,W6),{signal:t}));const r=_(this,Qa,document.createElement("div"));r.className="buttons",e.append(r);const i=f(this,La).toolbarPosition;if(i){const{style:s}=e,a=f(this,La)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,Uc)}hide(){var e;f(this,Uc).classList.add("hidden"),(e=f(this,Pc))==null||e.hideDropdown()}show(){var e,t;f(this,Uc).classList.remove("hidden"),(e=f(this,vb))==null||e.shown(),(t=f(this,Rc))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,La),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",f(hl,yb)[e]),P(this,Si,Ug).call(this,r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),f(this,Qa).append(r)}async addAltText(e){const t=await e.render();P(this,Si,Ug).call(this,t),f(this,Qa).append(t,f(this,Si,ew)),_(this,vb,e)}addComment(e,t=null){if(f(this,Rc))return;const r=e.renderForToolbar();if(!r)return;P(this,Si,Ug).call(this,r);const i=_(this,cm,f(this,Si,ew));t?(f(this,Qa).insertBefore(r,t),f(this,Qa).insertBefore(i,t)):f(this,Qa).append(r,i),_(this,Rc,e),e.toolbar=this}addColorPicker(e){if(f(this,Pc))return;_(this,Pc,e);const t=e.renderButton();P(this,Si,Ug).call(this,t),f(this,Qa).append(t,f(this,Si,ew))}async addEditSignatureButton(e){const t=_(this,dm,await e.renderEditButton(f(this,La)));P(this,Si,Ug).call(this,t),f(this,Qa).append(t,f(this,Si,ew))}removeButton(e){var t,r;switch(e){case"comment":(t=f(this,Rc))==null||t.removeToolbarCommentButton(),_(this,Rc,null),(r=f(this,cm))==null||r.remove(),_(this,cm,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,r){if(!t&&e==="comment")return;const i=f(this,Qa).querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){f(this,dm)&&(f(this,dm).title=e)}remove(){var e;f(this,Uc).remove(),(e=f(this,Pc))==null||e.destroy(),_(this,Pc,null)}};Uc=new WeakMap,Pc=new WeakMap,La=new WeakMap,Qa=new WeakMap,vb=new WeakMap,Rc=new WeakMap,cm=new WeakMap,dm=new WeakMap,yb=new WeakMap,c1=new WeakSet,W6=function(e){e.stopPropagation()},Si=new WeakSet,Y6=function(e){f(this,La)._focusEventsAllowed=!1,ar(e)},X6=function(e){f(this,La)._focusEventsAllowed=!0,ar(e)},Ug=function(e){const t=f(this,La)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",P(this,Si,Y6).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",P(this,Si,X6).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",oo,{signal:t}),!0)},ew=function(){const e=document.createElement("div");return e.className="divider",e},U(hl,c1),U(hl,yb,null);let jR=hl;var wb,Gf,vl,Ru,J6,Z6,WR;class $ce{constructor(e){U(this,Ru);U(this,wb,null);U(this,Gf,null);U(this,vl);_(this,vl,e)}show(e,t,r){const[i,s]=P(this,Ru,Z6).call(this,t,r),{style:a}=f(this,Gf)||_(this,Gf,P(this,Ru,J6).call(this));e.append(f(this,Gf)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,Gf).remove()}}wb=new WeakMap,Gf=new WeakMap,vl=new WeakMap,Ru=new WeakSet,J6=function(){const e=_(this,Gf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,vl)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",oo,{signal:t});const r=_(this,wb,document.createElement("div"));return r.className="buttons",e.append(r),f(this,vl).hasCommentManager()&&P(this,Ru,WR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,vl).commentSelection("floating_button")}),P(this,Ru,WR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,vl).highlightSelection("floating_button")}),e},Z6=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},WR=function(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=f(this,vl)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",oo,{signal:o}),s.addEventListener("click",i,{signal:o})),f(this,wb).append(s)};function ej(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var zf,qf,fm,$f;const An=class An{static initializeAndAddPointerId(e){(f(An,qf)||_(An,qf,new Set)).add(e)}static setPointer(e,t){f(An,zf)||_(An,zf,t),f(An,$f)??_(An,$f,e)}static setTimeStamp(e){_(An,fm,e)}static isSamePointerId(e){return f(An,zf)===e}static isSamePointerIdOrRemove(e){var t;return f(An,zf)===e?!0:((t=f(An,qf))==null||t.delete(e),!1)}static isSamePointerType(e){return f(An,$f)===e}static isInitializedAndDifferentPointerType(e){return f(An,$f)!==null&&!An.isSamePointerType(e)}static isSameTimeStamp(e){return f(An,fm)===e}static isUsingMultiplePointers(){var e;return((e=f(An,qf))==null?void 0:e.size)>=1}static clearPointerType(){_(An,$f,null)}static clearPointerIds(){_(An,zf,NaN),_(An,qf,null)}static clearTimeStamp(){_(An,fm,NaN)}};zf=new WeakMap,qf=new WeakMap,fm=new WeakMap,$f=new WeakMap,U(An,zf,NaN),U(An,qf,null),U(An,fm,NaN),U(An,$f,null);let Pi=An;var d1;class jce{constructor(){U(this,d1,0)}get id(){return`${$w}${ur(this,d1)._++}`}}d1=new WeakMap;var hm,bb,Ri,pm,$x;const VO=class VO{constructor(){U(this,pm);U(this,hm,G6());U(this,bb,0);U(this,Ri,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return st(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return P(this,pm,$x).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return P(this,pm,$x).call(this,e,e)}async getFromBlob(e,t){const r=await t;return P(this,pm,$x).call(this,e,r)}async getFromId(e){f(this,Ri)||_(this,Ri,new Map);const t=f(this,Ri).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,Ri)||_(this,Ri,new Map);let r=f(this,Ri).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${f(this,hm)}_${ur(this,bb)._++}`,refCounter:1,isSvg:!1},f(this,Ri).set(e,r),f(this,Ri).set(r.id,r),r}getSvgUrl(e){const t=f(this,Ri).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;f(this,Ri)||_(this,Ri,new Map);const t=f(this,Ri).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,hm)}_`)}};hm=new WeakMap,bb=new WeakMap,Ri=new WeakMap,pm=new WeakSet,$x=async function(e,t){f(this,Ri)||_(this,Ri,new Map);let r=f(this,Ri).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${f(this,hm)}_${ur(this,bb)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await WE(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=VO._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},a.onload=async()=>{const h=r.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){it(i),r=null}return f(this,Ri).set(e,r),r&&f(this,Ri).set(r.id,r),r};let YR=VO;var fr,Dc,Cb,qn;class Wce{constructor(e=128){U(this,fr,[]);U(this,Dc,!1);U(this,Cb);U(this,qn,-1);_(this,Cb,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),f(this,Dc))return;const l={cmd:e,undo:t,post:r,type:s};if(f(this,qn)===-1){f(this,fr).length>0&&(f(this,fr).length=0),_(this,qn,0),f(this,fr).push(l);return}if(a&&f(this,fr)[f(this,qn)].type===s){o&&(l.undo=f(this,fr)[f(this,qn)].undo),f(this,fr)[f(this,qn)]=l;return}const u=f(this,qn)+1;u===f(this,Cb)?f(this,fr).splice(0,1):(_(this,qn,u),u<f(this,fr).length&&f(this,fr).splice(u)),f(this,fr).push(l)}undo(){if(f(this,qn)===-1)return;_(this,Dc,!0);const{undo:e,post:t}=f(this,fr)[f(this,qn)];e(),t==null||t(),_(this,Dc,!1),_(this,qn,f(this,qn)-1)}redo(){if(f(this,qn)<f(this,fr).length-1){_(this,qn,f(this,qn)+1),_(this,Dc,!0);const{cmd:e,post:t}=f(this,fr)[f(this,qn)];e(),t==null||t(),_(this,Dc,!1)}}hasSomethingToUndo(){return f(this,qn)!==-1}hasSomethingToRedo(){return f(this,qn)<f(this,fr).length-1}cleanType(e){if(f(this,qn)!==-1){for(let t=f(this,qn);t>=0;t--)if(f(this,fr)[t].type!==e){f(this,fr).splice(t+1,f(this,qn)-t),_(this,qn,t);return}f(this,fr).length=0,_(this,qn,-1)}}destroy(){_(this,fr,null)}}fr=new WeakMap,Dc=new WeakMap,Cb=new WeakMap,qn=new WeakMap;var f1,tj;class JE{constructor(e){U(this,f1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ti.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(P(this,f1,tj).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||ar(t))}}f1=new WeakSet,tj=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const h1=class h1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Vce(e),st(this,"_colors",e)}convert(e){const t=XE(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return h1._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Ve.makeHexColor(...t):e}};Ce(h1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let XR=h1;var gm,Vs,mm,Zn,Nr,vm,ka,ym,Oa,Di,Nc,Lc,wm,Qc,rA,Ha,jf,Eb,Bb,bm,Sb,iA,kc,Cm,Oc,sA,p1,Hc,Em,xb,Vc,Wf,Bm,Kc,_b,Ir,Yt,yl,Gc,zc,Tb,Sm,Ib,qc,aA,wl,Fb,Mb,Va,fu,Fe,jx,JR,nj,rj,tw,ij,sj,aj,ZR,oj,Aj,lj,uj,$i,cl,cj,dj,eD,fj,nw,tD;let Yw=(fu=class{constructor(e,t,r,i,s,a,o,l,u,d,h,g,v,b,C,B){U(this,Fe);U(this,gm,new AbortController);U(this,Vs,null);U(this,mm,null);U(this,Zn,new Map);U(this,Nr,new Map);U(this,vm,null);U(this,ka,null);U(this,ym,null);U(this,Oa,new Wce);U(this,Di,null);U(this,Nc,null);U(this,Lc,null);U(this,wm,0);U(this,Qc,new Set);U(this,rA,null);U(this,Ha,null);U(this,jf,new Set);Ce(this,"_editorUndoBar",null);U(this,Eb,!1);U(this,Bb,!1);U(this,bm,!1);U(this,Sb,null);U(this,iA,null);U(this,kc,null);U(this,Cm,null);U(this,Oc,!1);U(this,sA,null);U(this,p1,new jce);U(this,Hc,!1);U(this,Em,!1);U(this,xb,!1);U(this,Vc,null);U(this,Wf,null);U(this,Bm,null);U(this,Kc,null);U(this,_b,null);U(this,Ir,ot.NONE);U(this,Yt,new Set);U(this,yl,null);U(this,Gc,null);U(this,zc,null);U(this,Tb,null);U(this,Sm,null);U(this,Ib,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});U(this,qc,[0,0]);U(this,aA,null);U(this,wl,null);U(this,Fb,null);U(this,Mb,null);U(this,Va,null);const S=this._signal=f(this,gm).signal;_(this,wl,e),_(this,Fb,t),_(this,Mb,r),_(this,vm,i),_(this,Di,s),_(this,Gc,a),_(this,Sm,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:S}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),o._on("setpreference",this.onSetPreference.bind(this),{signal:S}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:S}),window.addEventListener("pointerdown",()=>{_(this,Em,!0)},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{_(this,Em,!1)},{capture:!0,signal:S}),P(this,Fe,ij).call(this),P(this,Fe,uj).call(this),P(this,Fe,ZR).call(this),_(this,ka,l.annotationStorage),_(this,Sb,l.filterFactory),_(this,zc,u),_(this,Cm,d||null),_(this,Eb,h),_(this,Bb,g),_(this,bm,v),_(this,_b,b||null),this.viewParameters={realScale:oy.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=C||null,this._supportsPinchToZoom=B!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=fu.prototype,t=a=>f(a,wl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return st(this,"_keyboardManager",new JE([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,wl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,wl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,a,o,l,u;(e=f(this,Va))==null||e.resolve(),_(this,Va,null),(t=f(this,gm))==null||t.abort(),_(this,gm,null),this._signal=null;for(const d of f(this,Nr).values())d.destroy();f(this,Nr).clear(),f(this,Zn).clear(),f(this,jf).clear(),(r=f(this,Kc))==null||r.clear(),_(this,Vs,null),f(this,Yt).clear(),f(this,Oa).destroy(),(i=f(this,vm))==null||i.destroy(),(s=f(this,Di))==null||s.destroy(),(a=f(this,Gc))==null||a.destroy(),(o=f(this,sA))==null||o.hide(),_(this,sA,null),(l=f(this,Bm))==null||l.destroy(),_(this,Bm,null),_(this,mm,null),f(this,iA)&&(clearTimeout(f(this,iA)),_(this,iA,null)),f(this,aA)&&(clearTimeout(f(this,aA)),_(this,aA,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,Sm,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,_b)}get useNewAltTextFlow(){return f(this,Bb)}get useNewAltTextWhenAddingImage(){return f(this,bm)}get hcmFilter(){return st(this,"hcmFilter",f(this,zc)?f(this,Sb).addHCMFilter(f(this,zc).foreground,f(this,zc).background):"none")}get direction(){return st(this,"direction",getComputedStyle(f(this,wl)).direction)}get _highlightColors(){return st(this,"_highlightColors",f(this,Cm)?new Map(f(this,Cm).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return st(this,"highlightColors",null);const t=new Map,r=!!f(this,zc);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){t.set(i.replace("_HCM",""),s);continue}!r&&!a&&t.set(i,s)}return st(this,"highlightColors",t)}get highlightColorNames(){return st(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,Lc,e)}setMainHighlightColorPicker(e){_(this,Bm,e)}editAltText(e,t=!1){var r;(r=f(this,vm))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!f(this,Di)}editComment(e,t,r,i){var s;(s=f(this,Di))==null||s.showDialog(this,e,t,r,i)}selectComment(e,t){const r=f(this,Nr).get(e),i=r==null?void 0:r.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,Di))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,Di))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,Di))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var i;(i=f(this,Di))==null||i.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=f(this,Di))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,Di))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,Nr).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var t;(t=f(this,Gc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,Gc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,bm,t);break}}onPageChanging({pageNumber:e}){_(this,wm,e-1)}focusMainContainer(){f(this,wl).focus()}findParent(e,t){for(const r of f(this,Nr).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){f(this,Fb).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,jf).add(e)}removeShouldRescale(e){f(this,jf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*oy.PDF_TO_CSS_UNITS;for(const r of f(this,jf))r.onScaleChanging();(t=f(this,Lc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),d=P(this,Fe,jx).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;r.empty();const g=P(this,Fe,JR).call(this,d),v=f(this,Ir)===ot.NONE,b=()=>{const C=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(C==null||C.editComment())};if(v){this.switchToMode(ot.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,ka))return null;const t=`${$w}${e}`,r=f(this,ka).getRawValue(t);return r&&f(this,ka).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&f(this,ka)&&!f(this,ka).has(e.id)&&f(this,ka).setValue(e.id,e)}a11yAlert(e,t=null){const r=f(this,Mb);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,Oc)&&(_(this,Oc,!1),P(this,Fe,tw).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,Yt))if(t.div.contains(e)){_(this,Wf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Wf))return;const[e,t]=f(this,Wf);_(this,Wf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){P(this,Fe,ZR).call(this),this.setEditingState(!0)}removeEditListeners(){P(this,Fe,oj).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of f(this,Ha))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of f(this,Ha))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=f(this,Vs))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of f(this,Yt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,Ha))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){it(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)P(this,Fe,eD).call(this,l);P(this,Fe,tD).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){it(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,Ir)!==ot.NONE&&!this.isEditorHandlingKeyboard&&fu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Oc)&&(_(this,Oc,!1),P(this,Fe,tw).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(P(this,Fe,sj).call(this),P(this,Fe,Aj).call(this),P(this,Fe,$i).call(this,{isEditing:f(this,Ir)!==ot.NONE,isEmpty:P(this,Fe,nw).call(this),hasSomethingToUndo:f(this,Oa).hasSomethingToUndo(),hasSomethingToRedo:f(this,Oa).hasSomethingToRedo(),hasSelectedEditor:!1})):(P(this,Fe,aj).call(this),P(this,Fe,lj).call(this),P(this,Fe,$i).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,Ha)){_(this,Ha,e);for(const t of f(this,Ha))P(this,Fe,cl).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,p1).id}get currentLayer(){return f(this,Nr).get(f(this,wm))}getLayer(e){return f(this,Nr).get(e)}get currentPageIndex(){return f(this,wm)}addLayer(e){f(this,Nr).set(e.pageIndex,e),f(this,Hc)?e.enable():e.disable()}removeLayer(e){f(this,Nr).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var a,o,l,u,d,h;if(f(this,Ir)!==e&&!(f(this,Va)&&(await f(this,Va).promise,!f(this,Va)))){if(_(this,Va,Promise.withResolvers()),(a=f(this,Lc))==null||a.commitOrRemove(),f(this,Ir)===ot.POPUP&&((o=f(this,Di))==null||o.hideSidebar()),(l=f(this,Di))==null||l.destroyPopup(),_(this,Ir,e),e===ot.NONE){this.setEditingState(!1),P(this,Fe,dj).call(this);for(const g of f(this,Zn).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,Va).resolve();return}for(const g of f(this,Zn).values())g.addStandaloneCommentButton();e===ot.SIGNATURE&&await((d=f(this,Gc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await P(this,Fe,cj).call(this),this.unselectAll();for(const g of f(this,Nr).values())g.updateMode(e);if(e===ot.POPUP){f(this,mm)||_(this,mm,await f(this,Sm).getAnnotationsByType(new Set(f(this,Ha).map(b=>b._editorType))));const g=new Set,v=[];for(const b of f(this,Zn).values()){const{annotationElementId:C,hasComment:B,deleted:S}=b;C&&g.add(C),B&&!S&&v.push(b.getData())}for(const b of f(this,mm)){const{id:C,popupRef:B,contentsObj:S}=b;B&&(S!=null&&S.str)&&!g.has(C)&&!f(this,Qc).has(C)&&v.push(b)}(h=f(this,Di))==null||h.showSidebar(v)}if(!t){r&&this.addNewEditorFromKeyboard(),f(this,Va).resolve();return}for(const g of f(this,Zn).values())g.uid===t?(this.setSelected(g),s?g.editComment():i?g.enterInEditMode():g.focus()):g.unselect();f(this,Va).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,Ir)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,Ha)){switch(e){case _t.CREATE:this.currentLayer.addNewEditor(t);return;case _t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Tb)||_(this,Tb,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of f(this,Yt))r.updateParams(e,t);else for(const r of f(this,Ha))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of f(this,Zn).values())a.editorType===e&&a.show(t);(((s=f(this,Tb))==null?void 0:s.get(_t.HIGHLIGHT_SHOW_ALL))??!0)!==t&&P(this,Fe,cl).call(this,[[_t.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,xb)!==e){_(this,xb,e);for(const t of f(this,Nr).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,Zn).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,Zn).get(e)}addEditor(e){f(this,Zn).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(f(this,iA)&&clearTimeout(f(this,iA)),_(this,iA,setTimeout(()=>{this.focusMainContainer(),_(this,iA,null)},0))),f(this,Zn).delete(e.id),e.annotationElementId&&((t=f(this,Kc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,Qc).has(e.annotationElementId))&&((r=f(this,ka))==null||r.remove(e.id))}addDeletedAnnotationElement(e){f(this,Qc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,Qc).has(e)}removeDeletedAnnotationElement(e){f(this,Qc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Vs)!==e&&(_(this,Vs,e),e&&P(this,Fe,cl).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Fe,fj)===e&&P(this,Fe,cl).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){P(this,Fe,cl).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,Yt).has(e)){f(this,Yt).delete(e),e.unselect(),P(this,Fe,$i).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,Yt).add(e),e.select(),P(this,Fe,cl).call(this,e.propertiesToUpdate),P(this,Fe,$i).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,Lc))==null||t.commitOrRemove();for(const r of f(this,Yt))r!==e&&r.unselect();f(this,Yt).clear(),f(this,Yt).add(e),e.select(),P(this,Fe,cl).call(this,e.propertiesToUpdate),P(this,Fe,$i).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,Yt).has(e)}get firstSelectedEditor(){return f(this,Yt).values().next().value}unselect(e){e.unselect(),f(this,Yt).delete(e),P(this,Fe,$i).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,Yt).size!==0}get isEnterHandled(){return f(this,Yt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,Oa).undo(),P(this,Fe,$i).call(this,{hasSomethingToUndo:f(this,Oa).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:P(this,Fe,nw).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,Oa).redo(),P(this,Fe,$i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Oa).hasSomethingToRedo(),isEmpty:P(this,Fe,nw).call(this)})}addCommands(e){f(this,Oa).add(e),P(this,Fe,$i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:P(this,Fe,nw).call(this)})}cleanUndoStack(e){f(this,Oa).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,Yt)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)P(this,Fe,eD).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Vs))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Vs)||this.hasSelection}selectAll(){for(const e of f(this,Yt))e.commit();P(this,Fe,tD).call(this,f(this,Zn).values())}unselectAll(){var e;if(!(f(this,Vs)&&(f(this,Vs).commitOrRemove(),f(this,Ir)!==ot.NONE))&&!((e=f(this,Lc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,Yt))t.unselect();f(this,Yt).clear(),P(this,Fe,$i).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;f(this,qc)[0]+=e,f(this,qc)[1]+=t;const[i,s]=f(this,qc),a=[...f(this,Yt)],o=1e3;f(this,aA)&&clearTimeout(f(this,aA)),_(this,aA,setTimeout(()=>{_(this,aA,null),f(this,qc)[0]=f(this,qc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,Zn).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)f(this,Zn).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,rA,new Map);for(const e of f(this,Yt))f(this,rA).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,rA))return!1;this.disableUserSelect(!1);const e=f(this,rA);_(this,rA,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(f(this,Zn).has(i.id)){const l=f(this,Nr).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,rA))for(const r of f(this,rA).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,Yt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Vs)===e}getActive(){return f(this,Vs)}getMode(){return f(this,Ir)}isEditingMode(){return f(this,Ir)!==ot.NONE}get imageManager(){return st(this,"imageManager",new YR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-i)/a,y:1-(u+h-r)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-r)/s,y:1-(d+g-i)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-i)/a,y:(u-r)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-r)/s,y:(d-i)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:b,height:C}of h.getClientRects())b===0||C===0||l.push(o(g,v,b,C))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,ym)||_(this,ym,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,ym))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=f(this,ym))==null?void 0:i.get(e.data.id);if(!t)return;const r=f(this,ka).getRawValue(t);r&&(f(this,Ir)===ot.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=f(this,Kc))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),f(this,Kc).delete(e))}addMissingCanvas(e,t){(f(this,Kc)||_(this,Kc,new Map)).set(e,t)}},gm=new WeakMap,Vs=new WeakMap,mm=new WeakMap,Zn=new WeakMap,Nr=new WeakMap,vm=new WeakMap,ka=new WeakMap,ym=new WeakMap,Oa=new WeakMap,Di=new WeakMap,Nc=new WeakMap,Lc=new WeakMap,wm=new WeakMap,Qc=new WeakMap,rA=new WeakMap,Ha=new WeakMap,jf=new WeakMap,Eb=new WeakMap,Bb=new WeakMap,bm=new WeakMap,Sb=new WeakMap,iA=new WeakMap,kc=new WeakMap,Cm=new WeakMap,Oc=new WeakMap,sA=new WeakMap,p1=new WeakMap,Hc=new WeakMap,Em=new WeakMap,xb=new WeakMap,Vc=new WeakMap,Wf=new WeakMap,Bm=new WeakMap,Kc=new WeakMap,_b=new WeakMap,Ir=new WeakMap,Yt=new WeakMap,yl=new WeakMap,Gc=new WeakMap,zc=new WeakMap,Tb=new WeakMap,Sm=new WeakMap,Ib=new WeakMap,qc=new WeakMap,aA=new WeakMap,wl=new WeakMap,Fb=new WeakMap,Mb=new WeakMap,Va=new WeakMap,Fe=new WeakSet,jx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},JR=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of f(this,Nr).values())if(r.hasTextLayer(e))return r;return null},nj=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=P(this,Fe,jx).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(f(this,sA)||_(this,sA,new $ce(this)),f(this,sA).show(r,i,this.direction==="ltr"))},rj=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,yl)&&((s=f(this,sA))==null||s.hide(),_(this,yl,null),P(this,Fe,$i).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,yl))return;const i=P(this,Fe,jx).call(this,e).closest(".textLayer");if(!i){f(this,yl)&&((a=f(this,sA))==null||a.hide(),_(this,yl,null),P(this,Fe,$i).call(this,{hasSelectedText:!1}));return}if((o=f(this,sA))==null||o.hide(),_(this,yl,t),P(this,Fe,$i).call(this,{hasSelectedText:!0}),!(f(this,Ir)!==ot.HIGHLIGHT&&f(this,Ir)!==ot.NONE)&&(f(this,Ir)===ot.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Oc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,Ir)===ot.HIGHLIGHT?P(this,Fe,JR).call(this,i):null;if(l==null||l.toggleDrawing(),f(this,Em)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&P(this,Fe,tw).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),P(this,Fe,tw).call(this,"main_toolbar")}},tw=function(e=""){f(this,Ir)===ot.HIGHLIGHT?this.highlightSelection(e):f(this,Eb)&&P(this,Fe,nj).call(this)},ij=function(){document.addEventListener("selectionchange",P(this,Fe,rj).bind(this),{signal:this._signal})},sj=function(){if(f(this,kc))return;_(this,kc,new AbortController);const e=this.combinedSignal(f(this,kc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},aj=function(){var e;(e=f(this,kc))==null||e.abort(),_(this,kc,null)},ZR=function(){if(f(this,Vc))return;_(this,Vc,new AbortController);const e=this.combinedSignal(f(this,Vc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},oj=function(){var e;(e=f(this,Vc))==null||e.abort(),_(this,Vc,null)},Aj=function(){if(f(this,Nc))return;_(this,Nc,new AbortController);const e=this.combinedSignal(f(this,Nc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},lj=function(){var e;(e=f(this,Nc))==null||e.abort(),_(this,Nc,null)},uj=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},$i=function(e){Object.entries(e).some(([r,i])=>f(this,Ib)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,Ib),e)}),f(this,Ir)===ot.HIGHLIGHT&&e.hasSelectedEditor===!1&&P(this,Fe,cl).call(this,[[_t.HIGHLIGHT_FREE,!0]]))},cl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},cj=async function(){if(!f(this,Hc)){_(this,Hc,!0);const e=[];for(const t of f(this,Nr).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,Zn).values())t.enable()}},dj=function(){if(this.unselectAll(),f(this,Hc)){_(this,Hc,!1);for(const e of f(this,Nr).values())e.disable();for(const e of f(this,Zn).values())e.disable()}},eD=function(e){const t=f(this,Nr).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},fj=function(){let e=null;for(e of f(this,Yt));return e},nw=function(){if(f(this,Zn).size===0)return!0;if(f(this,Zn).size===1)for(const e of f(this,Zn).values())return e.isEmpty();return!1},tD=function(e){for(const t of f(this,Yt))t.unselect();f(this,Yt).clear();for(const t of e)t.isEmpty()||(f(this,Yt).add(t),t.select());P(this,Fe,$i).call(this,{hasSelectedEditor:this.hasSelection})},Ce(fu,"TRANSLATE_SMALL",1),Ce(fu,"TRANSLATE_BIG",10),fu);var Xr,oA,wo,xm,AA,Ks,_m,lA,gs,bl,Yf,uA,$c,Lo,rw,Wx;const ji=class ji{constructor(e){U(this,Lo);U(this,Xr,null);U(this,oA,!1);U(this,wo,null);U(this,xm,null);U(this,AA,null);U(this,Ks,null);U(this,_m,!1);U(this,lA,null);U(this,gs,null);U(this,bl,null);U(this,Yf,null);U(this,uA,!1);_(this,gs,e),_(this,uA,e._uiManager.useNewAltTextFlow),f(ji,$c)||_(ji,$c,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ji._l10n??(ji._l10n=e)}async render(){const e=_(this,wo,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,xm,document.createElement("span"));e.append(t),f(this,uA)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(ji,$c).missing),t.setAttribute("data-l10n-id",f(ji,$c)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=f(this,gs)._uiManager._signal;e.addEventListener("contextmenu",oo,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),f(this,gs)._uiManager.editAltText(f(this,gs)),f(this,uA)&&f(this,gs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Lo,rw)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,_m,!0),i(s))},{signal:r}),await P(this,Lo,Wx).call(this),e}finish(){f(this,wo)&&(f(this,wo).focus({focusVisible:f(this,_m)}),_(this,_m,!1))}isEmpty(){return f(this,uA)?f(this,Xr)===null:!f(this,Xr)&&!f(this,oA)}hasData(){return f(this,uA)?f(this,Xr)!==null||!!f(this,bl):this.isEmpty()}get guessedText(){return f(this,bl)}async setGuessedText(e){f(this,Xr)===null&&(_(this,bl,e),_(this,Yf,await ji._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),P(this,Lo,Wx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,uA)||f(this,Xr)){(t=f(this,lA))==null||t.remove(),_(this,lA,null);return}if(!f(this,lA)){const r=_(this,lA,document.createElement("div"));r.className="noAltTextBadge",f(this,gs).div.append(r)}f(this,lA).classList.toggle("hidden",!e)}serialize(e){let t=f(this,Xr);return!e&&f(this,bl)===t&&(t=f(this,Yf)),{altText:t,decorative:f(this,oA),guessedText:f(this,bl),textWithDisclaimer:f(this,Yf)}}get data(){return{altText:f(this,Xr),decorative:f(this,oA)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(_(this,bl,r),_(this,Yf,i)),!(f(this,Xr)===e&&f(this,oA)===t)&&(s||(_(this,Xr,e),_(this,oA,t)),P(this,Lo,Wx).call(this))}toggle(e=!1){f(this,wo)&&(!e&&f(this,Ks)&&(clearTimeout(f(this,Ks)),_(this,Ks,null)),f(this,wo).disabled=!e)}shown(){f(this,gs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Lo,rw)}})}destroy(){var e,t;(e=f(this,wo))==null||e.remove(),_(this,wo,null),_(this,xm,null),_(this,AA,null),(t=f(this,lA))==null||t.remove(),_(this,lA,null)}};Xr=new WeakMap,oA=new WeakMap,wo=new WeakMap,xm=new WeakMap,AA=new WeakMap,Ks=new WeakMap,_m=new WeakMap,lA=new WeakMap,gs=new WeakMap,bl=new WeakMap,Yf=new WeakMap,uA=new WeakMap,$c=new WeakMap,Lo=new WeakSet,rw=function(){return f(this,Xr)&&"added"||f(this,Xr)===null&&this.guessedText&&"review"||"missing"},Wx=async function(){var i,s,a;const e=f(this,wo);if(!e)return;if(f(this,uA)){if(e.classList.toggle("done",!!f(this,Xr)),e.setAttribute("data-l10n-id",f(ji,$c)[f(this,Lo,rw)]),(i=f(this,xm))==null||i.setAttribute("data-l10n-id",f(ji,$c)[`${f(this,Lo,rw)}-label`]),!f(this,Xr)){(s=f(this,AA))==null||s.remove();return}}else{if(!f(this,Xr)&&!f(this,oA)){e.classList.remove("done"),(a=f(this,AA))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,AA);if(!t){_(this,AA,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,gs).id}`;const o=100,l=f(this,gs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Ks)),_(this,Ks,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,Ks,setTimeout(()=>{_(this,Ks,null),f(this,AA).classList.add("show"),f(this,gs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,Ks)&&(clearTimeout(f(this,Ks)),_(this,Ks,null)),(u=f(this,AA))==null||u.classList.remove("show")},{signal:l})}f(this,oA)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,Xr)),t.parentNode||e.append(t);const r=f(this,gs).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},U(ji,$c,null),Ce(ji,"_l10n",null);let eT=ji;var hi,Ka,Xf,_n,Ub,Jf,bo,Zf,eh,th,Pb,nD;class kS{constructor(e){U(this,Pb);U(this,hi,null);U(this,Ka,null);U(this,Xf,!1);U(this,_n,null);U(this,Ub,null);U(this,Jf,null);U(this,bo,null);U(this,Zf,null);U(this,eh,!1);U(this,th,null);_(this,_n,e)}renderForToolbar(){const e=_(this,Ka,document.createElement("button"));return e.className="comment",P(this,Pb,nD).call(this,e,!1)}renderForStandalone(){const e=_(this,hi,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,_n).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(f(this,_n)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=f(this,_n).commentButtonColor;i&&(r.backgroundColor=i)}return P(this,Pb,nD).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,hi)??f(this,Ka))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,hi))return;const e=f(this,_n).commentButtonColor;e&&(f(this,hi).style.backgroundColor=e),f(this,_n)._uiManager.updatePopupColor(f(this,_n))}get commentButtonWidth(){var e;return(((e=f(this,hi))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,_n).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,th))return f(this,th);if(!f(this,hi))return null;const{x:e,y:t,height:r}=f(this,hi).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=f(this,_n).parent.boundingClientRect;return[(e-i)/a,(t+r-s)/o]}set commentPopupPositionInLayer(e){_(this,th,e)}hasDefaultPopupPosition(){return f(this,th)===null}removeStandaloneCommentButton(){var e;(e=f(this,hi))==null||e.remove(),_(this,hi,null)}removeToolbarCommentButton(){var e;(e=f(this,Ka))==null||e.remove(),_(this,Ka,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,hi)&&(f(this,hi).classList.toggle("selected",e),f(this,hi).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=f(this,_n).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,_n);r=g+r*d,i=v+i*h}const s=f(this,_n).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,_n)._uiManager.editComment(f(this,_n),a+r*l,o+i*u,{...e,parentDimensions:s})}finish(){f(this,Ka)&&(f(this,Ka).focus({focusVisible:f(this,Xf)}),_(this,Xf,!1))}isDeleted(){return f(this,eh)||f(this,bo)===""}isEmpty(){return f(this,bo)===null}hasBeenEdited(){return this.isDeleted()||f(this,bo)!==f(this,Ub)}serialize(){return this.data}get data(){return{text:f(this,bo),richText:f(this,Jf),date:f(this,Zf),deleted:this.isDeleted()}}set data(e){if(e!==f(this,bo)&&_(this,Jf,null),e===null){_(this,bo,""),_(this,eh,!0);return}_(this,bo,e),_(this,Zf,new Date),_(this,eh,!1)}setInitialText(e,t=null){_(this,Ub,e),this.data=e,_(this,Zf,null),_(this,Jf,t)}shown(){}destroy(){var e,t;(e=f(this,Ka))==null||e.remove(),_(this,Ka,null),(t=f(this,hi))==null||t.remove(),_(this,hi,null),_(this,bo,""),_(this,Jf,null),_(this,Zf,null),_(this,_n,null),_(this,Xf,!1),_(this,eh,!1)}}hi=new WeakMap,Ka=new WeakMap,Xf=new WeakMap,_n=new WeakMap,Ub=new WeakMap,Jf=new WeakMap,bo=new WeakMap,Zf=new WeakMap,eh=new WeakMap,th=new WeakMap,Pb=new WeakSet,nD=function(e,t){if(!f(this,_n)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,_n)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=f(this,_n)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",oo,{signal:r}),t&&(e.addEventListener("focusin",s=>{f(this,_n)._focusEventsAllowed=!1,ar(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{f(this,_n)._focusEventsAllowed=!0,ar(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===f(this,Ka)?this.edit():f(this,_n).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Xf,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{f(this,_n).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{f(this,_n).toggleComment(!1,!1)},{signal:r}),e};var Tm,nh,Rb,Db,Nb,Lb,Qb,Cl,rh,El,ih,Bl,tf,pj,gj,mj,Im;let hj=(Im=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){U(this,tf);U(this,Tm);U(this,nh,!1);U(this,Rb,null);U(this,Db);U(this,Nb);U(this,Lb);U(this,Qb);U(this,Cl,null);U(this,rh);U(this,El,null);U(this,ih);U(this,Bl,null);_(this,Tm,e),_(this,Rb,r),_(this,Db,t),_(this,Nb,i),_(this,Lb,s),_(this,Qb,a),_(this,ih,new AbortController),_(this,rh,AbortSignal.any([o,f(this,ih).signal])),e.addEventListener("touchstart",P(this,tf,pj).bind(this),{passive:!1,signal:f(this,rh)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Sp.pixelRatio}destroy(){var e,t;(e=f(this,ih))==null||e.abort(),_(this,ih,null),(t=f(this,Cl))==null||t.abort(),_(this,Cl,null)}},Tm=new WeakMap,nh=new WeakMap,Rb=new WeakMap,Db=new WeakMap,Nb=new WeakMap,Lb=new WeakMap,Qb=new WeakMap,Cl=new WeakMap,rh=new WeakMap,El=new WeakMap,ih=new WeakMap,Bl=new WeakMap,tf=new WeakSet,pj=function(e){var i,s,a;if((i=f(this,Db))!=null&&i.call(this))return;if(e.touches.length===1){if(f(this,Cl))return;const o=_(this,Cl,new AbortController),l=AbortSignal.any([f(this,rh),o.signal]),u=f(this,Tm),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,Cl))==null||v.abort(),_(this,Cl,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(ar(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,Bl)){_(this,Bl,new AbortController);const o=AbortSignal.any([f(this,rh),f(this,Bl).signal]),l=f(this,Tm),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",P(this,tf,gj).bind(this),u);const d=P(this,tf,mj).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",ar,u),l.addEventListener("pointermove",ar,u),l.addEventListener("pointercancel",ar,u),l.addEventListener("pointerup",ar,u),(s=f(this,Nb))==null||s.call(this)}if(ar(e),e.touches.length!==2||(a=f(this,Rb))!=null&&a.call(this)){_(this,El,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),_(this,El,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},gj=function(e){var R;if(!f(this,El)||e.touches.length!==2)return;ar(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=r,l=f(this,El),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,b=g-d,C=a-i,B=o-s,S=Math.hypot(C,B)||1,I=Math.hypot(v,b)||1;if(!f(this,nh)&&Math.abs(I-S)<=Im.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,nh)){_(this,nh,!0);return}const T=[(i+a)/2,(s+o)/2];(R=f(this,Lb))==null||R.call(this,T,I,S)},mj=function(e){var t;e.touches.length>=2||(f(this,Bl)&&(f(this,Bl).abort(),_(this,Bl,null),(t=f(this,Qb))==null||t.call(this)),f(this,El)&&(ar(e),_(this,El,null),_(this,nh,!1)))},Im);var sh,Co,Hn,vn,Sl,Fm,jc,kb,pi,ah,xl,Ga,Wc,Ob,oh,Gs,Hb,Ah,_l,cA,Mm,Um,za,lh,Vb,g1,Ze,rD,Kb,iD,Yx,vj,yj,sD,Xx,aD,wj,bj,Cj,oD,Ej,AD,Bj,Sj,xj,lD,iw;const at=class at{constructor(e){U(this,Ze);U(this,sh,null);U(this,Co,null);U(this,Hn,null);U(this,vn,null);U(this,Sl,null);U(this,Fm,!1);U(this,jc,null);U(this,kb,"");U(this,pi,null);U(this,ah,null);U(this,xl,null);U(this,Ga,null);U(this,Wc,null);U(this,Ob,"");U(this,oh,!1);U(this,Gs,null);U(this,Hb,!1);U(this,Ah,!1);U(this,_l,!1);U(this,cA,null);U(this,Mm,0);U(this,Um,0);U(this,za,null);U(this,lh,null);Ce(this,"isSelected",!1);Ce(this,"_isCopy",!1);Ce(this,"_editToolbar",null);Ce(this,"_initialOptions",Object.create(null));Ce(this,"_initialData",null);Ce(this,"_isVisible",!0);Ce(this,"_uiManager",null);Ce(this,"_focusEventsAllowed",!0);U(this,Vb,!1);U(this,g1,at._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=at.prototype._resizeWithKeyboard,t=Yw.TRANSLATE_SMALL,r=Yw.TRANSLATE_BIG;return st(this,"_resizerKeyboardManager",new JE([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],at.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return st(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Yce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(at._l10n??(at._l10n=e),at._l10nResizer||(at._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),at._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);at._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Cn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Vb)}set _isDraggable(e){var t;_(this,Vb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,g1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(P(this,Ze,iw).call(this),(t=f(this,Ga))==null||t.remove(),_(this,Ga,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,oh)?_(this,oh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){P(this,Ze,rD).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,Gs)||_(this,Gs,[this.x,this.y,this.width,this.height]),P(this,Ze,rD).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,Gs)||_(this,Gs,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=r;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,Gs)&&(f(this,Gs)[0]!==this.x||f(this,Gs)[1]!==this.y)}get _hasBeenResized(){return!!f(this,Gs)&&(f(this,Gs)[2]!==this.width||f(this,Gs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=at,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=ts(s,0,r-o),a=ts(a,0,i-l);break;case 90:s=ts(s,0,r-l),a=ts(a,o,i);break;case 180:s=ts(s,o,r),a=ts(a,l,i);break;case 270:s=ts(s,l,r),a=ts(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return P(r=at,Kb,iD).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return P(r=at,Kb,iD).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,Hn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,Ah))return this._editToolbar;this._editToolbar=new jR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,Hn))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,Hn)||(eT.initialize(at._l10n),_(this,Hn,new eT(this)),f(this,sh)&&(f(this,Hn).data=f(this,sh),_(this,sh,null))),f(this,Hn)}get altTextData(){var e;return(e=f(this,Hn))==null?void 0:e.data}set altTextData(e){f(this,Hn)&&(f(this,Hn).data=e)}get guessedAltText(){var e;return(e=f(this,Hn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,Hn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,Hn))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,Hn)&&!f(this,Hn).isEmpty()}hasAltTextData(){var e;return((e=f(this,Hn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,vn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,vn)||_(this,vn,new kS(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,Sl)){this._uiManager.isEditingMode()&&f(this,Sl).classList.remove("hidden");return}this.hasComment&&(_(this,Sl,f(this,vn).renderForStandalone()),this.div.append(f(this,Sl)))}}removeStandaloneCommentButton(){f(this,vn).removeStandaloneCommentButton(),_(this,Sl,null)}hideStandaloneCommentButton(){var e;(e=f(this,Sl))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:i}}=f(this,vn);return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,vn)||_(this,vn,new kS(this)),f(this,vn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(f(this,vn)||_(this,vn,new kS(this)),f(this,vn).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=f(this,vn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,vn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,vn)&&!f(this,vn).isEmpty()&&!f(this,vn).isDeleted()}async editComment(e){f(this,vn)||_(this,vn,new kS(this)),f(this,vn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,vn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,vn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,Fm)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),P(this,Ze,AD).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),ej(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,lh)||_(this,lh,new hj({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:P(this,Ze,wj).bind(this),onPinching:P(this,Ze,bj).bind(this),onPinchEnd:P(this,Ze,Cj).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Ti.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,oh,!0),this._isDraggable){P(this,Ze,Ej).call(this,e);return}P(this,Ze,oD).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,cA)&&clearTimeout(f(this,cA)),_(this,cA,setTimeout(()=>{var e;_(this,cA,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,g=this.y*a,v=this.width*s,b=this.height*a;switch(r){case 0:return[h+u+o,a-g-d-b+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+b+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+b+l];case 270:return[h-d-b+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&at._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,vn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:r||d,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,Ah,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,Ah,!1),!0):!1}isInEditMode(){return f(this,Ah)}shouldGetKeyboardEvents(){return f(this,_l)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){P(this,Ze,AD).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,_(i,sh,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,u,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,r;if((e=f(this,Wc))==null||e.abort(),_(this,Wc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,cA)&&(clearTimeout(f(this,cA)),_(this,cA,null)),P(this,Ze,iw).call(this),this.removeEditToolbar(),f(this,za)){for(const i of f(this,za).values())clearTimeout(i);_(this,za,null)}this.parent=null,(t=f(this,lh))==null||t.destroy(),_(this,lh,null),(r=f(this,Ga))==null||r.remove(),_(this,Ga,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(P(this,Ze,vj).call(this),f(this,pi).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,a]=this.getPDFRect();return[at._round(r+(s-r)*e),at._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,vn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,vn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,vn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,vn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,vn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,xl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,pi).children;if(!f(this,Co)){_(this,Co,Array.from(t));const a=P(this,Ze,Bj).bind(this),o=P(this,Ze,Sj).bind(this),l=this._uiManager._signal;for(const u of f(this,Co)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",P(this,Ze,xj).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",at._l10nResizer[d])}}const r=f(this,Co)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,Co).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)f(this,pi).append(f(this,pi).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)f(this,pi).firstElementChild.before(f(this,pi).lastElementChild);let a=0;for(const o of t){const u=f(this,Co)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",at._l10nResizer[u])}}P(this,Ze,lD).call(this,0),_(this,_l,!0),f(this,pi).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,_l)&&P(this,Ze,aD).call(this,f(this,Ob),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){P(this,Ze,iw).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=f(this,Hn))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=f(this,pi))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=f(this,Hn))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,Hb)}set isEditing(e){_(this,Hb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,za)||_(this,za,new Map);const{action:r}=e;let i=f(this,za).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),f(this,za).delete(r),f(this,za).size===0&&_(this,za,null)},at._telemetryTimeout),f(this,za).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,Fm,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,Fm,!0)}updateFakeAnnotationElement(e){if(!f(this,Ga)&&!this.deleted){_(this,Ga,e.addFakeAnnotation(this));return}if(this.deleted){f(this,Ga).remove(),_(this,Ga,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,Ga).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};sh=new WeakMap,Co=new WeakMap,Hn=new WeakMap,vn=new WeakMap,Sl=new WeakMap,Fm=new WeakMap,jc=new WeakMap,kb=new WeakMap,pi=new WeakMap,ah=new WeakMap,xl=new WeakMap,Ga=new WeakMap,Wc=new WeakMap,Ob=new WeakMap,oh=new WeakMap,Gs=new WeakMap,Hb=new WeakMap,Ah=new WeakMap,_l=new WeakMap,cA=new WeakMap,Mm=new WeakMap,Um=new WeakMap,za=new WeakMap,lh=new WeakMap,Vb=new WeakMap,g1=new WeakMap,Ze=new WeakSet,rD=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Kb=new WeakSet,iD=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Yx=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},vj=function(){if(f(this,pi))return;_(this,pi,document.createElement("div")),f(this,pi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");f(this,pi).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",P(this,Ze,yj).bind(this,r),{signal:t}),i.addEventListener("contextmenu",oo,{signal:t}),i.tabIndex=-1}this.div.prepend(f(this,pi))},yj=function(e,t){var d;t.preventDefault();const{isMac:r}=Ti.platform;if(t.button!==0||t.ctrlKey&&r)return;(d=f(this,Hn))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,_(this,ah,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",P(this,Ze,aD).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",ar,{passive:!1,signal:a}),window.addEventListener("contextmenu",oo,{signal:a}),_(this,xl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,Hn))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,P(this,Ze,Xx).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},sD=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Xx=function(){if(!f(this,xl))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=f(this,xl);_(this,xl,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===r&&l===i||this.addCommands({cmd:P(this,Ze,sD).bind(this,s,a,o,l),undo:P(this,Ze,sD).bind(this,e,t,r,i),mustExec:!0})},aD=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=at.MIN_SIZE/r,d=at.MIN_SIZE/i,h=P(this,Ze,Yx).call(this,this.rotation),g=(V,$)=>[h[0]*V+h[2]*$,h[1]*V+h[3]*$],v=P(this,Ze,Yx).call(this,360-this.rotation),b=(V,$)=>[v[0]*V+v[2]*$,v[1]*V+v[3]*$];let C,B,S=!1,I=!1;switch(e){case"topLeft":S=!0,C=(V,$)=>[0,0],B=(V,$)=>[V,$];break;case"topMiddle":C=(V,$)=>[V/2,0],B=(V,$)=>[V/2,$];break;case"topRight":S=!0,C=(V,$)=>[V,0],B=(V,$)=>[0,$];break;case"middleRight":I=!0,C=(V,$)=>[V,$/2],B=(V,$)=>[0,$/2];break;case"bottomRight":S=!0,C=(V,$)=>[V,$],B=(V,$)=>[0,0];break;case"bottomMiddle":C=(V,$)=>[V/2,$],B=(V,$)=>[V/2,0];break;case"bottomLeft":S=!0,C=(V,$)=>[0,$],B=(V,$)=>[V,0];break;case"middleLeft":I=!0,C=(V,$)=>[0,$/2],B=(V,$)=>[V,$/2];break}const T=C(o,l),R=B(o,l);let M=g(...R);const D=at._round(s+M[0]),L=at._round(a+M[1]);let H=1,k=1,K,G;if(t.fromKeyboard)({deltaX:K,deltaY:G}=t);else{const{screenX:V,screenY:$}=t,[re,de]=f(this,ah);[K,G]=this.screenToPageTranslation(V-re,$-de),f(this,ah)[0]=V,f(this,ah)[1]=$}if([K,G]=b(K/r,G/i),S){const V=Math.hypot(o,l);H=k=Math.max(Math.min(Math.hypot(R[0]-T[0]-K,R[1]-T[1]-G)/V,1/o,1/l),u/o,d/l)}else I?H=ts(Math.abs(R[0]-T[0]-K),u,1)/o:k=ts(Math.abs(R[1]-T[1]-G),d,1)/l;const z=at._round(o*H),Z=at._round(l*k);M=g(...B(z,Z));const ne=D-M[0],J=L-M[1];f(this,Gs)||_(this,Gs,[this.x,this.y,this.width,this.height]),this.width=z,this.height=Z,this.x=ne,this.y=J,this.setDims(),this.fixAndSetPosition(),this._onResizing()},wj=function(){var e;_(this,xl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,Hn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},bj=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=P(this,Ze,Yx).call(this,this.rotation),o=(D,L)=>[a[0]*D+a[2]*L,a[1]*D+a[3]*L],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,b=at.MIN_SIZE/l,C=at.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),b/g,C/v);const B=at._round(g*s),S=at._round(v*s);if(B===g&&S===v)return;f(this,Gs)||_(this,Gs,[d,h,g,v]);const I=o(g/2,v/2),T=at._round(d+I[0]),R=at._round(h+I[1]),M=o(B/2,S/2);this.x=T-M[0],this.y=R-M[1],this.width=B,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()},Cj=function(){var e;(e=f(this,Hn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),P(this,Ze,Xx).call(this)},oD=function(e){const{isMac:t}=Ti.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Ej=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),_(this,jc,null),_(this,oh,!1),this._uiManager.endDragSession()||P(this,Ze,oD).call(this,u),r&&this._onStopDragging()};t&&(_(this,Mm,e.clientX),_(this,Um,e.clientY),_(this,jc,e.pointerId),_(this,kb,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,jc)){ar(u);return}const[v,b]=this.screenToPageTranslation(d-f(this,Mm),h-f(this,Um));_(this,Mm,d),_(this,Um,h),this._uiManager.dragSelectedEditors(v,b)},a),window.addEventListener("touchmove",ar,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,kb)&&(f(this,lh)||u.isPrimary)&&o(u),ar(u)},a));const l=u=>{if(!f(this,jc)||f(this,jc)===u.pointerId){o(u);return}ar(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},AD=function(){if(f(this,Wc)||!this.div)return;_(this,Wc,new AbortController);const e=this._uiManager.combinedSignal(f(this,Wc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Bj=function(e){at._resizerKeyboardManager.exec(this,e)},Sj=function(e){var t;f(this,_l)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,pi)&&P(this,Ze,iw).call(this)},xj=function(e){_(this,Ob,f(this,_l)?e:"")},lD=function(e){if(f(this,Co))for(const t of f(this,Co))t.tabIndex=e},iw=function(){_(this,_l,!1),P(this,Ze,lD).call(this,-1),P(this,Ze,Xx).call(this)},U(at,Kb),Ce(at,"_l10n",null),Ce(at,"_l10nResizer",null),Ce(at,"_borderLineWidth",-1),Ce(at,"_colorManager",new XR),Ce(at,"_zIndex",1),Ce(at,"_telemetryTimeout",1e3);let Fn=at;class Yce extends Fn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const xK=3285377520,Ma=4294901760,Zo=65535;class _j{constructor(e){this.h1=e?e&4294967295:xK,this.h2=e?e&4294967295:xK}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let C=0,B=e.length;C<B;C++){const S=e.charCodeAt(C);S<=255?t[r++]=S:(t[r++]=S>>>8,t[r++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&Zo,b=g&Zo;for(let C=0;C<i;C++)C&1?(o=a[C],o=o*h&Ma|o*v&Zo,o=o<<15|o>>>17,o=o*g&Ma|o*b&Zo,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[C],l=l*h&Ma|l*v&Zo,l=l<<15|l>>>17,l=l*g&Ma|l*b&Zo,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*h&Ma|o*v&Zo,o=o<<15|o>>>17,o=o*g&Ma|o*b&Zo,i&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ma|e*36045&Zo,t=t*4283543511&Ma|((t<<16|e>>>16)*2950163797&Ma)>>>16,e^=t>>>1,e=e*444984403&Ma|e*60499&Zo,t=t*3301882366&Ma|((t<<16|e>>>16)*3120437893&Ma)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const uD=Object.freeze({map:null,hash:"",transfer:void 0});var uh,ch,Tl,gi,m1,Tj;class HQ{constructor(){U(this,m1);U(this,uh,!1);U(this,ch,null);U(this,Tl,null);U(this,gi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=f(this,gi).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return f(this,gi).get(e)}remove(e){const t=f(this,gi).get(e);if(t!==void 0&&(t instanceof Fn&&f(this,Tl).delete(t.annotationElementId),f(this,gi).delete(e),f(this,gi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of f(this,gi).values())if(r instanceof Fn)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=f(this,gi).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,f(this,gi).set(e,t);i&&P(this,m1,Tj).call(this),t instanceof Fn&&((f(this,Tl)||_(this,Tl,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,gi).has(e)}get size(){return f(this,gi).size}resetModified(){f(this,uh)&&(_(this,uh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Ij(this)}get serializable(){if(f(this,gi).size===0)return uD;const e=new Map,t=new _j,r=[],i=Object.create(null);let s=!1;for(const[a,o]of f(this,gi)){const l=o instanceof Fn?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:uD}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of f(this,gi).values()){if(!(s instanceof Fn)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,ch,null)}updateEditor(e,t){var i;const r=(i=f(this,Tl))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,Tl))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,ch))return f(this,ch);const e=[];if(f(this,Tl))for(const t of f(this,Tl).values())t.serialize()&&e.push(t.annotationElementId);return _(this,ch,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,gi).entries()}}uh=new WeakMap,ch=new WeakMap,Tl=new WeakMap,gi=new WeakMap,m1=new WeakSet,Tj=function(){f(this,uh)||(_(this,uh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Gb;class Ij extends HQ{constructor(t){super();U(this,Gb);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);_(this,Gb,{map:a,hash:i,transfer:s})}get print(){Cn("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,Gb)}get modifiedIds(){return st(this,"modifiedIds",{ids:new Set,hash:""})}}Gb=new WeakMap;var Pm;class Xce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){U(this,Pm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,Pm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||f(this,Pm).has(e.loadedName))){if(Tt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,Pm).add(i),r==null||r(e)}catch{it(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Cn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw it(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return st(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return st(this,"isSyncFontLoadingSupported",es||Ti.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Tt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return st(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(R,M){return R.charCodeAt(M)<<24|R.charCodeAt(M+1)<<16|R.charCodeAt(M+2)<<8|R.charCodeAt(M+3)&255}function i(R,M,D,L){const H=R.substring(0,M),k=R.substring(M+D);return H+L+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(R,M){if(++u>30){it("Load test font never loaded."),M();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(d.bind(null,R,M))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,h.length,h);const b=16,C=1482184792;let B=r(g,b);for(s=0,a=h.length-3;s<a;s+=4)B=B-C+r(h,s)|0;s<h.length&&(B=B-C+r(h+"XXX",s)|0),g=i(g,b,4,Mce(B));const S=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${S}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,h]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=R,T.append(M)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}Pm=new WeakMap;var ln;class Jce{constructor(e,t=null,r,i){U(this,ln);this.compiledGlyphs=Object.create(null),_(this,ln,e),this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${z6(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){it(`getPathGenerator - ignoring character: "${a}".`)}const s=j6(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return f(this,ln).black}get bold(){return f(this,ln).bold}get disableFontFace(){return f(this,ln).disableFontFace??!1}set disableFontFace(e){st(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,ln).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,ln).isInvalidPDFjsFont}get isType3Font(){return f(this,ln).isType3Font}get italic(){return f(this,ln).italic}get missingFile(){return f(this,ln).missingFile}get remeasure(){return f(this,ln).remeasure}get vertical(){return f(this,ln).vertical}get ascent(){return f(this,ln).ascent}get defaultWidth(){return f(this,ln).defaultWidth}get descent(){return f(this,ln).descent}get bbox(){return f(this,ln).bbox}set bbox(e){st(this,"bbox",e)}get fontMatrix(){return f(this,ln).fontMatrix}get fallbackName(){return f(this,ln).fallbackName}get loadedName(){return f(this,ln).loadedName}get mimetype(){return f(this,ln).mimetype}get name(){return f(this,ln).name}get data(){return f(this,ln).data}clearData(){f(this,ln).clearData()}get cssFontInfo(){return f(this,ln).cssFontInfo}get systemFontInfo(){return f(this,ln).systemFontInfo}get defaultVMetrics(){return f(this,ln).defaultVMetrics}}ln=new WeakMap;var Rm,Dm,zb,Nm,Jx;const Xg=class Xg{constructor(e){U(this,Nm);U(this,Rm);U(this,Dm);U(this,zb);_(this,Rm,e),_(this,Dm,new DataView(f(this,Rm))),_(this,zb,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const u of Xg.strings){const d=t.encode(e[u]);r[u]=d,i+=4+d.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of Xg.strings){const d=r[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Tt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return P(this,Nm,Jx).call(this,0)}get fontWeight(){return P(this,Nm,Jx).call(this,1)}get italicAngle(){return P(this,Nm,Jx).call(this,2)}};Rm=new WeakMap,Dm=new WeakMap,zb=new WeakMap,Nm=new WeakSet,Jx=function(e){Tt(e<Xg.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=f(this,Dm).getUint32(t)+4;const r=f(this,Dm).getUint32(t);return f(this,zb).decode(new Uint8Array(f(this,Rm),t+4,r))},Ce(Xg,"strings",["fontFamily","fontWeight","italicAngle"]);let tT=Xg;var Yc,dA,dh,fh,sw;const Jg=class Jg{constructor(e){U(this,fh);U(this,Yc);U(this,dA);U(this,dh);_(this,Yc,e),_(this,dA,new DataView(f(this,Yc))),_(this,dh,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const g of Jg.strings){const v=t.encode(e[g]);r[g]=v,i+=4+v.length}i+=4;let s,a,o=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const g of Jg.strings){const v=r[g],b=v.length;i+=4+b,d.setUint32(h,b),u.set(v,h+4),h+=4+b}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),Tt(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,dA).getUint8(0)!==0}get css(){return P(this,fh,sw).call(this,0)}get loadedName(){return P(this,fh,sw).call(this,1)}get baseFontName(){return P(this,fh,sw).call(this,2)}get src(){return P(this,fh,sw).call(this,3)}get style(){let e=1;e+=4+f(this,dA).getUint32(e);const t=f(this,dA).getUint32(e),r=f(this,dh).decode(new Uint8Array(f(this,Yc),e+4,t));e+=4+t;const i=f(this,dA).getUint32(e),s=f(this,dh).decode(new Uint8Array(f(this,Yc),e+4,i));return{style:r,weight:s}}};Yc=new WeakMap,dA=new WeakMap,dh=new WeakMap,fh=new WeakSet,sw=function(e){Tt(e<Jg.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=f(this,dA).getUint32(t)+4;const r=f(this,dA).getUint32(t);return f(this,dh).decode(new Uint8Array(f(this,Yc),t+4,r))},Ce(Jg,"strings",["css","loadedName","baseFontName","src"]);let nT=Jg;var Lm,Qm,km,Om,zs,fA,qb,un,sr,vo,Zx,aw;const lt=class lt{constructor({data:e,extra:t}){U(this,sr);U(this,fA);U(this,qb);U(this,un);_(this,fA,e),_(this,qb,new TextDecoder),_(this,un,new DataView(f(this,fA))),t&&Object.assign(this,t)}get black(){return P(this,sr,vo).call(this,0)}get bold(){return P(this,sr,vo).call(this,1)}get disableFontFace(){return P(this,sr,vo).call(this,2)}get fontExtraProperties(){return P(this,sr,vo).call(this,3)}get isInvalidPDFjsFont(){return P(this,sr,vo).call(this,4)}get isType3Font(){return P(this,sr,vo).call(this,5)}get italic(){return P(this,sr,vo).call(this,6)}get missingFile(){return P(this,sr,vo).call(this,7)}get remeasure(){return P(this,sr,vo).call(this,8)}get vertical(){return P(this,sr,vo).call(this,9)}get ascent(){return P(this,sr,Zx).call(this,0)}get defaultWidth(){return P(this,sr,Zx).call(this,1)}get descent(){return P(this,sr,Zx).call(this,2)}get bbox(){let e=f(lt,Qm);if(f(this,un).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(f(this,un).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=f(lt,km);if(f(this,un).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(f(this,un).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=f(lt,Om);if(f(this,un).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(f(this,un).getInt16(e,!0)),e+=2;return r}get fallbackName(){return P(this,sr,aw).call(this,0)}get loadedName(){return P(this,sr,aw).call(this,1)}get mimetype(){return P(this,sr,aw).call(this,2)}get name(){return P(this,sr,aw).call(this,3)}get data(){let e=f(lt,zs);const t=f(this,un).getUint32(e);e+=4+t;const r=f(this,un).getUint32(e);e+=4+r;const i=f(this,un).getUint32(e);e+=4+i;const s=f(this,un).getUint32(e);if(s!==0)return new Uint8Array(f(this,fA),e+4,s)}clearData(){let e=f(lt,zs);const t=f(this,un).getUint32(e);e+=4+t;const r=f(this,un).getUint32(e);e+=4+r;const i=f(this,un).getUint32(e);e+=4+i;const s=f(this,un).getUint32(e);new Uint8Array(f(this,fA),e+4,s).fill(0),f(this,un).setUint32(e,0)}get cssFontInfo(){let e=f(lt,zs);const t=f(this,un).getUint32(e);e+=4+t;const r=f(this,un).getUint32(e);e+=4+r;const i=f(this,un).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(f(this,fA),e+4,i)),new tT(s.buffer)}get systemFontInfo(){let e=f(lt,zs);const t=f(this,un).getUint32(e);e+=4+t;const r=f(this,un).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(f(this,fA),e+4,r)),new nT(i.buffer)}static write(e){const t=e.systemFontInfo?nT.write(e.systemFontInfo):null,r=e.cssFontInfo?tT.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const C of lt.strings)s[C]=i.encode(e[C]),a+=4+s[C].length;const o=f(lt,zs)+4+a+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=lt.bools.length;let v=0,b=0;for(let C=0;C<g;C++){const B=e[lt.bools[C]];v|=(B===void 0?0:B?2:1)<<b,b+=2,(b===8||C===g-1)&&(d.setUint8(h++,v),v=0,b=0)}Tt(h===f(lt,Lm),"FontInfo.write: Boolean properties offset mismatch");for(const C of lt.numbers)d.setFloat64(h,e[C]),h+=8;if(Tt(h===f(lt,Qm),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const C of e.bbox)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Tt(h===f(lt,km),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const C of e.fontMatrix)d.setFloat64(h,C,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Tt(h===f(lt,Om),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const C of e.defaultVMetrics)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=6;Tt(h===f(lt,zs),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(lt,zs),0),h+=4;for(const C of lt.strings){const B=s[C],S=B.length;d.setUint32(h,S),u.set(B,h+4),h+=4+S}if(d.setUint32(f(lt,zs),h-f(lt,zs)-4),!t)d.setUint32(h,0),h+=4;else{const C=t.byteLength;d.setUint32(h,C),Tt(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+C}if(!r)d.setUint32(h,0),h+=4;else{const C=r.byteLength;d.setUint32(h,C),Tt(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(r),h+4),h+=4+C}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Tt(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};Lm=new WeakMap,Qm=new WeakMap,km=new WeakMap,Om=new WeakMap,zs=new WeakMap,fA=new WeakMap,qb=new WeakMap,un=new WeakMap,sr=new WeakSet,vo=function(e){Tt(e<lt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=f(this,un).getUint8(t)>>r&3;return i===0?void 0:i===2},Zx=function(e){return Tt(e<lt.numbers.length,"Invalid number index"),f(this,un).getFloat64(f(lt,Lm)+e*8)},aw=function(e){Tt(e<lt.strings.length,"Invalid string index");let t=f(lt,zs)+4;for(let s=0;s<e;s++)t+=f(this,un).getUint32(t)+4;const r=f(this,un).getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(f(this,fA),t+4,r)),f(this,qb).decode(i)},Ce(lt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Ce(lt,"numbers",["ascent","defaultWidth","descent"]),Ce(lt,"strings",["fallbackName","loadedName","mimetype","name"]),U(lt,Lm,Math.ceil(lt.bools.length*2/8)),U(lt,Qm,f(lt,Lm)+lt.numbers.length*8),U(lt,km,f(lt,Qm)+1+8),U(lt,Om,f(lt,km)+1+48),U(lt,zs,f(lt,Om)+1+6);let cD=lt;var $b,jb,Wb,Yb,Xb,Jb,Zb,eC;const xn=class xn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,r=null,i=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,r=e[2],a=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(i.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let b=0;for(const M of o)b+=1,b=Math.ceil(b/4)*4,b+=4+M.coords.length*4,b+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(b+=4);const C=20+d*8+h*3+g*8+(r?16:0)+(u?3:0)+b,B=new ArrayBuffer(C),S=new DataView(B),I=new Uint8Array(B);S.setUint8(f(xn,$b),t),S.setUint8(f(xn,jb),r?1:0),S.setUint8(f(xn,Wb),u?1:0),S.setUint8(f(xn,Yb),l),S.setUint32(f(xn,Xb),d,!0),S.setUint32(f(xn,Jb),h,!0),S.setUint32(f(xn,Zb),g,!0),S.setUint32(f(xn,eC),v,!0);let T=20;new Float32Array(B,T,d*2).set(i),T+=d*8,I.set(s,T),T+=h*3;for(const[M,D]of a)S.setFloat32(T,M,!0),T+=4,S.setUint32(T,parseInt(D.slice(1),16),!0),T+=4;if(r)for(const M of r)S.setFloat32(T,M,!0),T+=4;u&&(I.set(u,T),T+=3);for(let M=0;M<o.length;M++){const D=o[M];S.setUint8(T,D.type),T+=1,T=Math.ceil(T/4)*4,S.setUint32(T,D.coords.length,!0),T+=4,new Int32Array(B,T,D.coords.length).set(D.coords),T+=D.coords.length*4,S.setUint32(T,D.colors.length,!0),T+=4,new Int32Array(B,T,D.colors.length).set(D.colors),T+=D.colors.length*4,D.verticesPerRow!==void 0&&(S.setUint32(T,D.verticesPerRow,!0),T+=4)}return B}getIR(){const e=this.view,t=this.data[f(xn,$b)],r=!!this.data[f(xn,jb)],i=!!this.data[f(xn,Wb)],s=e.getUint32(f(xn,Xb),!0),a=e.getUint32(f(xn,Jb),!0),o=e.getUint32(f(xn,Zb),!0),l=e.getUint32(f(xn,eC),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let B=0;B<o;++B){const S=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([S,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(r){v=[];for(let B=0;B<4;++B)v.push(e.getFloat32(u,!0)),u+=4}let b=null;i&&(b=new Uint8Array(this.buffer,u,3),u+=3);const C=[];for(let B=0;B<l;++B){const S=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const R=e.getUint32(u,!0);u+=4;const M=new Int32Array(this.buffer,u,R);u+=R*4;const D={type:S,coords:T,colors:M};S===HR.LATTICE&&(D.verticesPerRow=e.getUint32(u,!0),u+=4),C.push(D)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const B=this.data[f(xn,Yb)];let S=null;if(d.length>0){let I=d[0],T=d[0],R=d[1],M=d[1];for(let D=0;D<d.length;D+=2){const L=d[D],H=d[D+1];I=I>L?L:I,R=R>H?H:R,T=T<L?L:T,M=M<H?H:M}S=[I,R,T,M]}return["Mesh",B,d,h,C,S,v,b]}throw new Error(`Unsupported pattern kind: ${t}`)}};$b=new WeakMap,jb=new WeakMap,Wb=new WeakMap,Yb=new WeakMap,Xb=new WeakMap,Jb=new WeakMap,Zb=new WeakMap,eC=new WeakMap,U(xn,$b,0),U(xn,jb,1),U(xn,Wb,2),U(xn,Yb,3),U(xn,Xb,4),U(xn,Jb,8),U(xn,Zb,12),U(xn,eC,16);let dD=xn;function Zce(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(es)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ede(n){if(es&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return jE(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function OS(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const fD=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,tde=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",nde=Nce.bind(null,fD,tde);var Il,v1;class rde{constructor(){U(this,Il,new Map);U(this,v1,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};f(this,v1).then(()=>{for(const[i]of f(this,Il))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){it("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,Il).set(t,i)}removeEventListener(e,t){const r=f(this,Il).get(t);r==null||r(),f(this,Il).delete(t)}terminate(){for(const[,e]of f(this,Il))e==null||e();f(this,Il).clear()}}Il=new WeakMap,v1=new WeakMap;const HS={DATA:1,ERROR:2},_r={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _K(){}function hs(n){if(n instanceof Wd||n instanceof VR||n instanceof yK||n instanceof Z_||n instanceof oU)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Cn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Wd(n.message);case"InvalidPDFException":return new VR(n.message);case"PasswordException":return new yK(n.message,n.code);case"ResponseException":return new Z_(n.message,n.status,n.missing);case"UnknownErrorException":return new oU(n.message,n.details)}return new oU(n.message,n.toString())}var Hm,so,Fj,Mj,Uj,e_;class ow{constructor(e,t,r){U(this,so);U(this,Hm,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",P(this,so,Fj).bind(this),{signal:f(this,Hm).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:_r.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Tt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:_r.CANCEL,streamId:s,reason:hs(u)}),d.promise}},r)}destroy(){var e;(e=f(this,Hm))==null||e.abort(),_(this,Hm,null)}}Hm=new WeakMap,so=new WeakSet,Fj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){P(this,so,Uj).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===HS.DATA)i.resolve(e.data);else if(e.callback===HS.ERROR)i.reject(hs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:HS.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:HS.ERROR,callbackId:e.callbackId,reason:hs(a)})});return}if(e.streamId){P(this,so,Mj).call(this,e);return}t(e.data)},Mj=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:_r.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:_r.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Tt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:_r.ERROR,streamId:t,reason:hs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:_r.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:_r.START_COMPLETE,streamId:t,reason:hs(u)})})},Uj=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case _r.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(hs(e.reason));break;case _r.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(hs(e.reason));break;case _r.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:_r.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||_K).then(function(){s.postMessage({sourceName:r,targetName:i,stream:_r.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:_r.PULL_COMPLETE,streamId:t,reason:hs(u)})});break;case _r.ENQUEUE:if(Tt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case _r.CLOSE:if(Tt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),P(this,so,e_).call(this,a,t);break;case _r.ERROR:Tt(a,"error should have stream controller"),a.controller.error(hs(e.reason)),P(this,so,e_).call(this,a,t);break;case _r.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(hs(e.reason)),P(this,so,e_).call(this,a,t);break;case _r.CANCEL:if(!o)break;const l=hs(e.reason);Promise.try(o.onCancel||_K,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:_r.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:_r.CANCEL_COMPLETE,streamId:t,reason:hs(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},e_=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var tC;class Pj{constructor({enableHWA:e=!1}){U(this,tC,!1);_(this,tC,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!f(this,tC)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Cn("Abstract method `_createCanvas` called.")}}tC=new WeakMap;class ide extends Pj{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class Rj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Cn("Abstract method `_fetch` called.")}}class TK extends Rj{async _fetch(e){const t=await WE(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):jE(t)}}class Dj{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var hh,Vm,Fl,Ml,Ni,ph,gh,Qe,Ui,Aw,Pg,t_,Rg,Nj,hD,Dg,lw,uw,pD,cw;class sde extends Dj{constructor({docId:t,ownerDocument:r=globalThis.document}){super();U(this,Qe);U(this,hh);U(this,Vm);U(this,Fl);U(this,Ml);U(this,Ni);U(this,ph);U(this,gh,0);_(this,Ml,t),_(this,Ni,r)}addFilter(t){if(!t)return"none";let r=f(this,Qe,Ui).get(t);if(r)return r;const[i,s,a]=P(this,Qe,t_).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=f(this,Qe,Ui).get(o),r)return f(this,Qe,Ui).set(t,r),r;const l=`g_${f(this,Ml)}_transfer_map_${ur(this,gh)._++}`,u=P(this,Qe,Rg).call(this,l);f(this,Qe,Ui).set(t,u),f(this,Qe,Ui).set(o,u);const d=P(this,Qe,Dg).call(this,l);return P(this,Qe,uw).call(this,i,s,a,d),u}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let a=f(this,Qe,Aw).get(s);if((a==null?void 0:a.key)===i||(a?((b=a.filter)==null||b.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},f(this,Qe,Aw).set(s,a)),!t||!r))return a.url;const o=P(this,Qe,cw).call(this,t);t=Ve.makeHexColor(...o);const l=P(this,Qe,cw).call(this,r);if(r=Ve.makeHexColor(...l),f(this,Qe,Pg).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let C=0;C<=255;C++){const B=C/255;u[C]=B<=.03928?B/12.92:((B+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,Ml)}_hcm_filter`,g=a.filter=P(this,Qe,Dg).call(this,h);P(this,Qe,uw).call(this,d,d,d,g),P(this,Qe,hD).call(this,g);const v=(C,B)=>{const S=o[C]/255,I=l[C]/255,T=new Array(B+1);for(let R=0;R<=B;R++)T[R]=S+R/B*(I-S);return T.join(",")};return P(this,Qe,uw).call(this,v(0,5),v(1,5),v(2,5),g),a.url=P(this,Qe,Rg).call(this,h),a.url}addAlphaFilter(t){let r=f(this,Qe,Ui).get(t);if(r)return r;const[i]=P(this,Qe,t_).call(this,[t]),s=`alpha_${i}`;if(r=f(this,Qe,Ui).get(s),r)return f(this,Qe,Ui).set(t,r),r;const a=`g_${f(this,Ml)}_alpha_map_${ur(this,gh)._++}`,o=P(this,Qe,Rg).call(this,a);f(this,Qe,Ui).set(t,o),f(this,Qe,Ui).set(s,o);const l=P(this,Qe,Dg).call(this,a);return P(this,Qe,pD).call(this,i,l),o}addLuminosityFilter(t){let r=f(this,Qe,Ui).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=P(this,Qe,t_).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=f(this,Qe,Ui).get(s),r)return f(this,Qe,Ui).set(t,r),r;const a=`g_${f(this,Ml)}_luminosity_map_${ur(this,gh)._++}`,o=P(this,Qe,Rg).call(this,a);f(this,Qe,Ui).set(t,o),f(this,Qe,Ui).set(s,o);const l=P(this,Qe,Dg).call(this,a);return P(this,Qe,Nj).call(this,l),t&&P(this,Qe,pD).call(this,i,l),o}addHighlightHCMFilter(t,r,i,s,a){var I;const o=`${r}-${i}-${s}-${a}`;let l=f(this,Qe,Aw).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,Qe,Aw).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(P(this,Qe,cw).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,b]=[s,a].map(P(this,Qe,cw).bind(this));g<h&&([h,g,v,b]=[g,h,b,v]),f(this,Qe,Pg).style.color="";const C=(T,R,M)=>{const D=new Array(256),L=(g-h)/M,H=T/255,k=(R-T)/(255*M);let K=0;for(let G=0;G<=M;G++){const z=Math.round(h+G*L),Z=H+G*k;for(let ne=K;ne<=z;ne++)D[ne]=Z;K=z+1}for(let G=K;G<256;G++)D[G]=D[K-1];return D.join(",")},B=`g_${f(this,Ml)}_hcm_${t}_filter`,S=l.filter=P(this,Qe,Dg).call(this,B);return P(this,Qe,hD).call(this,S),P(this,Qe,uw).call(this,C(v[0],b[0],5),C(v[1],b[1],5),C(v[2],b[2],5),S),l.url=P(this,Qe,Rg).call(this,B),l.url}destroy(t=!1){var r,i,s,a;t&&((r=f(this,ph))!=null&&r.size)||((i=f(this,Fl))==null||i.parentNode.parentNode.remove(),_(this,Fl,null),(s=f(this,Vm))==null||s.clear(),_(this,Vm,null),(a=f(this,ph))==null||a.clear(),_(this,ph,null),_(this,gh,0))}}hh=new WeakMap,Vm=new WeakMap,Fl=new WeakMap,Ml=new WeakMap,Ni=new WeakMap,ph=new WeakMap,gh=new WeakMap,Qe=new WeakSet,Ui=function(){return f(this,Vm)||_(this,Vm,new Map)},Aw=function(){return f(this,ph)||_(this,ph,new Map)},Pg=function(){if(!f(this,Fl)){const t=f(this,Ni).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=f(this,Ni).createElementNS(ul,"svg");i.setAttribute("width",0),i.setAttribute("height",0),_(this,Fl,f(this,Ni).createElementNS(ul,"defs")),t.append(i),i.append(f(this,Fl)),f(this,Ni).body.append(t)}return f(this,Fl)},t_=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Rg=function(t){if(f(this,hh)===void 0){_(this,hh,"");const r=f(this,Ni).URL;r!==f(this,Ni).baseURI&&(K1(r)?it('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,hh,V6(r,"")))}return`url(${f(this,hh)}#${t})`},Nj=function(t){const r=f(this,Ni).createElementNS(ul,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},hD=function(t){const r=f(this,Ni).createElementNS(ul,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Dg=function(t){const r=f(this,Ni).createElementNS(ul,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),f(this,Qe,Pg).append(r),r},lw=function(t,r,i){const s=f(this,Ni).createElementNS(ul,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},uw=function(t,r,i,s){const a=f(this,Ni).createElementNS(ul,"feComponentTransfer");s.append(a),P(this,Qe,lw).call(this,a,"feFuncR",t),P(this,Qe,lw).call(this,a,"feFuncG",r),P(this,Qe,lw).call(this,a,"feFuncB",i)},pD=function(t,r){const i=f(this,Ni).createElementNS(ul,"feComponentTransfer");r.append(i),P(this,Qe,lw).call(this,i,"feFuncA",t)},cw=function(t){return f(this,Qe,Pg).style.color=t,XE(getComputedStyle(f(this,Qe,Pg)).getPropertyValue("color"))};class Lj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Cn("Abstract method `_fetch` called.")}}class IK extends Lj{async _fetch(e){const t=await WE(e,"arraybuffer");return new Uint8Array(t)}}class Qj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Cn("Abstract method `_fetch` called.")}}class FK extends Qj{async _fetch(e){const t=await WE(e,"arraybuffer");return new Uint8Array(t)}}es&&it("Please use the `legacy` build in Node.js environments.");async function VQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class ade extends Dj{}class ode extends Pj{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Ade extends Rj{async _fetch(e){return VQ(e)}}class lde extends Lj{async _fetch(e){return VQ(e)}}class ude extends Qj{async _fetch(e){return VQ(e)}}const wg="__forcedDependency",{floor:MK,ceil:UK}=Math;function VS(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const gD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Km,Xc;class cde{constructor(e,t){U(this,Km);U(this,Xc);_(this,Km,e),_(this,Xc,t)}get length(){return f(this,Km).length}isEmpty(e){return f(this,Km)[e]===gD}minX(e){return f(this,Xc)[e*4+0]/256}minY(e){return f(this,Xc)[e*4+1]/256}maxX(e){return(f(this,Xc)[e*4+2]+1)/256}maxY(e){return(f(this,Xc)[e*4+3]+1)/256}}Km=new WeakMap,Xc=new WeakMap;const KS=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var ms,vs,mh,Eo,vh,Ul,Xt,cn,Pl,ys,nC,Gm,yh,wh,Rl,Li,hA,rC,mD;class dde{constructor(e,t,r=!1){U(this,rC);U(this,ms,{__proto__:null});U(this,vs,{__proto__:null,transform:[],moveText:[],sameLineText:[],[wg]:[]});U(this,mh,new Map);U(this,Eo,[]);U(this,vh,[]);U(this,Ul,[[1,0,0,1,0,0]]);U(this,Xt,[-1/0,-1/0,1/0,1/0]);U(this,cn,new Float64Array([1/0,1/0,-1/0,-1/0]));U(this,Pl,-1);U(this,ys,new Set);U(this,nC,new Map);U(this,Gm,new Map);U(this,yh);U(this,wh);U(this,Rl);U(this,Li);U(this,hA);_(this,yh,e.width),_(this,wh,e.height),P(this,rC,mD).call(this,t),r&&_(this,hA,new Map)}growOperationsCount(e){e>=f(this,Li).length&&P(this,rC,mD).call(this,e,f(this,Li))}save(e){return _(this,ms,{__proto__:f(this,ms)}),_(this,vs,{__proto__:f(this,vs),transform:{__proto__:f(this,vs).transform},moveText:{__proto__:f(this,vs).moveText},sameLineText:{__proto__:f(this,vs).sameLineText},[wg]:{__proto__:f(this,vs)[wg]}}),_(this,Xt,{__proto__:f(this,Xt)}),f(this,Eo).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(f(this,ms));if(t===null)return this;_(this,ms,t),_(this,vs,Object.getPrototypeOf(f(this,vs))),_(this,Xt,Object.getPrototypeOf(f(this,Xt)));const r=f(this,Eo).pop();return r!==void 0&&((i=KS(f(this,hA),e))==null||i.dependencies.add(r),f(this,Li)[e]=f(this,Li)[r]),this}recordOpenMarker(e){return f(this,Eo).push(e),this}getOpenMarker(){return f(this,Eo).length===0?null:f(this,Eo).at(-1)}recordCloseMarker(e){var r;const t=f(this,Eo).pop();return t!==void 0&&((r=KS(f(this,hA),e))==null||r.dependencies.add(t),f(this,Li)[e]=f(this,Li)[t]),this}beginMarkedContent(e){return f(this,vh).push(e),this}endMarkedContent(e){var r;const t=f(this,vh).pop();return t!==void 0&&((r=KS(f(this,hA),e))==null||r.dependencies.add(t),f(this,Li)[e]=f(this,Li)[t]),this}pushBaseTransform(e){return f(this,Ul).push(Ve.multiplyByDOMMatrix(f(this,Ul).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,Ul).length>1&&f(this,Ul).pop(),this}recordSimpleData(e,t){return f(this,ms)[e]=t,this}recordIncrementalData(e,t){return f(this,vs)[e].push(t),this}resetIncrementalData(e,t){return f(this,vs)[e].length=0,this}recordNamedData(e,t){return f(this,mh).set(e,t),this}recordSimpleDataFromNamed(e,t,r){f(this,ms)[e]=f(this,mh).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(wg,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,ms)&&this.recordFutureForcedDependency(t,f(this,ms)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,ys))this.recordFutureForcedDependency(wg,e);return this}resetBBox(e){return f(this,Pl)!==e&&(_(this,Pl,e),f(this,cn)[0]=1/0,f(this,cn)[1]=1/0,f(this,cn)[2]=-1/0,f(this,cn)[3]=-1/0),this}recordClipBox(e,t,r,i,s,a){const o=Ve.multiplyByDOMMatrix(f(this,Ul).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ve.axialAlignedBoundingBox([r,s,i,a],o,l);const u=Ve.intersect(f(this,Xt),l);return u?(f(this,Xt)[0]=u[0],f(this,Xt)[1]=u[1],f(this,Xt)[2]=u[2],f(this,Xt)[3]=u[3]):(f(this,Xt)[0]=f(this,Xt)[1]=1/0,f(this,Xt)[2]=f(this,Xt)[3]=-1/0),this}recordBBox(e,t,r,i,s,a){const o=f(this,Xt);if(o[0]===1/0)return this;const l=Ve.multiplyByDOMMatrix(f(this,Ul).at(-1),t.getTransform());if(o[0]===-1/0)return Ve.axialAlignedBoundingBox([r,s,i,a],l,f(this,cn)),this;const u=[1/0,1/0,-1/0,-1/0];return Ve.axialAlignedBoundingBox([r,s,i,a],l,u),f(this,cn)[0]=Math.min(f(this,cn)[0],Math.max(u[0],o[0])),f(this,cn)[1]=Math.min(f(this,cn)[1],Math.max(u[1],o[1])),f(this,cn)[2]=Math.max(f(this,cn)[2],Math.min(u[2],o[2])),f(this,cn)[3]=Math.max(f(this,cn)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,a=0,o){const l=r.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,Gm).get(r),u!==!1&&(d=[0,0,0,0],Ve.axialAlignedBoundingBox(l,r.fontMatrix,d),(i!==1||s!==0||a!==0)&&Ve.scaleMinMax([i,0,0,-i,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,Gm).set(r,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,cn)[0]=Math.max(0,f(this,Xt)[0]),f(this,cn)[1]=Math.max(0,f(this,Xt)[1]),f(this,cn)[2]=Math.min(f(this,yh),f(this,Xt)[2]),f(this,cn)[3]=Math.min(f(this,wh),f(this,Xt)[3]),this}getSimpleIndex(e){return f(this,ms)[e]}recordDependencies(e,t){const r=f(this,ys),i=f(this,ms),s=f(this,vs);for(const a of t)a in f(this,ms)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,t){return f(this,mh).has(t)&&f(this,ys).add(f(this,mh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[wg]),f(this,hA)){const r=KS(f(this,hA),e),{dependencies:i}=r;f(this,ys).forEach(i.add,i),f(this,Eo).forEach(i.add,i),f(this,vh).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(f(this,Pl)===e){const r=MK(f(this,cn)[0]*256/f(this,yh)),i=MK(f(this,cn)[1]*256/f(this,wh)),s=UK(f(this,cn)[2]*256/f(this,yh)),a=UK(f(this,cn)[3]*256/f(this,wh));VS(f(this,Rl),e,r,i,s,a);for(const o of f(this,ys))o!==e&&VS(f(this,Rl),o,r,i,s,a);for(const o of f(this,Eo))o!==e&&VS(f(this,Rl),o,r,i,s,a);for(const o of f(this,vh))o!==e&&VS(f(this,Rl),o,r,i,s,a);t||(f(this,ys).clear(),_(this,Pl,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(f(this,ys));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,Pl)===e&&(_(this,Pl,-1),f(this,Xt)[0]=Math.max(f(this,Xt)[0],f(this,cn)[0]),f(this,Xt)[1]=Math.max(f(this,Xt)[1],f(this,cn)[1]),f(this,Xt)[2]=Math.min(f(this,Xt)[2],f(this,cn)[2]),f(this,Xt)[3]=Math.min(f(this,Xt)[3],f(this,cn)[3]),t||f(this,ys).clear()),this}_takePendingDependencies(){const e=f(this,ys);return _(this,ys,new Set),e}_extractOperation(e){const t=f(this,nC).get(e);return f(this,nC).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,ys).add(t)}take(){return f(this,Gm).clear(),new cde(f(this,Li),f(this,Rl))}takeDebugMetadata(){return f(this,hA)}}ms=new WeakMap,vs=new WeakMap,mh=new WeakMap,Eo=new WeakMap,vh=new WeakMap,Ul=new WeakMap,Xt=new WeakMap,cn=new WeakMap,Pl=new WeakMap,ys=new WeakMap,nC=new WeakMap,Gm=new WeakMap,yh=new WeakMap,wh=new WeakMap,Rl=new WeakMap,Li=new WeakMap,hA=new WeakMap,rC=new WeakSet,mD=function(e,t){const r=new ArrayBuffer(e*4);_(this,Rl,new Uint8ClampedArray(r)),_(this,Li,new Uint32Array(r)),t&&t.length>0?(f(this,Li).set(t),f(this,Li).fill(gD,t.length)):f(this,Li).fill(gD)};var yn,er,Bo,zm,qm;const KO=class KO{constructor(e,t,r){U(this,yn);U(this,er);U(this,Bo);U(this,zm,0);U(this,qm,0);if(e instanceof KO&&f(e,Bo)===!!r)return e;_(this,yn,e),_(this,er,t),_(this,Bo,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ur(this,qm)._++,f(this,yn).save(f(this,er)),this}restore(e){return f(this,qm)>0&&(f(this,yn).restore(f(this,er)),ur(this,qm)._--),this}recordOpenMarker(e){return ur(this,zm)._++,this}getOpenMarker(){return f(this,zm)>0?f(this,er):f(this,yn).getOpenMarker()}recordCloseMarker(e){return ur(this,zm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,yn).pushBaseTransform(e),this}popBaseTransform(){return f(this,yn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,yn).recordSimpleData(e,f(this,er)),this}recordIncrementalData(e,t){return f(this,yn).recordIncrementalData(e,f(this,er)),this}resetIncrementalData(e,t){return f(this,yn).resetIncrementalData(e,f(this,er)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return f(this,yn).recordSimpleDataFromNamed(e,t,f(this,er)),this}recordFutureForcedDependency(e,t){return f(this,yn).recordFutureForcedDependency(e,f(this,er)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,yn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,yn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,Bo)||f(this,yn).resetBBox(f(this,er)),this}recordClipBox(e,t,r,i,s,a){return f(this,Bo)||f(this,yn).recordClipBox(f(this,er),t,r,i,s,a),this}recordBBox(e,t,r,i,s,a){return f(this,Bo)||f(this,yn).recordBBox(f(this,er),t,r,i,s,a),this}recordCharacterBBox(e,t,r,i,s,a,o){return f(this,Bo)||f(this,yn).recordCharacterBBox(f(this,er),t,r,i,s,a,o),this}recordFullPageBBox(e){return f(this,Bo)||f(this,yn).recordFullPageBBox(f(this,er)),this}getSimpleIndex(e){return f(this,yn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,yn).recordDependencies(f(this,er),t),this}recordNamedDependency(e,t){return f(this,yn).recordNamedDependency(f(this,er),t),this}recordOperation(e){return f(this,yn).recordOperation(f(this,er),!0),this}recordShowTextOperation(e){return f(this,yn).recordShowTextOperation(f(this,er),!0),this}bboxToClipBoxDropOperation(e){return f(this,Bo)||f(this,yn).bboxToClipBoxDropOperation(f(this,er),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};yn=new WeakMap,er=new WeakMap,Bo=new WeakMap,zm=new WeakMap,qm=new WeakMap;let rT=KO;const Ua={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ci={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function vD(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class KQ{isModifyingCurrentTransform(){return!1}getPattern(){Cn("Abstract method `getPattern` called.")}}class fde extends KQ{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Ci.STROKE||i===Ci.FILL){const a=t.current.getClippedPathBoundingBox(i,$n(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=Ve.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),vD(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else vD(e,this._bbox),s=this._createGradient(e);return s}}function uU(n,e,t,r,i,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g),l[r+1]>l[i+1]&&(g=r,r=i,i=g,g=a,a=o,o=g),l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,C=(l[r]+e.offsetX)*e.scaleX,B=(l[r+1]+e.offsetY)*e.scaleY,S=(l[i]+e.offsetX)*e.scaleX,I=(l[i+1]+e.offsetY)*e.scaleY;if(b>=I)return;const T=u[s],R=u[s+1],M=u[s+2],D=u[a],L=u[a+1],H=u[a+2],k=u[o],K=u[o+1],G=u[o+2],z=Math.round(b),Z=Math.round(I);let ne,J,V,$,re,de,Ee,q;for(let Y=z;Y<=Z;Y++){if(Y<B){const ce=Y<b?0:(b-Y)/(b-B);ne=v-(v-C)*ce,J=T-(T-D)*ce,V=R-(R-L)*ce,$=M-(M-H)*ce}else{let ce;Y>I?ce=1:B===I?ce=0:ce=(B-Y)/(B-I),ne=C-(C-S)*ce,J=D-(D-k)*ce,V=L-(L-K)*ce,$=H-(H-G)*ce}let Ae;Y<b?Ae=0:Y>I?Ae=1:Ae=(b-Y)/(b-I),re=v-(v-S)*Ae,de=T-(T-k)*Ae,Ee=R-(R-K)*Ae,q=M-(M-G)*Ae;const me=Math.round(Math.min(ne,re)),ie=Math.round(Math.max(ne,re));let he=h*Y+me*4;for(let ce=me;ce<=ie;ce++)Ae=(ne-ce)/(ne-re),Ae<0?Ae=0:Ae>1&&(Ae=1),d[he++]=J-(J-de)*Ae|0,d[he++]=V-(V-Ee)*Ae|0,d[he++]=$-($-q)*Ae|0,d[he++]=255}}function hde(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case HR.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)uU(n,t,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),uU(n,t,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case HR.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)uU(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class pde extends KQ{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,b=d/g,C={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/b},B=h+4,S=g+4,I=r.getCanvas("mesh",B,S),T=I.context,R=T.createImageData(h,g);if(t){const D=R.data;for(let L=0,H=D.length;L<H;L+=4)D[L]=t[0],D[L+1]=t[1],D[L+2]=t[2],D[L+3]=255}for(const D of this._figures)hde(R,D,C);return T.putImageData(R,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){vD(e,this._bbox);const s=new Float32Array(2);if(i===Ci.SHADING)Ve.singularValueDecompose2dScale($n(e),s);else if(this.matrix){Ve.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Ve.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Ve.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===Ci.SHADING?null:this._background,t.cachedCanvases);return i!==Ci.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class gde extends KQ{getPattern(){return"hotpink"}}function mde(n){switch(n[0]){case"RadialAxial":return new fde(n);case"Mesh":return new pde(n);case"Dummy":return new gde}throw new Error(`Unknown IR type: ${n[0]}`)}const PK={COLORED:1,UNCOLORED:2},y1=class y1{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){var de,Ee;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),V1("TilingType: "+a);const h=r[0],g=r[1],v=r[2],b=r[3],C=v-h,B=b-g,S=new Float32Array(2);Ve.singularValueDecompose2dScale(this.matrix,S);const[I,T]=S;Ve.singularValueDecompose2dScale(this.baseTransform,S);const R=I*S[0],M=T*S[1];let D=C,L=B,H=!1,k=!1;const K=Math.ceil(u*R),G=Math.ceil(d*M),z=Math.ceil(C*R),Z=Math.ceil(B*M);K>=z?D=u:H=!0,G>=Z?L=d:k=!0;const ne=this.getSizeAndScale(D,this.ctx.canvas.width,R),J=this.getSizeAndScale(L,this.ctx.canvas.height,M),V=e.cachedCanvases.getCanvas("pattern",ne.size,J.size),$=V.context,re=l.createCanvasGraphics($,t);if(re.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(re,s,o),$.translate(-ne.scale*h,-J.scale*g),re.transform(0,ne.scale,0,0,J.scale,0,0),$.save(),(de=re.dependencyTracker)==null||de.save(),this.clipBbox(re,h,g,v,b),re.baseTransform=$n(re.ctx),re.executeOperatorList(i),re.endDrawing(),(Ee=re.dependencyTracker)==null||Ee.restore(),$.restore(),H||k){const q=V.canvas;H&&(D=u),k&&(L=d);const Y=this.getSizeAndScale(D,this.ctx.canvas.width,R),Ae=this.getSizeAndScale(L,this.ctx.canvas.height,M),me=Y.size,ie=Ae.size,he=e.cachedCanvases.getCanvas("pattern-workaround",me,ie),ce=he.context,Se=H?Math.floor(C/u):0,ee=k?Math.floor(B/d):0;for(let Me=0;Me<=Se;Me++)for(let Te=0;Te<=ee;Te++)ce.drawImage(q,me*Me,ie*Te,me,ie,0,0,me,ie);return{canvas:he.canvas,scaleX:Y.scale,scaleY:Ae.scale,offsetX:h,offsetY:g}}return{canvas:V.canvas,scaleX:ne.scale,scaleY:J.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,r){const i=Math.max(y1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),Ve.axialAlignedBoundingBox([t,r,i,s],$n(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case PK.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case PK.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new Fce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let a=r;i!==Ci.SHADING&&(a=Ve.transform(a,t.baseTransform),this.matrix&&(a=Ve.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};Ce(y1,"MAX_PATTERN_SIZE",3e3);let yD=y1;function vde({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Ti.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=r>>3,h=r&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let b=0;b<i;b++){for(const B=e+d;e<B;e++){const S=e<g?n[e]:255;t[v++]=S&128?u:l,t[v++]=S&64?u:l,t[v++]=S&32?u:l,t[v++]=S&16?u:l,t[v++]=S&8?u:l,t[v++]=S&4?u:l,t[v++]=S&2?u:l,t[v++]=S&1?u:l}if(h===0)continue;const C=e<g?n[e++]:255;for(let B=0;B<h;B++)t[v++]=C&1<<7-B?u:l}return{srcPos:e,destPos:v}}const RK=16,DK=100,yde=15,NK=10,Ss=16,cU=new DOMMatrix,Aa=new Float32Array(2),$g=new Float32Array([1/0,1/0,-1/0,-1/0]);function wde(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,a,o){e.transform(t,r,i,s,a,o),this.__originalTransform(t,r,i,s,a,o)},n.setTransform=function(t,r,i,s,a,o){e.setTransform(t,r,i,s,a,o),this.__originalSetTransform(t,r,i,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class bde{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function GS(n,e,t,r,i,s,a,o,l,u){const[d,h,g,v,b,C]=$n(n);if(h===0&&g===0){const I=a*d+b,T=Math.round(I),R=o*v+C,M=Math.round(R),D=(a+l)*d+b,L=Math.abs(Math.round(D)-T)||1,H=(o+u)*v+C,k=Math.abs(Math.round(H)-M)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,M),n.drawImage(e,t,r,i,s,0,0,L,k),n.setTransform(d,h,g,v,b,C),[L,k]}if(d===0&&v===0){const I=o*g+b,T=Math.round(I),R=a*h+C,M=Math.round(R),D=(o+u)*g+b,L=Math.abs(Math.round(D)-T)||1,H=(a+l)*h+C,k=Math.abs(Math.round(H)-M)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,M),n.drawImage(e,t,r,i,s,0,0,k,L),n.setTransform(d,h,g,v,b,C),[k,L]}n.drawImage(e,t,r,i,s,a,o,l,u);const B=Math.hypot(d,h),S=Math.hypot(g,v);return[B*l,S*u]}class LK{constructor(e,t,r){Ce(this,"alphaIsShape",!1);Ce(this,"fontSize",0);Ce(this,"fontSizeScale",1);Ce(this,"textMatrix",null);Ce(this,"textMatrixScale",1);Ce(this,"fontMatrix",OR);Ce(this,"leading",0);Ce(this,"x",0);Ce(this,"y",0);Ce(this,"lineX",0);Ce(this,"lineY",0);Ce(this,"charSpacing",0);Ce(this,"wordSpacing",0);Ce(this,"textHScale",1);Ce(this,"textRenderingMode",fi.FILL);Ce(this,"textRise",0);Ce(this,"fillColor","#000000");Ce(this,"strokeColor","#000000");Ce(this,"patternFill",!1);Ce(this,"patternStroke",!1);Ce(this,"fillAlpha",1);Ce(this,"strokeAlpha",1);Ce(this,"lineWidth",1);Ce(this,"activeSMask",null);Ce(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=$g.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ci.FILL,t=null){const r=this.minMax.slice();if(e===Ci.STROKE){t||Cn("Stroke bounding box must include transform."),Ve.singularValueDecompose2dScale(t,Aa);const i=Aa[0]*this.lineWidth/2,s=Aa[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Ve.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set($g,0)}getClippedPathBoundingBox(e=Ci.FILL,t=null){return Ve.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function QK(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Ss,s=(t-i)/Ss,a=i===0?s:s+1,o=n.createImageData(r,Ss);let l=0,u;const d=e.data,h=o.data;let g,v,b,C;if(e.kind===zx.GRAYSCALE_1BPP){const B=d.byteLength,S=new Uint32Array(h.buffer,0,h.byteLength>>2),I=S.length,T=r+7>>3,R=4294967295,M=Ti.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?Ss:i,u=0,v=0;v<b;v++){const D=B-l;let L=0;const H=D>T?r:D*8-7,k=H&-8;let K=0,G=0;for(;L<k;L+=8)G=d[l++],S[u++]=G&128?R:M,S[u++]=G&64?R:M,S[u++]=G&32?R:M,S[u++]=G&16?R:M,S[u++]=G&8?R:M,S[u++]=G&4?R:M,S[u++]=G&2?R:M,S[u++]=G&1?R:M;for(;L<H;L++)K===0&&(G=d[l++],K=128),S[u++]=G&K?R:M,K>>=1}for(;u<I;)S[u++]=0;n.putImageData(o,0,g*Ss)}}else if(e.kind===zx.RGBA_32BPP){for(v=0,C=r*Ss*4,g=0;g<s;g++)h.set(d.subarray(l,l+C)),l+=C,n.putImageData(o,0,v),v+=Ss;g<a&&(C=r*i*4,h.set(d.subarray(l,l+C)),n.putImageData(o,0,v))}else if(e.kind===zx.RGB_24BPP)for(b=Ss,C=r*b,g=0;g<a;g++){for(g>=s&&(b=i,C=r*b),u=0,v=C;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*Ss)}else throw new Error(`bad image kind: ${e.kind}`)}function kK(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Ss,s=(t-i)/Ss,a=i===0?s:s+1,o=n.createImageData(r,Ss);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?Ss:i;({srcPos:l}=vde({src:u,srcPos:l,dest:d,width:r,height:g,nonBlackColor:0})),n.putImageData(o,0,h*Ss)}}function R0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function zS(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function OK(n,e){if(e)return!0;Ve.singularValueDecompose2dScale(n,Aa);const t=Math.fround(Sp.pixelRatio*oy.PDF_TO_CSS_UNITS);return Aa[0]<=t&&Aa[1]<=t}const Cde=["butt","round","square"],Ede=["miter","round","bevel"],Bde={},HK={};var Ho,wD,bD,CD;const GO=class GO{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){U(this,Ho);this.ctx=e,this.current=new LK(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new bde(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,r=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...$n(this.compositeCtx))}this.ctx.save(),zS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=$n(this.ctx)}executeOperatorList(e,t,r,i,s){var S;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>NK&&typeof r=="function",h=d?Date.now()+yde:0;let g=0;const v=this.commonObjs,b=this.objs;let C,B;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(C=o[l],B=a[l]??null,C!==jw.dependency)B===null?this[C](l):this[C](l,...B);else for(const I of B){(S=this.dependencyTracker)==null||S.recordNamedData(I,l);const T=I.startsWith("g_")?v:b;if(!T.has(I))return T.get(I,r),l}if(l++,l===u)return l;if(d&&++g>NK){if(Date.now()>h)return r(),l;g=0}}}endDrawing(){P(this,Ho,wD).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),P(this,Ho,bD).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=i,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var K,G;const r=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=$n(r);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const Z=u.get(d);if(Z&&!o){const ne=Math.round(Math.min(l[0],l[2])+l[4]),J=Math.round(Math.min(l[1],l[3])+l[5]);return(K=this.dependencyTracker)==null||K.recordDependencies(e,Ua.transformAndFill),{canvas:Z,offsetX:ne,offsetY:J}}h=Z}h||(g=this.cachedCanvases.getCanvas("maskCanvas",i,s),kK(g.context,t));let v=Ve.transform(l,[1/i,0,0,-1/s,0,0]);v=Ve.transform(v,[1,0,0,1,0,-s]);const b=$g.slice();Ve.axialAlignedBoundingBox([0,0,i,s],v,b);const[C,B,S,I]=b,T=Math.round(S-C)||1,R=Math.round(I-B)||1,M=this.cachedCanvases.getCanvas("fillCanvas",T,R),D=M.context,L=C,H=B;D.translate(-L,-H),D.transform(...v),h||(h=this._scaleImage(g.canvas,Jo(D)),h=h.img,u&&o&&u.set(d,h)),D.imageSmoothingEnabled=OK($n(D),t.interpolate),GS(D,h,0,0,h.width,h.height,0,0,i,s),D.globalCompositeOperation="source-in";const k=Ve.transform(Jo(D),[1,0,0,1,-L,-H]);return D.fillStyle=o?a.getPattern(r,this,k,Ci.FILL,e):a,D.fillRect(0,0,i,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,M.canvas)),(G=this.dependencyTracker)==null||G.recordDependencies(e,Ua.transformAndFill),{canvas:M.canvas,offsetX:Math.round(L),offsetY:Math.round(H)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=Cde[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Ede[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,i,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),R0(this.suspendedCtx,a),wde(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),R0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,b=u-h;if(a)if(v<0||b<0||v+r>g.width||b+i>g.height){const B=this.cachedCanvases.getCanvas("maskExtension",r,i),S=B.context;S.drawImage(g,-v,-b),S.globalCompositeOperation="destination-atop",S.fillStyle=a,S.fillRect(0,0,r,i),S.globalCompositeOperation="source-over",g=B.canvas,v=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const B=new Path2D;B.rect(v,b,r,i),e.clip(B),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,b,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const C=new Path2D;C.rect(l,u,r,i),t.clip(C),t.globalCompositeOperation="destination-in",t.drawImage(g,v,b,r,i,l,u,r,i),t.restore()}save(e){var r;this.inSMaskMode&&R0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&R0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===jw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=j6(s)),Ve.axialAlignedBoundingBox(i,$n(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Jo(i),Ci.STROKE,e),o){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Ua.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ci.STROKE,$n(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var u,d,h;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?i.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Jo(i),Ci.FILL,e),g){const v=new Path2D;v.addPath(t,i.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Ua.fill),o&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,Ua.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Bde}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=HK}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&i.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||OR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&it("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((g=i.systemFontInfo)==null?void 0:g.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const u=i.italic?"italic":"normal";let d=r;r<RK?d=RK:r>DK&&(d=DK),this.current.fontSizeScale=r/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,i,s,a){var S,I,T,R;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&fi.FILL_STROKE_MASK,v=!!(d&fi.ADD_TO_PATH_FLAG),b=l.patternFill&&!u.missingFile,C=l.patternStroke&&!u.missingFile;let B;if((u.disableFontFace||v||b||C)&&!u.missingFile&&(B=u.getPathGenerator(this.commonObjs,t)),B&&(u.disableFontFace||b||C)){o.save(),o.translate(r,i),o.scale(h,-h),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,u);let M;if(g===fi.FILL||g===fi.FILL_STROKE)if(s){M=o.getTransform(),o.setTransform(...s);const D=P(this,Ho,CD).call(this,B,M,s);o.fill(D)}else o.fill(B);if(g===fi.STROKE||g===fi.FILL_STROKE)if(a){M||(M=o.getTransform()),o.setTransform(...a);const{a:D,b:L,c:H,d:k}=M,K=Ve.inverseTransform(a),G=Ve.transform([D,L,H,k,0,0],K);Ve.singularValueDecompose2dScale(G,Aa),o.lineWidth*=Math.max(Aa[0],Aa[1])/h,o.stroke(P(this,Ho,CD).call(this,B,M,a))}else o.lineWidth/=h,o.stroke(B);o.restore()}else(g===fi.FILL||g===fi.FILL_STROKE)&&(o.fillText(t,r,i),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,r,i,()=>o.measureText(t))),(g===fi.STROKE||g===fi.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,r,i,()=>o.measureText(t)).recordDependencies(e,Ua.stroke)),o.strokeText(t,r,i));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:$n(o),x:r,y:i,fontSize:h,path:B}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,u,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return st(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var H,k,K,G;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ua.showText).resetBBox(e),this.current.textRenderingMode&fi.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(k=this.dependencyTracker)==null||k.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,u=r.wordSpacing,d=r.fontDirection,h=r.textHScale*d,g=t.length,v=i.vertical,b=v?1:-1,C=i.defaultVMetrics,B=s*r.fontMatrix[0],S=r.textRenderingMode===fi.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(r.patternFill){a.save();const z=r.fillColor.getPattern(a,this,Jo(a),Ci.FILL,e);I=$n(a),a.restore(),a.fillStyle=z}if(r.patternStroke){a.save();const z=r.strokeColor.getPattern(a,this,Jo(a),Ci.STROKE,e);T=$n(a),a.restore(),a.strokeStyle=z}let R=r.lineWidth;const M=r.textMatrixScale;if(M===0||R===0){const z=r.textRenderingMode&fi.FILL_STROKE_MASK;(z===fi.STROKE||z===fi.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=M;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,i.isInvalidPDFjsFont){const z=[];let Z=0;for(const J of t)z.push(J.unicode),Z+=J.width;const ne=z.join("");if(a.fillText(ne,0,0),this.dependencyTracker!==null){const J=a.measureText(ne);this.dependencyTracker.recordBBox(e,this.ctx,-J.actualBoundingBoxLeft,J.actualBoundingBoxRight,-J.actualBoundingBoxAscent,J.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=Z*B*h,a.restore(),this.compose();return}let D=0,L;for(L=0;L<g;++L){const z=t[L];if(typeof z=="number"){D+=b*z*s/1e3;continue}let Z=!1;const ne=(z.isSpace?u:0)+l,J=z.fontChar,V=z.accent;let $,re,de=z.width;if(v){const Y=z.vmetric||C,Ae=-(z.vmetric?Y[1]:de*.5)*B,me=Y[2]*B;de=Y?-Y[0]:de,$=Ae/o,re=(D+me)/o}else $=D/o,re=0;let Ee;if(i.remeasure&&de>0){Ee=a.measureText(J);const Y=Ee.width*1e3/s*o;if(de<Y&&this.isFontSubpixelAAEnabled){const Ae=de/Y;Z=!0,a.save(),a.scale(Ae,1),$/=Ae}else de!==Y&&($+=(de-Y)/2e3*s/o)}if(this.contentVisible&&(z.isInFont||i.missingFile)){if(S&&!V)a.fillText(J,$,re),(K=this.dependencyTracker)==null||K.recordCharacterBBox(e,a,Ee?{bbox:null}:i,s/o,$,re,()=>Ee??a.measureText(J));else if(this.paintChar(e,J,$,re,I,T),V){const Y=$+s*V.offset.x/o,Ae=re-s*V.offset.y/o;this.paintChar(e,V.fontChar,Y,Ae,I,T)}}const q=v?de*B-ne*d:de*B+ne*d;D+=q,Z&&a.restore()}v?r.y-=D:r.x+=D*h,a.restore(),this.compose(),(G=this.dependencyTracker)==null||G.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,u=i.charSpacing,d=i.wordSpacing,h=i.textHScale*o,g=i.fontMatrix||OR,v=t.length,b=i.textRenderingMode===fi.INVISIBLE;let C,B,S,I;if(b||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new rT(T,e):null,C=0;C<v;++C){if(B=t[C],typeof B=="number"){I=l*B*a/1e3,this.ctx.translate(I,0),i.x+=I*h;continue}const R=(B.isSpace?d:0)+u,M=s.charProcOperatorList[B.operatorListId];M?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...g),this.executeOperatorList(M),this.restore()):it(`Type3 character "${B.operatorListId}" is not available.`);const D=[B.width,0];Ve.applyTransform(D,g),S=D[0]*a+R,r.translate(S,0),i.x+=S*h}r.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,a,o){var u;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||$n(this.ctx),s={createCanvasGraphics:(a,o)=>new GO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new rT(this.dependencyTracker,o,!0):null)};r=new yD(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=mde(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,Jo(r),Ci.SHADING,e);const s=Jo(r);if(s){const{width:o,height:l}=r.canvas,u=$g.slice();Ve.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ua.transform).recordDependencies(e,Ua.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Cn("Should not call beginInlineImage")}beginImageData(){Cn("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=$n(this.ctx),r)){Ve.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||V1("TODO: Support non-isolated groups."),t.knockout&&it("Knockout groups not supported.");const i=$n(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=$g.slice();Ve.axialAlignedBoundingBox(t.bbox,$n(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=Ve.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...i);let b=new Path2D;const[C,B,S,I]=t.bbox;if(b.rect(C,B,S-C,I-B),t.matrix){const R=new Path2D;R.addPath(b,new DOMMatrix(t.matrix)),b=R}v.clip(b),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),R0(r,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=$n(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=$g.slice();Ve.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,r,i,s,a){if(P(this,Ho,wD).call(this),zS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,Ve.singularValueDecompose2dScale($n(this.ctx),Aa);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Aa[0],0,0,-Aa[1],0,l*Aa[1]),zS(this.ctx)}else{zS(this.ctx),this.endPath(e);const u=new Path2D;u.rect(r[0],r[1],o,l),this.ctx.clip(u)}}this.current=new LK(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),P(this,Ho,bD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=$n(l);l.transform(r,i,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let b=0,C=o.length;b<C;b+=2){const B=Ve.transform(u,[r,i,s,a,o[b],o[b+1]]);l.drawImage(d.canvas,B[4],B[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,B[4],B[4]+d.canvas.width,B[5],B[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Ua.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,b=this.cachedCanvases.getCanvas("maskCanvas",h,g),C=b.context;C.save();const B=this.getObject(e,d,u);kK(C,B),C.globalCompositeOperation="source-in",C.fillStyle=s?i.getPattern(C,this,Jo(r),Ci.FILL,e):i,C.fillRect(0,0,h,g),C.restore(),r.save(),r.transform(...v),r.scale(1,-1),GS(r,b.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,h,0,g),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){it("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){it("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[r,0,0,i,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;QK(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,Jo(s));s.imageSmoothingEnabled=OK($n(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,Ua.imageXObject).recordOperation(e),GS(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;QK(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of r)i.save(),i.transform(...u.transform),i.scale(1,-1),GS(i,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ua.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===HK?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=$n(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();t&&r.save(),r.scale(s,a),cU.a=1/s,cU.d=1/a;const l=new Path2D;if(l.addPath(e,cU),o.length>0){const u=Math.max(s,a);r.setLineDash(o.map(d=>d/u)),r.lineDashOffset/=u}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ho=new WeakSet,wD=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},bD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},CD=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let sm=GO;for(const n in jw)sm.prototype[n]!==void 0&&(sm.prototype[jw[n]]=sm.prototype[n]);var Ox,iC,sC;let lu=(Ox=class{static get workerPort(){return f(this,iC)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,iC,e)}static get workerSrc(){return f(this,sC)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,sC,e)}},iC=new WeakMap,sC=new WeakMap,U(Ox,iC,null),U(Ox,sC,""),Ox);var $m,aC;class Sde{constructor({parsedData:e,rawData:t}){U(this,$m);U(this,aC);_(this,$m,e),_(this,aC,t)}getRaw(){return f(this,aC)}get(e){return f(this,$m).get(e)??null}[Symbol.iterator](){return f(this,$m).entries()}}$m=new WeakMap,aC=new WeakMap;const Ng=Symbol("INTERNAL");var oC,AC,lC,jm;class xde{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){U(this,oC,!1);U(this,AC,!1);U(this,lC,!1);U(this,jm,!0);_(this,oC,!!(e&oa.DISPLAY)),_(this,AC,!!(e&oa.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(f(this,lC))return f(this,jm);if(!f(this,jm))return!1;const{print:e,view:t}=this.usage;return f(this,oC)?(t==null?void 0:t.viewState)!=="OFF":f(this,AC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Ng&&Cn("Internal method `_setVisible` called."),_(this,lC,r),_(this,jm,t)}}oC=new WeakMap,AC=new WeakMap,lC=new WeakMap,jm=new WeakMap;var Jc,dn,Wm,Ym,uC,ED;class _de{constructor(e,t=oa.DISPLAY){U(this,uC);U(this,Jc,null);U(this,dn,new Map);U(this,Wm,null);U(this,Ym,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,Ym,e.order);for(const r of e.groups)f(this,dn).set(r.id,new xde(t,r));if(e.baseState==="OFF")for(const r of f(this,dn).values())r._setVisible(Ng,!1);for(const r of e.on)f(this,dn).get(r)._setVisible(Ng,!0);for(const r of e.off)f(this,dn).get(r)._setVisible(Ng,!1);_(this,Wm,this.getHash())}}isVisible(e){if(f(this,dn).size===0)return!0;if(!e)return V1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,dn).has(e.id)?f(this,dn).get(e.id).visible:(it(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return P(this,uC,ED).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,dn).has(t))return it(`Optional content group not found: ${t}`),!0;if(f(this,dn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,dn).has(t))return it(`Optional content group not found: ${t}`),!0;if(!f(this,dn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,dn).has(t))return it(`Optional content group not found: ${t}`),!0;if(!f(this,dn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,dn).has(t))return it(`Optional content group not found: ${t}`),!0;if(f(this,dn).get(t).visible)return!1}return!0}return it(`Unknown optional content policy ${e.policy}.`),!0}return it(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=f(this,dn).get(e);if(!i){it(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=f(this,dn).get(o))==null||s._setVisible(Ng,!1,!0));i._setVisible(Ng,!!t,!0),_(this,Jc,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=f(this,dn).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}_(this,Jc,null)}get hasInitialVisibility(){return f(this,Wm)===null||this.getHash()===f(this,Wm)}getOrder(){return f(this,dn).size?f(this,Ym)?f(this,Ym).slice():[...f(this,dn).keys()]:null}getGroup(e){return f(this,dn).get(e)||null}getHash(){if(f(this,Jc)!==null)return f(this,Jc);const e=new _j;for(const[t,r]of f(this,dn))e.update(`${t}:${r.visible}`);return _(this,Jc,e.hexdigest())}[Symbol.iterator](){return f(this,dn).entries()}}Jc=new WeakMap,dn=new WeakMap,Wm=new WeakMap,Ym=new WeakMap,uC=new WeakSet,ED=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=P(this,uC,ED).call(this,s);else if(f(this,dn).has(s))a=f(this,dn).get(s).visible;else return it(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class Tde{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Tt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Tt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Tt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Ide(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Fde(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Ide{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=OQ(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Fde{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Mde(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=jE(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,C,B,S]=g;if(C=parseInt(C,10),C in h){if(C===0)break;continue}h[C]=[B,S]}const b=[];for(let C=0;C<h.length&&C in h;++C){let[B,S]=h[C];S=o(S),B&&(S=unescape(S),C===0&&(S=l(S))),b.push(S)}return b.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),b=d.slice(h+1).replace(/^[^']*'/,"");return i(g,b)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,B){return String.fromCharCode(parseInt(B,16))}),i(g,b);try{b=atob(b)}catch{}return i(g,b)})}return""}function kj(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function G1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function Oj({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Hj(n){const e=n.get("Content-Disposition");if(e){let t=Mde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(OQ(t))return t}return null}function ZE(n,e){return new Z_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Vj(n){return n===200||n===206}function Kj(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Gj(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(it(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Ude{constructor(e){Ce(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=kj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Tt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Pde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Rde(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Pde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,Kj(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=G1(s.url),!Vj(s.status))throw ZE(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=Oj({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Hj(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Wd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Gj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Rde{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,Kj(s,this._withCredentials,this._abortController)).then(o=>{const l=G1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!Vj(o.status))throw ZE(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:Gj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const dU=200,fU=206;function Dde(n){const e=n.response;return typeof e!="string"?e:jE(e).buffer}class Nde{constructor({url:e,httpHeaders:t,withCredentials:r}){Ce(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=kj(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=fU):i.expectedStatus=dU,t.responseType="arraybuffer",Tt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||dU;if(!(s===dU&&r.expectedStatus===fU)&&s!==r.expectedStatus){r.onError(i.status);return}const o=Dde(i);if(s===fU){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?r.onDone({begin:parseInt(u[1],10),chunk:o}):(it('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Lde{constructor(e){this._source=e,this._manager=new Nde(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Tt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Qde(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new kde(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Qde{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=G1(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=Oj({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Hj(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ZE(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class kde{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=G1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=ZE(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Ode=/^[a-z][a-z0-9\-+.]+:/i;function Hde(n){if(Ode.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Vde{constructor(e){this.source=e,this.url=Hde(e.url),Tt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Tt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Kde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Gde(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Kde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=ZE(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Wd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Gde{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const D0=Symbol("INITIAL_DATA");var qs,cC,BD;class zj{constructor(){U(this,cC);U(this,qs,Object.create(null))}get(e,t=null){if(t){const i=P(this,cC,BD).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=f(this,qs)[e];if(!r||r.data===D0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=f(this,qs)[e];return!!t&&t.data!==D0}delete(e){const t=f(this,qs)[e];return!t||t.data===D0?!1:(delete f(this,qs)[e],!0)}resolve(e,t=null){const r=P(this,cC,BD).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in f(this,qs)){const{data:r}=f(this,qs)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}_(this,qs,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,qs)){const{data:t}=f(this,qs)[e];t!==D0&&(yield[e,t])}}}qs=new WeakMap,cC=new WeakSet,BD=function(e){var t;return(t=f(this,qs))[e]||(t[e]={...Promise.withResolvers(),data:D0})};const zde=1e5,VK=30;var z8,Zc,ws,dC,fC,bh,Dl,hC,pC,Ch,Xm,Jm,ed,Zm,gC,ev,Eh,mC,vC,ir,tv,Bh,yC,td,nv,Du,qj,$j,xD,pa,n_,_D,jj,Wj;let SD=(ir=class{constructor({textContentSource:e,container:t,viewport:r}){U(this,Du);U(this,Zc,Promise.withResolvers());U(this,ws,null);U(this,dC,!1);U(this,fC,!!((z8=globalThis.FontInspector)!=null&&z8.enabled));U(this,bh,null);U(this,Dl,null);U(this,hC,0);U(this,pC,0);U(this,Ch,null);U(this,Xm,null);U(this,Jm,0);U(this,ed,0);U(this,Zm,Object.create(null));U(this,gC,[]);U(this,ev,null);U(this,Eh,[]);U(this,mC,new WeakMap);U(this,vC,null);var l;if(e instanceof ReadableStream)_(this,ev,e);else if(typeof e=="object")_(this,ev,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,ws,_(this,Xm,t)),_(this,ed,r.scale*Sp.pixelRatio),_(this,Jm,r.rotation),_(this,Dl,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;_(this,vC,[1,0,0,-1,-a,o+s]),_(this,pC,i),_(this,hC,s),P(l=ir,pa,jj).call(l),Bp(t,r),f(this,Zc).promise.finally(()=>{f(ir,nv).delete(this),_(this,Dl,null),_(this,Zm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ti.platform;return st(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,Ch).read().then(({value:t,done:r})=>{if(r){f(this,Zc).resolve();return}f(this,bh)??_(this,bh,t.lang),Object.assign(f(this,Zm),t.styles),P(this,Du,qj).call(this,t.items),e()},f(this,Zc).reject)};return _(this,Ch,f(this,ev).getReader()),f(ir,nv).add(this),e(),f(this,Zc).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*Sp.pixelRatio,i=e.rotation;if(i!==f(this,Jm)&&(t==null||t(),_(this,Jm,i),Bp(f(this,Xm),{rotation:i})),r!==f(this,ed)){t==null||t(),_(this,ed,r);const a={div:null,properties:null,ctx:P(s=ir,pa,n_).call(s,f(this,bh))};for(const o of f(this,Eh))a.properties=f(this,mC).get(o),a.div=o,P(this,Du,xD).call(this,a)}}cancel(){var t;const e=new Wd("TextLayer task cancelled.");(t=f(this,Ch))==null||t.cancel(e).catch(()=>{}),_(this,Ch,null),f(this,Zc).reject(e)}get textDivs(){return f(this,Eh)}get textContentItemsStr(){return f(this,gC)}static cleanup(){if(!(f(this,nv).size>0)){f(this,tv).clear();for(const{canvas:e}of f(this,Bh).values())e.remove();f(this,Bh).clear()}}},Zc=new WeakMap,ws=new WeakMap,dC=new WeakMap,fC=new WeakMap,bh=new WeakMap,Dl=new WeakMap,hC=new WeakMap,pC=new WeakMap,Ch=new WeakMap,Xm=new WeakMap,Jm=new WeakMap,ed=new WeakMap,Zm=new WeakMap,gC=new WeakMap,ev=new WeakMap,Eh=new WeakMap,mC=new WeakMap,vC=new WeakMap,tv=new WeakMap,Bh=new WeakMap,yC=new WeakMap,td=new WeakMap,nv=new WeakMap,Du=new WeakSet,qj=function(e){var i,s;if(f(this,dC))return;(s=f(this,Dl)).ctx??(s.ctx=P(i=ir,pa,n_).call(i,f(this,bh)));const t=f(this,Eh),r=f(this,gC);for(const a of e){if(t.length>zde){it("Ignoring additional textDivs for performance reasons."),_(this,dC,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,ws);_(this,ws,document.createElement("span")),f(this,ws).classList.add("markedContent"),a.id&&f(this,ws).setAttribute("id",`${a.id}`),o.append(f(this,ws))}else a.type==="endMarkedContent"&&_(this,ws,f(this,ws).parentNode);continue}r.push(a.str),P(this,Du,$j).call(this,a)}},$j=function(e){var C;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,Eh).push(t);const i=Ve.transform(f(this,vC),e.transform);let s=Math.atan2(i[1],i[0]);const a=f(this,Zm)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,fC)&&a.fontSubstitution||a.fontFamily;o=ir.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*P(C=ir,pa,Wj).call(C,o,a,f(this,bh));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,ws)===f(this,Xm)?(v.left=`${(100*d/f(this,pC)).toFixed(2)}%`,v.top=`${(100*h/f(this,hC)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f(ir,td)*l).toFixed(2)}px)`,v.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,fC)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const B=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);B!==S&&Math.max(B,S)/Math.min(B,S)>1.5&&(b=!0)}if(b&&(r.canvasWidth=a.vertical?e.height:e.width),f(this,mC).set(t,r),f(this,Dl).div=t,f(this,Dl).properties=r,P(this,Du,xD).call(this,f(this,Dl)),r.hasText&&f(this,ws).append(t),r.hasEOL){const B=document.createElement("br");B.setAttribute("role","presentation"),f(this,ws).append(B)}},xD=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(f(ir,td)>1&&(a=`scale(${1/f(ir,td)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=r;P(o=ir,pa,_D).call(o,i,d*f(this,ed),l);const{width:h}=i.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,ed)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},pa=new WeakSet,n_=function(e=null){let t=f(this,Bh).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Bh).set(e,t),f(this,yC).set(t,{size:0,family:""})}return t},_D=function(e,t,r){const i=f(this,yC).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},jj=function(){if(f(this,td)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,td,e.getBoundingClientRect().height),e.remove()},Wj=function(e,t,r){const i=f(this,tv).get(e);if(i)return i;const s=P(this,pa,n_).call(this,r);s.canvas.width=s.canvas.height=VK,P(this,pa,_D).call(this,s,VK,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(Ti.platform.isFirefox&&it("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,tv).set(e,u),u},U(ir,pa),U(ir,tv,new Map),U(ir,Bh,new Map),U(ir,yC,new WeakMap),U(ir,td,null),U(ir,nv,new Set),ir);const qde=100;function GQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new TD,{docId:t}=e,r=n.url?Zce(n.url):null,i=n.data?ede(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof Yj?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof ID?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!K1(n.docBaseUrl)?n.docBaseUrl:null,v=OS(n.cMapUrl),b=n.cMapPacked!==!1,C=n.CMapReaderFactory||(es?Ade:TK),B=OS(n.iccUrl),S=OS(n.standardFontDataUrl),I=n.StandardFontDataFactory||(es?lde:IK),T=OS(n.wasmUrl),R=n.WasmFactory||(es?ude:FK),M=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,L=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!es,k=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!es&&(Ti.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,G=typeof n.disableFontFace=="boolean"?n.disableFontFace:es,z=n.fontExtraProperties===!0,Z=n.enableXfa===!0,ne=n.ownerDocument||globalThis.document,J=n.disableRange===!0,V=n.disableStream===!0,$=n.disableAutoFetch===!0,re=n.pdfBug===!0,de=n.CanvasFactory||(es?ode:ide),Ee=n.FilterFactory||(es?ade:sde),q=n.enableHWA===!0,Y=n.useWasm!==!1,Ae=l?l.length:n.length??NaN,me=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!es&&!G,ie=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(C===TK&&I===IK&&R===FK&&v&&S&&T&&Z0(v,document.baseURI)&&Z0(S,document.baseURI)&&Z0(T,document.baseURI)),he=null;_ce(h);const ce={canvasFactory:new de({ownerDocument:ne,enableHWA:q}),filterFactory:new Ee({docId:t,ownerDocument:ne}),cMapReaderFactory:ie?null:new C({baseUrl:v,isCompressed:b}),standardFontDataFactory:ie?null:new I({baseUrl:S}),wasmFactory:ie?null:new R({baseUrl:T})};d||(d=ID.create({verbosity:h,port:lu.workerPort}),e._worker=d);const Se={docId:t,apiVersion:"5.4.449",data:i,password:o,disableAutoFetch:$,rangeChunkSize:u,length:Ae,docBaseUrl:g,enableXfa:Z,evaluatorOptions:{maxImageSize:D,disableFontFace:G,ignoreErrors:M,isEvalSupported:L,isOffscreenCanvasSupported:H,isImageDecoderSupported:k,canvasMaxAreaInBytes:K,fontExtraProperties:z,useSystemFonts:me,useWasm:Y,useWorkerFetch:ie,cMapUrl:v,iccUrl:B,standardFontDataUrl:S,wasmUrl:T}},ee={ownerDocument:ne,pdfBug:re,styleElement:he,loadingParams:{disableAutoFetch:$,enableXfa:Z}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Me=d.messageHandler.sendWithPromise("GetDocRequest",Se,i?[i.buffer]:null);let Te;if(l)Te=new Tde(l,{disableRange:J,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ve=Z0(r)?Ude:es?Vde:Lde;Te=new ve({url:r,length:Ae,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:J,disableStream:V})}return Me.then(ve=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const vt=new ow(t,ve,d.port),$e=new Wde(vt,e,Te,ee,ce,q);e._transport=$e,vt.send("Ready",null)})}).catch(e._capability.reject),e}var w1;const b1=class b1{constructor(){Ce(this,"_capability",Promise.withResolvers());Ce(this,"_transport",null);Ce(this,"_worker",null);Ce(this,"docId",`d${ur(b1,w1)._++}`);Ce(this,"destroyed",!1);Ce(this,"onPassword",null);Ce(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};w1=new WeakMap,U(b1,w1,0);let TD=b1;var Sh,wC,bC,CC,EC,q8;let Yj=(q8=class{constructor(e,t,r=!1,i=null){U(this,Sh,Promise.withResolvers());U(this,wC,[]);U(this,bC,[]);U(this,CC,[]);U(this,EC,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){f(this,EC).push(e)}addProgressListener(e){f(this,CC).push(e)}addProgressiveReadListener(e){f(this,bC).push(e)}addProgressiveDoneListener(e){f(this,wC).push(e)}onDataRange(e,t){for(const r of f(this,EC))r(e,t)}onDataProgress(e,t){f(this,Sh).promise.then(()=>{for(const r of f(this,CC))r(e,t)})}onDataProgressiveRead(e){f(this,Sh).promise.then(()=>{for(const t of f(this,bC))t(e)})}onDataProgressiveDone(){f(this,Sh).promise.then(()=>{for(const e of f(this,wC))e()})}transportReady(){f(this,Sh).resolve()}requestDataRange(e,t){Cn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Sh=new WeakMap,wC=new WeakMap,bC=new WeakMap,CC=new WeakMap,EC=new WeakMap,q8);class $de{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return st(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Nl,xh,dw;class jde{constructor(e,t,r,i=!1){U(this,xh);U(this,Nl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new bK:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new zj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new YE({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return st(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=Fc.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:b=null}){var k,K,G;(k=this._stats)==null||k.time("Overall");const C=this._transport.getRenderingIntent(i,s,h,g),{renderingIntent:B,cacheKey:S}=C;_(this,Nl,!1),l||(l=this._transport.getOptionalContentConfig(B));let I=this._intentStates.get(S);I||(I=Object.create(null),this._intentStates.set(S,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(B&oa.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(C));const R=!!(this._pdfBug&&((G=globalThis.StepperManager)!=null&&G.enabled)),M=!this.recordedBBoxes&&(v||R),D=z=>{var Z,ne;if(I.renderTasks.delete(L),M){const J=(Z=L.gfx)==null?void 0:Z.dependencyTracker.take();J&&(L.stepper&&L.stepper.setOperatorBBoxes(J,L.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=J))}T&&_(this,Nl,!0),P(this,xh,dw).call(this),z?(L.capability.reject(z),this._abortOperatorList({intentState:I,reason:z instanceof Error?z:new Error(z)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ne=globalThis.Stats)!=null&&ne.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new FD({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:M?new dde(t,I.operatorList.length,R):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:b});(I.renderTasks||(I.renderTasks=new Set)).add(L);const H=L.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([z,Z])=>{var ne;if(this.destroyed){D();return}if((ne=this._stats)==null||ne.time("Rendering"),!(Z.renderingIntent&B))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:z,optionalContentConfig:Z}),L.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:t=Fc.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Ww.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),_(this,Nl,!1),Promise.all(e)}cleanup(e=!1){_(this,Nl,!0);const t=P(this,xh,dw).call(this);return e&&t&&this._stats&&(this._stats=new bK),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&P(this,xh,dw).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();P(this,xh,dw).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof kQ){let i=qde;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Wd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Nl=new WeakMap,xh=new WeakSet,dw=function(){if(!f(this,Nl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Nl,!1),!0};var nd,So,Ll,_h,wn,C1,Th,Ih,is,r_,Xj,Jj,fw,rv,i_;let ID=(wn=class{constructor({name:e=null,port:t=null,verbosity:r=Tce()}={}){U(this,is);U(this,nd,Promise.withResolvers());U(this,So,null);U(this,Ll,null);U(this,_h,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(f(wn,Ih).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(wn,Ih).set(t,this),P(this,is,Xj).call(this,t)}else P(this,is,Jj).call(this)}get promise(){return f(this,nd).promise}get port(){return f(this,Ll)}get messageHandler(){return f(this,So)}destroy(){var e,t;this.destroyed=!0,(e=f(this,_h))==null||e.terminate(),_(this,_h,null),f(wn,Ih).delete(f(this,Ll)),_(this,Ll,null),(t=f(this,So))==null||t.destroy(),_(this,So,null)}static create(e){const t=f(this,Ih).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new wn(e)}static get workerSrc(){if(lu.workerSrc)return lu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return st(this,"_setupFakeWorkerGlobal",(async()=>f(this,rv,i_)?f(this,rv,i_):(await import(this.workerSrc)).WorkerMessageHandler)())}},nd=new WeakMap,So=new WeakMap,Ll=new WeakMap,_h=new WeakMap,C1=new WeakMap,Th=new WeakMap,Ih=new WeakMap,is=new WeakSet,r_=function(){f(this,nd).resolve(),f(this,So).send("configure",{verbosity:this.verbosity})},Xj=function(e){_(this,Ll,e),_(this,So,new ow("main","worker",e)),f(this,So).on("ready",()=>{}),P(this,is,r_).call(this)},Jj=function(){if(f(wn,Th)||f(wn,rv,i_)){P(this,is,fw).call(this);return}let{workerSrc:e}=wn;try{wn._isSameOrigin(window.location,e)||(e=wn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new ow("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?f(this,nd).reject(new Error("Worker was destroyed")):P(this,is,fw).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,_h)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}_(this,So,r),_(this,Ll,t),_(this,_h,t),P(this,is,r_).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{P(this,is,fw).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{V1("The worker has been disabled.")}P(this,is,fw).call(this)},fw=function(){f(wn,Th)||(it("Setting up fake worker."),_(wn,Th,!0)),wn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,nd).reject(new Error("Worker was destroyed"));return}const t=new rde;_(this,Ll,t);const r=`fake${ur(wn,C1)._++}`,i=new ow(r+"_worker",r,t);e.setup(i,t),_(this,So,new ow(r,r+"_worker",t)),P(this,is,r_).call(this)}).catch(e=>{f(this,nd).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},rv=new WeakSet,i_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},U(wn,rv),U(wn,C1,0),U(wn,Th,!1),U(wn,Ih,new WeakMap),es&&(_(wn,Th,!0),lu.workerSrc||(lu.workerSrc="./pdf.worker.mjs")),wn._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},wn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},wn.fromPort=e=>{if(Oce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return wn.create(e)},wn);var Ql,pA,iv,sv,kl,Fh,hw;class Wde{constructor(e,t,r,i,s,a){U(this,Fh);U(this,Ql,new Map);U(this,pA,new Map);U(this,iv,new Map);U(this,sv,new Map);U(this,kl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new zj,this.fontLoader=new Xce({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return st(this,"annotationStorage",new HQ)}getRenderingIntent(e,t=Fc.ENABLE,r=null,i=!1,s=!1){let a=oa.DISPLAY,o=uD;switch(e){case"any":a=oa.ANY;break;case"display":break;case"print":a=oa.PRINT;break;default:it(`getRenderingIntent - invalid intent: ${e}`)}const l=a&oa.PRINT&&r instanceof Ij?r:this.annotationStorage;switch(t){case Fc.DISABLE:a+=oa.ANNOTATIONS_DISABLE;break;case Fc.ENABLE:break;case Fc.ENABLE_FORMS:a+=oa.ANNOTATIONS_FORMS;break;case Fc.ENABLE_STORAGE:a+=oa.ANNOTATIONS_STORAGE,o=l.serializable;break;default:it(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=oa.IS_EDITING),s&&(a+=oa.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=f(this,kl))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of f(this,pA).values())e.push(i._destroy());f(this,pA).clear(),f(this,iv).clear(),f(this,sv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Ql).clear(),this.filterFactory.destroy(),SD.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Wd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Tt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Tt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Tt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Tt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new $de(r,this))}),e.on("DocException",r=>{t._capability.reject(hs(r))}),e.on("PasswordRequest",r=>{_(this,kl,Promise.withResolvers());try{if(!t.onPassword)throw hs(r);const i=s=>{s instanceof Error?f(this,kl).reject(s):f(this,kl).resolve({password:s})};t.onPassword(i,r.code)}catch(i){f(this,kl).reject(i)}return f(this,kl).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;f(this,pA).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const g=s.error;it(`Error during font loading: ${g}`),this.commonObjs.resolve(r,g);break}const o=new cD(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new Jce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Tt(d,"The imageRef must be defined.");for(const g of f(this,pA).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const h=new dD(s);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=f(this,pA).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&it("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=f(this,iv).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,sv).set(s.refStr,e);const a=new jde(t,s,this,this._params.pdfBug);return f(this,pA).set(t,a),a});return f(this,iv).set(t,i),i}getPageIndex(e){return fD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return P(this,Fh,hw).call(this,"GetFieldObjects")}hasJSActions(){return P(this,Fh,hw).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return P(this,Fh,hw).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return P(this,Fh,hw).call(this,"GetOptionalContentConfig").then(t=>new _de(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,Ql).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new Sde(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return f(this,Ql).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,pA).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Ql).clear(),this.filterFactory.destroy(!0),SD.cleanup()}}cachedPageNumber(e){if(!fD(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,sv).get(t)??null}}Ql=new WeakMap,pA=new WeakMap,iv=new WeakMap,sv=new WeakMap,kl=new WeakMap,Fh=new WeakSet,hw=function(e,t=null){const r=f(this,Ql).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return f(this,Ql).set(e,i),i};var rd;class Yde{constructor(e){U(this,rd,null);Ce(this,"onContinue",null);Ce(this,"onError",null);_(this,rd,e)}get promise(){return f(this,rd).capability.promise}cancel(e=0){f(this,rd).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,rd).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,rd);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}rd=new WeakMap;var id,Mh;const Qf=class Qf{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:b=null}){U(this,id,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Yde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(Qf,Mh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Qf,Mh).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new sm(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),f(this,id)&&(window.cancelAnimationFrame(f(this,id)),_(this,id,null)),f(Qf,Mh).delete(this._canvas),e||(e=new kQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,id,window.requestAnimationFrame(()=>{_(this,id,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Qf,Mh).delete(this._canvas),this.callback())))}};id=new WeakMap,Mh=new WeakMap,U(Qf,Mh,new WeakSet);let FD=Qf;const Zj="5.4.449",Xde="f44e5f0e6";var $s,Uh,av,Lr,BC,ov,Ol,SC,sd,xo,wi,xC,fn,MD,UD,PD,If,tW,bc;let eW=(wi=class{constructor({editor:e=null,uiManager:t=null}){U(this,fn);U(this,$s,null);U(this,Uh,null);U(this,av);U(this,Lr,null);U(this,BC,!1);U(this,ov,!1);U(this,Ol,null);U(this,SC);U(this,sd,null);U(this,xo,null);var r,i;e?(_(this,ov,!1),_(this,Ol,e)):_(this,ov,!0),_(this,xo,(e==null?void 0:e._uiManager)||t),_(this,SC,f(this,xo)._eventBus),_(this,av,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=f(this,xo))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),f(wi,xC)||_(wi,xC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return st(this,"_keyboardManager",new JE([[["Escape","mac+Escape"],wi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wi.prototype._moveToPrevious],[["Home","mac+Home"],wi.prototype._moveToBeginning],[["End","mac+End"],wi.prototype._moveToEnd]]))}renderButton(){const e=_(this,$s,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,Ol)&&(e.ariaControls=`${f(this,Ol).id}_colorpicker_dropdown`);const t=f(this,xo)._signal;e.addEventListener("click",P(this,fn,If).bind(this),{signal:t}),e.addEventListener("keydown",P(this,fn,PD).bind(this),{signal:t});const r=_(this,Uh,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=f(this,av),e.append(r),e}renderMainDropdown(){const e=_(this,Lr,P(this,fn,MD).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,$s)){P(this,fn,If).call(this,e);return}const t=e.target.getAttribute("data-color");t&&P(this,fn,UD).call(this,t,e)}_moveToNext(e){var t,r;if(!f(this,fn,bc)){P(this,fn,If).call(this,e);return}if(e.target===f(this,$s)){(t=f(this,Lr).firstElementChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=f(this,Lr))==null?void 0:t.firstElementChild)||e.target===f(this,$s)){f(this,fn,bc)&&this._hideDropdownFromKeyboard();return}f(this,fn,bc)||P(this,fn,If).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!f(this,fn,bc)){P(this,fn,If).call(this,e);return}(t=f(this,Lr).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,fn,bc)){P(this,fn,If).call(this,e);return}(t=f(this,Lr).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Lr))==null||e.classList.add("hidden"),f(this,$s).ariaExpanded="false",(t=f(this,sd))==null||t.abort(),_(this,sd,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,ov)){if(!f(this,fn,bc)){(e=f(this,Ol))==null||e.unselect();return}this.hideDropdown(),f(this,$s).focus({preventScroll:!0,focusVisible:f(this,BC)})}}updateColor(e){if(f(this,Uh)&&(f(this,Uh).style.backgroundColor=e),!f(this,Lr))return;const t=f(this,xo).highlightColors.values();for(const r of f(this,Lr).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,$s))==null||e.remove(),_(this,$s,null),_(this,Uh,null),(t=f(this,Lr))==null||t.remove(),_(this,Lr,null)}},$s=new WeakMap,Uh=new WeakMap,av=new WeakMap,Lr=new WeakMap,BC=new WeakMap,ov=new WeakMap,Ol=new WeakMap,SC=new WeakMap,sd=new WeakMap,xo=new WeakMap,xC=new WeakMap,fn=new WeakSet,MD=function(){const e=document.createElement("div"),t=f(this,xo)._signal;e.addEventListener("contextmenu",oo,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,Ol)&&(e.id=`${f(this,Ol).id}_colorpicker_dropdown`);for(const[r,i]of f(this,xo).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",f(wi,xC)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===f(this,av),s.addEventListener("click",P(this,fn,UD).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",P(this,fn,PD).bind(this),{signal:t}),e},UD=function(e,t){t.stopPropagation(),f(this,SC).dispatch("switchannotationeditorparams",{source:this,type:_t.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},PD=function(e){wi._keyboardManager.exec(this,e)},If=function(e){if(f(this,fn,bc)){this.hideDropdown();return}if(_(this,BC,e.detail===0),f(this,sd)||(_(this,sd,new AbortController),window.addEventListener("pointerdown",P(this,fn,tW).bind(this),{signal:f(this,xo).combinedSignal(f(this,sd))})),f(this,$s).ariaExpanded="true",f(this,Lr)){f(this,Lr).classList.remove("hidden");return}const t=_(this,Lr,P(this,fn,MD).call(this));f(this,$s).append(t)},tW=function(e){var t;(t=f(this,Lr))!=null&&t.contains(e.target)||this.hideDropdown()},bc=function(){return f(this,Lr)&&!f(this,Lr).classList.contains("hidden")},U(wi,xC,null),wi);var gA,_C,Av,TC;const kf=class kf{constructor(e){U(this,gA,null);U(this,_C,null);U(this,Av,null);_(this,_C,e),_(this,Av,e._uiManager),f(kf,TC)||_(kf,TC,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,gA))return f(this,gA);const{editorType:e,colorType:t,color:r}=f(this,_C),i=_(this,gA,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",f(kf,TC)[e]),i.addEventListener("input",()=>{f(this,Av).updateParams(t,i.value)},{signal:f(this,Av)._signal}),i}update(e){f(this,gA)&&(f(this,gA).value=e)}destroy(){var e;(e=f(this,gA))==null||e.remove(),_(this,gA,null)}hideDropdown(){}};gA=new WeakMap,_C=new WeakMap,Av=new WeakMap,TC=new WeakMap,U(kf,TC,null);let iT=kf;function KK(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function N0(n){return Math.max(0,Math.min(255,255*n))}class GK{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=N0(e),[e,e,e]}static G_HTML([e]){const t=KK(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(N0)}static RGB_HTML(e){return`#${e.map(KK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[N0(1-Math.min(1,e+i)),N0(1-Math.min(1,r+i)),N0(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class Jde{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Cn("Abstract method `_createSVG` called.")}}let sT=class extends Jde{_createSVG(e){return document.createElementNS(ul,e)}};const Zde=9,xp=new WeakSet,efe=new Date().getTimezoneOffset()*60*1e3;class hU{static create(e){switch(e.data.annotationType){case Tr.LINK:return new zQ(e);case Tr.TEXT:return new nfe(e);case Tr.WIDGET:switch(e.data.fieldType){case"Tx":return new rfe(e);case"Btn":return e.data.radioButton?new iW(e):e.data.checkBox?new sfe(e):new afe(e);case"Ch":return new ofe(e);case"Sig":return new ife(e)}return new Dp(e);case Tr.POPUP:return new DD(e);case Tr.FREETEXT:return new lW(e);case Tr.LINE:return new lfe(e);case Tr.SQUARE:return new ufe(e);case Tr.CIRCLE:return new cfe(e);case Tr.POLYLINE:return new uW(e);case Tr.CARET:return new ffe(e);case Tr.INK:return new qQ(e);case Tr.POLYGON:return new dfe(e);case Tr.HIGHLIGHT:return new cW(e);case Tr.UNDERLINE:return new hfe(e);case Tr.SQUIGGLY:return new pfe(e);case Tr.STRIKEOUT:return new gfe(e);case Tr.STAMP:return new dW(e);case Tr.FILEATTACHMENT:return new mfe(e);default:return new Wn(e)}}}var Ph,lv,qa,IC,RD;const zO=class zO{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){U(this,IC);U(this,Ph,null);U(this,lv,!1);U(this,qa,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return zO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var t,r,i;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${$w}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${$w}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,qa))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,qa,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,Ph)||_(this,Ph,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&P(this,IC,RD).call(this,t);let i=((s=f(this,qa))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=f(this,qa).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),_(this,qa,null),this.popup=null))}resetEdited(){var e;f(this,Ph)&&(P(this,IC,RD).call(this,f(this,Ph).rect),(e=f(this,qa))==null||e.popup.resetEdited(),_(this,Ph,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Dp)&&!(this instanceof zQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof DD){const{rotation:C}=t;return!t.hasOwnCanvas&&C!==0&&this.setRotation(C,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const C=t.borderStyle.horizontalCornerRadius,B=t.borderStyle.verticalCornerRadius;if(C>0||B>0){const I=`calc(${C}px * var(--total-scale-factor)) / calc(${B}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof iW){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case Mg.SOLID:a.borderStyle="solid";break;case Mg.DASHED:a.borderStyle="dashed";break;case Mg.BEVELED:it("Unimplemented border style: beveled");break;case Mg.INSET:it("Unimplemented border style: inset");break;case Mg.UNDERLINE:a.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(_(this,lv,!0),a.borderColor=Ve.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const u=Ve.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=i.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=GK[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:GK[`${a}_rgb`](o)})};return st(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,B,S,I]=e.subarray(2,6);if(i===C&&s===B&&t===S&&r===I)return}const{style:a}=this.container;let o;if(f(this,lv)){const{borderColor:C,borderWidth:B}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${B}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let C=2,B=e.length;C<B;C+=8){const S=e[C],I=e[C+1],T=e[C+2],R=e[C+3],M=d.createElement("rect"),D=(T-t)/l,L=(s-I)/u,H=(S-T)/l,k=(I-R)/u;M.setAttribute("x",D),M.setAttribute("y",L),M.setAttribute("width",H),M.setAttribute("height",k),v.append(M),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${L}" width="${H}" height="${k}"/>`)}f(this,lv)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate),_(this,qa,new DD({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,qa)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,qa)}render(){Cn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!xp.has(u)){it(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&xp.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Ph=new WeakMap,lv=new WeakMap,qa=new WeakMap,IC=new WeakSet,RD=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Wn=zO;class tfe extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var ua,Ff,nW,rW;class zQ extends Wn{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});U(this,ua);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(P(this,ua,nW).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(P(this,ua,rW).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&P(this,ua,Ff).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),P(this,ua,Ff).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),P(this,ua,Ff).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),P(this,ua,Ff).call(this),!this._fieldObjects){it('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const b=this._fieldObjects[v]||[];for(const{id:C}of b)g.add(C)}for(const v of Object.values(this._fieldObjects))for(const b of v)g.has(b.id)===o&&l.push(b)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}case"checkbox":case"radiobutton":{const C=g.defaultValue===g.exportValues;u.setValue(v,{value:C});break}case"combobox":case"listbox":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}default:continue}const b=document.querySelector(`[data-element-id="${v}"]`);if(b){if(!xp.has(b)){it(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}ua=new WeakSet,Ff=function(){this.container.setAttribute("data-internal-link","")},nW=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},P(this,ua,Ff).call(this)},rW=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),P(this,ua,Ff).call(this)};class nfe extends Wn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Dp extends Wn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ti.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ve.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Zde,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(aU*i))||1,h=u/d;a=Math.min(i,l(h/aU))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/aU))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Ve.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class rfe extends Dp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),xp.add(r),this.contentElement=r,r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,b=!!g&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",B=>{e.setValue(t,{value:B.target.value}),this.setPropertyOnSiblings(r,"value",B.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",B=>{const S=this.data.defaultFieldValue??"";r.value=d.userValue=S,d.formattedValue=null});let C=B=>{const{formattedValue:S}=d;S!=null&&(B.target.value=S),B.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",S=>{var T;if(d.focused)return;const{target:I}=S;if(b&&(I.type=g,v&&(I.step=v)),d.userValue){const R=d.userValue;if(b)if(g==="time"){const M=new Date(R),D=[M.getHours(),M.getMinutes(),M.getSeconds()];I.value=D.map(L=>L.toString().padStart(2,"0")).join(":")}else I.value=new Date(R-efe).toISOString().split(g==="date"?"T":".",1)[0];else I.value=R}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const I={value(T){d.userValue=T.detail.value??"",b||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:R}=T.detail;d.formattedValue=R,R!=null&&T.target!==document.activeElement&&(T.target.value=R);const M={formattedValue:R};b&&(M.value=R),e.setValue(t,M)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var L;const{charLimit:R}=T.detail,{target:M}=T;if(R===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",R);let D=d.userValue;!D||D.length<=R||(D=D.slice(0,R),M.value=d.userValue=D,e.setValue(t,{value:D}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(I,S)}),r.addEventListener("keydown",S=>{var R;d.commitKey=1;let I=-1;if(S.key==="Escape"?I=0:S.key==="Enter"&&!this.data.multiLine?I=2:S.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=S.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const B=C;C=null,r.addEventListener("blur",S=>{var R,M;if(!d.focused||!S.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(d.focused=!1);const{target:I}=S;let{value:T}=I;if(b){if(T&&g==="time"){const D=T.split(":").map(L=>parseInt(L,10));T=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),B(S)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",S=>{var k;d.lastCommittedValue=null;const{data:I,target:T}=S,{value:R,selectionStart:M,selectionEnd:D}=T;let L=M,H=D;switch(S.inputType){case"deleteWordBackward":{const K=R.substring(0,M).match(/\w*[^\w]*$/);K&&(L-=K[0].length);break}case"deleteWordForward":{const K=R.substring(M).match(/^[^\w]*\w*/);K&&(H+=K[0].length);break}case"deleteContentBackward":M===D&&(L-=1);break;case"deleteContentForward":M===D&&(H+=1);break}S.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:I||"",willCommit:!1,selStart:L,selEnd:H}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(C&&r.addEventListener("blur",C),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ife extends Dp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class sfe extends Dp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return xp.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class iW extends Dp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(xp.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===r;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class afe extends zQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class ofe extends Dp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");xp.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=i;return v?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const C of i.options)C.selected=b.has(C.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const v=i.options,b=g.detail.remove;v[b].selected=!1,i.remove(b),v.length>0&&Array.prototype.findIndex.call(v,B=>B.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:b,exportValue:C}=g.detail.insert,B=i.children[v],S=document.createElement("option");S.textContent=b,S.value=C,B?B.before(S):i.append(S),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;i.length!==0;)i.remove(0);for(const b of v){const{displayValue:C,exportValue:B}=b,S=document.createElement("option");S.textContent=C,S.value=B,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const b of g.target.options)b.selected=v.has(b.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var FC,ND;class DD extends Wn{constructor(t){const{data:r,elements:i,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Wn._hasPopupData(r)});U(this,FC);if(this.elements=i,a&&Wn._hasPopupData(r)){const o=this.popup=P(this,FC,ND).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=P(this,FC,ND).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${qg}${s}`).join(",")),this.container}}FC=new WeakSet,ND=function(){return new Afe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var js,ad,E1,B1,uv,cv,tr,mA,od,Rh,dv,fv,vA,Ws,Hl,Vl,nr,Kl,Ad,MC,Gl,hv,Dh,ld,Jr,ud,ht,s_,LD,QD,kD,a_,OD,sW,aW,oW,AW,o_,A_,HD;class Afe{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){U(this,ht);U(this,js,null);U(this,ad,P(this,ht,oW).bind(this));U(this,E1,P(this,ht,HD).bind(this));U(this,B1,P(this,ht,A_).bind(this));U(this,uv,P(this,ht,o_).bind(this));U(this,cv,null);U(this,tr,null);U(this,mA,null);U(this,od,null);U(this,Rh,null);U(this,dv,null);U(this,fv,null);U(this,vA,!1);U(this,Ws,null);U(this,Hl,null);U(this,Vl,null);U(this,nr,null);U(this,Kl,null);U(this,Ad,null);U(this,MC,null);U(this,Gl,null);U(this,hv,null);U(this,Dh,null);U(this,ld,!1);U(this,Jr,null);U(this,ud,null);_(this,tr,e),_(this,hv,i),_(this,mA,a),_(this,Gl,o),_(this,dv,l),_(this,cv,t),_(this,MC,u),_(this,fv,d),_(this,Rh,r),_(this,js,g),_(this,Jr,r[0]),_(this,od,GR.toDateObject(s)),this.trigger=r.flatMap(v=>v.getElementsToTriggerPopup()),g||(P(this,ht,s_).call(this),f(this,tr).hidden=!0,h&&P(this,ht,o_).call(this))}renderCommentButton(){if(f(this,nr)){f(this,nr).parentNode||f(this,Jr).container.after(f(this,nr));return}if(f(this,Kl)||P(this,ht,LD).call(this),!f(this,Kl))return;const{signal:e}=_(this,Hl,new AbortController),t=f(this,Jr).hasOwnCommentButton,r=()=>{f(this,js).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{f(this,js).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,js).toggleCommentPopup(this,!1,!1)};if(t){_(this,nr,f(this,Jr).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,ad),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,nr,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,Jr).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),P(this,ht,kD).call(this),P(this,ht,QD).call(this),a.addEventListener("keydown",f(this,ad),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,Jr).commentData;return e?f(this,dv)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,nr))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=f(this,Jr).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return f(this,nr)}get comment(){return f(this,ud)||_(this,ud,f(this,Jr).commentText),f(this,ud)}set comment(e){e!==this.comment&&(f(this,Jr).commentText=_(this,ud,e))}focus(){var e;(e=f(this,Jr).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,Jr).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,nr)&&(f(this,nr).classList.toggle("selected",e),f(this,nr).ariaExpanded=t)}setSelectedCommentButton(e){f(this,nr).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,Ad))return f(this,Ad);const{x:e,y:t,height:r}=f(this,nr).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=f(this,Jr).layer.getBoundingClientRect();return[(e-i)/a,(t+r-s)/o]}set commentPopupPosition(e){_(this,Ad,e)}hasDefaultPopupPosition(){return f(this,Ad)===null}get commentButtonPosition(){return f(this,Kl)}get commentButtonWidth(){return f(this,nr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=f(this,Ad)||this.commentButtonPosition.map(u=>u/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;f(this,js).showDialog(null,this,s+t*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(f(this,Ws))return;const e=_(this,Ws,document.createElement("div"));if(e.className="popup",f(this,cv)){const s=e.style.outlineColor=Ve.makeHexColor(...f(this,cv));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=f(this,hv))!=null&&r.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,hv)}if(e.append(t),f(this,od)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,od).valueOf()})),s.dateTime=f(this,od).toISOString(),t.append(s)}$6({html:f(this,ht,a_)||f(this,mA).str,dir:(i=f(this,mA))==null?void 0:i.dir,className:"popupContent"},e),f(this,tr).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var i;if(f(this,js)){r?(this.remove(),_(this,ud,null)):t&&(t.deleted?this.remove():(P(this,ht,kD).call(this),_(this,ud,t.text))),e&&(_(this,Kl,null),P(this,ht,LD).call(this),P(this,ht,QD).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}P(this,ht,s_).call(this),f(this,Dh)||_(this,Dh,{contentsObj:f(this,mA),richText:f(this,Gl)}),e&&_(this,Vl,null),t&&t.text&&(_(this,Gl,P(this,ht,aW).call(this,t.text)),_(this,od,GR.toDateObject(t.date)),_(this,mA,null)),(i=f(this,Ws))==null||i.remove(),_(this,Ws,null)}resetEdited(){var e;f(this,Dh)&&({contentsObj:ur(this,mA)._,richText:ur(this,Gl)._}=f(this,Dh),_(this,Dh,null),(e=f(this,Ws))==null||e.remove(),_(this,Ws,null),_(this,Vl,null))}remove(){var e,t,r;if((e=f(this,Hl))==null||e.abort(),_(this,Hl,null),(t=f(this,Ws))==null||t.remove(),_(this,Ws,null),_(this,ld,!1),_(this,vA,!1),(r=f(this,nr))==null||r.remove(),_(this,nr,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){_(this,ld,this.isVisible),f(this,ld)&&(f(this,tr).hidden=!0)}maybeShow(){f(this,js)||(P(this,ht,s_).call(this),f(this,ld)&&(f(this,Ws)||P(this,ht,A_).call(this),_(this,ld,!1),f(this,tr).hidden=!1))}get isVisible(){return f(this,js)?!1:f(this,tr).hidden===!1}}js=new WeakMap,ad=new WeakMap,E1=new WeakMap,B1=new WeakMap,uv=new WeakMap,cv=new WeakMap,tr=new WeakMap,mA=new WeakMap,od=new WeakMap,Rh=new WeakMap,dv=new WeakMap,fv=new WeakMap,vA=new WeakMap,Ws=new WeakMap,Hl=new WeakMap,Vl=new WeakMap,nr=new WeakMap,Kl=new WeakMap,Ad=new WeakMap,MC=new WeakMap,Gl=new WeakMap,hv=new WeakMap,Dh=new WeakMap,ld=new WeakMap,Jr=new WeakMap,ud=new WeakMap,ht=new WeakSet,s_=function(){var t;if(f(this,Hl))return;_(this,Hl,new AbortController);const{signal:e}=f(this,Hl);for(const r of this.trigger)r.addEventListener("click",f(this,uv),{signal:e}),r.addEventListener("pointerenter",f(this,B1),{signal:e}),r.addEventListener("pointerleave",f(this,E1),{signal:e}),r.classList.add("popupTriggerArea");for(const r of f(this,Rh))(t=r.container)==null||t.addEventListener("keydown",f(this,ad),{signal:e})},LD=function(){const e=f(this,Rh).find(t=>t.hasCommentButton);e&&_(this,Kl,e._normalizePoint(e.commentButtonPosition))},QD=function(){if(f(this,Jr).extraPopupElement&&!f(this,Jr).editor)return;f(this,nr)||this.renderCommentButton();const[e,t]=f(this,Kl),{style:r}=f(this,nr);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},kD=function(){f(this,Jr).extraPopupElement||(f(this,nr)||this.renderCommentButton(),f(this,nr).style.backgroundColor=this.commentButtonColor||"")},a_=function(){const e=f(this,Gl),t=f(this,mA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,Gl).html||null},OD=function(){var e,t,r;return((r=(t=(e=f(this,ht,a_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},sW=function(){var e,t,r;return((r=(t=(e=f(this,ht,a_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},aW=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:f(this,ht,sW),fontSize:f(this,ht,OD)?`calc(${f(this,ht,OD)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},oW=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,vA))&&P(this,ht,o_).call(this)},AW=function(){if(f(this,Vl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=f(this,dv);let a=!!f(this,fv),o=a?f(this,fv):f(this,MC);for(const b of f(this,Rh))if(!o||Ve.intersect(b.data.rect,o)!==null){o=b.data.rect,a=!0;break}const l=Ve.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,Vl,[100*(h-i)/t,100*(g-s)/r]);const{style:v}=f(this,tr);v.left=`${f(this,Vl)[0]}%`,v.top=`${f(this,Vl)[1]}%`},o_=function(){if(f(this,js)){f(this,js).toggleCommentPopup(this,!1);return}_(this,vA,!f(this,vA)),f(this,vA)?(P(this,ht,A_).call(this),f(this,tr).addEventListener("click",f(this,uv)),f(this,tr).addEventListener("keydown",f(this,ad))):(P(this,ht,HD).call(this),f(this,tr).removeEventListener("click",f(this,uv)),f(this,tr).removeEventListener("keydown",f(this,ad)))},A_=function(){f(this,Ws)||this.render(),this.isVisible?f(this,vA)&&f(this,tr).classList.add("focused"):(P(this,ht,AW).call(this),f(this,tr).hidden=!1,f(this,tr).style.zIndex=parseInt(f(this,tr).style.zIndex)+1e3)},HD=function(){f(this,tr).classList.remove("focused"),!(f(this,vA)||!this.isVisible)&&(f(this,tr).hidden=!0,f(this,tr).style.zIndex=parseInt(f(this,tr).style.zIndex)-1e3)};class lW extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ot.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var UC;class lfe extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,UC,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=_(this,UC,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,UC)}addHighlightArea(){this.container.classList.add("highlightArea")}}UC=new WeakMap;var PC;class ufe extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,PC,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=_(this,PC,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,PC)}addHighlightArea(){this.container.classList.add("highlightArea")}}PC=new WeakMap;var RC;class cfe extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,RC,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=_(this,RC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,RC)}addHighlightArea(){this.container.classList.add("highlightArea")}}RC=new WeakMap;var DC;class uW extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,DC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=r.length;h<g;h+=2){const v=r[h]-t[0],b=t[3]-r[h+1];u.push(`${v},${b}`)}u=u.join(" ");const d=_(this,DC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,DC)}addHighlightArea(){this.container.classList.add("highlightArea")}}DC=new WeakMap;class dfe extends uW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ffe extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var NC,Nh,LC,VD;class qQ extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,LC);U(this,NC,null);U(this,Nh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ot.HIGHLIGHT:ot.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=P(this,LC,VD).call(this,r,t),d=this.svgFactory.create(l,u,!0),h=_(this,NC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=i.length;g<v;g++){const b=this.svgFactory.createElement(this.svgElementName);f(this,Nh).push(b),b.setAttribute("points",i[g].join(",")),h.append(b)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=f(this,NC);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=f(this,Nh).length;o<l;o++)f(this,Nh)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:u}=P(this,LC,VD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,Nh)}addHighlightArea(){this.container.classList.add("highlightArea")}}NC=new WeakMap,Nh=new WeakMap,LC=new WeakSet,VD=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class cW extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ot.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class hfe extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class pfe extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class gfe extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class dW extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ot.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var QC,kC,KD;class mfe extends Wn{constructor(t){var i;super(t,{isRenderable:!0});U(this,kC);U(this,QC,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",P(this,kC,KD).bind(this)),_(this,QC,i);const{isMac:s}=Ti.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&P(this,kC,KD).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return f(this,QC)}addHighlightArea(){this.container.classList.add("highlightArea")}}QC=new WeakMap,kC=new WeakSet,KD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Lh,Qh,pv,cd,OC,kh,Ys,HC,bu,l_,GD,gv;let vfe=(gv=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){U(this,bu);U(this,Lh,null);U(this,Qh,null);U(this,pv,null);U(this,cd,new Map);U(this,OC,null);U(this,kh,null);U(this,Ys,[]);U(this,HC,!1);this.div=e,_(this,Lh,t),_(this,Qh,r),_(this,OC,o||null),_(this,kh,u||null),_(this,pv,d||new HQ),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return f(this,cd).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;Bp(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:f(this,kh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new sT,annotationStorage:f(this,pv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Tr.POPUP;if(u){const g=i.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=hU.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,Ys).push(d),l.popupRef)){const g=i.get(l.popupRef);g?g.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,cd).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await P(this,bu,l_).call(this);for(const l of s){const u=a.elements=i.get(l.id);a.data=l;const d=hU.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${qg}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}P(this,bu,GD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,kh),svgFactory:new sT,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=gv._defaultBorderStyle),t.data=r;const i=hU.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${qg}${r.id}`,f(this,Ys).push(i))}await P(this,bu,l_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Bp(t,{rotation:e.rotation}),P(this,bu,GD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,cd).values())}getEditableAnnotation(e){return f(this,cd).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:r,rotation:i}=e,s=new tfe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,kh),annotationStorage:f(this,pv)});return s.render(),s.contentElement.id=`${qg}${r}`,s.createOrUpdatePopup(),f(this,Ys).push(s),s}removeAnnotation(e){var i;const t=f(this,Ys).findIndex(s=>s.data.id===e);if(t<0)return;const[r]=f(this,Ys).splice(t,1);(i=f(this,Lh))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);P(this,bu,l_).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return st(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Mg.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Lh=new WeakMap,Qh=new WeakMap,pv=new WeakMap,cd=new WeakMap,OC=new WeakMap,kh=new WeakMap,Ys=new WeakMap,HC=new WeakMap,bu=new WeakSet,l_=async function(){var r,i,s;if(f(this,Ys).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,HC)){_(this,HC,!0);for(const{contentElement:a,data:{id:o}}of f(this,Ys)){const l=a.id=`${qg}${o}`;e.push((r=f(this,OC))==null?void 0:r.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,Ys).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const b=u,C=o,B=(o+u)/2,S=v,I=h,T=(h+v)/2;if(B>=S&&T<=C)return-1;if(T>=b&&B<=I)return 1;const R=(a+l)/2,M=(d+g)/2;return R-M});const t=document.createDocumentFragment();for(const a of f(this,Ys))t.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,Lh))for(const a of f(this,Ys))f(this,Lh).addPointerInTextLayer(a.contentElement,!1)},GD=function(){var t;if(!f(this,Qh))return;const e=this.div;for(const[r,i]of f(this,Qh)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=f(this,cd).get(r);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}f(this,Qh).clear()},gv);const qS=/\r\n?|\n/g;var Xs,VC,Oh,Js,Rr,fW,hW,pW,u_,Cu,c_,d_,gW,qD,mW;const Dn=class Dn extends Fn{constructor(t){super({...t,name:"freeTextEditor"});U(this,Rr);U(this,Xs,"");U(this,VC,`${this.id}-editor`);U(this,Oh,null);U(this,Js);Ce(this,"_colorPicker",null);this.color=t.color||Dn._defaultColor||Fn._defaultLineColor,_(this,Js,t.fontSize||Dn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Dn.prototype,r=a=>a.isEmpty(),i=Yw.TRANSLATE_SMALL,s=Yw.TRANSLATE_BIG;return st(this,"_keyboardManager",new JE([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Fn.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case _t.FREETEXT_SIZE:Dn._defaultFontSize=r;break;case _t.FREETEXT_COLOR:Dn._defaultColor=r;break}}updateParams(t,r){switch(t){case _t.FREETEXT_SIZE:P(this,Rr,fW).call(this,r);break;case _t.FREETEXT_COLOR:P(this,Rr,hW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[_t.FREETEXT_SIZE,Dn._defaultFontSize],[_t.FREETEXT_COLOR,Dn._defaultColor||Fn._defaultLineColor]]}get propertiesToUpdate(){return[[_t.FREETEXT_SIZE,f(this,Js)],[_t.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new iT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return _t.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Dn._internalPadding*t,-(Dn._internalPadding+f(this,Js))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Oh,new AbortController);const t=this._uiManager.combinedSignal(f(this,Oh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,VC)),this._isDraggable=!0,(t=f(this,Oh))==null||t.abort(),_(this,Oh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,Xs),r=_(this,Xs,P(this,Rr,pW).call(this).trimEnd());if(t===r)return;const i=s=>{if(_(this,Xs,s),!s){this.remove();return}P(this,Rr,d_).call(this),this._uiManager.rebuild(this),P(this,Rr,u_).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),P(this,Rr,u_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Dn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,VC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${f(this,Js)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let b,C;switch(this.rotation){case 0:b=t+(o[0]-g)/d,C=r+this.height-(o[1]-v)/h;break;case 90:b=t+(o[0]-g)/d,C=r-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:b=t-this.width+(o[0]-g)/d,C=r-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:b=t+(o[0]-g-this.height*h)/d,C=r+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(b*s,C*a,l,u)}else this._moveAfterPaste(t,r);P(this,Rr,d_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,C,B;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=P(b=Dn,Cu,qD).call(b,r.getData("text")||"").replaceAll(qS,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const S=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(qS,"")),S!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===S){I=h;continue}I.push(P(C=Dn,Cu,c_).call(C,T))}}d.push(l.nodeValue.slice(0,u).replaceAll(qS,""))}else if(l===this.editorDiv){let S=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(S=h),S.push(P(B=Dn,Cu,c_).call(B,T))}_(this,Xs,`${d.join(`
`)}${s}${h.join(`
`)}`),P(this,Rr,d_).call(this);const g=new Range;let v=Math.sumPrecise(d.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const I=S.nodeValue.length;if(v<=I){g.setStart(S,v),g.setEnd(S,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Dn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,i){var o;let s=null;if(t instanceof lW){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:b,contentsObj:C,creationDate:B,modificationDate:S},textContent:I,textPosition:T,parent:{page:{pageNumber:R}}}=t;if(!I||I.length===0)return null;s=t={annotationType:ot.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:R-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(C==null?void 0:C.str)||null,richText:b,creationDate:B,modificationDate:S}}const a=await super.deserialize(t,r,i);return _(a,Js,t.fontSize),a.color=Ve.makeHexColor(...t.color),_(a,Xs,P(o=Dn,Cu,qD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Fn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:r,fontSize:f(this,Js),value:P(this,Rr,gW).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!P(this,Rr,mW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${f(this,Js)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of f(this,Xs).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,Xs)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Xs=new WeakMap,VC=new WeakMap,Oh=new WeakMap,Js=new WeakMap,Rr=new WeakSet,fW=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,Js))*this.parentScale),_(this,Js,s),P(this,Rr,u_).call(this)},i=f(this,Js);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},hW=function(t){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},pW=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(P(i=Dn,Cu,c_).call(i,s)),r=s);return t.join(`
`)},u_=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Cu=new WeakSet,c_=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(qS,"")},d_=function(){if(this.editorDiv.replaceChildren(),!!f(this,Xs))for(const t of f(this,Xs).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},gW=function(){return f(this,Xs).replaceAll(""," ")},qD=function(t){return t.replaceAll(" ","")},mW=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},U(Dn,Cu),Ce(Dn,"_freeTextDefaultContent",""),Ce(Dn,"_internalPadding",0),Ce(Dn,"_defaultColor",null),Ce(Dn,"_defaultFontSize",10),Ce(Dn,"_type","freetext"),Ce(Dn,"_editorType",ot.FREETEXT);let zD=Dn;class ke{toSVGPath(){Cn("Abstract method `toSVGPath` must be implemented.")}get box(){Cn("Abstract getter `box` must be implemented.")}serialize(e,t){Cn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}Ce(ke,"PRECISION",1e-4);var Zs,_o,mv,vv,yA,mt,Hh,Vh,KC,GC,yv,wv,dd,zC,S1,x1,Vr,pw,vW,yW,wW,bW,CW,EW;const pl=class pl{constructor({x:e,y:t},r,i,s,a,o=0){U(this,Vr);U(this,Zs);U(this,_o,[]);U(this,mv);U(this,vv);U(this,yA,[]);U(this,mt,new Float32Array(18));U(this,Hh);U(this,Vh);U(this,KC);U(this,GC);U(this,yv);U(this,wv);U(this,dd,[]);_(this,Zs,r),_(this,wv,s*i),_(this,vv,a),f(this,mt).set([NaN,NaN,NaN,NaN,e,t],6),_(this,mv,o),_(this,GC,f(pl,zC)*i),_(this,KC,f(pl,x1)*i),_(this,yv,i),f(this,dd).push(e,t)}isEmpty(){return isNaN(f(this,mt)[8])}add({x:e,y:t}){var k;_(this,Hh,e),_(this,Vh,t);const[r,i,s,a]=f(this,Zs);let[o,l,u,d]=f(this,mt).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,KC))return!1;const b=v-f(this,GC),C=b/v,B=C*h,S=C*g;let I=o,T=l;o=u,l=d,u+=B,d+=S,(k=f(this,dd))==null||k.push(e,t);const R=-S/b,M=B/b,D=R*f(this,wv),L=M*f(this,wv);return f(this,mt).set(f(this,mt).subarray(2,8),0),f(this,mt).set([u+D,d+L],4),f(this,mt).set(f(this,mt).subarray(14,18),12),f(this,mt).set([u-D,d-L],16),isNaN(f(this,mt)[6])?(f(this,yA).length===0&&(f(this,mt).set([o+D,l+L],2),f(this,yA).push(NaN,NaN,NaN,NaN,(o+D-r)/s,(l+L-i)/a),f(this,mt).set([o-D,l-L],14),f(this,_o).push(NaN,NaN,NaN,NaN,(o-D-r)/s,(l-L-i)/a)),f(this,mt).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,mt).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(S,B))<Math.PI/2?([o,l,u,d]=f(this,mt).subarray(2,6),f(this,yA).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/s,((l+d)/2-i)/a),[o,l,I,T]=f(this,mt).subarray(14,18),f(this,_o).push(NaN,NaN,NaN,NaN,((I+o)/2-r)/s,((T+l)/2-i)/a),!0):([I,T,o,l,u,d]=f(this,mt).subarray(0,6),f(this,yA).push(((I+5*o)/6-r)/s,((T+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),[u,d,o,l,I,T]=f(this,mt).subarray(12,18),f(this,_o).push(((I+5*o)/6-r)/s,((T+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,yA),t=f(this,_o);if(isNaN(f(this,mt)[6])&&!this.isEmpty())return P(this,Vr,vW).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);P(this,Vr,wW).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return P(this,Vr,yW).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new BW(e,t,r,i,s,a)}getOutlines(){var h;const e=f(this,yA),t=f(this,_o),r=f(this,mt),[i,s,a,o]=f(this,Zs),l=new Float32Array((((h=f(this,dd))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,dd)[g]-i)/a,l[g+1]=(f(this,dd)[g+1]-s)/o;if(l[l.length-2]=(f(this,Hh)-i)/a,l[l.length-1]=(f(this,Vh)-s)/o,isNaN(r[6])&&!this.isEmpty())return P(this,Vr,bW).call(this,l);const u=new Float32Array(f(this,yA).length+24+f(this,_o).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=P(this,Vr,EW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return P(this,Vr,CW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,Zs),f(this,yv),f(this,mv),f(this,vv))}};Zs=new WeakMap,_o=new WeakMap,mv=new WeakMap,vv=new WeakMap,yA=new WeakMap,mt=new WeakMap,Hh=new WeakMap,Vh=new WeakMap,KC=new WeakMap,GC=new WeakMap,yv=new WeakMap,wv=new WeakMap,dd=new WeakMap,zC=new WeakMap,S1=new WeakMap,x1=new WeakMap,Vr=new WeakSet,pw=function(){const e=f(this,mt).subarray(4,6),t=f(this,mt).subarray(16,18),[r,i,s,a]=f(this,Zs);return[(f(this,Hh)+(e[0]-t[0])/2-r)/s,(f(this,Vh)+(e[1]-t[1])/2-i)/a,(f(this,Hh)+(t[0]-e[0])/2-r)/s,(f(this,Vh)+(t[1]-e[1])/2-i)/a]},vW=function(){const[e,t,r,i]=f(this,Zs),[s,a,o,l]=P(this,Vr,pw).call(this);return`M${(f(this,mt)[2]-e)/r} ${(f(this,mt)[3]-t)/i} L${(f(this,mt)[4]-e)/r} ${(f(this,mt)[5]-t)/i} L${s} ${a} L${o} ${l} L${(f(this,mt)[16]-e)/r} ${(f(this,mt)[17]-t)/i} L${(f(this,mt)[14]-e)/r} ${(f(this,mt)[15]-t)/i} Z`},yW=function(e){const t=f(this,_o);e.push(`L${t[4]} ${t[5]} Z`)},wW=function(e){const[t,r,i,s]=f(this,Zs),a=f(this,mt).subarray(4,6),o=f(this,mt).subarray(16,18),[l,u,d,h]=P(this,Vr,pw).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/i} ${(o[1]-r)/s}`)},bW=function(e){const t=f(this,mt),[r,i,s,a]=f(this,Zs),[o,l,u,d]=P(this,Vr,pw).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(h,e,f(this,Zs),f(this,yv),f(this,mv),f(this,vv))},CW=function(e,t){const r=f(this,_o);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},EW=function(e,t){const r=f(this,mt).subarray(4,6),i=f(this,mt).subarray(16,18),[s,a,o,l]=f(this,Zs),[u,d,h,g]=P(this,Vr,pw).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},U(pl,zC,8),U(pl,S1,2),U(pl,x1,f(pl,zC)+f(pl,S1));let aT=pl;var bv,Kh,zl,qC,ea,$C,hr,_1,SW;class BW extends ke{constructor(t,r,i,s,a,o){super();U(this,_1);U(this,bv);U(this,Kh,new Float32Array(4));U(this,zl);U(this,qC);U(this,ea);U(this,$C);U(this,hr);_(this,hr,t),_(this,ea,r),_(this,bv,i),_(this,$C,s),_(this,zl,a),_(this,qC,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],P(this,_1,SW).call(this,o);const[l,u,d,h]=f(this,Kh);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=r.length;g<v;g+=2)r[g]=(r[g]-l)/d,r[g+1]=(r[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,hr)[4]} ${f(this,hr)[5]}`];for(let r=6,i=f(this,hr).length;r<i;r+=6){if(isNaN(f(this,hr)[r])){t.push(`L${f(this,hr)[r+4]} ${f(this,hr)[r+5]}`);continue}t.push(`C${f(this,hr)[r]} ${f(this,hr)[r+1]} ${f(this,hr)[r+2]} ${f(this,hr)[r+3]} ${f(this,hr)[r+4]} ${f(this,hr)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,l=s-r;let u,d;switch(a){case 0:u=ke._rescale(f(this,hr),t,s,o,-l),d=ke._rescale(f(this,ea),t,s,o,-l);break;case 90:u=ke._rescaleAndSwap(f(this,hr),t,r,o,l),d=ke._rescaleAndSwap(f(this,ea),t,r,o,l);break;case 180:u=ke._rescale(f(this,hr),i,r,-o,l),d=ke._rescale(f(this,ea),i,r,-o,l);break;case 270:u=ke._rescaleAndSwap(f(this,hr),i,s,-o,-l),d=ke._rescaleAndSwap(f(this,ea),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,Kh)}newOutliner(t,r,i,s,a,o=0){return new aT(t,r,i,s,a,o)}getNewOutline(t,r){const[i,s,a,o]=f(this,Kh),[l,u,d,h]=f(this,bv),g=a*d,v=o*h,b=i*d+l,C=s*h+u,B=this.newOutliner({x:f(this,ea)[0]*g+b,y:f(this,ea)[1]*v+C},f(this,bv),f(this,$C),t,f(this,qC),r??f(this,zl));for(let S=2;S<f(this,ea).length;S+=2)B.add({x:f(this,ea)[S]*g+b,y:f(this,ea)[S+1]*v+C});return B.getOutlines()}}bv=new WeakMap,Kh=new WeakMap,zl=new WeakMap,qC=new WeakMap,ea=new WeakMap,$C=new WeakMap,hr=new WeakMap,_1=new WeakSet,SW=function(t){const r=f(this,hr);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,u=i,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let b=6,C=r.length;b<C;b+=6){const B=r[b+4],S=r[b+5];isNaN(r[b])?(Ve.pointBoundingBox(B,S,a),l>S?(o=B,l=S):l===S&&(o=h(o,B)),d<S?(u=B,d=S):d===S&&(u=h(u,B))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Ve.bezierBoundingBox(i,s,...r.slice(b,b+6),g),Ve.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),i=B,s=S}const v=f(this,Kh);v[0]=a[0]-f(this,zl),v[1]=a[1]-f(this,zl),v[2]=a[2]-a[0]+2*f(this,zl),v[3]=a[3]-a[1]+2*f(this,zl),this.firstPoint=[o,l],this.lastPoint=[u,d]};var jC,WC,YC,fd,To,ss,xW,f_,_W,TW,jD;class $D{constructor(e,t=0,r=0,i=!0){U(this,ss);U(this,jC);U(this,WC);U(this,YC);U(this,fd,[]);U(this,To,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:C,y:B,width:S,height:I}of e){const T=Math.floor((C-t)/a)*a,R=Math.ceil((C+S+t)/a)*a,M=Math.floor((B-t)/a)*a,D=Math.ceil((B+I+t)/a)*a,L=[T,M,D,!0],H=[R,M,D,!1];f(this,fd).push(L,H),Ve.rectBoundingBox(T,M,R,D,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,u=s[0]-r,d=s[1]-r;let h=i?-1/0:1/0,g=1/0;const v=f(this,fd).at(i?-1:-2),b=[v[0],v[2]];for(const C of f(this,fd)){const[B,S,I,T]=C;!T&&i?S<g?(g=S,h=B):S===g&&(h=Math.max(h,B)):T&&!i&&(S<g?(g=S,h=B):S===g&&(h=Math.min(h,B))),C[0]=(B-u)/o,C[1]=(S-d)/l,C[2]=(I-d)/l}_(this,jC,new Float32Array([u,d,o,l])),_(this,WC,[h,g]),_(this,YC,b)}getOutlines(){f(this,fd).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of f(this,fd))t[3]?(e.push(...P(this,ss,jD).call(this,t)),P(this,ss,_W).call(this,t)):(P(this,ss,TW).call(this,t),e.push(...P(this,ss,jD).call(this,t)));return P(this,ss,xW).call(this,e)}}jC=new WeakMap,WC=new WeakMap,YC=new WeakMap,fd=new WeakMap,To=new WeakMap,ss=new WeakSet,xW=function(e){const t=[],r=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,u,d,h]=a;r.delete(a);let g=o,v=l;for(s=[o,u],i.push(s);;){let b;if(r.has(d))b=d;else if(r.has(h))b=h;else break;r.delete(b),[o,l,u,d,h]=b,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new yfe(i,f(this,jC),f(this,WC),f(this,YC))},f_=function(e){const t=f(this,To);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},_W=function([,e,t]){const r=P(this,ss,f_).call(this,e);f(this,To).splice(r,0,[e,t])},TW=function([,e,t]){const r=P(this,ss,f_).call(this,e);for(let i=r;i<f(this,To).length;i++){const[s,a]=f(this,To)[i];if(s!==e)break;if(s===e&&a===t){f(this,To).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=f(this,To)[i];if(s!==e)break;if(s===e&&a===t){f(this,To).splice(i,1);return}}},jD=function(e){const[t,r,i]=e,s=[[t,r,i]],a=P(this,ss,f_).call(this,i);for(let o=0;o<a;o++){const[l,u]=f(this,To)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var XC,Cv;class yfe extends ke{constructor(t,r,i,s){super();U(this,XC);U(this,Cv);_(this,Cv,t),_(this,XC,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const r of f(this,Cv)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],l=i-t,u=s-r;for(const d of f(this,Cv)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,XC)}get classNamesForOutlining(){return["highlightOutline"]}}XC=new WeakMap,Cv=new WeakMap;class WD extends aT{newFreeDrawOutline(e,t,r,i,s,a){return new wfe(e,t,r,i,s,a)}}class wfe extends BW{newOutliner(e,t,r,i,s,a=0){return new WD(e,t,r,i,s,a)}}var Ev,JC,ql,Gh,ZC,bs,eE,tE,zh,ta,na,mi,Bv,Sv,Qi,xv,$a,nE,dt,YD,h_,IW,FW,MW,XD,Mf,eo,Lg,UW,p_,g_,PW,RW,DW,NW,LW;const Kt=class Kt extends Fn{constructor(t){super({...t,name:"highlightEditor"});U(this,dt);U(this,Ev,null);U(this,JC,0);U(this,ql);U(this,Gh,null);U(this,ZC,null);U(this,bs,null);U(this,eE,null);U(this,tE,0);U(this,zh,null);U(this,ta,null);U(this,na,null);U(this,mi,!1);U(this,Bv,null);U(this,Sv,null);U(this,Qi,null);U(this,xv,"");U(this,$a);U(this,nE,"");this.color=t.color||Kt._defaultColor,_(this,$a,t.thickness||Kt._defaultThickness),this.opacity=t.opacity||Kt._defaultOpacity,_(this,ql,t.boxes||null),_(this,nE,t.methodOfCreation||""),_(this,xv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,mi,!0),P(this,dt,h_).call(this,t),P(this,dt,Mf).call(this)):f(this,ql)&&(_(this,Ev,t.anchorNode),_(this,JC,t.anchorOffset),_(this,eE,t.focusNode),_(this,tE,t.focusOffset),P(this,dt,YD).call(this),P(this,dt,Mf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Kt.prototype;return st(this,"_keyboardManager",new JE([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,mi)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,$a),methodOfCreation:f(this,nE)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Fn.initialize(t,r),Kt._defaultColor||(Kt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case _t.HIGHLIGHT_COLOR:Kt._defaultColor=r;break;case _t.HIGHLIGHT_THICKNESS:Kt._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return f(this,Sv)}get commentButtonPosition(){return f(this,Bv)}updateParams(t,r){switch(t){case _t.HIGHLIGHT_COLOR:P(this,dt,IW).call(this,r);break;case _t.HIGHLIGHT_THICKNESS:P(this,dt,FW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,Kt._defaultColor],[_t.HIGHLIGHT_THICKNESS,Kt._defaultThickness]]}get propertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,this.color||Kt._defaultColor],[_t.HIGHLIGHT_THICKNESS,f(this,$a)||Kt._defaultThickness],[_t.HIGHLIGHT_FREE,f(this,mi)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,na),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=f(this,ZC))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,ZC,new eW({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(P(this,dt,g_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,P(this,dt,g_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){P(this,dt,XD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,dt,Mf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?P(this,dt,XD).call(this):t&&(P(this,dt,Mf).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;f(this,mi)?(t=(t-this.rotation+360)%360,i=P(s=Kt,eo,Lg).call(s,f(this,ta).box,t)):i=P(a=Kt,eo,Lg).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(f(this,na),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(f(this,Qi),{bbox:P(o=Kt,eo,Lg).call(o,f(this,bs).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,xv)&&(t.setAttribute("aria-label",f(this,xv)),t.setAttribute("role","mark")),f(this,mi)?t.classList.add("free"):this.div.addEventListener("keydown",P(this,dt,UW).bind(this),{signal:this._uiManager._signal});const r=_(this,zh,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=f(this,Gh),this.setDims(),ej(this,f(this,zh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Qi),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Qi),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:P(this,dt,p_).call(this,!0);break;case 1:case 3:P(this,dt,p_).call(this,!1);break}}select(){var t;super.select(),f(this,Qi)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Qi),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,Qi)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Qi),{rootClass:{selected:!1}}),f(this,mi)||P(this,dt,p_).call(this,!1))}get _mustFixPosition(){return!f(this,mi)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,na),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,Qi),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:d}=i.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=b=>{h.abort(),P(this,eo,NW).call(this,t,b)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",ar,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",oo,{signal:g}),i.addEventListener("pointermove",P(this,eo,DW).bind(this,t),{signal:g}),this._freeHighlight=new WD({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var C,B,S,I;let s=null;if(t instanceof cW){const{data:{quadPoints:T,rect:R,rotation:M,id:D,color:L,opacity:H,popupRef:k,richText:K,contentsObj:G,creationDate:z,modificationDate:Z},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:ot.HIGHLIGHT,color:Array.from(L),opacity:H,quadPoints:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:M,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(G==null?void 0:G.str)||null,creationDate:z,modificationDate:Z}}else if(t instanceof qQ){const{data:{inkLists:T,rect:R,rotation:M,id:D,color:L,borderStyle:{rawWidth:H},popupRef:k,richText:K,contentsObj:G,creationDate:z,modificationDate:Z},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:ot.HIGHLIGHT,color:Array.from(L),thickness:H,inkLists:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:M,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(G==null?void 0:G.str)||null,creationDate:z,modificationDate:Z}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,r,i);d.color=Ve.makeHexColor(...a),d.opacity=u||1,l&&_(d,$a,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,b]=d.pageTranslation;if(o){const T=_(d,ql,[]);for(let R=0;R<o.length;R+=8)T.push({x:(o[R]-v)/h,y:1-(o[R+1]-b)/g,width:(o[R+2]-o[R])/h,height:(o[R+1]-o[R+5])/g});P(C=d,dt,YD).call(C),P(B=d,dt,Mf).call(B),d.rotate(d.rotation)}else if(l){_(d,mi,!0);const T=l[0],R={x:T[0]-v,y:g-(T[1]-b)},M=new WD(R,[0,0,h,g],1,f(d,$a)/2,!0,.001);for(let H=0,k=T.length;H<k;H+=2)R.x=T[H]-v,R.y=g-(T[H+1]-b),M.add(R);const{id:D,clipPathId:L}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:M.toSVGPath()}},!0,!0);P(S=d,dt,h_).call(S,{highlightOutlines:M.getOutlines(),highlightId:D,clipPathId:L}),P(I=d,dt,Mf).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=Fn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:r,opacity:this.opacity,thickness:f(this,$a),quadPoints:P(this,dt,PW).call(this),outlines:P(this,dt,RW).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!P(this,dt,LW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Ev=new WeakMap,JC=new WeakMap,ql=new WeakMap,Gh=new WeakMap,ZC=new WeakMap,bs=new WeakMap,eE=new WeakMap,tE=new WeakMap,zh=new WeakMap,ta=new WeakMap,na=new WeakMap,mi=new WeakMap,Bv=new WeakMap,Sv=new WeakMap,Qi=new WeakMap,xv=new WeakMap,$a=new WeakMap,nE=new WeakMap,dt=new WeakSet,YD=function(){const t=new $D(f(this,ql),.001);_(this,ta,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,ta).box;const r=new $D(f(this,ql),.0025,.001,this._uiManager.direction==="ltr");_(this,bs,r.getOutlines());const{firstPoint:i}=f(this,ta);_(this,Bv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=f(this,bs);_(this,Sv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},h_=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var g,v;if(_(this,ta,t),_(this,bs,t.getNewOutline(f(this,$a)/2+1.5,.0025)),r>=0)_(this,na,r),_(this,Gh,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,Qi,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,bs).box,path:{d:f(this,bs).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,na),{bbox:P(g=Kt,eo,Lg).call(g,f(this,ta).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,Qi),{bbox:P(v=Kt,eo,Lg).call(v,f(this,bs).box,b),path:{d:f(this,bs).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[b,C]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*C/b,this.height=u*b/C;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[b,C]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*C/b,this.height=u*b/C;break}}const{firstPoint:d}=t;_(this,Bv,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,bs);_(this,Sv,[(h[0]-a)/l,(h[1]-o)/u])},IW=function(t){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,t,Kt._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},FW=function(t){const r=f(this,$a),i=s=>{_(this,$a,s),P(this,dt,MW).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},MW=function(t){f(this,mi)&&(P(this,dt,h_).call(this,{highlightOutlines:f(this,ta).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},XD=function(){f(this,na)===null||!this.parent||(this.parent.drawLayer.remove(f(this,na)),_(this,na,null),this.parent.drawLayer.remove(f(this,Qi)),_(this,Qi,null))},Mf=function(t=this.parent){f(this,na)===null&&({id:ur(this,na)._,clipPathId:ur(this,Gh)._}=t.drawLayer.draw({bbox:f(this,ta).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,mi)},path:{d:f(this,ta).toSVGPath()}},!1,!0),_(this,Qi,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,mi)},bbox:f(this,bs).box,path:{d:f(this,bs).toSVGPath()}},f(this,mi))),f(this,zh)&&(f(this,zh).style.clipPath=f(this,Gh)))},eo=new WeakSet,Lg=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},UW=function(t){Kt._keyboardManager.exec(this,t)},p_=function(t){if(!f(this,Ev))return;const r=window.getSelection();t?r.setPosition(f(this,Ev),f(this,JC)):r.setPosition(f(this,eE),f(this,tE))},g_=function(){return f(this,mi)?this.rotation:0},PW=function(){if(f(this,mi))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=f(this,ql),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+i,b=(1-d)*r+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=b,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=b-g*r,l+=8}return o},RW=function(t){return f(this,ta).serialize(t,P(this,dt,g_).call(this))},DW=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},NW=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},LW=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},U(Kt,eo),Ce(Kt,"_defaultColor",null),Ce(Kt,"_defaultOpacity",1),Ce(Kt,"_defaultThickness",12),Ce(Kt,"_type","highlight"),Ce(Kt,"_editorType",ot.HIGHLIGHT),Ce(Kt,"_freeHighlightId",-1),Ce(Kt,"_freeHighlight",null),Ce(Kt,"_freeHighlightClipId","");let oT=Kt;var qh;class QW{constructor(){U(this,qh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){f(this,qh)[e]=t}toSVGProperties(){const e=f(this,qh);return _(this,qh,Object.create(null)),{root:e}}reset(){_(this,qh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Cn("Not implemented")}}qh=new WeakMap;var ra,_v,Zr,$h,jh,Dt,JD,ZD,eN,gw,kW,m_,mw,Qg;const Et=class Et extends Fn{constructor(t){super(t);U(this,Dt);U(this,ra,null);U(this,_v);Ce(this,"_colorPicker",null);Ce(this,"_drawId",null);_(this,_v,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(P(this,Dt,JD).call(this,t),P(this,Dt,gw).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Cn("Not implemented")}static get typesMap(){Cn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(f(Et,Zr).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var d;s.updateProperty(r,l);const u=f(this,ra).updateProperty(r,l);u&&P(this,Dt,mw).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Et._mergeSVGProperties(f(this,ra).getPathResizingSVGProperties(P(this,Dt,m_).call(this)),{bbox:P(this,Dt,Qg).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Et._mergeSVGProperties(f(this,ra).getPathResizedSVGProperties(P(this,Dt,m_).call(this)),{bbox:P(this,Dt,Qg).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:P(this,Dt,Qg).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Et._mergeSVGProperties(f(this,ra).getPathTranslatedSVGProperties(P(this,Dt,m_).call(this),this.parentDimensions),{bbox:P(this,Dt,Qg).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,_v)&&(_(this,_v,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){P(this,Dt,eN).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,Dt,gw).call(this),P(this,Dt,mw).call(this,f(this,ra).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),P(this,Dt,eN).call(this)):t&&(this._uiManager.addShouldRescale(this),P(this,Dt,gw).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Et._mergeSVGProperties({bbox:P(this,Dt,Qg).call(this)},f(this,ra).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&P(this,Dt,mw).call(this,f(this,ra).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,a){Cn("Not implemented")}static startDrawing(t,r,i,s){var B;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(Pi.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),b=_(Et,$h,new AbortController),C=t.combinedSignal(b);if(Pi.setPointer(d,u),window.addEventListener("pointerup",S=>{Pi.isSamePointerIdOrRemove(S.pointerId)&&this._endDraw(S)},{signal:C}),window.addEventListener("pointercancel",S=>{Pi.isSamePointerIdOrRemove(S.pointerId)&&this._currentParent.endDrawingSession()},{signal:C}),window.addEventListener("pointerdown",S=>{Pi.isSamePointerType(S.pointerType)&&(Pi.initializeAndAddPointerId(S.pointerId),f(Et,Zr).isCancellable()&&(f(Et,Zr).removeLastElement(),f(Et,Zr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:C}),window.addEventListener("contextmenu",oo,{signal:C}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:C}),a.addEventListener("touchmove",S=>{Pi.isSameTimeStamp(S.timeStamp)&&ar(S)},{signal:C}),t.toggleDrawing(),(B=r._editorUndoBar)==null||B.hide(),f(Et,Zr)){t.drawLayer.updateProperties(this._currentDrawId,f(Et,Zr).startNew(o,l,g,v,h));return}r.updateUIForDefaultProperties(this),_(Et,Zr,this.createDrawerInstance(o,l,g,v,h)),_(Et,jh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(Et,jh).toSVGProperties(),f(Et,Zr).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Pi.isSameTimeStamp(t.timeStamp),!f(Et,Zr))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(Pi.isSamePointerId(s)){if(Pi.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(Et,Zr).add(r,i)),Pi.setTimeStamp(t.timeStamp),ar(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(Et,Zr,null),_(Et,jh,null),Pi.clearPointerType(),Pi.clearTimeStamp()),f(Et,$h)&&(f(Et,$h).abort(),_(Et,$h,null),Pi.clearPointerIds())}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,f(Et,Zr).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=f(Et,Zr),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:_t.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(_t.DRAW_STEP),!f(Et,Zr).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(Et,Zr).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(Et,jh),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,o){Cn("Not implemented")}static async deserialize(t,r,i){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,r,i);return d.createDrawingOptions(t),P(h=d,Dt,JD).call(h,{drawOutlines:u}),P(g=d,Dt,gw).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,ra).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};ra=new WeakMap,_v=new WeakMap,Zr=new WeakMap,$h=new WeakMap,jh=new WeakMap,Dt=new WeakSet,JD=function({drawOutlines:t,drawId:r,drawingOptions:i}){_(this,ra,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=P(this,Dt,ZD).call(this,t,this.parent),P(this,Dt,mw).call(this,t.box)},ZD=function(t,r){const{id:i}=r.drawLayer.draw(Et._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},eN=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},gw=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=P(this,Dt,ZD).call(this,f(this,ra),t)}},kW=function([t,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},m_=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},mw=function(t){[this.x,this.y,this.width,this.height]=P(this,Dt,kW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Qg=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/u),s*(u/l),i*(l/u)];case 5:return[1-r,t,i*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-r,s*(u/l),i*(l/u)];case 7:return[r-i*(l/u),1-t-s*(u/l),i*(l/u),s*(u/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(u/l),r,s*(u/l),i*(l/u)];case 13:return[1-r-i*(l/u),t-s*(u/l),i*(l/u),s*(u/l)];case 14:return[1-t,1-r-i*(l/u),s*(u/l),i*(l/u)];case 15:return[r,1-t,i*(l/u),s*(u/l)];default:return[t,r,i,s]}},Ce(Et,"_currentDrawId",-1),Ce(Et,"_currentParent",null),U(Et,Zr,null),U(Et,$h,null),U(Et,jh,null),Ce(Et,"_INNER_MARGIN",3);let AT=Et;var wA,ei,ti,Wh,Tv,Wi,vi,ja,Yh,Xh,Jh,Iv,v_;class bfe{constructor(e,t,r,i,s,a){U(this,Iv);U(this,wA,new Float64Array(6));U(this,ei);U(this,ti);U(this,Wh);U(this,Tv);U(this,Wi);U(this,vi,"");U(this,ja,0);U(this,Yh,new eB);U(this,Xh);U(this,Jh);_(this,Xh,r),_(this,Jh,i),_(this,Wh,s),_(this,Tv,a),[e,t]=P(this,Iv,v_).call(this,e,t);const o=_(this,ei,[NaN,NaN,NaN,NaN,e,t]);_(this,Wi,[e,t]),_(this,ti,[{line:o,points:f(this,Wi)}]),f(this,wA).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,Tv,t)}isEmpty(){return!f(this,ti)||f(this,ti).length===0}isCancellable(){return f(this,Wi).length<=10}add(e,t){[e,t]=P(this,Iv,v_).call(this,e,t);const[r,i,s,a]=f(this,wA).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,Xh)*o,f(this,Jh)*l)<=2?null:(f(this,Wi).push(e,t),isNaN(r)?(f(this,wA).set([s,a,e,t],2),f(this,ei).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,wA)[0])&&f(this,ei).splice(6,6),f(this,wA).set([r,i,s,a,e,t],0),f(this,ei).push(...ke.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(f(this,Wi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){_(this,Xh,r),_(this,Jh,i),_(this,Wh,s),[e,t]=P(this,Iv,v_).call(this,e,t);const a=_(this,ei,[NaN,NaN,NaN,NaN,e,t]);_(this,Wi,[e,t]);const o=f(this,ti).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,ti).push({line:a,points:f(this,Wi)}),f(this,wA).set(a,0),_(this,ja,0),this.toSVGPath(),null}getLastElement(){return f(this,ti).at(-1)}setLastElement(e){return f(this,ti)?(f(this,ti).push(e),_(this,ei,e.line),_(this,Wi,e.points),_(this,ja,0),{path:{d:this.toSVGPath()}}):f(this,Yh).setLastElement(e)}removeLastElement(){if(!f(this,ti))return f(this,Yh).removeLastElement();f(this,ti).pop(),_(this,vi,"");for(let e=0,t=f(this,ti).length;e<t;e++){const{line:r,points:i}=f(this,ti)[e];_(this,ei,r),_(this,Wi,i),_(this,ja,0),this.toSVGPath()}return{path:{d:f(this,vi)}}}toSVGPath(){const e=ke.svgRound(f(this,ei)[4]),t=ke.svgRound(f(this,ei)[5]);if(f(this,Wi).length===2)return _(this,vi,`${f(this,vi)} M ${e} ${t} Z`),f(this,vi);if(f(this,Wi).length<=6){const i=f(this,vi).lastIndexOf("M");_(this,vi,`${f(this,vi).slice(0,i)} M ${e} ${t}`),_(this,ja,6)}if(f(this,Wi).length===4){const i=ke.svgRound(f(this,ei)[10]),s=ke.svgRound(f(this,ei)[11]);return _(this,vi,`${f(this,vi)} L ${i} ${s}`),_(this,ja,12),f(this,vi)}const r=[];f(this,ja)===0&&(r.push(`M ${e} ${t}`),_(this,ja,6));for(let i=f(this,ja),s=f(this,ei).length;i<s;i+=6){const[a,o,l,u,d,h]=f(this,ei).slice(i,i+6).map(ke.svgRound);r.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,vi,f(this,vi)+r.join(" ")),_(this,ja,f(this,ei).length),f(this,vi)}getOutlines(e,t,r,i){const s=f(this,ti).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Yh).build(f(this,ti),e,t,r,f(this,Wh),f(this,Tv),i),_(this,wA,null),_(this,ei,null),_(this,ti,null),_(this,vi,null),f(this,Yh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}wA=new WeakMap,ei=new WeakMap,ti=new WeakMap,Wh=new WeakMap,Tv=new WeakMap,Wi=new WeakMap,vi=new WeakMap,ja=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,Jh=new WeakMap,Iv=new WeakSet,v_=function(e,t){return ke._normalizePoint(e,t,f(this,Xh),f(this,Jh),f(this,Wh))};var Yi,rE,iE,ia,bA,CA,Fv,Mv,Zh,Bi,dl,OW,HW,VW;class eB extends ke{constructor(){super(...arguments);U(this,Bi);U(this,Yi);U(this,rE,0);U(this,iE);U(this,ia);U(this,bA);U(this,CA);U(this,Fv);U(this,Mv);U(this,Zh)}build(t,r,i,s,a,o,l){_(this,bA,r),_(this,CA,i),_(this,Fv,s),_(this,Mv,a),_(this,Zh,o),_(this,iE,l??0),_(this,ia,t),P(this,Bi,HW).call(this)}get thickness(){return f(this,Zh)}setLastElement(t){return f(this,ia).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,ia).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of f(this,ia)){if(t.push(`M${ke.svgRound(r[4])} ${ke.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${ke.svgRound(r[10])} ${ke.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,u,d,h]=r.subarray(i,i+6).map(ke.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,r,i,s],a){const o=[],l=[],[u,d,h,g]=P(this,Bi,OW).call(this);let v,b,C,B,S,I,T,R,M;switch(f(this,Mv)){case 0:M=ke._rescale,v=t,b=r+s,C=i,B=-s,S=t+u*i,I=r+(1-d-g)*s,T=t+(u+h)*i,R=r+(1-d)*s;break;case 90:M=ke._rescaleAndSwap,v=t,b=r,C=i,B=s,S=t+d*i,I=r+u*s,T=t+(d+g)*i,R=r+(u+h)*s;break;case 180:M=ke._rescale,v=t+i,b=r,C=-i,B=s,S=t+(1-u-h)*i,I=r+d*s,T=t+(1-u)*i,R=r+(d+g)*s;break;case 270:M=ke._rescaleAndSwap,v=t+i,b=r+s,C=-i,B=-s,S=t+(1-d-g)*i,I=r+(1-u-h)*s,T=t+(1-d)*i,R=r+(1-u)*s;break}for(const{line:D,points:L}of f(this,ia))o.push(M(D,v,b,C,B,a?new Array(D.length):null)),l.push(M(L,v,b,C,B,a?new Array(L.length):null));return{lines:o,points:l,rect:[S,I,T,R]}}static deserialize(t,r,i,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,b,C,B;switch(u){case 0:B=ke._rescale,g=-t/i,v=r/s+1,b=1/i,C=-1/s;break;case 90:B=ke._rescaleAndSwap,g=-r/s,v=-t/i,b=1/s,C=1/i;break;case 180:B=ke._rescale,g=t/i+1,v=-r/s,b=-1/i,C=1/s;break;case 270:B=ke._rescaleAndSwap,g=r/s+1,v=t/i+1,b=-1/s,C=-1/i;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const R=new Float32Array(3*(T-2));o.push(R);let[M,D,L,H]=I.subarray(0,4);R.set([NaN,NaN,NaN,NaN,M,D],0);for(let k=4;k<T;k+=2){const K=I[k],G=I[k+1];R.set(ke.createBezierPoints(M,D,L,H,K,G),(k-2)*3),[M,D,L,H]=[L,H,K,G]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:B(o[I].map(R=>R??NaN),g,v,b,C),points:B(l[I].map(R=>R??NaN),g,v,b,C)});const S=new this.prototype.constructor;return S.build(h,i,s,1,u,d,a),S}get box(){return f(this,Yi)}updateProperty(t,r){return t==="stroke-width"?P(this,Bi,VW).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=P(this,Bi,dl).call(this);_(this,bA,t),_(this,CA,r),_(this,Fv,i);const[o,l]=P(this,Bi,dl).call(this),u=o-s,d=l-a,h=f(this,Yi);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,rE,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,Yi).map(ke.svgRound).join(" ")}get defaultProperties(){const[t,r]=f(this,Yi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=f(this,Yi);let i=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,rE)){case 90:s=r/t,a=-t/r,l=t;break;case 180:i=-1,o=-1,l=t,u=r;break;case 270:s=-r/t,a=t/r,u=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${ke.svgRound(l)} ${ke.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,o]=P(this,Bi,dl).call(this),[l,u,d,h]=f(this,Yi);if(Math.abs(d-a)<=ke.PRECISION||Math.abs(h-o)<=ke.PRECISION){const B=t+i/2-(l+d/2),S=r+s/2-(u+h/2);return{path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:`${this.rotationTransform} translate(${B} ${S})`}}}const g=(i-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),b=d/i,C=h/s;return{path:{"transform-origin":`${ke.svgRound(l)} ${ke.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${C}) translate(${ke.svgRound(a)} ${ke.svgRound(o)}) scale(${g} ${v}) translate(${ke.svgRound(-a)} ${ke.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,o]=P(this,Bi,dl).call(this),l=f(this,Yi),[u,d,h,g]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(h-a)<=ke.PRECISION||Math.abs(g-o)<=ke.PRECISION){const S=t+i/2-(u+h/2),I=r+s/2-(d+g/2);for(const{line:T,points:R}of f(this,ia))ke._translate(T,S,I,T),ke._translate(R,S,I,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*a)/(h-2*a),b=(s-2*o)/(g-2*o),C=-v*(u+a)+t+a,B=-b*(d+o)+r+o;if(v!==1||b!==1||C!==0||B!==0)for(const{line:S,points:I}of f(this,ia))ke._rescale(S,C,B,v,b,S),ke._rescale(I,C,B,v,b,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,o=f(this,Yi),l=t-o[0],u=r-o[1];if(f(this,bA)===s&&f(this,CA)===a)for(const{line:d,points:h}of f(this,ia))ke._translate(d,l,u,d),ke._translate(h,l,u,h);else{const d=f(this,bA)/s,h=f(this,CA)/a;_(this,bA,s),_(this,CA,a);for(const{line:g,points:v}of f(this,ia))ke._rescale(g,l,u,d,h,g),ke._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`}}}get defaultSVGProperties(){const t=f(this,Yi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t[0])} ${ke.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Yi=new WeakMap,rE=new WeakMap,iE=new WeakMap,ia=new WeakMap,bA=new WeakMap,CA=new WeakMap,Fv=new WeakMap,Mv=new WeakMap,Zh=new WeakMap,Bi=new WeakSet,dl=function(t=f(this,Zh)){const r=f(this,iE)+t/2*f(this,Fv);return f(this,Mv)%180===0?[r/f(this,bA),r/f(this,CA)]:[r/f(this,CA),r/f(this,bA)]},OW=function(){const[t,r,i,s]=f(this,Yi),[a,o]=P(this,Bi,dl).call(this,0);return[t+a,r+o,i-2*a,s-2*o]},HW=function(){const t=_(this,Yi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,ia)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Ve.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,b,C]=s.subarray(l,l+6);Ve.bezierBoundingBox(a,o,d,h,g,v,b,C,t),a=b,o=C}}const[r,i]=P(this,Bi,dl).call(this);t[0]=ts(t[0]-r,0,1),t[1]=ts(t[1]-i,0,1),t[2]=ts(t[2]+r,0,1),t[3]=ts(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},VW=function(t){const[r,i]=P(this,Bi,dl).call(this);_(this,Zh,t);const[s,a]=P(this,Bi,dl).call(this),[o,l]=[s-r,a-i],u=f(this,Yi);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class z1 extends QW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Fn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new z1(this._viewParameters);return e.updateAll(this),e}}var T1,KW;const Zg=class Zg extends AT{constructor(t){super({...t,name:"inkEditor"});U(this,T1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Fn.initialize(t,r),this._defaultDrawingOptions=new z1(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return st(this,"typesMap",new Map([[_t.INK_THICKNESS,"stroke-width"],[_t.INK_COLOR,"stroke"],[_t.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new bfe(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,o){return eB.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){let s=null;if(t instanceof qQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:b,richText:C,contentsObj:B,creationDate:S,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:ot.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:b,richText:C,comment:(B==null?void 0:B.str)||null,creationDate:S,modificationDate:I}}const a=await super.deserialize(t,r,i);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new iT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return _t.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Zg.getDefaultDrawingOptions({stroke:Ve.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Fn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!P(this,T1,KW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};T1=new WeakSet,KW=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},Ce(Zg,"_type","ink"),Ce(Zg,"_editorType",ot.INK),Ce(Zg,"_defaultDrawingOptions",null);let tN=Zg;class nN extends eB{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const $S=8,L0=3;var J0,ep,qt,rN,Io,GW,zW,iN,y_,qW,$W,jW,sN,aN,WW;let kg=(J0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${r} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:C,actualBoundingBoxDescent:B,fontBoundingBoxAscent:S,fontBoundingBoxDescent:I,width:T}=d.measureText(e),R=1.5,M=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,T)*R),D=Math.ceil(Math.max(Math.abs(C)+Math.abs(B)||h,Math.abs(S)+Math.abs(I)||h)*R);u=new OffscreenCanvas(M,D),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,M,D),d.fillStyle="black",d.fillText(e,M*(R-1)/2,D*(3-R)/2);const L=P(this,qt,sN).call(this,d.getImageData(0,0,M,D).data),H=P(this,qt,jW).call(this,L),k=P(this,qt,aN).call(this,H),K=P(this,qt,iN).call(this,L,M,D,k);return this.processDrawnLines({lines:{curves:K,width:M,height:D},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[a,o,l]=P(this,qt,WW).call(this,e),[u,d]=P(this,qt,$W).call(this,a,o,l,Math.hypot(o,l)*f(this,ep).sigmaSFactor,f(this,ep).sigmaR,f(this,ep).kernelSize),h=P(this,qt,aN).call(this,d),g=P(this,qt,iN).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,r/d),b=v/t,C=v/r,B=[];for(const{points:I}of l){const T=a?P(this,qt,qW).call(this,I):I;if(!T)continue;B.push(T);const R=T.length,M=new Float32Array(R),D=new Float32Array(3*(R===2?2:R-2));if(g.push({line:D,points:M}),R===2){M[0]=T[0]*b,M[1]=T[1]*C,D.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[L,H,k,K]=T;L*=b,H*=C,k*=b,K*=C,M.set([L,H,k,K],0),D.set([NaN,NaN,NaN,NaN,L,H],0);for(let G=4;G<R;G+=2){const z=M[G]=T[G]*b,Z=M[G+1]=T[G+1]*C;D.set(ke.createBezierPoints(L,H,k,K,z,Z),(G-2)*3),[L,H,k,K]=[k,K,z,Z]}}if(g.length===0)return null;const S=o?new nN:new eB;return S.build(g,t,r,1,i,o?0:h,s),{outline:S,newCurves:B,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let R=2,M=T.length;R<M;R++){const D=T[R]-T[R-2];a=Math.min(a,D),o=Math.max(o,D)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=$S+L0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=i,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(r??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const b=new CompressionStream("deflate-raw"),C=b.writable.getWriter();await C.ready,C.write(g);const B=u.prototype.constructor;for(const T of e){const R=new B(T.length-2);for(let M=2,D=T.length;M<D;M++)R[M-2]=T[M]-T[M-2];C.write(R)}C.close();const S=await new Response(b.readable).arrayBuffer(),I=new Uint8Array(S);return z6(I)}static async decompressSignature(e){try{const t=Lce(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of r)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],b=l[6],C=l[7],B=[],S=($S+L0*b)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(C){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,S);break}o=0;for(let T=0;T<b;T++){const R=l[L0*T+$S],M=new Float32Array(R+2);B.push(M);for(let D=0;D<L0-1;D++)M[D]=l[L0*T+$S+D+1];for(let D=0;D<R;D++)M[D+2]=M[D]+I[o++]}return{areContours:g,thickness:v,outlines:B,width:d,height:h}}catch(t){return it(`decompressSignature: ${t}`),null}}},ep=new WeakMap,qt=new WeakSet,rN=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Io=new WeakMap,GW=function(e,t,r,i,s,a,o){const l=P(this,qt,rN).call(this,r,i,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,Io)[2*d],g=f(this,Io)[2*d+1];if(e[(r+h)*t+(i+g)]!==0)return d}return-1},zW=function(e,t,r,i,s,a,o){const l=P(this,qt,rN).call(this,r,i,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,Io)[2*d],g=f(this,Io)[2*d+1];if(e[(r+h)*t+(i+g)]!==0)return d}return-1},iN=function(e,t,r,i){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=i?1:0;for(let d=1;d<r-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*r-1-d]=0;let o=1,l;const u=[];for(let d=1;d<r-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let b=d,C=h;if(v===1&&a[g-1]===0)o+=1,C-=1;else if(v>=1&&a[g+1]===0)o+=1,C+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const B=[h,d],S=C===h+1,I={isHole:S,points:B,id:o,parent:0};u.push(I);let T;for(const G of u)if(G.id===l){T=G;break}T?T.isHole?I.parent=S?T.parent:l:I.parent=S?l:T.parent:I.parent=S?l:0;const R=P(this,qt,GW).call(this,a,t,d,h,b,C,0);if(R===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let M=f(this,Io)[2*R],D=f(this,Io)[2*R+1];const L=d+M,H=h+D;b=L,C=H;let k=d,K=h;for(;;){const G=P(this,qt,zW).call(this,a,t,k,K,b,C,1);M=f(this,Io)[2*G],D=f(this,Io)[2*G+1];const z=k+M,Z=K+D;B.push(Z,z);const ne=k*t+K;if(a[ne+1]===0?a[ne]=-o:a[ne]===1&&(a[ne]=o),z===d&&Z===h&&k===L&&K===H){a[g]!==1&&(l=Math.abs(a[g]));break}else b=k,C=K,k=z,K=Z}}}return u},y_=function(e,t,r,i){if(r-t<=4){for(let L=t;L<r-2;L+=2)i.push(e[L],e[L+1]);return}const s=e[t],a=e[t+1],o=e[r-4]-s,l=e[r-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,b=1/u,C=Math.atan(v),B=Math.cos(C),S=Math.sin(C),I=b*(Math.abs(B)+Math.abs(S)),T=b*(1-I+I**2),R=Math.max(Math.atan(Math.abs(S+B)*T),Math.atan(Math.abs(S-B)*T));let M=0,D=t;for(let L=t+2;L<r-2;L+=2){const H=Math.abs(g-d*e[L+1]+h*e[L]);H>M&&(D=L,M=H)}M>(u*R)**2?(P(this,qt,y_).call(this,e,t,D+2,i),P(this,qt,y_).call(this,e,D,r,i)):i.push(s,a)},qW=function(e){const t=[],r=e.length;return P(this,qt,y_).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},$W=function(e,t,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,u=a>>1;for(let C=0;C<a;C++){const B=(C-u)**2;for(let S=0;S<a;S++)o[C*a+S]=Math.exp((B+(S-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let C=0;C<256;C++)d[C]=Math.exp(C**2/h);const g=e.length,v=new Uint8Array(g),b=new Uint32Array(256);for(let C=0;C<r;C++)for(let B=0;B<t;B++){const S=C*t+B,I=e[S];let T=0,R=0;for(let D=0;D<a;D++){const L=C+D-u;if(!(L<0||L>=r))for(let H=0;H<a;H++){const k=B+H-u;if(k<0||k>=t)continue;const K=e[L*t+k],G=o[D*a+H]*d[Math.abs(K-I)];T+=K*G,R+=G}}const M=v[S]=Math.round(T/R);b[M]++}return[v,b]},jW=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},sN=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const u=r[o]=e[o<<2];i=Math.max(i,u),s=Math.min(s,u)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},aN=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-a>i&&(i=t-a,o=t-1),r=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},WW=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=f(this,ep);let a=r,o=i;if(r>s||i>s){let g=r,v=i,b=Math.log2(Math.max(r,i)/s);const C=Math.floor(b);b=b===C?C-1:C;for(let S=0;S<b;S++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const B=Math.min(s/a,s/o);a=Math.round(a*B),o=Math.round(o*B)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[P(this,qt,sN).call(this,d),a,o]},U(J0,qt),U(J0,ep,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),U(J0,Io,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),J0);class $Q extends QW{constructor(){super(),super.updateProperties({fill:Fn._defaultLineColor,"stroke-width":0})}clone(){const e=new $Q;return e.updateAll(this),e}}class jQ extends z1{constructor(e){super(e),super.updateProperties({stroke:Fn._defaultLineColor,"stroke-width":1})}clone(){const e=new jQ(this._viewParameters);return e.updateAll(this),e}}var hd,EA,pd,tp;const Hs=class Hs extends AT{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});U(this,hd,!1);U(this,EA,null);U(this,pd,null);U(this,tp,null);this._willKeepAspectRatio=!0,_(this,pd,t.signatureData||null),_(this,EA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Fn.initialize(t,r),this._defaultDrawingOptions=new $Q,this._defaultDrawnSignatureOptions=new jQ(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return st(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,EA)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(f(this,pd)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,pd),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,b=kg.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:Hs._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(b,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,EA)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){_(this,tp,t),this.addEditToolbar()}getUuid(){return f(this,tp)}get description(){return f(this,EA)}set description(t){_(this,EA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:a}=f(this,pd),o=Math.max(s,a),l=kg.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:a,y:o}=this,{outline:l}=_(this,pd,t);_(this,hd,l instanceof nN),this.description=i;let u;f(this,hd)?u=Hs.getDefaultDrawingOptions():(u=Hs._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=r/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return kg.process(t,r,i,s,Hs._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return kg.extractContoursFromText(t,r,i,s,a,Hs._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return kg.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:Hs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=Hs.getDefaultDrawingOptions():(this._drawingOptions=Hs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,hd),color:[0,0,0],thickness:f(this,hd)?0:s});return this.addComment(a),t?(a.paths={lines:r,points:i},a.uuid=f(this,tp),a.isCopy=!0):a.lines=r,f(this,EA)&&(a.accessibilityData={type:"Figure",alt:f(this,EA)}),a}static deserializeDraw(t,r,i,s,a,o){return o.areContours?nN.deserialize(t,r,i,s,a,o):eB.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){var a;const s=await super.deserialize(t,r,i);return _(s,hd,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,tp,t.uuid),s}};hd=new WeakMap,EA=new WeakMap,pd=new WeakMap,tp=new WeakMap,Ce(Hs,"_type","signature"),Ce(Hs,"_editorType",ot.SIGNATURE),Ce(Hs,"_defaultDrawingOptions",null);let oN=Hs;var Vn,ni,gd,$l,md,Uv,jl,np,BA,sa,Pv,Nt,vw,yw,w_,b_,C_,lN,E_,YW;class AN extends Fn{constructor(t){super({...t,name:"stampEditor"});U(this,Nt);U(this,Vn,null);U(this,ni,null);U(this,gd,null);U(this,$l,null);U(this,md,null);U(this,Uv,"");U(this,jl,null);U(this,np,!1);U(this,BA,null);U(this,sa,!1);U(this,Pv,!1);_(this,$l,t.bitmapUrl),_(this,md,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Fn.initialize(t,r)}static isHandlingMimeForPasting(t){return qR.includes(t)}static paste(t,r){r.pasteEditor({mode:ot.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,ni)&&(_(this,Vn,null),this._uiManager.imageManager.deleteId(f(this,ni)),(t=f(this,jl))==null||t.remove(),_(this,jl,null),f(this,BA)&&(clearTimeout(f(this,BA)),_(this,BA,null))),super.remove()}rebuild(){if(!this.parent){f(this,ni)&&P(this,Nt,w_).call(this);return}super.rebuild(),this.div!==null&&(f(this,ni)&&f(this,jl)===null&&P(this,Nt,w_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,gd)||f(this,Vn)||f(this,$l)||f(this,md)||f(this,ni)||f(this,np))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,np)||(f(this,Vn)?P(this,Nt,b_).call(this):P(this,Nt,w_).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(_(this,ni,i),s&&_(this,Vn,s),_(this,np,!1),P(this,Nt,b_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,BA)!==null&&clearTimeout(f(this,BA)),_(this,BA,setTimeout(()=>{_(this,BA,null),P(this,Nt,lN).call(this)},200))}copyCanvas(t,r,i=!1){t||(t=224);const{width:s,height:a}=f(this,Vn),o=new Sp;let l=f(this,Vn),u=s,d=a,h=null;if(r){if(s>r||a>r){const L=Math.min(r/s,r/a);u=Math.floor(s*L),d=Math.floor(a*L)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),b=h.height=Math.ceil(d*o.sy);f(this,sa)||(l=P(this,Nt,C_).call(this,v,b));const C=h.getContext("2d");C.filter=this._uiManager.hcmFilter;let B="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":Kce.isDarkMode&&(B="#8f8f9d",S="#42414d");const I=15,T=I*o.sx,R=I*o.sy,M=new OffscreenCanvas(T*2,R*2),D=M.getContext("2d");D.fillStyle=B,D.fillRect(0,0,T*2,R*2),D.fillStyle=S,D.fillRect(0,0,T,R),D.fillRect(T,R,T,R),C.fillStyle=C.createPattern(M,"repeat"),C.fillRect(0,0,v,b),C.drawImage(l,0,0,l.width,l.height,0,0,v,b)}let g=null;if(i){let v,b;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,b=l.height;else if(l=f(this,Vn),s>t||a>t){const S=Math.min(t/s,t/a);v=Math.floor(s*S),b=Math.floor(a*S),f(this,sa)||(l=P(this,Nt,C_).call(this,v,b))}const B=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});B.drawImage(l,0,0,l.width,l.height,0,0,v,b),g={width:v,height:b,data:B.getImageData(0,0,v,b).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,r,i){var B;let s=null,a=!1;if(t instanceof dW){const{data:{rect:S,rotation:I,id:T,structParent:R,popupRef:M,richText:D,contentsObj:L,creationDate:H,modificationDate:k},container:K,parent:{page:{pageNumber:G}},canvas:z}=t;let Z,ne;z?(delete t.canvas,{id:Z,bitmap:ne}=i.imageManager.getFromCanvas(K.id,z),z.remove()):(a=!0,t._hasNoCanvas=!0);const J=((B=await r._structTree.getAriaAttributes(`${qg}${T}`))==null?void 0:B.get("aria-label"))||"";s=t={annotationType:ot.STAMP,bitmapId:Z,bitmap:ne,pageIndex:G-1,rect:S.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:J},isSvg:!1,structParent:R,popupRef:M,richText:D,comment:(L==null?void 0:L.str)||null,creationDate:H,modificationDate:k}}const o=await super.deserialize(t,r,i),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(i.addMissingCanvas(t.id,o),_(o,np,!0)):h&&i.imageManager.isValidId(h)?(_(o,ni,h),u&&_(o,Vn,u)):_(o,$l,d),_(o,sa,g);const[b,C]=o.pageDimensions;return o.width=(l[2]-l[0])/b,o.height=(l[3]-l[1])/C,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,Pv,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:f(this,ni),isSvg:f(this,sa)});if(this.addComment(i),t)return i.bitmapUrl=P(this,Nt,E_).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=P(this,Nt,YW).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=f(this,sa)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(f(this,ni)))r.stamps.set(f(this,ni),{area:o,serialized:i}),i.bitmap=P(this,Nt,E_).call(this,!1);else if(f(this,sa)){const l=r.stamps.get(f(this,ni));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=P(this,Nt,E_).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Vn=new WeakMap,ni=new WeakMap,gd=new WeakMap,$l=new WeakMap,md=new WeakMap,Uv=new WeakMap,jl=new WeakMap,np=new WeakMap,BA=new WeakMap,sa=new WeakMap,Pv=new WeakMap,Nt=new WeakSet,vw=function(t,r=!1){if(!t){this.remove();return}_(this,Vn,t.bitmap),r||(_(this,ni,t.id),_(this,sa,t.isSvg)),t.file&&_(this,Uv,t.file.name),P(this,Nt,b_).call(this)},yw=function(){if(_(this,gd,null),this._uiManager.enableWaiting(!1),!!f(this,jl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Vn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Vn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},w_=function(){if(f(this,ni)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,ni)).then(i=>P(this,Nt,vw).call(this,i,!0)).finally(()=>P(this,Nt,yw).call(this));return}if(f(this,$l)){const i=f(this,$l);_(this,$l,null),this._uiManager.enableWaiting(!0),_(this,gd,this._uiManager.imageManager.getFromUrl(i).then(s=>P(this,Nt,vw).call(this,s)).finally(()=>P(this,Nt,yw).call(this)));return}if(f(this,md)){const i=f(this,md);_(this,md,null),this._uiManager.enableWaiting(!0),_(this,gd,this._uiManager.imageManager.getFromFile(i).then(s=>P(this,Nt,vw).call(this,s)).finally(()=>P(this,Nt,yw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=qR.join(",");const r=this._uiManager._signal;_(this,gd,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),P(this,Nt,vw).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>P(this,Nt,yw).call(this))),t.click()},b_=function(){var u;const{div:t}=this;let{width:r,height:i}=f(this,Vn);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const d=Math.min(o*s/r,o*a/i);r*=d,i*=d}this._uiManager.enableWaiting(!1);const l=_(this,jl,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),P(this,Nt,lN).call(this),f(this,Pv)||(this.parent.addUndoableEditor(this),_(this,Pv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,Uv)&&this.div.setAttribute("aria-description",f(this,Uv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},C_=function(t,r){const{width:i,height:s}=f(this,Vn);let a=i,o=s,l=f(this,Vn);for(;a>2*t||o>2*r;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},lN=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new Sp,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*r*a.sy),u=f(this,jl);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,sa)?f(this,Vn):P(this,Nt,C_).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},E_=function(t){if(t){if(f(this,sa)){const s=this._uiManager.imageManager.getSvgUrl(f(this,ni));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=f(this,Vn),r.getContext("2d").drawImage(f(this,Vn),0,0),r.toDataURL()}if(f(this,sa)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*oy.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*oy.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,Vn),0,0,f(this,Vn).width,f(this,Vn).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,Vn))},YW=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Ce(AN,"_type","stamp"),Ce(AN,"_editorType",ot.STAMP);var rp,Rv,vd,yd,Wl,Cs,wd,Dv,Nv,Fo,Yl,ri,Xl,bd,Lv,ze,Ts,Cd,bn,uN,XW,tA,cN,dN,B_;let Cfe=(Ts=class{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){U(this,bn);U(this,rp);U(this,Rv,!1);U(this,vd,null);U(this,yd,null);U(this,Wl,null);U(this,Cs,new Map);U(this,wd,!1);U(this,Dv,!1);U(this,Nv,!1);U(this,Fo,null);U(this,Yl,null);U(this,ri,null);U(this,Xl,null);U(this,bd,null);U(this,Lv,-1);U(this,ze);const h=[...f(Ts,Cd).values()];if(!Ts._initialized){Ts._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,ze,e),this.pageIndex=t,this.div=r,_(this,rp,s),_(this,vd,a),this.viewport=u,_(this,ri,l),this.drawLayer=o,this._structTree=i,f(this,ze).addLayer(this)}get isEmpty(){return f(this,Cs).size===0}get isInvisible(){return this.isEmpty&&f(this,ze).getMode()===ot.NONE}updateToolbar(e){f(this,ze).updateToolbar(e)}updateMode(e=f(this,ze).getMode()){switch(P(this,bn,B_).call(this),e){case ot.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ot.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ot.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ot.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of f(Ts,Cd).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,ri))==null?void 0:t.div)}setEditingState(e){f(this,ze).setEditingState(e)}addCommands(e){f(this,ze).addCommands(e)}cleanUndoStack(e){f(this,ze).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,vd))==null||t.togglePointerEvents(e)}async enable(){var r;_(this,Nv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=f(this,bd))==null||r.abort(),_(this,bd,null);const e=new Set;for(const i of f(this,bn,uN))i.enableEditing(),i.show(!0),i.annotationElementId&&(f(this,ze).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=f(this,vd);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),f(this,ze).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,Nv,!1),f(this,ze)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(_(this,Dv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,ri)&&!f(this,bd)){_(this,bd,new AbortController);const s=f(this,ze).combinedSignal(f(this,bd));f(this,ri).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,Lv);if(d-h>500){_(this,Lv,d);return}_(this,Lv,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let b;const C=new RegExp(`^${$w}[0-9]+$`);for(const S of v)if(C.test(S.id)){b=S.id;break}if(!b)return;const B=f(this,Cs).get(b);(B==null?void 0:B.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),B.dblclick(a))},{signal:s,capture:!0})}const e=f(this,vd),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,bn,uN)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,ze).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,ze).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}P(this,bn,B_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of f(Ts,Cd).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,Dv,!1)}getEditableAnnotation(e){var t;return((t=f(this,vd))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,ze).getActive()!==e&&f(this,ze).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,ri))!=null&&e.div&&!f(this,Xl)){_(this,Xl,new AbortController);const t=f(this,ze).combinedSignal(f(this,Xl));f(this,ri).div.addEventListener("pointerdown",P(this,bn,XW).bind(this),{signal:t}),f(this,ri).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,ri))!=null&&e.div&&f(this,Xl)&&(f(this,Xl).abort(),_(this,Xl,null),f(this,ri).div.classList.remove("highlighting"))}enableClick(){if(f(this,yd))return;_(this,yd,new AbortController);const e=f(this,ze).combinedSignal(f(this,yd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,yd))==null||e.abort(),_(this,yd,null)}attach(e){f(this,Cs).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,ze).isDeletedAnnotationElement(t)&&f(this,ze).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,Cs).delete(e.id),(t=f(this,rp))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Dv)&&e.annotationElementId&&f(this,ze).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,ze).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,ze).addDeletedAnnotationElement(e),Fn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,ze).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,Nv)),f(this,ze).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Wl)&&(e._focusEventsAllowed=!1,_(this,Wl,setTimeout(()=>{_(this,Wl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,ze)._signal}),t.focus())},0))),e._structTreeParentId=(r=f(this,rp))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of f(this,Cs).values())if(t.uid===e)return t;return null}getNextId(){return f(this,ze).getId()}combinedSignal(e){return f(this,ze).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,bn,tA))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,ze).updateMode(e.mode);const{offsetX:r,offsetY:i}=P(this,bn,dN).call(this),s=this.getNextId(),a=P(this,bn,cN).call(this,{parent:this,id:s,x:r,y:i,uiManager:f(this,ze),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(Ts,Cd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,ze)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=P(this,bn,cN).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:f(this,ze),isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(P(this,bn,dN).call(this),!0,e)}setSelected(e){f(this,ze).setSelected(e)}toggleSelected(e){f(this,ze).toggleSelected(e)}unselect(e){f(this,ze).unselect(e)}pointerup(e){var i;const{isMac:t}=Ti.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,wd)||(_(this,wd,!1),(i=f(this,bn,tA))!=null&&i.isDrawer&&f(this,bn,tA).supportMultipleDrawings))return;if(!f(this,Rv)){_(this,Rv,!0);return}const r=f(this,ze).getMode();if(r===ot.STAMP||r===ot.SIGNATURE){f(this,ze).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(f(this,ze).getMode()===ot.HIGHLIGHT&&this.enableTextSelection(),f(this,wd)){_(this,wd,!1);return}const{isMac:t}=Ti.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,wd,!0),(i=f(this,bn,tA))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=f(this,ze).getActive();_(this,Rv,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,Fo)){f(this,bn,tA).startDrawing(this,f(this,ze),!1,e);return}f(this,ze).setCurrentDrawingSession(this),_(this,Fo,new AbortController);const t=f(this,ze).combinedSignal(f(this,Fo));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(_(this,Yl,null),this.commitOrRemove())},{signal:t}),f(this,bn,tA).startDrawing(this,f(this,ze),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,Yl,t);return}f(this,Yl)&&setTimeout(()=>{var t;(t=f(this,Yl))==null||t.focus(),_(this,Yl,null)},0)}endDrawingSession(e=!1){return f(this,Fo)?(f(this,ze).setCurrentDrawingSession(null),f(this,Fo).abort(),_(this,Fo,null),_(this,Yl,null),f(this,bn,tA).endDrawing(e)):null}findNewParent(e,t,r){const i=f(this,ze).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return f(this,Fo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,Fo)&&f(this,bn,tA).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,ze).getActive())==null?void 0:e.parent)===this&&(f(this,ze).commitOrRemove(),f(this,ze).setActiveEditor(null)),f(this,Wl)&&(clearTimeout(f(this,Wl)),_(this,Wl,null));for(const r of f(this,Cs).values())(t=f(this,rp))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,f(this,Cs).clear(),f(this,ze).removeLayer(this)}render({viewport:e}){this.viewport=e,Bp(this.div,e);for(const t of f(this,ze).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,ze).commitOrRemove(),P(this,bn,B_).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Bp(this.div,{rotation:r}),t!==r)for(const i of f(this,Cs).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,ze).viewParameters.realScale}},rp=new WeakMap,Rv=new WeakMap,vd=new WeakMap,yd=new WeakMap,Wl=new WeakMap,Cs=new WeakMap,wd=new WeakMap,Dv=new WeakMap,Nv=new WeakMap,Fo=new WeakMap,Yl=new WeakMap,ri=new WeakMap,Xl=new WeakMap,bd=new WeakMap,Lv=new WeakMap,ze=new WeakMap,Cd=new WeakMap,bn=new WeakSet,uN=function(){return f(this,Cs).size!==0?f(this,Cs).values():f(this,ze).getEditors(this.pageIndex)},XW=function(e){f(this,ze).unselectAll();const{target:t}=e;if(t===f(this,ri).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,ri).div.contains(t)){const{isMac:r}=Ti.platform;if(e.button!==0||e.ctrlKey&&r)return;f(this,ze).showAllEditors("highlight",!0,!0),f(this,ri).div.classList.add("free"),this.toggleDrawing(),oT.startHighlighting(this,f(this,ze).direction==="ltr",{target:f(this,ri).div,x:e.x,y:e.y}),f(this,ri).div.addEventListener("pointerup",()=>{f(this,ri).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,ze)._signal}),e.preventDefault()}},tA=function(){return f(Ts,Cd).get(f(this,ze).getMode())},cN=function(e){const t=f(this,bn,tA);return t?new t.prototype.constructor(e):null},dN=function(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},B_=function(){for(const e of f(this,Cs).values())e.isEmpty()&&e.remove()},Ce(Ts,"_initialized",!1),U(Ts,Cd,new Map([zD,tN,AN,oT,oN].map(e=>[e._editorType,e]))),Ts);var Mo,Xi,ip,rr,sE,I1,JW,NA,fN,ZW,hN;let Efe=(rr=class{constructor({pageIndex:e}){U(this,NA);U(this,Mo,null);U(this,Xi,new Map);U(this,ip,new Map);this.pageIndex=e}setParent(e){if(!f(this,Mo)){_(this,Mo,e);return}if(f(this,Mo)!==e){if(f(this,Xi).size>0)for(const t of f(this,Xi).values())t.remove(),e.append(t);_(this,Mo,e)}}static get _svgFactory(){return st(this,"_svgFactory",new sT)}draw(e,t=!1,r=!1){const i=ur(rr,sE)._++,s=P(this,NA,fN).call(this),a=rr._svgFactory.createElement("defs");s.append(a);const o=rr._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,ip).set(i,o);const u=r?P(this,NA,ZW).call(this,a,l):null,d=rr._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,Xi).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=ur(rr,sE)._++,i=P(this,NA,fN).call(this),s=rr._svgFactory.createElement("defs");i.append(s);const a=rr._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=rr._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=rr._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=rr._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=rr._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),f(this,Xi).set(r,i),r}finalizeDraw(e,t){f(this,ip).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,Xi).get(e):e;if(o){if(r&&P(this,NA,hN).call(this,o,r),i&&P(l=rr,I1,JW).call(l,o,i),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;P(this,NA,hN).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const r=f(this,Xi).get(e);r&&(f(t,Mo).append(r),f(this,Xi).delete(e),f(t,Xi).set(e,r))}remove(e){f(this,ip).delete(e),f(this,Mo)!==null&&(f(this,Xi).get(e).remove(),f(this,Xi).delete(e))}destroy(){_(this,Mo,null);for(const e of f(this,Xi).values())e.remove();f(this,Xi).clear(),f(this,ip).clear()}},Mo=new WeakMap,Xi=new WeakMap,ip=new WeakMap,sE=new WeakMap,I1=new WeakSet,JW=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},NA=new WeakSet,fN=function(){const e=rr._svgFactory.create(1,1,!0);return f(this,Mo).append(e),e.setAttribute("aria-hidden",!0),e},ZW=function(e,t){const r=rr._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=rr._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},hN=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},U(rr,I1),U(rr,sE,0),rr);globalThis._pdfjsTestingUtils={HighlightOutliner:$D};globalThis.pdfjsLib={AbortException:Wd,AnnotationEditorLayer:Cfe,AnnotationEditorParamsType:_t,AnnotationEditorType:ot,AnnotationEditorUIManager:Yw,AnnotationLayer:vfe,AnnotationMode:Fc,AnnotationType:Tr,applyOpacity:zce,build:Xde,ColorPicker:eW,createValidAbsoluteUrl:H6,CSSConstants:Gce,DOMSVGFactory:sT,DrawLayer:Efe,FeatureTest:Ti,fetchData:WE,findContrastColor:qce,getDocument:GQ,getFilenameFromUrl:Qce,getPdfFilenameFromUrl:kce,getRGB:XE,getUuid:G6,getXfaPageViewport:Hce,GlobalWorkerOptions:lu,ImageKind:zx,InvalidPDFException:VR,isDataScheme:K1,isPdfFile:OQ,isValidExplicitDest:nde,MathClamp:ts,noContextMenu:oo,normalizeUnicode:Dce,OPS:jw,OutputScale:Sp,PasswordResponses:xce,PDFDataRangeTransport:Yj,PDFDateString:GR,PDFWorker:ID,PermissionFlag:Sce,PixelsPerInch:oy,RenderingCancelledException:kQ,renderRichText:$6,ResponseException:Z_,setLayerDimensions:Bp,shadow:st,SignatureExtractor:kg,stopEvent:ar,SupportedImageMimeTypes:qR,TextLayer:SD,TouchManager:hj,updateUrlHash:V6,Util:Ve,VerbosityLevel:O1,version:Zj,XfaLayer:q6};lu.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const Bfe=async n=>{try{const e=await n.arrayBuffer(),t=await GQ({data:e}).promise;let r="",i=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");r+=h+" ",h.trim().length>0&&i.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:i}}catch(e){throw console.error("PDF Processing Error:",e),e}},Sfe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},Nw=n=>{var r,i,s;const e=typeof import.meta<"u"&&((i=(r=import.meta)==null?void 0:r.env)==null?void 0:i[n]),t=typeof process<"u"&&((s=process==null?void 0:process.env)==null?void 0:s[n]);return(e||t||"").toString().trim()},xfe=()=>{const n=Nw("GEMINI_API_KEY")||Nw("VITE_API_KEY"),e=Nw("API_KEY");return n||e},zK=n=>n?n.startsWith("models/")?n:`models/${n}`:"",eY=zK(Nw("GEMINI_TTS_MODEL"))||zK(Nw("VITE_GEMINI_TTS_MODEL"))||"models/gemini-2.0-flash",_fe=`https://generativelanguage.googleapis.com/v1beta/${eY}:generateContent`,Tfe=async(n,e)=>{var C,B,S,I,T,R;const t=eY,r=/-tts\b/.test(t),i=xfe();if(!i)throw new Error("API key is missing. Set GEMINI_API_KEY (or VITE_API_KEY/API_KEY).");const s=r?{responseMimeType:"audio/pcm"}:{responseModalities:["AUDIO"]};e!=null&&e.voiceName&&(s.speechConfig={voiceConfig:{prebuiltVoiceConfig:{voiceName:e.voiceName}}});const a={contents:[{role:"user",parts:[{text:n}]}],generationConfig:s},o=await fetch(`${_fe}?key=${encodeURIComponent(i)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const M=await o.text();throw new Error(`Gemini TTS request failed: ${o.status} ${M}`)}const l=await o.json(),u=((I=(S=(B=(C=l==null?void 0:l.candidates)==null?void 0:C[0])==null?void 0:B.content)==null?void 0:S.parts)==null?void 0:I.find(M=>{var D;return(D=M.inlineData)==null?void 0:D.data}))||null,d=(T=u==null?void 0:u.inlineData)==null?void 0:T.data,h=((R=u==null?void 0:u.inlineData)==null?void 0:R.mimeType)||"audio/mp3";if(!d)throw new Error("Gemini TTS response missing audio data.");const g=Uint8Array.from(atob(d),M=>M.charCodeAt(0)),v=new Blob([g],{type:h});return{audioUrl:URL.createObjectURL(v),mimeType:h}},pN={RMS_BM:!1,RMS_DR:!1,RMS_LK:!1,RMS_PR:!1,RMS_MM:!1},qK=[{rmsTp:"RMS_BM",rmsTs:0},{rmsTp:"RMS_DR",rmsTs:0},{rmsTp:"RMS_LK",rmsTs:0},{rmsTp:"RMS_PR",rmsTs:0},{rmsTp:"RMS_MM",rmsTs:0}],q1=(n,e)=>{if(!n)return e;try{return JSON.parse(n)}catch{return e}},$K=n=>n.toString().padStart(2,"0"),Ife=n=>`${$K(n.getMonth()+1)}/${$K(n.getDate())}`,Ffe=n=>{const e=n.trim();return e?e.replace(/\/+$/,"").replace(/\/v2$/i,""):""},Mfe=()=>{if(typeof window>"u")return"";const n=window.location.pathname.match(/(?:^|\/)((?:BO|CT)(?:-[A-Za-z0-9]+)+)(?:\/|$)/);return(n==null?void 0:n[1])||""},Ufe=()=>{if(typeof window>"u")return"";const n=new URLSearchParams(window.location.search);return(n.get("rmsToken")||n.get("rmsAuthToken")||void 0||sessionStorage.getItem("jwt")||"").trim()},tY=()=>{const n=Ufe(),e={"Content-Type":"application/json; charset=utf-8"};return n&&(e.Authorization=/^Bearer\s+/i.test(n)?n:`Bearer ${n}`),e},jK=n=>{if(Array.isArray(n))return n.filter(e=>e&&typeof e=="object");if(typeof n=="string"&&n.trim()){const e=q1(n,null);return Array.isArray(e)?e:null}return null},Pfe=async n=>{if(!n||typeof n!="object")return null;const e=jK(n.rmsData);if(e&&e.length>0)return e;if(typeof n.webPath!="string"||!n.webPath.trim())return null;try{const t=n.webPath.includes("?")?`${n.webPath}&t=${Date.now()}`:`${n.webPath}?t=${Date.now()}`,i=await(await fetch(t)).text(),s=jK(i);return s&&s.length>0?s:null}catch{return null}},Rfe=()=>{if(typeof window>"u")return null;const n=["progress_","rmsStatus_","rmsVerList_","bookmark_","drawing_","weblink_","memo_"],e=Object.keys(localStorage).find(s=>n.some(a=>s.startsWith(a)));if(!e)return null;const t=n.reduce((s,a)=>s.startsWith(a)?s.slice(a.length):s,e),[r,...i]=t.split("_");return!r||i.length===0?null:{memberCd:r,bookCd:i.join("_")}},nY=(n,e)=>`${e}_${n}`,lT=n=>`rmsStatus_${n}`,gN=n=>`rmsVerList_${n}`,Dfe=n=>`progress_${n}`,Nfe=n=>(localStorage.setItem(lT(n),JSON.stringify(pN)),{...pN}),rY=n=>{const e=q1(localStorage.getItem(lT(n)),null),t={...pN,...e&&typeof e=="object"?e:{}};return localStorage.setItem(lT(n),JSON.stringify(t)),t},WQ=n=>{const e=q1(localStorage.getItem(gN(n)),null);return Array.isArray(e)&&e.length>0?e:(localStorage.setItem(gN(n),JSON.stringify(qK)),[...qK])},Lfe=(n,e,t)=>{const r=WQ(n),i=r.find(s=>s.rmsTp===e);i?i.rmsTs=t:r.push({rmsTp:e,rmsTs:t}),localStorage.setItem(gN(n),JSON.stringify(r))},Qfe=({localStoragePath:n,pageIndex:e,viewMode:t,level:r})=>{const i=Dfe(n),s=q1(localStorage.getItem(i),[]),a=new Date,o={idx:e,level:typeof r=="number"?r:e,regdate:Ife(a),timestamp:a.getTime(),mode:t},l=[...s,o];localStorage.setItem(i,JSON.stringify(l));const u=rY(n);return u.RMS_PR=!0,localStorage.setItem(lT(n),JSON.stringify(u)),l},WK=()=>{if(typeof window>"u")return null;const n=new URLSearchParams(window.location.search),e=Rfe(),t=Mfe(),r=n.get("rmsApiBase")||"https://o2o-gwapi-devqa.campusbook.co.kr",i=Ffe(r),s=n.get("bookCd")||void 0||t||(e==null?void 0:e.bookCd)||"",a=n.get("memberCd")||void 0||(e==null?void 0:e.memberCd)||"guest",l=(n.get("orderIgnore")||void 0||"").toUpperCase()==="Y",u=n.get("rmsPageOffset")||void 0||"0",d=Number(u)||0;return!i||!s?null:{apiBase:i,bookCd:s,memberCd:a,orderIgnore:l,pageOffset:d}},kfe=async({apiBase:n,bookCd:e,memberCd:t,orderIgnore:r,pageOffset:i})=>{var B;if(typeof window>"u")return null;if(!n||!e)throw new Error("Missing RMS configuration (apiBase/bookCd).");const s=nY(e,t),a=WQ(s),o={bookCd:e,orderIgnore:r,rmsList:a},u=await fetch(`${n}/v3/rms/rmsData${r?"?orderIgnore=Y":""}`,{method:"POST",headers:tY(),body:JSON.stringify(o)});let d=null;try{d=await u.json()}catch{d=null}if(!u.ok){const S=(d==null?void 0:d.message)||(d==null?void 0:d.error)||`RMS fetch failed (${u.status})`;throw new Error(S)}const h=(B=d==null?void 0:d.result)==null?void 0:B.rmsList;if(!Array.isArray(h))return null;const g=h.find(S=>(S==null?void 0:S.rmsTp)==="RMS_PR"),v=await Pfe(g);if(!v||v.length===0)return null;const b=v.reduce((S,I)=>{const T=Number.isFinite(S.timestamp)?S.timestamp:-1;return(Number.isFinite(I.timestamp)?I.timestamp:-1)>T?I:S},v[0]),C=Number.isFinite(b.idx)?b.idx:b.level;return Number.isFinite(C)?Math.max(1,Math.round(C-i)):null},Ofe=async({apiBase:n,bookCd:e,memberCd:t,orderIgnore:r,pageOffset:i,pageIndex:s,viewMode:a})=>{var C;if(typeof window>"u")throw new Error("RMS is only available in the browser.");if(!n||!e)throw new Error("Missing RMS configuration (apiBase/bookCd).");const o=nY(e,t);rY(o),WQ(o);const l=Number.isFinite(s)?s:0,u=Math.max(0,Math.round(l+i)),d=Qfe({localStoragePath:o,pageIndex:u,viewMode:a}),h={bookCd:e,rmsList:[{rmsTp:"RMS_PR",rmsData:JSON.stringify(d)}]},v=await fetch(`${n}/v2/rms/rmsData${r?"?orderIgnore=Y":""}`,{method:"PUT",headers:tY(),body:JSON.stringify(h)});let b=null;try{b=await v.json()}catch{b=null}if(!v.ok){const B=(b==null?void 0:b.message)||(b==null?void 0:b.error)||`RMS save failed (${v.status})`;throw new Error(B)}return(C=b==null?void 0:b.result)!=null&&C.rmsTs&&Lfe(o,"RMS_PR",b.result.rmsTs),Nfe(o),b},Hfe=`<?xml version="1.0" encoding="utf-8"?>\r
<!DOCTYPE html>\r
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="ko" xml:lang="ko">\r
<head>\r
  <title>QT-25031709039769561</title>\r
  <meta charset="utf-8"/>\r
</head>\r
\r
<body>\r
  <h1>QT-25031709039769561</h1>\r
  <nav epub:type="toc" id="toc">\r
    <h2></h2>\r
    <ol>\r
    <li><a href="p0007_s.xhtml"></a></li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0019_s.xhtml">UNIT 1 </a>\r
      <ol>\r
      <li><a href="p0021_s.xhtml">CHAPTER 01   </a></li>\r
      <li><a href="p0035_s.xhtml">CHAPTER 02   </a></li>\r
      <li><a href="p0065_s.xhtml">CHAPTER 03   ,  -   </a></li>\r
      <li><a href="p0119_s.xhtml">CHAPTER 04   </a></li>\r
      <li><a href="p0149_s.xhtml">CHAPTER 05   </a></li>\r
      <li><a href="p0173_s.xhtml">CHAPTER 06   </a></li>\r
      <li><a href="p0221_s.xhtml">CHAPTER 07   </a></li>\r
      <li><a href="p0245_s.xhtml">CHAPTER 08   </a></li>\r
      <li><a href="p0287_s.xhtml">CHAPTER 09 </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0301_s.xhtml">UNIT 2  </a>\r
      <ol>\r
      <li><a href="p0303_s.xhtml">CHAPTER 10  </a></li>\r
      <li><a href="p0325_s.xhtml">CHAPTER 11    </a></li>\r
      <li><a href="p0391_s.xhtml">CHAPTER 12  </a></li>\r
      <li><a href="p0401_s.xhtml">CHAPTER 13   </a></li>\r
      <li><a href="p0449_s.xhtml">CHAPTER 14   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0475_s.xhtml">UNIT 3  </a>\r
      <ol>\r
      <li><a href="p0477_s.xhtml">CHAPTER 15  </a></li>\r
      <li><a href="p0503_s.xhtml">CHAPTER 16   </a></li>\r
      <li><a href="p0519_s.xhtml">CHAPTER 17   </a></li>\r
      <li><a href="p0531_s.xhtml">CHAPTER 18    </a></li>\r
      <li><a href="p0543_s.xhtml">CHAPTER 19    </a></li>\r
      <li><a href="p0553_s.xhtml">CHAPTER 20   </a></li>\r
      <li><a href="p0567_s.xhtml">CHAPTER 21  </a></li>\r
      <li><a href="p0577_s.xhtml">CHAPTER 22   </a></li>\r
      <li><a href="p0587_s.xhtml">CHAPTER 23   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0601_s.xhtml">UNIT 4  </a>\r
      <ol>\r
      <li><a href="p0603_s.xhtml">CHAPTER 24  </a></li>\r
      <li><a href="p0627_s.xhtml">CHAPTER 25   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0663_s.xhtml">UNIT 5  </a>\r
      <ol>\r
      <li><a href="p0665_s.xhtml">CHAPTER 26  </a></li>\r
      <li><a href="p0685_s.xhtml">CHAPTER 27    </a></li>\r
      <li><a href="p0697_s.xhtml">CHAPTER 28   </a></li>\r
      <li><a href="p0709_s.xhtml">CHAPTER 29   </a></li>\r
      <li><a href="p0725_s.xhtml">CHAPTER 30   </a></li>\r
      <li><a href="p0747_s.xhtml">CHAPTER 31   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0757_s.xhtml"></a></li>\r
    </ol>\r
\r
  </nav>\r
</body>\r
</html>\r
`,Vfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],Kfe=n=>{if(typeof window>"u")return{chapters:[],pageMap:{}};try{const t=new DOMParser().parseFromString(n,"application/xhtml+xml"),r=t.querySelector("nav#toc")||t.querySelector('nav[epub\\:type="toc"]');if(!r)return{chapters:[],pageMap:{}};const i=new Set,s=Array.from(r.querySelectorAll("a")),a={};return{chapters:s.map((l,u)=>{const d=(l.textContent||"").replace(/\s+/g," ").trim();if(!d)return null;const h=l.getAttribute("href")||`toc-${u+1}`,v=h.replace(/[^a-zA-Z0-9_-]+/g,"-").replace(/^-+|-+$/g,"")||`toc-${u+1}`;let b=v,C=1;for(;i.has(b);)b=`${v}-${C++}`;i.add(b);const B=h.match(/p0*([0-9]+)_/i)||h.match(/p0*([0-9]+)/i);if(B&&B[1]){const S=parseInt(B[1],10);Number.isFinite(S)&&(a[b]=S)}return{id:b,title:d,content:""}}).filter(Boolean),pageMap:a}}catch(e){return console.error("Failed to parse nav.xhtml",e),{chapters:[],pageMap:{}}}},iY=F.createContext(void 0),Gfe=({children:n})=>{const[e,t]=F.useState(Vfe),[r,i]=F.useState(null),[s,a]=F.useState([]),[o,l]=F.useState(!1),[u,d]=F.useState(0),[h,g]=F.useState("medium"),[v,b]=F.useState("light"),[C,B]=F.useState("single"),[S,I]=F.useState(!0),[T,R]=F.useState(()=>{if(typeof window>"u")return[];try{const pe=localStorage.getItem("pdfBookmarks");if(!pe)return[];const _e=JSON.parse(pe);if(Array.isArray(_e))return _e.map(Ie=>Ie&&typeof Ie=="object"&&"page"in Ie?Ie:typeof Ie=="number"?{id:`migrated-${Ie}`,page:Ie,label:`Page ${Ie}`,createdAt:Date.now()}:null).filter(Boolean)}catch(pe){console.error("Failed to parse stored pdfBookmarks",pe)}return[]}),[M,D]=F.useState([]),[L,H]=F.useState(null),[k,K]=F.useState("idle"),[G,z]=F.useState("#ef4444"),[Z,ne]=F.useState(3),[J,V]=F.useState(1),[$,re]=F.useState({}),[de,Ee]=F.useState([]),[q,Y]=F.useState(!1),[Ae,me]=F.useState(null),[ie,he]=F.useState([]),[ce,Se]=F.useState(!0),[ee,Me]=F.useState("ai"),[Te,ve]=F.useState(""),[vt,$e]=F.useState(!1),[Gt,It]=F.useState(null),[zn,nt]=F.useState({voice:"Kore",speed:1,continuous:!0}),[yr,Yn]=F.useState({}),en=F.useRef(null),ya=F.useRef(null),wa=F.useRef(!1),tn=F.useRef(!1),xe=pe=>{nt(_e=>({..._e,...pe}))},te=pe=>{const _e=pe.trim();if(!_e)return[];const Ie=_e.match(/[^.!?]+[.!?]?/g);return Ie&&Ie.length>0?Ie.map(De=>De.trim()).filter(Boolean):[_e]},Be=pe=>pe.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),Ue=()=>{var Ie;if(or.length>0){const De=[...or].sort((Un,GA)=>Un.page-GA.page),gt=we||((Ie=De[0])==null?void 0:Ie.page)||1,$t=[];let Pt=0;return De.forEach(Un=>{const GA=Be(Un.text||""),Op=te(GA);Un.page<gt&&(Pt+=Op.length),$t.push(...Op)}),{sentences:$t,defaultStartIndex:Pt}}const pe=Be(Ut.content);return{sentences:te(pe),defaultStartIndex:0}},pt=()=>{en.current&&(en.current.pause(),en.current.src="",en.current=null),ya.current&&(URL.revokeObjectURL(ya.current),ya.current=null)},Ke=async pe=>{if(wa.current)return;if(en.current&&en.current.paused&&!en.current.ended){await en.current.play().catch(()=>{}),$e(!0);return}pt();const{sentences:_e,defaultStartIndex:Ie}=Ue();if(_e.length===0){alert("  .");return}const De=typeof pe=="number"&&pe>=0&&pe<_e.length?pe:Math.min(Ie,_e.length-1),$t=_e.slice(De).join(" ").slice(0,8e3);if(!$t){alert("  .");return}try{wa.current=!0,$e(!0),It(De);const{audioUrl:Pt}=await Tfe($t,{voiceName:zn.voice}),Un=new Audio(Pt);Un.playbackRate=zn.speed,ya.current=Pt,en.current=Un,Un.onended=()=>{$e(!1),It(null),pt()},Un.onerror=()=>{$e(!1),It(null),pt()},await Un.play().catch(GA=>{console.error("Audio playback failed",GA),$e(!1)})}catch(Pt){console.error("Gemini TTS failed",Pt),alert("TTS    ."),$e(!1),It(null)}finally{wa.current=!1}},pn=()=>{en.current&&en.current.pause(),$e(!1)},Ft=()=>{pt(),$e(!1),It(null)},[Bn,St]=F.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),[or,wr]=F.useState([]),[we,Le]=F.useState(1),[et,Mt]=F.useState(null),[gn,nn]=F.useState(null),[Sn,Mn]=F.useState(null),Ut=e[u];F.useEffect(()=>{window.innerWidth<1024&&Se(!1)},[]),F.useEffect(()=>{const pe=setInterval(()=>{document.visibilityState==="visible"&&Us()},5e3);return()=>clearInterval(pe)},[]),F.useEffect(()=>{St(pe=>({...pe,chapterVisits:{...pe.chapterVisits,[Ut.id]:(pe.chapterVisits[Ut.id]||0)+1}}))},[Ut.id]),F.useEffect(()=>{try{localStorage.setItem("pdfBookmarks",JSON.stringify(T))}catch(pe){console.error("Failed to persist pdfBookmarks",pe)}},[T]),F.useEffect(()=>{const{chapters:pe,pageMap:_e}=Kfe(Hfe);pe.length>0&&(t(pe),Yn(_e),d(0))},[]);const Us=()=>{St(pe=>({...pe,totalReadingTime:pe.totalReadingTime+5}))},Gi=()=>{St(pe=>({...pe,aiInteractionCount:pe.aiInteractionCount+1}))},ba=tm.useCallback(pe=>{if(e.length===0||Object.keys(yr).length===0)return-1;let _e=-1,Ie=Number.NEGATIVE_INFINITY,De=-1,gt=Number.POSITIVE_INFINITY;return e.forEach(($t,Pt)=>{const Un=yr[$t.id];Un&&(Un<=pe&&Un>Ie&&(Ie=Un,_e=Pt),Un<gt&&(gt=Un,De=Pt))}),_e!==-1?_e:De},[e,yr]);F.useEffect(()=>{const pe=ba(we);pe!==-1&&pe!==u&&d(pe)},[we,ba,u]);const zi=()=>{b(pe=>pe==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},HA=()=>I(pe=>!pe),lf=(pe,_e)=>{!pe||pe<1||R(Ie=>Ie.some(gt=>gt.page===pe)?Ie:[{id:Date.now().toString(),page:pe,label:_e||`Page ${pe}`,createdAt:Date.now()},...Ie])},kp=pe=>{R(_e=>_e.filter(Ie=>Ie.id!==pe))},Ii=()=>{H(null)},Qy=()=>{u<e.length-1&&uf(u+1)},ky=()=>{u>0&&uf(u-1)},uf=pe=>{if(pe>=0&&pe<e.length){Ii(),d(pe);const _e=e[pe],Ie=yr[_e.id];Ie&&Yu(Ie)}},SB=async pe=>{l(!0);try{const _e=await Bfe(pe);_e.chapters.length>0?(t(_e.chapters),d(0),a(_e.chunks),i(null),Se(!0),Me("ai"),alert(`"${pe.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(_e){console.error("PDF Load Failed",_e),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},qo=(pe,_e,Ie,De)=>{const gt=Ie||Ut.id,$t={id:Date.now().toString(),chapterId:gt,text:pe,color:"yellow",pageNumber:De,note:_e,createdAt:Date.now()};return D(Pt=>[$t,...Pt]),St(Pt=>({...Pt,highlightCount:Pt.highlightCount+1})),$t.id},br=(pe,_e)=>{D(Ie=>Ie.map(De=>De.id===pe?{...De,..._e}:De))},Fi=pe=>{D(_e=>_e.filter(Ie=>Ie.id!==pe))},VA=pe=>{I(!0),H(pe),setTimeout(()=>H(null),2e3)},Oy=pe=>{const _e=typeof pe=="string"?M.find(Ie=>Ie.id===pe):pe;if(_e){if(_e.chapterId==="reference-doc"&&!_e.pageNumber&&we&&br(_e.id,{pageNumber:we}),_e.chapterId==="reference-doc"&&_e.pageNumber)Yu(_e.pageNumber);else{const Ie=e.findIndex(De=>De.id===_e.chapterId);Ie>=0&&uf(Ie)}VA(_e.id)}},VI=(pe,_e)=>{re(Ie=>({...Ie,[pe]:[...Ie[pe]||[],_e]}))},KI=(pe,_e)=>{re(Ie=>({...Ie,[pe]:(Ie[pe]||[]).filter(De=>De.id!==_e)}))},xB=pe=>($[pe]||[]).length>0,$u=(pe,_e)=>{const Ie={id:Date.now().toString(),title:pe||"Untitled Note",content:_e,chapterId:Ut.id,chapterTitle:Ut.title,createdAt:Date.now(),updatedAt:Date.now()};Ee(De=>[Ie,...De])},Hy=(pe,_e,Ie)=>{Ee(De=>De.map(gt=>gt.id===pe?{...gt,title:_e,content:Ie,updatedAt:Date.now()}:gt))},ju=pe=>{Ee(_e=>_e.filter(Ie=>Ie.id!==pe))},Wu=pe=>{let _e=pe.content.replace(/<[^>]+>/g,"");const Ie=new Blob([`# ${pe.title}

${_e}`],{type:"text/markdown"}),De=URL.createObjectURL(Ie),gt=document.createElement("a");gt.href=De,gt.download=`${pe.title.replace(/\s+/g,"_")}.md`,gt.click(),URL.revokeObjectURL(De)},cf=async pe=>{const _e=await pe.text();let Ie=pe.name.replace(".md","").replace(".json",""),De=_e.replace(/\n/g,"<br>");$u(Ie,De)},$o=(pe,_e)=>{const Ie={id:Date.now().toString(),role:pe,text:_e,timestamp:Date.now()};he(De=>[...De,Ie])},Cr=async pe=>{Se(!0),Me("ai");const _e=`Explain: "${pe}"`;$o("user",_e),Gi();let Ie=Ut.content.substring(0,2e3);if(s.length>0){const gt=Sfe(pe,s);gt&&(Ie=gt)}const De=await O6(pe,Ie);$o("model",De)},_B=pe=>{if(!pe||pe.length<2)return[];const _e=[],Ie=pe.toLowerCase();return e.forEach(De=>{const gt=De.content.replace(/<[^>]+>/g," "),$t=gt.toLowerCase().indexOf(Ie);if($t!==-1){const Pt=Math.max(0,$t-40),Un=Math.min(gt.length,$t+40+pe.length),GA=(Pt>0?"...":"")+gt.substring(Pt,Un)+(Un<gt.length?"...":"");_e.push({id:`ch-${De.id}-${$t}`,type:"chapter",title:De.title,contentSnippet:GA,chapterId:De.id,matchIndex:$t})}}),M.forEach(De=>{(De.text.toLowerCase().includes(Ie)||De.note&&De.note.toLowerCase().includes(Ie))&&_e.push({id:`hl-${De.id}`,type:"highlight",title:"Highlight",contentSnippet:De.note?`${De.text} - ${De.note}`:De.text,chapterId:De.chapterId,pageNumber:De.pageNumber})}),de.forEach(De=>{const gt=De.content.replace(/<[^>]+>/g," ");(De.title.toLowerCase().includes(Ie)||gt.toLowerCase().includes(Ie))&&_e.push({id:`note-${De.id}`,type:"note",title:De.title,contentSnippet:gt.substring(0,80)+"...",chapterId:De.chapterId})}),or.forEach(De=>{const gt=De.text.toLowerCase().indexOf(Ie);if(gt!==-1){const $t=Math.max(0,gt-40),Pt=Math.min(De.text.length,gt+40+pe.length),Un=($t>0?"...":"")+De.text.substring($t,Pt)+(Pt<De.text.length?"...":"");_e.push({id:`pdf-${De.page}-${gt}`,type:"pdf",title:`p.${De.page}`,contentSnippet:Un,pageNumber:De.page})}}),_e},Yu=pe=>{const _e=Number.isFinite(pe)?Math.max(1,Math.round(pe)):1;Ii(),Le(_e),et?et(_e):nn(_e)},KA=tm.useCallback(pe=>{Mt(()=>pe),gn!==null&&(pe(gn),nn(null))},[gn]);F.useEffect(()=>{if(tn.current)return;const pe=WK();if(!pe)return;tn.current=!0,(async()=>{try{const Ie=await kfe(pe);Ie&&Yu(Ie)}catch(Ie){console.error("Failed to load RMS progress",Ie)}})()},[Yu]);const Xu=tm.useCallback(pe=>{wr(pe)},[]),GI=async()=>{const pe=WK();if(!pe){alert("RMS  . (VITE_RMS_API_BASE, VITE_RMS_BOOK_CD)");return}try{await Ofe({apiBase:pe.apiBase,bookCd:pe.bookCd,memberCd:pe.memberCd,orderIgnore:pe.orderIgnore,pageOffset:pe.pageOffset,pageIndex:we,viewMode:C}),alert("Progress Saved!")}catch(_e){const Ie=_e instanceof Error?_e.message:String(_e);console.error("Failed to save progress",_e),alert(`Progress Save Failed: ${Ie}`)}};return Q.jsx(iY.Provider,{value:{chapters:e,referenceDocument:r,currentChapterIndex:u,currentChapter:Ut,goToNextChapter:Qy,goToPrevChapter:ky,goToChapter:uf,uploadBook:SB,isProcessing:o,fontSize:h,setFontSize:g,viewMode:C,setViewMode:B,theme:v,toggleTheme:zi,showAnnotations:S,toggleAnnotations:HA,bookmarks:T,addPdfBookmark:lf,removePdfBookmark:kp,highlights:M,addHighlight:qo,updateHighlight:br,removeHighlight:Fi,activeHighlightId:L,focusHighlight:VA,drawingMode:k,setDrawingMode:K,penColor:G,setPenColor:z,penWidth:Z,setPenWidth:ne,penOpacity:J,setPenOpacity:V,chapterStrokes:$,addStroke:VI,removeStroke:KI,hasStrokes:xB,generalNotes:de,addGeneralNote:$u,updateGeneralNote:Hy,removeGeneralNote:ju,importNotes:cf,exportNoteAsMarkdown:Wu,isCaptureMode:q,setCaptureMode:Y,capturedImage:Ae,setCapturedImage:me,aiChatHistory:ie,addChatMessage:$o,triggerSmartExplain:Cr,isToolsOpen:ce,setToolsOpen:Se,activeToolTab:ee,setActiveToolTab:Me,searchQuery:Te,setSearchQuery:ve,performSearch:_B,isTtsPlaying:vt,currentTtsSegmentIndex:Gt,ttsConfig:zn,setTtsConfig:xe,startTts:Ke,stopTts:Ft,pauseTts:pn,stats:Bn,incrementAiCount:Gi,updateReadingTime:Us,saveProgress:GI,pdfTextPages:or,setPdfTextPages:Xu,goToPdfPage:Yu,goToHighlight:Oy,registerPdfNavigator:KA,pdfSearchHighlight:Sn,setPdfSearchHighlight:Mn,currentPdfPage:we,setCurrentPdfPage:Le},children:n})},rf=()=>{const n=F.useContext(iY);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),YK=n=>{const e=qfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},sY=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),$fe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>F.createElement("svg",{ref:l,...jfe,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:sY("lucide",i),...!s&&!$fe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>F.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(n,e)=>{const t=F.forwardRef(({className:r,...i},s)=>F.createElement(Wfe,{ref:s,iconNode:e,className:sY(`lucide-${zfe(YK(n))}`,`lucide-${n}`,r),...i}));return t.displayName=YK(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Xfe=tt("bold",Yfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Zfe=tt("book-open",Jfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],mN=tt("book",ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],nhe=tt("bookmark-check",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],ihe=tt("bookmark-plus",rhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],XK=tt("bookmark",she);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],JK=tt("bot",ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ahe=tt("camera",ohe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uhe=tt("chevron-left",lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dhe=tt("chevron-right",che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hhe=tt("clock",fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],ghe=tt("columns-2",phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vhe=tt("ellipsis-vertical",mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],whe=tt("eraser",yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Che=tt("eye",bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ZK=tt("file-text",Ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],aY=tt("file-up",Bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eG=tt("funnel",She);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],S_=tt("highlighter",xhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],The=tt("list",_he);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fhe=tt("loader-circle",Ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uhe=tt("log-out",Mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rhe=tt("message-circle-question-mark",Phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pU=tt("message-square",Dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Lhe=tt("minus",Nhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],khe=tt("panel-left",Qhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Hhe=tt("panel-right",Ohe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Khe=tt("pause",Vhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zhe=tt("pen-line",Ghe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],oY=tt("pen-tool",qhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jhe=tt("pen",$he);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Yhe=tt("play",Whe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vN=tt("plus",Xhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Zhe=tt("printer",Jhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AY=tt("save",epe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gU=tt("search",tpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],rpe=tt("settings-2",npe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],spe=tt("square",ipe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],ope=tt("sticky-note",ape);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],lpe=tt("table",Ape);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yN=tt("trash-2",upe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],dpe=tt("type",cpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hpe=tt("upload",fpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],gpe=tt("volume-2",ppe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tG=tt("x",mpe),lY=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:r,viewMode:i,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:b,showAnnotations:C,toggleAnnotations:B,isToolsOpen:S,setToolsOpen:I,bookmarks:T,addPdfBookmark:R,removePdfBookmark:M,currentPdfPage:D,uploadBook:L,isProcessing:H,isTtsPlaying:k,startTts:K,stopTts:G,pauseTts:z,ttsConfig:Z,setTtsConfig:ne,setActiveToolTab:J}=rf(),V=Qu(),$=r6(),re=V.pathname==="/",[de,Ee]=F.useState(!1),[q,Y]=F.useState(!1),[Ae,me]=F.useState(!1),[ie,he]=F.useState(!1),ce=F.useRef(null),Se=T.find(nt=>nt.page===D),ee=!!Se,Me=()=>{confirm("Are you sure you want to close the viewer?")&&$("/report")},Te=()=>{var nt;(nt=ce.current)==null||nt.click()},ve=nt=>{nt.target.files&&nt.target.files[0]&&L(nt.target.files[0])},vt=()=>{D&&(Se?M(Se.id):R(D,`p.${D}`))},$e=nt=>{const yr=["small","medium","large","xlarge"],Yn=yr.indexOf(t);let en=nt==="up"?Yn+1:Yn-1;en<0&&(en=0),en>=yr.length&&(en=yr.length-1),r(yr[en])},Gt=["Kore","Puck","Charon","Fenrir","Zephyr"],It=[.75,1,1.2,1.5,2],zn=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return Q.jsx("header",{className:"header",children:Q.jsxs("div",{className:"header_inner",children:[Q.jsxs("div",{className:"header_main",children:[re&&Q.jsx("button",{onClick:n,className:`left_toggle ${e?"open":"off"}`,title:"Table of Contents",children:Q.jsx(khe,{size:20})}),Q.jsxs("div",{className:"logo_wrap",children:[Q.jsx("div",{className:"icon",children:Q.jsx(mN,{})}),Q.jsx("span",{className:"logo_text",children:"CampusBook"})]})]}),Q.jsx("div",{className:"header_nav",children:Q.jsxs("div",{className:"mode_select",children:[Q.jsx(j_,{to:"/",className:`reader ${re?"on":"off"}`,children:"Reader"}),Q.jsx(j_,{to:"/report",className:`report ${re?"off":"on"}`,children:"Report"})]})}),Q.jsxs("div",{className:"header_tools",children:[re&&Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"relative",children:[Q.jsx("button",{onClick:()=>me(!Ae),className:`p-2 rounded-lg transition-all ${k?"text-blue-600 bg-blue-50":"text-slate-500 hover:bg-slate-100"}`,title:"AI Voice",children:Q.jsx(gpe,{size:20})}),Ae&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border p-5 z-[70]",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Q.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"AI Reading Assistant"}),Q.jsx("button",{onClick:()=>me(!1),className:"text-slate-400",children:Q.jsx(tG,{size:14})})]}),Q.jsxs("div",{className:"flex justify-center gap-4 mb-5 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[Q.jsx("button",{onClick:G,className:"p-2.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:Q.jsx(spe,{size:16,fill:"currentColor"})}),Q.jsx("button",{onClick:()=>k?z():K(),className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 transition-transform",children:k?Q.jsx(Khe,{size:24,fill:"white"}):Q.jsx(Yhe,{size:24,className:"ml-1",fill:"white"})})]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Voice Tone"}),Q.jsx("div",{className:"grid grid-cols-3 gap-1",children:Gt.map(nt=>Q.jsx("button",{onClick:()=>ne({voice:nt}),className:`px-2 py-1 rounded text-[10px] border transition-all ${Z.voice===nt?"bg-blue-600 border-blue-600 text-white":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:nt},nt))})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Speed"}),Q.jsx("div",{className:"flex justify-between gap-1",children:It.map(nt=>Q.jsxs("button",{onClick:()=>ne({speed:nt}),className:`flex-1 py-1 rounded text-[10px] border transition-all ${Z.speed===nt?"bg-blue-600 border-blue-600 text-white font-bold":"bg-slate-100 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:[nt,"x"]},nt))})]})]})]})]}),Q.jsx("button",{onClick:vt,className:`bookmark_icon_btn ${ee?"on":"off"}`,title:ee?"Remove bookmark for this page":"Bookmark this page",children:ee?Q.jsx(nhe,{size:20}):Q.jsx(ihe,{size:20})}),Q.jsxs("div",{className:"draw_icon_wrap",children:[Q.jsxs("div",{className:"draw_icon_inner",children:[Q.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`pen_tool ${a==="pen"?"on":"off"}`,title:"Pen Tool",children:Q.jsx(jhe,{size:18})}),a==="pen"&&Q.jsx("button",{onClick:()=>Ee(!de),className:"detail_select",title:"Pen Settings",children:Q.jsx(rpe,{size:12})}),Q.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),Ee(!1)},className:`eraser_tool ${a==="eraser"?"on":"off"}`,title:"Eraser",children:Q.jsx(whe,{size:18})})]}),de&&a==="pen"&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-3",children:[Q.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),Q.jsx("button",{onClick:()=>Ee(!1),className:"text-slate-400 hover:text-slate-600",children:Q.jsx(tG,{size:14})})]}),Q.jsx("div",{className:"flex justify-between mb-4",children:zn.map(nt=>Q.jsx("button",{onClick:()=>u(nt),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===nt?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:nt}},nt))}),Q.jsxs("div",{className:"mb-3",children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Thickness"}),Q.jsxs("span",{children:[d,"px"]})]}),Q.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:nt=>h(parseInt(nt.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),Q.jsxs("div",{children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Opacity"}),Q.jsxs("span",{children:[Math.round(g*100),"%"]})]}),Q.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:nt=>v(parseFloat(nt.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("button",{onClick:()=>Y(!q),className:"appearance",title:"Appearance",children:Q.jsx(dpe,{size:20})}),q&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),Q.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[Q.jsx("button",{onClick:()=>$e("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(Lhe,{size:14})}),Q.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),Q.jsx("button",{onClick:()=>$e("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(vN,{size:14})})]}),Q.jsxs("div",{className:"space-y-2",children:[Q.jsxs("button",{onClick:()=>s(i==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(ghe,{size:16})," Two-Page View"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${i==="double"?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${i==="double"?"translate-x-4":""}`})})]}),Q.jsxs("button",{onClick:B,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(Che,{size:16})," Annotations"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${C?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${C?"translate-x-4":""}`})})]})]})]})]}),Q.jsx("button",{onClick:()=>I(!S),className:`toggle_ai_notes ${S?"on":"off"}`,title:"Toggle AI & Notes",children:Q.jsx(Hhe,{size:20})})]}),Q.jsxs("div",{className:"relative ml-1",children:[Q.jsx("button",{onClick:()=>he(!ie),className:"more",children:Q.jsx(vhe,{size:20})}),ie&&Q.jsxs("div",{className:"more_list",children:[Q.jsxs("button",{onClick:Te,className:"",children:[H?Q.jsx(Fhe,{size:14,className:"animate-spin"}):Q.jsx(aY,{size:14})," ","Add Reference PDF"]}),Q.jsx("input",{type:"file",ref:ce,className:"hidden",accept:"application/pdf",onChange:ve}),Q.jsxs("button",{onClick:b,className:"",children:[Q.jsx(AY,{size:14})," Save Progress"]}),Q.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),Q.jsxs("button",{onClick:Me,className:"exit_viewer",children:[Q.jsx(Uhe,{size:14})," Exit Viewer"]})]})]})]})]})})},vpe=(n,e,t)=>n.trim()?(e(n),t(),!0):(t(),!1);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wN=function(n,e){return wN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},wN(n,e)};function Go(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wN(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var bN=function(){return bN=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},bN.apply(this,arguments)};function Zi(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(n,[])).next())})}function ki(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function jS(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var Su=(function(){function n(e,t,r,i){this.left=e,this.top=t,this.width=r,this.height=i}return n.prototype.add=function(e,t,r,i){return new n(this.left+e,this.top+t,this.width+r,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(i){return i.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),$1=function(n,e){return Su.fromClientRect(n,e.getBoundingClientRect())},ype=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Su(0,0,r,i)},j1=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},pr=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},nG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var WS=0;WS<nG.length;WS++)wpe[nG.charCodeAt(WS)]=WS;var rG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ww=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var YS=0;YS<rG.length;YS++)ww[rG.charCodeAt(YS)]=YS;var bpe=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<t;r+=4)s=ww[n.charCodeAt(r)],a=ww[n.charCodeAt(r+1)],o=ww[n.charCodeAt(r+2)],l=ww[n.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return u},Cpe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},Epe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},vp=5,YQ=11,mU=2,Bpe=YQ-vp,uY=65536>>vp,Spe=1<<vp,vU=Spe-1,xpe=1024>>vp,_pe=uY+xpe,Tpe=_pe,Ipe=32,Fpe=Tpe+Ipe,Mpe=65536>>YQ,Upe=1<<Bpe,Ppe=Upe-1,iG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Rpe=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Dpe=function(n,e){var t=bpe(n),r=Array.isArray(t)?Epe(t):new Uint32Array(t),i=Array.isArray(t)?Cpe(t):new Uint16Array(t),s=24,a=iG(i,s/2,r[4]/2),o=r[5]===2?iG(i,(s+r[4])/2):Rpe(r,Math.ceil((s+r[4])/4));return new Npe(r[0],r[1],r[2],r[3],a,o)},Npe=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>vp],t=(t<<mU)+(e&vU),this.data[t];if(e<=65535)return t=this.index[uY+(e-55296>>vp)],t=(t<<mU)+(e&vU),this.data[t];if(e<this.highStart)return t=Fpe-Mpe+(e>>YQ),t=this.index[t],t+=e>>vp&Ppe,t=this.index[t],t=(t<<mU)+(e&vU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),sG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var XS=0;XS<sG.length;XS++)Lpe[sG.charCodeAt(XS)]=XS;var Qpe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",aG=50,kpe=1,cY=2,dY=3,Ope=4,Hpe=5,oG=7,fY=8,AG=9,Kd=10,CN=11,lG=12,EN=13,Vpe=14,bw=15,BN=16,JS=17,Q0=18,Kpe=19,uG=20,SN=21,k0=22,yU=23,bg=24,Os=25,Cw=26,Ew=27,Cg=28,Gpe=29,Lf=30,zpe=31,ZS=32,ex=33,xN=34,_N=35,TN=36,Xw=37,IN=38,x_=39,__=40,wU=41,hY=42,qpe=43,$pe=[9001,65288],pY="!",Bt="",tx="",FN=Dpe(Qpe),Al=[Lf,TN],MN=[kpe,cY,dY,Hpe],gY=[Kd,fY],cG=[Ew,Cw],jpe=MN.concat(gY),dG=[IN,x_,__,xN,_N],Wpe=[bw,EN],Ype=function(n,e){e===void 0&&(e="strict");var t=[],r=[],i=[];return n.forEach(function(s,a){var o=FN.get(s);if(o>aG?(i.push(!0),o-=aG):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),t.push(BN);if(o===Ope||o===CN){if(a===0)return r.push(a),t.push(Lf);var l=t[a-1];return jpe.indexOf(l)===-1?(r.push(r[a-1]),t.push(l)):(r.push(a),t.push(Lf))}if(r.push(a),o===zpe)return t.push(e==="strict"?SN:Xw);if(o===hY||o===Gpe)return t.push(Lf);if(o===qpe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Xw):t.push(Lf);t.push(o)}),[r,t,i]},bU=function(n,e,t,r){var i=r[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var s=t;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==Kd)break}if(i===Kd)for(var s=t;s>0;){s--;var o=r[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=r.length;){l++;var a=r[l];if(a===e)return!0;if(a!==Kd)break}if(o!==Kd)break}return!1},fG=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===Kd)t--;else return r}return 0},Xpe=function(n,e,t,r,i){if(t[r]===0)return Bt;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return Bt;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===cY&&d===dY)return Bt;if(MN.indexOf(l)!==-1)return pY;if(MN.indexOf(d)!==-1||gY.indexOf(d)!==-1)return Bt;if(fG(s,e)===fY)return tx;if(FN.get(n[s])===CN||(l===ZS||l===ex)&&FN.get(n[o])===CN||l===oG||d===oG||l===AG||[Kd,EN,bw].indexOf(l)===-1&&d===AG||[JS,Q0,Kpe,bg,Cg].indexOf(d)!==-1||fG(s,e)===k0||bU(yU,k0,s,e)||bU([JS,Q0],SN,s,e)||bU(lG,lG,s,e))return Bt;if(l===Kd)return tx;if(l===yU||d===yU)return Bt;if(d===BN||l===BN)return tx;if([EN,bw,SN].indexOf(d)!==-1||l===Vpe||u===TN&&Wpe.indexOf(l)!==-1||l===Cg&&d===TN||d===uG||Al.indexOf(d)!==-1&&l===Os||Al.indexOf(l)!==-1&&d===Os||l===Ew&&[Xw,ZS,ex].indexOf(d)!==-1||[Xw,ZS,ex].indexOf(l)!==-1&&d===Cw||Al.indexOf(l)!==-1&&cG.indexOf(d)!==-1||cG.indexOf(l)!==-1&&Al.indexOf(d)!==-1||[Ew,Cw].indexOf(l)!==-1&&(d===Os||[k0,bw].indexOf(d)!==-1&&e[o+1]===Os)||[k0,bw].indexOf(l)!==-1&&d===Os||l===Os&&[Os,Cg,bg].indexOf(d)!==-1)return Bt;if([Os,Cg,bg,JS,Q0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===Os)return Bt;if([Cg,bg].indexOf(g)!==-1)h--;else break}if([Ew,Cw].indexOf(d)!==-1)for(var h=[JS,Q0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===Os)return Bt;if([Cg,bg].indexOf(g)!==-1)h--;else break}if(IN===l&&[IN,x_,xN,_N].indexOf(d)!==-1||[x_,xN].indexOf(l)!==-1&&[x_,__].indexOf(d)!==-1||[__,_N].indexOf(l)!==-1&&d===__||dG.indexOf(l)!==-1&&[uG,Cw].indexOf(d)!==-1||dG.indexOf(d)!==-1&&l===Ew||Al.indexOf(l)!==-1&&Al.indexOf(d)!==-1||l===bg&&Al.indexOf(d)!==-1||Al.concat(Os).indexOf(l)!==-1&&d===k0&&$pe.indexOf(n[o])===-1||Al.concat(Os).indexOf(d)!==-1&&l===Q0)return Bt;if(l===wU&&d===wU){for(var v=t[s],b=1;v>0&&(v--,e[v]===wU);)b++;if(b%2!==0)return Bt}return l===ZS&&d===ex?Bt:tx},Jpe=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Ype(n,e.lineBreak),r=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[Os,Lf,hY].indexOf(o)!==-1?Xw:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[r,i,a]},Zpe=(function(){function n(e,t,r,i){this.codePoints=e,this.required=t===pY,this.start=r,this.end=i}return n.prototype.slice=function(){return pr.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),ege=function(n,e){var t=j1(n),r=Jpe(t,e),i=r[0],s=r[1],a=r[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=Bt;u<o&&(d=Xpe(t,s,i,++u,a))===Bt;);if(d!==Bt||u===o){var h=new Zpe(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},tge=1,nge=2,tB=4,hG=8,uT=10,pG=47,Lw=92,rge=9,ige=32,nx=34,O0=61,sge=35,age=36,oge=37,rx=39,ix=40,H0=41,Age=95,_s=45,lge=33,uge=60,cge=62,dge=64,fge=91,hge=93,pge=61,gge=123,sx=63,mge=125,gG=124,vge=126,yge=128,mG=65533,CU=42,Hf=43,wge=44,bge=58,Cge=59,Jw=46,Ege=0,Bge=8,Sge=11,xge=14,_ge=31,Tge=127,eA=-1,mY=48,vY=97,yY=101,Ige=102,Fge=117,Mge=122,wY=65,bY=69,CY=70,Uge=85,Pge=90,Hi=function(n){return n>=mY&&n<=57},Rge=function(n){return n>=55296&&n<=57343},Eg=function(n){return Hi(n)||n>=wY&&n<=CY||n>=vY&&n<=Ige},Dge=function(n){return n>=vY&&n<=Mge},Nge=function(n){return n>=wY&&n<=Pge},Lge=function(n){return Dge(n)||Nge(n)},Qge=function(n){return n>=yge},ax=function(n){return n===uT||n===rge||n===ige},cT=function(n){return Lge(n)||Qge(n)||n===Age},vG=function(n){return cT(n)||Hi(n)||n===_s},kge=function(n){return n>=Ege&&n<=Bge||n===Sge||n>=xge&&n<=_ge||n===Tge},xc=function(n,e){return n!==Lw?!1:e!==uT},ox=function(n,e,t){return n===_s?cT(e)||xc(e,t):cT(n)?!0:!!(n===Lw&&xc(n,e))},EU=function(n,e,t){return n===Hf||n===_s?Hi(e)?!0:e===Jw&&Hi(t):Hi(n===Jw?e:n)},Oge=function(n){var e=0,t=1;(n[e]===Hf||n[e]===_s)&&(n[e]===_s&&(t=-1),e++);for(var r=[];Hi(n[e]);)r.push(n[e++]);var i=r.length?parseInt(pr.apply(void 0,r),10):0;n[e]===Jw&&e++;for(var s=[];Hi(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(pr.apply(void 0,s),10):0;(n[e]===bY||n[e]===yY)&&e++;var l=1;(n[e]===Hf||n[e]===_s)&&(n[e]===_s&&(l=-1),e++);for(var u=[];Hi(n[e]);)u.push(n[e++]);var d=u.length?parseInt(pr.apply(void 0,u),10):0;return t*(i+o*Math.pow(10,-a))*Math.pow(10,l*d)},Hge={type:2},Vge={type:3},Kge={type:4},Gge={type:13},zge={type:8},qge={type:21},$ge={type:9},jge={type:10},Wge={type:11},Yge={type:12},Xge={type:14},Ax={type:23},Jge={type:1},Zge={type:25},eme={type:24},tme={type:26},nme={type:27},rme={type:28},ime={type:29},sme={type:31},UN={type:32},EY=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(j1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==UN;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case nx:return this.consumeStringToken(nx);case sge:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(vG(t)||xc(r,i)){var s=ox(t,r,i)?nge:tge,a=this.consumeName();return{type:5,value:a,flags:s}}break;case age:if(this.peekCodePoint(0)===O0)return this.consumeCodePoint(),Gge;break;case rx:return this.consumeStringToken(rx);case ix:return Hge;case H0:return Vge;case CU:if(this.peekCodePoint(0)===O0)return this.consumeCodePoint(),Xge;break;case Hf:if(EU(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case wge:return Kge;case _s:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(EU(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ox(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===_s&&u===cge)return this.consumeCodePoint(),this.consumeCodePoint(),eme;break;case Jw:if(EU(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case pG:if(this.peekCodePoint(0)===CU)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===CU&&(d=this.consumeCodePoint(),d===pG))return this.consumeToken();if(d===eA)return this.consumeToken()}break;case bge:return tme;case Cge:return nme;case uge:if(this.peekCodePoint(0)===lge&&this.peekCodePoint(1)===_s&&this.peekCodePoint(2)===_s)return this.consumeCodePoint(),this.consumeCodePoint(),Zge;break;case dge:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(ox(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case fge:return rme;case Lw:if(xc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case hge:return ime;case pge:if(this.peekCodePoint(0)===O0)return this.consumeCodePoint(),zge;break;case gge:return Wge;case mge:return Yge;case Fge:case Uge:var b=this.peekCodePoint(0),C=this.peekCodePoint(1);return b===Hf&&(Eg(C)||C===sx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case gG:if(this.peekCodePoint(0)===O0)return this.consumeCodePoint(),$ge;if(this.peekCodePoint(0)===gG)return this.consumeCodePoint(),qge;break;case vge:if(this.peekCodePoint(0)===O0)return this.consumeCodePoint(),jge;break;case eA:return UN}return ax(e)?(this.consumeWhiteSpace(),sme):Hi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):cT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:pr(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Eg(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===sx&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(pr.apply(void 0,e.map(function(l){return l===sx?mY:l})),16),s=parseInt(pr.apply(void 0,e.map(function(l){return l===sx?CY:l})),16);return{type:30,start:i,end:s}}var a=parseInt(pr.apply(void 0,e),16);if(this.peekCodePoint(0)===_s&&Eg(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Eg(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(pr.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ix?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ix?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===eA)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rx||t===nx){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===eA||this.peekCodePoint(0)===H0)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Ax)}for(;;){var i=this.consumeCodePoint();if(i===eA||i===H0)return{type:22,value:pr.apply(void 0,e)};if(ax(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===eA||this.peekCodePoint(0)===H0?(this.consumeCodePoint(),{type:22,value:pr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ax);if(i===nx||i===rx||i===ix||kge(i))return this.consumeBadUrlRemnants(),Ax;if(i===Lw)if(xc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ax;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;ax(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===H0||e===eA)return;xc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var i=Math.min(t,e);r+=pr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var i=this._value[r];if(i===eA||i===void 0||i===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(i===uT)return this._value.splice(0,r),Jge;if(i===Lw){var s=this._value[r+1];s!==eA&&s!==void 0&&(s===uT?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):xc(i,s)&&(t+=this.consumeStringSlice(r),t+=pr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=tB,r=this.peekCodePoint(0);for((r===Hf||r===_s)&&e.push(this.consumeCodePoint());Hi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Jw&&Hi(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=hG;Hi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===bY||r===yY)&&((i===Hf||i===_s)&&Hi(s)||Hi(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=hG;Hi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Oge(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(ox(i,s,a)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return i===oge?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Eg(e)){for(var t=pr(e);Eg(this.peekCodePoint(0))&&t.length<6;)t+=pr(this.consumeCodePoint());ax(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||Rge(r)||r>1114111?mG:r}return e===eA?mG:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(vG(t))e+=pr(t);else if(xc(t,this.peekCodePoint(0)))e+=pr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),BY=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new EY;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||ome(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?UN:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),nB=function(n){return n.type===15},Iy=function(n){return n.type===17},hn=function(n){return n.type===20},ame=function(n){return n.type===0},PN=function(n,e){return hn(n)&&n.value===e},SY=function(n){return n.type!==31},Ay=function(n){return n.type!==31&&n.type!==4},kA=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},ome=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Yd=function(n){return n.type===17||n.type===15},Mr=function(n){return n.type===16||Yd(n)},xY=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},xi={type:17,number:0,flags:tB},XQ={type:16,number:50,flags:tB},Gd={type:16,number:100,flags:tB},Bw=function(n,e,t){var r=n[0],i=n[1];return[In(r,e),In(typeof i<"u"?i:r,t)]},In=function(n,e){if(n.type===16)return n.number/100*e;if(nB(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},_Y="deg",TY="grad",IY="rad",FY="turn",W1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case _Y:return Math.PI*e.number/180;case TY:return Math.PI/200*e.number;case IY:return e.number;case FY:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},MY=function(n){return n.type===15&&(n.unit===_Y||n.unit===TY||n.unit===IY||n.unit===FY)},UY=function(n){var e=n.filter(hn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[xi,xi];case"to top":case"bottom":return to(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[xi,Gd];case"to right":case"left":return to(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gd,Gd];case"to bottom":case"top":return to(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gd,xi];case"to left":case"right":return to(270)}return 0},to=function(n){return Math.PI*n/180},qd={name:"color",parse:function(n,e){if(e.type===18){var t=Ame[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return zd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return zd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return zd(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return zd(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=mu[e.value.toUpperCase()];if(typeof o<"u")return o}return mu.TRANSPARENT}},$d=function(n){return(255&n)===0},jr=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+r+","+t+","+e/255+")":"rgb("+i+","+r+","+t+")"},zd=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},yG=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},wG=function(n,e){var t=e.filter(Ay);if(t.length===3){var r=t.map(yG),i=r[0],s=r[1],a=r[2];return zd(i,s,a,1)}if(t.length===4){var o=t.map(yG),i=o[0],s=o[1],a=o[2],l=o[3];return zd(i,s,a,l)}return 0};function BU(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var bG=function(n,e){var t=e.filter(Ay),r=t[0],i=t[1],s=t[2],a=t[3],o=(r.type===17?to(r.number):W1.parse(n,r))/(Math.PI*2),l=Mr(i)?i.number/100:0,u=Mr(s)?s.number/100:0,d=typeof a<"u"&&Mr(a)?In(a,1):1;if(l===0)return zd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=BU(g,h,o+1/3),b=BU(g,h,o),C=BU(g,h,o-1/3);return zd(v*255,b*255,C*255,d)},Ame={hsl:bG,hsla:bG,rgb:wG,rgba:wG},Qw=function(n,e){return qd.parse(n,BY.create(e).parseComponentValue())},mu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},lme={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(hn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ume={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Y1=function(n,e){var t=qd.parse(n,e[0]),r=e[1];return r&&Mr(r)?{color:t,stop:r}:{color:t,stop:null}},CG=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=xi),r.stop===null&&(r.stop=Gd);for(var i=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=In(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var u=null,a=0;a<i.length;a++){var d=i[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=i[u-1],v=(d-g)/(h+1),b=1;b<=h;b++)i[u+b-1]=v*b;u=null}}return n.map(function(C,B){var S=C.color;return{color:S,stop:Math.max(Math.min(1,i[B]/e),0)}})},cme=function(n,e,t){var r=e/2,i=t/2,s=In(n[0],e)-r,a=i-In(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},dme=function(n,e,t){var r=typeof n=="number"?n:cme(n,e,t),i=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),s=e/2,a=t/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[i,s-u,s+u,a-l,a+l]},yo=function(n,e){return Math.sqrt(n*n+e*e)},EG=function(n,e,t,r,i){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=yo(t-l,r-u);return(i?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},fme=function(n,e,t,r,i){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)s=a=Math.min(yo(e,t),yo(e,t-i),yo(e-r,t),yo(e-r,t-i));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=EG(r,i,e,t,!0),u=l[0],d=l[1];s=yo(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)s=a=Math.max(yo(e,t),yo(e,t-i),yo(e-r,t),yo(e-r,t-i));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-r)),h=EG(r,i,e,t,!1),u=h[0],d=h[1];s=yo(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=In(n.size[0],r),a=n.size.length===2?In(n.size[1],i):s),[s,a]},hme=function(n,e){var t=to(180),r=[];return kA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=UY(i);return}else if(MY(a)){t=W1.parse(n,a);return}}var o=Y1(n,i);r.push(o)}),{angle:t,stops:r,type:1}},lx=function(n,e){var t=to(180),r=[];return kA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=UY(i);return}else if(MY(a)){t=(W1.parse(n,a)+to(270))%to(360);return}}var o=Y1(n,i);r.push(o)}),{angle:t,stops:r,type:1}},pme=function(n,e){var t=to(180),r=[],i=1,s=0,a=3,o=[];return kA(e).forEach(function(l,u){var d=l[0];if(u===0){if(hn(d)&&d.value==="linear"){i=1;return}else if(hn(d)&&d.value==="radial"){i=2;return}}if(d.type===18){if(d.name==="from"){var h=qd.parse(n,d.values[0]);r.push({stop:xi,color:h})}else if(d.name==="to"){var h=qd.parse(n,d.values[0]);r.push({stop:Gd,color:h})}else if(d.name==="color-stop"){var g=d.values.filter(Ay);if(g.length===2){var h=qd.parse(n,g[1]),v=g[0];Iy(v)&&r.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),i===1?{angle:(t+to(180))%to(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:o,type:i}},PY="closest-side",RY="farthest-side",DY="closest-corner",NY="farthest-corner",LY="circle",QY="ellipse",kY="cover",OY="contain",gme=function(n,e){var t=0,r=3,i=[],s=[];return kA(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(hn(g))switch(g.value){case"center":return s.push(XQ),h;case"top":case"left":return s.push(xi),h;case"right":case"bottom":return s.push(Gd),h}else(Mr(g)||Yd(g))&&s.push(g);else if(hn(g))switch(g.value){case LY:return t=0,!1;case QY:return t=1,!1;case"at":return u=!0,!1;case PY:return r=0,!1;case kY:case RY:return r=1,!1;case OY:case DY:return r=2,!1;case NY:return r=3,!1}else if(Yd(g)||Mr(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return h},l)}if(l){var d=Y1(n,a);i.push(d)}}),{size:r,shape:t,stops:i,position:s,type:2}},ux=function(n,e){var t=0,r=3,i=[],s=[];return kA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(hn(h))switch(h.value){case"center":return s.push(XQ),!1;case"top":case"left":return s.push(xi),!1;case"right":case"bottom":return s.push(Gd),!1}else if(Mr(h)||Yd(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(hn(h))switch(h.value){case LY:return t=0,!1;case QY:return t=1,!1;case OY:case PY:return r=0,!1;case RY:return r=1,!1;case DY:return r=2,!1;case kY:case NY:return r=3,!1}else if(Yd(h)||Mr(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return d},l)),l){var u=Y1(n,a);i.push(u)}}),{size:r,shape:t,stops:i,position:s,type:2}},mme=function(n){return n.type===1},vme=function(n){return n.type===2},JQ={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=HY[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function yme(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!HY[n.name])}var HY={"linear-gradient":hme,"-moz-linear-gradient":lx,"-ms-linear-gradient":lx,"-o-linear-gradient":lx,"-webkit-linear-gradient":lx,"radial-gradient":gme,"-moz-radial-gradient":ux,"-ms-radial-gradient":ux,"-o-radial-gradient":ux,"-webkit-radial-gradient":ux,"-webkit-gradient":pme},wme={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return Ay(r)&&yme(r)}).map(function(r){return JQ.parse(n,r)})}},bme={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(hn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Cme={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return kA(e).map(function(t){return t.filter(Mr)}).map(xY)}},Eme={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return kA(e).map(function(t){return t.filter(hn).map(function(r){return r.value}).join(" ")}).map(Bme)}},Bme=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},am;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(am||(am={}));var Sme={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return kA(e).map(function(t){return t.filter(xme)})}},xme=function(n){return hn(n)||Mr(n)},X1=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},_me=X1("top"),Tme=X1("right"),Ime=X1("bottom"),Fme=X1("left"),J1=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return xY(t.filter(Mr))}}},Mme=J1("top-left"),Ume=J1("top-right"),Pme=J1("bottom-right"),Rme=J1("bottom-left"),Z1=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Dme=Z1("top"),Nme=Z1("right"),Lme=Z1("bottom"),Qme=Z1("left"),eI=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return nB(t)?t.number:0}}},kme=eI("top"),Ome=eI("right"),Hme=eI("bottom"),Vme=eI("left"),Kme={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gme={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},zme={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(hn).reduce(function(t,r){return t|qme(r.value)},0)}},qme=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},$me={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},jme={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},dT;(function(n){n.NORMAL="normal",n.STRICT="strict"})(dT||(dT={}));var Wme={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return dT.STRICT;case"normal":default:return dT.NORMAL}}},Yme={name:"line-height",initialValue:"normal",prefix:!1,type:4},BG=function(n,e){return hn(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Mr(n)?In(n,e):e},Xme={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:JQ.parse(n,e)}},Jme={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},RN={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},tI=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Zme=tI("top"),eve=tI("right"),tve=tI("bottom"),nve=tI("left"),rve={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(hn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ive={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},nI=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},sve=nI("top"),ave=nI("right"),ove=nI("bottom"),Ave=nI("left"),lve={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},uve={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},cve={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&PN(e[0],"none")?[]:kA(e).map(function(t){for(var r={color:mu.TRANSPARENT,offsetX:xi,offsetY:xi,blur:xi},i=0,s=0;s<t.length;s++){var a=t[s];Yd(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=qd.parse(n,a)}return r})}},dve={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fve={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=gve[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},hve=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},pve=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,r,i,s,a,o]:null},gve={matrix:hve,matrix3d:pve},SG={type:16,number:50,flags:tB},mve=[SG,SG],vve={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Mr);return t.length!==2?mve:[t[0],t[1]]}},yve={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},kw;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(kw||(kw={}));var wve={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return kw.BREAK_ALL;case"keep-all":return kw.KEEP_ALL;case"normal":default:return kw.NORMAL}}},bve={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(Iy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},VY={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Cve={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return Iy(e)?e.number:1}},Eve={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bve={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(hn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Sve={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},xve={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},_ve={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(Iy(e))return e.number;if(hn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Tve={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(hn).map(function(t){return t.value})}},Ive={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Hr=function(n,e){return(n&e)!==0},Fve={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Mve={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],i=e.filter(SY),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&Iy(o)?o.number:1;r.push({counter:a.value,increment:l})}}return r}},Uve={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(SY),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(hn(s)&&s.value!=="none"){var o=a&&Iy(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},Pve={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(nB).map(function(t){return VY.parse(n,t)})}},Rve={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],i=e.filter(ame);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;r.push({open:a,close:o})}return r}},xG=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},Dve={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&PN(e[0],"none")?[]:kA(e).map(function(t){for(var r={color:255,offsetX:xi,offsetY:xi,blur:xi,spread:xi,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];PN(a,"inset")?r.inset=!0:Yd(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=qd.parse(n,a)}return r})}},Nve={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(hn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Lve={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Qve={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return nB(e)?e.number:0}},kve=(function(){function n(e,t){var r,i;this.animationDuration=Ne(e,Pve,t.animationDuration),this.backgroundClip=Ne(e,lme,t.backgroundClip),this.backgroundColor=Ne(e,ume,t.backgroundColor),this.backgroundImage=Ne(e,wme,t.backgroundImage),this.backgroundOrigin=Ne(e,bme,t.backgroundOrigin),this.backgroundPosition=Ne(e,Cme,t.backgroundPosition),this.backgroundRepeat=Ne(e,Eme,t.backgroundRepeat),this.backgroundSize=Ne(e,Sme,t.backgroundSize),this.borderTopColor=Ne(e,_me,t.borderTopColor),this.borderRightColor=Ne(e,Tme,t.borderRightColor),this.borderBottomColor=Ne(e,Ime,t.borderBottomColor),this.borderLeftColor=Ne(e,Fme,t.borderLeftColor),this.borderTopLeftRadius=Ne(e,Mme,t.borderTopLeftRadius),this.borderTopRightRadius=Ne(e,Ume,t.borderTopRightRadius),this.borderBottomRightRadius=Ne(e,Pme,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ne(e,Rme,t.borderBottomLeftRadius),this.borderTopStyle=Ne(e,Dme,t.borderTopStyle),this.borderRightStyle=Ne(e,Nme,t.borderRightStyle),this.borderBottomStyle=Ne(e,Lme,t.borderBottomStyle),this.borderLeftStyle=Ne(e,Qme,t.borderLeftStyle),this.borderTopWidth=Ne(e,kme,t.borderTopWidth),this.borderRightWidth=Ne(e,Ome,t.borderRightWidth),this.borderBottomWidth=Ne(e,Hme,t.borderBottomWidth),this.borderLeftWidth=Ne(e,Vme,t.borderLeftWidth),this.boxShadow=Ne(e,Dve,t.boxShadow),this.color=Ne(e,Kme,t.color),this.direction=Ne(e,Gme,t.direction),this.display=Ne(e,zme,t.display),this.float=Ne(e,$me,t.cssFloat),this.fontFamily=Ne(e,Sve,t.fontFamily),this.fontSize=Ne(e,xve,t.fontSize),this.fontStyle=Ne(e,Ive,t.fontStyle),this.fontVariant=Ne(e,Tve,t.fontVariant),this.fontWeight=Ne(e,_ve,t.fontWeight),this.letterSpacing=Ne(e,jme,t.letterSpacing),this.lineBreak=Ne(e,Wme,t.lineBreak),this.lineHeight=Ne(e,Yme,t.lineHeight),this.listStyleImage=Ne(e,Xme,t.listStyleImage),this.listStylePosition=Ne(e,Jme,t.listStylePosition),this.listStyleType=Ne(e,RN,t.listStyleType),this.marginTop=Ne(e,Zme,t.marginTop),this.marginRight=Ne(e,eve,t.marginRight),this.marginBottom=Ne(e,tve,t.marginBottom),this.marginLeft=Ne(e,nve,t.marginLeft),this.opacity=Ne(e,Cve,t.opacity);var s=Ne(e,rve,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ne(e,ive,t.overflowWrap),this.paddingTop=Ne(e,sve,t.paddingTop),this.paddingRight=Ne(e,ave,t.paddingRight),this.paddingBottom=Ne(e,ove,t.paddingBottom),this.paddingLeft=Ne(e,Ave,t.paddingLeft),this.paintOrder=Ne(e,Nve,t.paintOrder),this.position=Ne(e,uve,t.position),this.textAlign=Ne(e,lve,t.textAlign),this.textDecorationColor=Ne(e,Eve,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=Ne(e,Bve,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Ne(e,cve,t.textShadow),this.textTransform=Ne(e,dve,t.textTransform),this.transform=Ne(e,fve,t.transform),this.transformOrigin=Ne(e,vve,t.transformOrigin),this.visibility=Ne(e,yve,t.visibility),this.webkitTextStrokeColor=Ne(e,Lve,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ne(e,Qve,t.webkitTextStrokeWidth),this.wordBreak=Ne(e,wve,t.wordBreak),this.zIndex=Ne(e,bve,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return $d(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Hr(this.display,4)||Hr(this.display,33554432)||Hr(this.display,268435456)||Hr(this.display,536870912)||Hr(this.display,67108864)||Hr(this.display,134217728)},n})(),Ove=(function(){function n(e,t){this.content=Ne(e,Fve,t.content),this.quotes=Ne(e,Rve,t.quotes)}return n})(),_G=(function(){function n(e,t){this.counterIncrement=Ne(e,Mve,t.counterIncrement),this.counterReset=Ne(e,Uve,t.counterReset)}return n})(),Ne=function(n,e,t){var r=new EY,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(i);var s=new BY(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,hn(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return W1.parse(n,s.parseComponentValue());case"color":return qd.parse(n,s.parseComponentValue());case"image":return JQ.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Yd(o)?o:xi;case"length-percentage":var l=s.parseComponentValue();return Mr(l)?l:xi;case"time":return VY.parse(n,s.parseComponentValue())}break}},Hve="data-html2canvas-debug",Vve=function(n){var e=n.getAttribute(Hve);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},DN=function(n,e){var t=Vve(n);return t===1||e===t},OA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,DN(t,3))debugger;this.styles=new kve(e,window.getComputedStyle(t,null)),QN(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=$1(this.context,t),DN(t,4)&&(this.flags|=16)}return n})(),Kve="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",TG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cx=0;cx<TG.length;cx++)Sw[TG.charCodeAt(cx)]=cx;var Gve=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<t;r+=4)s=Sw[n.charCodeAt(r)],a=Sw[n.charCodeAt(r+1)],o=Sw[n.charCodeAt(r+2)],l=Sw[n.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return u},zve=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},qve=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},yp=5,ZQ=11,SU=2,$ve=ZQ-yp,KY=65536>>yp,jve=1<<yp,xU=jve-1,Wve=1024>>yp,Yve=KY+Wve,Xve=Yve,Jve=32,Zve=Xve+Jve,eye=65536>>ZQ,tye=1<<$ve,nye=tye-1,IG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},rye=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},iye=function(n,e){var t=Gve(n),r=Array.isArray(t)?qve(t):new Uint32Array(t),i=Array.isArray(t)?zve(t):new Uint16Array(t),s=24,a=IG(i,s/2,r[4]/2),o=r[5]===2?IG(i,(s+r[4])/2):rye(r,Math.ceil((s+r[4])/4));return new sye(r[0],r[1],r[2],r[3],a,o)},sye=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>yp],t=(t<<SU)+(e&xU),this.data[t];if(e<=65535)return t=this.index[KY+(e-55296>>yp)],t=(t<<SU)+(e&xU),this.data[t];if(e<this.highStart)return t=Zve-eye+(e>>ZQ),t=this.index[t],t+=e>>yp&nye,t=this.index[t],t=(t<<SU)+(e&xU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),FG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aye=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dx=0;dx<FG.length;dx++)aye[FG.charCodeAt(dx)]=dx;var oye=1,_U=2,TU=3,MG=4,UG=5,Aye=7,PG=8,IU=9,FU=10,RG=11,DG=12,NG=13,LG=14,MU=15,lye=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},uye=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},cye=iye(Kve),Na="",UU="",dye=function(n){return cye.get(n)},fye=function(n,e,t){var r=t-2,i=e[r],s=e[t-1],a=e[t];if(s===_U&&a===TU)return Na;if(s===_U||s===TU||s===MG||a===_U||a===TU||a===MG)return UU;if(s===PG&&[PG,IU,RG,DG].indexOf(a)!==-1||(s===RG||s===IU)&&(a===IU||a===FU)||(s===DG||s===FU)&&a===FU||a===NG||a===UG||a===Aye||s===oye)return Na;if(s===NG&&a===LG){for(;i===UG;)i=e[--r];if(i===LG)return Na}if(s===MU&&a===MU){for(var o=0;i===MU;)o++,i=e[--r];if(o%2===0)return Na}return UU},hye=function(n){var e=lye(n),t=e.length,r=0,i=0,s=e.map(dye);return{next:function(){if(r>=t)return{done:!0,value:null};for(var a=Na;r<t&&(a=fye(e,s,++r))===Na;);if(a!==Na||r===t){var o=uye.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},pye=function(n){for(var e=hye(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},gye=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(n.body.removeChild(r),s===e)return!0}}return!1},mye=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=j1(r.data).map(function(l){return pr(l)}),s=0,a={},o=i.every(function(l,u){t.setStart(r,s),t.setEnd(r,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},vye=function(){return typeof new Image().crossOrigin<"u"},yye=function(){return typeof new XMLHttpRequest().responseType=="string"},wye=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},QG=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},bye=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=NN(t,t,0,0,i);return r.fillStyle="red",r.fillRect(0,0,t,t),kG(a).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",QG(l)?kG(NN(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),QG(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},NN=function(n,e,t,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},kG=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},bi={get SUPPORT_RANGE_BOUNDS(){var n=gye(document);return Object.defineProperty(bi,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=bi.SUPPORT_RANGE_BOUNDS&&mye(document);return Object.defineProperty(bi,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=wye(document);return Object.defineProperty(bi,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?bye(document):Promise.resolve(!1);return Object.defineProperty(bi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=vye();return Object.defineProperty(bi,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=yye();return Object.defineProperty(bi,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(bi,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(bi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},Ow=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),Cye=function(n,e,t,r){var i=Sye(e,t),s=[],a=0;return i.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(bi.SUPPORT_RANGE_BOUNDS){var l=OG(r,a,o.length).getClientRects();if(l.length>1){var u=ek(o),d=0;u.forEach(function(g){s.push(new Ow(g,Su.fromDOMRectList(n,OG(r,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new Ow(o,Su.fromDOMRectList(n,l)))}else{var h=r.splitText(o.length);s.push(new Ow(o,Eye(n,r))),r=h}else bi.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),s},Eye=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=$1(n,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Su.EMPTY},OG=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},ek=function(n){if(bi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return pye(n)},Bye=function(n,e){if(bi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return _ye(n,e)},Sye=function(n,e){return e.letterSpacing!==0?ek(n):Bye(n,e)},xye=[32,160,4961,65792,65793,4153,4241],_ye=function(n,e){for(var t=ege(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),o=j1(a),l="";o.forEach(function(u){xye.indexOf(u)===-1?l+=pr(u):(l.length&&r.push(l),r.push(pr(u)),l="")}),l.length&&r.push(l)}};!(i=t.next()).done;)s();return r},Tye=(function(){function n(e,t,r){this.text=Iye(t.data,r.textTransform),this.textBounds=Cye(e,this.text,r,t)}return n})(),Iye=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(Fye,Mye);case 2:return n.toUpperCase();default:return n}},Fye=/(^|\s|:|-|\(|\))([a-z])/g,Mye=function(n,e,t){return n.length>0?e+t.toUpperCase():n},GY=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(OA),zY=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(OA),qY=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=new XMLSerializer,a=$1(t,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(OA),$Y=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(OA),LN=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(OA),Uye=[{type:15,flags:0,unit:"px",number:3}],Pye=[{type:16,flags:0,number:50}],Rye=function(n){return n.width>n.height?new Su(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new Su(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Dye=function(n){var e=n.type===Nye?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},fT="checkbox",hT="radio",Nye="password",HG=707406591,tk=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Dye(r),(i.type===fT||i.type===hT)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Rye(i.bounds)),i.type){case fT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Uye;break;case hT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Pye;break}return i}return e})(OA),jY=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(OA),WY=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(OA),YY=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=JY(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Qw(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):mu.TRANSPARENT,a=r.contentWindow.document.body?Qw(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):mu.TRANSPARENT;i.backgroundColor=$d(s)?$d(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e})(OA),Lye=["OL","UL","MENU"],T_=function(n,e,t,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,ZY(i)&&i.data.trim().length>0)t.textNodes.push(new Tye(n,i,t.styles));else if(jg(i))if(rX(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return T_(n,o,t,r)});else{var a=XY(n,i);a.styles.isVisible()&&(Qye(i,a,r)?a.flags|=4:kye(a.styles)&&(a.flags|=2),Lye.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?T_(n,i.shadowRoot,a,r):!pT(i)&&!eX(i)&&!gT(i)&&T_(n,i,a,r))}},XY=function(n,e){return kN(e)?new GY(n,e):tX(e)?new zY(n,e):eX(e)?new qY(n,e):Oye(e)?new $Y(n,e):Hye(e)?new LN(n,e):Vye(e)?new tk(n,e):gT(e)?new jY(n,e):pT(e)?new WY(n,e):nX(e)?new YY(n,e):new OA(n,e)},JY=function(n,e){var t=XY(n,e);return t.flags|=4,T_(n,e,t,t),t},Qye=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||nk(n)&&t.styles.isTransparent()},kye=function(n){return n.isPositioned()||n.isFloating()},ZY=function(n){return n.nodeType===Node.TEXT_NODE},jg=function(n){return n.nodeType===Node.ELEMENT_NODE},QN=function(n){return jg(n)&&typeof n.style<"u"&&!I_(n)},I_=function(n){return typeof n.className=="object"},Oye=function(n){return n.tagName==="LI"},Hye=function(n){return n.tagName==="OL"},Vye=function(n){return n.tagName==="INPUT"},Kye=function(n){return n.tagName==="HTML"},eX=function(n){return n.tagName==="svg"},nk=function(n){return n.tagName==="BODY"},tX=function(n){return n.tagName==="CANVAS"},VG=function(n){return n.tagName==="VIDEO"},kN=function(n){return n.tagName==="IMG"},nX=function(n){return n.tagName==="IFRAME"},KG=function(n){return n.tagName==="STYLE"},Gye=function(n){return n.tagName==="SCRIPT"},pT=function(n){return n.tagName==="TEXTAREA"},gT=function(n){return n.tagName==="SELECT"},rX=function(n){return n.tagName==="SLOT"},GG=function(n){return n.tagName.indexOf("-")>0},zye=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),zG={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},qG={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$ye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Bg=function(n,e,t,r,i,s){return n<e||n>t?Zw(n,i,s.length>0):r.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=r.values[l];return a},"")+s},iX=function(n,e,t,r){var i="";do t||n--,i=r(n)+i,n/=e;while(n*e>=e);return i},cr=function(n,e,t,r,i){var s=t-e+1;return(n<0?"-":"")+(iX(Math.abs(n),s,r,function(a){return pr(Math.floor(a%s)+e)})+i)},Tf=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return iX(Math.abs(n),r,!1,function(i){return e[Math.floor(i%r)]})+t},Og=1,Cc=2,Ec=4,xw=8,ll=function(n,e,t,r,i,s){if(n<-9999||n>9999)return Zw(n,4,i.length>0);var a=Math.abs(n),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&Hr(s,Og)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Hr(s,Cc)||u===1&&l===1&&Hr(s,Ec)&&n>100||u===1&&l>1&&Hr(s,xw)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?r:"")+o},$G="",jG="",WG="",PU="",Zw=function(n,e,t){var r=t?". ":"",i=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=cr(n,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Tf(n,"",i);case 6:return Bg(n,1,3999,zG,3,r).toLowerCase();case 7:return Bg(n,1,3999,zG,3,r);case 8:return cr(n,945,969,!1,r);case 9:return cr(n,97,122,!1,r);case 10:return cr(n,65,90,!1,r);case 11:return cr(n,1632,1641,!0,r);case 12:case 49:return Bg(n,1,9999,qG,3,r);case 35:return Bg(n,1,9999,qG,3,r).toLowerCase();case 13:return cr(n,2534,2543,!0,r);case 14:case 30:return cr(n,6112,6121,!0,r);case 15:return Tf(n,"",i);case 16:return Tf(n,"",i);case 17:case 48:return ll(n,"",$G,"",i,Cc|Ec|xw);case 47:return ll(n,"",jG,"",i,Og|Cc|Ec|xw);case 42:return ll(n,"",$G,"",i,Cc|Ec|xw);case 41:return ll(n,"",jG,"",i,Og|Cc|Ec|xw);case 26:return ll(n,"","",WG,i,0);case 25:return ll(n,"","",WG,i,Og|Cc|Ec);case 31:return ll(n,"","",PU,s,Og|Cc|Ec);case 33:return ll(n,"","",PU,s,0);case 32:return ll(n,"","",PU,s,Og|Cc|Ec);case 18:return cr(n,2406,2415,!0,r);case 20:return Bg(n,1,19999,$ye,3,r);case 21:return cr(n,2790,2799,!0,r);case 22:return cr(n,2662,2671,!0,r);case 22:return Bg(n,1,10999,qye,3,r);case 23:return Tf(n,"");case 24:return Tf(n,"");case 27:return cr(n,3302,3311,!0,r);case 28:return Tf(n,"",i);case 29:return Tf(n,"",i);case 34:return cr(n,3792,3801,!0,r);case 37:return cr(n,6160,6169,!0,r);case 38:return cr(n,4160,4169,!0,r);case 39:return cr(n,2918,2927,!0,r);case 40:return cr(n,1776,1785,!0,r);case 43:return cr(n,3046,3055,!0,r);case 44:return cr(n,3174,3183,!0,r);case 45:return cr(n,3664,3673,!0,r);case 46:return cr(n,3872,3881,!0,r);case 3:default:return cr(n,48,57,!0,r)}},sX="data-html2canvas-ignore",YG=(function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new zye,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,i=jye(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,u=Xye(i).then(function(){return Zi(r,void 0,void 0,function(){var d,h;return ki(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(t0e),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Yye(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Zye(document.doctype)+"<html></html>"),e0e(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(DN(e,2))debugger;if(tX(e))return this.createCanvasClone(e);if(VG(e))return this.createVideoClone(e);if(KG(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return kN(t)&&(kN(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),GG(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return RU(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,r){(!jg(t)||!Gye(t)&&!t.hasAttribute(sX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!jg(t)||!KG(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(jg(s)&&rX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(t,o,r)})}else this.appendChildNode(t,s,r)},n.prototype.cloneNode=function(e,t){if(ZY(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&jg(e)&&(QN(e)||I_(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&QN(i)&&(this.clonedReferenceElement=i),nk(i)&&i0e(i);var l=this.counters.parse(new _G(this.context,s)),u=this.resolvePseudoContent(e,i,a,Hw.BEFORE);GG(e)&&(t=!0),VG(e)||this.cloneChildNodes(e,i,t),u&&i.insertBefore(u,i.firstChild);var d=this.resolvePseudoContent(e,i,o,Hw.AFTER);return d&&i.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||I_(e))&&!nX(e)||t)&&RU(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(pT(e)||gT(e))&&(pT(i)||gT(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,i){var s=this;if(r){var a=r.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new _G(this.context,r));var l=new Ove(this.context,r),u=o.createElement("html2canvaspseudoelement");RU(r,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(hn);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(Ay),C=b[0],B=b[1];if(C&&hn(C)){var S=s.counters.getCounterValue(C.value),I=B&&hn(B)?RN.parse(s.context,B.value):3;u.appendChild(o.createTextNode(Zw(S,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter(Ay),C=T[0],R=T[1],B=T[2];if(C&&hn(C)){var M=s.counters.getCounterValues(C.value),D=B&&hn(B)?RN.parse(s.context,B.value):3,L=R&&R.type===0?R.value:"",H=M.map(function(G){return Zw(G,D,!1)}).join(L);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(xG(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(xG(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=ON+" "+HN;var d=i===Hw.BEFORE?" "+ON:" "+HN;return I_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),Hw;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Hw||(Hw={}));var jye=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(sX,"true"),n.body.appendChild(t),t},Wye=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Yye=function(n){return Promise.all([].slice.call(n.images,0).map(Wye))},Xye=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var i=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},Jye=["all","d","content"],RU=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);Jye.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},Zye=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},e0e=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},t0e=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},n0e=":before",r0e=":after",ON="___html2canvas___pseudoelement_before",HN="___html2canvas___pseudoelement_after",XG=`{
    content: "" !important;
    display: none !important;
}`,i0e=function(n){s0e(n,"."+ON+n0e+XG+`
         .`+HN+r0e+XG)},s0e=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},aX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),a0e=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(NU(e)||u0e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Zi(this,void 0,void 0,function(){var t,r,i,s,a=this;return ki(this,function(o){switch(o.label){case 0:return t=aX.isSameOrigin(e),r=!DU(e)&&this._options.useCORS===!0&&bi.SUPPORT_CORS_IMAGES&&!t,i=!DU(e)&&!t&&!NU(e)&&typeof this._options.proxy=="string"&&bi.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!DU(e)&&!NU(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(c0e(s)||r)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=bi.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+i)}}l.send()})},n})(),o0e=/^data:image\/svg\+xml/i,A0e=/^data:image\/.*;base64,/i,l0e=/^data:image\/.*/i,u0e=function(n){return bi.SUPPORT_SVG_DRAWING||!d0e(n)},DU=function(n){return l0e.test(n)},c0e=function(n){return A0e.test(n)},NU=function(n){return n.substr(0,4)==="blob"},d0e=function(n){return n.substr(-3).toLowerCase()==="svg"||o0e.test(n)},Re=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),Sg=function(n,e,t){return new Re(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},fx=(function(){function n(e,t,r,i){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=i}return n.prototype.subdivide=function(e,t){var r=Sg(this.start,this.startControl,e),i=Sg(this.startControl,this.endControl,e),s=Sg(this.endControl,this.end,e),a=Sg(r,i,e),o=Sg(i,s,e),l=Sg(a,o,e);return t?new n(this.start,r,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),Za=function(n){return n.type===1},f0e=(function(){function n(e){var t=e.styles,r=e.bounds,i=Bw(t.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],o=Bw(t.borderTopRightRadius,r.width,r.height),l=o[0],u=o[1],d=Bw(t.borderBottomRightRadius,r.width,r.height),h=d[0],g=d[1],v=Bw(t.borderBottomLeftRadius,r.width,r.height),b=v[0],C=v[1],B=[];B.push((s+l)/r.width),B.push((b+h)/r.width),B.push((a+C)/r.height),B.push((u+g)/r.height);var S=Math.max.apply(Math,B);S>1&&(s/=S,a/=S,l/=S,u/=S,h/=S,g/=S,b/=S,C/=S);var I=r.width-l,T=r.height-g,R=r.width-h,M=r.height-C,D=t.borderTopWidth,L=t.borderRightWidth,H=t.borderBottomWidth,k=t.borderLeftWidth,K=In(t.paddingTop,e.bounds.width),G=In(t.paddingRight,e.bounds.width),z=In(t.paddingBottom,e.bounds.width),Z=In(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?On(r.left+k/3,r.top+D/3,s-k/3,a-D/3,zt.TOP_LEFT):new Re(r.left+k/3,r.top+D/3),this.topRightBorderDoubleOuterBox=s>0||a>0?On(r.left+I,r.top+D/3,l-L/3,u-D/3,zt.TOP_RIGHT):new Re(r.left+r.width-L/3,r.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?On(r.left+R,r.top+T,h-L/3,g-H/3,zt.BOTTOM_RIGHT):new Re(r.left+r.width-L/3,r.top+r.height-H/3),this.bottomLeftBorderDoubleOuterBox=b>0||C>0?On(r.left+k/3,r.top+M,b-k/3,C-H/3,zt.BOTTOM_LEFT):new Re(r.left+k/3,r.top+r.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?On(r.left+k*2/3,r.top+D*2/3,s-k*2/3,a-D*2/3,zt.TOP_LEFT):new Re(r.left+k*2/3,r.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?On(r.left+I,r.top+D*2/3,l-L*2/3,u-D*2/3,zt.TOP_RIGHT):new Re(r.left+r.width-L*2/3,r.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?On(r.left+R,r.top+T,h-L*2/3,g-H*2/3,zt.BOTTOM_RIGHT):new Re(r.left+r.width-L*2/3,r.top+r.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||C>0?On(r.left+k*2/3,r.top+M,b-k*2/3,C-H*2/3,zt.BOTTOM_LEFT):new Re(r.left+k*2/3,r.top+r.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?On(r.left+k/2,r.top+D/2,s-k/2,a-D/2,zt.TOP_LEFT):new Re(r.left+k/2,r.top+D/2),this.topRightBorderStroke=s>0||a>0?On(r.left+I,r.top+D/2,l-L/2,u-D/2,zt.TOP_RIGHT):new Re(r.left+r.width-L/2,r.top+D/2),this.bottomRightBorderStroke=h>0||g>0?On(r.left+R,r.top+T,h-L/2,g-H/2,zt.BOTTOM_RIGHT):new Re(r.left+r.width-L/2,r.top+r.height-H/2),this.bottomLeftBorderStroke=b>0||C>0?On(r.left+k/2,r.top+M,b-k/2,C-H/2,zt.BOTTOM_LEFT):new Re(r.left+k/2,r.top+r.height-H/2),this.topLeftBorderBox=s>0||a>0?On(r.left,r.top,s,a,zt.TOP_LEFT):new Re(r.left,r.top),this.topRightBorderBox=l>0||u>0?On(r.left+I,r.top,l,u,zt.TOP_RIGHT):new Re(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||g>0?On(r.left+R,r.top+T,h,g,zt.BOTTOM_RIGHT):new Re(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=b>0||C>0?On(r.left,r.top+M,b,C,zt.BOTTOM_LEFT):new Re(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?On(r.left+k,r.top+D,Math.max(0,s-k),Math.max(0,a-D),zt.TOP_LEFT):new Re(r.left+k,r.top+D),this.topRightPaddingBox=l>0||u>0?On(r.left+Math.min(I,r.width-L),r.top+D,I>r.width+L?0:Math.max(0,l-L),Math.max(0,u-D),zt.TOP_RIGHT):new Re(r.left+r.width-L,r.top+D),this.bottomRightPaddingBox=h>0||g>0?On(r.left+Math.min(R,r.width-k),r.top+Math.min(T,r.height-H),Math.max(0,h-L),Math.max(0,g-H),zt.BOTTOM_RIGHT):new Re(r.left+r.width-L,r.top+r.height-H),this.bottomLeftPaddingBox=b>0||C>0?On(r.left+k,r.top+Math.min(M,r.height-H),Math.max(0,b-k),Math.max(0,C-H),zt.BOTTOM_LEFT):new Re(r.left+k,r.top+r.height-H),this.topLeftContentBox=s>0||a>0?On(r.left+k+Z,r.top+D+K,Math.max(0,s-(k+Z)),Math.max(0,a-(D+K)),zt.TOP_LEFT):new Re(r.left+k+Z,r.top+D+K),this.topRightContentBox=l>0||u>0?On(r.left+Math.min(I,r.width+k+Z),r.top+D+K,I>r.width+k+Z?0:l-k+Z,u-(D+K),zt.TOP_RIGHT):new Re(r.left+r.width-(L+G),r.top+D+K),this.bottomRightContentBox=h>0||g>0?On(r.left+Math.min(R,r.width-(k+Z)),r.top+Math.min(T,r.height+D+K),Math.max(0,h-(L+G)),g-(H+z),zt.BOTTOM_RIGHT):new Re(r.left+r.width-(L+G),r.top+r.height-(H+z)),this.bottomLeftContentBox=b>0||C>0?On(r.left+k+Z,r.top+M,Math.max(0,b-(k+Z)),C-(H+z),zt.BOTTOM_LEFT):new Re(r.left+k+Z,r.top+r.height-(H+z))}return n})(),zt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(zt||(zt={}));var On=function(n,e,t,r,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=r*s,l=n+t,u=e+r;switch(i){case zt.TOP_LEFT:return new fx(new Re(n,u),new Re(n,u-o),new Re(l-a,e),new Re(l,e));case zt.TOP_RIGHT:return new fx(new Re(n,e),new Re(n+a,e),new Re(l,u-o),new Re(l,u));case zt.BOTTOM_RIGHT:return new fx(new Re(l,e),new Re(l,e+o),new Re(n+a,u),new Re(n,u));case zt.BOTTOM_LEFT:default:return new fx(new Re(l,u),new Re(l-a,u),new Re(n,e+o),new Re(n,e))}},mT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},h0e=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},vT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},p0e=(function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n})(),hx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),g0e=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),m0e=function(n){return n.type===0},oX=function(n){return n.type===1},v0e=function(n){return n.type===2},JG=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},y0e=function(n,e,t,r,i){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+r,t);case 2:return s.add(e+r,t+i);case 3:return s.add(e,t+i)}return s})},AX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),lX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new f0e(this.container),this.container.styles.opacity<1&&this.effects.push(new g0e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new p0e(r,i,s))}if(this.container.styles.overflowX!==0){var a=mT(this.curves),o=vT(this.curves);JG(a,o)?this.effects.push(new hx(a,6)):(this.effects.push(new hx(a,2)),this.effects.push(new hx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!oX(l)});if(t||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=mT(r.curves),o=vT(r.curves);JG(a,o)||i.unshift(new hx(o,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return Hr(l.target,e)})},n})(),VN=function(n,e,t,r){n.container.elements.forEach(function(i){var s=Hr(i.flags,4),a=Hr(i.flags,2),o=new lX(i,n);Hr(i.styles.display,2048)&&r.push(o);var l=Hr(i.flags,8)?[]:r;if(s||a){var u=s||i.styles.isPositioned()?t:e,d=new AX(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(b,C){return h>b.element.container.styles.zIndex.order?(g=C,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(b,C){return h>=b.element.container.styles.zIndex.order?(v=C+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else i.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);VN(o,d,s?d:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),VN(o,e,t,l);Hr(i.flags,8)&&uX(i,l)})},uX=function(n,e){for(var t=n instanceof LN?n.start:1,r=n instanceof LN?n.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof $Y&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Zw(t,s.container.styles.listStyleType,!0),t+=r?-1:1}},w0e=function(n){var e=new lX(n,null),t=new AX(e),r=[];return VN(e,t,t,r),uX(e.container,r),t},ZG=function(n,e){switch(e){case 0:return no(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return no(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return no(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return no(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},b0e=function(n,e){switch(e){case 0:return no(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return no(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return no(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return no(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},C0e=function(n,e){switch(e){case 0:return no(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return no(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return no(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return no(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},E0e=function(n,e){switch(e){case 0:return px(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return px(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return px(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return px(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},px=function(n,e){var t=[];return Za(n)?t.push(n.subdivide(.5,!1)):t.push(n),Za(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},no=function(n,e,t,r){var i=[];return Za(n)?i.push(n.subdivide(.5,!1)):i.push(n),Za(t)?i.push(t.subdivide(.5,!0)):i.push(t),Za(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Za(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},cX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},yT=function(n){var e=n.styles,t=n.bounds,r=In(e.paddingLeft,t.width),i=In(e.paddingRight,t.width),s=In(e.paddingTop,t.width),a=In(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},B0e=function(n,e){return n===0?e.bounds:n===2?yT(e):cX(e)},S0e=function(n,e){return n===0?e.bounds:n===2?yT(e):cX(e)},LU=function(n,e,t){var r=B0e(Hg(n.styles.backgroundOrigin,e),n),i=S0e(Hg(n.styles.backgroundClip,e),n),s=x0e(Hg(n.styles.backgroundSize,e),t,r),a=s[0],o=s[1],l=Bw(Hg(n.styles.backgroundPosition,e),r.width-a,r.height-o),u=_0e(Hg(n.styles.backgroundRepeat,e),l,s,r,i),d=Math.round(r.left+l[0]),h=Math.round(r.top+l[1]);return[u,d,h,a,o]},xg=function(n){return hn(n)&&n.value===am.AUTO},gx=function(n){return typeof n=="number"},x0e=function(n,e,t){var r=e[0],i=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Mr(a)&&o&&Mr(o))return[In(a,t.width),In(o,t.height)];var l=gx(s);if(hn(a)&&(a.value===am.CONTAIN||a.value===am.COVER)){if(gx(s)){var u=t.width/t.height;return u<s!=(a.value===am.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=gx(r),h=gx(i),g=d||h;if(xg(a)&&(!o||xg(o))){if(d&&h)return[r,i];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?r:i*s,b=h?i:r/s;return[v,b]}var C=d?r:t.width,B=h?i:t.height;return[C,B]}if(l){var S=0,I=0;return Mr(a)?S=In(a,t.width):Mr(o)&&(I=In(o,t.height)),xg(a)?S=I*s:(!o||xg(o))&&(I=S/s),[S,I]}var T=null,R=null;if(Mr(a)?T=In(a,t.width):o&&Mr(o)&&(R=In(o,t.height)),T!==null&&(!o||xg(o))&&(R=d&&h?T/r*i:t.height),R!==null&&xg(a)&&(T=d&&h?R/i*r:t.width),T!==null&&R!==null)return[T,R];throw new Error("Unable to calculate background-size for element")},Hg=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},_0e=function(n,e,t,r,i){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new Re(Math.round(r.left),Math.round(r.top+a)),new Re(Math.round(r.left+r.width),Math.round(r.top+a)),new Re(Math.round(r.left+r.width),Math.round(l+r.top+a)),new Re(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new Re(Math.round(r.left+s),Math.round(r.top)),new Re(Math.round(r.left+s+o),Math.round(r.top)),new Re(Math.round(r.left+s+o),Math.round(r.height+r.top)),new Re(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new Re(Math.round(r.left+s),Math.round(r.top+a)),new Re(Math.round(r.left+s+o),Math.round(r.top+a)),new Re(Math.round(r.left+s+o),Math.round(r.top+a+l)),new Re(Math.round(r.left+s),Math.round(r.top+a+l))];default:return[new Re(Math.round(i.left),Math.round(i.top)),new Re(Math.round(i.left+i.width),Math.round(i.top)),new Re(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Re(Math.round(i.left),Math.round(i.height+i.top))]}},T0e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ez="Hidden Text",I0e=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=T0e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(ez)),r.appendChild(s),r.appendChild(i);var o=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(ez)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n})(),dX=(function(){function n(e,t){this.context=e,this.options=t}return n})(),F0e=1e4,M0e=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new I0e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),v0e(t)&&(this.ctx.globalAlpha=t.opacity),m0e(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),oX(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Zi(this,void 0,void 0,function(){var r;return ki(this,function(i){switch(i.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Zi(this,void 0,void 0,function(){return ki(this,function(r){switch(r.label){case 0:if(Hr(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,i){var s=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=ek(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+i),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=N0e(t.fontFamily).join(", "),s=nB(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,r){return Zi(this,void 0,void 0,function(){var i,s,a,o,l,u,d,h,g=this;return ki(this,function(v){return i=this.createFontStyle(r),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=r.paintOrder,t.textBounds.forEach(function(b){h.forEach(function(C){switch(C){case 0:g.ctx.fillStyle=jr(r.color),g.renderTextWithLetterSpacing(b,r.letterSpacing,u);var B=r.textShadow;B.length&&b.text.trim().length&&(B.slice(0).reverse().forEach(function(S){g.ctx.shadowColor=jr(S.color),g.ctx.shadowOffsetX=S.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=S.offsetY.number*g.options.scale,g.ctx.shadowBlur=S.blur.number,g.renderTextWithLetterSpacing(b,r.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=jr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(S){switch(S){case 1:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:g.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+d),b.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&b.text.trim().length&&(g.ctx.strokeStyle=jr(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=yT(t),a=vT(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Zi(this,void 0,void 0,function(){var r,i,s,a,o,l,I,I,u,d,h,g,R,v,b,M,C,B,S,I,T,R,M;return ki(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,i=t.curves,s=r.styles,a=0,o=r.textNodes,D.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof GY))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return I=D.sent(),this.renderReplacedElement(r,i,I),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof zY&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof qY))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return I=D.sent(),this.renderReplacedElement(r,i,I),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof YY&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:d=D.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),D.label=14;case 14:if(r instanceof tk&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===fT?r.checked&&(this.ctx.save(),this.path([new Re(r.bounds.left+h*.39363,r.bounds.top+h*.79),new Re(r.bounds.left+h*.16,r.bounds.top+h*.5549),new Re(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new Re(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new Re(r.bounds.left+h*.72983,r.bounds.top+h*.23),new Re(r.bounds.left+h*.84,r.bounds.top+h*.34085),new Re(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=jr(HG),this.ctx.fill(),this.ctx.restore()):r.type===hT&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=jr(HG),this.ctx.fill(),this.ctx.restore())),U0e(r)&&r.value.length){switch(g=this.createFontStyle(s),R=g[0],v=g[1],b=this.fontMetrics.getMetrics(R,v).baseline,this.ctx.font=R,this.ctx.fillStyle=jr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=R0e(r.styles.textAlign),M=yT(r),C=0,r.styles.textAlign){case 1:C+=M.width/2;break;case 2:C+=M.width;break}B=M.add(C,0,0,-M.height/2+1),this.ctx.save(),this.path([new Re(M.left,M.top),new Re(M.left+M.width,M.top),new Re(M.left+M.width,M.top+M.height),new Re(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ow(r.value,B),s.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Hr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(S=r.styles.listStyleImage,S.type!==0)return[3,18];I=void 0,T=S.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=D.sent(),this.ctx.drawImage(I,r.bounds.left-(I.width+10),r.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=jr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new Su(r.bounds.left,r.bounds.top+In(r.styles.paddingTop,r.bounds.width),r.bounds.width,BG(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ow(t.listValue,M),s.letterSpacing,BG(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Zi(this,void 0,void 0,function(){var r,i,S,s,a,S,o,l,S,u,d,S,h,g,S,v,b,S,C,B,S;return ki(this,function(I){switch(I.label){case 0:if(Hr(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),r=0,i=t.negativeZIndex,I.label=2;case 2:return r<i.length?(S=i[r],[4,this.renderStack(S)]):[3,5];case 3:I.sent(),I.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(S=a[s],[4,this.renderNode(S)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(S=l[o],[4,this.renderStack(S)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(S=d[u],[4,this.renderStack(S)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(S=g[h],[4,this.renderNode(S)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,b=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<b.length?(S=b[v],[4,this.renderStack(S)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:C=0,B=t.positiveZIndex,I.label=27;case 27:return C<B.length?(S=B[C],[4,this.renderStack(S)]):[3,30];case 28:I.sent(),I.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(i,s){var a=Za(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),Za(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,r,i,s){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,r,i){var s;if(t.width===r&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(t){return Zi(this,void 0,void 0,function(){var r,i,s,a,o,l;return ki(this,function(u){switch(u.label){case 0:r=t.styles.backgroundImage.length-1,i=function(d){var h,g,v,K,V,$,Z,ne,H,b,K,V,$,Z,ne,C,B,S,I,T,R,M,D,L,H,k,K,G,z,Z,ne,J,V,$,re,de,Ee,q,Y,Ae,me,ie;return ki(this,function(he){switch(he.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,he.label=1;case 1:return he.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=he.sent(),[3,4];case 3:return he.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=LU(t,r,[h.width,h.height,h.width/h.height]),K=v[0],V=v[1],$=v[2],Z=v[3],ne=v[4],H=s.ctx.createPattern(s.resizeImage(h,Z,ne),"repeat"),s.renderRepeat(K,H,V,$)),[3,6];case 5:mme(d)?(b=LU(t,r,[null,null,null]),K=b[0],V=b[1],$=b[2],Z=b[3],ne=b[4],C=dme(d.angle,Z,ne),B=C[0],S=C[1],I=C[2],T=C[3],R=C[4],M=document.createElement("canvas"),M.width=Z,M.height=ne,D=M.getContext("2d"),L=D.createLinearGradient(S,T,I,R),CG(d.stops,B).forEach(function(ce){return L.addColorStop(ce.stop,jr(ce.color))}),D.fillStyle=L,D.fillRect(0,0,Z,ne),Z>0&&ne>0&&(H=s.ctx.createPattern(M,"repeat"),s.renderRepeat(K,H,V,$))):vme(d)&&(k=LU(t,r,[null,null,null]),K=k[0],G=k[1],z=k[2],Z=k[3],ne=k[4],J=d.position.length===0?[XQ]:d.position,V=In(J[0],Z),$=In(J[J.length-1],ne),re=fme(d,V,$,Z,ne),de=re[0],Ee=re[1],de>0&&Ee>0&&(q=s.ctx.createRadialGradient(G+V,z+$,0,G+V,z+$,de),CG(d.stops,de*2).forEach(function(ce){return q.addColorStop(ce.stop,jr(ce.color))}),s.path(K),s.ctx.fillStyle=q,de!==Ee?(Y=t.bounds.left+.5*t.bounds.width,Ae=t.bounds.top+.5*t.bounds.height,me=Ee/de,ie=1/me,s.ctx.save(),s.ctx.translate(Y,Ae),s.ctx.transform(1,0,0,me,0,0),s.ctx.translate(-Y,-Ae),s.ctx.fillRect(G,ie*(z-Ae)+Ae,Z,ne*ie),s.ctx.restore()):s.ctx.fill())),he.label=6;case 6:return r--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,i){return Zi(this,void 0,void 0,function(){return ki(this,function(s){return this.path(ZG(i,r)),this.ctx.fillStyle=jr(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,i,s){return Zi(this,void 0,void 0,function(){var a,o;return ki(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=b0e(s,i),this.path(a),this.ctx.fillStyle=jr(t),this.ctx.fill(),o=C0e(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Zi(this,void 0,void 0,function(){var r,i,s,a,o,l,u,d,h=this;return ki(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,i=!$d(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=P0e(Hg(r.backgroundClip,0),t.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),$d(r.backgroundColor)||(this.ctx.fillStyle=jr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var b=mT(t.curves),C=v.inset?0:F0e,B=y0e(b,-C+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(b),h.ctx.clip(),h.mask(B)):(h.mask(b),h.ctx.clip(),h.path(B)),h.ctx.shadowOffsetX=v.offsetX.number+C,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=jr(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?jr(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!$d(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,i,s,a){return Zi(this,void 0,void 0,function(){var o,l,u,d,h,g,v,b,C,B,S,I,T,R,M,D,M,D;return ki(this,function(L){return this.ctx.save(),o=E0e(s,i),l=ZG(s,i),a===2&&(this.path(l),this.ctx.clip()),Za(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),Za(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),i===0||i===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=r<3?r*3:r*2,C=r<3?r*2:r,a===3&&(b=r,C=r),B=!0,v<=b*2?B=!1:v<=b*2+C?(S=v/(2*b+C),b*=S,C*=S):(I=Math.floor((v+C)/(b+C)),T=(v-I*b)/(I-1),R=(v-(I+1)*b)/I,C=R<=0||Math.abs(C-T)<Math.abs(C-R)?T:R),B&&(a===3?this.ctx.setLineDash([0,b+C]):this.ctx.setLineDash([b,C])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=jr(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Za(l[0])&&(M=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new Re(M.end.x,M.end.y),new Re(D.start.x,D.start.y)]),this.ctx.stroke()),Za(l[1])&&(M=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new Re(M.end.x,M.end.y),new Re(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Zi(this,void 0,void 0,function(){var r;return ki(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=jr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=w0e(t),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(dX),U0e=function(n){return n instanceof WY||n instanceof jY?!0:n instanceof tk&&n.type!==hT&&n.type!==fT},P0e=function(n,e){switch(n){case 0:return mT(e);case 2:return h0e(e);case 1:default:return vT(e)}},R0e=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},D0e=["-apple-system","system-ui"],N0e=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return D0e.indexOf(e)===-1}):n},L0e=(function(n){Go(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(t){return Zi(this,void 0,void 0,function(){var r,i;return ki(this,function(s){switch(s.label){case 0:return r=NN(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Q0e(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=jr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(dX),Q0e=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},k0e=(function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,jS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,jS([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,jS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,jS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),O0e=(function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new k0e({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new a0e(this,e)}return n.instanceCount=1,n})(),H0e=function(n,e){return e===void 0&&(e={}),V0e(n,e)};typeof window<"u"&&aX.setContext(window);var V0e=function(n,e){return Zi(void 0,void 0,void 0,function(){var t,r,i,s,a,o,l,u,d,h,g,v,b,C,B,S,I,T,R,M,L,D,L,H,k,K,G,z,Z,ne,J,V,$,re,de,Ee,q,Y,Ae,me;return ki(this,function(ie){switch(ie.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(K=e.useCORS)!==null&&K!==void 0?K:!1},s=bN({logging:(G=e.logging)!==null&&G!==void 0?G:!0,cache:e.cache},i),a={windowWidth:(z=e.windowWidth)!==null&&z!==void 0?z:r.innerWidth,windowHeight:(Z=e.windowHeight)!==null&&Z!==void 0?Z:r.innerHeight,scrollX:(ne=e.scrollX)!==null&&ne!==void 0?ne:r.pageXOffset,scrollY:(J=e.scrollY)!==null&&J!==void 0?J:r.pageYOffset},o=new Su(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new O0e(s,o),u=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,d={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new YG(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=ie.sent(),b=nk(g)||Kye(g)?ype(g.ownerDocument):$1(l,g),C=b.width,B=b.height,S=b.left,I=b.top,T=K0e(l,g,e.backgroundColor),R={canvas:e.canvas,backgroundColor:T,scale:(de=(re=e.scale)!==null&&re!==void 0?re:r.devicePixelRatio)!==null&&de!==void 0?de:1,x:((Ee=e.x)!==null&&Ee!==void 0?Ee:0)+S,y:((q=e.y)!==null&&q!==void 0?q:0)+I,width:(Y=e.width)!==null&&Y!==void 0?Y:Math.ceil(C),height:(Ae=e.height)!==null&&Ae!==void 0?Ae:Math.ceil(B)},u?(l.logger.debug("Document cloned, using foreign object rendering"),L=new L0e(l,R),[4,L.render(g)]):[3,3];case 2:return M=ie.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+S+","+I+" with size "+C+"x"+B+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=JY(l,g),T===D.styles.backgroundColor&&(D.styles.backgroundColor=mu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),L=new M0e(l,R),[4,L.render(D)];case 4:M=ie.sent(),ie.label=5;case 5:return(!((me=e.removeContainer)!==null&&me!==void 0)||me)&&(YG.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,M]}})})},K0e=function(n,e,t){var r=e.ownerDocument,i=r.documentElement?Qw(n,getComputedStyle(r.documentElement).backgroundColor):mu.TRANSPARENT,s=r.body?Qw(n,getComputedStyle(r.body).backgroundColor):mu.TRANSPARENT,a=typeof t=="string"?Qw(n,t):t===null?mu.TRANSPARENT:4294967295;return e===r.documentElement?$d(i)?$d(s)?a:s:i:a};const G0e=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:r,viewMode:i,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:b,showAnnotations:C,triggerSmartExplain:B,isCaptureMode:S,setCaptureMode:I,setCapturedImage:T}=rf(),R=n||t,M=e==="main",D=F.useRef(null),L=F.useRef(null),H=F.useRef(0),[k,K]=F.useState({text:"",top:0,left:0,show:!1}),[G,z]=F.useState({show:!1,text:""}),[Z]=F.useState(()=>"ontouchstart"in window||navigator.maxTouchPoints>0),[ne,J]=F.useState(!1),[V,$]=F.useState([]),[re,de]=F.useState(null),[Ee,q]=F.useState(null);F.useEffect(()=>{if(!M)return;const xe=te=>{te.key==="Escape"&&S&&(I(!1),de(null),q(null))};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[S,I,M]);const Y=F.useMemo(()=>{let xe=R.content;return C&&[...v.filter(Ue=>Ue.chapterId===R.id)].sort((Ue,pt)=>pt.text.length-Ue.text.length).forEach(Ue=>{const pt=Ue.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Ke=new RegExp(pt,"g"),pn=`<mark id="hl-${Ue.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${Ue.note||"Highlight"}">${Ue.text}</mark>`;xe=xe.replace(Ke,pn)}),xe},[R.content,R.id,v,C]);F.useEffect(()=>{if(b&&C){const xe=document.getElementById(`hl-${b}`);xe&&document.body.contains(xe)&&(xe.scrollIntoView({behavior:"smooth",block:"center"}),xe.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{xe.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[b,Y,C]),F.useEffect(()=>{const xe=te=>{const Be=te.target;!Be.closest(`#selection-menu-${e}`)&&!Be.closest(`#memo-dialog-${e}`)&&K(Ue=>({...Ue,show:!1}))};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[e]);const Ae=()=>{var or,wr;if(a!=="idle"||S){K(we=>({...we,show:!1}));return}const xe=window.getSelection();if(!xe||xe.isCollapsed||xe.rangeCount===0){K(we=>({...we,show:!1}));return}if(!(((or=D.current)==null?void 0:or.contains(xe.anchorNode))||((wr=D.current)==null?void 0:wr.contains(xe.focusNode)))||!D.current){K(we=>({...we,show:!1}));return}const Be=xe.getRangeAt(0),Ue=Be.getBoundingClientRect(),pt=Array.from(Be.getClientRects()),Ke=Ue.width>0&&Ue.height>0&&Ue||pt.find(we=>we.width>0&&we.height>0);if(!Ke||Ke.width===0){K(we=>({...we,show:!1}));return}const pn=240,Ft=12;let Bn=Z?Ke.bottom+Ft:Ke.top-56,St=Ke.left+Ke.width/2-pn/2;Bn<Ft&&(Bn=Ke.bottom+Ft),St<Ft&&(St=Ft),St+pn>window.innerWidth-Ft&&(St=window.innerWidth-pn-Ft),K({text:xe.toString().trim(),top:Bn,left:St,show:!0})},me=()=>{[0,40,120].forEach(te=>setTimeout(Ae,te))},ie=()=>{M&&S||a==="idle"&&me()},he=()=>{var xe;s(k.text,void 0,R.id),K(te=>({...te,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},ce=()=>{K(xe=>({...xe,show:!1})),z({show:!0,text:""})},Se=()=>{var xe;G.text.trim()&&s(k.text,G.text,R.id),z({show:!1,text:""}),(xe=window.getSelection())==null||xe.removeAllRanges()},ee=()=>{var xe;B(k.text),K(te=>({...te,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},Me=xe=>{if(!L.current)return null;const te=L.current.getBoundingClientRect();if(te.width===0||te.height===0)return null;const Be=L.current.width/te.width,Ue=L.current.height/te.height;return{x:(xe.clientX-te.left)*Be,y:(xe.clientY-te.top)*Ue}},Te=xe=>{var Be;if(M&&S||a==="idle")return;xe.target.setPointerCapture(xe.pointerId);const te=Me(xe);if(te&&(J(!0),$([te]),D.current&&a==="pen")){const Ue=Array.from(D.current.children);let pt=0;const Ke=(Be=L.current)==null?void 0:Be.getBoundingClientRect(),pn=xe.clientY-((Ke==null?void 0:Ke.top)||0);for(let Ft=0;Ft<Ue.length;Ft++){const Bn=Ue[Ft];if(pn>=Bn.offsetTop&&pn<=Bn.offsetTop+Bn.offsetHeight){pt=Ft;break}if(pn<Bn.offsetTop){pt=Math.max(0,Ft-1);break}pt=Ft}H.current=pt}},ve=xe=>{if(M&&S||!ne||a==="idle")return;xe.preventDefault();const te=Me(xe);if(te){if(a==="pen")$(Be=>[...Be,te]);else if(a==="eraser"){const Be=d[R.id]||[],Ue=D.current?Array.from(D.current.children):[];Be.forEach(pt=>{let Ke=pt.points;if(pt.anchorIndex!==void 0&&Ue[pt.anchorIndex]){const Ft=Ue[pt.anchorIndex].offsetTop;Ke=pt.points.map(Bn=>({x:Bn.x,y:Bn.y+Ft}))}Ke.some(Ft=>Math.hypot(Ft.x-te.x,Ft.y-te.y)<20)&&g(R.id,pt.id)})}}},vt=xe=>{if(!(M&&S)&&ne){if(xe.target.releasePointerCapture(xe.pointerId),J(!1),a==="pen"&&V.length>1){let te=V,Be;if(D.current){Be=H.current;const pt=D.current.children;if(pt[Be]){const Ke=pt[Be].offsetTop;te=V.map(pn=>({x:pn.x,y:pn.y-Ke}))}}const Ue={id:Date.now().toString(),points:te,color:o,width:l,opacity:u,anchorIndex:Be};h(R.id,Ue)}$([])}},$e=xe=>{if(!M||!S)return;const te={x:xe.clientX,y:xe.clientY};de(te),q(te)},Gt=xe=>{!M||!S||!re||q({x:xe.clientX,y:xe.clientY})},It=async xe=>{if(!M||!S||!re||!Ee){de(null),q(null);return}const te=re,Be={x:xe.clientX,y:xe.clientY},Ue={x:Math.min(te.x,Be.x),y:Math.min(te.y,Be.y),width:Math.abs(Be.x-te.x),height:Math.abs(Be.y-te.y)};if(de(null),q(null),!(Ue.width<10||Ue.height<10))try{const pt=await H0e(document.body,{x:Ue.x+window.scrollX,y:Ue.y+window.scrollY,width:Ue.width,height:Ue.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:Ke=>Ke.classList.contains("capture-overlay-ui")});T(pt.toDataURL())}catch(pt){console.error(pt)}finally{I(!1)}};F.useEffect(()=>{const xe=L.current;if(!xe||!D.current)return;const te=()=>{if(!xe||!D.current)return;const Ue=window.devicePixelRatio||1;xe.width=D.current.offsetWidth*Ue,xe.height=D.current.offsetHeight*Ue;const pt=xe.getContext("2d");pt&&pt.scale(Ue,Ue)};te();const Be=new ResizeObserver(te);return Be.observe(D.current),()=>Be.disconnect()},[R.id,i]),F.useEffect(()=>{const xe=()=>me(),te=()=>me();return document.addEventListener("selectionchange",xe),document.addEventListener("touchend",te),()=>{document.removeEventListener("selectionchange",xe),document.removeEventListener("touchend",te)}},[S,a,Z]),F.useEffect(()=>{const xe=L.current;if(!xe||!D.current)return;const te=xe.getContext("2d");if(!te||(te.save(),te.setTransform(1,0,0,1,0,0),te.clearRect(0,0,xe.width,xe.height),te.restore(),!C&&!ne))return;const Be=(Ke,pn,Ft,Bn)=>{if(!(Ke.length<2)){te.beginPath(),te.lineWidth=Ft,te.strokeStyle=pn,te.lineCap="round",te.lineJoin="round",te.globalAlpha=Bn,te.moveTo(Ke[0].x,Ke[0].y);for(let St=1;St<Ke.length-1;St++){const or={x:(Ke[St].x+Ke[St+1].x)/2,y:(Ke[St].y+Ke[St+1].y)/2};te.quadraticCurveTo(Ke[St].x,Ke[St].y,or.x,or.y)}te.lineTo(Ke[Ke.length-1].x,Ke[Ke.length-1].y),te.stroke(),te.globalAlpha=1}},Ue=Array.from(D.current.children);(d[R.id]||[]).forEach(Ke=>{let pn=Ke.points;if(Ke.anchorIndex!==void 0&&Ue[Ke.anchorIndex]){const Ft=Ue[Ke.anchorIndex].offsetTop;pn=Ke.points.map(Bn=>({x:Bn.x,y:Bn.y+Ft}))}Be(pn,Ke.color,Ke.width||3,Ke.opacity!==void 0?Ke.opacity:1)}),ne&&V.length>1&&a==="pen"&&Be(V,o,l,u)},[d,R.id,ne,V,o,l,u,a,C]);const zn=()=>{switch(r){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},nt=M&&S&&re&&Ee?{position:"fixed",left:Math.min(re.x,Ee.x),top:Math.min(re.y,Ee.y),width:Math.abs(Ee.x-re.x),height:Math.abs(Ee.y-re.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},yr={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},Yn=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,en=e==="main"&&i==="double",ya=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${en?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",wa=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${zn()} ${en?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,tn=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return Q.jsxs("div",{className:tn,onPointerUp:ie,onTouchEnd:ie,children:[M&&S&&Q.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:$e,onMouseMove:Gt,onMouseUp:It,children:!re&&Q.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),M&&S&&re&&Ee&&Q.jsx("div",{style:nt,className:"capture-overlay-ui"}),Q.jsxs("div",{className:ya,children:[Q.jsx("div",{ref:D,className:wa,dangerouslySetInnerHTML:{__html:Y},onContextMenu:xe=>xe.preventDefault()}),Q.jsx("canvas",{ref:L,className:Yn,style:yr,onPointerDown:Te,onPointerMove:ve,onPointerUp:vt,onPointerLeave:vt})]}),k.show&&!S&&Q.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:k.top,left:k.left},children:[Q.jsxs("button",{onClick:he,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(S_,{size:14,className:"text-yellow-400"})," High"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:ce,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(ope,{size:14,className:"text-green-400"})," Memo"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:ee,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(Rhe,{size:14,className:"text-blue-400"})," AI"]})]}),G.show&&Q.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:Q.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[Q.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),Q.jsx("textarea",{autoFocus:!0,value:G.text,onChange:xe=>z(te=>({...te,text:xe.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[Q.jsx("button",{onClick:()=>z({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),Q.jsx("button",{onClick:Se,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},z0e=({pdfPageCount:n,pdfCurrentPage:e,onPdfGoToPage:t,pdfPageStep:r})=>{var T;const{chapters:i,currentChapterIndex:s,goToNextChapter:a,goToPrevChapter:o,goToChapter:l}=rf(),u=!!t&&(n||0)>0,d=u?n||1:i.length,h=u?e||1:s+1,g=u?Math.max(1,r??1):1,v=h-1,b=((T=i[s])==null?void 0:T.title)||(u?"PDF":"Chapter"),[C,B]=F.useState(h.toString());F.useEffect(()=>{B(h.toString())},[h]);const S=R=>{R.preventDefault();const M=parseInt(C);if(isNaN(M)||M<1||M>d){B(h.toString());return}u?t==null||t(M):l(M-1)},I=R=>{const M=parseInt(R.target.value);u?t==null||t(M+1):l(M)};return Q.jsxs("div",{className:"navigation_inner",children:[Q.jsxs("div",{className:"prograss_bar_wrap",children:[Q.jsx("input",{type:"range",min:"0",max:Math.max(d-1,0),value:v,onChange:I,className:"prograss_max"}),Q.jsx("div",{className:"prograss_range",style:{width:`${h/d*100}%`},children:Q.jsx("div",{className:"prograss_pointer"})})]}),Q.jsxs("div",{className:"navigation_bottom_box",children:[Q.jsxs("button",{onClick:()=>u?t==null?void 0:t(Math.max(1,h-g)):o(),disabled:u?h<=1:s===0,className:`
            ${u?h<=1?"off":"on":s===0?"off":"on"}
          `,children:[Q.jsx(uhe,{size:18}),Q.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),Q.jsxs("div",{className:"chapter_page",children:[Q.jsxs("form",{onSubmit:S,className:"",children:[Q.jsx("span",{className:"text_xs",children:"Page"}),Q.jsx("input",{type:"text",value:C,onChange:R=>B(R.target.value),className:""}),Q.jsxs("span",{className:"slash",children:["/ ",d]})]}),Q.jsx("span",{className:"chapter_name",children:b})]}),Q.jsxs("button",{onClick:()=>u?t==null?void 0:t(Math.min(d,h+g)):a(),disabled:u?h>=d:s===i.length-1,className:`
            ${u?h>=d?"off":"on":s===i.length-1?"off":"on"}
          `,children:[Q.jsx("span",{className:"hidden sm:inline",children:"Next"}),Q.jsx(dhe,{size:18})]})]})]})},q0e=({visible:n,top:e,left:t,copyStatus:r,onHighlight:i,onCopy:s,onAskAi:a,onCancel:o})=>n?Q.jsxs("div",{className:"pdf_selection_menu",style:{top:e,left:t},children:[(r==="ok"||r==="fail")&&Q.jsx("span",{className:`pdf_selection_menu_copy_status ${r==="ok"?"pdf_viewer_copy_status_ok":"pdf_viewer_copy_status_fail"}`,children:r==="ok"?"":" "}),Q.jsx("button",{onClick:i,children:"Highlight"}),Q.jsx("div",{className:"pdf_selection_menu_copy_block",children:Q.jsx("button",{onClick:s,children:"Copy"})}),Q.jsx("button",{onClick:a,children:"AI"}),Q.jsx("button",{onClick:o,children:"Cancel"})]}):null,$0e=({loading:n,errorMsg:e,progress:t})=>{if(!n&&!e)return null;const r=Math.min(100,Math.max(1,Math.round(t||0)));return Q.jsxs(Q.Fragment,{children:[n&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_loading",children:Q.jsxs("div",{className:"pdf_viewer_progress",children:[Q.jsx("div",{className:"pdf_viewer_progress_title",children:"PDF  ..."}),Q.jsx("div",{className:"pdf_viewer_progress_bar",children:Q.jsx("div",{className:"pdf_viewer_progress_bar_fill",style:{width:`${r}%`}})}),Q.jsxs("div",{className:"pdf_viewer_progress_percent",children:[r,"%"]})]})}),e&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_error",children:Q.jsxs("div",{className:"pdf_viewer_error",children:[Q.jsx("div",{className:"pdf_viewer_error_title",children:"PDF  "}),Q.jsx("div",{children:e})]})})]})},{AbortException:j0e,AnnotationEditorLayer:W0e,AnnotationEditorParamsType:$Qe,AnnotationEditorType:ps,AnnotationEditorUIManager:Y0e,AnnotationLayer:X0e,AnnotationMode:FA,AnnotationType:fX,applyOpacity:jQe,build:WQe,ColorPicker:YQe,createValidAbsoluteUrl:hX,CSSConstants:XQe,DOMSVGFactory:JQe,DrawLayer:J0e,FeatureTest:pX,fetchData:tz,findContrastColor:ZQe,getDocument:eke,getFilenameFromUrl:tke,getPdfFilenameFromUrl:Z0e,getRGB:nke,getUuid:rke,getXfaPageViewport:ike,GlobalWorkerOptions:ske,ImageKind:ake,InvalidPDFException:oke,isDataScheme:Ake,isPdfFile:ewe,isValidExplicitDest:twe,MathClamp:rk,noContextMenu:lke,normalizeUnicode:nwe,OPS:uke,OutputScale:F_,PasswordResponses:cke,PDFDataRangeTransport:dke,PDFDateString:fke,PDFWorker:hke,PermissionFlag:_g,PixelsPerInch:gl,RenderingCancelledException:KN,renderRichText:pke,ResponseException:gke,setLayerDimensions:gX,shadow:eb,SignatureExtractor:mke,stopEvent:GN,SupportedImageMimeTypes:vke,TextLayer:rwe,TouchManager:yke,updateUrlHash:iwe,Util:ik,VerbosityLevel:wke,version:nz,XfaLayer:QU}=globalThis.pdfjsLib,swe="auto",mX=1,rz=1.1,awe=.1,owe=10,kU=0,Awe=1.25,iz=40,sz=5,kt={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},om={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},TA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},Rt={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},gr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function vX(n,e,t=!1){let r=n.offsetParent;if(!r){console.error("offsetParent is not set -- cannot scroll");return}let i=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||t&&(r.classList.contains("markedContent")||getComputedStyle(r).overflow==="hidden");)if(i+=r.offsetTop,s+=r.offsetLeft,r=r.offsetParent,!r)return;if(e&&(e.top!==void 0&&(i+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=rk((r.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;r.scrollLeft=s}r.scrollTop=i}function lwe(n,e,t=void 0){const r=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=i.lastX;l!==u&&(i.right=l>u),i.lastX=l;const d=n.scrollTop,h=i.lastY;d!==h&&(i.down=d>h),i.lastY=d,e(i)}))},i={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:r};let s=null;return n.addEventListener("scroll",r,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),i}function rI(n){const e=new Map;for(const[t,r]of new URLSearchParams(n))e.set(t.toLowerCase(),r);return e}const az=/[\x00-\x1F]/g;function Vw(n,e=!1){return az.test(n)?e?n.replaceAll(az,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function tb(n,e,t=0){let r=t,i=n.length-1;if(i<0||!e(n[i]))return n.length;if(e(n[r]))return r;for(;r<i;){const s=r+i>>1,a=n[s];e(a)?i=s:r=s+1}return r}function oz(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const r=n>1?e:n;let i=0,s=1,a=1,o=1;for(;;){const u=i+a,d=s+o;if(d>t)break;r<=u/d?(a=u,o=d):(i=u,s=d)}let l;return r-i/s<a/o-r?l=r===n?[i,s]:[s,i]:l=r===n?[a,o]:[o,a],l}function mx(n,e){return n-n%e}function uwe(n,e,t){if(n<2)return n;let r=e[n].div,i=r.offsetTop+r.clientTop;i>=t&&(r=e[n-1].div,i=r.offsetTop+r.clientTop);for(let s=n-2;s>=0&&(r=e[s].div,!(r.offsetTop+r.clientTop+r.clientHeight<=i));--s)n=s;return n}function cwe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:r=!1,rtl:i=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,R=T.offsetLeft+T.clientLeft,M=R+T.clientWidth;return i?R<l:M>o}const h=[],g=new Set,v=e.length;let b=tb(e,r?d:u);b>0&&b<v&&!r&&(b=uwe(b,e,s));let C=r?l:-1;for(let I=b;I<v;I++){const T=e[I],R=T.div,M=R.offsetLeft+R.clientLeft,D=R.offsetTop+R.clientTop,L=R.clientWidth,H=R.clientHeight,k=M+L,K=D+H;if(C===-1)K>=a&&(C=K);else if((r?M:D)>C)break;if(K<=s||D>=a||k<=o||M>=l)continue;const G=Math.max(0,s-D),z=Math.max(0,o-M),Z=G+Math.max(0,K-a),ne=z+Math.max(0,k-l),J=(H-Z)/H,V=(L-ne)/L,$=J*V*100|0;h.push({id:T.id,x:M,y:D,visibleArea:$===100?null:{minX:z,minY:G,maxX:Math.min(k,l)-M,maxY:Math.min(K,a)-D},view:T,percent:$,widthPercent:V*100|0}),g.add(T.id)}const B=h[0],S=h.at(-1);return t&&h.sort(function(I,T){const R=I.percent-T.percent;return Math.abs(R)>.001?-R:I.id-T.id}),{first:B,last:S,views:h,ids:g}}function yX(n){return Number.isInteger(n)&&n%90===0}function dwe(n){return Number.isInteger(n)&&Object.values(Rt).includes(n)&&n!==Rt.UNKNOWN}function fwe(n){return Number.isInteger(n)&&Object.values(gr).includes(n)&&n!==gr.UNKNOWN}function Az(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const hwe=document.documentElement.style;var Ed,sp,Bd,Qv,ap;class pwe{constructor(e){U(this,Ed,null);U(this,sp,null);U(this,Bd,0);U(this,Qv,null);U(this,ap,!0);_(this,Ed,e.classList),_(this,Qv,e.style)}get percent(){return f(this,Bd)}set percent(e){if(_(this,Bd,rk(e,0,100)),isNaN(e)){f(this,Ed).add("indeterminate");return}f(this,Ed).remove("indeterminate"),f(this,Qv).setProperty("--progressBar-percent",`${f(this,Bd)}%`)}setWidth(e){if(!e)return;const r=e.parentNode.offsetWidth-e.offsetWidth;r>0&&f(this,Qv).setProperty("--progressBar-end-offset",`${r}px`)}setDisableAutoFetch(e=5e3){f(this,Bd)===100||isNaN(f(this,Bd))||(f(this,sp)&&clearTimeout(f(this,sp)),this.show(),_(this,sp,setTimeout(()=>{_(this,sp,null),this.hide()},e)))}hide(){f(this,ap)&&(_(this,ap,!1),f(this,Ed).add("hidden"))}show(){f(this,ap)||(_(this,ap,!0),f(this,Ed).remove("hidden"))}}Ed=new WeakMap,sp=new WeakMap,Bd=new WeakMap,Qv=new WeakMap,ap=new WeakMap;function gwe(n){let e=Rt.VERTICAL,t=gr.NONE;switch(n){case"SinglePage":e=Rt.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=Rt.PAGE;case"TwoColumnLeft":t=gr.ODD;break;case"TwoPageRight":e=Rt.PAGE;case"TwoColumnRight":t=gr.EVEN;break}return{scrollMode:e,spreadMode:t}}const vx=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),mo={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function mwe(n){return n<11904}function vwe(n){return(n&65408)===0}function ywe(n){return n>=97&&n<=122||n>=65&&n<=90}function wwe(n){return n>=48&&n<=57}function bwe(n){return n===32||n===9||n===13||n===10}function Cwe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function Ewe(n){return n>=12448&&n<=12543}function Bwe(n){return n>=12352&&n<=12447}function Swe(n){return n>=65376&&n<=65439}function xwe(n){return(n&65408)===3584}function yx(n){return mwe(n)?vwe(n)?bwe(n)?mo.SPACE:ywe(n)||wwe(n)||n===95?mo.ALPHA_LETTER:mo.PUNCT:xwe(n)?mo.THAI_LETTER:n===160?mo.SPACE:mo.ALPHA_LETTER:Cwe(n)?mo.HAN_LETTER:Ewe(n)?mo.KATAKANA_LETTER:Bwe(n)?mo.HIRAGANA_LETTER:Swe(n)?mo.HALFWIDTH_KATAKANA_LETTER:mo.ALPHA_LETTER}let _we;function Twe(){return _we}const Bc={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Iwe=250,Fwe=-50,lz={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},uz=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let cz;const Mwe=new RegExp("\\p{M}+","gu"),Uwe=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),Pwe=new RegExp("([^\\p{M}])\\p{M}*$","u"),Rwe=new RegExp("^\\p{M}*([^\\p{M}])","u"),Dwe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,dz=new Map,Nwe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",fz=new Map;let OU=null,HU=null;function M_(n,e={}){const t=[];let r;for(;(r=Dwe.exec(n))!==null;){let{index:I}=r;for(const T of r[0]){let R=dz.get(T);R||(R=T.normalize("NFD").length,dz.set(T,R)),t.push([R,I++])}}const i=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!i&&OU)a=OU;else if(i&&HU)a=HU;else{const I=Object.keys(lz).join(""),T=Twe(),L=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",i?Nwe:"\\u0000"];a=new RegExp(L.map(H=>`(${H})`).join("|"),"gum"),i?HU=a:OU=a}const o=[];for(;(r=Mwe.exec(n))!==null;)o.push([r[0].length,r.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,b=0,C=!1;l=l.replace(a,(I,T,R,M,D,L,H,k,K,G,z)=>{var Z,ne,J;if(z-=v,T){const V=lz[T],$=V.length;for(let re=1;re<$;re++)u.push(z-g+re,g-re);return g-=$-1,V}if(R){let V=fz.get(R);V||(V=R.normalize("NFKC"),fz.set(R,V));const $=V.length;for(let re=1;re<$;re++)u.push(z-g+re,g-re);return g-=$-1,V}if(M)return C=!0,z+b===((Z=o[d])==null?void 0:Z[1])?++d:(u.push(z-1-g+1,g-1),g-=1,v+=1),u.push(z-g+1,g),v+=1,b+=1,M.charAt(0);if(D){const V=D.endsWith(`
`),$=V?D.length-2:D.length;C=!0;let re=$;z+b===((ne=o[d])==null?void 0:ne[1])&&(re-=o[d][0],++d);for(let de=1;de<=re;de++)u.push(z-1-g+de,g-de);return g-=re,v+=re,V?(z+=$-1,u.push(z-g+1,1+g),g+=1,v+=1,b+=1,D.slice(0,$)):D}if(L){if(s)return v+=1,b+=1,L.slice(0,-1);const V=L.length-2;return u.push(z-g+V,1+g),g+=1,v+=1,b+=1,L.slice(0,-2)}if(H)return v+=1,b+=1,H.slice(0,-1);if(k){const V=k.length-1;return u.push(z-g+V,g),v+=1,b+=1,k.slice(0,-1)}if(K)return u.push(z-g+1,g-1),g-=1,v+=1,b+=1," ";if(z+b===((J=t[h])==null?void 0:J[1])){const V=t[h][0]-1;++h;for(let $=1;$<=V;$++)u.push(z-(g-$),g-$);g-=V,v+=V}return G}),u.push(l.length,g);const B=new Uint32Array(u.length>>1),S=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)B[I>>1]=u[I],S[I>>1]=u[I+1];return[l,[B,S],C]}function wX(n,e,t){if(!n)return[e,t];const[r,i]=n,s=e,a=e+t-1;let o=tb(r,g=>g>=s);r[o]>s&&--o;let l=tb(r,g=>g>=a,o);r[l]>a&&--l;const u=s+i[o],h=a+i[l]+1-u;return[u,h]}var Qr,kv,op,qe,bX,zN,qN,CX,EX,$N,BX,SX,U_,_w,Vg,xX,jN,WN,P_,_X,YN,XN,Tw;class Lwe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:r=!0}){U(this,qe);U(this,Qr,null);U(this,kv,!0);U(this,op,0);this._linkService=e,this._eventBus=t,_(this,kv,r),this.onIsPageVisible=null,P(this,qe,zN).call(this),t._on("find",P(this,qe,bX).bind(this)),t._on("findbarclose",P(this,qe,_X).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,Qr)}setDocument(e){this._pdfDocument&&P(this,qe,zN).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:r=-1,matchIndex:i=-1}){if(!this._scrollMatches||!e)return;if(i===-1||i!==this._selected.matchIdx)return;if(r===-1||r!==this._selected.pageIdx)return;this._scrollMatches=!1,vX(e,{top:Fwe,left:t},!0)}match(e,t,r){const i=this._hasDiacritics[r];let s=!1;if(typeof e=="string"?[s,e]=P(this,qe,$N).call(this,e,i):e=e.sort().reverse().map(h=>{const[g,v]=P(this,qe,$N).call(this,h,i);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,Qr),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!P(this,qe,EX).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}Qr=new WeakMap,kv=new WeakMap,op=new WeakMap,qe=new WeakSet,bX=function(e){if(!e)return;const t=this._pdfDocument,{type:r}=e;(f(this,Qr)===null||P(this,qe,CX).call(this,e))&&(this._dirtyMatch=!0),_(this,Qr,e),r!=="highlightallchange"&&P(this,qe,Tw).call(this,Bc.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;P(this,qe,SX).call(this);const i=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),r?this._dirtyMatch?P(this,qe,Vg).call(this):r==="again"?(P(this,qe,Vg).call(this),i&&f(this,Qr).highlightAll&&P(this,qe,_w).call(this)):r==="highlightallchange"?(s?P(this,qe,Vg).call(this):this._highlightMatches=!0,P(this,qe,_w).call(this)):P(this,qe,Vg).call(this):this._findTimeout=setTimeout(()=>{P(this,qe,Vg).call(this),this._findTimeout=null},Iwe)})},zN=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,op,0),_(this,Qr,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},qN=function(){const{query:e}=f(this,Qr);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=M_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>M_(t)[0])},CX=function(e){var a;const t=e.query,r=f(this,Qr).query,i=typeof t;if(i!==typeof r)return!0;if(i==="string"){if(t!==r)return!0}else if(JSON.stringify(t)!==JSON.stringify(r))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},EX=function(e,t,r){let i=e.slice(0,t).match(Pwe);if(i){const s=e.charCodeAt(t),a=i[1].charCodeAt(0);if(yx(s)===yx(a))return!1}if(i=e.slice(t+r).match(Rwe),i){const s=e.charCodeAt(t+r-1),a=i[1].charCodeAt(0);if(yx(s)===yx(a))return!1}return!0},$N=function(e,t){const{matchDiacritics:r}=f(this,Qr);let i=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(Uwe,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":r?h||g:h?uz.has(h.charCodeAt(0))?h:"":t?(i=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),r&&t&&(cz||(cz=String.fromCharCode(...uz)),i=!0,e=`${e}(?=[${cz}]|[^\\p{M}]|$)`),[i,e]},BX=function(e){if(!f(this,Qr))return;const t=f(this,qe,qN);if(t.length===0)return;const r=this._pageContents[e],i=this.match(t,r,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];i==null||i.forEach(({index:u,length:d})=>{const[h,g]=wX(o,u,d);g&&(s.push(h),a.push(g))}),f(this,Qr).highlightAll&&P(this,qe,U_).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,P(this,qe,jN).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,kv)?l>0&&P(this,qe,XN).call(this):++ur(this,op)._===this._linkService.pagesCount&&P(this,qe,XN).call(this)},SX=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},r=this._pdfDocument;for(let i=0,s=this._linkService.pagesCount;i<s;i++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[i]=a,e=e.then(async()=>{if(r!==this._pdfDocument){o();return}await r.getPage(i+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=M_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${i+1}`,l),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,o()})})}},U_=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},_w=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Vg=function(){const e=f(this,Qr).findPrevious,t=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,op,0),this._matchesCountTotal=0,P(this,qe,_w).call(this);for(let a=0;a<r;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),P(this,qe,BX).call(this,a)}))}if(f(this,qe,qN).length===0){P(this,qe,Tw).call(this,Bc.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=r,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,P(this,qe,P_).call(this,!0);return}P(this,qe,WN).call(this,e)}P(this,qe,jN).call(this)},xX=function(e){const t=this._offset,r=e.length,i=f(this,Qr).findPrevious;return r?(t.matchIdx=i?r-1:0,P(this,qe,P_).call(this,!0),!0):(P(this,qe,WN).call(this,i),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(P(this,qe,P_).call(this,!1),!0):!1)},jN=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!P(this,qe,xX).call(this,e))},WN=function(e){const t=this._offset,r=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=r||t.pageIdx<0)&&(t.pageIdx=e?r-1:0,t.wrapped=!0)},P_=function(e=!1){let t=Bc.NOT_FOUND;const r=this._offset.wrapped;if(this._offset.wrapped=!1,e){const i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=r?Bc.WRAPPED:Bc.FOUND,i!==-1&&i!==this._selected.pageIdx&&P(this,qe,U_).call(this,i)}P(this,qe,Tw).call(this,t,f(this,Qr).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,P(this,qe,U_).call(this,this._selected.pageIdx))},_X=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),P(this,qe,Tw).call(this,Bc.FOUND),this._highlightMatches=!1,P(this,qe,_w).call(this))})},YN=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let r=0,i=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)r+=((s=this._pageMatches[a])==null?void 0:s.length)||0;r+=t+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}},XN=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:P(this,qe,YN).call(this)})},Tw=function(e,t=!1){var r,i;!f(this,kv)&&(f(this,op)!==this._linkService.pagesCount||e===Bc.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((r=f(this,Qr))==null?void 0:r.entireWord)??null,matchesCount:P(this,qe,YN).call(this),rawQuery:((i=f(this,Qr))==null?void 0:i.query)??null})};const Qwe="noopener noreferrer nofollow",Uf={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class sk{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:r=null,ignoreDestinationZoom:i=!1}={}){Ce(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=r,this._ignoreDestinationZoom=i,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,r,i;if(typeof e=="string"?(t=e,r=await this.pdfDocument.getDestination(e)):(t=null,r=await e),!Array.isArray(r)){console.error(`goToDestination: "${r}" is not a valid destination array, for dest="${e}".`);return}const[s]=r;if(s&&typeof s=="object"){if(i=this.pdfDocument.cachedPageNumber(s),!i)try{i=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(i=s+1);if(!i||i<1||i>this.pagesCount){console.error(`goToDestination: "${i}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:r,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:r,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===i&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,r,i={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,r],ignoreDestinationZoom:!0,...i})}addLinkAttributes(e,t,r=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const i=r?Uf.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(i){case Uf.NONE:break;case Uf.SELF:a="_self";break;case Uf.BLANK:a="_blank";break;case Uf.PARENT:a="_parent";break;case Uf.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:Qwe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,r;if(e.includes("=")){const i=rI(e);if(i.has("search")){const s=i.get("search").replaceAll('"',""),a=i.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(i.has("page")&&(t=i.get("page")|0||1),i.has("zoom")){const s=i.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?r=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?r=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):r=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):r=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}r?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:r,allowNegativeOffset:!0}):t&&(this.page=t),i.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:i.get("pagemode")}),i.has("nameddest")&&this.goToDestination(i.get("nameddest"));return}r=unescape(e);try{r=JSON.parse(r),Array.isArray(r)||(r=r.toString())}catch{}if(typeof r=="string"||twe(r)){this.goToDestination(r);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,r;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(r=this.pdfHistory)==null||r.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,r=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(r.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(r))}}class ak extends sk{setDocument(e,t=null){}}var Sd,aE,oE,AE,xd,lE,Nu,IX,JN,FX;class TX{constructor({pdfPage:e,linkService:t,downloadManager:r,annotationStorage:i=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:b=null,onAppend:C=null}){U(this,Nu);U(this,Sd,null);U(this,aE,null);U(this,oE,!1);U(this,AE,null);U(this,xd,null);U(this,lE,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=r,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=i,this.enableComment=o,_(this,aE,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=b,_(this,AE,C),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:r=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[i,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,AE))==null||l.call(this,o),P(this,Nu,IX).call(this,e,r),i.length===0){_(this,Sd,i),gX(this.div,e);return}await this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,Sd,i),this.linkService.isInPresentationMode&&P(this,Nu,JN).call(this,om.FULLSCREEN),f(this,xd)||(_(this,xd,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{P(this,Nu,JN).call(this,d.state)},{signal:f(this,xd).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,xd))==null||e.abort(),_(this,xd,null)}hide(e=!1){_(this,oE,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,Sd)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,lE))return;_(this,lE,!0);const t=f(this,Sd).length?P(this,Nu,FX).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,oE)||(this.div.hidden=!1))}}Sd=new WeakMap,aE=new WeakMap,oE=new WeakMap,AE=new WeakMap,xd=new WeakMap,lE=new WeakMap,Nu=new WeakSet,IX=function(e,t){this.annotationLayer=new X0e({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,aE),linkService:this.linkService})},JN=function(e){if(!this.div)return;let t=!1;switch(e){case om.FULLSCREEN:t=!0;break;case om.NORMAL:break;default:return}for(const r of this.div.childNodes)r.hasAttribute("data-internal-link")||(r.inert=t)},FX=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function r(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=ik.intersect(d,h);g&&o.push(g)}return o}function i(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,Sd)){if(o.annotationType!==fX.LINK||!o.url)continue;const l=r(o,s);if(l.length!==0&&(a??(a=i(t(s))),i(l)/a>.5))return!1}return!0})};function hz(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var SQ;class kwe{constructor(){U(this,SQ,new WeakMap)}downloadData(e,t,r){const i=URL.createObjectURL(new Blob([e],{type:r}));hz(i,t)}openOrDownloadData(e,t,r=null){const s=ewe(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,r){let i;if(e)i=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!hX(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}i=t+"#pdfjs.action=download"}hz(i,r)}}SQ=new WeakMap;const pz={EVENT:"event",TIMEOUT:"timeout"};async function Owe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:r,resolve:i}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),i(u)}const o=n instanceof ok?"_on":"addEventListener";n[o](e,a.bind(null,pz.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,pz.TIMEOUT),t);return r}var Ov;class ok{constructor(){U(this,Ov,Object.create(null))}on(e,t,r=null){this._on(e,t,{external:!0,once:r==null?void 0:r.once,signal:r==null?void 0:r.signal})}off(e,t,r=null){this._off(e,t)}dispatch(e,t){const r=f(this,Ov)[e];if(!r||r.length===0)return;let i;for(const{listener:s,external:a,once:o}of r.slice(0)){if(o&&this._off(e,s),a){(i||(i=[])).push(s);continue}s(t)}if(i){for(const s of i)s(t);i=null}}_on(e,t,r=null){var a;let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:o}=r;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);i=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,Ov))[e]||(a[e]=[])).push({listener:t,external:(r==null?void 0:r.external)===!0,once:(r==null?void 0:r.once)===!0,rmAbort:i})}_off(e,t,r=null){var s;const i=f(this,Ov)[e];if(i)for(let a=0,o=i.length;a<o;a++){const l=i[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),i.splice(a,1);return}}}}Ov=new WeakMap;class Am{constructor(e){this.value=e}valueOf(){return this.value}}class Ur extends Am{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class vu extends Am{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class Xd extends Am{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof Am)return Xd.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof Xd?(t={...e.opts,...t},e=e.value):e instanceof Am&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const gz=100,Hwe="",Vwe="";function Kwe(n,e,t){if(t===e||t instanceof vu&&e instanceof vu&&t.value===e.value)return!0;if(e instanceof vu&&typeof t=="string"){let r=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===r)return!0}return!1}function mz(n,e,t){return e[t]?ly(n,e[t].value):(n.reportError(new RangeError("No default")),new Ur)}function ZN(n,e){const t=[],r=Object.create(null);for(const i of e)i.type==="narg"?r[i.name]=nb(n,i.value):t.push(nb(n,i));return{positional:t,named:r}}function nb(n,e){switch(e.type){case"str":return e.value;case"num":return new vu(e.value,{minimumFractionDigits:e.precision});case"var":return Gwe(n,e);case"mesg":return zwe(n,e);case"term":return qwe(n,e);case"func":return $we(n,e);case"select":return jwe(n,e);default:return new Ur}}function Gwe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new Ur(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Ur(`$${e}`);if(t instanceof Am)return t;switch(typeof t){case"string":return t;case"number":return new vu(t);case"object":if(Xd.supportsValue(t))return new Xd(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Ur(`$${e}`)}}function zwe(n,{name:e,attr:t}){const r=n.bundle._messages.get(e);if(!r)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Ur(e);if(t){const i=r.attributes[t];return i?ly(n,i):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ur(`${e}.${t}`))}return r.value?ly(n,r.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Ur(e))}function qwe(n,{name:e,attr:t,args:r}){const i=`-${e}`,s=n.bundle._terms.get(i);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${i}`)),new Ur(i);if(t){const o=s.attributes[t];if(o){n.params=ZN(n,r).named;const l=ly(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ur(`${i}.${t}`)}n.params=ZN(n,r).named;const a=ly(n,s.value);return n.params=null,a}function $we(n,{name:e,args:t}){let r=n.bundle._functions[e];if(!r)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Ur(`${e}()`);if(typeof r!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Ur(`${e}()`);try{let i=ZN(n,t);return r(i.positional,i.named)}catch(i){return n.reportError(i),new Ur(`${e}()`)}}function jwe(n,{selector:e,variants:t,star:r}){let i=nb(n,e);if(i instanceof Ur)return mz(n,t,r);for(const s of t){const a=nb(n,s.key);if(Kwe(n,i,a))return ly(n,s.value)}return mz(n,t,r)}function MX(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Ur;n.dirty.add(e);const t=[],r=n.bundle._useIsolating&&e.length>1;for(const i of e){if(typeof i=="string"){t.push(n.bundle._transform(i));continue}if(n.placeables++,n.placeables>gz)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${gz}`);r&&t.push(Hwe),t.push(nb(n,i).toString(n)),r&&t.push(Vwe)}return n.dirty.delete(e),t.join("")}function ly(n,e){return typeof e=="string"?n.bundle._transform(e):MX(n,e)}class Wwe{constructor(e,t,r){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=r}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let r=this.bundle._intls.get(e);r||(r={},this.bundle._intls.set(e,r));let i=JSON.stringify(t);return r[i]||(r[i]=new e(this.bundle.locales,t)),r[i]}}function eL(n,e){const t=Object.create(null);for(const[r,i]of Object.entries(n))e.includes(r)&&(t[r]=i.valueOf());return t}const vz=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Ywe(n,e){let t=n[0];if(t instanceof Ur)return new Ur(`NUMBER(${t.valueOf()})`);if(t instanceof vu)return new vu(t.valueOf(),{...t.opts,...eL(e,vz)});if(t instanceof Xd)return new vu(t.toNumber(),{...eL(e,vz)});throw new TypeError("Invalid argument to NUMBER")}const Xwe=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Jwe(n,e){let t=n[0];if(t instanceof Ur)return new Ur(`DATETIME(${t.valueOf()})`);if(t instanceof Xd||t instanceof vu)return new Xd(t,eL(e,Xwe));throw new TypeError("Invalid argument to DATETIME")}const yz=new Map;function Zwe(n){const e=Array.isArray(n)?n.join(" "):n;let t=yz.get(e);return t===void 0&&(t=new Map,yz.set(e,t)),t}class ebe{constructor(e,{functions:t,useIsolating:r=!0,transform:i=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:Ywe,DATETIME:Jwe,...t},this._useIsolating=r,this._transform=i,this._intls=Zwe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const r=[];for(let i=0;i<e.body.length;i++){let s=e.body[i];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){r.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){r.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return r}formatPattern(e,t=null,r=null){if(typeof e=="string")return this._transform(e);let i=new Wwe(this,r,t);try{return MX(i,e).toString(i)}catch(s){if(i.errors&&s instanceof Error)return i.errors.push(s),new Ur().toString(i);throw s}}}const VU=/^(-?[a-zA-Z][\w-]*) *= */gm,wz=/\.([a-zA-Z][\w-]*) *= */y,tbe=/\*?\[/y,KU=/(-?[0-9]+(?:\.([0-9]+))?)/y,nbe=/([a-zA-Z][\w-]*)/y,bz=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,rbe=/^[A-Z][A-Z0-9_-]*$/,wx=/([^{}\n\r]+)/y,ibe=/([^\\"\n\r]*)/y,Cz=/\\([\\"])/y,Ez=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,sbe=/^\n+/,Bz=/ +$/,abe=/ *\r?\n/g,obe=/( *)$/,Abe=/{\s*/y,Sz=/\s*}/y,lbe=/\[\s*/y,ube=/\s*] */y,cbe=/\s*\(\s*/y,dbe=/\s*->\s*/y,fbe=/\s*:\s*/y,hbe=/\s*,?\s*/y,pbe=/\s+/y;class gbe{constructor(e){this.body=[],VU.lastIndex=0;let t=0;for(;;){let k=VU.exec(e);if(k===null)break;t=VU.lastIndex;try{this.body.push(l(k[1]))}catch(K){if(K instanceof SyntaxError)continue;throw K}}function r(k){return k.lastIndex=t,k.test(e)}function i(k,K){if(e[t]===k)return t++,!0;if(K)throw new K(`Expected ${k}`);return!1}function s(k,K){if(r(k))return t=k.lastIndex,!0;if(K)throw new K(`Expected ${k.toString()}`);return!1}function a(k){k.lastIndex=t;let K=k.exec(e);if(K===null)throw new SyntaxError(`Expected ${k.toString()}`);return t=k.lastIndex,K}function o(k){return a(k)[1]}function l(k){let K=d(),G=u();if(K===null&&Object.keys(G).length===0)throw new SyntaxError("Expected message value or attributes");return{id:k,value:K,attributes:G}}function u(){let k=Object.create(null);for(;r(wz);){let K=o(wz),G=d();if(G===null)throw new SyntaxError("Expected attribute value");k[K]=G}return k}function d(){let k;if(r(wx)&&(k=o(wx)),e[t]==="{"||e[t]==="}")return h(k?[k]:[],1/0);let K=D();return K?k?h([k,K],K.length):(K.value=L(K.value,sbe),h([K],K.length)):k?L(k,Bz):null}function h(k=[],K){for(;;){if(r(wx)){k.push(o(wx));continue}if(e[t]==="{"){k.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let ne=D();if(ne){k.push(ne),K=Math.min(K,ne.length);continue}break}let G=k.length-1,z=k[G];typeof z=="string"&&(k[G]=L(z,Bz));let Z=[];for(let ne of k)ne instanceof xz&&(ne=ne.value.slice(0,ne.value.length-K)),ne&&Z.push(ne);return Z}function g(){s(Abe,SyntaxError);let k=v();if(s(Sz))return k;if(s(dbe)){let K=B();return s(Sz,SyntaxError),{type:"select",selector:k,...K}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(r(bz)){let[,k,K,G=null]=a(bz);if(k==="$")return{type:"var",name:K};if(s(cbe)){let z=b();if(k==="-")return{type:"term",name:K,attr:G,args:z};if(rbe.test(K))return{type:"func",name:K,args:z};throw new SyntaxError("Function names must be all upper-case")}return k==="-"?{type:"term",name:K,attr:G,args:[]}:{type:"mesg",name:K,attr:G}}return I()}function b(){let k=[];for(;;){switch(e[t]){case")":return t++,k;case void 0:throw new SyntaxError("Unclosed argument list")}k.push(C()),s(hbe)}}function C(){let k=v();return k.type!=="mesg"?k:s(fbe)?{type:"narg",name:k.name,value:I()}:k}function B(){let k=[],K=0,G;for(;r(tbe);){i("*")&&(G=K);let z=S(),Z=d();if(Z===null)throw new SyntaxError("Expected variant value");k[K++]={key:z,value:Z}}if(K===0)return null;if(G===void 0)throw new SyntaxError("Expected default variant");return{variants:k,star:G}}function S(){s(lbe,SyntaxError);let k;return r(KU)?k=T():k={type:"str",value:o(nbe)},s(ube,SyntaxError),k}function I(){if(r(KU))return T();if(e[t]==='"')return R();throw new SyntaxError("Invalid expression")}function T(){let[,k,K=""]=a(KU),G=K.length;return{type:"num",value:parseFloat(k),precision:G}}function R(){i('"',SyntaxError);let k="";for(;;){if(k+=o(ibe),e[t]==="\\"){k+=M();continue}if(i('"'))return{type:"str",value:k};throw new SyntaxError("Unclosed string literal")}}function M(){if(r(Cz))return o(Cz);if(r(Ez)){let[,k,K]=a(Ez),G=parseInt(k||K,16);return G<=55295||57344<=G?String.fromCodePoint(G):""}throw new SyntaxError("Unknown escape sequence")}function D(){let k=t;switch(s(pbe),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(k,t))}return e[t-1]===" "?H(e.slice(k,t)):!1}function L(k,K){return k.replace(K,"")}function H(k){let K=k.replace(abe,`
`),G=obe.exec(k)[1].length;return new xz(K,G)}}}class xz{constructor(e,t){this.value=e,this.length=t}}const mbe=/<|&#?\w+;/,vbe={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},ybe={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function wbe(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!mbe.test(t))n.textContent=t;else{const r=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");r.innerHTML=t,bbe(r.content,n)}UX(e,n)}function bbe(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const r=Ebe(e,t);n.replaceChild(r,t);continue}if(Sbe(t)){const r=Bbe(t);n.replaceChild(r,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(tL(t),t)}e.textContent="",e.appendChild(n)}function Cbe(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function UX(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(r=>r.trim()):null;for(const r of Array.from(e.attributes))_z(r.name,e,t)&&!Cbe(n.attributes,r.name)&&e.removeAttribute(r.name);if(n.attributes)for(const r of Array.from(n.attributes))_z(r.name,e,t)&&e.getAttribute(r.name)!==r.value&&e.setAttribute(r.name,r.value)}function Ebe(n,e){const t=e.getAttribute("data-l10n-name"),r=n.querySelector(`[data-l10n-name="${t}"]`);if(!r)return console.warn(`An element named "${t}" wasn't found in the source.`),tL(e);if(r.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${r.localName}).`),tL(e);n.removeChild(r);const i=r.cloneNode(!1);return PX(e,i)}function Bbe(n){const e=n.ownerDocument.createElement(n.localName);return PX(n,e)}function tL(n){return n.ownerDocument.createTextNode(n.textContent)}function Sbe(n){const e=vbe[n.namespaceURI];return e&&e.includes(n.localName)}function _z(n,e,t=null){if(t&&t.includes(n))return!0;const r=ybe[e.namespaceURI];if(!r)return!1;const i=n.toLowerCase(),s=e.localName;if(r.global.includes(i))return!0;if(!r[s])return!1;if(r[s].includes(i))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&i==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function PX(n,e){return e.textContent=n.textContent,UX(n,e),e}class xbe extends Array{static from(e){return e instanceof this?e:new this(e)}}class _be extends xbe{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const r=this[this.length-1];if(r&&(await r).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class Tbe{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const r=[];let i=!1;for await(const s of this.bundles){i=!0;const a=Mbe(t,s,e,r);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!i&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),r}formatMessages(e){return this.formatWithFallback(e,Fbe)}formatValues(e){return this.formatWithFallback(e,Ibe)}async formatValue(e,t){const[r]=await this.formatValues([{id:e,args:t}]);return r}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=_be.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function Ibe(n,e,t,r){return t.value?n.formatPattern(t.value,r,e):null}function Fbe(n,e,t,r){const i={value:null,attributes:null};t.value&&(i.value=n.formatPattern(t.value,r,e));let s=Object.keys(t.attributes);if(s.length>0){i.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],r,e);i.attributes[a]={name:o,value:l}}}return i}function Mbe(n,e,t,r){const i=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(r[l]!==void 0)return;let u=e.getMessage(a);if(u){if(i.length=0,r[l]=n(e,i,u,o),i.length>0&&typeof console<"u"){const d=e.locales[0],h=i.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const Pf="data-l10n-id",V0="data-l10n-args",Ube=`[${Pf}]`;class Pbe extends Tbe{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Pf,V0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,r){return e.setAttribute(Pf,t),r?e.setAttribute(V0,JSON.stringify(r)):e.removeAttribute(V0),e}getAttributes(e){return{id:e.getAttribute(Pf),args:JSON.parse(e.getAttribute(V0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const r of t.addedNodes)if(r.nodeType===r.ELEMENT_NODE)if(r.childElementCount)for(const i of this.getTranslatables(r))this.pendingElements.add(i);else r.hasAttribute(Pf)&&this.pendingElements.add(r);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),r=await this.formatMessages(t);return this.applyTranslations(e,r)}applyTranslations(e,t){this.pauseObserving();for(let r=0;r<e.length;r++)t[r]!==void 0&&wbe(e[r],t[r]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(Ube));return typeof e.hasAttribute=="function"&&e.hasAttribute(Pf)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Pf),args:JSON.parse(e.getAttribute(V0)||null)}}}var uE,_d,Hv,Es,Cy,RX,DX;const zw=class zw{constructor({lang:e,isRTL:t},r=null){U(this,uE);U(this,_d);U(this,Hv);U(this,Es);var i,s;_(this,Hv,P(i=zw,Cy,RX).call(i,e)),_(this,Es,r),_(this,uE,t??P(s=zw,Cy,DX).call(s,f(this,Hv))?"rtl":"ltr")}_setL10n(e){_(this,Es,e)}getLanguage(){return f(this,Hv)}getDirection(){return f(this,uE)}async get(e,t=null,r){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,Es).formatMessages(e)).map(o=>o.value)):((s=(await f(this,Es).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||r}async translate(e){(f(this,_d)||_(this,_d,new Set)).add(e);try{f(this,Es).connectRoot(e),await f(this,Es).translateRoots()}catch{}}async translateOnce(e){try{await f(this,Es).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,_d)){for(const e of f(this,_d))f(this,Es).disconnectRoot(e);f(this,_d).clear(),_(this,_d,null)}f(this,Es).pauseObserving()}pause(){f(this,Es).pauseObserving()}resume(){f(this,Es).resumeObserving()}};uE=new WeakMap,_d=new WeakMap,Hv=new WeakMap,Es=new WeakMap,Cy=new WeakSet,RX=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},DX=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},U(zw,Cy);let nL=zw;function Rbe(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:r}=pX.platform;return e?"linux":r?"windows":t?"macos":n?"android":"other"}function Tz(n,e){const t=new gbe(e),r=new ebe(n,{functions:{PLATFORM:Rbe}}),i=r.addResource(t);return i.length&&console.error("L10n errors",i),r}var ma,NX,LX,QX,kX,rL;const Of=class Of extends nL{constructor(e){super({lang:e});const t=e?P(Of,ma,NX).bind(Of,"en-us",this.getLanguage()):P(Of,ma,kX).bind(Of,this.getLanguage());this._setL10n(new Pbe([],t))}};ma=new WeakSet,NX=async function*(e,t){const{baseURL:r,paths:i}=await P(this,ma,QX).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,P(this,ma,LX).call(this,o,r,i)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield P(this,ma,rL).call(this,o))}},LX=async function(e,t,r){const i=r[e];if(!i)return null;const s=new URL(i,t),a=await tz(s,"text");return Tz(e,a)},QX=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await tz(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},kX=async function*(e){yield P(this,ma,rL).call(this,e)},rL=async function(e){return Tz(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},U(Of,ma);let uy=Of;const Dbe=1e3,Nbe=50,Lbe=1e3;function GU(){return document.location.hash}var Td,ut,fl,R_,D_,Iw,N_,iL,OX,HX,sL,VX,KX;class Qbe{constructor({linkService:e,eventBus:t}){U(this,ut);U(this,Td,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",r=>{this._isPagesLoaded=!!r.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:r=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const i=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=r===!0,this._initialized=!0,P(this,ut,VX).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=GU(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!P(this,ut,Iw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=P(this,ut,iL).call(this,!0);if(!o||i||t){P(this,ut,fl).call(this,null,!0);return}P(this,ut,fl).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;P(this,ut,N_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(P(this,ut,sL).call(this),this._initialized=!1,P(this,ut,KX).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:r}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!P(this,ut,D_).call(this,r)&&(r!==null||this._destination)){console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const i=e||JSON.stringify(t);if(!i)return;let s=!1;if(this._destination&&(kbe(this._destination.hash,i)||Obe(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(P(this,ut,fl).call(this,{dest:t,hash:i,page:r,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!P(this,ut,D_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(P(this,ut,fl).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||P(this,ut,R_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;P(this,ut,Iw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;P(this,ut,Iw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}Td=new WeakMap,ut=new WeakSet,fl=function(e,t=!1){const r=t||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};P(this,ut,N_).call(this,e,i.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=iwe(a,e.hash))}r?window.history.replaceState(i,"",s):window.history.pushState(i,"",s)},R_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){P(this,ut,fl).call(this,t);return}if(this._destination.temporary){P(this,ut,fl).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=Nbe)return;let r=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;r=!0}P(this,ut,fl).call(this,t,r)},D_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},Iw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[r]=performance.getEntriesByType("navigation");if((r==null?void 0:r.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},N_=function(e,t,r=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),r&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},iL=function(e=!1){const t=unescape(GU()).substring(1),r=rI(t),i=r.get("nameddest")||"";let s=r.get("page")|0;return(!P(this,ut,D_).call(this,s)||e&&i.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},OX=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||P(this,ut,R_).call(this,!0),this._updateViewareaTimeout=null},Lbe))},HX=function({state:e}){const t=GU(),r=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=P(this,ut,iL).call(this);P(this,ut,fl).call(this,{hash:s,page:a,rotation:o},!0);return}if(!P(this,ut,Iw).call(this,e))return;this._popStateInProgress=!0,r&&(this._blockHashChange++,Owe({target:window,name:"hashchange",delay:Dbe}).then(()=>{this._blockHashChange--}));const i=e.destination;P(this,ut,N_).call(this,i,e.uid,!0),yX(i.rotation)&&(this.linkService.rotation=i.rotation),i.dest?this.linkService.goToDestination(i.dest):i.hash?this.linkService.setHash(i.hash):i.page&&(this.linkService.page=i.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},sL=function(){(!this._destination||this._destination.temporary)&&P(this,ut,R_).call(this)},VX=function(){if(f(this,Td))return;_(this,Td,new AbortController);const{signal:e}=f(this,Td);this.eventBus._on("updateviewarea",P(this,ut,OX).bind(this),{signal:e}),window.addEventListener("popstate",P(this,ut,HX).bind(this),{signal:e}),window.addEventListener("pagehide",P(this,ut,sL).bind(this),{signal:e})},KX=function(){var e;(e=f(this,Td))==null||e.abort(),_(this,Td,null)};function kbe(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||rI(n).get("nameddest")===e}function Obe(n,e){function t(r,i){if(typeof r!=typeof i||Array.isArray(r)||Array.isArray(i))return!1;if(r!==null&&typeof r=="object"&&i!==null){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const s in r)if(!t(r[s],i[s]))return!1;return!0}return r===i||Number.isNaN(r)&&Number.isNaN(i)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}var cE,dE,fE,hE,pE,Vv;class Hbe{constructor(e){U(this,cE,null);U(this,dE,null);U(this,fE,null);U(this,hE,null);U(this,pE,null);U(this,Vv);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new uy),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,Vv,e.uiManager),_(this,cE,e.annotationLayer||null),_(this,pE,e.textLayer||null),_(this,dE,e.drawLayer||null),_(this,fE,e.onAppend||null),_(this,hE,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const r=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:r}),this.show();return}const i=this.div=document.createElement("div");i.className="annotationEditorLayer",i.hidden=!0,i.dir=f(this,Vv).direction,(a=f(this,fE))==null||a.call(this,i),this.annotationEditorLayer=new W0e({uiManager:f(this,Vv),div:i,structTreeLayer:f(this,hE),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:r,annotationLayer:f(this,cE),textLayer:f(this,pE),drawLayer:f(this,dE)});const s={viewport:r,div:i,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}cE=new WeakMap,dE=new WeakMap,fE=new WeakMap,hE=new WeakMap,pE=new WeakMap,Vv=new WeakMap;{var aL=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,r=/Android/.test(t),i=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(i||r)&&aL.set("maxCanvasPixels",5242880)})(),(function(){r&&aL.set("useSystemFonts",!1)})()}const fe={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},oL={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},uu={allowedGlobalEvents:{value:null,kind:fe.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:fe.BROWSER+fe.API},isInAutomation:{value:!1,kind:fe.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:fe.BROWSER},maxCanvasDim:{value:32767,kind:fe.BROWSER+fe.VIEWER},nimbusDataStr:{value:"",kind:fe.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:fe.BROWSER},supportsDocumentFonts:{value:!0,kind:fe.BROWSER},supportsIntegratedFind:{value:!1,kind:fe.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:fe.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:fe.BROWSER},supportsPinchToZoom:{value:!0,kind:fe.BROWSER},supportsPrinting:{value:!0,kind:fe.BROWSER},toolbarDensity:{value:0,kind:fe.BROWSER+fe.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:fe.VIEWER+fe.PREFERENCE},annotationEditorMode:{value:0,kind:fe.VIEWER+fe.PREFERENCE},annotationMode:{value:2,kind:fe.VIEWER+fe.PREFERENCE},capCanvasAreaFactor:{value:200,kind:fe.VIEWER+fe.PREFERENCE},commentLearnMoreUrl:{value:"",kind:fe.VIEWER+fe.PREFERENCE},cursorToolOnLoad:{value:0,kind:fe.VIEWER+fe.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:fe.VIEWER},defaultZoomDelay:{value:400,kind:fe.VIEWER+fe.PREFERENCE},defaultZoomValue:{value:"",kind:fe.VIEWER+fe.PREFERENCE},disableHistory:{value:!1,kind:fe.VIEWER},disablePageLabels:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableAltText:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:fe.VIEWER+fe.PREFERENCE+fe.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:fe.VIEWER+fe.PREFERENCE},enableComment:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableDetailCanvas:{value:!0,kind:fe.VIEWER},enableGuessAltText:{value:!0,kind:fe.VIEWER+fe.PREFERENCE+fe.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:fe.VIEWER+fe.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enablePermissions:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:fe.VIEWER+fe.PREFERENCE},enableScripting:{value:!0,kind:fe.VIEWER+fe.PREFERENCE},enableSignatureEditor:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:fe.VIEWER},externalLinkTarget:{value:0,kind:fe.VIEWER+fe.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:fe.VIEWER+fe.PREFERENCE},historyUpdateUrl:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},imageResourcesPath:{value:"./images/",kind:fe.VIEWER},maxCanvasPixels:{value:2**25,kind:fe.VIEWER},minDurationToUpdateCanvas:{value:500,kind:fe.VIEWER},forcePageColors:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:fe.VIEWER+fe.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:fe.VIEWER+fe.PREFERENCE},pdfBugEnabled:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},printResolution:{value:150,kind:fe.VIEWER},sidebarViewOnLoad:{value:-1,kind:fe.VIEWER+fe.PREFERENCE},scrollModeOnLoad:{value:-1,kind:fe.VIEWER+fe.PREFERENCE},spreadModeOnLoad:{value:-1,kind:fe.VIEWER+fe.PREFERENCE},textLayerMode:{value:1,kind:fe.VIEWER+fe.PREFERENCE},viewerCssTheme:{value:0,kind:fe.VIEWER+fe.PREFERENCE},viewOnLoad:{value:0,kind:fe.VIEWER+fe.PREFERENCE},cMapPacked:{value:!0,kind:fe.API},cMapUrl:{value:"../web/cmaps/",kind:fe.API},disableAutoFetch:{value:!1,kind:fe.API+fe.PREFERENCE},disableFontFace:{value:!1,kind:fe.API+fe.PREFERENCE},disableRange:{value:!1,kind:fe.API+fe.PREFERENCE},disableStream:{value:!1,kind:fe.API+fe.PREFERENCE},docBaseUrl:{value:"",kind:fe.API},enableHWA:{value:!0,kind:fe.API+fe.VIEWER+fe.PREFERENCE},enableXfa:{value:!0,kind:fe.API+fe.PREFERENCE},fontExtraProperties:{value:!1,kind:fe.API},iccUrl:{value:"../web/iccs/",kind:fe.API},isEvalSupported:{value:!0,kind:fe.API},isOffscreenCanvasSupported:{value:!0,kind:fe.API},maxImageSize:{value:-1,kind:fe.API},pdfBug:{value:!1,kind:fe.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:fe.API},useSystemFonts:{value:void 0,kind:fe.API,type:oL.BOOLEAN+oL.UNDEFINED},verbosity:{value:1,kind:fe.API},wasmUrl:{value:"../web/wasm/",kind:fe.API},workerPort:{value:null,kind:fe.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:fe.WORKER}};uu.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:fe.VIEWER},uu.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:fe.VIEWER},uu.enableFakeMLManager={value:!0,kind:fe.VIEWER};uu.disablePreferences={value:!1,kind:fe.VIEWER};var Id;const nA=class nA{static get(e){return f(this,Id).get(e)}static getAll(e=null,t=!1){const r=Object.create(null);for(const i in uu){const s=uu[i];e&&!(e&s.kind)||(r[i]=t?s.value:f(this,Id).get(i))}return r}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let r;for(const i in e){const s=uu[i],a=e[i];if(!s||!(typeof a==typeof s.value||oL[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&fe.BROWSER||o&fe.PREFERENCE)||(this.eventBus&&o&fe.EVENT_DISPATCH&&(r||(r=new Map)).set(i,a),f(this,Id).set(i,a))}if(r)for(const[i,s]of r)this.eventBus.dispatch(i.toLowerCase(),{source:this,value:s})}};Id=new WeakMap,Ce(nA,"eventBus"),U(nA,Id,new Map),(()=>{for(const e in uu)f(nA,Id).set(e,uu[e].value);for(const[e,t]of aL)f(nA,Id).set(e,t);nA._hasInvokedSet=!1,nA._checkDisablePreferences=()=>nA.get("disablePreferences")?!0:(nA._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let Kw=nA;function Iz({width:n,height:e,left:t,top:r},i){if(n===0||e===0)return null;const s=i.textLayer.div.getBoundingClientRect(),a=i.getPagePoint(t-s.left,r-s.top),o=i.getPagePoint(t-s.left+n,r-s.top+e);return ik.normalizeRect([a[0],a[1],o[0],o[1]])}function Vbe(n,e){const t=n.getClientRects();if(t.length===1)return{rect:Iz(t[0],e)};const r=[1/0,1/0,-1/0,-1/0],i=[];let s=0;for(const a of t){const o=Iz(a,e);o!==null&&(i[s]=i[s+4]=o[0],i[s+1]=i[s+3]=o[3],i[s+2]=i[s+6]=o[2],i[s+5]=i[s+7]=o[1],ik.rectBoundingBox(...o,r),s+=8)}return{quadPoints:i,rect:r}}function Fz(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const r=t.textContent.length;if(e<=r)return[t,e];e-=r}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function Kbe({url:n,index:e,length:t},r,i){const s=r._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...Fz(s.textDivs[a.divIdx],a.offset)),l.setEnd(...Fz(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${i}`,unsafeUrl:n,url:n,annotationType:fX.LINK,rotation:0,...Vbe(l,r),borderStyle:null}}var F1,gE;class AL{static findLinks(e){f(this,gE)??_(this,gE,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,r]=M_(e,{ignoreDashEOL:!0}),i=t.matchAll(f(this,gE)),s=[];for(const a of i){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=hX(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=wX(r,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>Kbe(t,e,ur(this,F1)._++))}}F1=new WeakMap,gE=new WeakMap,U(AL,F1,0),U(AL,gE);var Fd,Kv,Gv,zv,Jl,Md,Zl,M1,mE,lL;class GX{constructor(e){U(this,mE);U(this,Fd,null);U(this,Kv,0);U(this,Gv,null);U(this,zv,kt.INITIAL);U(this,Jl,null);U(this,Md,0);U(this,Zl,null);Ce(this,"canvas",null);Ce(this,"div",null);Ce(this,"enableOptimizedPartialRendering",!1);Ce(this,"eventBus",null);Ce(this,"id",null);Ce(this,"pageColors",null);Ce(this,"recordedBBoxes",null);Ce(this,"renderingQueue",null);Ce(this,"renderTask",null);Ce(this,"resume",null);U(this,M1,e=>{var t;if((t=f(this,Jl))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=kt.PAUSED,this.resume=()=>{this.renderingState=kt.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,Kv,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,zv)}set renderingState(e){var t;if(e!==f(this,zv))switch(_(this,zv,e),f(this,Fd)&&(clearTimeout(f(this,Fd)),_(this,Fd,null)),e){case kt.PAUSED:this.div.classList.remove("loading"),_(this,Md,0),(t=f(this,Jl))==null||t.call(this,!1);break;case kt.RUNNING:this.div.classList.add("loadingIcon"),_(this,Fd,setTimeout(()=>{this.div.classList.add("loading"),_(this,Fd,null)},0)),_(this,Md,Date.now());break;case kt.INITIAL:case kt.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,Md,0);break}}_createCanvas(e,t=!1){const{pageColors:r}=this,i=!!(r!=null&&r.background&&(r!=null&&r.foreground)),s=this.canvas,a=!s&&!i&&!t;let o=this.canvas=document.createElement("canvas");return _(this,Jl,l=>{if(a){let u=f(this,Zl);if(!l&&f(this,Kv)>0){if(Date.now()-f(this,Md)<f(this,Kv))return;u||(u=_(this,Zl,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?P(this,mE,lL).call(this):_(this,Md,Date.now());return}e(o),_(this,Jl,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,P(this,mE,lL).call(this))}async _drawCanvas(e,t,r){var a,o;const i=this.renderTask=this.pdfPage.render(e);i.onContinue=f(this,M1),i.onError=l=>{l instanceof KN&&(t(),_(this,Gv,null))};let s=null;try{await i.promise,(a=f(this,Jl))==null||a.call(this,!0)}catch(l){if(l instanceof KN)return;s=l,(o=f(this,Jl))==null||o.call(this,!0)}finally{_(this,Gv,s),i===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=i.recordedBBoxes)))}if(this.renderingState=kt.FINISHED,r(i),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,Gv)})}}Fd=new WeakMap,Kv=new WeakMap,Gv=new WeakMap,zv=new WeakMap,Jl=new WeakMap,Md=new WeakMap,Zl=new WeakMap,M1=new WeakMap,mE=new WeakSet,lL=function(){f(this,Zl)&&(f(this,Zl).width=f(this,Zl).height=0,_(this,Zl,null))};var SA;class Gbe{constructor(e){U(this,SA,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,SA)||this._cancelled||_(this,SA,new J0e({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,SA)&&(f(this,SA).destroy(),_(this,SA,null))}setParent(e){var t;(t=f(this,SA))==null||t.setParent(e)}getDrawLayer(){return f(this,SA)}}SA=new WeakMap;var Wa,U1,zX;class zbe extends GX{constructor({pageView:t}){super(t);U(this,U1);U(this,Wa,null);Ce(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const r=this.renderingCancelled||this.renderingState===kt.RUNNING||this.renderingState===kt.PAUSED;this.cancelRendering(),this.renderingState=kt.INITIAL,this.renderingCancelled=r,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:r=!1}={}){if(r){this.cancelRendering(),this.renderingState=kt.INITIAL;return}if(!P(this,U1,zX).call(this,t))return;const{viewport:i,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*F_.pixelRatio**2,h=(Math.sqrt(F_.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,b=l*g,C=Math.max(0,t.minX-v),B=Math.min(i.width,t.maxX+v),S=Math.max(0,t.minY-b),I=Math.min(i.height,t.maxY+b),T=B-C,R=I-S;_(this,Wa,{minX:C,minY:S,width:T,height:R,scale:i.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,r){const i=this.pageView._getRenderingContext(t,r,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return i;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,Wa),g=d/a,v=h/o,b=(d+l)/a,C=(h+u)/o;return{...i,operationsFilter(B){return s.isEmpty(B)?!1:s.minX(B)<=b&&s.maxX(B)>=g&&s.minY(B)<=C&&s.maxY(B)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===kt.FINISHED||this.renderingState===kt.FINISHED;this.renderingState!==kt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:r,pdfPage:i,viewport:s}=this.pageView;if(!i)throw this.renderingState=kt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=kt.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(B=>{var S;((S=a.firstElementChild)==null?void 0:S.tagName)==="CANVAS"?a.firstElementChild.after(B):a.prepend(B)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,Wa),{pixelRatio:g}=F_,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:b}=o;b.width=`${h.width*100/u}%`,b.height=`${h.height*100/d}%`,b.top=`${h.minY*100/d}%`,b.left=`${h.minX*100/u}%`;const C=this._drawCanvas(this._getRenderingContext(o,v),()=>{var B;(B=this.canvas)==null||B.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return r.setAttribute("data-loaded",!0),this.dispatchPageRender(),C}}Wa=new WeakMap,U1=new WeakSet,zX=function(t){if(!f(this,Wa))return!0;const r=f(this,Wa).minX,i=f(this,Wa).minY,s=f(this,Wa).width+r,a=f(this,Wa).height+i;if(t.minX<r||t.minY<i||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,Wa).scale!==u)return!0;const d=t.minX-r,h=s-t.maxX,g=t.minY-i,v=a-t.maxY,b=.5,C=(1+b)/b;return r>0&&h/d>C||s<o&&d/h>C||i>0&&v/g>C||a<l&&g/v>C};const Mz={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},qX=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),wT="http://www.w3.org/1998/Math/MathML";class Uz{static get sanitizer(){return eb(this,"sanitizer",pX.isSanitizerSupported?new Sanitizer({elements:[...qX].map(e=>({name:e,namespace:wT})),replaceWithChildrenElements:[{name:"maction",namespace:wT}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const qbe=/^H(\d+)$/;var qv,Uo,$v,jv,Wv,Ud,LA,uL,jX,cL;class $X{constructor(e,t){U(this,LA);U(this,qv);U(this,Uo,null);U(this,$v);U(this,jv,new Map);U(this,Wv);U(this,Ud,null);_(this,qv,e.getStructTree()),_(this,Wv,t)}async render(){var i;if(f(this,$v))return f(this,$v);const{promise:e,resolve:t,reject:r}=Promise.withResolvers();_(this,$v,e);try{_(this,Uo,P(this,LA,cL).call(this,await f(this,qv)))}catch(s){r(s)}return _(this,qv,null),(i=f(this,Uo))==null||i.classList.add("structTree"),t(f(this,Uo)),e}async getAriaAttributes(e){try{return await this.render(),f(this,jv).get(e)}catch{}return null}hide(){f(this,Uo)&&!f(this,Uo).hidden&&(f(this,Uo).hidden=!0)}show(){var e;(e=f(this,Uo))!=null&&e.hidden&&(f(this,Uo).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,Ud)){for(const[t,r]of f(this,Ud))(e=document.getElementById(t))==null||e.append(r);f(this,Ud).clear(),_(this,Ud,null)}}}qv=new WeakMap,Uo=new WeakMap,$v=new WeakMap,jv=new WeakMap,Wv=new WeakMap,Ud=new WeakMap,LA=new WeakSet,uL=function(e,t){const{alt:r,id:i,lang:s}=e;if(r!==void 0){let a=!1;const o=Vw(r);for(const l of e.children)if(l.type==="annotation"){let u=f(this,jv).get(l.id);u||(u=new Map,f(this,jv).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}i!==void 0&&t.setAttribute("aria-owns",i),s!==void 0&&t.setAttribute("lang",Vw(s,!0))},jX=function(e,t){const{alt:r,bbox:i,children:s}=e,a=s==null?void 0:s[0];if(!f(this,Wv)||!r||!i||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,Ud)||_(this,Ud,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",Vw(r));const{pageHeight:u,pageX:d,pageY:h}=f(this,Wv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${i[2]-i[0]}px)`,v.height=`${g}${i[3]-i[1]}px)`,v.left=`${g}${i[0]-d}px)`,v.top=`${g}${u-i[3]+h}px)`,!0},cL=function(e){if(!e)return null;let t;if("role"in e){const{role:r}=e;t=qX.has(r)?document.createElementNS(wT,r):document.createElement("span");const i=r.match(qbe);if(i?(t.setAttribute("role","heading"),t.setAttribute("aria-level",i[1])):Mz[r]&&t.setAttribute("role",Mz[r]),r==="Figure"&&P(this,LA,jX).call(this,e,t))return t;r==="Formula"&&(e.mathML&&Uz.sanitizer&&t.setHTML(e.mathML,{sanitizer:Uz.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(wT,"math")))}if(t||(t=document.createElement("span")),P(this,LA,uL).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])P(this,LA,uL).call(this,e.children[0],t);else for(const r of e.children)t.append(P(this,LA,cL).call(this,r));return t};var eu,Ya,tu,Pd,Yv,L_,vE,fL;const em=class em{constructor(){U(this,vE);U(this,eu,!1);U(this,Ya,null);U(this,tu,new Map);U(this,Pd,new Map)}setTextMapping(e){_(this,Ya,e)}enable(){if(f(this,eu))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,Ya))throw new Error("Text divs and strings have not been set.");if(_(this,eu,!0),_(this,Ya,f(this,Ya).slice()),f(this,Ya).sort(P(em,Yv,L_)),f(this,tu).size>0){const e=f(this,Ya);for(const[t,r]of f(this,tu)){if(!document.getElementById(t)){f(this,tu).delete(t);continue}P(this,vE,fL).call(this,t,e[r])}}for(const[e,t]of f(this,Pd))this.addPointerInTextLayer(e,t);f(this,Pd).clear()}disable(){f(this,eu)&&(f(this,Pd).clear(),_(this,Ya,null),_(this,eu,!1))}removePointerInTextLayer(e){if(!f(this,eu)){f(this,Pd).delete(e);return}const t=f(this,Ya);if(!t||t.length===0)return;const{id:r}=e,i=f(this,tu).get(r);if(i===void 0)return;const s=t[i];f(this,tu).delete(r);let a=s.getAttribute("aria-owns");a!=null&&a.includes(r)&&(a=a.split(" ").filter(o=>o!==r).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:r}=e;if(!r)return null;if(!f(this,eu))return f(this,Pd).set(e,t),null;t&&this.removePointerInTextLayer(e);const i=f(this,Ya);if(!i||i.length===0)return null;const s=tb(i,u=>{var d;return P(d=em,Yv,L_).call(d,e,u)<0}),a=Math.max(0,s-1),o=i[a];P(this,vE,fL).call(this,r,o),f(this,tu).set(r,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,r,i){const s=this.addPointerInTextLayer(r,i);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=tb(a,l=>{var u;return P(u=em,Yv,L_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};eu=new WeakMap,Ya=new WeakMap,tu=new WeakMap,Pd=new WeakMap,Yv=new WeakSet,L_=function(e,t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(r.width===0&&r.height===0)return 1;if(i.width===0&&i.height===0)return-1;const s=r.y,a=r.y+r.height,o=r.y+r.height/2,l=i.y,u=i.y+i.height,d=i.y+i.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=r.x+r.width/2,g=i.x+i.width/2;return h-g},vE=new WeakSet,fL=function(e,t){const r=t.getAttribute("aria-owns");r!=null&&r.includes(e)||t.setAttribute("aria-owns",r?`${r} ${e}`:e),t.removeAttribute("role")},U(em,Yv);let dL=em;var Rd;class $be{constructor({findController:e,eventBus:t,pageIndex:r}){U(this,Rd,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=r,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,Rd)||(_(this,Rd,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,Rd).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,Rd))==null||e.abort(),_(this,Rd,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:r}=this;let i=0,s=0;const a=r.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;i!==a&&d>=s+r[i].length;)s+=r[i].length,i++;i===r.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:i,offset:d-s}};for(d+=t[l];i!==a&&d>s+r[i].length;)s+=r[i].length,i++;h.end={divIdx:i,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:r}=this,{textContentItemsStr:i,textDivs:s}=this,a=r===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(S,I){const T=S.divIdx;return s[T].textContent="",g(T,0,S.offset,I)}function g(S,I,T,R){let M=s[S];if(M.nodeType===Node.TEXT_NODE){const H=document.createElement("span");M.before(H),H.append(M),s[S]=H,M=H}const D=i[S].substring(I,T),L=document.createTextNode(D);if(R){const H=document.createElement("span");if(H.className=`${R} appended`,H.append(L),M.append(H),R.includes("selected")){const{left:k}=H.getClientRects()[0],K=M.getBoundingClientRect().left;return k-K}return 0}return M.append(L),0}let v=o,b=v+1;if(l)v=0,b=e.length;else if(!a)return;let C=-1,B=-1;for(let S=v;S<b;S++){const I=e[S],T=I.begin;if(T.divIdx===C&&T.offset===B)continue;C=T.divIdx,B=T.offset;const R=I.end,M=a&&S===o,D=M?" selected":"";let L=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===R.divIdx)L=g(T.divIdx,T.offset,R.offset,"highlight"+D);else{L=g(T.divIdx,T.offset,d.offset,"highlight begin"+D);for(let H=T.divIdx+1,k=R.divIdx;H<k;H++)s[H].className="highlight middle"+D;h(R,"highlight end"+D)}u=R,M&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:L,pageIndex:r,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:r,pageIdx:i}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of r){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const b=a[g];b.textContent=s[g],b.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[i]||null,u=t.pageMatchesLength[i]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}Rd=new WeakMap;var yE,wE,Ap,xA,Bs,Dd,P1,WX,Ey,YX,XX;const Ic=class Ic{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:r=null,enablePermissions:i=!1,onAppend:s=null}){U(this,P1);U(this,yE,!1);U(this,wE,null);U(this,Ap,!1);U(this,xA,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=r,_(this,yE,i===!0),_(this,wE,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,Ap)&&f(this,xA)){f(this,xA).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,xA,new rwe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:r,textContentItemsStr:i}=f(this,xA);(a=this.highlighter)==null||a.setTextMapping(r,i),(o=this.accessibilityManager)==null||o.setTextMapping(r),await f(this,xA).render(),_(this,Ap,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),P(this,P1,WX).call(this,s),(l=f(this,wE))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,Ap)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,Ap)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,r,i;(e=f(this,xA))==null||e.cancel(),_(this,xA,null),(t=this.highlighter)==null||t.disable(),(r=this.accessibilityManager)==null||r.disable(),P(i=Ic,Ey,YX).call(i,this.div)}};yE=new WeakMap,wE=new WeakMap,Ap=new WeakMap,xA=new WeakMap,Bs=new WeakMap,Dd=new WeakMap,P1=new WeakSet,WX=function(e){var r;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",i=>{if(!f(this,yE)){const s=document.getSelection();i.clipboardData.setData("text/plain",Vw(nwe(s.toString())))}GN(i)}),f(Ic,Bs).set(t,e),P(r=Ic,Ey,XX).call(r)},Ey=new WeakSet,YX=function(e){var t;f(this,Bs).delete(e),f(this,Bs).size===0&&((t=f(this,Dd))==null||t.abort(),_(this,Dd,null))},XX=function(){if(f(this,Dd))return;_(this,Dd,new AbortController);const{signal:e}=f(this,Dd),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let r=!1;document.addEventListener("pointerdown",()=>{r=!0},{signal:e}),document.addEventListener("pointerup",()=>{r=!1,f(this,Bs).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{r=!1,f(this,Bs).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{r||f(this,Bs).forEach(t)},{signal:e});var i,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,Bs).forEach(t);return}const o=new Set;for(let b=0;b<a.rangeCount;b++){const C=a.getRangeAt(b);for(const B of f(this,Bs).keys())!o.has(B)&&C.intersectsNode(B)&&o.add(B)}for(const[b,C]of f(this,Bs))o.has(b)?b.classList.add("selecting"):t(C,b);if(i??(i=getComputedStyle(f(this,Bs).values().next().value).getPropertyValue("-moz-user-select")==="none"),i)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,Bs).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},U(Ic,Ey),U(Ic,Bs,new Map),U(Ic,Dd,null);let bT=Ic;class JX{constructor({pdfPage:e,annotationStorage:t=null,linkService:r,xfaHtml:i=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=r,this.xfaHtml=i,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,QU.render(s)}const r=await this.pdfPage.getXfa();if(this._cancelled||!r)return{textDivs:[]};const i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?QU.update(i):(this.div=document.createElement("div"),i.div=this.div,QU.render(i))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const jbe={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new ak}},Wbe=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var Nd,Ld,bE,CE,Xv,EE,Qd,nu,Jv,BE,SE,xE,Zv,_E,ru,kd,ft,Kg,Q_,Fw,hL,pL,gL,mL,vL,e9,t9,n9,yL;class ZX extends GX{constructor(t){var a,o;super(t);U(this,ft);U(this,Nd,FA.ENABLE_FORMS);U(this,Ld,null);U(this,bE,null);U(this,CE,!0);U(this,Xv,!1);U(this,EE,!1);U(this,Qd,null);U(this,nu,!1);U(this,Jv,null);U(this,BE,null);U(this,SE,1);U(this,xE,1);U(this,Zv,TA.ENABLE);U(this,_E,1);U(this,ru,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});U(this,kd,[null,null,null,null]);const r=t.container,i=t.defaultViewport;this.renderingId="page"+this.id,_(this,Qd,t.layerProperties||jbe),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||mX,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,Zv,t.textLayerMode??TA.ENABLE),_(this,Nd,t.annotationMode??FA.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??Kw.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||Kw.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??Kw.get("capCanvasAreaFactor"),_(this,CE,t.enableAutoLinking!==!1),_(this,bE,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new uy),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=r,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,P(this,ft,Q_).call(this),r==null||r.append(s),this._isStandalone){r==null||r.style.setProperty("--scale-factor",this.scale*gl.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(r==null||r.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,ru).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var i,s,a,o;this._isStandalone&&(((i=this.pageColors)==null?void 0:i.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const r=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*gl.PDF_TO_CSS_UNITS,rotation:r}),P(this,ft,Q_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return eb(this,"_textHighlighter",new $be({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,Qd).findController}))}_resetCanvas(){super._resetCanvas(),_(this,Jv,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var B,S,I,T,R,M,D;const l=((B=this.pdfPage)==null?void 0:B._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:r,keepXfaLayer:i,keepTextLayer:s}),this.renderingState=kt.INITIAL;const u=this.div,d=u.childNodes,h=t&&((S=this.annotationLayer)==null?void 0:S.div)||null,g=r&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=i&&((T=this.xfaLayer)==null?void 0:T.div)||null,b=s&&((R=this.textLayer)==null?void 0:R.div)||null,C=a&&f(this,Ld)||null;for(let L=d.length-1;L>=0;L--){const H=d[L];switch(H){case h:case g:case v:case b:case C:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const k=f(this,kd).indexOf(H);k>=0&&(f(this,kd)[k]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),b&&this.textLayer.hide(),(M=this.structTreeLayer)==null||M.hide(),!a&&f(this,Ld)&&(_(this,Ld,null),this._resetCanvas()),o||((D=this.detailView)==null||D.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,EE,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,nu)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new zbe({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:r=null,optionalContentConfigPromise:i=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof r=="number"&&(this.rotation=r),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(d=>{i===this._optionalContentConfigPromise&&(f(this,ru).initialOptionalContent=d.hasInitialVisibility)})),f(this,ru).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*gl.PDF_TO_CSS_UNITS,rotation:a}),P(this,ft,Q_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),P(this,ft,yL).call(this),this.canvas){const d=f(this,Xv)&&f(this,nu),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==kt.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=kt.FINISHED,f(this,ru).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!r||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:r=!1,redrawXfaLayer:i=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,Jv);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,b=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${b})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&P(this,ft,hL).call(this),r&&this.annotationEditorLayer&&(this.drawLayer&&P(this,ft,gL).call(this),P(this,ft,pL).call(this)),i&&this.xfaLayer&&P(this,ft,mL).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&P(this,ft,vL).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,r){return this.viewport.convertToPdfPoint(t,r)}_ensureCanvasWrapper(){let t=f(this,Ld);return t||(t=_(this,Ld,document.createElement("div")),t.classList.add("canvasWrapper"),P(this,ft,Kg).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,r,i){return{canvas:t,transform:r,viewport:this.viewport,annotationMode:f(this,Nd),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,EE),recordOperations:i}}async draw(){this.renderingState!==kt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:r,pdfPage:i,viewport:s}=this;if(!i)throw this.renderingState=kt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=kt.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,Zv)!==TA.DISABLE&&!i.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new dL),this.textLayer=new bT({pdfPage:i,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,Zv)===TA.ENABLE_PERMISSIONS,onAppend:M=>{this.l10n.pause(),P(this,ft,Kg).call(this,M,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,Nd)!==FA.DISABLE){const{annotationStorage:M,annotationEditorUIManager:D,downloadManager:L,enableComment:H,enableScripting:k,fieldObjectsPromise:K,hasJSActionsPromise:G,linkService:z}=f(this,Qd);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new TX({pdfPage:i,annotationStorage:M,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,Nd)===FA.ENABLE_FORMS,linkService:z,downloadManager:L,enableComment:H,enableScripting:k,hasJSActionsPromise:G,fieldObjectsPromise:K,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,commentManager:f(this,bE),onAppend:Z=>{P(this,ft,Kg).call(this,Z,"annotationLayer")}})}const{width:o,height:l}=s;_(this,Jv,s);const{canvas:u,prevCanvas:d}=this._createCanvas(M=>{a.prepend(M)});u.setAttribute("role","presentation"),this.outputScale||P(this,ft,yL).call(this);const{outputScale:h}=this;_(this,Xv,f(this,nu));const g=oz(h.sx),v=oz(h.sy),b=u.width=mx(vx(o*h.sx),g[0]),C=u.height=mx(vx(l*h.sy),v[0]),B=mx(vx(o),g[1]),S=mx(vx(l),v[1]);h.sx=b/B,h.sy=C/S,f(this,SE)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,SE,g[1])),f(this,xE)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,xE,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,Xv)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,R=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},M=>{f(this,ru).regularAnnotations=!M.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var L;if(this.renderingState!==kt.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new $X(i,s.rawDims));const M=P(this,ft,vL).call(this);this.annotationLayer&&(await P(this,ft,hL).call(this),f(this,CE)&&this.annotationLayer&&this.textLayer&&await P(this,ft,n9).call(this,M));const{annotationEditorUIManager:D}=f(this,Qd);D&&(this.drawLayer||(this.drawLayer=new Gbe({pageIndex:this.id})),await P(this,ft,gL).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,Nd)===FA.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new Hbe({uiManager:D,pdfPage:i,l10n:r,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(L=this.annotationLayer)==null?void 0:L.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{P(this,ft,Kg).call(this,H,"annotationEditorLayer")}})),P(this,ft,pL).call(this)))});if(i.isPureXfa){if(!this.xfaLayer){const{annotationStorage:M,linkService:D}=f(this,Qd);this.xfaLayer=new JX({pdfPage:i,annotationStorage:M,linkService:D})}P(this,ft,mL).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),R}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:r,regularAnnotations:i}=f(this,ru);return t&&r&&i?this.canvas:null}}Nd=new WeakMap,Ld=new WeakMap,bE=new WeakMap,CE=new WeakMap,Xv=new WeakMap,EE=new WeakMap,Qd=new WeakMap,nu=new WeakMap,Jv=new WeakMap,BE=new WeakMap,SE=new WeakMap,xE=new WeakMap,Zv=new WeakMap,_E=new WeakMap,ru=new WeakMap,kd=new WeakMap,ft=new WeakSet,Kg=function(t,r){const i=Wbe.get(r),s=f(this,kd)[i];if(f(this,kd)[i]=t,s){s.replaceWith(t);return}for(let a=i-1;a>=0;a--){const o=f(this,kd)[a];if(o){o.after(t);return}}this.div.prepend(t)},Q_=function(){const{div:t,viewport:r}=this;if(r.userUnit!==f(this,_E)&&(r.userUnit!==1?t.style.setProperty("--user-unit",r.userUnit):t.style.removeProperty("--user-unit"),_(this,_E,r.userUnit)),this.pdfPage){if(f(this,BE)===r.rotation)return;_(this,BE,r.rotation)}gX(t,r,!0,!1)},Fw=function(t,r){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:r})},hL=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(r){console.error("#renderAnnotationLayer:",r),t=r}finally{P(this,ft,Fw).call(this,"annotationlayerrendered",t)}},pL=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(r){console.error("#renderAnnotationEditorLayer:",r),t=r}finally{P(this,ft,Fw).call(this,"annotationeditorlayerrendered",t)}},gL=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},mL=async function(){var r;let t=null;try{const i=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});i!=null&&i.textDivs&&this._textHighlighter&&P(this,ft,t9).call(this,i.textDivs)}catch(i){console.error("#renderXfaLayer:",i),t=i}finally{(r=this.xfaLayer)!=null&&r.div&&(this.l10n.pause(),P(this,ft,Kg).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),P(this,ft,Fw).call(this,"xfalayerrendered",t)}},vL=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(r){if(r instanceof j0e)return;console.error("#renderTextLayer:",r),t=r}P(this,ft,Fw).call(this,"textlayerrendered",t),P(this,ft,e9).call(this)},e9=async function(){var r,i,s;if(!this.textLayer)return;const t=await((r=this.structTreeLayer)==null?void 0:r.render());t&&(this.l10n.pause(),(i=this.structTreeLayer)==null||i.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},t9=async function(t){const r=await this.pdfPage.getTextContent(),i=[];for(const s of r.items)i.push(s.str);this._textHighlighter.setTextMapping(t,i),this._textHighlighter.enable()},n9=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(AL.processLinks(this))}catch(r){console.error("#injectLinkAnnotations:",r)}},yL=function(){const{width:t,height:r}=this.viewport,i=this.outputScale=new F_;if(this.maxCanvasPixels===0){const s=1/this.scale;i.sx*=s,i.sy*=s,_(this,nu,!0)}else if(_(this,nu,i.limitCanvas(t,r,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,nu)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;i.sx/=s,i.sy/=s}};async function Ybe(n){const{info:r,metadata:i,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...r,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||Z0e(""),metadata:i==null?void 0:i.getRaw(),authors:i==null?void 0:i.get("dc:creator"),numPages:n.numPages,URL:""}}class Xbe{constructor(e){this._ready=new Promise((t,r)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(r)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var _A,lp,TE,up,cp,IE,Ji,iu,ey,kr,Xa,si,r9,k_,wL,i9,Mw;class Jbe{constructor({eventBus:e,externalServices:t=null,docProperties:r=null}){U(this,si);U(this,_A,null);U(this,lp,null);U(this,TE,null);U(this,up,null);U(this,cp,null);U(this,IE,null);U(this,Ji,null);U(this,iu,null);U(this,ey,!1);U(this,kr,null);U(this,Xa,null);_(this,cp,e),_(this,IE,t),_(this,TE,r)}setViewer(e){_(this,iu,e)}async setDocument(e){var o;if(f(this,Ji)&&await P(this,si,Mw).call(this),_(this,Ji,e),!e)return;const[t,r,i]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!i){await P(this,si,Mw).call(this);return}if(e!==f(this,Ji))return;try{_(this,kr,P(this,si,i9).call(this))}catch(l){console.error("setDocument:",l),await P(this,si,Mw).call(this);return}const s=f(this,cp);_(this,up,new AbortController);const{signal:a}=f(this,up);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&P(this,si,r9).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,kr))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(P(this,si,wL).call(this,u),P(this,si,k_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,iu).currentPageNumber&&P(this,si,k_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await P(this,si,wL).call(this,f(this,iu).currentPageNumber),await((l=f(this,kr))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,_A))==null||u.resolve()},{signal:a});try{const l=await f(this,TE).call(this,e);if(e!==f(this,Ji))return;await f(this,kr).createSandbox({objects:t,calculationOrder:r,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:i}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await P(this,si,Mw).call(this);return}await((o=f(this,kr))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await P(this,si,k_).call(this,f(this,iu).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,Ji)&&_(this,ey,!0)})}async dispatchWillSave(){var e;return(e=f(this,kr))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,kr))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,kr)){await((e=f(this,Xa))==null?void 0:e.promise),_(this,Xa,Promise.withResolvers());try{await f(this,kr).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,Xa).resolve(),_(this,Xa,null),t}await f(this,Xa).promise}}async dispatchDidPrint(){var e;return(e=f(this,kr))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,lp))==null?void 0:e.promise)||null}get ready(){return f(this,ey)}get _pageOpenPending(){return eb(this,"_pageOpenPending",new Set)}get _visitedPages(){return eb(this,"_visitedPages",new Map)}}_A=new WeakMap,lp=new WeakMap,TE=new WeakMap,up=new WeakMap,cp=new WeakMap,IE=new WeakMap,Ji=new WeakMap,iu=new WeakMap,ey=new WeakMap,kr=new WeakMap,Xa=new WeakMap,si=new WeakSet,r9=async function(e){var u,d;const t=f(this,iu),r=t.isInPresentationMode||t.isChangingPresentationMode,{id:i,siblings:s,command:a,value:o}=e;if(!i){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!r){const h=gwe(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,cp).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":r||(t.currentScaleValue=o);break;case"SaveAs":f(this,cp).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":r||t.increaseScale();break;case"ZoomViewOut":r||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,Xa))==null||u.resolve(),_(this,Xa,null);break}return}if(r&&e.focus)return;delete e.id,delete e.siblings;const l=s?[i,...s]:[i];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,Ji))==null||d.annotationStorage.setValue(h,e)}},k_=async function(e,t=!1){const r=f(this,Ji),i=this._visitedPages;if(t&&_(this,_A,Promise.withResolvers()),!f(this,_A))return;const s=f(this,iu).getPageView(e-1);if((s==null?void 0:s.renderingState)!==kt.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(i.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());r===f(this,Ji)&&await((u=f(this,kr))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();i.set(e,a)},wL=async function(e){var s;const t=f(this,Ji),r=this._visitedPages;if(!f(this,_A)||this._pageOpenPending.has(e))return;const i=r.get(e);i&&(r.set(e,null),await i,t===f(this,Ji)&&await((s=f(this,kr))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},i9=function(){if(_(this,lp,Promise.withResolvers()),f(this,kr))throw new Error("#initScripting: Scripting already exists.");return f(this,IE).createScripting()},Mw=async function(){var e,t,r,i;if(!f(this,kr)){_(this,Ji,null),(e=f(this,lp))==null||e.resolve();return}f(this,_A)&&(await Promise.race([f(this,_A).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,_A,null)),_(this,Ji,null);try{await f(this,kr).destroySandbox()}catch{}(t=f(this,Xa))==null||t.reject(new Error("Scripting destroyed.")),_(this,Xa,null),(r=f(this,up))==null||r.abort(),_(this,up,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,kr,null),_(this,ey,!1),(i=f(this,lp))==null||i.resolve()};class Zbe extends Jbe{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new Xbe(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>Ybe(t)),super(e)}}const eCe=3e4;class tCe{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),eCe)))}getHighestPriority(e,t,r,i=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,b=u-l;v<b;v++){const C=r?l+v:u-v;if(g.has(C))continue;const B=t[C-1];if(!this.isViewFinished(B))return B}}let d=r?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||i&&(d+=r?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===kt.FINISHED}renderView(e){switch(e.renderingState){case kt.FINISHED:return!1;case kt.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case kt.RUNNING:this.highestPriorityPage=e.renderingId;break;case kt.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof KN||console.error("renderView:",t)});break}return!0}}const Pz=10,bx={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function Rz(n){return Object.values(ps).includes(n)&&n!==ps.DISABLE}var su,dp,FE,bL;class nCe{constructor(e){U(this,FE);U(this,su,new Set);U(this,dp,0);_(this,dp,e)}push(e){const t=f(this,su);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,dp)&&P(this,FE,bL).call(this)}resize(e,t=null){_(this,dp,e);const r=f(this,su);if(t){const i=r.size;let s=1;for(const a of r)if(t.has(a.id)&&(r.delete(a),r.add(a)),++s>i)break}for(;r.size>f(this,dp);)P(this,FE,bL).call(this)}has(e){return f(this,su).has(e)}[Symbol.iterator](){return f(this,su).keys()}}su=new WeakMap,dp=new WeakMap,FE=new WeakSet,bL=function(){const e=f(this,su).keys().next().value;e==null||e.destroy(),f(this,su).delete(e)};var au,ME,UE,Ja,aa,fp,hp,PE,RE,DE,NE,LE,QE,kE,OE,Od,HE,ty,ou,Po,pp,gp,ny,Hd,ry,VE,iy,mp,Au,sy,KE,ay,GE,je,s9,a9,o9,Uw,O_,A9,CL,l9,Sc,EL,u9,c9,d9,BL,f9,SL,H_,xL;class Ak{constructor(e){U(this,je);U(this,au,null);U(this,ME,null);U(this,UE,null);U(this,Ja,ps.NONE);U(this,aa,null);U(this,fp,FA.ENABLE_FORMS);U(this,hp,null);U(this,PE,null);U(this,RE,null);U(this,DE,!1);U(this,NE,!1);U(this,LE,!1);U(this,QE,!1);U(this,kE,!1);U(this,OE,!0);U(this,Od,null);U(this,HE,0);U(this,ty,null);U(this,ou,!0);U(this,Po,null);U(this,pp,null);U(this,gp,null);U(this,ny,!1);U(this,Hd,null);U(this,ry,!1);U(this,VE,0);U(this,iy,new ResizeObserver(P(this,je,f9).bind(this)));U(this,mp,null);U(this,Au,null);U(this,sy,null);U(this,KE,!0);U(this,ay,TA.ENABLE);U(this,GE,null);var i,s;const t="5.4.449";if(nz!==t)throw new Error(`The API version "${nz}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,GE,e.viewerAlert||null),((i=this.container)==null?void 0:i.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,iy).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new ak,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,ME,e.altTextManager||null),_(this,hp,e.commentManager||null),_(this,sy,e.signatureManager||null),_(this,RE,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,ay,e.textLayerMode??TA.ENABLE),_(this,fp,e.annotationMode??FA.ENABLE_FORMS),_(this,Ja,e.annotationEditorMode??ps.NONE),_(this,UE,e.annotationEditorHighlightColors||null),_(this,NE,e.enableHighlightFloatingButton===!0),_(this,QE,e.enableUpdatedAddImage===!0),_(this,kE,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new uy),_(this,LE,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,ty,e.mlManager||null),_(this,DE,e.enableHWA||!1),_(this,KE,e.supportsPinchToZoom!==!1),_(this,OE,e.enableAutoLinking!==!1),_(this,HE,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new tCe,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:r}=e;r==null||r.addEventListener("abort",()=>{f(this,iy).disconnect(),_(this,iy,null)},{once:!0}),this.scroll=lwe(this.container,this._scrollUpdate.bind(this),r),this.presentationModeState=om.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),P(this,je,BL).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,au).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,ou)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,au))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,fp)===FA.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var i;if(this._currentPageNumber===e)return t&&P(this,je,EL).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const r=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((i=this._pageLabels)==null?void 0:i[e-1])??null,previous:r}),t&&P(this,je,EL).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const r=this._pageLabels.indexOf(e);r>=0&&(t=r+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==kU?this._currentScale:mX}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&P(this,je,Sc).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&P(this,je,Sc).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!yX(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&P(this,je,Sc).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return eb(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,aa)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,hp)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let r=1,i=this.pdfDocument.numPages;r<=i;++r){if(f(this,ry))return null;t.length=0;const s=await this.pdfDocument.getPage(r),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(Vw(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,b;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(b=f(this,aa))==null||b.destroy(),_(this,aa,null),_(this,Ja,ps.NONE),_(this,ou,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,r=e.getPage(1),i=e.getOptionalContentConfig({intent:"display"}),s=f(this,LE)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,Od,new AbortController);const{signal:u}=f(this,Od);if(t>bx.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const C=this._scrollMode=Rt.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:C})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=C=>{const B=this._pages[C.pageNumber-1];B&&f(this,au).push(B)};a._on("pagerender",d,{signal:u});const h=C=>{C.cssTransform||C.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:C.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([r,s]).then(([C,B])=>{var L;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(C),this._optionalContentConfigPromise=i;const{annotationEditorMode:S,annotationMode:I,textLayerMode:T}=P(this,je,s9).call(this,B);if(T!==TA.DISABLE){const H=_(this,Hd,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(S!==ps.DISABLE){const H=S;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):Rz(H)?(_(this,aa,new Y0e(this.container,l,f(this,GE),f(this,ME),f(this,hp),f(this,sy),a,e,o,f(this,UE),f(this,NE),f(this,QE),f(this,kE),f(this,ty),f(this,RE),f(this,KE))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,aa)}),H!==ps.NONE&&(P(this,je,xL).call(this,H),f(this,aa).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const R=this._scrollMode===Rt.PAGE?null:l,M=this.currentScale,D=C.getViewport({scale:M*gl.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",D.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const k=new ZX({container:R,eventBus:a,id:H,scale:M,defaultViewport:D.clone(),optionalContentConfigPromise:i,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,DE),enableAutoLinking:f(this,OE),minDurationToUpdateCanvas:f(this,HE),commentManager:f(this,hp)});this._pages.push(k)}(L=this._pages[0])==null||L.setPdfPage(C),this._scrollMode===Rt.PAGE?P(this,je,Uw).call(this):this._spreadMode!==gr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,aa)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,Ja)})},{once:!0,signal:u}),P(this,je,a9).call(this,u).then(async()=>{var k,K;if(e!==this.pdfDocument)return;if((k=this.findController)==null||k.setDocument(e),(K=this._scriptingManager)==null||K.setDocument(e),f(this,Hd)&&document.addEventListener("copy",P(this,je,o9).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>bx.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let G=2;G<=t;++G){const z=e.getPage(G).then(Z=>{const ne=this._pages[G-1];ne.pdfPage||ne.setPdfPage(Z),--H===0&&this._pagesCapability.resolve()},Z=>{console.error(`Unable to get page ${G} to initialize viewer`,Z),--H===0&&this._pagesCapability.resolve()});G%bx.PAUSE_EAGER_PAGE_INIT===0&&await z}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(C=>{console.error("Unable to initialize viewer",C),this._pagesCapability.reject(C)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let r=0,i=this._pages.length;r<i;r++)this._pages[r].setPageLabel(((t=this._pageLabels)==null?void 0:t[r])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=kU,this._currentScaleValue=null,this._pageLabels=null,_(this,au,new nCe(Pz)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=Rt.VERTICAL,this._previousScrollMode=Rt.UNKNOWN,this._spreadMode=gr.NONE,_(this,mp,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,Od))==null||e.abort(),_(this,Od,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,Hd))==null||t.remove(),_(this,Hd,null),P(this,je,SL).call(this),P(this,je,H_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,Po)&&clearTimeout(f(this,Po)),_(this,Po,setTimeout(()=>{_(this,Po,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:r=!1,ignoreDestinationZoom:i=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,b=(v?a.height:a.width)/a.scale/gl.PDF_TO_CSS_UNITS,C=(v?a.width:a.height)/a.scale/gl.PDF_TO_CSS_UNITS;let B=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],B=t[4],o=o!==null?o:0,l=l!==null?l:C;break;case"Fit":case"FitB":B="page-fit";break;case"FitH":case"FitBH":l=t[2],B="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=C);break;case"FitV":case"FitBV":o=t[2],u=b,d=C,B="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let R=iz,M=sz;this.removePageBorders&&(R=M=0),h=(this.container.clientWidth-R)/u/gl.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-M)/d/gl.PDF_TO_CSS_UNITS,B=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(i||(B&&B!==this._currentScale?this.currentScaleValue=B:this._currentScale===kU&&(this.currentScaleValue=swe)),B==="page-fit"&&!t[4]){P(this,je,O_).call(this,a);return}const S=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(S[0][0],S[1][0]),T=Math.min(S[0][1],S[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(S[1][1]-S[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(S[1][0]-S[0][0]))/2)):r||(I=Math.max(I,0),T=Math.max(T,0)),P(this,je,O_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,r=this._currentScaleValue,i=parseFloat(r)===t?Math.round(t*1e4)/100:r,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${i},${u},${d}`),this._location={pageNumber:s,scale:i,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,r=t.length;if(r===0)return;const i=Math.max(Pz,2*r+1);f(this,au).resize(i,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,au))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===gr.NONE&&(this._scrollMode===Rt.PAGE||this._scrollMode===Rt.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===om.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===om.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===Rt.PAGE?f(this,mp).pages:this._pages,t=this._scrollMode===Rt.HORIZONTAL,r=t&&this._isContainerRtl;return cwe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:r})}cleanup(){for(const e of this._pages)e.renderingState!==kt.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),r=P(this,je,d9).call(this,t),i=this._spreadMode!==gr.NONE&&this._scrollMode!==Rt.HORIZONTAL,s=f(this,Au)!==null||f(this,Po)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,r,i,s);return a?(P(this,je,c9).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,r=this._pages.length;t<r;++t){const i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const r=t.pdfPage.getViewport({scale:1}),i=Az(r);if(e===void 0)e=i;else if(this.enablePrintAutoRotate&&i!==e)return{width:r.height,height:r.width,rotation:(r.rotation-90)%360};return{width:r.width,height:r.height,rotation:r.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!dwe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>bx.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",t===Rt.HORIZONTAL),r.classList.toggle("scrollWrapped",t===Rt.WRAPPED),!(!this.pdfDocument||!e)&&(t===Rt.PAGE?P(this,je,Uw).call(this):this._previousScrollMode===Rt.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&P(this,je,Sc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!fwe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,r=this._pages;if(this._scrollMode===Rt.PAGE)P(this,je,Uw).call(this);else if(t.textContent="",this._spreadMode===gr.NONE)for(const i of this._pages)t.append(i.div);else{const i=this._spreadMode-1;let s=null;for(let a=0,o=r.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===i&&(s=s.cloneNode(!1),t.append(s)),s.append(r[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&P(this,je,Sc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case Rt.WRAPPED:{const{views:r}=this._getVisiblePages(),i=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of r){if(o===0||l<100)continue;let u=i.get(a);u||i.set(a,u||(u=[])),u.push(s)}for(const s of i.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case Rt.HORIZONTAL:break;case Rt.PAGE:case Rt.VERTICAL:{if(this._spreadMode===gr.NONE)break;const r=this._spreadMode-1;if(t&&e%2!==r)break;if(!t&&e%2===r)break;const{views:i}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of i)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const r=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+r,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:r=null,origin:i}){if(r===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(r){const a=r>0?rz:1/rz,o=r>0?Math.ceil:Math.floor;r=Math.abs(r);do s=o((s*a).toFixed(2)*10)/10;while(--r>0)}s=rk(s,awe,owe),P(this,je,Sc).call(this,s,{noScroll:!1,drawingDelay:e,origin:i})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,PE)||_(this,PE,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,aa)?f(this,Ja):ps.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:r=!1,mustEnterInEditMode:i=!1,editComment:s=!1}){if(!f(this,aa))throw new Error("The AnnotationEditor is not enabled.");if(f(this,Ja)===e)return;if(!Rz(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;P(this,je,xL).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{P(this,je,H_).call(this),_(this,Ja,e),await f(this,aa).updateMode(e,t,r,i,s),!(e!==f(this,Ja)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===ps.NONE||f(this,Ja)===ps.NONE){const u=e!==ps.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=P(this,je,u9).call(this);if(u&&d){P(this,je,H_).call(this),_(this,pp,new AbortController);const h=AbortSignal.any([f(this,Od).signal,f(this,pp).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,gp,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const r of this._pages)r.update(t);P(this,je,SL).call(this),e||this.update()}}}au=new WeakMap,ME=new WeakMap,UE=new WeakMap,Ja=new WeakMap,aa=new WeakMap,fp=new WeakMap,hp=new WeakMap,PE=new WeakMap,RE=new WeakMap,DE=new WeakMap,NE=new WeakMap,LE=new WeakMap,QE=new WeakMap,kE=new WeakMap,OE=new WeakMap,Od=new WeakMap,HE=new WeakMap,ty=new WeakMap,ou=new WeakMap,Po=new WeakMap,pp=new WeakMap,gp=new WeakMap,ny=new WeakMap,Hd=new WeakMap,ry=new WeakMap,VE=new WeakMap,iy=new WeakMap,mp=new WeakMap,Au=new WeakMap,sy=new WeakMap,KE=new WeakMap,ay=new WeakMap,GE=new WeakMap,je=new WeakSet,s9=function(e){const t={annotationEditorMode:f(this,Ja),annotationMode:f(this,fp),textLayerMode:f(this,ay)};return e?(_(this,ou,e.includes(_g.PRINT_HIGH_QUALITY)||e.includes(_g.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,ou)}),!e.includes(_g.COPY)&&f(this,ay)===TA.ENABLE&&(t.textLayerMode=TA.ENABLE_PERMISSIONS),e.includes(_g.MODIFY_CONTENTS)||(t.annotationEditorMode=ps.DISABLE),!e.includes(_g.MODIFY_ANNOTATIONS)&&!e.includes(_g.FILL_INTERACTIVE_FORMS)&&f(this,fp)===FA.ENABLE_FORMS&&(t.annotationMode=FA.ENABLE),t):(_(this,ou,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,ou)}),t)},a9=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),r=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,r.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),r.abort()},o9=function(e,t){const r=document.getSelection(),{focusNode:i,anchorNode:s}=r;if(s&&i&&r.containsNode(f(this,Hd))){if(f(this,ny)||e===TA.ENABLE_PERMISSIONS){GN(t);return}_(this,ny,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,ry,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,ny,!1),_(this,ry,!1),o.abort(),a.remove("copyAll")}),GN(t)}},Uw=function(){if(this._scrollMode!==Rt.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,mp),r=this.viewer;if(r.textContent="",t.pages.length=0,this._spreadMode===gr.NONE&&!this.isInPresentationMode){const i=this._pages[e-1];r.append(i.div),t.pages.push(i)}else{const i=new Set,s=this._spreadMode-1;s===-1?i.add(e-1):e%2!==s?(i.add(e-1),i.add(e)):(i.add(e-2),i.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of i){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}r.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},O_=function(e,t=null){const{div:r,id:i}=e;if(this._currentPageNumber!==i&&this._setCurrentPageNumber(i),this._scrollMode===Rt.PAGE&&(P(this,je,Uw).call(this),this.update()),!t&&!this.isInPresentationMode){const s=r.offsetLeft+r.clientLeft,a=s+r.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===Rt.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}vX(r,t),!this._currentScaleValue&&this._location&&(this._location=null)},A9=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},CL=function(e,t,{noScroll:r=!1,preset:i=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),P(this,je,A9).call(this,e)){i&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*gl.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,Au,setTimeout(()=>{_(this,Au,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!r){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:i?t:void 0}),this.defaultRenderingQueue&&this.update()},l9=function(){return this._spreadMode!==gr.NONE&&this._scrollMode!==Rt.HORIZONTAL?2:1},Sc=function(e,t){let r=parseFloat(e);if(r>0)t.preset=!1,P(this,je,CL).call(this,r,e,t);else{const i=this._pages[this._currentPageNumber-1];if(!i)return;let s=iz,a=sz;this.isInPresentationMode?(s=a=4,this._spreadMode!==gr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===Rt.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/i.width*i.scale/f(this,je,l9),l=(this.container.clientHeight-a)/i.height*i.scale;switch(e){case"page-actual":r=1;break;case"page-width":r=o;break;case"page-height":r=l;break;case"page-fit":r=Math.min(o,l);break;case"auto":const u=Az(i)?o:Math.min(l,o);r=Math.min(Awe,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,P(this,je,CL).call(this,r,e,t)}},EL=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&P(this,je,Sc).call(this,this._currentScaleValue,{noScroll:!0}),P(this,je,O_).call(this,e)},u9=function(){const e=this._getVisiblePages(),t=[],{ids:r,views:i}=e;for(const s of i){const{view:a}=s;if(!a.hasEditableAnnotations()){r.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:r}),r)},c9=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},d9=function(e){var t,r;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((r=e.last)==null?void 0:r.id)===this.pagesCount)return!1;switch(this._scrollMode){case Rt.PAGE:return f(this,mp).scrollDown;case Rt.HORIZONTAL:return this.scroll.right}return this.scroll.down},BL=function(e=this.container.clientHeight){e!==f(this,VE)&&(_(this,VE,e),hwe.setProperty("--viewer-container-height",`${e}px`))},f9=function(e){for(const t of e)if(t.target===this.container){P(this,je,BL).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,PE,null);break}},SL=function(){f(this,Au)!==null&&(clearTimeout(f(this,Au)),_(this,Au,null)),f(this,Po)!==null&&(clearTimeout(f(this,Po)),_(this,Po,null))},H_=function(){var e;(e=f(this,pp))==null||e.abort(),_(this,pp,null),f(this,gp)!==null&&(clearTimeout(f(this,gp)),_(this,gp,null))},xL=function(e){var t,r;switch(e){case ps.STAMP:(t=f(this,ty))==null||t.loadModel("altText");break;case ps.SIGNATURE:(r=f(this,sy))==null||r.loadSignatures();break}};class rCe extends Ak{_resetView(){super._resetView(),this._scrollMode=Rt.PAGE,this._spreadMode=gr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:TX,DownloadManager:kwe,EventBus:ok,FindState:Bc,GenericL10n:uy,LinkTarget:Uf,parseQueryString:rI,PDFFindController:Lwe,PDFHistory:Qbe,PDFLinkService:sk,PDFPageView:ZX,PDFScriptingManager:Zbe,PDFSinglePageViewer:rCe,PDFViewer:Ak,ProgressBar:pwe,RenderingStates:kt,ScrollMode:Rt,SimpleLinkService:ak,SpreadMode:gr,StructTreeLayerBuilder:$X,TextLayerBuilder:bT,XfaLayerBuilder:JX};const iCe=(n,e)=>{const t=n.getBoundingClientRect(),r=window.devicePixelRatio||1,i=e(),s=t.width/i,a=t.height/i;return{rect:t,dpr:r,visualScale:i,width:s,height:a}},Dz=(n,e,t,r)=>{const i=n.getBoundingClientRect(),s=e.getBoundingClientRect(),a=s.left-i.left+n.scrollLeft,o=s.top-i.top+n.scrollTop,l=t>0?s.width/t:1,u=r>0?s.height/r:1;return{pageOffsetLeft:a,pageOffsetTop:o,scaleX:l,scaleY:u}},sCe=(n,e,t)=>{const r=e.getBoundingClientRect(),i=t(),s=(n.clientX-r.left)/i,a=(n.clientY-r.top)/i;return{x:s,y:a}},aCe=1,oCe=(n,e,t,r,i)=>{if(!(e.length<2)){n.beginPath(),n.lineWidth=r,n.strokeStyle=t,n.lineCap="round",n.lineJoin="round",n.globalAlpha=i,n.moveTo(e[0].x,e[0].y);for(let s=1;s<e.length-1;s++){const a={x:(e[s].x+e[s+1].x)/2,y:(e[s].y+e[s+1].y)/2};n.quadraticCurveTo(e[s].x,e[s].y,a.x,a.y)}n.lineTo(e[e.length-1].x,e[e.length-1].y),n.stroke(),n.globalAlpha=1}};lu.workerSrc=`https://unpkg.com/pdfjs-dist@${Zj}/build/pdf.worker.mjs`;const ACe=({file:n,onPageChange:e,onPagesCount:t,registerGoToPage:r,forceSinglePage:i=!1})=>{const s=F.useRef(null),a=F.useRef(null),o=F.useRef(null),l=F.useRef(new Map),u=F.useRef(null),{addHighlight:d,highlights:h,activeHighlightId:g,triggerSmartExplain:v,setPdfTextPages:b,pdfSearchHighlight:C,drawingMode:B,penColor:S,penWidth:I,penOpacity:T,chapterStrokes:R,addStroke:M,removeStroke:D,showAnnotations:L}=rf(),H=typeof navigator<"u"&&navigator.userAgent||"",k=/iP(hone|od|ad)/.test(H)&&/Safari/i.test(H)&&!/Chrome/i.test(H)&&!/CriOS/i.test(H),K=F.useMemo(()=>typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0),[]),G=k||K?"auto":"smooth",z=F.useMemo(()=>typeof window>"u"?!1:/Mobi|Android|iP(hone|od|ad)/i.test(H)||window.innerWidth<=1300,[H]),Z=void 0,ne=F.useRef(null),{loading:J,setLoading:V,loadProgress:$,setLoadProgress:re,errorMsg:de,setErrorMsg:Ee,copyStatus:q,setCopyStatus:Y,selection:Ae,setSelection:me,layoutTick:ie,setLayoutTick:he}=fCe(),ce=F.useRef(null),Se=F.useRef(null),[ee,Me]=F.useState([]),Te=F.useRef(null),ve=F.useRef(B),vt=F.useRef(S),$e=F.useRef(I),Gt=F.useRef(T),It=F.useRef(R),zn=F.useRef(L),nt=F.useRef([]),yr=F.useRef(!1);F.useEffect(()=>{ve.current=B,vt.current=S,$e.current=I,Gt.current=T,It.current=R,zn.current=L},[B,S,I,T,R,L]),F.useEffect(()=>{Me(we=>we.filter(Le=>h.some(et=>et.id===Le.id)))},[h]),F.useEffect(()=>!a.current||!s.current?void 0:gCe({viewerRoot:a.current,pdfSearchHighlight:C,getVisualScale:Yn,onScrollToFirstHit:Le=>{const et=Le.querySelector(".pdf_search_hit");if(!et||!s.current)return;const Mt=s.current,gn=Mt.getBoundingClientRect(),nn=et.getBoundingClientRect(),Sn=Yn(),Mn=(nn.top-gn.top)/Sn+Mt.scrollTop-40,Ut=(nn.left-gn.left)/Sn+Mt.scrollLeft-20;Mt.scrollTo({top:Math.max(0,Mn),left:Math.max(0,Ut),behavior:"smooth"})}}),[C]),F.useEffect(()=>{var Gi;if(!g||!s.current)return;const we=ee.find(ba=>ba.id===g);if(!we||we.rects.length===0)return;const Le=we.rects[0],et=s.current,Mt=(Gi=a.current)==null?void 0:Gi.querySelector(`.page[data-page-number="${Le.pageNumber}"]`);if(!et||!Mt)return;const{pageOffsetLeft:gn,pageOffsetTop:nn,scaleX:Sn,scaleY:Mn}=Dz(et,Mt,Le.pageWidth,Le.pageHeight),Ut=Math.max(0,nn+Le.top*Mn-40),Us=Math.max(0,gn+Le.left*Sn-20);et.scrollTo({top:Ut,left:Us,behavior:G})},[g,ee,G]),F.useEffect(()=>()=>{ce.current&&clearTimeout(ce.current)},[]);const Yn=()=>{if(!o.current)return 1;const we=getComputedStyle(o.current).getPropertyValue("--visual-scale"),Le=parseFloat(we);return Number.isFinite(Le)?Le:1},en=we=>{const et=we.target.closest(".page");if(!et)return null;const Mt=Number(et.dataset.pageNumber);return Mt?{pageEl:et,pageNumber:Mt}:null},ya=we=>a.current?a.current.querySelector(`.page[data-page-number="${we}"]`):null,wa=we=>iCe(we,Yn),tn=F.useMemo(()=>mCe({viewerRef:a,viewerContainerRef:s,pageCanvasMapRef:l,currentPageRef:u,rafRefreshId:Te,drawingModeRef:ve,penColorRef:vt,penWidthRef:$e,penOpacityRef:Gt,chapterStrokesRef:It,showAnnotationsRef:zn,livePointsRef:nt,isDrawingRef:yr,getVisualScale:Yn,getPagePoint:sCe,getPageElementFromEvent:en,getPageElementByNumber:ya,getCanvasMetrics:wa,drawStrokePath:oCe,addStroke:M,removeStroke:D}),[a,s,l,u,Te,ve,vt,$e,Gt,It,zn,nt,yr]),xe=F.useCallback(()=>{Te.current===null&&(Te.current=requestAnimationFrame(()=>{Te.current=null,tn.syncPageCanvases(),tn.syncCanvasPointers(),tn.renderStaticCanvases(),tn.renderLiveCanvas()}))},[tn]);cCe({file:n,viewerContainerRef:s,viewerRef:a,pdfViewerRef:ne,pageCanvasMapRef:l,currentPageRef:u,rafRefreshId:Te,MAX_CANVAS_PIXELS:Z,isMobileLike:z,isMobileSafari:k,onPageChange:e,onPagesCount:t,registerGoToPage:r,setPdfTextPages:b,setLoading:V,setLoadProgress:re,setErrorMsg:Ee,scheduleRenderRefresh:xe,disposePageEntry:tn.disposePageEntry,preferSpreadView:!z&&!i}),dCe({penRuntime:tn,viewerRef:a,viewerContainerRef:s,pageCanvasMapRef:l,drawingMode:B,showAnnotations:L,chapterStrokes:R,penColor:S,penWidth:I,penOpacity:T,scheduleRenderRefresh:xe,setLayoutTick:he}),F.useEffect(()=>{if(J)return;const we=ne.current,Le=s.current,et=a.current;if(!we||!Le||!et)return;const Mt=requestAnimationFrame(()=>{if(!z){we.currentScale<1&&(we.currentScale=1);return}const gn=et.querySelector(".page");if(!gn)return;const{paddingLeft:nn,paddingRight:Sn}=getComputedStyle(et),Mn=Math.max(0,Le.clientWidth-(parseFloat(nn)||0)-(parseFloat(Sn)||0));if(!Mn)return;const Ut=we.currentScale||1,Us=gn.getBoundingClientRect().width;if(!Us)return;const Gi=Math.min(1,Ut*Mn/Us);Math.abs(Gi-Ut)>=.01&&(we.currentScale=Gi)});return()=>cancelAnimationFrame(Mt)},[J,ie,z]),F.useEffect(()=>{const we=ne.current;if(!we)return;const et=i?gr.NONE:!z?gr.ODD:gr.NONE;we.spreadMode!==et&&(we.spreadMode=et,xe())},[i,z]);const te=we=>{var Mt;if(!we)return null;const Le=we instanceof Element?we:we.parentElement,et=(Mt=Le==null?void 0:Le.closest)==null?void 0:Mt.call(Le,".page");return et instanceof HTMLElement?et:null},Be=we=>te(we.startContainer)||te(we.endContainer),Ue=()=>{if(Se.current)return Se.current;const we=window.getSelection();if(!we||we.isCollapsed||we.rangeCount===0||!we.toString().trim())return null;const Le=we.getRangeAt(0),et=Be(Le);if(!et)return null;const Mt=Number(et.dataset.pageNumber)||null;if(!Mt)return null;const gn=Yn(),nn=zU(Le,et,gn),Sn={range:Le.cloneRange(),pageEl:et,pageNumber:Mt,rects:nn,text:we.toString().trim(),visualScale:gn};return Se.current=Sn,Sn},pt=()=>{var we,Le;return(((we=Se.current)==null?void 0:we.text)||Ae.text||((Le=window.getSelection())==null?void 0:Le.toString())||"").trim()},Ke=async()=>{ce.current&&clearTimeout(ce.current);const we=pt();if(!we.trim()){Y("fail"),ce.current=window.setTimeout(()=>Y(""),1e3);return}try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(we);else{const Le=document.createElement("textarea");Le.value=we,Le.setAttribute("readonly","true"),Le.style.position="fixed",Le.style.left="-9999px",Le.style.opacity="0",document.body.appendChild(Le),Le.select();const et=document.execCommand("copy");if(document.body.removeChild(Le),!et)throw new Error("execCommand copy returned false")}Y("ok")}catch(Le){console.error("copy failed",Le),Y("fail")}finally{ce.current=window.setTimeout(()=>Y(""),1e3)}},pn=()=>{if(B!=="idle"){me(Ii=>({...Ii,show:!1}));return}const we=window.getSelection();if(!we||we.isCollapsed||!we.toString().trim()||!s.current||we.rangeCount===0){me(Ii=>({...Ii,show:!1}));return}if(!(s.current.contains(we.anchorNode)&&s.current.contains(we.focusNode))){me(Ii=>({...Ii,show:!1}));return}const et=we.getRangeAt(0),Mt=et.getBoundingClientRect(),gn=Array.from(et.getClientRects()),nn=Mt.width>0&&Mt.height>0&&Mt||gn.find(Ii=>Ii.width>0&&Ii.height>0);if(!nn||nn.width===0){me(Ii=>({...Ii,show:!1}));return}const Sn=210,Mn=10,Ut=K?nn.bottom+Mn:nn.top-56,Us=nn.left+nn.width/2-Sn/2,Gi=Ut<Mn?nn.bottom+Mn:Ut,ba=Math.min(Math.max(Us,Mn),window.innerWidth-Sn-Mn),zi=Be(et),HA=zi&&Number(zi.dataset.pageNumber)||null,lf=Yn(),kp=zi&&HA?zU(et,zi,lf):[];Se.current={range:et.cloneRange(),pageEl:zi,pageNumber:HA,text:we.toString().trim(),visualScale:lf,rects:kp},me({text:we.toString().trim(),top:Gi,left:ba,show:!0})},Ft=()=>{[0,40,120].forEach(Le=>setTimeout(pn,Le))},Bn=()=>{B==="idle"&&Ft()};F.useEffect(()=>{const we=()=>Ft(),Le=()=>Ft();return document.addEventListener("selectionchange",we),document.addEventListener("touchend",Le),()=>{document.removeEventListener("selectionchange",we),document.removeEventListener("touchend",Le)}},[]);const St=()=>{var Mn;const we=Ue(),Le=(we==null?void 0:we.text)||Ae.text,et=(we==null?void 0:we.pageNumber)??null,Mt=(we==null?void 0:we.visualScale)??Yn();let gn=we!=null&&we.rects&&we.rects.length>0?we.rects:we!=null&&we.range&&we.pageEl&&we.pageNumber!==null&&we.pageNumber!==void 0?zU(we.range,we.pageEl,Mt):[];if(!Le||!et||gn.length===0){me(Ut=>({...Ut,show:!1}));return}const nn=d(Le,void 0,"reference-doc",et),Sn=hCe(gn);Me(Ut=>[...Ut,{id:nn,rects:Sn}]),me(Ut=>({...Ut,show:!1})),Se.current=null,(Mn=window.getSelection())==null||Mn.removeAllRanges()},or=()=>{var we;(we=window.getSelection())==null||we.removeAllRanges(),me(Le=>({...Le,show:!1}))},wr=()=>{var Le;vpe(Ae.text,v,()=>me(et=>({...et,show:!1})))&&((Le=window.getSelection())==null||Le.removeAllRanges())};return Q.jsxs("div",{className:"pdf_viewer",children:[Q.jsx($0e,{loading:J,errorMsg:de,progress:$}),Q.jsx("div",{className:"pdf_viewer_scale_wrapper",ref:o,style:{"--visual-scale":aCe},children:Q.jsxs("div",{ref:s,className:"pdf_viewer_container",onPointerUp:Bn,onContextMenu:we=>we.preventDefault(),children:[Q.jsx("div",{ref:a,className:"pdfViewer pdf_viewer_content"}),Q.jsx("div",{className:"pdf_highlight_layer","data-layout-tick":ie,children:ee.flatMap(we=>we.rects.map((Le,et)=>{var HA;const Mt=s.current,gn=(HA=a.current)==null?void 0:HA.querySelector(`.page[data-page-number="${Le.pageNumber}"]`);if(!Mt||!gn)return null;const{pageOffsetLeft:nn,pageOffsetTop:Sn,scaleX:Mn,scaleY:Ut}=Dz(Mt,gn,Le.pageWidth,Le.pageHeight),Us=nn+Le.left*Mn,Gi=Sn+Le.top*Ut,ba=Le.width*Mn,zi=Le.height*Ut;return Q.jsx("div",{className:"pdf_highlight","data-highlight-id":we.id,style:{left:Us,top:Gi,width:ba,height:zi}},`${we.id}-${et}`)}))})]})}),Q.jsx(q0e,{visible:Ae.show,top:Ae.top,left:Ae.left,copyStatus:q,onHighlight:St,onCopy:Ke,onAskAi:wr,onCancel:or})]})},lCe=async(n,{isMobileSafari:e,setPdfTextPages:t,isCancelled:r})=>{if(e)return;const i=[];try{for(let s=1;s<=n.numPages;s++){const l=(await(await n.getPage(s)).getTextContent()).items.map(u=>"str"in u?u.str:"").join(" ");i.push({page:s,text:l})}r()||t(i)}catch(s){console.error("PDF text extraction failed",s)}},uCe=n=>{const{file:e,viewerContainer:t,viewer:r,pdfViewerRef:i,pageCanvasMapRef:s,currentPageRef:a,rafRefreshId:o,MAX_CANVAS_PIXELS:l,isMobileLike:u,isMobileSafari:d,onPageChange:h,onPagesCount:g,registerGoToPage:v,setPdfTextPages:b,setLoading:C,setLoadProgress:B,setErrorMsg:S,scheduleRenderRefresh:I,disposePageEntry:T,preferSpreadView:R}=n,M=new ok,D=new sk({eventBus:M}),L={container:t,viewer:r,eventBus:M,linkService:D,textLayerMode:2,annotationMode:2,removePageBorders:!0,enableScripting:!1,disableAutoFetch:!1,useOnlyCssZoom:!1};l!==void 0&&(L.maxCanvasPixels=l);const H=new Ak(L);i.current=H;const k=R??!u,K=1;let G=!1;const z=J=>{I(),!G&&(J==null?void 0:J.pageNumber)===1&&(G=!0,C(!1))};M.on("pagesinit",()=>{H.currentScale=K,H.spreadMode=k?gr.ODD:gr.NONE,I()}),M.on("pagechanging",J=>{J!=null&&J.pageNumber&&(h==null||h(J.pageNumber))}),M.on("pagesloaded",J=>{J!=null&&J.pagesCount&&(g==null||g(J.pagesCount)),z()}),M.on("pagerendered",z),M.on("pagedestroy",J=>{J!=null&&J.pageNumber&&T(J.pageNumber)}),v==null||v(J=>{if(!i.current||!i.current.pdfDocument||!i.current.pagesCount)return;const V=i.current.pdfDocument.numPages,$=Math.min(Math.max(J,1),V);i.current.currentPageNumber=$,i.current.scrollPageIntoView({pageNumber:$})}),D.setViewer(H);let Z=!1,ne=GQ(e);return ne.onProgress=({loaded:J=0,total:V=0})=>{if(Z)return;if(!V){B(re=>Math.min(95,Math.max(1,re+1)));return}const $=Math.min(99,Math.max(1,Math.round(J/V*100)));B($)},ne.promise.then(J=>{Z||(B(100),S(null),H.setDocument(J),D.setDocument(J,null),g==null||g(J.numPages),lCe(J,{isMobileSafari:d,setPdfTextPages:b,isCancelled:()=>Z}))}).catch(J=>{if(!Z){if((J==null?void 0:J.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",J),S((J==null?void 0:J.message)||"PDF  "),B(0),C(!1)}}),()=>{var J;Z=!0,ne.destroy(),i.current=null,(J=M.off)==null||J.call(M,"pagerendered",z),s.current.forEach(({layer:V})=>V.remove()),s.current.clear(),a.current=null,o.current!==null&&(cancelAnimationFrame(o.current),o.current=null)}},cCe=({file:n,viewerContainerRef:e,viewerRef:t,pdfViewerRef:r,pageCanvasMapRef:i,currentPageRef:s,rafRefreshId:a,MAX_CANVAS_PIXELS:o,isMobileLike:l,isMobileSafari:u,onPageChange:d,onPagesCount:h,registerGoToPage:g,setPdfTextPages:v,setLoading:b,setLoadProgress:C,setErrorMsg:B,scheduleRenderRefresh:S,disposePageEntry:I,preferSpreadView:T})=>{F.useEffect(()=>!e.current||!t.current?void 0:(v([]),h==null||h(0),d==null||d(1),b(!0),C(1),B(null),uCe({file:n,viewerContainer:e.current,viewer:t.current,pdfViewerRef:r,pageCanvasMapRef:i,currentPageRef:s,rafRefreshId:a,MAX_CANVAS_PIXELS:o,isMobileLike:l,isMobileSafari:u,onPageChange:d,onPagesCount:h,registerGoToPage:g,setPdfTextPages:v,setLoading:b,setLoadProgress:C,setErrorMsg:B,scheduleRenderRefresh:S,disposePageEntry:I,preferSpreadView:T})),[n,d,h,g,v,u,l])},dCe=({penRuntime:n,viewerRef:e,viewerContainerRef:t,pageCanvasMapRef:r,drawingMode:i,showAnnotations:s,chapterStrokes:a,penColor:o,penWidth:l,penOpacity:u,scheduleRenderRefresh:d,setLayoutTick:h})=>{F.useEffect(()=>{n.refreshCanvases()},[n,i,s]),F.useEffect(()=>{n.renderStaticCanvases()},[n,a]),F.useEffect(()=>{n.renderLiveCanvas()},[n,i,o,l,u]),F.useEffect(()=>{let v=0,b=0,C=0,B=0;const S=new ResizeObserver(I=>{let T=!1,R=!1;I.forEach(M=>{const D=Math.round(M.contentRect.width),L=Math.round(M.contentRect.height);if(M.target===e.current){const H=Math.abs(D-v)>=2,k=Math.abs(L-b)>=2;H&&(T=!0),k&&(R=!0),(H||k)&&(v=D,b=L);return}if(M.target===t.current){const H=Math.abs(D-C)>=2,k=Math.abs(L-B)>=2;H&&(T=!0),k&&(R=!0),(H||k)&&(C=D,B=L)}}),!(!T&&!R)&&(d(),T&&h(M=>M+1))});return e.current&&S.observe(e.current),t.current&&S.observe(t.current),()=>{S.disconnect()}},[e,t,d,h]),F.useEffect(()=>{const g=t.current;if(!g)return;const v=()=>d();return g.addEventListener("scroll",v,{passive:!0}),()=>g.removeEventListener("scroll",v)},[t,d]),F.useEffect(()=>()=>{r.current.forEach(g=>{var v;(v=g.layer)==null||v.remove()}),r.current.clear()},[r])},fCe=()=>{const[n,e]=F.useState(!0),[t,r]=F.useState(0),[i,s]=F.useState(null),[a,o]=F.useState(""),[l,u]=F.useState({text:"",top:0,left:0,show:!1}),[d,h]=F.useState(0);return{loading:n,setLoading:e,loadProgress:t,setLoadProgress:r,errorMsg:i,setErrorMsg:s,copyStatus:a,setCopyStatus:o,selection:l,setSelection:u,layoutTick:d,setLayoutTick:h}},hCe=n=>{const e=new Map;n.forEach(i=>{const s=e.get(i.pageNumber)??[];s.push({...i}),e.set(i.pageNumber,s)});const t=1.5,r=[];return e.forEach(i=>{const s=i;let a=!0;for(;a;){a=!1;for(let o=0;o<s.length;o++){for(let l=o+1;l<s.length;l++){const u=s[o],d=s[l],h=u.left<=d.left+d.width+t&&u.left+u.width>=d.left-t,g=u.top<=d.top+d.height+t&&u.top+u.height>=d.top-t;if(h&&g){const v=Math.min(u.left,d.left),b=Math.min(u.top,d.top),C=Math.max(u.left+u.width,d.left+d.width),B=Math.max(u.top+u.height,d.top+d.height);s[o]={...u,left:v,top:b,width:C-v,height:B-b},s.splice(l,1),a=!0;break}}if(a)break}}r.push(...s)}),r},zU=(n,e,t)=>{const s=e.getBoundingClientRect();return Array.from(n.getClientRects()).map(a=>({left:(a.left-s.left)/t,top:(a.top-s.top)/t-.5/Math.max(t,1e-4),width:a.width/t,height:Math.max(a.height/t-1,1),pageNumber:Number(e.dataset.pageNumber),pageWidth:s.width/t,pageHeight:s.height/t}))},pCe=n=>{const e=Array.from(n.querySelectorAll("span"));return e.length===0?!1:e.some(t=>{const r=t;return r.style.left!==""||r.style.top!==""||r.style.transform!==""})},Nz=n=>{n==null||n.querySelectorAll('.textLayer span[role="presentation"]').forEach(e=>{const t=e;t.dataset.origText!==void 0&&(t.textContent=t.dataset.origText,delete t.dataset.origText)})},gCe=({viewerRoot:n,pdfSearchHighlight:e,getVisualScale:t,onScrollToFirstHit:r})=>{if(!n)return()=>{};if(Nz(n),!e)return()=>{};let i=!1,s=null,a=0;const o=10,l=()=>{const d=n.querySelector(`.page[data-page-number="${e.page}"]`),h=d==null?void 0:d.querySelector(".textLayer");if(!h||!pCe(h))return!1;const g=e.term.trim();if(!g)return!1;const v=new RegExp(g.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&"),"gi");return h.querySelectorAll('span[role="presentation"]').forEach(b=>{const C=b,B=C.textContent||"",S=B.replace(v,I=>`<span class="pdf_search_hit">${I}</span>`);S!==B&&(C.dataset.origText===void 0&&(C.dataset.origText=B),C.innerHTML=S)}),d&&requestAnimationFrame(()=>r(d)),!0},u=()=>{i||l()||a<o&&(a+=1,s=window.setTimeout(u,150))};return u(),()=>{i=!0,s!==null&&clearTimeout(s),Nz(n)}},mCe=n=>{const{viewerRef:e,viewerContainerRef:t,pageCanvasMapRef:r,currentPageRef:i,rafRefreshId:s,drawingModeRef:a,penColorRef:o,penWidthRef:l,penOpacityRef:u,chapterStrokesRef:d,showAnnotationsRef:h,livePointsRef:g,isDrawingRef:v,getVisualScale:b,getPagePoint:C,getPageElementFromEvent:B,getPageElementByNumber:S,getCanvasMetrics:I,drawStrokePath:T,addStroke:R,removeStroke:M}=n;let D=null;const L=ie=>a.current==="pen"&&ie.pointerType==="touch",H=(ie,he)=>{const ce=document.createElement("canvas");return ce.className=ie,he&&ce.setAttribute("aria-hidden",he),ce},k=(ie,he,ce)=>{const{width:Se,height:ee,dpr:Me}=I(ie);!Se||!ee||[he,ce].forEach(Te=>{Te.width=Se*Me,Te.height=ee*Me,Te.style.width="100%",Te.style.height="100%";const ve=Te.getContext("2d");ve&&(ve.setTransform(1,0,0,1,0,0),ve.scale(Me,Me))})},K=ie=>{if(L(ie)){ie.preventDefault();return}if(a.current==="idle")return;D=ie.pointerId;const he=B(ie);if(!he)return;const{pageEl:ce,pageNumber:Se}=he;ie.target.setPointerCapture(ie.pointerId);const ee=C(ie,ce,b);ee&&(i.current=Se,v.current=!0,g.current=[ee],Ae())},G=ie=>{var ee;if(L(ie)){ie.preventDefault();return}if(D!==null&&ie.pointerId!==D||a.current==="idle"||ie.buttons===0&&!v.current)return;const he=i.current||((ee=B(ie))==null?void 0:ee.pageNumber)||null;if(!he)return;const ce=S(he);if(!ce)return;ie.preventDefault();const Se=C(ie,ce,b);Se&&(a.current==="pen"?(v.current=!0,i.current=he,g.current.length===0?g.current=[Se]:g.current.push(Se),Ae()):a.current==="eraser"&&q(he).forEach(Te=>{Te.points.some(vt=>Math.hypot(vt.x-Se.x,vt.y-Se.y)<16)&&M("pdf-main",Te.id)}))},z=ie=>{var Se;if(L(ie)){ie.preventDefault();return}if(D!==null&&ie.pointerId!==D||!v.current&&a.current!=="eraser")return;const he=ie.target;(Se=he.hasPointerCapture)!=null&&Se.call(he,ie.pointerId)&&he.releasePointerCapture(ie.pointerId);const ce=i.current;if(a.current==="pen"&&ce&&g.current.length>1){const ee={id:Date.now().toString(),points:g.current,color:o.current,width:l.current,opacity:u.current,pageNumber:ce};R("pdf-main",ee)}v.current=!1,g.current=[],i.current=null,D=null,Ae()},Z=ie=>{ie.dataset.penBound||(ie.addEventListener("pointerdown",K),ie.addEventListener("pointermove",G),ie.addEventListener("pointerup",z),ie.addEventListener("pointerleave",z),ie.addEventListener("pointercancel",z),ie.dataset.penBound="1")},ne=ie=>{ie.dataset.penBound&&(ie.removeEventListener("pointerdown",K),ie.removeEventListener("pointermove",G),ie.removeEventListener("pointerup",z),ie.removeEventListener("pointerleave",z),ie.removeEventListener("pointercancel",z),delete ie.dataset.penBound)},J=ie=>{let he=ie.querySelector(".pdf_pen_page_layer"),ce=null,Se=null;return he?(ce=he.querySelector(".pdf_pen_page_canvas:not(.pdf_pen_page_canvas_live)"),Se=he.querySelector(".pdf_pen_page_canvas_live"),Se&&Z(Se)):(he=document.createElement("div"),he.className="pdf_pen_page_layer",ce=H("pdf_pen_page_canvas","true"),Se=H("pdf_pen_page_canvas pdf_pen_page_canvas_live"),Z(Se),he.appendChild(ce),he.appendChild(Se),ie.appendChild(he)),!he||!ce||!Se?null:{layer:he,staticCanvas:ce,liveCanvas:Se}},V=ie=>{var ce;const he=r.current.get(ie);he&&(ne(he.liveCanvas),(ce=he.layer)==null||ce.remove(),r.current.delete(ie))},$=(ie,he,ce)=>{const Se=ie.getBoundingClientRect();return Se.bottom>=he.top-ce&&Se.top<=he.bottom+ce},re=()=>{if(!e.current||!t.current)return;const ie=t.current.getBoundingClientRect(),he=800,ce=Array.from(e.current.querySelectorAll(".page")).filter(ee=>$(ee,ie,he)),Se=new Set;ce.forEach(ee=>{const Me=Number(ee.dataset.pageNumber);if(!Me)return;Se.add(Me);const Te=J(ee);Te&&(r.current.set(Me,Te),k(ee,Te.staticCanvas,Te.liveCanvas))});for(const[ee,Me]of r.current.entries())Se.has(ee)||V(ee)},de=()=>{const ie=a.current||"idle",he=ie==="pen"||ie==="eraser";r.current.forEach(({liveCanvas:ce})=>{ce.style.pointerEvents=he?"auto":"none",ce.style.touchAction=he?"none":"auto",ce.style.cursor=he?"crosshair":"default"})},Ee=(ie,he)=>ie.pageNumber===void 0?he===1:ie.pageNumber===he,q=ie=>(d.current["pdf-main"]||[]).filter(he=>Ee(he,ie)),Y=()=>{r.current.forEach(({staticCanvas:ie},he)=>{const ce=ie.getContext("2d");if(!ce||(ce.save(),ce.setTransform(1,0,0,1,0,0),ce.clearRect(0,0,ie.width,ie.height),ce.restore(),!h.current))return;q(he).forEach(ee=>T(ce,ee.points,ee.color,ee.width||3,ee.opacity??1))})},Ae=()=>{if(r.current.forEach(({liveCanvas:Se})=>{const ee=Se.getContext("2d");ee&&(ee.save(),ee.setTransform(1,0,0,1,0,0),ee.clearRect(0,0,Se.width,Se.height),ee.restore())}),a.current!=="pen"||g.current.length===0)return;const ie=i.current;if(!ie)return;const he=r.current.get(ie);if(!he)return;const ce=he.liveCanvas.getContext("2d");if(ce){if(g.current.length===1){const Se=g.current[0];ce.beginPath(),ce.fillStyle=o.current,ce.globalAlpha=u.current,ce.arc(Se.x,Se.y,l.current/2,0,Math.PI*2),ce.fill(),ce.globalAlpha=1;return}T(ce,g.current,o.current,l.current,u.current)}};return{handlePenStart:K,handlePenMove:G,handlePenEnd:z,syncPageCanvases:re,syncCanvasPointers:de,renderStaticCanvases:Y,renderLiveCanvas:Ae,refreshCanvases:()=>{re(),de(),Y(),Ae()},disposePageEntry:V,getPageStrokes:q}},K0=({text:n,query:e})=>{if(!e||!e.trim())return Q.jsx(Q.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp(`(${t})`,"gi"),i=n.split(r);return Q.jsx("span",{children:i.map((s,a)=>r.test(s)?Q.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},h9=({isOpen:n,onClose:e,side:t,title:r,children:i})=>Q.jsx(Q.Fragment,{children:i}),vCe=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:r,goToChapter:i,hasStrokes:s,bookmarks:a,goToPdfPage:o,removePdfBookmark:l,currentPdfPage:u,goToHighlight:d}=rf(),[h,g]=F.useState("contents"),v=F.useRef(null),b=F.useRef([]);return F.useEffect(()=>{if(h!=="contents")return;const C=b.current[r];if(!C)return;const B=v.current;if(!B){C.scrollIntoView({block:"center",behavior:"smooth"});return}const S=B.getBoundingClientRect(),I=C.getBoundingClientRect();I.top>=S.top&&I.bottom<=S.bottom||C.scrollIntoView({block:"center",behavior:"smooth"})},[r,h]),Q.jsxs(h9,{isOpen:n,onClose:e,side:"left",title:"Contents",children:[Q.jsxs("div",{className:"chapter_favor_wrap",children:[Q.jsxs("button",{onClick:()=>g("contents"),className:`chapter ${h==="contents"?"on":"off"}`,children:[Q.jsx(The,{size:14})," Chapters"]}),Q.jsxs("button",{onClick:()=>g("bookmarks"),className:`favor ${h==="bookmarks"?"on":"off"}`,children:[Q.jsx(XK,{size:14})," Favorites"]})]}),Q.jsxs("div",{className:"chapter_list",ref:v,children:[h==="contents"&&t.map((C,B)=>Q.jsx("button",{ref:S=>{b.current[B]=S},onClick:()=>{i(B),window.innerWidth<768&&e()},className:` ${B===r?"on":"off"}`,children:Q.jsxs("div",{className:"chapter_list_inner",children:[Q.jsxs("div",{className:"",children:[Q.jsx("span",{className:`text_xs ${B===r?"on":"off"}`,children:String(B+1).padStart(2,"0")}),Q.jsx("span",{className:"line_clamp_1",children:C.title})]}),s(C.id)&&Q.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:Q.jsx(oY,{size:10})})]})},C.id)),h==="bookmarks"&&a.map(C=>Q.jsxs("div",{className:`bookmark_item_row ${C.page===u?"active":""}`,children:[Q.jsxs("button",{onClick:()=>{o(C.page),window.innerWidth<768&&e()},className:"bookmark_item_button",children:[Q.jsx("div",{className:"bookmark_page_badge",children:Q.jsx("span",{className:"bookmark_label line_clamp_1",children:`P. ${C.page}`})}),Q.jsx("div",{className:"bookmark_item_text",children:Q.jsxs("span",{className:"bookmark_meta",children:["Saved ",new Date(C.createdAt).toLocaleDateString()]})})]}),Q.jsx("button",{onClick:B=>{B.stopPropagation(),l(C.id)},className:"bookmark_remove_btn",title:"Delete bookmark",children:Q.jsx(yN,{size:14})})]},C.id)),h==="bookmarks"&&a.length===0&&Q.jsxs("div",{className:"non_book_mark",children:[Q.jsx(XK,{size:24,className:"mx-auto mb-2 text-slate-400"}),Q.jsx("p",{className:"text_sm",children:"No bookmarks yet"}),Q.jsx("p",{className:"text_sm",children:"Use the bookmark icon near Search to save a page."})]})]})]})},yCe=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:r,updateHighlight:i,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:b,chapters:C,aiChatHistory:B,addChatMessage:S,activeToolTab:I,setActiveToolTab:T,setCaptureMode:R,capturedImage:M,setCapturedImage:D,referenceDocument:L,uploadBook:H,searchQuery:k,setSearchQuery:K,performSearch:G,goToPdfPage:z,pdfSearchHighlight:Z,setPdfSearchHighlight:ne,goToHighlight:J}=rf(),[V,$]=F.useState(""),[re,de]=F.useState(!1),[Ee,q]=F.useState(null),[Y,Ae]=F.useState(null),[me,ie]=F.useState(""),[he,ce]=F.useState(""),Se=F.useRef(null),ee=F.useRef(null),Me=F.useRef(null);F.useEffect(()=>{Ee&&Se.current&&Se.current.innerHTML!==(Ee.content||"")&&(Se.current.innerHTML=Ee.content||"")},[Ee==null?void 0:Ee.id]),F.useEffect(()=>{I==="ai"&&requestAnimationFrame(()=>{var te;(te=Me.current)==null||te.scrollIntoView({behavior:"smooth",block:"end"})})},[I,B.length,re]);const Te=()=>Se.current?Se.current.innerHTML:"",ve=te=>{if(I==="notebook"&&Ee){const Be=Te();q(Ue=>Ue?{...Ue,content:Be}:null)}T(te),ce("")},vt=te=>{Ae(te.id),ie(te.note||"")},$e=te=>{i(te,{note:me}),Ae(null),ie("")},Gt=t.filter(te=>te.text.toLowerCase().includes(he.toLowerCase())||te.note&&te.note.toLowerCase().includes(he.toLowerCase())),It=o.filter(te=>te.title.toLowerCase().includes(he.toLowerCase())||te.content.toLowerCase().includes(he.toLowerCase()));F.useEffect(()=>{if(M&&Ee){const te=`<div class="capture-img-container"><img src="${M}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,Be=(Ee.content||"")+te;q(Ue=>Ue?{...Ue,content:Be}:null),Se.current&&(Se.current.innerHTML=Be),D(null)}},[M,D]);const zn=async te=>{if(te.preventDefault(),!V.trim())return;const Be=V;S("user",Be),$(""),de(!0),a();const Ue=await O6(Be,s.content.substring(0,1e3));S("model",Ue),de(!1)},nt=()=>{if(Ee){const te=Te();Ee.title&&(Ee.id?u(Ee.id,Ee.title,te):l(Ee.title,te),q(null))}},yr=(te,Be=void 0)=>{document.execCommand(te,!1,Be),Se.current&&Se.current.focus()},Yn=(te,Be,Ue)=>{te.preventDefault(),yr(Be,Ue)},en=te=>{te.preventDefault();const Be=Te();q(Ue=>Ue?{...Ue,content:Be}:null),setTimeout(()=>R(!0),50)},ya=te=>{te.preventDefault();const Be=window.getSelection();if(Be&&Be.rangeCount>0){const Ke=Be.getRangeAt(0);Se.current&&Se.current.contains(Ke.commonAncestorContainer)?ee.current=Ke.cloneRange():ee.current=null}const Ue=parseInt(prompt("Rows:","2")||"0"),pt=parseInt(prompt("Columns:","2")||"0");if(Se.current&&(Se.current.focus(),ee.current&&(Be==null||Be.removeAllRanges(),Be==null||Be.addRange(ee.current)),Ue>0&&pt>0)){let Ke='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let pn=0;pn<Ue;pn++){Ke+="<tr>";for(let Ft=0;Ft<pt;Ft++)Ke+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';Ke+="</tr>"}Ke+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,Ke)}},wa=te=>{te.target.files&&te.target.files[0]&&H(te.target.files[0])},tn=()=>{const te=Te();q(Be=>Be?{...Be,content:te}:null)},xe=()=>{if(!Ee)return;const te=Te(),Be=window.open("","","height=600,width=800");Be&&(Be.document.write(`<html><head><title>${Ee.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${Ee.title}</h1>${te}</body></html>`),Be.document.close(),Be.print())};return I==="search"&&G(k),Q.jsxs(h9,{isOpen:n,onClose:e,side:"right",children:[Q.jsxs("div",{className:"right_panel_menu",children:[Q.jsx("button",{onClick:()=>ve("ai"),className:`ai ${I==="ai"?"on":"off"}`,title:"AI",children:Q.jsx(pU,{size:14})}),Q.jsx("button",{onClick:()=>ve("notes"),className:`notes ${I==="notes"?"on":"off"}`,title:"Highlights",children:Q.jsx(S_,{size:14})}),Q.jsx("button",{onClick:()=>ve("notebook"),className:`notebook ${I==="notebook"?"on":"off"}`,title:"Notebook",children:Q.jsx(mN,{size:14})}),Q.jsx("button",{onClick:()=>ve("reference"),className:`reference ${I==="reference"?"on":"off"}`,title:"Reference PDF",children:Q.jsx(ZK,{size:14})}),Q.jsx("button",{onClick:()=>ve("search"),className:`search ${I==="search"?"on":"off"}`,title:"Search",children:Q.jsx(gU,{size:14})})]}),Q.jsxs("div",{className:"text_area",children:[I==="ai"&&Q.jsxs("div",{className:"ai",children:[Q.jsxs("div",{className:"ai_talk",children:[B.length===0&&Q.jsxs("div",{className:"ai_talk_inner",children:[Q.jsx("div",{className:"icon",children:Q.jsx(pU,{className:"text-blue-500",size:24})}),Q.jsx("p",{className:"text_sm",children:"AI Study Companion"})]}),B.map((te,Be)=>Q.jsx("div",{className:`txt ${te.role==="user"?"ai_user_txt":"ai_txt"}`,children:Q.jsx("div",{className:` ${te.role==="user"?"on":"off"}`,children:te.text})},Be)),re&&Q.jsx("div",{className:"flex flex-col items-start",children:Q.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:Q.jsxs("div",{className:"flex space-x-1",children:[Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})}),Q.jsx("div",{ref:Me})]}),Q.jsx("div",{className:"ai_user",children:Q.jsxs("form",{onSubmit:zn,className:"user_form",children:[Q.jsx("input",{type:"text",value:V,onChange:te=>$(te.target.value),placeholder:"Ask AI...",className:""}),Q.jsx("button",{type:"submit",disabled:!V.trim()||re,className:"enter",children:Q.jsx(pU,{size:16})})]})})]}),I==="notes"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Filter highlights...",value:he,onChange:te=>ce(te.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(eG,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),Q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Gt.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(S_,{size:24,className:"mx-auto mb-2"}),Q.jsx("p",{className:"text-sm",children:"No highlights"})]}),Gt.map(te=>Q.jsxs("div",{onClick:()=>J(te),className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[Q.jsx("span",{children:te.chapterId==="reference-doc"?"Reference PDF":`Chapter ${C.findIndex(Be=>Be.id===te.chapterId)+1}`}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("button",{onClick:Be=>{Be.stopPropagation(),vt(te)},title:"Edit Note",children:Q.jsx(zhe,{size:12})}),Q.jsx("button",{onClick:Be=>{Be.stopPropagation(),r(te.id)},title:"Delete",children:Q.jsx(yN,{size:12})})]})]}),Q.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',Q.jsx(K0,{text:te.text,query:he}),'"']}),Y===te.id?Q.jsxs("div",{onClick:Be=>Be.stopPropagation(),className:"mt-2 animate-fade-in",children:[Q.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:me,onChange:Be=>ie(Be.target.value),autoFocus:!0,rows:3}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[Q.jsx("button",{onClick:()=>Ae(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),Q.jsx("button",{onClick:()=>$e(te.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):te.note?Q.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:Q.jsx(K0,{text:te.note,query:he})}):Q.jsxs("button",{onClick:Be=>{Be.stopPropagation(),vt(te)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[Q.jsx(vN,{size:10})," Add Note"]})]},te.id))]})]}),I==="notebook"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:Ee?Q.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[Q.jsx("button",{onClick:()=>q(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),Q.jsxs("button",{onClick:nt,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[Q.jsx(AY,{size:14})," Save"]})]}),Q.jsx("div",{className:"px-4 pt-4 pb-2",children:Q.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:Ee.title||"",onChange:te=>{const Be=Te();q(Ue=>Ue?{...Ue,title:te.target.value,content:Be}:null)}})}),Q.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[Q.jsx("button",{onMouseDown:te=>Yn(te,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(Xfe,{size:14})}),Q.jsx("button",{onMouseDown:te=>Yn(te,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx("span",{className:"italic",children:"I"})}),Q.jsx("button",{onMouseDown:te=>Yn(te,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(S_,{size:14})}),Q.jsx("button",{onMouseDown:ya,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(lpe,{size:14})}),Q.jsx("button",{onMouseDown:en,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:Q.jsx(Ahe,{size:14})}),Q.jsx("button",{onClick:xe,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(Zhe,{size:14})})]}),Q.jsx("div",{ref:Se,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:tn},Ee.id)]}):Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[Q.jsx(hpe,{size:14}),Q.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:wa})]}),Q.jsxs("button",{onClick:()=>q({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[Q.jsx(vN,{size:14})," New"]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search notes...",value:he,onChange:te=>ce(te.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(eG,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),Q.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[It.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(mN,{size:32,className:"mx-auto text-slate-300 mb-2"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),It.map(te=>Q.jsxs("div",{onClick:()=>q(te),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-1",children:[Q.jsx("h4",{className:"font-semibold text-sm",children:Q.jsx(K0,{text:te.title,query:he})}),Q.jsx("button",{onClick:Be=>{Be.stopPropagation(),d(te.id)},children:Q.jsx(yN,{size:12,"text-slate-300":!0})})]}),Q.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:Q.jsx(K0,{text:te.content.replace(/<[^>]+>/g," "),query:he})})]},te.id))]})]})}),I==="reference"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:L?Q.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:Q.jsx(G0e,{customChapter:L,variant:"side"})}):Q.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[Q.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:Q.jsx(ZK,{size:32,className:"text-slate-400"})}),Q.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),Q.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",Q.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",Q.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),Q.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Q.jsx(aY,{size:16}),Q.jsx("span",{children:"Upload PDF"}),Q.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:wa})]})]})}),I==="search"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[Q.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:k,onChange:te=>{K(te.target.value),ne(null)},className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),Q.jsx(gU,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),Q.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:k.length>1?I==="search"&&G(k).length>0?G(k).map(te=>Q.jsxs("div",{onClick:()=>{if(te.type==="note"){const Be=o.find(Ue=>`note-${Ue.id}`===te.id);Be&&(q(Be),T("notebook"))}else if(te.type==="pdf")te.pageNumber&&(z(te.pageNumber),ne({page:te.pageNumber,term:k}));else if(te.type==="highlight"){if(te.chapterId==="reference-doc"){const Be=Number(te.pageNumber);Number.isFinite(Be)&&Be>0?z(Be):console.warn("[highlight] pageNumber missing for search result",te.id)}else{const Be=C.findIndex(Ue=>Ue.id===te.chapterId);Be!==-1&&b(Be)}v(te.id.replace("hl-",""))}else{const Be=C.findIndex(Ue=>Ue.id===te.chapterId);Be!==-1&&b(Be)}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Q.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${te.type==="chapter"?"bg-blue-100 text-blue-600":te.type==="highlight"?"bg-yellow-100 text-yellow-600":te.type==="pdf"?"bg-indigo-100 text-indigo-600":"bg-green-100 text-green-600"}`,children:te.type}),Q.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:te.title})]}),Q.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:Q.jsx(K0,{text:te.contentSnippet,query:k})})]},te.id)):Q.jsx("div",{className:"text-center py-10 opacity-50",children:Q.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',k,'"']})}):Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(gU,{size:24,className:"mx-auto mb-2 text-slate-300"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})},wCe=()=>{const[n,e]=F.useState(!0),[t,r]=F.useState(!1),{isToolsOpen:i,setToolsOpen:s,registerPdfNavigator:a,setCurrentPdfPage:o}=rf(),[l,u]=F.useState(0),[d,h]=F.useState(1),g=F.useRef(),v=n||i,b=typeof navigator<"u"&&navigator.userAgent||"",C=F.useMemo(()=>typeof window>"u"?!1:/Mobi|Android|iP(hone|od|ad)/i.test(b)||window.innerWidth<=1300,[b]),B=!v&&!C?2:1,S=F.useCallback(J=>{h(J),o(J)},[o]),I=F.useCallback(J=>{u(J)},[]),T=F.useCallback(J=>{g.current=J,a(J)},[a]),[R,M]=F.useState(300),[D,L]=F.useState(350),[H,k]=F.useState(!1),[K,G]=F.useState(!1),z=F.useRef(null);F.useEffect(()=>{const J=()=>{const V=window.innerWidth<=1300;r(V),V?(e(!1),s(!0)):(e(!0),s(!0))};return J(),window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[s]),F.useEffect(()=>{t&&i&&e(!1)},[i,t]),F.useEffect(()=>{const J=$=>{if(!z.current)return;(H||K)&&$.preventDefault();const re=z.current.getBoundingClientRect();if(H){const de=$.clientX-re.left;de>200&&de<500&&M(de)}if(K){const de=re.right-$.clientX;de>280&&de<600&&L(de)}},V=()=>{k(!1),G(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(H||K)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",J),window.addEventListener("mouseup",V)),()=>{window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",V),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[H,K]);const Z=()=>{if(t){const J=!n;e(J),J&&s(!1);return}e(!n)},ne=(()=>{const J="https://d19t5saodanwfx.cloudfront.net/resources/contents/prod/cms/book/20240923/CT-20240923150969799/source/CT-20240923150969799_source_1727071793874.pdf",V=J,$="/campusbook-viewer-ai/";if(/^https?:\/\//i.test(J))return J;const re=$.endsWith("/")?$:`${$}/`,de=V.replace(/^\/+/,""),Ee=`${re}${de}`;if(typeof window<"u"){const q=window.location.hostname||"",Y=q.toLowerCase().endsWith("github.io"),Ae=Y?q.split(".")[0]:"",me=re.replace(/^\/+|\/+$/g,"");if(Y&&Ae&&me){const ie="main",he=de.startsWith("public/")?de:`public/${de}`;return`https://media.githubusercontent.com/media/${Ae}/${me}/${ie}/${he}`}}return Ee})();return Q.jsxs("div",{className:"layout_container",children:[Q.jsx(lY,{toggleSidebar:Z,isSidebarOpen:n}),Q.jsxs("div",{ref:z,className:"split_container",children:[Q.jsx("aside",{className:`left_side_wrap ${n?"on":"off"}`,style:{width:n?window.innerWidth<768?"0px":`${R}px`:"0px"},children:Q.jsx(vCe,{isOpen:n,onClose:()=>e(!1)})}),Q.jsxs("main",{className:"content_container",children:[Q.jsx("div",{className:"cc_top",children:Q.jsx(ACe,{file:ne,onPageChange:S,onPagesCount:I,registerGoToPage:T,forceSinglePage:v})}),Q.jsx("div",{className:"cc_bottom",children:Q.jsx(z0e,{pdfPageCount:l,pdfCurrentPage:d,onPdfGoToPage:J=>{var V;return(V=g.current)==null?void 0:V.call(g,J)},pdfPageStep:B})})]}),Q.jsx("aside",{className:`right_panel_wrap ${i?"on":"off"}`,style:{width:i?window.innerWidth<768?"0px":`${D}px`:"0px"},children:Q.jsx(yCe,{isOpen:i,onClose:()=>s(!1)})})]})]})};function p9(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=p9(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Qn(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=p9(n))&&(r&&(r+=" "),r+=e);return r}var bCe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function lk(n){if(typeof n!="string")return!1;var e=bCe;return e.includes(n)}var CCe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ECe=new Set(CCe);function g9(n){return typeof n!="string"?!1:ECe.has(n)}function m9(n){return typeof n=="string"&&n.startsWith("data-")}function Jd(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(g9(t)||m9(t))&&(e[t]=n[t]);return e}function uk(n){if(n==null)return null;if(F.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Jd(e)}return typeof n=="object"&&!Array.isArray(n)?Jd(n):null}function Ao(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(g9(t)||m9(t)||lk(t))&&(e[t]=n[t]);return e}var BCe=["children","width","height","viewBox","className","style","title","desc"];function _L(){return _L=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_L.apply(null,arguments)}function SCe(n,e){if(n==null)return{};var t,r,i=xCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function xCe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var v9=F.forwardRef((n,e)=>{var{children:t,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=SCe(n,BCe),h=s||{width:r,height:i,x:0,y:0},g=Qn("recharts-surface",a);return F.createElement("svg",_L({},Ao(d),{className:g,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),F.createElement("title",null,l),F.createElement("desc",null,u),t)}),_Ce=["children","className"];function TL(){return TL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},TL.apply(null,arguments)}function TCe(n,e){if(n==null)return{};var t,r,i=ICe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ICe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var xu=F.forwardRef((n,e)=>{var{children:t,className:r}=n,i=TCe(n,_Ce),s=Qn("recharts-layer",r);return F.createElement("g",TL({className:s},Ao(i),{ref:e}),t)}),FCe=F.createContext(null);function Tn(n){return function(){return n}}const y9=Math.cos,CT=Math.sin,zo=Math.sqrt,ET=Math.PI,iI=2*ET,IL=Math.PI,FL=2*IL,Rf=1e-6,MCe=FL-Rf;function w9(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function UCe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return w9;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class PCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w9:UCe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,a){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>Rf)if(!(Math.abs(h*l-u*d)>Rf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=r-a,b=i-o,C=l*l+u*u,B=v*v+b*b,S=Math.sqrt(C),I=Math.sqrt(g),T=s*Math.tan((IL-Math.acos((C+g-B)/(2*S*I)))/2),R=T/I,M=T/S;Math.abs(R-1)>Rf&&this._append`L${e+R*d},${t+R*h}`,this._append`A${s},${s},0,0,${+(h*v>d*b)},${this._x1=e+M*l},${this._y1=t+M*u}`}}arc(e,t,r,i,s,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,d=t+l,h=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Rf||Math.abs(this._y1-d)>Rf)&&this._append`L${u},${d}`,r&&(g<0&&(g=g%FL+FL),g>MCe?this._append`A${r},${r},0,1,${h},${e-o},${t-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:g>Rf&&this._append`A${r},${r},0,${+(g>=IL)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ck(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new PCe(e)}function dk(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function b9(n){this._context=n}b9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function sI(n){return new b9(n)}function C9(n){return n[0]}function E9(n){return n[1]}function B9(n,e){var t=Tn(!0),r=null,i=sI,s=null,a=ck(o);n=typeof n=="function"?n:n===void 0?C9:Tn(n),e=typeof e=="function"?e:e===void 0?E9:Tn(e);function o(l){var u,d=(l=dk(l)).length,h,g=!1,v;for(r==null&&(s=i(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:Tn(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Tn(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Tn(!!l),o):t},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Cx(n,e,t){var r=null,i=Tn(!0),s=null,a=sI,o=null,l=ck(u);n=typeof n=="function"?n:n===void 0?C9:Tn(+n),e=typeof e=="function"?e:Tn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?E9:Tn(+t);function u(h){var g,v,b,C=(h=dk(h)).length,B,S=!1,I,T=new Array(C),R=new Array(C);for(s==null&&(o=a(I=l())),g=0;g<=C;++g){if(!(g<C&&i(B=h[g],g,h))===S)if(S=!S)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=v;--b)o.point(T[b],R[b]);o.lineEnd(),o.areaEnd()}S&&(T[g]=+n(B,g,h),R[g]=+e(B,g,h),o.point(r?+r(B,g,h):T[g],t?+t(B,g,h):R[g]))}if(I)return o=null,I+""||null}function d(){return B9().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:Tn(+h),r=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:Tn(+h),u):n},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Tn(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Tn(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Tn(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:Tn(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Tn(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class S9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function RCe(n){return new S9(n,!0)}function DCe(n){return new S9(n,!1)}const fk={draw(n,e){const t=zo(e/ET);n.moveTo(t,0),n.arc(0,0,t,0,iI)}},NCe={draw(n,e){const t=zo(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},x9=zo(1/3),LCe=x9*2,QCe={draw(n,e){const t=zo(e/LCe),r=t*x9;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},kCe={draw(n,e){const t=zo(e),r=-t/2;n.rect(r,r,t,t)}},OCe=.8908130915292852,_9=CT(ET/10)/CT(7*ET/10),HCe=CT(iI/10)*_9,VCe=-y9(iI/10)*_9,KCe={draw(n,e){const t=zo(e*OCe),r=HCe*t,i=VCe*t;n.moveTo(0,-t),n.lineTo(r,i);for(let s=1;s<5;++s){const a=iI*s/5,o=y9(a),l=CT(a);n.lineTo(l*t,-o*t),n.lineTo(o*r-l*i,l*r+o*i)}n.closePath()}},qU=zo(3),GCe={draw(n,e){const t=-zo(e/(qU*3));n.moveTo(0,t*2),n.lineTo(-qU*t,-t),n.lineTo(qU*t,-t),n.closePath()}},Pa=-.5,Ra=zo(3)/2,ML=1/zo(12),zCe=(ML/2+1)*3,qCe={draw(n,e){const t=zo(e/zCe),r=t/2,i=t*ML,s=r,a=t*ML+t,o=-s,l=a;n.moveTo(r,i),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(Pa*r-Ra*i,Ra*r+Pa*i),n.lineTo(Pa*s-Ra*a,Ra*s+Pa*a),n.lineTo(Pa*o-Ra*l,Ra*o+Pa*l),n.lineTo(Pa*r+Ra*i,Pa*i-Ra*r),n.lineTo(Pa*s+Ra*a,Pa*a-Ra*s),n.lineTo(Pa*o+Ra*l,Pa*l-Ra*o),n.closePath()}};function $Ce(n,e){let t=null,r=ck(i);n=typeof n=="function"?n:Tn(n||fk),e=typeof e=="function"?e:Tn(e===void 0?64:+e);function i(){let s;if(t||(t=s=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(n=typeof s=="function"?s:Tn(s),i):n},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Tn(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function BT(){}function ST(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function T9(n){this._context=n}T9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ST(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ST(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function jCe(n){return new T9(n)}function I9(n){this._context=n}I9.prototype={areaStart:BT,areaEnd:BT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:ST(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function WCe(n){return new I9(n)}function F9(n){this._context=n}F9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:ST(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function YCe(n){return new F9(n)}function M9(n){this._context=n}M9.prototype={areaStart:BT,areaEnd:BT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function XCe(n){return new M9(n)}function Lz(n){return n<0?-1:1}function Qz(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),a=(t-n._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(Lz(s)+Lz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function kz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function $U(n,e,t){var r=n._x0,i=n._y0,s=n._x1,a=n._y1,o=(s-r)/3;n._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*t,s,a)}function xT(n){this._context=n}xT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$U(this,this._t0,kz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,$U(this,kz(this,t=Qz(this,n,e)),t);break;default:$U(this,this._t0,t=Qz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function U9(n){this._context=new P9(n)}(U9.prototype=Object.create(xT.prototype)).point=function(n,e){xT.prototype.point.call(this,e,n)};function P9(n){this._context=n}P9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function JCe(n){return new xT(n)}function ZCe(n){return new U9(n)}function R9(n){this._context=n}R9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=Oz(n),i=Oz(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Oz(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),a=new Array(t);for(i[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function eEe(n){return new R9(n)}function aI(n,e){this._context=n,this._t=e}aI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function tEe(n){return new aI(n,.5)}function nEe(n){return new aI(n,0)}function rEe(n){return new aI(n,1)}function cy(n,e){if((a=n.length)>1)for(var t=1,r,i,s=n[e[0]],a,o=s.length;t<a;++t)for(i=s,s=n[e[t]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function UL(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function iEe(n,e){return n[e]}function sEe(n){const e=[];return e.key=n,e}function aEe(){var n=Tn([]),e=UL,t=cy,r=iEe;function i(s){var a=Array.from(n.apply(this,arguments),sEe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(h,a[o].key,u,s)]).data=h;for(o=0,d=dk(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:Tn(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Tn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?UL:typeof s=="function"?s:Tn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??cy,i):t},i}function oEe(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,a;i<s;++i){for(a=t=0;t<r;++t)a+=n[t][i][1]||0;if(a)for(t=0;t<r;++t)n[t][i][1]/=a}cy(n,e)}}function AEe(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var a=0,o=0;a<i;++a)o+=n[a][t][1]||0;r[t][1]+=r[t][0]=-o/2}cy(n,e)}}function lEe(n,e){if(!(!((a=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[r][1]||0,g=d[r-1][1]||0,v=(h-g)/2,b=0;b<o;++b){var C=n[e[b]],B=C[r][1]||0,S=C[r-1][1]||0;v+=B-S}l+=h,u+=v*h}i[r-1][1]+=i[r-1][0]=t,l&&(t-=u/l)}i[r-1][1]+=i[r-1][0]=t,cy(n,e)}}var jU={},WU={},Hz;function uEe(){return Hz||(Hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(WU)),WU}var YU={},Vz;function D9(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(YU)),YU}var XU={},Kz;function hk(){return Kz||(Kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;return typeof t=="string"||typeof t=="symbol"?t:Object.is((r=t==null?void 0:t.valueOf)==null?void 0:r.call(t),-0)?"-0":String(t)}n.toKey=e})(XU)),XU}var JU={},ZU={},Gz;function cEe(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return r==="0"&&Object.is(Number(t),-0)?"-0":r}n.toString=e})(ZU)),ZU}var zz;function pk(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=cEe(),t=hk();function r(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=i[o];u?h==="\\"&&o+1<a?(o++,l+=i[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=r})(JU)),JU}var qz;function gk(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=uEe(),t=D9(),r=hk(),i=pk();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(jU)),jU}var eP,$z;function dEe(){return $z||($z=1,eP=gk().get),eP}var fEe=dEe();const dy=QA(fEe);var da=n=>n===0?0:n>0?1:-1,PA=n=>typeof n=="number"&&n!=+n,_u=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,Je=n=>(typeof n=="number"||n instanceof Number)&&!PA(n),RA=n=>Je(n)||typeof n=="string",hEe=0,rb=n=>{var e=++hEe;return"".concat(n||"").concat(e)},ko=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&typeof e!="string")return r;var s;if(_u(e)){if(t==null)return r;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return PA(s)&&(s=r),i&&t!=null&&s>t&&(s=t),s},N9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},r=0;r<e;r++)if(!t[n[r]])t[n[r]]=!0;else return!0;return!1};function Ei(n,e,t){return Je(n)&&Je(e)?n+t*(e-n):e}function pEe(n,e,t){if(!(!n||!n.length))return n.find(r=>r&&(typeof e=="function"?e(r):dy(r,e))===t)}var ai=n=>n===null||typeof n>"u",rB=n=>ai(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function gEe(n){return n!=null}function iB(){}var mEe=["type","size","sizeType"];function PL(){return PL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},PL.apply(null,arguments)}function jz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Wz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(t),!0).forEach(function(r){vEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vEe(n,e,t){return(e=yEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yEe(n){var e=wEe(n,"string");return typeof e=="symbol"?e:e+""}function wEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bEe(n,e){if(n==null)return{};var t,r,i=CEe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function CEe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var L9={symbolCircle:fk,symbolCross:NCe,symbolDiamond:QCe,symbolSquare:kCe,symbolStar:KCe,symbolTriangle:GCe,symbolWye:qCe},EEe=Math.PI/180,BEe=n=>{var e="symbol".concat(rB(n));return L9[e]||fk},SEe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var r=18*EEe;return 1.25*n*n*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},xEe=(n,e)=>{L9["symbol".concat(rB(n))]=e},Q9=n=>{var{type:e="circle",size:t=64,sizeType:r="area"}=n,i=bEe(n,mEe),s=Wz(Wz({},i),{},{type:e,size:t,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=BEe(a),v=$Ce().type(g).size(SEe(t,r,a)),b=v();if(b!==null)return b},{className:l,cx:u,cy:d}=s,h=Ao(s);return Je(u)&&Je(d)&&Je(t)?F.createElement("path",PL({},h,{className:Qn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Q9.registerSymbol=xEe;var k9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,_Ee=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(F.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var r={};return Object.keys(t).forEach(i=>{lk(i)&&(r[i]=(s=>t[i](t,s)))}),r},TEe=(n,e,t)=>r=>(n(e,t,r),null),mk=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var r=null;return Object.keys(n).forEach(i=>{var s=n[i];lk(i)&&typeof s=="function"&&(r||(r={}),r[i]=TEe(s,e,t))}),r};function Yz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function IEe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(t),!0).forEach(function(r){FEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FEe(n,e,t){return(e=MEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MEe(n){var e=UEe(n,"string");return typeof e=="symbol"?e:e+""}function UEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function co(n,e){var t=IEe({},n),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),t);return s}var tP={},nP={},Xz;function PEe(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){const i=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}n.uniqBy=e})(nP)),nP}var rP={},Jz;function O9(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(rP)),rP}var iP={},sP={},aP={},Zz;function REe(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(aP)),aP}var e5;function vk(){return e5||(e5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=REe();function t(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}n.isArrayLike=t})(sP)),sP}var oP={},t5;function DEe(){return t5||(t5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(oP)),oP}var n5;function NEe(){return n5||(n5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=vk(),t=DEe();function r(i){return t.isObjectLike(i)&&e.isArrayLike(i)}n.isArrayLikeObject=r})(iP)),iP}var AP={},lP={},r5;function LEe(){return r5||(r5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=gk();function t(r){return function(i){return e.get(i,r)}}n.property=t})(lP)),lP}var uP={},cP={},dP={},fP={},i5;function H9(){return i5||(i5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(fP)),fP}var hP={},s5;function V9(){return s5||(s5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(hP)),hP}var pP={},a5;function K9(){return a5||(a5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){return t===r||Number.isNaN(t)&&Number.isNaN(r)}n.eq=e})(pP)),pP}var o5;function QEe(){return o5||(o5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=H9(),t=V9(),r=K9();function i(d,h,g){return typeof g!="function"?i(d,h,()=>{}):s(d,h,function v(b,C,B,S,I,T){const R=g(b,C,B,S,I,T);return R!==void 0?!!R:s(b,C,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):r.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const b=Object.keys(h);if(d==null)return b.length===0;if(b.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let C=0;C<b.length;C++){const B=b[C];if(!t.isPrimitive(d)&&!(B in d)||h[B]===void 0&&d[B]!==void 0||h[B]===null&&d[B]!==null||!g(d[B],h[B],B,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,C]of h.entries()){const B=d.get(b);if(g(B,C,b,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let C=0;C<h.length;C++){const B=h[C];let S=!1;for(let I=0;I<d.length;I++){if(b.has(I))continue;const T=d[I];let R=!1;if(g(T,B,C,d,h,v)&&(R=!0),R){b.add(I),S=!0;break}}if(!S)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=i,n.isSetMatch=u})(dP)),dP}var A5;function G9(){return A5||(A5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=QEe();function t(r,i){return e.isMatchWith(r,i,()=>{})}n.isMatch=t})(cP)),cP}var gP={},mP={},vP={},l5;function kEe(){return l5||(l5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}n.getSymbols=e})(vP)),vP}var yP={},u5;function z9(){return u5||(u5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(yP)),yP}var wP={},c5;function q9(){return c5||(c5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",C="[object DataView]",B="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",R="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",H="[object BigInt64Array]",k="[object Float32Array]",K="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=R,n.booleanTag=i,n.dataViewTag=C,n.dateTag=o,n.errorTag=b,n.float32ArrayTag=k,n.float64ArrayTag=K,n.functionTag=h,n.int16ArrayTag=D,n.int32ArrayTag=L,n.int8ArrayTag=M,n.mapTag=l,n.numberTag=r,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=B,n.uint8ClampedArrayTag=S})(wP)),wP}var bP={},d5;function OEe(){return d5||(d5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(bP)),bP}var f5;function $9(){return f5||(f5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=kEe(),t=z9(),r=q9(),i=V9(),s=OEe();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,b=void 0){const C=b==null?void 0:b(d,h,g,v);if(C!==void 0)return C;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const B=new Array(d.length);v.set(d,B);for(let S=0;S<d.length;S++)B[S]=o(d[S],S,g,v,b);return Object.hasOwn(d,"index")&&(B.index=d.index),Object.hasOwn(d,"input")&&(B.input=d.input),B}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const B=new RegExp(d.source,d.flags);return B.lastIndex=d.lastIndex,B}if(d instanceof Map){const B=new Map;v.set(d,B);for(const[S,I]of d)B.set(S,o(I,S,g,v,b));return B}if(d instanceof Set){const B=new Set;v.set(d,B);for(const S of d)B.add(o(S,void 0,g,v,b));return B}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const B=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,B);for(let S=0;S<d.length;S++)B[S]=o(d[S],S,g,v,b);return B}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const B=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,B),l(B,d,g,v,b),B}if(typeof File<"u"&&d instanceof File){const B=new File([d],d.name,{type:d.type});return v.set(d,B),l(B,d,g,v,b),B}if(typeof Blob<"u"&&d instanceof Blob){const B=new Blob([d],{type:d.type});return v.set(d,B),l(B,d,g,v,b),B}if(d instanceof Error){const B=new d.constructor;return v.set(d,B),B.message=d.message,B.name=d.name,B.stack=d.stack,B.cause=d.cause,l(B,d,g,v,b),B}if(d instanceof Boolean){const B=new Boolean(d.valueOf());return v.set(d,B),l(B,d,g,v,b),B}if(d instanceof Number){const B=new Number(d.valueOf());return v.set(d,B),l(B,d,g,v,b),B}if(d instanceof String){const B=new String(d.valueOf());return v.set(d,B),l(B,d,g,v,b),B}if(typeof d=="object"&&u(d)){const B=Object.create(Object.getPrototypeOf(d));return v.set(d,B),l(B,d,g,v,b),B}return d}function l(d,h,g=d,v,b){const C=[...Object.keys(h),...e.getSymbols(h)];for(let B=0;B<C.length;B++){const S=C[B],I=Object.getOwnPropertyDescriptor(d,S);(I==null||I.writable)&&(d[S]=o(h[S],S,g,v,b))}}function u(d){switch(t.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(mP)),mP}var h5;function HEe(){return h5||(h5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$9();function t(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}n.cloneDeep=t})(gP)),gP}var p5;function VEe(){return p5||(p5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=G9(),t=HEe();function r(i){return i=t.cloneDeep(i),s=>e.isMatch(s,i)}n.matches=r})(uP)),uP}var CP={},EP={},BP={},g5;function KEe(){return g5||(g5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$9(),t=q9();function r(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case t.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}n.cloneDeepWith=r})(BP)),BP}var m5;function GEe(){return m5||(m5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=KEe();function t(r){return e.cloneDeepWith(r)}n.cloneDeep=t})(EP)),EP}var SP={},xP={},v5;function j9(){return v5||(v5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}n.isIndex=t})(xP)),xP}var _P={},y5;function zEe(){return y5||(y5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=z9();function t(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}n.isArguments=t})(_P)),_P}var w5;function qEe(){return w5||(w5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=D9(),t=j9(),r=zEe(),i=pk();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(SP)),SP}var b5;function $Ee(){return b5||(b5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=G9(),t=hk(),r=GEe(),i=gk(),s=qEe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(CP)),CP}var C5;function jEe(){return C5||(C5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=O9(),t=LEe(),r=VEe(),i=$Ee();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(AP)),AP}var E5;function WEe(){return E5||(E5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=PEe(),t=O9(),r=NEe(),i=jEe();function s(a,o=t.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}n.uniqBy=s})(tP)),tP}var TP,B5;function YEe(){return B5||(B5=1,TP=WEe().uniqBy),TP}var XEe=YEe();const S5=QA(XEe);function JEe(n,e,t){return e===!0?S5(n,t):typeof e=="function"?S5(n,e):n}var IP={exports:{}},FP={},MP={exports:{}},UP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x5;function ZEe(){if(x5)return UP;x5=1;var n=By();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),b=r({inst:{value:v,getSnapshot:g}}),C=b[0].inst,B=b[1];return s(function(){C.value=v,C.getSnapshot=g,l(C)&&B({inst:C})},[h,v,g]),i(function(){return l(C)&&B({inst:C}),h(function(){l(C)&&B({inst:C})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return UP.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,UP}var _5;function eBe(){return _5||(_5=1,MP.exports=ZEe()),MP.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T5;function tBe(){if(T5)return FP;T5=1;var n=By(),e=eBe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return FP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var b=s(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=o(function(){function S(D){if(!I){if(I=!0,T=D,D=g(D),v!==void 0&&C.hasValue){var L=C.value;if(v(L,D))return R=L}return R=D}if(L=R,r(T,D))return L;var H=g(D);return v!==void 0&&v(L,H)?(T=D,L):(T=D,R=H)}var I=!1,T,R,M=h===void 0?null:h;return[function(){return S(d())},M===null?void 0:function(){return S(M())}]},[d,h,g,v]);var B=i(u,b[0],b[1]);return a(function(){C.hasValue=!0,C.value=B},[B]),l(B),B},FP}var I5;function nBe(){return I5||(I5=1,IP.exports=tBe()),IP.exports}var rBe=nBe(),yk=F.createContext(null),iBe=n=>n,vr=()=>{var n=F.useContext(yk);return n?n.store.dispatch:iBe},V_=()=>{},sBe=()=>V_,aBe=(n,e)=>n===e;function Ye(n){var e=F.useContext(yk);return rBe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:sBe,e?e.store.getState:V_,e?e.store.getState:V_,e?n:V_,aBe)}function oBe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function ABe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function lBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var F5=n=>Array.isArray(n)?n:[n];function uBe(n){const e=Array.isArray(n[0])?n[0]:n;return lBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cBe(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var dBe=class{constructor(n){this.value=n}deref(){return this.value}},fBe=typeof WeakRef<"u"?WeakRef:dBe,hBe=0,M5=1;function Ex(){return{s:hBe,v:void 0,o:null,p:null}}function W9(n,e={}){let t=Ex();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let C=o.o;C===null&&(o.o=C=new WeakMap);const B=C.get(b);B===void 0?(o=Ex(),C.set(b,o)):o=B}else{let C=o.p;C===null&&(o.p=C=new Map);const B=C.get(b);B===void 0?(o=Ex(),C.set(b,o)):o=B}}const u=o;let d;if(o.s===M5)d=o.v;else if(d=n.apply(null,arguments),s++,r){const g=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;g!=null&&r(g,d)&&(d=g,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new fBe(d):d}return u.s=M5,u.v=d,d}return a.clearCache=()=>{t=Ex(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function pBe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),oBe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=W9,argsMemoizeOptions:b=[]}=d,C=F5(g),B=F5(b),S=uBe(i),I=h(function(){return s++,u.apply(null,arguments)},...C),T=v(function(){a++;const M=cBe(S,arguments);return o=I.apply(null,M),o},...B);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var ue=pBe(W9),gBe=Object.assign((n,e=ue)=>{ABe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(s=>n[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>gBe}),PP={},RP={},DP={},U5;function mBe(){return U5||(U5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const t=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(DP)),DP}var NP={},LP={},P5;function Y9(){return P5||(P5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(LP)),LP}var R5;function vBe(){return R5||(R5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Y9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=i})(NP)),NP}var D5;function yBe(){return D5||(D5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=mBe(),t=vBe(),r=pk();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,b)=>{let C=v;for(let B=0;B<b.length&&C!=null;++B)C=C[b[B]];return C},d=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:u(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?u(b,v):typeof b=="object"?b[v]:b,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(b=>d(b,v))})).slice().sort((v,b)=>{for(let C=0;C<h.length;C++){const B=e.compareValues(v.criteria[C],b.criteria[C],o[C]);if(B!==0)return B}return 0}).map(v=>v.original)}n.orderBy=i})(RP)),RP}var QP={},N5;function wBe(){return N5||(N5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(t,0),i}n.flatten=e})(QP)),QP}var kP={},L5;function X9(){return L5||(L5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=j9(),t=vk(),r=H9(),i=K9();function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}n.isIterateeCall=s})(kP)),kP}var Q5;function bBe(){return Q5||(Q5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=yBe(),t=wBe(),r=X9();function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=i})(PP)),PP}var OP,k5;function CBe(){return k5||(k5=1,OP=bBe().sortBy),OP}var EBe=CBe();const oI=QA(EBe);var J9=n=>n.legend.settings,BBe=n=>n.legend.size,SBe=n=>n.legend.payload;ue([SBe,J9],(n,e)=>{var{itemSorter:t}=e,r=n.flat(1);return t?oI(r,t):r});var Bx=1;function xBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=F.useState({height:0,left:0,top:0,width:0}),r=F.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Bx||Math.abs(a.left-e.left)>Bx||Math.abs(a.top-e.top)>Bx||Math.abs(a.width-e.width)>Bx)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,r]}function yi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var _Be=typeof Symbol=="function"&&Symbol.observable||"@@observable",O5=_Be,HP=()=>Math.random().toString(36).substring(7).split("").join("."),TBe={INIT:`@@redux/INIT${HP()}`,REPLACE:`@@redux/REPLACE${HP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${HP()}`},_T=TBe;function wk(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Z9(n,e,t){if(typeof n!="function")throw new Error(yi(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(yi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(yi(1));return t(Z9)(n,e)}let r=n,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((B,S)=>{a.set(S,B)}))}function d(){if(l)throw new Error(yi(3));return i}function h(B){if(typeof B!="function")throw new Error(yi(4));if(l)throw new Error(yi(5));let S=!0;u();const I=o++;return a.set(I,B),function(){if(S){if(l)throw new Error(yi(6));S=!1,u(),a.delete(I),s=null}}}function g(B){if(!wk(B))throw new Error(yi(7));if(typeof B.type>"u")throw new Error(yi(8));if(typeof B.type!="string")throw new Error(yi(17));if(l)throw new Error(yi(9));try{l=!0,i=r(i,B)}finally{l=!1}return(s=a).forEach(I=>{I()}),B}function v(B){if(typeof B!="function")throw new Error(yi(10));r=B,g({type:_T.REPLACE})}function b(){const B=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(yi(11));function I(){const R=S;R.next&&R.next(d())}return I(),{unsubscribe:B(I)}},[O5](){return this}}}return g({type:_T.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[O5]:b}}function IBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:_T.INIT})>"u")throw new Error(yi(12));if(typeof t(void 0,{type:_T.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yi(13))})}function eJ(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const r=Object.keys(t);let i;try{IBe(t)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],g=t[h],v=a[h],b=g(v,o);if(typeof b>"u")throw o&&o.type,new Error(yi(14));u[h]=b,l=l||b!==v}return l=l||r.length!==Object.keys(a).length,l?u:a}}function TT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function FBe(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(yi(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=TT(...o)(i.dispatch),{...i,dispatch:s}}}function tJ(n){return wk(n)&&"type"in n&&typeof n.type=="string"}var nJ=Symbol.for("immer-nothing"),H5=Symbol.for("immer-draftable"),as=Symbol.for("immer-state");function Ro(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var fa=Object,fy=fa.getPrototypeOf,IT="constructor",AI="prototype",RL="configurable",FT="enumerable",K_="writable",ib="value",Tu=n=>!!n&&!!n[as];function Oo(n){var e;return n?rJ(n)||lI(n)||!!n[H5]||!!((e=n[IT])!=null&&e[H5])||uI(n)||cI(n):!1}var MBe=fa[AI][IT].toString(),V5=new WeakMap;function rJ(n){if(!n||!bk(n))return!1;const e=fy(n);if(e===null||e===fa[AI])return!0;const t=fa.hasOwnProperty.call(e,IT)&&e[IT];if(t===Object)return!0;if(!Gg(t))return!1;let r=V5.get(t);return r===void 0&&(r=Function.toString.call(t),V5.set(t,r)),r===MBe}function sB(n,e,t=!0){aB(n)===0?(t?Reflect.ownKeys(n):fa.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function aB(n){const e=n[as];return e?e.type_:lI(n)?1:uI(n)?2:cI(n)?3:0}var K5=(n,e,t=aB(n))=>t===2?n.has(e):fa[AI].hasOwnProperty.call(n,e),DL=(n,e,t=aB(n))=>t===2?n.get(e):n[e],MT=(n,e,t,r=aB(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function UBe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var lI=Array.isArray,uI=n=>n instanceof Map,cI=n=>n instanceof Set,bk=n=>typeof n=="object",Gg=n=>typeof n=="function",VP=n=>typeof n=="boolean",ml=n=>n.copy_||n.base_,Ck=n=>n.modified_?n.copy_:n.base_;function NL(n,e){if(uI(n))return new Map(n);if(cI(n))return new Set(n);if(lI(n))return Array[AI].slice.call(n);const t=rJ(n);if(e===!0||e==="class_only"&&!t){const r=fa.getOwnPropertyDescriptors(n);delete r[as];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[K_]===!1&&(o[K_]=!0,o[RL]=!0),(o.get||o.set)&&(r[a]={[RL]:!0,[K_]:!0,[FT]:o[FT],[ib]:n[a]})}return fa.create(fy(n),r)}else{const r=fy(n);if(r!==null&&t)return{...n};const i=fa.create(r);return fa.assign(i,n)}}function Ek(n,e=!1){return dI(n)||Tu(n)||!Oo(n)||(aB(n)>1&&fa.defineProperties(n,{set:Sx,add:Sx,clear:Sx,delete:Sx}),fa.freeze(n),e&&sB(n,(t,r)=>{Ek(r,!0)},!1)),n}function PBe(){Ro(2)}var Sx={[ib]:PBe};function dI(n){return n===null||!bk(n)?!0:fa.isFrozen(n)}var UT="MapSet",LL="Patches",iJ={};function hy(n){const e=iJ[n];return e||Ro(0,n),e}var RBe=n=>!!iJ[n],sb,sJ=()=>sb,DBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:RBe(UT)?hy(UT):void 0});function G5(n,e){e&&(n.patchPlugin_=hy(LL),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function QL(n){kL(n),n.drafts_.forEach(NBe),n.drafts_=null}function kL(n){n===sb&&(sb=n.parent_)}var z5=n=>sb=DBe(sb,n);function NBe(n){const e=n[as];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function q5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[as].modified_&&(QL(e),Ro(4)),Oo(n)&&(n=$5(e,n));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[as].base_,n,e)}else n=$5(e,t);return LBe(e,n,!0),QL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==nJ?n:void 0}function $5(n,e){if(dI(e))return e;const t=e[as];if(!t)return Bk(e,n.handledSet_,n);if(!fI(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);AJ(t,n)}return t.copy_}function LBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Ek(e,t)}function aJ(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var fI=(n,e)=>n.scope_===e,QBe=[];function oJ(n,e,t,r){const i=ml(n),s=n.type_;if(r!==void 0&&DL(i,r,s)===e){MT(i,r,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;sB(i,(l,u)=>{if(Tu(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??QBe;for(const o of a)MT(i,o,t,s)}function kBe(n,e,t){n.callbacks_.push(function(i){var o;const s=e;if(!s||!fI(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=Ck(s);oJ(n,s.draft_??s,a,t),AJ(s,i)})}function AJ(n,e){var r;if(n.modified_&&!n.finalized_&&(n.type_===3||(((r=n.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(n);s&&i.generatePatches_(n,s,e)}aJ(n)}}function OBe(n,e,t){const{scope_:r}=n;if(Tu(t)){const i=t[as];fI(i,r)&&i.callbacks_.push(function(){G_(n);const a=Ck(i);oJ(n,t,a,e)})}else Oo(t)&&n.callbacks_.push(function(){const s=ml(n);DL(s,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Bk(DL(n.copy_,e,n.type_),r.handledSet_,r)})}function Bk(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Tu(n)||e.has(n)||!Oo(n)||dI(n)||(e.add(n),sB(n,(r,i)=>{if(Tu(i)){const s=i[as];if(fI(s,t)){const a=Ck(s);MT(n,r,a,n.type_),aJ(s)}}else Oo(i)&&Bk(i,e,t)})),n}function HBe(n,e){const t=lI(n),r={type_:t?1:0,scope_:e?e.scope_:sJ(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Sk;t&&(i=[r],s=ab);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var Sk={get(n,e){if(e===as)return n;const t=ml(n);if(!K5(t,e,n.type_))return VBe(n,t,e);const r=t[e];if(n.finalized_||!Oo(r))return r;if(r===KP(n.base_,e)){G_(n);const i=n.type_===1?+e:e,s=HL(n.scope_,r,n,i);return n.copy_[i]=s}return r},has(n,e){return e in ml(n)},ownKeys(n){return Reflect.ownKeys(ml(n))},set(n,e,t){const r=lJ(ml(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=KP(ml(n),e),s=i==null?void 0:i[as];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(UBe(t,i)&&(t!==void 0||K5(n.base_,e,n.type_)))return!0;G_(n),OL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),OBe(n,e,t)),!0},deleteProperty(n,e){return G_(n),KP(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),OL(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ml(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[K_]:!0,[RL]:n.type_!==1||e!=="length",[FT]:r[FT],[ib]:t[e]}},defineProperty(){Ro(11)},getPrototypeOf(n){return fy(n.base_)},setPrototypeOf(){Ro(12)}},ab={};sB(Sk,(n,e)=>{ab[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});ab.deleteProperty=function(n,e){return ab.set.call(this,n,e,void 0)};ab.set=function(n,e,t){return Sk.set.call(this,n[0],e,t,n[0])};function KP(n,e){const t=n[as];return(t?ml(t):n)[e]}function VBe(n,e,t){var i;const r=lJ(e,t);return r?ib in r?r[ib]:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function lJ(n,e){if(!(e in n))return;let t=fy(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=fy(t)}}function OL(n){n.modified_||(n.modified_=!0,n.parent_&&OL(n.parent_))}function G_(n){n.copy_||(n.assigned_=new Map,n.copy_=NL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var KBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,i)=>{if(Gg(t)&&!Gg(r)){const a=r;r=t;const o=this;return function(u=a,...d){return o.produce(u,h=>r.call(this,h,...d))}}Gg(r)||Ro(6),i!==void 0&&!Gg(i)&&Ro(7);let s;if(Oo(t)){const a=z5(this),o=HL(a,t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?QL(a):kL(a)}return G5(a,i),q5(s,a)}else if(!t||!bk(t)){if(s=r(t),s===void 0&&(s=t),s===nJ&&(s=void 0),this.autoFreeze_&&Ek(s,!0),i){const a=[],o=[];hy(LL).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else Ro(1,t)},this.produceWithPatches=(t,r)=>{if(Gg(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let i,s;return[this.produce(t,r,(o,l)=>{i=o,s=l}),i,s]},VP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),VP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),VP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Oo(e)||Ro(8),Tu(e)&&(e=Qo(e));const t=z5(this),r=HL(t,e,void 0);return r[as].isManual_=!0,kL(t),r}finishDraft(e,t){const r=e&&e[as];(!r||!r.isManual_)&&Ro(9);const{scope_:i}=r;return G5(i,t),q5(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const i=hy(LL).applyPatches_;return Tu(e)?i(e,t):this.produce(e,s=>i(s,t))}};function HL(n,e,t,r){const[i,s]=uI(e)?hy(UT).proxyMap_(e,t):cI(e)?hy(UT).proxySet_(e,t):HBe(e,t);return((t==null?void 0:t.scope_)??sJ()).drafts_.push(i),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=r,t&&r!==void 0?kBe(t,s,r):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),i}function Qo(n){return Tu(n)||Ro(10,n),uJ(n)}function uJ(n){if(!Oo(n)||dI(n))return n;const e=n[as];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=NL(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=NL(n,!0);return sB(t,(i,s)=>{MT(t,i,uJ(s))},r),e&&(e.finalized_=!1),t}var GBe=new KBe,cJ=GBe.produce;function dJ(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var zBe=dJ(),qBe=dJ,$Be=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?TT:TT.apply(null,arguments)};function lo(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(ha(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>tJ(r)&&r.type===n,t}var fJ=class Pw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pw.prototype)}static get[Symbol.species](){return Pw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pw(...e[0].concat(this)):new Pw(...e.concat(this))}};function j5(n){return Oo(n)?cJ(n,()=>{}):n}function xx(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function jBe(n){return typeof n=="boolean"}var WBe=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new fJ;return t&&(jBe(t)?a.push(zBe):a.push(qBe(t.extraArgument))),a},hJ="RTK_autoBatch",Kn=()=>n=>({payload:n,meta:{[hJ]:!0}}),W5=n=>e=>{setTimeout(e,n)},pJ=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:W5(10):n.type==="callback"?n.queueNotification:W5(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),g=r.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[hJ]),s=!i,s&&(a||(a=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},YBe=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new fJ(n);return r&&i.push(pJ(typeof r=="object"?r:void 0)),i};function XBe(n){const e=WBe(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(wk(t))o=eJ(t);else throw new Error(ha(1));let l;typeof r=="function"?l=r(e):l=e();let u=TT;i&&(u=$Be({trace:!1,...typeof i=="object"&&i}));const d=FBe(...l),h=YBe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return Z9(o,s,v)}function gJ(n){const e={},t=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ha(28));if(o in e)throw new Error(ha(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function JBe(n){return typeof n=="function"}function ZBe(n,e){let[t,r,i]=gJ(e),s;if(JBe(n))s=()=>j5(n());else{const o=j5(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Tu(d)){const v=h(d,l);return v===void 0?d:v}else{if(Oo(d))return cJ(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var eSe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tSe=(n=21)=>{let e="",t=n;for(;t--;)e+=eSe[Math.random()*64|0];return e},nSe=Symbol.for("rtk-slice-createasyncthunk");function rSe(n,e){return`${n}/${e}`}function iSe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[nSe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ha(11));const o=(typeof i.reducers=="function"?i.reducers(aSe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,M){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(ha(12));if(D in u.sliceCaseReducersByType)throw new Error(ha(13));return u.sliceCaseReducersByType[D]=M,d},addMatcher(R,M){return u.sliceMatchers.push({matcher:R,reducer:M}),d},exposeAction(R,M){return u.actionCreators[R]=M,d},exposeCaseReducer(R,M){return u.sliceCaseReducersByName[R]=M,d}};l.forEach(R=>{const M=o[R],D={reducerName:R,type:rSe(s,R),createNotation:typeof i.reducers=="function"};ASe(M)?uSe(D,M,d,e):oSe(D,M,d)});function h(){const[R={},M=[],D=void 0]=typeof i.extraReducers=="function"?gJ(i.extraReducers):[i.extraReducers],L={...R,...u.sliceCaseReducersByType};return ZBe(i.initialState,H=>{for(let k in L)H.addCase(k,L[k]);for(let k of u.sliceMatchers)H.addMatcher(k.matcher,k.reducer);for(let k of M)H.addMatcher(k.matcher,k.reducer);D&&H.addDefaultCase(D)})}const g=R=>R,v=new Map,b=new WeakMap;let C;function B(R,M){return C||(C=h()),C(R,M)}function S(){return C||(C=h()),C.getInitialState()}function I(R,M=!1){function D(H){let k=H[R];return typeof k>"u"&&M&&(k=xx(b,D,S)),k}function L(H=g){const k=xx(v,M,()=>new WeakMap);return xx(k,H,()=>{const K={};for(const[G,z]of Object.entries(i.selectors??{}))K[G]=sSe(z,H,()=>xx(b,H,S),M);return K})}return{reducerPath:R,getSelectors:L,get selectors(){return L(D)},selectSlice:D}}const T={name:s,reducer:B,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...I(a),injectInto(R,{reducerPath:M,...D}={}){const L=M??a;return R.inject({reducerPath:L,reducer:B},D),{...T,...I(L,!0)}}};return T}}function sSe(n,e,t,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=t()),n(o,...a)}return i.unwrapped=n,i}var Ms=iSe();function aSe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function oSe({type:n,reducerName:e,createNotation:t},r,i){let s,a;if("reducer"in r){if(t&&!lSe(r))throw new Error(ha(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?lo(n,a):lo(n))}function ASe(n){return n._reducerDefinitionType==="asyncThunk"}function lSe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function uSe({type:n,reducerName:e},t,r,i){if(!i)throw new Error(ha(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=i(n,s,d);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:a||_x,pending:o||_x,rejected:l||_x,settled:u||_x})}function _x(){}var cSe="task",mJ="listener",vJ="completed",xk="cancelled",dSe=`task-${xk}`,fSe=`task-${vJ}`,VL=`${mJ}-${xk}`,hSe=`${mJ}-${vJ}`,hI=class{constructor(n){Ce(this,"name","TaskAbortError");Ce(this,"message");this.code=n,this.message=`${cSe} ${xk} (reason: ${n})`}},_k=(n,e)=>{if(typeof n!="function")throw new TypeError(ha(32))},PT=()=>{},yJ=(n,e=PT)=>(n.catch(e),n),wJ=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),wp=n=>{if(n.aborted)throw new hI(n.reason)};function bJ(n,e){let t=PT;return new Promise((r,i)=>{const s=()=>i(new hI(n.reason));if(n.aborted){s();return}t=wJ(n,s),e.finally(()=>t()).then(r,i)}).finally(()=>{t=PT})}var pSe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof hI?"cancelled":"rejected",error:t}}finally{e==null||e()}},RT=n=>e=>yJ(bJ(n,e).then(t=>(wp(n),t))),CJ=n=>{const e=RT(n);return t=>e(new Promise(r=>setTimeout(r,t)))},{assign:lm}=Object,Y5={},pI="listenerMiddleware",gSe=(n,e)=>{const t=r=>wJ(n,()=>r.abort(n.reason));return(r,i)=>{_k(r);const s=new AbortController;t(s);const a=pSe(async()=>{wp(n),wp(s.signal);const o=await r({pause:RT(s.signal),delay:CJ(s.signal),signal:s.signal});return wp(s.signal),o},()=>s.abort(fSe));return i!=null&&i.autoJoin&&e.push(a.catch(PT)),{result:RT(n)(a),cancel(){s.abort(dSe)}}}},mSe=(n,e)=>{const t=async(r,i)=>{wp(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:r,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await bJ(e,Promise.race(o));return wp(e),l}finally{s()}};return(r,i)=>yJ(t(r,i))},EJ=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:s}=n;if(e)i=lo(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(ha(21));return _k(s),{predicate:i,type:e,effect:s}},BJ=lm(n=>{const{type:e,predicate:t,effect:r}=EJ(n);return{id:tSe(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(ha(22))}}},{withTypes:()=>BJ}),X5=(n,e)=>{const{type:t,effect:r,predicate:i}=EJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===i)&&s.effect===r)},KL=n=>{n.pending.forEach(e=>{e.abort(VL)})},vSe=(n,e)=>()=>{for(const t of e.keys())KL(t);n.clear()},J5=(n,e,t)=>{try{n(e,t)}catch(r){setTimeout(()=>{throw r},0)}},SJ=lm(lo(`${pI}/add`),{withTypes:()=>SJ}),ySe=lo(`${pI}/removeAll`),xJ=lm(lo(`${pI}/remove`),{withTypes:()=>xJ}),wSe=(...n)=>{console.error(`${pI}/error`,...n)},oB=(n={})=>{const e=new Map,t=new Map,r=v=>{const b=t.get(v)??0;t.set(v,b+1)},i=v=>{const b=t.get(v)??1;b===1?t.delete(v):t.set(v,b-1)},{extra:s,onError:a=wSe}=n;_k(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b!=null&&b.cancelActive&&KL(v)}),l=v=>{const b=X5(e,v)??BJ(v);return o(b)};lm(l,{withTypes:()=>l});const u=v=>{const b=X5(e,v);return b&&(b.unsubscribe(),v.cancelActive&&KL(b)),!!b};lm(u,{withTypes:()=>u});const d=async(v,b,C,B)=>{const S=new AbortController,I=mSe(l,S.signal),T=[];try{v.pending.add(S),r(v),await Promise.resolve(v.effect(b,lm({},C,{getOriginalState:B,condition:(R,M)=>I(R,M).then(Boolean),take:I,delay:CJ(S.signal),pause:RT(S.signal),extra:s,signal:S.signal,fork:gSe(S.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,M,D)=>{R!==S&&(R.abort(VL),D.delete(R))})},cancel:()=>{S.abort(VL),v.pending.delete(S)},throwIfCancelled:()=>{wp(S.signal)}})))}catch(R){R instanceof hI||J5(a,R,{raisedBy:"effect"})}finally{await Promise.all(T),S.abort(hSe),i(v),v.pending.delete(S)}},h=vSe(e,t);return{middleware:v=>b=>C=>{if(!tJ(C))return b(C);if(SJ.match(C))return l(C.payload);if(ySe.match(C)){h();return}if(xJ.match(C))return u(C.payload);let B=v.getState();const S=()=>{if(B===Y5)throw new Error(ha(23));return B};let I;try{if(I=b(C),e.size>0){const T=v.getState(),R=Array.from(e.values());for(const M of R){let D=!1;try{D=M.predicate(C,T,B)}catch(L){D=!1,J5(a,L,{raisedBy:"predicate"})}D&&d(M,C,v,S)}}}finally{B=Y5}return I},startListening:l,stopListening:u,clearListeners:h}};function ha(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var bSe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_J=Ms({name:"chartLayout",initialState:bSe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,r,i,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,n.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:CSe,setLayout:ESe,setChartSize:BSe,setScale:SSe}=_J.actions,xSe=_J.reducer;function TJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function Z5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Wg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(t),!0).forEach(function(r){_Se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Z5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _Se(n,e,t){return(e=TSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TSe(n){var e=ISe(n,"string");return typeof e=="symbol"?e:e+""}function ISe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ki(n,e,t){return ai(n)||ai(e)?t:RA(e)?dy(n,e,t):typeof e=="function"?e(n):t}var FSe=(n,e,t)=>{if(e&&t){var{width:r,height:i}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Je(n[s]))return Wg(Wg({},n),{},{[s]:n[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Je(n[a]))return Wg(Wg({},n),{},{[a]:n[a]+(i||0)})}return n},Np=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",eq=1e-4,MSe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,r=n.range(),i=Math.min(r[0],r[1])-eq,s=Math.max(r[0],r[1])+eq,a=n(e[0]),o=n(e[t-1]);(a<i||a>s||o<i||o>s)&&n.domain([e[0],e[t-1]])}},USe=(n,e)=>{if(!e||e.length!==2||!Je(e[0])||!Je(e[1]))return n;var t=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[n[0],n[1]];return(!Je(n[0])||n[0]<t)&&(i[0]=t),(!Je(n[1])||n[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<t&&(i[1]=t),i},PSe=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0,a=0;a<e;++a){var o=PA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=i,n[a][t][1]=i+o,i=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},RSe=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0;s<e;++s){var a=PA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=i,n[s][t][1]=i+a,i=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},DSe={sign:PSe,expand:oEe,none:cy,silhouette:AEe,wiggle:lEe,positive:RSe},NSe=(n,e,t)=>{var r=DSe[t],i=aEe().keys(e).value((s,a)=>Number(Ki(s,a,0))).order(UL).offset(r);return i(n)};function LSe(n){return n==null?void 0:String(n)}var tq=n=>{var{axis:e,ticks:t,offset:r,bandSize:i,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+r:null;var o=Ki(s,e.dataKey,e.scale.domain()[a]);return ai(o)?null:e.scale(o)-i/2+r},QSe=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return r<=0&&i>=0?0:i<0?i:r}return t[0]},kSe=n=>{var e=n.flat(2).filter(Je);return[Math.min(...e),Math.max(...e)]},OSe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],HSe=(n,e,t)=>{if(n!=null)return OSe(Object.keys(n).reduce((r,i)=>{var s=n[i],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=TJ(u,e,t),h=kSe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},nq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var r=n.scale.bandwidth();if(!t||r>0)return r}if(n&&e&&e.length>=2){for(var i=oI(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function iq(n){var{tooltipEntrySettings:e,dataKey:t,payload:r,value:i,name:s}=n;return Wg(Wg({},e),{},{dataKey:t,payload:r,value:i,name:s})}function IJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var VSe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},KSe=(n,e)=>e==="centric"?n.angle:n.radius,Hu=n=>n.layout.width,Vu=n=>n.layout.height,GSe=n=>n.layout.scale,FJ=n=>n.layout.margin,gI=ue(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),mI=ue(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),zSe="data-recharts-item-index",qSe="data-recharts-item-data-key",AB=60;function sq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Tx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sq(Object(t),!0).forEach(function(r){$Se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $Se(n,e,t){return(e=jSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jSe(n){var e=WSe(n,"string");return typeof e=="symbol"?e:e+""}function WSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var YSe=n=>n.brush.height;function XSe(n){var e=mI(n);return e.reduce((t,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:AB;return t+i}return t},0)}function JSe(n){var e=mI(n);return e.reduce((t,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:AB;return t+i}return t},0)}function ZSe(n){var e=gI(n);return e.reduce((t,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?t+r.height:t,0)}function exe(n){var e=gI(n);return e.reduce((t,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?t+r.height:t,0)}var oi=ue([Hu,Vu,FJ,YSe,XSe,JSe,ZSe,exe,J9,BBe],(n,e,t,r,i,s,a,o,l,u)=>{var d={left:(t.left||0)+i,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=Tx(Tx({},h),d),v=g.bottom;g.bottom+=r,g=FSe(g,l,u);var b=n-g.left-g.right,C=e-g.top-g.bottom;return Tx(Tx({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(C,0)})}),txe=ue(oi,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),Tk=ue(Hu,Vu,(n,e)=>({x:0,y:0,width:n,height:e})),nxe=F.createContext(null),va=()=>F.useContext(nxe)!=null,vI=n=>n.brush,yI=ue([vI,oi,FJ],(n,e,t)=>({height:n.height,x:Je(n.x)?n.x:e.left,y:Je(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:Je(n.width)?n.width:e.width})),GP={},zP={},qP={},aq;function rxe(){return aq||(aq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),C()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},r)},b=()=>{g!==null&&(clearTimeout(g),g=null)},C=()=>{b(),a=void 0,o=null},B=()=>{d()},S=function(...I){if(i!=null&&i.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return S.schedule=v,S.cancel=C,S.flush=B,i==null||i.addEventListener("abort",C,{once:!0}),S}n.debounce=e})(qP)),qP}var oq;function ixe(){return oq||(oq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=rxe();function t(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...C){d=r.apply(this,C),h=null},i,{edges:u}),v=function(...C){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=r.apply(this,C),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,C),d)},b=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=b,v}n.debounce=t})(zP)),zP}var Aq;function sxe(){return Aq||(Aq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ixe();function t(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}n.throttle=t})(GP)),GP}var $P,lq;function axe(){return lq||(lq=1,$P=sxe().throttle),$P}var oxe=axe();const Axe=QA(oxe);var uq=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>i[a++]))}},MJ=(n,e,t)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=t,o=_u(r)?n:Number(r),l=_u(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},lxe={width:0,height:0,overflow:"visible"},uxe={width:0,overflowX:"visible"},cxe={height:0,overflowY:"visible"},dxe={},fxe=n=>{var{width:e,height:t}=n,r=_u(e),i=_u(t);return r&&i?lxe:r?uxe:i?cxe:dxe};function hxe(n){var{width:e,height:t,aspect:r}=n,i=e,s=t;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function mr(n){return Number.isFinite(n)}function Zd(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function GL(){return GL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GL.apply(null,arguments)}function cq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(t),!0).forEach(function(r){pxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pxe(n,e,t){return(e=gxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gxe(n){var e=mxe(n,"string");return typeof e=="symbol"?e:e+""}function mxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var UJ=F.createContext({width:-1,height:-1});function vxe(n){return Zd(n.width)&&Zd(n.height)}function PJ(n){var{children:e,width:t,height:r}=n,i=F.useMemo(()=>({width:t,height:r}),[t,r]);return vxe(i)?F.createElement(UJ.Provider,{value:i},e):null}var Ik=()=>F.useContext(UJ),yxe=F.forwardRef((n,e)=>{var{aspect:t,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:b={}}=n,C=F.useRef(null),B=F.useRef();B.current=v,F.useImperativeHandle(e,()=>C.current);var[S,I]=F.useState({containerWidth:r.width,containerHeight:r.height}),T=F.useCallback((H,k)=>{I(K=>{var G=Math.round(H),z=Math.round(k);return K.containerWidth===G&&K.containerHeight===z?K:{containerWidth:G,containerHeight:z}})},[]);F.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return iB;var H=z=>{var Z,{width:ne,height:J}=z[0].contentRect;T(ne,J),(Z=B.current)===null||Z===void 0||Z.call(B,ne,J)};d>0&&(H=Axe(H,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(H),{width:K,height:G}=C.current.getBoundingClientRect();return T(K,G),k.observe(C.current),()=>{k.disconnect()}},[T,d]);var{containerWidth:R,containerHeight:M}=S;uq(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:L}=MJ(R,M,{width:i,height:s,aspect:t,maxHeight:l});return uq(D!=null&&D>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,L,i,s,a,o,t),F.createElement("div",{id:h?"".concat(h):void 0,className:Qn("recharts-responsive-container",g),style:dq(dq({},b),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:C},F.createElement("div",{style:fxe({width:i,height:s})},F.createElement(PJ,{width:D,height:L},u)))}),wxe=F.forwardRef((n,e)=>{var t=Ik();if(Zd(t.width)&&Zd(t.height))return n.children;var{width:r,height:i}=hxe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=MJ(void 0,void 0,{width:r,height:i,aspect:n.aspect,maxHeight:n.maxHeight});return Je(s)&&Je(a)?F.createElement(PJ,{width:s,height:a},n.children):F.createElement(yxe,GL({},n,{width:r,height:i,ref:e}))});function RJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var wI=()=>{var n,e=va(),t=Ye(txe),r=Ye(yI),i=(n=Ye(vI))===null||n===void 0?void 0:n.padding;return!e||!r||!i?t:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},bxe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Cxe=()=>{var n;return(n=Ye(oi))!==null&&n!==void 0?n:bxe},Exe=()=>Ye(Hu),Bxe=()=>Ye(Vu),Zt=n=>n.layout.layoutType,bI=()=>Ye(Zt),Sxe=()=>{var n=bI();return n!==void 0},CI=n=>{var e=vr(),t=va(),{width:r,height:i}=n,s=Ik(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),F.useEffect(()=>{!t&&Zd(a)&&Zd(o)&&e(BSe({width:a,height:o}))},[e,t,a,o]),null},DJ=Symbol.for("immer-nothing"),fq=Symbol.for("immer-draftable"),ga=Symbol.for("immer-state");function Do(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ob=Object.getPrototypeOf;function py(n){return!!n&&!!n[ga]}function _p(n){var e;return n?NJ(n)||Array.isArray(n)||!!n[fq]||!!((e=n.constructor)!=null&&e[fq])||lB(n)||BI(n):!1}var xxe=Object.prototype.constructor.toString(),hq=new WeakMap;function NJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let r=hq.get(t);return r===void 0&&(r=Function.toString.call(t),hq.set(t,r)),r===xxe}function NT(n,e,t=!0){EI(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function EI(n){const e=n[ga];return e?e.type_:Array.isArray(n)?1:lB(n)?2:BI(n)?3:0}function zL(n,e){return EI(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function LJ(n,e,t){const r=EI(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function _xe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function lB(n){return n instanceof Map}function BI(n){return n instanceof Set}function Df(n){return n.copy_||n.base_}function qL(n,e){if(lB(n))return new Map(n);if(BI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=NJ(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[ga];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(ob(n),r)}else{const r=ob(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function Fk(n,e=!1){return SI(n)||py(n)||!_p(n)||(EI(n)>1&&Object.defineProperties(n,{set:Ix,add:Ix,clear:Ix,delete:Ix}),Object.freeze(n),e&&Object.values(n).forEach(t=>Fk(t,!0))),n}function Txe(){Do(2)}var Ix={value:Txe};function SI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var Ixe={};function Tp(n){const e=Ixe[n];return e||Do(0,n),e}var Ab;function QJ(){return Ab}function Fxe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pq(n,e){e&&(Tp("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function $L(n){jL(n),n.drafts_.forEach(Mxe),n.drafts_=null}function jL(n){n===Ab&&(Ab=n.parent_)}function gq(n){return Ab=Fxe(Ab,n)}function Mxe(n){const e=n[ga];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function mq(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ga].modified_&&($L(e),Do(4)),_p(n)&&(n=LT(e,n),e.parent_||QT(e,n)),e.patches_&&Tp("Patches").generateReplacementPatches_(t[ga].base_,n,e.patches_,e.inversePatches_)):n=LT(e,t,[]),$L(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==DJ?n:void 0}function LT(n,e,t){if(SI(e))return e;const r=n.immer_.shouldUseStrictIteration(),i=e[ga];if(!i)return NT(e,(s,a)=>vq(n,i,e,s,a,t),r),e;if(i.scope_!==n)return e;if(!i.modified_)return QT(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),NT(a,(l,u)=>vq(n,i,s,l,u,t,o),r),QT(n,s,!1),t&&n.patches_&&Tp("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function vq(n,e,t,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=SI(i);if(!(o&&!a)){if(py(i)){const l=s&&e&&e.type_!==3&&!zL(e.assigned_,r)?s.concat(r):void 0,u=LT(n,i,l);if(LJ(t,r,u),py(u))n.canAutoFreeze_=!1;else return}else a&&t.add(i);if(_p(i)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;LT(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(lB(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&QT(n,i)}}}function QT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Fk(e,t)}function Uxe(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:QJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Mk;t&&(i=[r],s=lb);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var Mk={get(n,e){if(e===ga)return n;const t=Df(n);if(!zL(t,e))return Pxe(n,t,e);const r=t[e];return n.finalized_||!_p(r)?r:r===jP(n.base_,e)?(WP(n),n.copy_[e]=YL(r,n)):r},has(n,e){return e in Df(n)},ownKeys(n){return Reflect.ownKeys(Df(n))},set(n,e,t){const r=kJ(Df(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=jP(Df(n),e),s=i==null?void 0:i[ga];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(_xe(t,i)&&(t!==void 0||zL(n.base_,e)))return!0;WP(n),WL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return jP(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,WP(n),WL(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Df(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Do(11)},getPrototypeOf(n){return ob(n.base_)},setPrototypeOf(){Do(12)}},lb={};NT(Mk,(n,e)=>{lb[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});lb.deleteProperty=function(n,e){return lb.set.call(this,n,e,void 0)};lb.set=function(n,e,t){return Mk.set.call(this,n[0],e,t,n[0])};function jP(n,e){const t=n[ga];return(t?Df(t):n)[e]}function Pxe(n,e,t){var i;const r=kJ(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function kJ(n,e){if(!(e in n))return;let t=ob(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ob(t)}}function WL(n){n.modified_||(n.modified_=!0,n.parent_&&WL(n.parent_))}function WP(n){n.copy_||(n.copy_=qL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Rxe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&Do(6),r!==void 0&&typeof r!="function"&&Do(7);let i;if(_p(e)){const s=gq(this),a=YL(e,void 0);let o=!0;try{i=t(a),o=!1}finally{o?$L(s):jL(s)}return pq(s,r),mq(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===DJ&&(i=void 0),this.autoFreeze_&&Fk(i,!0),r){const s=[],a=[];Tp("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Do(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,t,(a,o)=>{r=a,i=o}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){_p(n)||Do(8),py(n)&&(n=Dxe(n));const e=gq(this),t=YL(n,void 0);return t[ga].isManual_=!0,jL(e),t}finishDraft(n,e){const t=n&&n[ga];(!t||!t.isManual_)&&Do(9);const{scope_:r}=t;return pq(r,e),mq(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Tp("Patches").applyPatches_;return py(n)?r(n,e):this.produce(n,i=>r(i,e))}};function YL(n,e){const t=lB(n)?Tp("MapSet").proxyMap_(n,e):BI(n)?Tp("MapSet").proxySet_(n,e):Uxe(n,e);return(e?e.scope_:QJ()).drafts_.push(t),t}function Dxe(n){return py(n)||Do(10,n),OJ(n)}function OJ(n){if(!_p(n)||SI(n))return n;const e=n[ga];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=qL(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=qL(n,!0);return NT(t,(i,s)=>{LJ(t,i,OJ(s))},r),e&&(e.finalized_=!1),t}var Nxe=new Rxe;Nxe.produce;var Lxe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HJ=Ms({name:"legend",initialState:Lxe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:Kn()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Qo(n).payload.indexOf(t);i>-1&&(n.payload[i]=r)},prepare:Kn()},removeLegendPayload:{reducer(n,e){var t=Qo(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:Kn()}}}),{setLegendSize:Cke,setLegendSettings:Eke,addLegendPayload:Qxe,replaceLegendPayload:kxe,removeLegendPayload:Oxe}=HJ.actions,Hxe=HJ.reducer;function XL(){return XL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},XL.apply(null,arguments)}function yq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function YP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yq(Object(t),!0).forEach(function(r){Vxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Vxe(n,e,t){return(e=Kxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kxe(n){var e=Gxe(n,"string");return typeof e=="symbol"?e:e+""}function Gxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zxe(n){return Array.isArray(n)&&RA(n[0])&&RA(n[1])?n.join(" ~ "):n}var qxe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var M={padding:0,margin:0},D=(o?oI(s,o):s).map((L,H)=>{if(L.type==="none")return null;var k=L.formatter||a||zxe,{value:K,name:G}=L,z=K,Z=G;if(k){var ne=k(K,G,L,H,s);if(Array.isArray(ne))[z,Z]=ne;else if(ne!=null)z=ne;else return null}var J=YP({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:J},RA(Z)?F.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,RA(Z)?F.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,F.createElement("span",{className:"recharts-tooltip-item-value"},z),F.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},b=YP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),C=YP({margin:0},i),B=!ai(d),S=B?d:"",I=Qn("recharts-default-tooltip",l),T=Qn("recharts-tooltip-label",u);B&&h&&s!==void 0&&s!==null&&(S=h(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",XL({className:I,style:b},R),F.createElement("p",{className:T,style:C},F.isValidElement(S)?S:"".concat(S)),v())},G0="recharts-tooltip-wrapper",$xe={visibility:"hidden"};function jxe(n){var{coordinate:e,translateX:t,translateY:r}=n;return Qn(G0,{["".concat(G0,"-right")]:Je(t)&&e&&Je(e.x)&&t>=e.x,["".concat(G0,"-left")]:Je(t)&&e&&Je(e.x)&&t<e.x,["".concat(G0,"-bottom")]:Je(r)&&e&&Je(e.y)&&r>=e.y,["".concat(G0,"-top")]:Je(r)&&e&&Je(e.y)&&r<e.y})}function wq(n){var{allowEscapeViewBox:e,coordinate:t,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&Je(s[r]))return s[r];var d=t[r]-o-(i>0?i:0),h=t[r]+i;if(e[r])return a[r]?d:h;var g=l[r];if(g==null)return 0;if(a[r]){var v=d,b=g;return v<b?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var C=h+o,B=g+u;return C>B?Math.max(d,g):Math.max(h,g)}function Wxe(n){var{translateX:e,translateY:t,useTranslate3d:r}=n;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function Yxe(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=wq({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=wq({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Wxe({translateX:d,translateY:h,useTranslate3d:o})):u=$xe,{cssProperties:u,cssClasses:jxe({translateX:d,translateY:h,coordinate:t})}}function bq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(t),!0).forEach(function(r){JL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function JL(n,e,t){return(e=Xxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xxe(n){var e=Jxe(n,"string");return typeof e=="symbol"?e:e+""}function Jxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Zxe extends F.PureComponent{constructor(){super(...arguments),JL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),JL(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&t!==void 0?t:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:C,innerRef:B,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:T}=Yxe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:C.height,width:C.width},useTranslate3d:g,viewBox:v}),R=S?{}:Fx(Fx({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),M=Fx(Fx({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return F.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:M,ref:B},s)}}var VJ=()=>{var n;return(n=Ye(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function ZL(){return ZL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ZL.apply(null,arguments)}function Cq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Eq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(t),!0).forEach(function(r){e_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function e_e(n,e,t){return(e=t_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function t_e(n){var e=n_e(n,"string");return typeof e=="symbol"?e:e+""}function n_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Bq={curveBasisClosed:WCe,curveBasisOpen:YCe,curveBasis:jCe,curveBumpX:RCe,curveBumpY:DCe,curveLinearClosed:XCe,curveLinear:sI,curveMonotoneX:JCe,curveMonotoneY:ZCe,curveNatural:eEe,curveStep:tEe,curveStepAfter:rEe,curveStepBefore:nEe},kT=n=>mr(n.x)&&mr(n.y),Sq=n=>n.base!=null&&kT(n.base)&&kT(n),z0=n=>n.x,q0=n=>n.y,r_e=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(rB(n));return(t==="curveMonotone"||t==="curveBump")&&e?Bq["".concat(t).concat(e==="vertical"?"Y":"X")]:Bq[t]||sI},i_e=n=>{var{type:e="linear",points:t=[],baseLine:r,layout:i,connectNulls:s=!1}=n,a=r_e(e,i),o=s?t.filter(kT):t,l;if(Array.isArray(r)){var u=t.map((v,b)=>Eq(Eq({},v),{},{base:r[b]}));i==="vertical"?l=Cx().y(q0).x1(z0).x0(v=>v.base.x):l=Cx().x(z0).y1(q0).y0(v=>v.base.y);var d=l.defined(Sq).curve(a),h=s?u.filter(Sq):u;return d(h)}i==="vertical"&&Je(r)?l=Cx().y(q0).x1(z0).x0(r):Je(r)?l=Cx().x(z0).y1(q0).y0(r):l=B9().x(z0).y(q0);var g=l.defined(kT).curve(a);return g(o)},KJ=n=>{var{className:e,points:t,path:r,pathRef:i}=n;if((!t||!t.length)&&!r)return null;var s=t&&t.length?i_e(n):r;return F.createElement("path",ZL({},Jd(n),_Ee(n),{className:Qn("recharts-curve",e),d:s===null?void 0:s,ref:i}))},s_e=["x","y","top","left","width","height","className"];function eQ(){return eQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eQ.apply(null,arguments)}function xq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function a_e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xq(Object(t),!0).forEach(function(r){o_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function o_e(n,e,t){return(e=A_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function A_e(n){var e=l_e(n,"string");return typeof e=="symbol"?e:e+""}function l_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function u_e(n,e){if(n==null)return{};var t,r,i=c_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function c_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var d_e=(n,e,t,r,i,s)=>"M".concat(n,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(t),f_e=n=>{var{x:e=0,y:t=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=n,l=u_e(n,s_e),u=a_e({x:e,y:t,top:r,left:i,width:s,height:a},l);return!Je(e)||!Je(t)||!Je(s)||!Je(a)||!Je(r)||!Je(i)?null:F.createElement("path",eQ({},Ao(u),{className:Qn("recharts-cross",o),d:d_e(e,t,s,a,r,i)}))};function h_e(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function _q(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Tq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_q(Object(t),!0).forEach(function(r){p_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_q(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function p_e(n,e,t){return(e=g_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g_e(n){var e=m_e(n,"string");return typeof e=="symbol"?e:e+""}function m_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var v_e=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),GJ=(n,e,t)=>n.map(r=>"".concat(v_e(r)," ").concat(e,"ms ").concat(t)).join(","),y_e=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,r)=>t.filter(i=>r.includes(i))),ub=(n,e)=>Object.keys(e).reduce((t,r)=>Tq(Tq({},t),{},{[r]:n(r,e[r])}),{});function Iq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Or(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(t),!0).forEach(function(r){w_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function w_e(n,e,t){return(e=b_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function b_e(n){var e=C_e(n,"string");return typeof e=="symbol"?e:e+""}function C_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var OT=(n,e,t)=>n+(e-n)*t,tQ=n=>{var{from:e,to:t}=n;return e!==t},zJ=(n,e,t)=>{var r=ub((i,s)=>{if(tQ(s)){var[a,o]=n(s.from,s.to,s.velocity);return Or(Or({},s),{},{from:a,velocity:o})}return s},e);return t<1?ub((i,s)=>tQ(s)?Or(Or({},s),{},{velocity:OT(s.velocity,r[i].velocity,t),from:OT(s.from,r[i].from,t)}):s,e):zJ(n,r,t-1)};function E_e(n,e,t,r,i,s){var a,o=r.reduce((g,v)=>Or(Or({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>ub((g,v)=>v.from,o),u=()=>!Object.values(o).filter(tQ).length,d=null,h=g=>{a||(a=g);var v=g-a,b=v/t.dt;o=zJ(t,o,b),i(Or(Or(Or({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function B_e(n,e,t,r,i,s,a){var o=null,l=i.reduce((h,g)=>Or(Or({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/r,v=ub((C,B)=>OT(...B,t(g)),l);if(s(Or(Or(Or({},n),e),v)),g<1)o=a.setTimeout(d);else{var b=ub((C,B)=>OT(...B,t(1)),l);s(Or(Or(Or({},n),e),b))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const S_e=(n,e,t,r,i,s)=>{var a=y_e(n,e);return t==null?()=>(i(Or(Or({},n),e)),()=>{}):t.isStepper===!0?E_e(n,e,t,a,i,s):B_e(n,e,t,r,a,i,s)};var HT=1e-4,qJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],$J=(n,e)=>n.map((t,r)=>t*e**r).reduce((t,r)=>t+r),Fq=(n,e)=>t=>{var r=qJ(n,e);return $J(r,t)},x_e=(n,e)=>t=>{var r=qJ(n,e),i=[...r.map((s,a)=>s*a).slice(1),0];return $J(i,t)},__e=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},T_e=(n,e,t,r)=>{var i=Fq(n,t),s=Fq(e,r),a=x_e(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=i(h)-d,b=a(h);if(Math.abs(v-d)<HT||b<HT)return s(h);h=o(h-v/b)}return s(h)};return l.isStepper=!1,l},Mq=function(){return T_e(...__e(...arguments))},I_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*r,h=l+(u-d)*i/1e3,g=l*i/1e3+a;return Math.abs(g-o)<HT&&Math.abs(h)<HT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=i,s},F_e=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Mq(n);case"spring":return I_e();default:if(n.split("(")[0]==="cubic-bezier")return Mq(n)}return typeof n=="function"?n:null};function M_e(n){var e,t=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=n.setTimeout(s.bind(null,u),l);return}s(l),i=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class U_e{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=t?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function P_e(){return M_e(new U_e)}var R_e=F.createContext(P_e);function D_e(n,e){var t=F.useContext(R_e);return F.useMemo(()=>e??t(n),[n,e,t])}var N_e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),uB={devToolsEnabled:!1,isSsr:N_e()},L_e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Uq={t:0},XP={t:1};function Uk(n){var e=co(n,L_e),{isActive:t,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!uB.isSsr:t,h=D_e(e.animationId,e.animationManager),[g,v]=F.useState(d?Uq:XP),b=F.useRef(null);return F.useEffect(()=>{d||v(XP)},[d]),F.useEffect(()=>{if(!d||!r)return iB;var C=S_e(Uq,XP,F_e(s),i,v,h.getTimeoutController()),B=()=>{b.current=C()};return h.start([l,a,B,i,o]),()=>{h.stop(),b.current&&b.current(),o()}},[d,r,i,s,a,l,o,h]),u(g.t)}function Pk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=F.useRef(rb(e)),r=F.useRef(n);return r.current!==n&&(t.current=rb(e),r.current=n),t.current}var Q_e=["radius"],k_e=["radius"];function Pq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Rq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pq(Object(t),!0).forEach(function(r){O_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Pq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function O_e(n,e,t){return(e=H_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H_e(n){var e=V_e(n,"string");return typeof e=="symbol"?e:e+""}function V_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VT(){return VT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VT.apply(null,arguments)}function Dq(n,e){if(n==null)return{};var t,r,i=K_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function K_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Nq=(n,e,t,r,i)=>{var s=Math.min(Math.abs(t)/2,Math.abs(r)/2),a=r>=0?1:-1,o=t>=0?1:-1,l=r>=0&&t>=0||r<0&&t<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=i[h]>s?s:i[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+r)),u+="L ".concat(n+o*d[3],",").concat(e+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+r-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+r-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+r,`
            L `).concat(n+o*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+r-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(r," h ").concat(-t," Z");return u},Lq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jJ=n=>{var e=co(n,Lq),t=F.useRef(null),[r,i]=F.useState(-1);F.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var $=t.current.getTotalLength();$&&i($)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:C}=e,B=F.useRef(o),S=F.useRef(l),I=F.useRef(s),T=F.useRef(a),R=F.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),M=Pk(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var D=Qn("recharts-rectangle",d);if(!C){var L=Ao(e),{radius:H}=L,k=Dq(L,Q_e);return F.createElement("path",VT({},k,{radius:typeof u=="number"?u:void 0,className:D,d:Nq(s,a,o,l,u)}))}var K=B.current,G=S.current,z=I.current,Z=T.current,ne="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),V=GJ(["strokeDasharray"],g,typeof h=="string"?h:Lq.animationEasing);return F.createElement(Uk,{animationId:M,key:M,canBegin:r>0,duration:g,easing:h,isActive:C,begin:v},$=>{var re=Ei(K,o,$),de=Ei(G,l,$),Ee=Ei(z,s,$),q=Ei(Z,a,$);t.current&&(B.current=re,S.current=de,I.current=Ee,T.current=q);var Y;b?$>0?Y={transition:V,strokeDasharray:J}:Y={strokeDasharray:ne}:Y={strokeDasharray:J};var Ae=Ao(e),{radius:me}=Ae,ie=Dq(Ae,k_e);return F.createElement("path",VT({},ie,{radius:typeof u=="number"?u:void 0,className:D,d:Nq(Ee,q,re,de,u),ref:t,style:Rq(Rq({},Y),e.style)}))})};function Qq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qq(Object(t),!0).forEach(function(r){G_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function G_e(n,e,t){return(e=z_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function z_e(n){var e=q_e(n,"string");return typeof e=="symbol"?e:e+""}function q_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var KT=Math.PI/180,$_e=n=>n*180/Math.PI,_i=(n,e,t,r)=>({x:n+Math.cos(-KT*r)*t,y:e+Math.sin(-KT*r)*t}),j_e=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},W_e=(n,e)=>{var{x:t,y:r}=n,{x:i,y:s}=e;return Math.sqrt((t-i)**2+(r-s)**2)},Y_e=(n,e)=>{var{x:t,y:r}=n,{cx:i,cy:s}=e,a=W_e({x:t,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:$_e(l),angleInRadian:l}},X_e=n=>{var{startAngle:e,endAngle:t}=n,r=Math.floor(e/360),i=Math.floor(t/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:t-s*360}},J_e=(n,e)=>{var{startAngle:t,endAngle:r}=e,i=Math.floor(t/360),s=Math.floor(r/360),a=Math.min(i,s);return n+a*360},Z_e=(n,e)=>{var{chartX:t,chartY:r}=n,{radius:i,angle:s}=Y_e({x:t,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=X_e(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?kq(kq({},e),{},{radius:i,angle:J_e(d,e)}):null};function WJ(n){var{cx:e,cy:t,radius:r,startAngle:i,endAngle:s}=n,a=_i(e,t,r,i),o=_i(e,t,r,s);return{points:[a,o],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}function nQ(){return nQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nQ.apply(null,arguments)}var eTe=(n,e)=>{var t=da(e-n),r=Math.min(Math.abs(e-n),359.999);return t*r},Mx=n=>{var{cx:e,cy:t,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+r,d=Math.asin(o/u)/KT,h=l?i:i+s*d,g=_i(e,t,u,h),v=_i(e,t,r,h),b=l?i-s*d:i,C=_i(e,t,u*Math.cos(d*KT),b);return{center:g,circleTangency:v,lineTangency:C,theta:d}},YJ=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=n,o=eTe(s,a),l=s+o,u=_i(e,t,i,s),d=_i(e,t,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var g=_i(e,t,r,s),v=_i(e,t,r,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},tTe=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=da(u-l),{circleTangency:h,lineTangency:g,theta:v}=Mx({cx:e,cy:t,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:C,theta:B}=Mx({cx:e,cy:t,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(l-u):Math.abs(l-u)-v-B;if(S<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):YJ({cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:R,theta:M}=Mx({cx:e,cy:t,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:L,theta:H}=Mx({cx:e,cy:t,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-M-H;if(k<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},nTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XJ=n=>{var e=co(n,nTe),{cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<i||u===d)return null;var g=Qn("recharts-sector",h),v=s-i,b=ko(a,v,0,!0),C;return b>0&&Math.abs(u-d)<360?C=tTe({cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):C=YJ({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),F.createElement("path",nQ({},Ao(e),{className:g,d:C}))};function rTe(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(k9(e)){if(n==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=_i(r,i,s,o),u=_i(r,i,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return WJ(e)}}var JP={},ZP={},eR={},Oq;function iTe(){return Oq||(Oq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Y9();function t(r){return e.isSymbol(r)?NaN:Number(r)}n.toNumber=t})(eR)),eR}var Hq;function sTe(){return Hq||(Hq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=iTe();function t(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}n.toFinite=t})(ZP)),ZP}var Vq;function aTe(){return Vq||(Vq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=X9(),t=sTe();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=t.toFinite(i),s===void 0?(s=i,i=0):s=t.toFinite(s),a=a===void 0?i<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}n.range=r})(JP)),JP}var tR,Kq;function oTe(){return Kq||(Kq=1,tR=aTe().range),tR}var ATe=oTe();const JJ=QA(ATe);function jd(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function lTe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Rk(n){let e,t,r;n.length!==2?(e=jd,t=(o,l)=>jd(n(o),l),r=(o,l)=>n(o)-l):(e=n===jd||n===lTe?n:uTe,t=n,r=n);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function uTe(){return 0}function ZJ(n){return n===null?NaN:+n}function*cTe(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const dTe=Rk(jd),cB=dTe.right;Rk(ZJ).center;class Gq extends Map{constructor(e,t=pTe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(zq(this,e))}has(e){return super.has(zq(this,e))}set(e,t){return super.set(fTe(this,e),t)}delete(e){return super.delete(hTe(this,e))}}function zq({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function fTe({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function hTe({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function pTe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function gTe(n=jd){if(n===jd)return e7;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function e7(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const mTe=Math.sqrt(50),vTe=Math.sqrt(10),yTe=Math.sqrt(2);function GT(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=mTe?10:s>=vTe?5:s>=yTe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?GT(n,e,t*2):[o,l,u]}function rQ(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,a]=r?GT(e,n,t):GT(n,e,t);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function iQ(n,e,t){return e=+e,n=+n,t=+t,GT(n,e,t)[2]}function sQ(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?iQ(e,n,t):iQ(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function qq(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function $q(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function t7(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?e7:gTe(i);r>t;){if(r-t>600){const l=r-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),b=Math.min(r,Math.floor(e+(l-u)*h/l+g));t7(n,e,v,b,i)}const s=n[e];let a=t,o=r;for($0(n,t,e),i(n[r],s)>0&&$0(n,t,r);a<o;){for($0(n,a,o),++a,--o;i(n[a],s)<0;)++a;for(;i(n[o],s)>0;)--o}i(n[t],s)===0?$0(n,t,o):(++o,$0(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function $0(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function wTe(n,e,t){if(n=Float64Array.from(cTe(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return $q(n);if(e>=1)return qq(n);var r,i=(r-1)*e,s=Math.floor(i),a=qq(t7(n,s).subarray(0,s+1)),o=$q(n.subarray(s+1));return a+(o-a)*(i-s)}}function bTe(n,e,t=ZJ){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(i-s)}}function CTe(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function fo(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Ku(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const aQ=Symbol("implicit");function Dk(){var n=new Gq,e=[],t=[],r=aQ;function i(s){let a=n.get(s);if(a===void 0){if(r!==aQ)return r;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new Gq;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Dk(e,t).unknown(r)},fo.apply(i,arguments),i}function Nk(){var n=Dk().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=i<r,b=v?i:r,C=v?r:i;s=(C-b)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),b+=(C-b-s*(g-l))*d,a=s*(1-l),o&&(b=Math.round(b),a=Math.round(a));var B=CTe(g).map(function(S){return b+s*S});return t(v?B.reverse():B)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},n.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return Nk(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},fo.apply(h(),arguments)}function n7(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return n7(e())},n}function ETe(){return n7(Nk.apply(null,arguments).paddingInner(1))}function Lk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function r7(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function dB(){}var cb=.7,zT=1/cb,um="\\s*([+-]?\\d+)\\s*",db="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",UA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BTe=/^#([0-9a-f]{3,8})$/,STe=new RegExp(`^rgb\\(${um},${um},${um}\\)$`),xTe=new RegExp(`^rgb\\(${UA},${UA},${UA}\\)$`),_Te=new RegExp(`^rgba\\(${um},${um},${um},${db}\\)$`),TTe=new RegExp(`^rgba\\(${UA},${UA},${UA},${db}\\)$`),ITe=new RegExp(`^hsl\\(${db},${UA},${UA}\\)$`),FTe=new RegExp(`^hsla\\(${db},${UA},${UA},${db}\\)$`),jq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lk(dB,fb,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Wq,formatHex:Wq,formatHex8:MTe,formatHsl:UTe,formatRgb:Yq,toString:Yq});function Wq(){return this.rgb().formatHex()}function MTe(){return this.rgb().formatHex8()}function UTe(){return i7(this).formatHsl()}function Yq(){return this.rgb().formatRgb()}function fb(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=BTe.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?Xq(e):t===3?new Is(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Ux(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Ux(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=STe.exec(n))?new Is(e[1],e[2],e[3],1):(e=xTe.exec(n))?new Is(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_Te.exec(n))?Ux(e[1],e[2],e[3],e[4]):(e=TTe.exec(n))?Ux(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ITe.exec(n))?e$(e[1],e[2]/100,e[3]/100,1):(e=FTe.exec(n))?e$(e[1],e[2]/100,e[3]/100,e[4]):jq.hasOwnProperty(n)?Xq(jq[n]):n==="transparent"?new Is(NaN,NaN,NaN,0):null}function Xq(n){return new Is(n>>16&255,n>>8&255,n&255,1)}function Ux(n,e,t,r){return r<=0&&(n=e=t=NaN),new Is(n,e,t,r)}function PTe(n){return n instanceof dB||(n=fb(n)),n?(n=n.rgb(),new Is(n.r,n.g,n.b,n.opacity)):new Is}function oQ(n,e,t,r){return arguments.length===1?PTe(n):new Is(n,e,t,r??1)}function Is(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}Lk(Is,oQ,r7(dB,{brighter(n){return n=n==null?zT:Math.pow(zT,n),new Is(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?cb:Math.pow(cb,n),new Is(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Is(bp(this.r),bp(this.g),bp(this.b),qT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jq,formatHex:Jq,formatHex8:RTe,formatRgb:Zq,toString:Zq}));function Jq(){return`#${Vf(this.r)}${Vf(this.g)}${Vf(this.b)}`}function RTe(){return`#${Vf(this.r)}${Vf(this.g)}${Vf(this.b)}${Vf((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zq(){const n=qT(this.opacity);return`${n===1?"rgb(":"rgba("}${bp(this.r)}, ${bp(this.g)}, ${bp(this.b)}${n===1?")":`, ${n})`}`}function qT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function bp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Vf(n){return n=bp(n),(n<16?"0":"")+n.toString(16)}function e$(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new No(n,e,t,r)}function i7(n){if(n instanceof No)return new No(n.h,n.s,n.l,n.opacity);if(n instanceof dB||(n=fb(n)),!n)return new No;if(n instanceof No)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(t-r)/o+(t<r)*6:t===s?a=(r-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new No(a,o,l,n.opacity)}function DTe(n,e,t,r){return arguments.length===1?i7(n):new No(n,e,t,r??1)}function No(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Lk(No,DTe,r7(dB,{brighter(n){return n=n==null?zT:Math.pow(zT,n),new No(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?cb:Math.pow(cb,n),new No(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Is(nR(n>=240?n-240:n+120,i,r),nR(n,i,r),nR(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new No(t$(this.h),Px(this.s),Px(this.l),qT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=qT(this.opacity);return`${n===1?"hsl(":"hsla("}${t$(this.h)}, ${Px(this.s)*100}%, ${Px(this.l)*100}%${n===1?")":`, ${n})`}`}}));function t$(n){return n=(n||0)%360,n<0?n+360:n}function Px(n){return Math.max(0,Math.min(1,n||0))}function nR(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Qk=n=>()=>n;function NTe(n,e){return function(t){return n+t*e}}function LTe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function QTe(n){return(n=+n)==1?s7:function(e,t){return t-e?LTe(e,t,n):Qk(isNaN(e)?t:e)}}function s7(n,e){var t=e-n;return t?NTe(n,t):Qk(isNaN(n)?e:n)}const n$=(function n(e){var t=QTe(e);function r(i,s){var a=t((i=oQ(i)).r,(s=oQ(s)).r),o=t(i.g,s.g),l=t(i.b,s.b),u=s7(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=n,r})(1);function kTe(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function OTe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function HTe(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),a;for(a=0;a<r;++a)i[a]=Fy(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function VTe(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function $T(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function KTe(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=Fy(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var AQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rR=new RegExp(AQ.source,"g");function GTe(n){return function(){return n}}function zTe(n){return function(e){return n(e)+""}}function qTe(n,e){var t=AQ.lastIndex=rR.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(r=AQ.exec(n))&&(i=rR.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:$T(r,i)})),t=rR.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?zTe(l[0].x):GTe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function Fy(n,e){var t=typeof e,r;return e==null||t==="boolean"?Qk(e):(t==="number"?$T:t==="string"?(r=fb(e))?(e=r,n$):qTe:e instanceof fb?n$:e instanceof Date?VTe:OTe(e)?kTe:Array.isArray(e)?HTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KTe:$T)(n,e)}function kk(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function $Te(n,e){e===void 0&&(e=n,n=Fy);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function jTe(n){return function(){return n}}function jT(n){return+n}var r$=[0,1];function rs(n){return n}function lQ(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:jTe(isNaN(e)?NaN:.5)}function WTe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function YTe(n,e,t){var r=n[0],i=n[1],s=e[0],a=e[1];return i<r?(r=lQ(i,r),s=t(a,s)):(r=lQ(r,i),s=t(s,a)),function(o){return s(r(o))}}function XTe(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=lQ(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=cB(n,o,1,r)-1;return s[l](i[l](o))}}function fB(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function xI(){var n=r$,e=r$,t=Fy,r,i,s,a=rs,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==rs&&(a=WTe(n[0],n[g-1])),o=g>2?XTe:YTe,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(r),e,t)))(r(a(g)))}return h.invert=function(g){return a(i((u||(u=o(e,n.map(r),$T)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,jT),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=kk,d()},h.clamp=function(g){return arguments.length?(a=g?!0:rs,d()):a!==rs},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return r=g,i=v,d()}}function Ok(){return xI()(rs,rs)}function JTe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function WT(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function gy(n){return n=WT(Math.abs(n)),n?n[1]:NaN}function ZTe(n,e){return function(t,r){for(var i=t.length,s=[],a=0,o=n[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(t.substring(i-=o,i+o)),!((l+=o+1)>r));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function e1e(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var t1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hb(n){if(!(e=t1e.exec(n)))throw new Error("invalid format: "+n);var e;return new Hk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hb.prototype=Hk.prototype;function Hk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Hk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function n1e(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var a7;function r1e(n,e){var t=WT(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(a7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+WT(n,Math.max(0,e+s-1))[0]}function i$(n,e){var t=WT(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const s$={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:JTe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>i$(n*100,e),r:i$,s:r1e,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function a$(n){return n}var o$=Array.prototype.map,A$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function i1e(n){var e=n.grouping===void 0||n.thousands===void 0?a$:ZTe(o$.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?a$:e1e(o$.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=hb(h);var g=h.fill,v=h.align,b=h.sign,C=h.symbol,B=h.zero,S=h.width,I=h.comma,T=h.precision,R=h.trim,M=h.type;M==="n"?(I=!0,M="g"):s$[M]||(T===void 0&&(T=12),R=!0,M="g"),(B||g==="0"&&v==="=")&&(B=!0,g="0",v="=");var D=C==="$"?t:C==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",L=C==="$"?r:/[%p]/.test(M)?a:"",H=s$[M],k=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function K(G){var z=D,Z=L,ne,J,V;if(M==="c")Z=H(G)+Z,G="";else{G=+G;var $=G<0||1/G<0;if(G=isNaN(G)?l:H(Math.abs(G),T),R&&(G=n1e(G)),$&&+G==0&&b!=="+"&&($=!1),z=($?b==="("?b:o:b==="-"||b==="("?"":b)+z,Z=(M==="s"?A$[8+a7/3]:"")+Z+($&&b==="("?")":""),k){for(ne=-1,J=G.length;++ne<J;)if(V=G.charCodeAt(ne),48>V||V>57){Z=(V===46?i+G.slice(ne+1):G.slice(ne))+Z,G=G.slice(0,ne);break}}}I&&!B&&(G=e(G,1/0));var re=z.length+G.length+Z.length,de=re<S?new Array(S-re+1).join(g):"";switch(I&&B&&(G=e(de+G,de.length?S-Z.length:1/0),de=""),v){case"<":G=z+G+Z+de;break;case"=":G=z+de+G+Z;break;case"^":G=de.slice(0,re=de.length>>1)+z+G+Z+de.slice(re);break;default:G=de+z+G+Z;break}return s(G)}return K.toString=function(){return h+""},K}function d(h,g){var v=u((h=hb(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(gy(g)/3)))*3,C=Math.pow(10,-b),B=A$[8+b/3];return function(S){return v(C*S)+B}}return{format:u,formatPrefix:d}}var Rx,Vk,o7;s1e({thousands:",",grouping:[3],currency:["$",""]});function s1e(n){return Rx=i1e(n),Vk=Rx.format,o7=Rx.formatPrefix,Rx}function a1e(n){return Math.max(0,-gy(Math.abs(n)))}function o1e(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gy(e)/3)))*3-gy(Math.abs(n)))}function A1e(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,gy(e)-gy(n))+1}function A7(n,e,t,r){var i=sQ(n,e,t),s;switch(r=hb(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=o1e(i,a))&&(r.precision=s),o7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=A1e(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=a1e(i))&&(r.precision=s-(r.type==="%")*2);break}}return Vk(r)}function sf(n){var e=n.domain;return n.ticks=function(t){var r=e();return rQ(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return A7(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=iQ(a,o,t),u===l)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function l7(){var n=Ok();return n.copy=function(){return fB(n,l7())},fo.apply(n,arguments),sf(n)}function u7(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,jT),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return u7(n).unknown(e)},n=arguments.length?Array.from(n,jT):[0,1],sf(t)}function c7(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],a;return s<i&&(a=t,t=r,r=a,a=i,i=s,s=a),n[t]=e.floor(i),n[r]=e.ceil(s),n}function l$(n){return Math.log(n)}function u$(n){return Math.exp(n)}function l1e(n){return-Math.log(-n)}function u1e(n){return-Math.exp(-n)}function c1e(n){return isFinite(n)?+("1e"+n):n<0?0:n}function d1e(n){return n===10?c1e:n===Math.E?Math.exp:e=>Math.pow(n,e)}function f1e(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function c$(n){return(e,t)=>-n(-e,t)}function Kk(n){const e=n(l$,u$),t=e.domain;let r=10,i,s;function a(){return i=f1e(r),s=d1e(r),t()[0]<0?(i=c$(i),s=c$(s),n(l1e,u1e)):n(l$,u$),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=i(u),v=i(d),b,C;const B=o==null?10:+o;let S=[];if(!(r%1)&&v-g<B){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(b=1;b<r;++b)if(C=g<0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;S.push(C)}}else for(;g<=v;++g)for(b=r-1;b>=1;--b)if(C=g>0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;S.push(C)}S.length*2<B&&(S=rQ(u,d,B))}else S=rQ(g,v,Math.min(v-g,B)).map(s);return h?S.reverse():S},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hb(l)).precision==null&&(l.trim=!0),l=Vk(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?l(d):""}},e.nice=()=>t(c7(t(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function d7(){const n=Kk(xI()).domain([1,10]);return n.copy=()=>fB(n,d7()).base(n.base()),fo.apply(n,arguments),n}function d$(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function f$(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Gk(n){var e=1,t=n(d$(e),f$(e));return t.constant=function(r){return arguments.length?n(d$(e=+r),f$(e)):e},sf(t)}function f7(){var n=Gk(xI());return n.copy=function(){return fB(n,f7()).constant(n.constant())},fo.apply(n,arguments)}function h$(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function h1e(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function p1e(n){return n<0?-n*n:n*n}function zk(n){var e=n(rs,rs),t=1;function r(){return t===1?n(rs,rs):t===.5?n(h1e,p1e):n(h$(t),h$(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},sf(e)}function qk(){var n=zk(xI());return n.copy=function(){return fB(n,qk()).exponent(n.exponent())},fo.apply(n,arguments),n}function g1e(){return qk.apply(null,arguments).exponent(.5)}function p$(n){return Math.sign(n)*n*n}function m1e(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function h7(){var n=Ok(),e=[0,1],t=!1,r;function i(s){var a=m1e(n(s));return isNaN(a)?r:t?Math.round(a):a}return i.invert=function(s){return n.invert(p$(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,jT)).map(p$)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return h7(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},fo.apply(i,arguments),sf(i)}function p7(){var n=[],e=[],t=[],r;function i(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=bTe(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[cB(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(jd),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return p7().domain(n).range(e).unknown(r)},fo.apply(s,arguments)}function g7(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[cB(r,l,0,t)]:s}function o(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,r[0]]:u>=t?[r[t-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return g7().domain([n,e]).range(i).unknown(s)},fo.apply(sf(a),arguments)}function m7(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[cB(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return m7().domain(n).range(e).unknown(t)},fo.apply(i,arguments)}const iR=new Date,sR=new Date;function Kr(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},i.filter=s=>Kr(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(i.count=(s,a)=>(iR.setTime(+s),sR.setTime(+a),n(iR),n(sR),Math.floor(t(iR,sR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const YT=Kr(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);YT.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Kr(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):YT);YT.range;const hu=1e3,ro=hu*60,pu=ro*60,Iu=pu*24,$k=Iu*7,g$=Iu*30,aR=Iu*365,Kf=Kr(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*hu)},(n,e)=>(e-n)/hu,n=>n.getUTCSeconds());Kf.range;const jk=Kr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*hu)},(n,e)=>{n.setTime(+n+e*ro)},(n,e)=>(e-n)/ro,n=>n.getMinutes());jk.range;const Wk=Kr(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*ro)},(n,e)=>(e-n)/ro,n=>n.getUTCMinutes());Wk.range;const Yk=Kr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*hu-n.getMinutes()*ro)},(n,e)=>{n.setTime(+n+e*pu)},(n,e)=>(e-n)/pu,n=>n.getHours());Yk.range;const Xk=Kr(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*pu)},(n,e)=>(e-n)/pu,n=>n.getUTCHours());Xk.range;const hB=Kr(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*ro)/Iu,n=>n.getDate()-1);hB.range;const _I=Kr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Iu,n=>n.getUTCDate()-1);_I.range;const v7=Kr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Iu,n=>Math.floor(n/Iu));v7.range;function Lp(n){return Kr(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ro)/$k)}const TI=Lp(0),XT=Lp(1),v1e=Lp(2),y1e=Lp(3),my=Lp(4),w1e=Lp(5),b1e=Lp(6);TI.range;XT.range;v1e.range;y1e.range;my.range;w1e.range;b1e.range;function Qp(n){return Kr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/$k)}const II=Qp(0),JT=Qp(1),C1e=Qp(2),E1e=Qp(3),vy=Qp(4),B1e=Qp(5),S1e=Qp(6);II.range;JT.range;C1e.range;E1e.range;vy.range;B1e.range;S1e.range;const Jk=Kr(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());Jk.range;const Zk=Kr(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Zk.range;const Fu=Kr(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Fu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Kr(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Fu.range;const Mu=Kr(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Mu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Kr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Mu.range;function y7(n,e,t,r,i,s){const a=[[Kf,1,hu],[Kf,5,5*hu],[Kf,15,15*hu],[Kf,30,30*hu],[s,1,ro],[s,5,5*ro],[s,15,15*ro],[s,30,30*ro],[i,1,pu],[i,3,3*pu],[i,6,6*pu],[i,12,12*pu],[r,1,Iu],[r,2,2*Iu],[t,1,$k],[e,1,g$],[e,3,3*g$],[n,1,aR]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),b=v?v.range(u,+d+1):[];return g?b.reverse():b}function l(u,d,h){const g=Math.abs(d-u)/h,v=Rk(([,,B])=>B).right(a,g);if(v===a.length)return n.every(sQ(u/aR,d/aR,h));if(v===0)return YT.every(Math.max(sQ(u,d,h),1));const[b,C]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(C)}return[o,l]}const[x1e,_1e]=y7(Mu,Zk,II,v7,Xk,Wk),[T1e,I1e]=y7(Fu,Jk,TI,hB,Yk,jk);function oR(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function AR(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function j0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function F1e(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=W0(i),d=Y0(i),h=W0(s),g=Y0(s),v=W0(a),b=Y0(a),C=W0(o),B=Y0(o),S=W0(l),I=Y0(l),T={a:$,A:re,b:de,B:Ee,c:null,d:C$,e:C$,f:Z1e,g:lIe,G:cIe,H:Y1e,I:X1e,j:J1e,L:w7,m:eIe,M:tIe,p:q,q:Y,Q:S$,s:x$,S:nIe,u:rIe,U:iIe,V:sIe,w:aIe,W:oIe,x:null,X:null,y:AIe,Y:uIe,Z:dIe,"%":B$},R={a:Ae,A:me,b:ie,B:he,c:null,d:E$,e:E$,f:gIe,g:xIe,G:TIe,H:fIe,I:hIe,j:pIe,L:C7,m:mIe,M:vIe,p:ce,q:Se,Q:S$,s:x$,S:yIe,u:wIe,U:bIe,V:CIe,w:EIe,W:BIe,x:null,X:null,y:SIe,Y:_Ie,Z:IIe,"%":B$},M={a:K,A:G,b:z,B:Z,c:ne,d:w$,e:w$,f:q1e,g:y$,G:v$,H:b$,I:b$,j:V1e,L:z1e,m:H1e,M:K1e,p:k,q:O1e,Q:j1e,s:W1e,S:G1e,u:D1e,U:N1e,V:L1e,w:R1e,W:Q1e,x:J,X:V,y:y$,Y:v$,Z:k1e,"%":$1e};T.x=D(t,T),T.X=D(r,T),T.c=D(e,T),R.x=D(t,R),R.X=D(r,R),R.c=D(e,R);function D(ee,Me){return function(Te){var ve=[],vt=-1,$e=0,Gt=ee.length,It,zn,nt;for(Te instanceof Date||(Te=new Date(+Te));++vt<Gt;)ee.charCodeAt(vt)===37&&(ve.push(ee.slice($e,vt)),(zn=m$[It=ee.charAt(++vt)])!=null?It=ee.charAt(++vt):zn=It==="e"?" ":"0",(nt=Me[It])&&(It=nt(Te,zn)),ve.push(It),$e=vt+1);return ve.push(ee.slice($e,vt)),ve.join("")}}function L(ee,Me){return function(Te){var ve=j0(1900,void 0,1),vt=H(ve,ee,Te+="",0),$e,Gt;if(vt!=Te.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Me&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?($e=AR(j0(ve.y,0,1)),Gt=$e.getUTCDay(),$e=Gt>4||Gt===0?JT.ceil($e):JT($e),$e=_I.offset($e,(ve.V-1)*7),ve.y=$e.getUTCFullYear(),ve.m=$e.getUTCMonth(),ve.d=$e.getUTCDate()+(ve.w+6)%7):($e=oR(j0(ve.y,0,1)),Gt=$e.getDay(),$e=Gt>4||Gt===0?XT.ceil($e):XT($e),$e=hB.offset($e,(ve.V-1)*7),ve.y=$e.getFullYear(),ve.m=$e.getMonth(),ve.d=$e.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Gt="Z"in ve?AR(j0(ve.y,0,1)).getUTCDay():oR(j0(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Gt+5)%7:ve.w+ve.U*7-(Gt+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,AR(ve)):oR(ve)}}function H(ee,Me,Te,ve){for(var vt=0,$e=Me.length,Gt=Te.length,It,zn;vt<$e;){if(ve>=Gt)return-1;if(It=Me.charCodeAt(vt++),It===37){if(It=Me.charAt(vt++),zn=M[It in m$?Me.charAt(vt++):It],!zn||(ve=zn(ee,Te,ve))<0)return-1}else if(It!=Te.charCodeAt(ve++))return-1}return ve}function k(ee,Me,Te){var ve=u.exec(Me.slice(Te));return ve?(ee.p=d.get(ve[0].toLowerCase()),Te+ve[0].length):-1}function K(ee,Me,Te){var ve=v.exec(Me.slice(Te));return ve?(ee.w=b.get(ve[0].toLowerCase()),Te+ve[0].length):-1}function G(ee,Me,Te){var ve=h.exec(Me.slice(Te));return ve?(ee.w=g.get(ve[0].toLowerCase()),Te+ve[0].length):-1}function z(ee,Me,Te){var ve=S.exec(Me.slice(Te));return ve?(ee.m=I.get(ve[0].toLowerCase()),Te+ve[0].length):-1}function Z(ee,Me,Te){var ve=C.exec(Me.slice(Te));return ve?(ee.m=B.get(ve[0].toLowerCase()),Te+ve[0].length):-1}function ne(ee,Me,Te){return H(ee,e,Me,Te)}function J(ee,Me,Te){return H(ee,t,Me,Te)}function V(ee,Me,Te){return H(ee,r,Me,Te)}function $(ee){return a[ee.getDay()]}function re(ee){return s[ee.getDay()]}function de(ee){return l[ee.getMonth()]}function Ee(ee){return o[ee.getMonth()]}function q(ee){return i[+(ee.getHours()>=12)]}function Y(ee){return 1+~~(ee.getMonth()/3)}function Ae(ee){return a[ee.getUTCDay()]}function me(ee){return s[ee.getUTCDay()]}function ie(ee){return l[ee.getUTCMonth()]}function he(ee){return o[ee.getUTCMonth()]}function ce(ee){return i[+(ee.getUTCHours()>=12)]}function Se(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var Me=D(ee+="",T);return Me.toString=function(){return ee},Me},parse:function(ee){var Me=L(ee+="",!1);return Me.toString=function(){return ee},Me},utcFormat:function(ee){var Me=D(ee+="",R);return Me.toString=function(){return ee},Me},utcParse:function(ee){var Me=L(ee+="",!0);return Me.toString=function(){return ee},Me}}}var m$={"-":"",_:" ",0:"0"},Ai=/^\s*\d+/,M1e=/^%/,U1e=/[\\^$*+?|[\]().{}]/g;function Ht(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function P1e(n){return n.replace(U1e,"\\$&")}function W0(n){return new RegExp("^(?:"+n.map(P1e).join("|")+")","i")}function Y0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function R1e(n,e,t){var r=Ai.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function D1e(n,e,t){var r=Ai.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function N1e(n,e,t){var r=Ai.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function L1e(n,e,t){var r=Ai.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function Q1e(n,e,t){var r=Ai.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function v$(n,e,t){var r=Ai.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function y$(n,e,t){var r=Ai.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function k1e(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function O1e(n,e,t){var r=Ai.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function H1e(n,e,t){var r=Ai.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function w$(n,e,t){var r=Ai.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function V1e(n,e,t){var r=Ai.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function b$(n,e,t){var r=Ai.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function K1e(n,e,t){var r=Ai.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function G1e(n,e,t){var r=Ai.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function z1e(n,e,t){var r=Ai.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function q1e(n,e,t){var r=Ai.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function $1e(n,e,t){var r=M1e.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function j1e(n,e,t){var r=Ai.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function W1e(n,e,t){var r=Ai.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function C$(n,e){return Ht(n.getDate(),e,2)}function Y1e(n,e){return Ht(n.getHours(),e,2)}function X1e(n,e){return Ht(n.getHours()%12||12,e,2)}function J1e(n,e){return Ht(1+hB.count(Fu(n),n),e,3)}function w7(n,e){return Ht(n.getMilliseconds(),e,3)}function Z1e(n,e){return w7(n,e)+"000"}function eIe(n,e){return Ht(n.getMonth()+1,e,2)}function tIe(n,e){return Ht(n.getMinutes(),e,2)}function nIe(n,e){return Ht(n.getSeconds(),e,2)}function rIe(n){var e=n.getDay();return e===0?7:e}function iIe(n,e){return Ht(TI.count(Fu(n)-1,n),e,2)}function b7(n){var e=n.getDay();return e>=4||e===0?my(n):my.ceil(n)}function sIe(n,e){return n=b7(n),Ht(my.count(Fu(n),n)+(Fu(n).getDay()===4),e,2)}function aIe(n){return n.getDay()}function oIe(n,e){return Ht(XT.count(Fu(n)-1,n),e,2)}function AIe(n,e){return Ht(n.getFullYear()%100,e,2)}function lIe(n,e){return n=b7(n),Ht(n.getFullYear()%100,e,2)}function uIe(n,e){return Ht(n.getFullYear()%1e4,e,4)}function cIe(n,e){var t=n.getDay();return n=t>=4||t===0?my(n):my.ceil(n),Ht(n.getFullYear()%1e4,e,4)}function dIe(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ht(e/60|0,"0",2)+Ht(e%60,"0",2)}function E$(n,e){return Ht(n.getUTCDate(),e,2)}function fIe(n,e){return Ht(n.getUTCHours(),e,2)}function hIe(n,e){return Ht(n.getUTCHours()%12||12,e,2)}function pIe(n,e){return Ht(1+_I.count(Mu(n),n),e,3)}function C7(n,e){return Ht(n.getUTCMilliseconds(),e,3)}function gIe(n,e){return C7(n,e)+"000"}function mIe(n,e){return Ht(n.getUTCMonth()+1,e,2)}function vIe(n,e){return Ht(n.getUTCMinutes(),e,2)}function yIe(n,e){return Ht(n.getUTCSeconds(),e,2)}function wIe(n){var e=n.getUTCDay();return e===0?7:e}function bIe(n,e){return Ht(II.count(Mu(n)-1,n),e,2)}function E7(n){var e=n.getUTCDay();return e>=4||e===0?vy(n):vy.ceil(n)}function CIe(n,e){return n=E7(n),Ht(vy.count(Mu(n),n)+(Mu(n).getUTCDay()===4),e,2)}function EIe(n){return n.getUTCDay()}function BIe(n,e){return Ht(JT.count(Mu(n)-1,n),e,2)}function SIe(n,e){return Ht(n.getUTCFullYear()%100,e,2)}function xIe(n,e){return n=E7(n),Ht(n.getUTCFullYear()%100,e,2)}function _Ie(n,e){return Ht(n.getUTCFullYear()%1e4,e,4)}function TIe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?vy(n):vy.ceil(n),Ht(n.getUTCFullYear()%1e4,e,4)}function IIe(){return"+0000"}function B$(){return"%"}function S$(n){return+n}function x$(n){return Math.floor(+n/1e3)}var Tg,B7,S7;FIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FIe(n){return Tg=F1e(n),B7=Tg.format,Tg.parse,S7=Tg.utcFormat,Tg.utcParse,Tg}function MIe(n){return new Date(n)}function UIe(n){return n instanceof Date?+n:+new Date(+n)}function eO(n,e,t,r,i,s,a,o,l,u){var d=Ok(),h=d.invert,g=d.domain,v=u(".%L"),b=u(":%S"),C=u("%I:%M"),B=u("%I %p"),S=u("%a %d"),I=u("%b %d"),T=u("%B"),R=u("%Y");function M(D){return(l(D)<D?v:o(D)<D?b:a(D)<D?C:s(D)<D?B:r(D)<D?i(D)<D?S:I:t(D)<D?T:R)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?g(Array.from(D,UIe)):g().map(MIe)},d.ticks=function(D){var L=g();return n(L[0],L[L.length-1],D??10)},d.tickFormat=function(D,L){return L==null?M:u(L)},d.nice=function(D){var L=g();return(!D||typeof D.range!="function")&&(D=e(L[0],L[L.length-1],D??10)),D?g(c7(L,D)):d},d.copy=function(){return fB(d,eO(n,e,t,r,i,s,a,o,l,u))},d}function PIe(){return fo.apply(eO(T1e,I1e,Fu,Jk,TI,hB,Yk,jk,Kf,B7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function RIe(){return fo.apply(eO(x1e,_1e,Mu,Zk,II,_I,Xk,Wk,Kf,S7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function FI(){var n=0,e=1,t,r,i,s,a=rs,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-t)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,b;return arguments.length?([v,b]=g,a=h(v,b),u):[a(0),a(1)]}}return u.range=d(Fy),u.rangeRound=d(kk),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),r=h(e),i=t===r?0:1/(r-t),u}}function af(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function x7(){var n=sf(FI()(rs));return n.copy=function(){return af(n,x7())},Ku.apply(n,arguments)}function _7(){var n=Kk(FI()).domain([1,10]);return n.copy=function(){return af(n,_7()).base(n.base())},Ku.apply(n,arguments)}function T7(){var n=Gk(FI());return n.copy=function(){return af(n,T7()).constant(n.constant())},Ku.apply(n,arguments)}function tO(){var n=zk(FI());return n.copy=function(){return af(n,tO()).exponent(n.exponent())},Ku.apply(n,arguments)}function DIe(){return tO.apply(null,arguments).exponent(.5)}function I7(){var n=[],e=rs;function t(r){if(r!=null&&!isNaN(r=+r))return e((cB(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(jd),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>wTe(n,s/r))},t.copy=function(){return I7(e).domain(n)},Ku.apply(t,arguments)}function MI(){var n=0,e=.5,t=1,r=1,i,s,a,o,l,u=rs,d,h=!1,g;function v(C){return isNaN(C=+C)?g:(C=.5+((C=+d(C))-s)*(r*C<r*s?o:l),u(h?Math.max(0,Math.min(1,C)):C))}v.domain=function(C){return arguments.length?([n,e,t]=C,i=d(n=+n),s=d(e=+e),a=d(t=+t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v):[n,e,t]},v.clamp=function(C){return arguments.length?(h=!!C,v):h},v.interpolator=function(C){return arguments.length?(u=C,v):u};function b(C){return function(B){var S,I,T;return arguments.length?([S,I,T]=B,u=$Te(C,[S,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=b(Fy),v.rangeRound=b(kk),v.unknown=function(C){return arguments.length?(g=C,v):g},function(C){return d=C,i=C(n),s=C(e),a=C(t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function F7(){var n=sf(MI()(rs));return n.copy=function(){return af(n,F7())},Ku.apply(n,arguments)}function M7(){var n=Kk(MI()).domain([.1,1,10]);return n.copy=function(){return af(n,M7()).base(n.base())},Ku.apply(n,arguments)}function U7(){var n=Gk(MI());return n.copy=function(){return af(n,U7()).constant(n.constant())},Ku.apply(n,arguments)}function nO(){var n=zk(MI());return n.copy=function(){return af(n,nO()).exponent(n.exponent())},Ku.apply(n,arguments)}function NIe(){return nO.apply(null,arguments).exponent(.5)}const Rw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nk,scaleDiverging:F7,scaleDivergingLog:M7,scaleDivergingPow:nO,scaleDivergingSqrt:NIe,scaleDivergingSymlog:U7,scaleIdentity:u7,scaleImplicit:aQ,scaleLinear:l7,scaleLog:d7,scaleOrdinal:Dk,scalePoint:ETe,scalePow:qk,scaleQuantile:p7,scaleQuantize:g7,scaleRadial:h7,scaleSequential:x7,scaleSequentialLog:_7,scaleSequentialPow:tO,scaleSequentialQuantile:I7,scaleSequentialSqrt:DIe,scaleSequentialSymlog:T7,scaleSqrt:g1e,scaleSymlog:f7,scaleThreshold:m7,scaleTime:PIe,scaleUtc:RIe,tickFormat:A7},Symbol.toStringTag,{value:"Module"}));var of=n=>n.chartData,LIe=ue([of],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),rO=(n,e,t,r)=>r?LIe(n):of(n);function ef(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(mr(e)&&mr(t))return!0}return!1}function _$(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function P7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,r]=n,i,s;if(mr(t))i=t;else if(typeof t=="function")return;if(mr(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(ef(a))return a}}function QIe(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var r=n(e,t);if(ef(r))return _$(r,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[i,s]=n,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Je(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&nq.test(i)){var l=nq.exec(i);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(Je(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&rq.test(s)){var d=rq.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(ef(g))return e==null?g:_$(g,e,t)}}}var My=1e9,kIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sO,Gn=!0,uo="[DecimalError] ",Cp=uo+"Invalid argument: ",iO=uo+"Exponent out of range: ",Uy=Math.floor,Nf=Math.pow,OIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ca,ii=1e7,Ln=7,R7=9007199254740991,ZT=Uy(R7/Ln),Oe={};Oe.absoluteValue=Oe.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Oe.comparedTo=Oe.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Ln;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Oe.dividedBy=Oe.div=function(n){return yu(this,new this.constructor(n))};Oe.dividedToIntegerBy=Oe.idiv=function(n){var e=this,t=e.constructor;return En(yu(e,new t(n),0,1),t.precision)};Oe.equals=Oe.eq=function(n){return!this.cmp(n)};Oe.exponent=function(){return Pr(this)};Oe.greaterThan=Oe.gt=function(n){return this.cmp(n)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(n){return this.cmp(n)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(n){return this.cmp(n)<0};Oe.lessThanOrEqualTo=Oe.lte=function(n){return this.cmp(n)<1};Oe.logarithm=Oe.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(ca))throw Error(uo+"NaN");if(t.s<1)throw Error(uo+(t.s?"NaN":"-Infinity"));return t.eq(ca)?new r(0):(Gn=!1,e=yu(pb(t,s),pb(n,s),s),Gn=!0,En(e,i))};Oe.minus=Oe.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?L7(e,n):D7(e,(n.s=-n.s,n))};Oe.modulo=Oe.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(uo+"NaN");return t.s?(Gn=!1,e=yu(t,n,0,1).times(n),Gn=!0,t.minus(e)):En(new r(t),i)};Oe.naturalExponential=Oe.exp=function(){return N7(this)};Oe.naturalLogarithm=Oe.ln=function(){return pb(this)};Oe.negated=Oe.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Oe.plus=Oe.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?D7(e,n):L7(e,(n.s=-n.s,n))};Oe.precision=Oe.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Cp+n);if(e=Pr(i)+1,r=i.d.length-1,t=r*Ln+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};Oe.squareRoot=Oe.sqrt=function(){var n,e,t,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(uo+"NaN")}for(n=Pr(o),Gn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=MA(o.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=Uy((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=a=t+3;;)if(s=r,r=s.plus(yu(o,s,a+2)).times(.5),MA(s.d).slice(0,a)===(e=MA(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(En(s,t+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Gn=!0,En(r,t)};Oe.times=Oe.mul=function(n){var e,t,r,i,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+v[r]*g[i-r-1]+e,s[i--]=o%ii|0,e=o/ii|0;s[i]=(s[i]+e)%ii|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,Gn?En(n,h.precision):n};Oe.toDecimalPlaces=Oe.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(DA(n,0,My),e===void 0?e=r.rounding:DA(e,0,8),En(t,n+Pr(t)+1,e))};Oe.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=Ip(r,!0):(DA(n,0,My),e===void 0?e=i.rounding:DA(e,0,8),r=En(new i(r),n+1,e),t=Ip(r,!0,n+1)),t};Oe.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?Ip(i):(DA(n,0,My),e===void 0?e=s.rounding:DA(e,0,8),r=En(new s(i),n+Pr(i)+1,e),t=Ip(r.abs(),!1,n+Pr(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};Oe.toInteger=Oe.toint=function(){var n=this,e=n.constructor;return En(new e(n),Pr(n)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(n){var e,t,r,i,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(ca);if(o=new l(o),!o.s){if(n.s<1)throw Error(uo+"Infinity");return o}if(o.eq(ca))return o;if(r=l.precision,n.eq(ca))return En(o,r);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=R7){for(i=new l(ca),e=Math.ceil(r/Ln+4),Gn=!1;t%2&&(i=i.times(o),I$(i.d,e)),t=Uy(t/2),t!==0;)o=o.times(o),I$(o.d,e);return Gn=!0,n.s<0?new l(ca).div(i):En(i,r)}}else if(s<0)throw Error(uo+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Gn=!1,i=n.times(pb(o,r+u)),Gn=!0,i=N7(i),i.s=s,i};Oe.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=Pr(i),r=Ip(i,t<=s.toExpNeg||t>=s.toExpPos)):(DA(n,1,My),e===void 0?e=s.rounding:DA(e,0,8),i=En(new s(i),n,e),t=Pr(i),r=Ip(i,n<=t||t<=s.toExpNeg,n)),r};Oe.toSignificantDigits=Oe.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(DA(n,1,My),e===void 0?e=r.rounding:DA(e,0,8)),En(new r(t),n,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Pr(n),t=n.constructor;return Ip(n,e<=t.toExpNeg||e>=t.toExpPos)};function D7(n,e){var t,r,i,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),Gn?En(e,h):e;if(l=n.d,u=e.d,a=n.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(h/Ln),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/ii|0,l[s]%=ii;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Gn?En(e,h):e}function DA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Cp+n)}function MA(n){var e,t,r,i=n.length-1,s="",a=n[0];if(i>0){for(s+=a,e=1;e<i;e++)r=n[e]+"",t=Ln-r.length,t&&(s+=_c(t)),s+=r;a=n[e],r=a+"",t=Ln-r.length,t&&(s+=_c(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var yu=(function(){function n(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%ii|0,a=s/ii|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function t(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ii+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,d,h,g,v,b,C,B,S,I,T,R,M,D,L,H,k=r.constructor,K=r.s==i.s?1:-1,G=r.d,z=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(uo+"Division by zero");for(l=r.e-i.e,L=z.length,M=G.length,v=new k(K),b=v.d=[],u=0;z[u]==(G[u]||0);)++u;if(z[u]>(G[u]||0)&&--l,s==null?I=s=k.precision:a?I=s+(Pr(r)-Pr(i))+1:I=s,I<0)return new k(0);if(I=I/Ln+2|0,u=0,L==1)for(d=0,z=z[0],I++;(u<M||d)&&I--;u++)T=d*ii+(G[u]||0),b[u]=T/z|0,d=T%z|0;else{for(d=ii/(z[0]+1)|0,d>1&&(z=n(z,d),G=n(G,d),L=z.length,M=G.length),R=L,C=G.slice(0,L),B=C.length;B<L;)C[B++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=ii/2&&++D;do d=0,o=e(z,C,L,B),o<0?(S=C[0],L!=B&&(S=S*ii+(C[1]||0)),d=S/D|0,d>1?(d>=ii&&(d=ii-1),h=n(z,d),g=h.length,B=C.length,o=e(h,C,g,B),o==1&&(d--,t(h,L<g?H:z,g))):(d==0&&(o=d=1),h=z.slice()),g=h.length,g<B&&h.unshift(0),t(C,h,B),o==-1&&(B=C.length,o=e(z,C,L,B),o<1&&(d++,t(C,L<B?H:z,B))),B=C.length):o===0&&(d++,C=[0]),b[u++]=d,o&&C[0]?C[B++]=G[R]||0:(C=[G[R]],B=1);while((R++<M||C[0]!==void 0)&&I--)}return b[0]||b.shift(),v.e=l,En(v,a?s+Pr(v)+1:s)}})();function N7(n,e){var t,r,i,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(Pr(n)>16)throw Error(iO+Pr(n));if(!n.s)return new d(ca);for(Gn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(r=Math.log(Nf(2,u))/Math.LN10*2+5|0,o+=r,t=i=s=new d(ca),d.precision=o;;){if(i=En(i.times(n),o),t=t.times(++l),a=s.plus(yu(i,t,o)),MA(a.d).slice(0,o)===MA(s.d).slice(0,o)){for(;u--;)s=En(s.times(s),o);return d.precision=h,e==null?(Gn=!0,En(s,h)):s}s=a}}function Pr(n){for(var e=n.e*Ln,t=n.d[0];t>=10;t/=10)e++;return e}function lR(n,e,t){if(e>n.LN10.sd())throw Gn=!0,t&&(n.precision=t),Error(uo+"LN10 precision limit exceeded");return En(new n(n.LN10),e)}function _c(n){for(var e="";n--;)e+="0";return e}function pb(n,e){var t,r,i,s,a,o,l,u,d,h=1,g=10,v=n,b=v.d,C=v.constructor,B=C.precision;if(v.s<1)throw Error(uo+(v.s?"NaN":"-Infinity"));if(v.eq(ca))return new C(0);if(e==null?(Gn=!1,u=B):u=e,v.eq(10))return e==null&&(Gn=!0),lR(C,u);if(u+=g,C.precision=u,t=MA(b),r=t.charAt(0),s=Pr(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)v=v.times(n),t=MA(v.d),r=t.charAt(0),h++;s=Pr(v),r>1?(v=new C("0."+t),s++):v=new C(r+"."+t.slice(1))}else return l=lR(C,u+2,B).times(s+""),v=pb(new C(r+"."+t.slice(1)),u-g).plus(l),C.precision=B,e==null?(Gn=!0,En(v,B)):v;for(o=a=v=yu(v.minus(ca),v.plus(ca),u),d=En(v.times(v),u),i=3;;){if(a=En(a.times(d),u),l=o.plus(yu(a,new C(i),u)),MA(l.d).slice(0,u)===MA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(lR(C,u+2,B).times(s+""))),o=yu(o,new C(h),u),C.precision=B,e==null?(Gn=!0,En(o,B)):o;o=l,i+=2}}function T$(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=Uy(t/Ln),n.d=[],r=(t+1)%Ln,t<0&&(r+=Ln),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Ln;r<i;)n.d.push(+e.slice(r,r+=Ln));e=e.slice(r),r=Ln-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),Gn&&(n.e>ZT||n.e<-ZT))throw Error(iO+t)}else n.s=0,n.e=0,n.d=[0];return n}function En(n,e,t){var r,i,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Ln,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/Ln),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;r%=Ln,i=r-Ln+a}if(t!==void 0&&(s=Nf(10,a-i-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(r>0?i>0?u/Nf(10,a-i):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=Pr(n),h.length=1,e=e-s-1,h[0]=Nf(10,(Ln-e%Ln)%Ln),n.e=Uy(-e/Ln)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=Nf(10,Ln-r),h[d]=i>0?(u/Nf(10,a-i)%Nf(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==ii&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=ii)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Gn&&(n.e>ZT||n.e<-ZT))throw Error(iO+Pr(n));return n}function L7(n,e){var t,r,i,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),Gn?En(e,v):e;if(l=n.d,h=e.d,r=e.e,u=n.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,r=u,o=l.length),i=Math.max(Math.ceil(v/Ln),o)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=ii-1;--l[s],l[i]+=ii}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Gn?En(e,v):e):new g(0)}function Ip(n,e,t){var r,i=Pr(n),s=MA(n.d),a=s.length;return e?(t&&(r=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+_c(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+_c(-i-1)+s,t&&(r=t-a)>0&&(s+=_c(r))):i>=a?(s+=_c(i+1-a),t&&(r=t-i-1)>0&&(s=s+"."+_c(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-a)>0&&(i+1===a&&(s+="."),s+=_c(r))),n.s<0?"-"+s:s}function I$(n,e){if(n.length>e)return n.length=e,!0}function Q7(n){var e,t,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Cp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return T$(a,s.toString())}else if(typeof s!="string")throw Error(Cp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,OIe.test(s))T$(a,s);else throw Error(Cp+s)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Q7,i.config=i.set=HIe,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function HIe(n){if(!n||typeof n!="object")throw Error(uo+"Object expected");var e,t,r,i=["precision",1,My,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(Uy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(Cp+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(Cp+t+": "+r);return this}var sO=Q7(kIe);ca=new sO(1);const Jt=sO;var VIe=n=>n,k7={},O7=n=>n===k7,F$=n=>function e(){return arguments.length===0||arguments.length===1&&O7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},H7=(n,e)=>n===1?e:F$(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=r.filter(a=>a!==k7).length;return s>=n?e(...r):H7(n-s,F$(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=r.map(d=>O7(d)?o.shift():d);return e(...u,...o)}))}),KIe=n=>H7(n.length,n),uQ=(n,e)=>{for(var t=[],r=n;r<e;++r)t[r-n]=r;return t},GIe=KIe((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),zIe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return VIe;var i=t.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},cQ=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function V7(n){var e;return n===0?e=1:e=Math.floor(new Jt(n).abs().log(10).toNumber())+1,e}function K7(n,e,t){for(var r=new Jt(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}var G7=n=>{var[e,t]=n,[r,i]=[e,t];return e>t&&([r,i]=[t,e]),[r,i]},z7=(n,e,t)=>{if(n.lte(0))return new Jt(0);var r=V7(n.toNumber()),i=new Jt(10).pow(r),s=n.div(i),a=r!==1?.05:.1,o=new Jt(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(i);return e?new Jt(l.toNumber()):new Jt(Math.ceil(l.toNumber()))},qIe=(n,e,t)=>{var r=new Jt(1),i=new Jt(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new Jt(10).pow(V7(n)-1),i=new Jt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Jt(Math.floor(n)))}else n===0?i=new Jt(Math.floor((e-1)/2)):t||(i=new Jt(Math.floor(n)));var a=Math.floor((e-1)/2),o=zIe(GIe(l=>i.add(new Jt(l-a).mul(r)).toNumber()),uQ);return o(0,e)},q7=function(e,t,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Jt(0),tickMin:new Jt(0),tickMax:new Jt(0)};var a=z7(new Jt(t).sub(e).div(r-1),i,s),o;e<=0&&t>=0?o=new Jt(0):(o=new Jt(e).add(t).div(2),o=o.sub(new Jt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new Jt(t).sub(o).div(a).toNumber()),d=l+u+1;return d>r?q7(e,t,r,i,s+1):(d<r&&(u=t>0?u+(r-d):u,l=t>0?l:l+(r-d)),{step:a,tickMin:o.sub(new Jt(l).mul(a)),tickMax:o.add(new Jt(u).mul(a))})},$Ie=function(e){var[t,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=G7([t,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...uQ(0,i-1).map(()=>1/0)]:[...uQ(0,i-1).map(()=>-1/0),l];return t>r?cQ(u):u}if(o===l)return qIe(o,i,s);var{step:d,tickMin:h,tickMax:g}=q7(o,l,a,s,0),v=K7(h,g.add(new Jt(.1).mul(d)),d);return t>r?cQ(v):v},jIe=function(e,t){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=G7([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var l=Math.max(t,2),u=z7(new Jt(o).sub(a).div(l-1),s,0),d=[...K7(new Jt(a),new Jt(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),r>i?cQ(d):d},$7=n=>n.rootProps.maxBarSize,WIe=n=>n.rootProps.barGap,j7=n=>n.rootProps.barCategoryGap,YIe=n=>n.rootProps.barSize,UI=n=>n.rootProps.stackOffset,W7=n=>n.rootProps.reverseStackOrder,aO=n=>n.options.chartName,oO=n=>n.rootProps.syncId,Y7=n=>n.rootProps.syncMethod,AO=n=>n.options.eventEmitter,Fs={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},cu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},la={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},PI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},XIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cu.angleAxisId,includeHidden:!1,name:void 0,reversed:cu.reversed,scale:cu.scale,tick:cu.tick,tickCount:void 0,ticks:void 0,type:cu.type,unit:void 0},JIe={allowDataOverflow:la.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:la.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:la.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:la.scale,tick:la.tick,tickCount:la.tickCount,ticks:void 0,type:la.type,unit:void 0},ZIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cu.scale,tick:cu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eFe={allowDataOverflow:la.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:la.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:la.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:la.scale,tick:la.tick,tickCount:la.tickCount,ticks:void 0,type:"category",unit:void 0},lO=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?ZIe:XIe,uO=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?eFe:JIe,RI=n=>n.polarOptions,cO=ue([Hu,Vu,oi],j_e),X7=ue([RI,cO],(n,e)=>{if(n!=null)return ko(n.innerRadius,e,0)}),J7=ue([RI,cO],(n,e)=>{if(n!=null)return ko(n.outerRadius,e,e*.8)}),tFe=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},Z7=ue([RI],tFe);ue([lO,Z7],PI);var eZ=ue([cO,X7,J7],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});ue([uO,eZ],PI);var tZ=ue([Zt,RI,X7,J7,Hu,Vu],(n,e,t,r,i,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:ko(a,i,i/2),cy:ko(o,s,s/2),innerRadius:t,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Gr=(n,e)=>e,DI=(n,e,t)=>t;function dO(n){return n==null?void 0:n.id}function nZ(n,e,t){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=dO(o);u.forEach((h,g)=>{var v=s==null||i?g:String(Ki(h,s,null)),b=Ki(h,o.dataKey,0),C;a.has(v)?C=a.get(v):C={},Object.assign(C,{[d]:b}),a.set(v,C)})}}),Array.from(a.values())}function NI(n){return n.stackId!=null&&n.dataKey!=null}var LI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function QI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function nFe(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var zr=n=>{var e=Zt(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Py=n=>n.tooltip.settings.axisId;function M$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function e1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(t),!0).forEach(function(r){rFe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rFe(n,e,t){return(e=iFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iFe(n){var e=sFe(n,"string");return typeof e=="symbol"?e:e+""}function sFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var dQ=[0,"auto"],Wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rZ=(n,e)=>n.cartesianAxis.xAxis[e],Gu=(n,e)=>{var t=rZ(n,e);return t??Wr},Yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dQ,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:AB},iZ=(n,e)=>n.cartesianAxis.yAxis[e],zu=(n,e)=>{var t=iZ(n,e);return t??Yr},aFe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fO=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??aFe},os=(n,e,t)=>{switch(e){case"xAxis":return Gu(n,t);case"yAxis":return zu(n,t);case"zAxis":return fO(n,t);case"angleAxis":return lO(n,t);case"radiusAxis":return uO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},oFe=(n,e,t)=>{switch(e){case"xAxis":return Gu(n,t);case"yAxis":return zu(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},pB=(n,e,t)=>{switch(e){case"xAxis":return Gu(n,t);case"yAxis":return zu(n,t);case"angleAxis":return lO(n,t);case"radiusAxis":return uO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},sZ=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function aZ(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var hO=n=>n.graphicalItems.cartesianItems,AFe=ue([Gr,DI],aZ),oZ=(n,e,t)=>n.filter(t).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),gB=ue([hO,os,AFe],oZ,{memoizeOptions:{resultEqualityCheck:QI}}),AZ=ue([gB],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(NI)),lZ=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),lFe=ue([gB],lZ),uZ=n=>n.map(e=>e.data).filter(Boolean).flat(1),uFe=ue([gB],uZ,{memoizeOptions:{resultEqualityCheck:QI}}),cZ=(n,e)=>{var{chartData:t=[],dataStartIndex:r,dataEndIndex:i}=e;return n.length>0?n:t.slice(r,i+1)},pO=ue([uFe,rO],cZ),dZ=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(r=>({value:Ki(r,e.dataKey)})):t.length>0?t.map(r=>r.dataKey).flatMap(r=>n.map(i=>({value:Ki(i,r)}))):n.map(r=>({value:r})),kI=ue([pO,os,gB],dZ);function fZ(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function z_(n){if(RA(n)||n instanceof Date){var e=Number(n);if(mr(e))return e}}function U$(n){if(Array.isArray(n)){var e=[z_(n[0]),z_(n[1])];return ef(e)?e:void 0}var t=z_(n);if(t!=null)return[t,t]}function Uu(n){return n.map(z_).filter(gEe)}function cFe(n,e,t){return!t||typeof e!="number"||PA(e)?[]:t.length?Uu(t.flatMap(r=>{var i=Ki(n,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!mr(s)||!mr(a)))return[e-s,e+a]})):[]}var qr=n=>{var e=zr(n),t=Py(n);return pB(n,e,t)},mB=ue([qr],n=>n==null?void 0:n.dataKey),dFe=ue([AZ,rO,qr],nZ),hZ=(n,e,t,r)=>{var i={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=r?[...l].reverse():l,d=u.map(dO);return[o,{stackedData:NSe(n,d,t),graphicalItems:u}]}))},fQ=ue([dFe,AZ,UI,W7],hZ),pZ=(n,e,t,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&t!=="zAxis"){var a=HSe(n,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},fFe=ue([os],n=>n.allowDataOverflow),gO=n=>{var e;if(n==null||!("domain"in n))return dQ;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=Uu(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:dQ},gZ=ue([os],gO),mZ=ue([gZ,fFe],P7),hFe=ue([fQ,of,Gr,mZ],pZ,{memoizeOptions:{resultEqualityCheck:LI}}),mO=n=>n.errorBars,pFe=(n,e,t)=>n.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>fZ(t,r)),t1=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},vZ=(n,e,t,r,i)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=r[l.id])===null||u===void 0?void 0:u.filter(S=>fZ(i,S)),g=Ki(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=cFe(o,g,h);if(v.length>=2){var b=Math.min(...v),C=Math.max(...v);(s==null||b<s)&&(s=b),(a==null||C>a)&&(a=C)}var B=U$(g);B!=null&&(s=s==null?B[0]:Math.min(s,B[0]),a=a==null?B[1]:Math.max(a,B[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=U$(Ki(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),mr(s)&&mr(a))return[s,a]},gFe=ue([pO,os,lFe,mO,Gr],vZ,{memoizeOptions:{resultEqualityCheck:LI}});function mFe(n){var{value:e}=n;if(RA(e)||e instanceof Date)return e}var vFe=(n,e,t)=>{var r=n.map(mFe).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&N9(r))?JJ(0,n.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},yZ=n=>n.referenceElements.dots,Ry=(n,e,t)=>n.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===t:r.yAxisId===t),yFe=ue([yZ,Gr,DI],Ry),wZ=n=>n.referenceElements.areas,wFe=ue([wZ,Gr,DI],Ry),bZ=n=>n.referenceElements.lines,bFe=ue([bZ,Gr,DI],Ry),CZ=(n,e)=>{var t=Uu(n.map(r=>e==="xAxis"?r.x:r.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},CFe=ue(yFe,Gr,CZ),EZ=(n,e)=>{var t=Uu(n.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},EFe=ue([wFe,Gr],EZ);function BFe(n){var e;if(n.x!=null)return Uu([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.x);return t==null||t.length===0?[]:Uu(t)}function SFe(n){var e;if(n.y!=null)return Uu([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.y);return t==null||t.length===0?[]:Uu(t)}var BZ=(n,e)=>{var t=n.flatMap(r=>e==="xAxis"?BFe(r):SFe(r));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},xFe=ue([bFe,Gr],BZ),_Fe=ue(CFe,xFe,EFe,(n,e,t)=>t1(n,t,e)),SZ=(n,e,t,r,i,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?t1(r,s,i):t1(s,i);return QIe(e,u,n.allowDataOverflow)},TFe=ue([os,gZ,mZ,hFe,gFe,_Fe,Zt,Gr],SZ,{memoizeOptions:{resultEqualityCheck:LI}}),IFe=[0,1],xZ=(n,e,t,r,i,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=Np(e,s);if(u&&o==null){var d;return JJ(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?vFe(r,n,u):i==="expand"?IFe:a}},vO=ue([os,Zt,pO,kI,UI,Gr,TFe],xZ),_Z=(n,e,t,r,i)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(rB(s));return o in Rw?o:"point"}}},vB=ue([os,Zt,sZ,aO,Gr],_Z);function FFe(n){if(n!=null){if(n in Rw)return Rw[n]();var e="scale".concat(rB(n));if(e in Rw)return Rw[e]()}}function yO(n,e,t,r){if(!(t==null||r==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(r);var i=FFe(e);if(i!=null){var s=i.domain(t).range(r);return MSe(s),s}}}var TZ=(n,e,t)=>{var r=gO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ef(n))return $Ie(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ef(n))return jIe(n,e.tickCount,e.allowDecimals)}},wO=ue([vO,pB,vB],TZ),IZ=(n,e,t,r)=>{if(r!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&ef(e)&&Array.isArray(t)&&t.length>0){var i=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},MFe=ue([os,vO,wO,Gr],IZ),UFe=ue(kI,os,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,r=Array.from(Uu(n.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];t=Math.min(t,a)}return t/i}}),FZ=ue(UFe,Zt,j7,oi,(n,e,t,r)=>r,(n,e,t,r,i)=>{if(!mr(n))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return n*s/2;if(i==="no-gap"){var a=ko(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),PFe=(n,e)=>{var t=Gu(n,e);return t==null||typeof t.padding!="string"?0:FZ(n,"xAxis",e,t.padding)},RFe=(n,e)=>{var t=zu(n,e);return t==null||typeof t.padding!="string"?0:FZ(n,"yAxis",e,t.padding)},DFe=ue(Gu,PFe,(n,e)=>{var t,r;if(n==null)return{left:0,right:0};var{padding:i}=n;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),NFe=ue(zu,RFe,(n,e)=>{var t,r;if(n==null)return{top:0,bottom:0};var{padding:i}=n;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),LFe=ue([oi,DFe,yI,vI,(n,e,t)=>t],(n,e,t,r,i)=>{var{padding:s}=r;return i?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),QFe=ue([oi,Zt,NFe,yI,vI,(n,e,t)=>t],(n,e,t,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),yB=(n,e,t,r)=>{var i;switch(e){case"xAxis":return LFe(n,t,r);case"yAxis":return QFe(n,t,r);case"zAxis":return(i=fO(n,t))===null||i===void 0?void 0:i.range;case"angleAxis":return Z7(n);case"radiusAxis":return eZ(n,t);default:return}},MZ=ue([os,yB],PI),Dy=ue([os,vB,MFe,MZ],yO);ue([gB,mO,Gr],pFe);function UZ(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var OI=(n,e)=>e,HI=(n,e,t)=>t,kFe=ue(gI,OI,HI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(UZ)),OFe=ue(mI,OI,HI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(UZ)),PZ=(n,e)=>({width:n.width,height:e.height}),HFe=(n,e)=>{var t=typeof e.width=="number"?e.width:AB;return{width:t,height:n.height}},RZ=ue(oi,Gu,PZ),VFe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},KFe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},GFe=ue(Vu,oi,kFe,OI,HI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=PZ(e,o);a==null&&(a=VFe(e,r,n));var u=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),zFe=ue(Hu,oi,OFe,OI,HI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=HFe(e,o);a==null&&(a=KFe(e,r,n));var u=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),qFe=(n,e)=>{var t=Gu(n,e);if(t!=null)return GFe(n,t.orientation,t.mirror)},$Fe=ue([oi,Gu,qFe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}}),jFe=(n,e)=>{var t=zu(n,e);if(t!=null)return zFe(n,t.orientation,t.mirror)},WFe=ue([oi,zu,jFe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}}),DZ=ue(oi,zu,(n,e)=>{var t=typeof e.width=="number"?e.width:AB;return{width:t,height:n.height}}),P$=(n,e,t)=>{switch(e){case"xAxis":return RZ(n,t).width;case"yAxis":return DZ(n,t).height;default:return}},NZ=(n,e,t,r)=>{if(t!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=t,o=Np(n,r),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&N9(l))return l}},bO=ue([Zt,kI,os,Gr],NZ),LZ=(n,e,t,r)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:s}=t,a=Np(n,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},CO=ue([Zt,kI,pB,Gr],LZ);ue([Zt,oFe,vB,Dy,bO,CO,yB,wO,Gr],(n,e,t,r,i,s,a,o,l)=>{if(e!=null){var u=Np(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:r}}});var YFe=(n,e,t,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var u=Np(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=d==="category"&&r.bandwidth?r.bandwidth()/v:0;b=l==="angleAxis"&&s!=null&&s.length>=2?da(s[0]-s[1])*2*b:b;var C=h||i;if(C){var B=C.map((S,I)=>{var T=a?a.indexOf(S):S;return{index:I,coordinate:r(T)+b,value:S,offset:b}});return B.filter(S=>mr(S.coordinate))}return u&&o?o.map((S,I)=>({coordinate:r(S)+b,value:S,index:I,offset:b})).filter(S=>mr(S.coordinate)):r.ticks?r.ticks(g).map(S=>({coordinate:r(S)+b,value:S,offset:b})):r.domain().map((S,I)=>({coordinate:r(S)+b,value:a?a[S]:S,index:I,offset:b}))}},QZ=ue([Zt,pB,vB,Dy,wO,yB,bO,CO,Gr],YFe),XFe=(n,e,t,r,i,s,a)=>{if(!(e==null||t==null||r==null||r[0]===r[1])){var o=Np(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?da(r[0]-r[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:i?i[d]:d,index:h,offset:u}))}},yy=ue([Zt,pB,Dy,yB,bO,CO,Gr],XFe),wy=ue(os,Dy,(n,e)=>{if(!(n==null||e==null))return e1(e1({},n),{},{scale:e})}),JFe=ue([os,vB,vO,MZ],yO);ue((n,e,t)=>fO(n,t),JFe,(n,e)=>{if(!(n==null||e==null))return e1(e1({},n),{},{scale:e})});var ZFe=ue([Zt,gI,mI],(n,e,t)=>{switch(n){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kZ=n=>n.options.defaultTooltipEventType,OZ=n=>n.options.validateTooltipEventTypes;function HZ(n,e,t){if(n==null)return e;var r=n?"axis":"item";return t==null?e:t.includes(r)?r:e}function EO(n,e){var t=kZ(n),r=OZ(n);return HZ(e,t,r)}function eMe(n){return Ye(e=>EO(e,n))}var VZ=(n,e)=>{var t,r=Number(e);if(!(PA(r)||e==null))return r>=0?n==null||(t=n[r])===null||t===void 0?void 0:t.value:void 0},tMe=n=>n.tooltip.settings,Mc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nMe={itemInteraction:{click:Mc,hover:Mc},axisInteraction:{click:Mc,hover:Mc},keyboardInteraction:Mc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},KZ=Ms({name:"tooltip",initialState:nMe,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:Kn()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Qo(n).tooltipItemPayloads.indexOf(t);i>-1&&(n.tooltipItemPayloads[i]=r)},prepare:Kn()},removeTooltipEntrySettings:{reducer(n,e){var t=Qo(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:Kn()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:rMe,replaceTooltipEntrySettings:iMe,removeTooltipEntrySettings:sMe,setTooltipSettingsState:aMe,setActiveMouseOverItemIndex:GZ,mouseLeaveItem:oMe,mouseLeaveChart:zZ,setActiveClickItemIndex:AMe,setMouseOverAxisIndex:qZ,setMouseClickAxisIndex:lMe,setSyncInteraction:hQ,setKeyboardInteraction:pQ}=KZ.actions,uMe=KZ.reducer;function R$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R$(Object(t),!0).forEach(function(r){cMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cMe(n,e,t){return(e=dMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dMe(n){var e=fMe(n,"string");return typeof e=="symbol"?e:e+""}function fMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hMe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function pMe(n){return n.index!=null}var $Z=(n,e,t,r)=>{if(e==null)return Mc;var i=hMe(n,e,t);if(i==null)return Mc;if(i.active)return i;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(pMe(i)){if(s)return Dx(Dx({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Dx(Dx({},Mc),{},{coordinate:i.coordinate})};function gMe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function mMe(n,e){var t=gMe(n),r=e[0],i=e[1];if(t===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return t>=s&&t<=a}function vMe(n,e,t){if(t==null||e==null)return!0;var r=Ki(n,e);return r==null||!ef(t)?!0:mMe(r,t)}var BO=(n,e,t,r)=>{var i=n==null?void 0:n.index;if(i==null)return null;var s=Number(i);if(!mr(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||vMe(u,t,r)?String(l):null},jZ=(n,e,t,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+n)/2,y:d.coordinate}}}},WZ=(n,e,t,r)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var i;return t==="hover"?i=n.itemInteraction.hover.dataKey:i=n.itemInteraction.click.dataKey,i==null&&r!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},wB=n=>n.options.tooltipPayloadSearcher,Ny=n=>n.tooltip;function D$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function N$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(t),!0).forEach(function(r){yMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yMe(n,e,t){return(e=wMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wMe(n){var e=bMe(n,"string");return typeof e=="symbol"?e:e+""}function bMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CMe(n,e){return n??e}var YZ=(n,e,t,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var b,{dataDefinedOnItem:C,settings:B}=v,S=CMe(C,o),I=Array.isArray(S)?TJ(S,u,d):S,T=(b=B==null?void 0:B.dataKey)!==null&&b!==void 0?b:r,R=B==null?void 0:B.nameKey,M;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?M=pEe(I,r,i):M=s(I,e,l,R),Array.isArray(M))M.forEach(L=>{var H=N$(N$({},B),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(iq({tooltipEntrySettings:H,dataKey:L.dataKey,payload:L.payload,value:Ki(L.payload,L.dataKey),name:L.name}))});else{var D;g.push(iq({tooltipEntrySettings:B,dataKey:T,payload:M,value:Ki(M,T),name:(D=Ki(M,R))!==null&&D!==void 0?D:B==null?void 0:B.name}))}return g},h)}},SO=ue([qr,Zt,sZ,aO,zr],_Z),EMe=ue([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),BMe=ue([zr,Py],aZ),bB=ue([EMe,qr,BMe],oZ,{memoizeOptions:{resultEqualityCheck:QI}}),SMe=ue([bB],n=>n.filter(NI)),xMe=ue([bB],uZ,{memoizeOptions:{resultEqualityCheck:QI}}),Ly=ue([xMe,of],cZ),_Me=ue([SMe,of,qr],nZ),xO=ue([Ly,qr,bB],dZ),XZ=ue([qr],gO),TMe=ue([qr],n=>n.allowDataOverflow),JZ=ue([XZ,TMe],P7),IMe=ue([bB],n=>n.filter(NI)),FMe=ue([_Me,IMe,UI,W7],hZ),MMe=ue([FMe,of,zr,JZ],pZ),UMe=ue([bB],lZ),PMe=ue([Ly,qr,UMe,mO,zr],vZ,{memoizeOptions:{resultEqualityCheck:LI}}),RMe=ue([yZ,zr,Py],Ry),DMe=ue([RMe,zr],CZ),NMe=ue([wZ,zr,Py],Ry),LMe=ue([NMe,zr],EZ),QMe=ue([bZ,zr,Py],Ry),kMe=ue([QMe,zr],BZ),OMe=ue([DMe,kMe,LMe],t1),HMe=ue([qr,XZ,JZ,MMe,PMe,OMe,Zt,zr],SZ),CB=ue([qr,Zt,Ly,xO,UI,zr,HMe],xZ),VMe=ue([CB,qr,SO],TZ),KMe=ue([qr,CB,VMe,zr],IZ),ZZ=n=>{var e=zr(n),t=Py(n),r=!1;return yB(n,e,t,r)},eee=ue([qr,ZZ],PI),tee=ue([qr,SO,KMe,eee],yO),GMe=ue([Zt,xO,qr,zr],NZ),zMe=ue([Zt,xO,qr,zr],LZ),qMe=(n,e,t,r,i,s,a,o)=>{if(e){var{type:l}=e,u=Np(n,o);if(r){var d=t==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?da(i[0]-i[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:r(g)+h,value:g,index:v,offset:h})):r.domain().map((g,v)=>({coordinate:r(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},qu=ue([Zt,qr,SO,tee,ZZ,GMe,zMe,zr],qMe),_O=ue([kZ,OZ,tMe],(n,e,t)=>HZ(t.shared,n,e)),nee=n=>n.tooltip.settings.trigger,TO=n=>n.tooltip.settings.defaultIndex,EB=ue([Ny,_O,nee,TO],$Z),by=ue([EB,Ly,mB,CB],BO),ree=ue([qu,by],VZ),iee=ue([EB],n=>{if(n)return n.dataKey});ue([EB],n=>{if(n)return n.graphicalItemId});var see=ue([Ny,_O,nee,TO],WZ),$Me=ue([Hu,Vu,Zt,oi,qu,TO,see,wB],jZ),jMe=ue([EB,$Me],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),WMe=ue([EB],n=>n.active),YMe=ue([see,by,of,mB,ree,wB,_O],YZ);ue([YMe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function L$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Q$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(t),!0).forEach(function(r){XMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function XMe(n,e,t){return(e=JMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JMe(n){var e=ZMe(n,"string");return typeof e=="symbol"?e:e+""}function ZMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var eUe=()=>Ye(qr),tUe=()=>{var n=eUe(),e=Ye(qu),t=Ye(tee);return DT(!n||!t?void 0:Q$(Q$({},n),{},{scale:t}),e)};function k$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ig(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k$(Object(t),!0).forEach(function(r){nUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nUe(n,e,t){return(e=rUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rUe(n){var e=iUe(n,"string");return typeof e=="symbol"?e:e+""}function iUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var sUe=(n,e,t,r)=>{var i=e.find(s=>s&&s.index===t);if(i){if(n==="horizontal")return{x:i.coordinate,y:r.chartY};if(n==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},aUe=(n,e,t,r)=>{var i=e.find(u=>u&&u.index===t);if(i){if(n==="centric"){var s=i.coordinate,{radius:a}=r;return Ig(Ig(Ig({},r),_i(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return Ig(Ig(Ig({},r),_i(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function oUe(n,e){var{chartX:t,chartY:r}=n;return t>=e.left&&t<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var aee=(n,e,t,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if(da(d-u)!==da(h-d)){var v=[];if(da(h-d)===da(i[1]-i[0])){g=h;var b=d+i[1]-i[0];v[0]=Math.min(b,(b+u)/2),v[1]=Math.max(b,(b+u)/2)}else{g=u;var C=h+i[1]-i[0];v[0]=Math.min(d,(C+d)/2),v[1]=Math.max(d,(C+d)/2)}var B=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>B[0]&&n<=B[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var S=Math.min(u,h),I=Math.max(u,h);if(n>(S+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},AUe=()=>Ye(aO),IO=(n,e)=>e,oee=(n,e,t)=>t,FO=(n,e,t,r)=>r,lUe=ue(qu,n=>oI(n,e=>e.coordinate)),MO=ue([Ny,IO,oee,FO],$Z),UO=ue([MO,Ly,mB,CB],BO),uUe=(n,e,t)=>{if(e!=null){var r=Ny(n);return e==="axis"?t==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:t==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Aee=ue([Ny,IO,oee,FO],WZ),n1=ue([Hu,Vu,Zt,oi,qu,FO,Aee,wB],jZ),cUe=ue([MO,n1],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),lee=ue([qu,UO],VZ),dUe=ue([Aee,UO,of,mB,lee,wB,IO],YZ),fUe=ue([MO,UO],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),hUe=(n,e,t,r,i,s,a)=>{if(!(!n||!t||!r||!i)&&oUe(n,a)){var o=VSe(n,e),l=aee(o,s,i,t,r),u=sUe(e,i,l,n);return{activeIndex:String(l),activeCoordinate:u}}},pUe=(n,e,t,r,i,s,a)=>{if(!(!n||!r||!i||!s||!t)){var o=Z_e(n,t);if(o){var l=KSe(o,e),u=aee(l,a,s,r,i),d=aUe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},gUe=(n,e,t,r,i,s,a,o)=>{if(!(!n||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?hUe(n,e,r,i,s,a,o):pUe(n,e,t,r,i,s,a)},mUe=ue(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var r=n[e];if(r!=null)return t?r.panoramaElementId:r.elementId}}),vUe=ue(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(r=>parseInt(r,10)).concat(Object.values(Fs)),t=Array.from(new Set(e));return t.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:nFe}});function O$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function H$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O$(Object(t),!0).forEach(function(r){yUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yUe(n,e,t){return(e=wUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wUe(n){var e=bUe(n,"string");return typeof e=="symbol"?e:e+""}function bUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var CUe={},EUe={zIndexMap:Object.values(Fs).reduce((n,e)=>H$(H$({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),CUe)},BUe=new Set(Object.values(Fs));function SUe(n){return BUe.has(n)}var uee=Ms({name:"zIndex",initialState:EUe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Kn()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!SUe(t)&&delete n.zIndexMap[t])},prepare:Kn()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:r,isPanorama:i}=e.payload;n.zIndexMap[t]?i?n.zIndexMap[t].panoramaElementId=r:n.zIndexMap[t].elementId=r:n.zIndexMap[t]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Kn()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:Kn()}}}),{registerZIndexPortal:xUe,unregisterZIndexPortal:_Ue,registerZIndexPortalId:TUe,unregisterZIndexPortalId:IUe}=uee.actions,FUe=uee.reducer;function Af(n){var{zIndex:e,children:t}=n,r=Sxe(),i=r&&e!==void 0&&e!==0,s=va(),a=vr();F.useLayoutEffect(()=>i?(a(xUe({zIndex:e})),()=>{a(_Ue({zIndex:e}))}):iB,[a,e,i]);var o=Ye(u=>mUe(u,e,s));if(!i)return t;if(!o)return null;var l=document.getElementById(o);return l?c6.createPortal(t,l):null}function gQ(){return gQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gQ.apply(null,arguments)}function V$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Nx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(t),!0).forEach(function(r){MUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function MUe(n,e,t){return(e=UUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UUe(n){var e=PUe(n,"string");return typeof e=="symbol"?e:e+""}function PUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RUe(n){var{cursor:e,cursorComp:t,cursorProps:r}=n;return F.isValidElement(e)?F.cloneElement(e,r):F.createElement(t,r)}function DUe(n){var e,{coordinate:t,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=r,v=i;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var b,C,B;if(d==="ScatterChart")b=h,C=f_e,B=Fs.cursorLine;else if(d==="BarChart")b=h_e(o,h,s,a),C=jJ,B=Fs.cursorRectangle;else if(o==="radial"&&k9(h)){var{cx:S,cy:I,radius:T,startAngle:R,endAngle:M}=WJ(h);b={cx:S,cy:I,startAngle:R,endAngle:M,innerRadius:T,outerRadius:T},C=XJ,B=Fs.cursorLine}else b={points:rTe(o,h,s)},C=KJ,B=Fs.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,L=Nx(Nx(Nx(Nx({stroke:"#ccc",pointerEvents:"none"},s),b),uk(l)),{},{payload:g,payloadIndex:v,className:Qn("recharts-tooltip-cursor",D)});return F.createElement(Af,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:B},F.createElement(RUe,{cursor:l,cursorComp:C,cursorProps:L}))}function NUe(n){var e=tUe(),t=Cxe(),r=bI(),i=AUe();return e==null||t==null||r==null||i==null?null:F.createElement(DUe,gQ({},n,{offset:t,layout:r,tooltipAxisBandSize:e,chartName:i}))}var cee=F.createContext(null),LUe=()=>F.useContext(cee),uR={exports:{}},K$;function QUe(){return K$||(K$=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,h||l,g),b=t?t+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],v]:l._events[b].push(v):(l._events[b]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,b=new Array(v);g<v;g++)b[g]=h[g].fn;return b},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,b){var C=t?t+u:u;if(!this._events[C])return!1;var B=this._events[C],S=arguments.length,I,T;if(B.fn){switch(B.once&&this.removeListener(u,B.fn,void 0,!0),S){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,d),!0;case 3:return B.fn.call(B.context,d,h),!0;case 4:return B.fn.call(B.context,d,h,g),!0;case 5:return B.fn.call(B.context,d,h,g,v),!0;case 6:return B.fn.call(B.context,d,h,g,v,b),!0}for(T=1,I=new Array(S-1);T<S;T++)I[T-1]=arguments[T];B.fn.apply(B.context,I)}else{var R=B.length,M;for(T=0;T<R;T++)switch(B[T].once&&this.removeListener(u,B[T].fn,void 0,!0),S){case 1:B[T].fn.call(B[T].context);break;case 2:B[T].fn.call(B[T].context,d);break;case 3:B[T].fn.call(B[T].context,d,h);break;case 4:B[T].fn.call(B[T].context,d,h,g);break;default:if(!I)for(M=1,I=new Array(S-1);M<S;M++)I[M-1]=arguments[M];B[T].fn.apply(B[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===d&&(!g||b.once)&&(!h||b.context===h)&&a(this,v);else{for(var C=0,B=[],S=b.length;C<S;C++)(b[C].fn!==d||g&&!b[C].once||h&&b[C].context!==h)&&B.push(b[C]);B.length?this._events[v]=B.length===1?B[0]:B:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(uR)),uR.exports}var kUe=QUe();const OUe=QA(kUe);var gb=new OUe,mQ="recharts.syncEvent.tooltip",G$="recharts.syncEvent.brush";function HUe(n,e){if(e){var t=Number.parseInt(e,10);if(!PA(t))return n==null?void 0:n[t]}}var VUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dee=Ms({name:"options",initialState:VUe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),KUe=dee.reducer,{createEventEmitter:GUe}=dee.actions;function zUe(n){return n.tooltip.syncInteraction}var qUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fee=Ms({name:"chartData",initialState:qUe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:r}=e.payload;t!=null&&(n.dataStartIndex=t),r!=null&&(n.dataEndIndex=r)}}}),{setChartData:z$,setDataStartEndIndexes:$Ue,setComputedData:Bke}=fee.actions,jUe=fee.reducer,WUe=["x","y"];function q$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(t),!0).forEach(function(r){YUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):q$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YUe(n,e,t){return(e=XUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XUe(n){var e=JUe(n,"string");return typeof e=="symbol"?e:e+""}function JUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZUe(n,e){if(n==null)return{};var t,r,i=ePe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ePe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function tPe(){var n=Ye(oO),e=Ye(AO),t=vr(),r=Ye(Y7),i=Ye(qu),s=bI(),a=wI(),o=Ye(l=>l.rootProps.className);F.useEffect(()=>{if(n==null)return iB;var l=(u,d,h)=>{if(e!==h&&n===u){if(r==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:b,y:C}=v,B=ZUe(v,WUe),{x:S,y:I,width:T,height:R}=d.payload.sourceViewBox,M=Fg(Fg({},B),{},{x:a.x+(T?(b-S)/T:0)*a.width,y:a.y+(R?(C-I)/R:0)*a.height});t(Fg(Fg({},d),{},{payload:Fg(Fg({},d.payload),{},{coordinate:M})}))}else t(d);return}if(i!=null){var D;if(typeof r=="function"){var L={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=r(i,L);D=i[H]}else r==="value"&&(D=i.find(V=>String(V.value)===d.payload.label));var{coordinate:k}=d.payload;if(D==null||d.payload.active===!1||k==null||a==null){t(hQ({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:G}=k,z=Math.min(K,a.x+a.width),Z=Math.min(G,a.y+a.height),ne={x:s==="horizontal"?D.coordinate:z,y:s==="horizontal"?Z:D.coordinate},J=hQ({active:d.payload.active,coordinate:ne,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(J)}}};return gb.on(mQ,l),()=>{gb.off(mQ,l)}},[o,t,e,n,r,i,s,a])}function nPe(){var n=Ye(oO),e=Ye(AO),t=vr();F.useEffect(()=>{if(n==null)return iB;var r=(i,s,a)=>{e!==a&&n===i&&t($Ue(s))};return gb.on(G$,r),()=>{gb.off(G$,r)}},[t,e,n])}function rPe(){var n=vr();F.useEffect(()=>{n(GUe())},[n]),tPe(),nPe()}function iPe(n,e,t,r,i,s){var a=Ye(v=>uUe(v,n,e)),o=Ye(AO),l=Ye(oO),u=Ye(Y7),d=Ye(zUe),h=d==null?void 0:d.active,g=wI();F.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=hQ({active:s,coordinate:t,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});gb.emit(mQ,l,v,o)}},[h,t,a,i,r,o,l,u,s,g])}function $$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function j$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(t),!0).forEach(function(r){sPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sPe(n,e,t){return(e=aPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aPe(n){var e=oPe(n,"string");return typeof e=="symbol"?e:e+""}function oPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function APe(n){return n.dataKey}function lPe(n,e){return F.isValidElement(n)?F.cloneElement(n,e):typeof n=="function"?F.createElement(n,e):F.createElement(qxe,e)}var W$=[],uPe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cPe(n){var e,t,r=co(n,uPe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:b,useTranslate3d:C,wrapperStyle:B,cursor:S,shared:I,trigger:T,defaultIndex:R,portal:M,axisId:D}=r,L=vr(),H=typeof R=="number"?String(R):R;F.useEffect(()=>{L(aMe({shared:I,trigger:T,axisId:D,active:i,defaultIndex:H}))},[L,I,T,D,i,H]);var k=wI(),K=VJ(),G=eMe(I),{activeIndex:z,isActive:Z}=(e=Ye(ce=>fUe(ce,G,T,H)))!==null&&e!==void 0?e:{},ne=Ye(ce=>dUe(ce,G,T,H)),J=Ye(ce=>lee(ce,G,T,H)),V=Ye(ce=>cUe(ce,G,T,H)),$=ne,re=LUe(),de=(t=i??Z)!==null&&t!==void 0?t:!1,[Ee,q]=xBe([$,de]),Y=G==="axis"?J:void 0;iPe(G,T,V,Y,z,de);var Ae=M??re;if(Ae==null||k==null||G==null)return null;var me=$??W$;de||(me=W$),u&&me.length&&(me=JEe(me.filter(ce=>ce.value!=null&&(ce.hide!==!0||r.includeHidden)),g,APe));var ie=me.length>0,he=F.createElement(Zxe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:de,coordinate:V,hasPayload:ie,offset:h,position:v,reverseDirection:b,useTranslate3d:C,viewBox:k,wrapperStyle:B,lastBoundingBox:Ee,innerRef:q,hasPortalFromProps:!!M},lPe(l,j$(j$({},r),{},{payload:me,label:Y,active:de,activeIndex:z,coordinate:V,accessibilityLayer:K})));return F.createElement(F.Fragment,null,c6.createPortal(he,Ae),de&&F.createElement(NUe,{cursor:S,tooltipEventType:G,coordinate:V,payload:me,index:z}))}var PO=n=>null;PO.displayName="Cell";function dPe(n,e,t){return(e=fPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fPe(n){var e=hPe(n,"string");return typeof e=="symbol"?e:e+""}function hPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class pPe{constructor(e){dPe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function Y$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function gPe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(t),!0).forEach(function(r){mPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mPe(n,e,t){return(e=vPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vPe(n){var e=yPe(n,"string");return typeof e=="symbol"?e:e+""}function yPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var wPe={cacheSize:2e3,enableCache:!0},hee=gPe({},wPe),X$=new pPe(hee.cacheSize),bPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},J$="recharts_measurement_span";function CPe(n,e){var t=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var Z$=(n,e)=>{try{var t=document.getElementById(J$);t||(t=document.createElement("span"),t.setAttribute("id",J$),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,bPe,e),t.textContent="".concat(n);var r=t.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uB.isSsr)return{width:0,height:0};if(!hee.enableCache)return Z$(e,t);var r=CPe(e,t),i=X$.get(r);if(i)return i;var s=Z$(e,t);return X$.set(r,s),s},e8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,t8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},SPe=Object.keys(pee),Yg="NaN";function xPe(n,e){return n*pee[e]}class xs{static parse(e){var t,[,r,i]=(t=BPe.exec(e))!==null&&t!==void 0?t:[];return new xs(parseFloat(r),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,PA(e)&&(this.unit=""),t!==""&&!EPe.test(t)&&(this.num=NaN,this.unit=""),SPe.includes(t)&&(this.num=xPe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new xs(NaN,""):new xs(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new xs(NaN,""):new xs(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xs(NaN,""):new xs(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xs(NaN,""):new xs(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return PA(this.num)}}function gee(n){if(n.includes(Yg))return Yg;for(var e=n;e.includes("*")||e.includes("/");){var t,[,r,i,s]=(t=e8.exec(e))!==null&&t!==void 0?t:[],a=xs.parse(r??""),o=xs.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Yg;e=e.replace(e8,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=t8.exec(e))!==null&&u!==void 0?u:[],v=xs.parse(d??""),b=xs.parse(g??""),C=h==="+"?v.add(b):v.subtract(b);if(C.isNaN())return Yg;e=e.replace(t8,C.toString())}return e}var n8=/\(([^()]*)\)/;function _Pe(n){for(var e=n,t;(t=n8.exec(e))!=null;){var[,r]=t;e=e.replace(n8,gee(r))}return e}function TPe(n){var e=n.replace(/\s+/g,"");return e=_Pe(e),e=gee(e),e}function IPe(n){try{return TPe(n)}catch{return Yg}}function cR(n){var e=IPe(n.slice(5,-1));return e===Yg?"":e}var FPe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],MPe=["dx","dy","angle","className","breakAll"];function vQ(){return vQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vQ.apply(null,arguments)}function r8(n,e){if(n==null)return{};var t,r,i=UPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function UPe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var mee=/[ \f\n\r\t\v\u2028\u2029]+/,vee=n=>{var{children:e,breakAll:t,style:r}=n;try{var i=[];ai(e)||(t?i=e.toString().split(""):i=e.toString().split(mee));var s=i.map(o=>({word:o,width:Gw(o,r).width})),a=t?0:Gw("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function PPe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var yee=(n,e,t,r)=>n.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};i.push(u)}return i},[]),wee=n=>n.reduce((e,t)=>e.width>t.width?e:t),RPe="",i8=(n,e,t,r,i,s,a,o)=>{var l=n.slice(0,e),u=vee({breakAll:t,style:r,children:l+RPe});if(!u)return[!1,[]];var d=yee(u.wordsWithComputedWidth,s,a,o),h=d.length>i||wee(d).width>Number(s);return[h,d]},DPe=(n,e,t,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=Je(s),d=String(a),h=yee(e,r,t,i);if(!u||i)return h;var g=h.length>s||wee(h).width>Number(r);if(!g)return h;for(var v=0,b=d.length-1,C=0,B;v<=b&&C<=d.length-1;){var S=Math.floor((v+b)/2),I=S-1,[T,R]=i8(d,I,l,o,s,r,t,i),[M]=i8(d,S,l,o,s,r,t,i);if(!T&&!M&&(v=S+1),T&&M&&(b=S-1),!T&&M){B=R;break}C++}return B||h},s8=n=>{var e=ai(n)?[]:n.toString().split(mee);return[{words:e,width:void 0}]},NPe=n=>{var{width:e,scaleToFit:t,children:r,style:i,breakAll:s,maxLines:a}=n;if((e||t)&&!uB.isSsr){var o,l,u=vee({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return s8(r);return DPe({breakAll:s,children:r,maxLines:a,style:i},o,l,e,!!t)}return s8(r)},bee="#808080",LPe={angle:0,breakAll:!1,capHeight:"0.71em",fill:bee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},RO=F.forwardRef((n,e)=>{var t=co(n,LPe),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=r8(t,FPe),g=F.useMemo(()=>NPe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:b,angle:C,className:B,breakAll:S}=h,I=r8(h,MPe);if(!RA(r)||!RA(i)||g.length===0)return null;var T=Number(r)+(Je(v)?v:0),R=Number(i)+(Je(b)?b:0);if(!mr(T)||!mr(R))return null;var M;switch(d){case"start":M=cR("calc(".concat(a,")"));break;case"middle":M=cR("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:M=cR("calc(".concat(g.length-1," * -").concat(s,")"));break}var D=[];if(l){var L=g[0].width,{width:H}=h;D.push("scale(".concat(Je(H)&&Je(L)?H/L:1,")"))}return C&&D.push("rotate(".concat(C,", ").concat(T,", ").concat(R,")")),D.length&&(I.transform=D.join(" ")),F.createElement("text",vQ({},Ao(I),{ref:e,x:T,y:R,className:Qn("recharts-text",B),textAnchor:u,fill:o.includes("url")?bee:o}),g.map((k,K)=>{var G=k.words.join(S?"":" ");return F.createElement("tspan",{x:T,dy:K===0?M:s,key:"".concat(G,"-").concat(K)},G)}))});RO.displayName="Text";var QPe=["labelRef"];function kPe(n,e){if(n==null)return{};var t,r,i=OPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function OPe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function a8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(t),!0).forEach(function(r){HPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HPe(n,e,t){return(e=VPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VPe(n){var e=KPe(n,"string");return typeof e=="symbol"?e:e+""}function KPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function du(){return du=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},du.apply(null,arguments)}var Cee=F.createContext(null),GPe=n=>{var{x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=n,l=F.useMemo(()=>({x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,t,r,i,s,a]);return F.createElement(Cee.Provider,{value:l},o)},Eee=()=>{var n=F.useContext(Cee),e=wI();return n||RJ(e)},zPe=F.createContext(null),qPe=()=>{var n=F.useContext(zPe),e=Ye(tZ);return n||e},$Pe=n=>{var{value:e,formatter:t}=n,r=ai(n.children)?e:n.children;return typeof t=="function"?t(r):r},DO=n=>n!=null&&typeof n=="function",jPe=(n,e)=>{var t=da(e-n),r=Math.min(Math.abs(e-n),360);return t*r},WPe=(n,e,t,r,i)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=i,b=(u+d)/2,C=jPe(h,g),B=C>=0?1:-1,S,I;switch(e){case"insideStart":S=h+B*s,I=v;break;case"insideEnd":S=g-B*s,I=!v;break;case"end":S=g+B*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=C<=0?I:!I;var T=_i(o,l,b,S),R=_i(o,l,b,S+(I?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),D=ai(n.id)?rb("recharts-radial-line-"):n.id;return F.createElement("text",du({},r,{dominantBaseline:"central",className:Qn("recharts-radial-bar-label",a)}),F.createElement("defs",null,F.createElement("path",{id:D,d:M})),F.createElement("textPath",{xlinkHref:"#".concat(D)},t))},YPe=(n,e,t)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=_i(r,i,a+e,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:b}=_i(r,i,g,u);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},yQ=n=>"cx"in n&&Je(n.cx),XPe=(n,e)=>{var{parentViewBox:t,offset:r,position:i}=n,s;t!=null&&!yQ(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,b=(l+u)/2,C=h+l/2,B=d>=0?1:-1,S=B*r,I=B>0?"end":"start",T=B>0?"start":"end",R=l>=0?1:-1,M=R*r,D=R>0?"end":"start",L=R>0?"start":"end";if(i==="top"){var H={x:h+l/2,y:o-S,textAnchor:"middle",verticalAnchor:I};return dr(dr({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var k={x:g+u/2,y:o+d+S,textAnchor:"middle",verticalAnchor:T};return dr(dr({},k),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(i==="left"){var K={x:v-M,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return dr(dr({},K),s?{width:Math.max(K.x-s.x,0),height:d}:{})}if(i==="right"){var G={x:v+b+M,y:o+d/2,textAnchor:L,verticalAnchor:"middle"};return dr(dr({},G),s?{width:Math.max(s.x+s.width-G.x,0),height:d}:{})}var z=s?{width:b,height:d}:{};return i==="insideLeft"?dr({x:v+M,y:o+d/2,textAnchor:L,verticalAnchor:"middle"},z):i==="insideRight"?dr({x:v+b-M,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},z):i==="insideTop"?dr({x:h+l/2,y:o+S,textAnchor:"middle",verticalAnchor:T},z):i==="insideBottom"?dr({x:g+u/2,y:o+d-S,textAnchor:"middle",verticalAnchor:I},z):i==="insideTopLeft"?dr({x:h+M,y:o+S,textAnchor:L,verticalAnchor:T},z):i==="insideTopRight"?dr({x:h+l-M,y:o+S,textAnchor:D,verticalAnchor:T},z):i==="insideBottomLeft"?dr({x:g+M,y:o+d-S,textAnchor:L,verticalAnchor:I},z):i==="insideBottomRight"?dr({x:g+u-M,y:o+d-S,textAnchor:D,verticalAnchor:I},z):i&&typeof i=="object"&&(Je(i.x)||_u(i.x))&&(Je(i.y)||_u(i.y))?dr({x:a+ko(i.x,b),y:o+ko(i.y,d),textAnchor:"end",verticalAnchor:"end"},z):dr({x:C,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},z)},JPe={angle:0,offset:5,zIndex:Fs.label,position:"middle",textBreakAll:!1};function Tc(n){var e=co(n,JPe),{viewBox:t,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=qPe(),h=Eee(),g=r==="center"?h:d??h,v,b,C;if(t==null?v=g:yQ(t)?v=t:v=RJ(t),!v||ai(i)&&ai(s)&&!F.isValidElement(a)&&typeof a!="function")return null;var B=dr(dr({},e),{},{viewBox:v});if(F.isValidElement(a)){var{labelRef:S}=B,I=kPe(B,QPe);return F.cloneElement(a,I)}if(typeof a=="function"){if(b=F.createElement(a,B),F.isValidElement(b))return b}else b=$Pe(e);var T=Ao(e);if(yQ(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return WPe(e,r,b,T,v);C=YPe(v,e.offset,e.position)}else C=XPe(e,v);return F.createElement(Af,{zIndex:e.zIndex},F.createElement(RO,du({ref:u,className:Qn("recharts-label",o)},T,C,{textAnchor:PPe(T.textAnchor)?T.textAnchor:C.textAnchor,breakAll:l}),b))}Tc.displayName="Label";var ZPe=(n,e,t)=>{if(!n)return null;var r={viewBox:e,labelRef:t};return n===!0?F.createElement(Tc,du({key:"label-implicit"},r)):RA(n)?F.createElement(Tc,du({key:"label-implicit",value:n},r)):F.isValidElement(n)?n.type===Tc?F.cloneElement(n,dr({key:"label-implicit"},r)):F.createElement(Tc,du({key:"label-implicit",content:n},r)):DO(n)?F.createElement(Tc,du({key:"label-implicit",content:n},r)):n&&typeof n=="object"?F.createElement(Tc,du({},n,{key:"label-implicit"},r)):null};function eRe(n){var{label:e,labelRef:t}=n,r=Eee();return ZPe(e,r,t)||null}var dR={},fR={},o8;function tRe(){return o8||(o8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(fR)),fR}var hR={},A8;function nRe(){return A8||(A8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(hR)),hR}var l8;function rRe(){return l8||(l8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=tRe(),t=nRe(),r=vk();function i(s){if(r.isArrayLike(s))return e.last(t.toArray(s))}n.last=i})(dR)),dR}var pR,u8;function iRe(){return u8||(u8=1,pR=rRe().last),pR}var sRe=iRe();const aRe=QA(sRe);var oRe=["valueAccessor"],ARe=["dataKey","clockWise","id","textBreakAll","zIndex"];function r1(){return r1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r1.apply(null,arguments)}function c8(n,e){if(n==null)return{};var t,r,i=lRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function lRe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var uRe=n=>Array.isArray(n.value)?aRe(n.value):n.value,Bee=F.createContext(void 0),cRe=Bee.Provider,See=F.createContext(void 0);See.Provider;function dRe(){return F.useContext(Bee)}function fRe(){return F.useContext(See)}function q_(n){var{valueAccessor:e=uRe}=n,t=c8(n,oRe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=t,l=c8(t,ARe),u=dRe(),d=fRe(),h=u||d;return!h||!h.length?null:F.createElement(Af,{zIndex:o??Fs.label},F.createElement(xu,{className:"recharts-label-list"},h.map((g,v)=>{var b,C=ai(r)?e(g,v):Ki(g&&g.payload,r),B=ai(s)?{}:{id:"".concat(s,"-").concat(v)};return F.createElement(Tc,r1({key:"label-".concat(v)},Ao(g),l,B,{fill:(b=t.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:C,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}q_.displayName="LabelList";function hRe(n){var{label:e}=n;return e?e===!0?F.createElement(q_,{key:"labelList-implicit"}):F.isValidElement(e)||DO(e)?F.createElement(q_,{key:"labelList-implicit",content:e}):typeof e=="object"?F.createElement(q_,r1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var pRe={radiusAxis:{},angleAxis:{}},xee=Ms({name:"polarAxis",initialState:pRe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:Ske,removeRadiusAxis:xke,addAngleAxis:_ke,removeAngleAxis:Tke}=xee.actions,gRe=xee.reducer,gR={exports:{}},on={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d8;function mRe(){if(d8)return on;d8=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(C){if(typeof C=="object"&&C!==null){var B=C.$$typeof;switch(B){case n:switch(C=C.type,C){case t:case i:case r:case l:case u:case g:return C;default:switch(C=C&&C.$$typeof,C){case a:case o:case h:case d:return C;case s:return C;default:return B}}case e:return B}}}return on.ContextConsumer=s,on.ContextProvider=a,on.Element=n,on.ForwardRef=o,on.Fragment=t,on.Lazy=h,on.Memo=d,on.Portal=e,on.Profiler=i,on.StrictMode=r,on.Suspense=l,on.SuspenseList=u,on.isContextConsumer=function(C){return b(C)===s},on.isContextProvider=function(C){return b(C)===a},on.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},on.isForwardRef=function(C){return b(C)===o},on.isFragment=function(C){return b(C)===t},on.isLazy=function(C){return b(C)===h},on.isMemo=function(C){return b(C)===d},on.isPortal=function(C){return b(C)===e},on.isProfiler=function(C){return b(C)===i},on.isStrictMode=function(C){return b(C)===r},on.isSuspense=function(C){return b(C)===l},on.isSuspenseList=function(C){return b(C)===u},on.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===i||C===r||C===l||C===u||typeof C=="object"&&C!==null&&(C.$$typeof===h||C.$$typeof===d||C.$$typeof===a||C.$$typeof===s||C.$$typeof===o||C.$$typeof===v||C.getModuleId!==void 0)},on.typeOf=b,on}var f8;function vRe(){return f8||(f8=1,gR.exports=mRe()),gR.exports}var yRe=vRe(),h8=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",p8=null,mR=null,_ee=n=>{if(n===p8&&Array.isArray(mR))return mR;var e=[];return F.Children.forEach(n,t=>{ai(t)||(yRe.isFragment(t)?e=e.concat(_ee(t.props.children)):e.push(t))}),mR=e,p8=n,e};function wRe(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(i=>h8(i)):r=[h8(e)],_ee(n).forEach(i=>{var s=dy(i,"type.displayName")||dy(i,"type.name");s&&r.indexOf(s)!==-1&&t.push(i)}),t}var vR={},g8;function bRe(){return g8||(g8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&i.writable)?!1:t.toString()===`[object ${s}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}n.isPlainObject=e})(vR)),vR}var yR,m8;function CRe(){return m8||(m8=1,yR=bRe().isPlainObject),yR}var ERe=CRe();const BRe=QA(ERe);function v8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function y8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(t),!0).forEach(function(r){SRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SRe(n,e,t){return(e=xRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xRe(n){var e=_Re(n,"string");return typeof e=="symbol"?e:e+""}function _Re(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function i1(){return i1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},i1.apply(null,arguments)}var w8=(n,e,t,r,i)=>{var s=t-r,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+i),a+="L ".concat(n+t-s/2-r,",").concat(e+i),a+="L ".concat(n,",").concat(e," Z"),a},TRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IRe=n=>{var e=co(n,TRe),{x:t,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=F.useRef(null),[v,b]=F.useState(-1),C=F.useRef(i),B=F.useRef(s),S=F.useRef(a),I=F.useRef(t),T=F.useRef(r),R=Pk(n,"trapezoid-");if(F.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ne=g.current.getTotalLength();ne&&b(ne)}catch{}},[]),t!==+t||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var M=Qn("recharts-trapezoid",o);if(!h)return F.createElement("g",null,F.createElement("path",i1({},Ao(e),{className:M,d:w8(t,r,i,s,a)})));var D=C.current,L=B.current,H=S.current,k=I.current,K=T.current,G="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),Z=GJ(["strokeDasharray"],u,l);return F.createElement(Uk,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},ne=>{var J=Ei(D,i,ne),V=Ei(L,s,ne),$=Ei(H,a,ne),re=Ei(k,t,ne),de=Ei(K,r,ne);g.current&&(C.current=J,B.current=V,S.current=$,I.current=re,T.current=de);var Ee=ne>0?{transition:Z,strokeDasharray:z}:{strokeDasharray:G};return F.createElement("path",i1({},Ao(e),{className:M,d:w8(re,de,J,V,$),ref:g,style:y8(y8({},Ee),e.style)}))})},FRe=["option","shapeType","propTransformer","activeClassName"];function MRe(n,e){if(n==null)return{};var t,r,i=URe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function URe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function b8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function s1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(t),!0).forEach(function(r){PRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function PRe(n,e,t){return(e=RRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RRe(n){var e=DRe(n,"string");return typeof e=="symbol"?e:e+""}function DRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NRe(n,e){return s1(s1({},e),n)}function LRe(n,e){return n==="symbols"}function C8(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return F.createElement(jJ,t);case"trapezoid":return F.createElement(IRe,t);case"sector":return F.createElement(XJ,t);case"symbols":if(LRe(e))return F.createElement(Q9,t);break;case"curve":return F.createElement(KJ,t);default:return null}}function QRe(n){return F.isValidElement(n)?n.props:n}function kRe(n){var{option:e,shapeType:t,propTransformer:r=NRe,activeClassName:i="recharts-active-shape"}=n,s=MRe(n,FRe),a;if(F.isValidElement(e))a=F.cloneElement(e,s1(s1({},s),QRe(e)));else if(typeof e=="function")a=e(s,s.index);else if(BRe(e)&&typeof e!="boolean"){var o=r(e,s);a=F.createElement(C8,{shapeType:t,elementProps:o})}else{var l=s;a=F.createElement(C8,{shapeType:t,elementProps:l})}return s.isActive?F.createElement(xu,{className:i},a):a}var Tee=(n,e,t)=>{var r=vr();return(i,s)=>a=>{n==null||n(i,s,a),r(GZ({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}},Iee=n=>{var e=vr();return(t,r)=>i=>{n==null||n(t,r,i),e(oMe())}},Fee=(n,e,t)=>{var r=vr();return(i,s)=>a=>{n==null||n(i,s,a),r(AMe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}};function ORe(n){var{tooltipEntrySettings:e}=n,t=vr(),r=va(),i=F.useRef(null);return F.useLayoutEffect(()=>{r||(i.current===null?t(rMe(e)):i.current!==e&&t(iMe({prev:i.current,next:e})),i.current=e)},[e,t,r]),F.useLayoutEffect(()=>()=>{i.current&&(t(sMe(i.current)),i.current=null)},[t]),null}function HRe(n){var{legendPayload:e}=n,t=vr(),r=va(),i=F.useRef(null);return F.useLayoutEffect(()=>{r||(i.current===null?t(Qxe(e)):i.current!==e&&t(kxe({prev:i.current,next:e})),i.current=e)},[t,r,e]),F.useLayoutEffect(()=>()=>{i.current&&(t(Oxe(i.current)),i.current=null)},[t]),null}var wR,VRe=()=>{var[n]=F.useState(()=>rb("uid-"));return n},KRe=(wR=pre.useId)!==null&&wR!==void 0?wR:VRe;function Mee(n,e){var t=KRe();return e||(n?"".concat(n,"-").concat(t):t)}var GRe=F.createContext(void 0),zRe=n=>{var{id:e,type:t,children:r}=n,i=Mee("recharts-".concat(t),e);return F.createElement(GRe.Provider,{value:i},r(i))},qRe={cartesianItems:[],polarItems:[]},Uee=Ms({name:"graphicalItems",initialState:qRe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:Kn()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Qo(n).cartesianItems.indexOf(t);i>-1&&(n.cartesianItems[i]=r)},prepare:Kn()},removeCartesianGraphicalItem:{reducer(n,e){var t=Qo(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:Kn()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:Kn()},removePolarGraphicalItem:{reducer(n,e){var t=Qo(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:Kn()}}}),{addCartesianGraphicalItem:$Re,replaceCartesianGraphicalItem:jRe,removeCartesianGraphicalItem:WRe,addPolarGraphicalItem:Ike,removePolarGraphicalItem:Fke}=Uee.actions,YRe=Uee.reducer,XRe=n=>{var e=vr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e($Re(n)):t.current!==n&&e(jRe({prev:t.current,next:n})),t.current=n},[e,n]),F.useLayoutEffect(()=>()=>{t.current&&(e(WRe(t.current)),t.current=null)},[e]),null},JRe=F.memo(XRe);function E8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function B8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(t),!0).forEach(function(r){ZRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ZRe(n,e,t){return(e=eDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eDe(n){var e=tDe(n,"string");return typeof e=="symbol"?e:e+""}function tDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var nDe={xAxis:{},yAxis:{},zAxis:{}},Pee=Ms({name:"cartesianAxis",initialState:nDe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:Kn()},replaceXAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.xAxis[t.id],n.xAxis[r.id]=r)},prepare:Kn()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:Kn()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:Kn()},replaceYAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.yAxis[t.id],n.yAxis[r.id]=r)},prepare:Kn()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:Kn()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:Kn()},replaceZAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.zAxis[t.id],n.zAxis[r.id]=r)},prepare:Kn()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:Kn()},updateYAxisWidth(n,e){var{id:t,width:r}=e.payload,i=n.yAxis[t];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);n.yAxis[t]=B8(B8({},n.yAxis[t]),{},{width:r,widthHistory:a})}}}}),{addXAxis:rDe,replaceXAxis:iDe,removeXAxis:sDe,addYAxis:aDe,replaceYAxis:oDe,removeYAxis:ADe,addZAxis:Mke,replaceZAxis:Uke,removeZAxis:Pke,updateYAxisWidth:lDe}=Pee.actions,uDe=Pee.reducer,cDe=ue([oi],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),dDe=ue([cDe,Hu,Vu],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),Ree=()=>Ye(dDe),fDe="Invariant failed";function hDe(n,e){throw new Error(fDe)}var pDe=["x","y"];function wQ(){return wQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wQ.apply(null,arguments)}function S8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function X0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(t),!0).forEach(function(r){gDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gDe(n,e,t){return(e=mDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mDe(n){var e=vDe(n,"string");return typeof e=="symbol"?e:e+""}function vDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yDe(n,e){if(n==null)return{};var t,r,i=wDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function wDe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function bDe(n,e){var{x:t,y:r}=n,i=yDe(n,pDe),s="".concat(t),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),g=parseInt(h,10);return X0(X0(X0(X0(X0({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function a1(n){return F.createElement(kRe,wQ({shapeType:"rectangle",propTransformer:bDe,activeClassName:"recharts-active-bar"},n))}var CDe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Je(e))return e;var s=Je(r)||ai(r);return s?e(r,i):(s||hDe(),t)}},EDe={},Dee=Ms({name:"errorBars",initialState:EDe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]||(n[t]=[]),n[t].push(r)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:r,next:i}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]&&(n[t]=n[t].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Rke,replaceErrorBar:Dke,removeErrorBar:Nke}=Dee.actions,BDe=Dee.reducer,SDe=["children"];function xDe(n,e){if(n==null)return{};var t,r,i=_De(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function _De(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var TDe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},IDe=F.createContext(TDe);function FDe(n){var{children:e}=n,t=xDe(n,SDe);return F.createElement(IDe.Provider,{value:t},e)}function Nee(n,e){var t,r,i=Ye(u=>Gu(u,n)),s=Ye(u=>zu(u,e)),a=(t=i==null?void 0:i.allowDataOverflow)!==null&&t!==void 0?t:Wr.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Yr.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function MDe(n){var{xAxisId:e,yAxisId:t,clipPathId:r}=n,i=Ree(),{needClipX:s,needClipY:a,needClip:o}=Nee(e,t);if(!o||!i)return null;var{x:l,y:u,width:d,height:h}=i;return F.createElement("clipPath",{id:"clipPath-".concat(r)},F.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function UDe(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&mr(n.zIndex)?n.zIndex:e}var bR={exports:{}},CR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x8;function PDe(){if(x8)return CR;x8=1;var n=By();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return CR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function B(M){if(!S){if(S=!0,I=M,M=h(M),g!==void 0&&b.hasValue){var D=b.value;if(g(D,M))return T=D}return T=M}if(D=T,t(I,M))return D;var L=h(M);return g!==void 0&&g(D,L)?(I=M,D):(I=M,T=L)}var S=!1,I,T,R=d===void 0?null:d;return[function(){return B(u())},R===null?void 0:function(){return B(R())}]},[u,d,h,g]);var C=r(l,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=C},[C]),o(C),C},CR}var _8;function RDe(){return _8||(_8=1,bR.exports=PDe()),bR.exports}RDe();function DDe(n){n()}function NDe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){DDe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var T8={notify(){},get:()=>[]};function LDe(n,e){let t,r=T8,i=0,s=!1;function a(C){d();const B=r.subscribe(C);let S=!1;return()=>{S||(S=!0,B(),h())}}function o(){r.notify()}function l(){b.onStateChange&&b.onStateChange()}function u(){return s}function d(){i++,t||(t=n.subscribe(l),r=NDe())}function h(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=T8)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return b}var QDe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kDe=QDe(),ODe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HDe=ODe(),VDe=()=>kDe||HDe?F.useLayoutEffect:F.useEffect,KDe=VDe();function I8(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function GDe(n,e){if(I8(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!I8(n[t[i]],e[t[i]]))return!1;return!0}var ER=Symbol.for("react-redux-context"),BR=typeof globalThis<"u"?globalThis:{};function zDe(){if(!F.createContext)return{};const n=BR[ER]??(BR[ER]=new Map);let e=n.get(F.createContext);return e||(e=F.createContext(null),n.set(F.createContext,e)),e}var qDe=zDe();function $De(n){const{children:e,context:t,serverState:r,store:i}=n,s=F.useMemo(()=>{const l=LDe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=F.useMemo(()=>i.getState(),[i]);KDe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||qDe;return F.createElement(o.Provider,{value:s},e)}var jDe=$De,WDe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function YDe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function NO(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var r of t)if(WDe.has(r)){if(n[r]==null&&e[r]==null)continue;if(!GDe(n[r],e[r]))return!1}else if(!YDe(n[r],e[r]))return!1;return!0}var XDe=["onMouseEnter","onMouseLeave","onClick"],JDe=["value","background","tooltipPosition"],ZDe=["id"],eNe=["onMouseEnter","onClick","onMouseLeave"];function Pu(){return Pu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pu.apply(null,arguments)}function F8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ns(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(t),!0).forEach(function(r){tNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tNe(n,e,t){return(e=nNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nNe(n){var e=rNe(n,"string");return typeof e=="symbol"?e:e+""}function rNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function o1(n,e){if(n==null)return{};var t,r,i=iNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function iNe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var sNe=n=>{var{dataKey:e,name:t,fill:r,legendType:i,hide:s}=n;return[{inactive:s,dataKey:e,type:i,color:r,value:IJ(t,e),payload:n}]},aNe=F.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:r,fill:i,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:IJ(s,e),hide:a,type:l,color:i,unit:o}};return F.createElement(ORe,{tooltipEntrySettings:u})});function oNe(n){var e=Ye(by),{data:t,dataKey:r,background:i,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=o1(s,XDe),d=Tee(a,r),h=Iee(o),g=Fee(l,r);if(!i||t==null)return null;var v=uk(i);return F.createElement(Af,{zIndex:UDe(i,Fs.barBackground)},t.map((b,C)=>{var{value:B,background:S,tooltipPosition:I}=b,T=o1(b,JDe);if(!S)return null;var R=d(b,C),M=h(b,C),D=g(b,C),L=ns(ns(ns(ns(ns({option:i,isActive:String(C)===e},T),{},{fill:"#eee"},S),v),mk(u,b,C)),{},{onMouseEnter:R,onMouseLeave:M,onClick:D,dataKey:r,index:C,className:"recharts-bar-background-rectangle"});return F.createElement(a1,Pu({key:"background-bar-".concat(C)},L))}))}function ANe(n){var{showLabels:e,children:t,rects:r}=n,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return ns(ns({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return F.createElement(cRe,{value:e?i:void 0},t)}function lNe(n){var{shape:e,activeBar:t,baseProps:r,entry:i,index:s,dataKey:a}=n,o=Ye(by),l=Ye(iee),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?F.createElement(Af,{zIndex:Fs.activeBar},F.createElement(a1,Pu({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))):F.createElement(a1,Pu({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))}function uNe(n){var{shape:e,baseProps:t,entry:r,index:i,dataKey:s}=n;return F.createElement(a1,Pu({},t,{name:String(t.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function cNe(n){var e,{data:t,props:r}=n,i=(e=Jd(r))!==null&&e!==void 0?e:{},{id:s}=i,a=o1(i,ZDe),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:g}=r,v=o1(r,eNe),b=Tee(d,l),C=Iee(g),B=Fee(h,l);return t?F.createElement(F.Fragment,null,t.map((S,I)=>F.createElement(xu,Pu({key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(I),className:"recharts-bar-rectangle"},mk(v,S,I),{onMouseEnter:b(S,I),onMouseLeave:C(S,I),onClick:B(S,I)}),u?F.createElement(lNe,{shape:o,activeBar:u,baseProps:a,entry:S,index:I,dataKey:l}):F.createElement(uNe,{shape:o,baseProps:a,entry:S,index:I,dataKey:l})))):null}function dNe(n){var{props:e,previousRectanglesRef:t}=n,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=Pk(e,"recharts-bar-"),[v,b]=F.useState(!1),C=!v,B=F.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),S=F.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return F.createElement(ANe,{showLabels:C,rects:r},F.createElement(Uk,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:B,onAnimationStart:S,key:g},I=>{var T=I===1?r:r==null?void 0:r.map((R,M)=>{var D=h&&h[M];if(D)return ns(ns({},R),{},{x:Ei(D.x,R.x,I),y:Ei(D.y,R.y,I),width:Ei(D.width,R.width,I),height:Ei(D.height,R.height,I)});if(i==="horizontal"){var L=Ei(0,R.height,I),H=Ei(R.stackedBarStart,R.y,I);return ns(ns({},R),{},{y:H,height:L})}var k=Ei(0,R.width,I),K=Ei(R.stackedBarStart,R.x,I);return ns(ns({},R),{},{width:k,x:K})});return I>0&&(t.current=T??null),T==null?null:F.createElement(xu,null,F.createElement(cNe,{props:e,data:T}))}),F.createElement(hRe,{label:e.label}),e.children)}function fNe(n){var e=F.useRef(null);return F.createElement(dNe,{previousRectanglesRef:e,props:n})}var Lee=0,hNe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Ki(n,e)}};class pNe extends F.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=Qn("recharts-bar",i),h=u;return F.createElement(xu,{className:d,id:u},o&&F.createElement("defs",null,F.createElement(MDe,{clipPathId:h,xAxisId:s,yAxisId:a})),F.createElement(xu,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},F.createElement(oNe,{data:t,dataKey:r,background:l,allOtherBarProps:this.props}),F.createElement(fNe,this.props)))}}var gNe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Lee,xAxisId:0,yAxisId:0,zIndex:Fs.bar};function mNe(n){var{xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=Nee(e,t),g=bI(),v=va(),b=wRe(n.children,PO),C=Ye(I=>zNe(I,e,t,v,n.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var B,S=C==null?void 0:C[0];return S==null||S.height==null||S.width==null?B=0:B=g==="vertical"?S.height/2:S.width/2,F.createElement(FDe,{xAxisId:e,yAxisId:t,data:C,dataPointFormatter:hNe,errorBarOffset:B},F.createElement(pNe,Pu({},n,{layout:g,needClip:h,data:C,xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function vNe(n){var{layout:e,barSettings:{dataKey:t,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:b,dataStartIndex:C}=n,B=e==="horizontal"?o:a,S=d?B.scale.domain():null,I=QSe({numericAxis:B}),T=B.scale(I);return h.map((R,M)=>{var D,L,H,k,K,G;d?D=USe(d[M+C],S):(D=Ki(R,t),Array.isArray(D)||(D=[I,D]));var z=CDe(r,Lee)(D[1],M);if(e==="horizontal"){var Z,[ne,J]=[o.scale(D[0]),o.scale(D[1])];L=tq({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:R,index:M}),H=(Z=J??ne)!==null&&Z!==void 0?Z:void 0,k=i.size;var V=ne-J;if(K=PA(V)?0:V,G={x:L,y:g.top,width:k,height:g.height},Math.abs(z)>0&&Math.abs(K)<Math.abs(z)){var $=da(K||z)*(Math.abs(z)-Math.abs(K));H-=$,K+=$}}else{var[re,de]=[a.scale(D[0]),a.scale(D[1])];if(L=re,H=tq({axis:o,ticks:u,bandSize:s,offset:i.offset,entry:R,index:M}),k=de-re,K=i.size,G={x:g.left,y:H,width:g.width,height:K},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var Ee=da(k||z)*(Math.abs(z)-Math.abs(k));k+=Ee}}if(L==null||H==null||k==null||K==null)return null;var q=ns(ns({},R),{},{stackedBarStart:T,x:L,y:H,width:k,height:K,value:d?D:D[1],payload:R,background:G,tooltipPosition:{x:L+k/2,y:H+K/2},parentViewBox:b},v&&v[M]&&v[M].props);return q}).filter(Boolean)}function yNe(n){var e=co(n,gNe),t=va();return F.createElement(zRe,{id:e.id,type:"bar"},r=>F.createElement(F.Fragment,null,F.createElement(HRe,{legendPayload:sNe(e)}),F.createElement(aNe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),F.createElement(JRe,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:LSe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),F.createElement(Af,{zIndex:e.zIndex},F.createElement(mNe,Pu({},e,{id:r})))))}var Qee=F.memo(yNe,NO);Qee.displayName="Bar";function M8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Lx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(t),!0).forEach(function(r){wNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wNe(n,e,t){return(e=bNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bNe(n){var e=CNe(n,"string");return typeof e=="symbol"?e:e+""}function CNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ENe=(n,e)=>e,BNe=(n,e,t)=>t,SNe=(n,e,t,r)=>r,xNe=(n,e,t,r,i)=>i,BB=ue([hO,xNe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),_Ne=ue([BB],n=>n==null?void 0:n.maxBarSize),TNe=(n,e,t,r,i,s)=>s,U8=(n,e,t)=>{var r=t??n;if(!ai(r))return ko(r,e,0)},INe=ue([Zt,hO,ENe,BNe,SNe],(n,e,t,r,i)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),FNe=(n,e,t,r)=>{var i=Zt(n);return i==="horizontal"?fQ(n,"yAxis",t,r):fQ(n,"xAxis",e,r)},MNe=(n,e,t)=>{var r=Zt(n);return r==="horizontal"?P$(n,"xAxis",e):P$(n,"yAxis",t)},UNe=(n,e,t)=>{var r={},i=n.filter(NI),s=n.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(b=>b.dataKey),v=U8(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=U8(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},PNe=ue([INe,YIe,MNe],UNe),RNe=(n,e,t,r,i)=>{var s,a,o=BB(n,e,t,r,i);if(o!=null){var l=Zt(n),u=$7(n),{maxBarSize:d}=o,h=ai(d)?u:d,g,v;return l==="horizontal"?(g=wy(n,"xAxis",e,r),v=yy(n,"xAxis",e,r)):(g=wy(n,"yAxis",t,r),v=yy(n,"yAxis",t,r)),(s=(a=DT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},kee=(n,e,t,r)=>{var i=Zt(n),s,a;return i==="horizontal"?(s=wy(n,"xAxis",e,r),a=yy(n,"xAxis",e,r)):(s=wy(n,"yAxis",t,r),a=yy(n,"yAxis",t,r)),DT(s,a)};function DNe(n,e,t,r,i){var s=r.length;if(!(s<1)){var a=ko(n,t,0,!0),o,l=[];if(mr(r[0].barSize)){var u=!1,d=t/s,h=r.reduce((S,I)=>S+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=r.reduce((S,I)=>{var T,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},M=[...S,R];return v=M[M.length-1].position,M},l)}else{var b=ko(e,t,0,!0);t-2*b-(s-1)*a<=0&&(a=0);var C=(t-2*b-(s-1)*a)/s;C>1&&(C>>=0);var B=mr(i)?Math.min(C,i):C;o=r.reduce((S,I,T)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b+(C+a)*T+(C-B)/2,size:B}}],l)}return o}}var NNe=(n,e,t,r,i,s,a)=>{var o=ai(a)?e:a,l=DNe(t,r,i!==s?i:s,n,o);return i!==s&&l!=null&&(l=l.map(u=>Lx(Lx({},u),{},{position:Lx(Lx({},u.position),{},{offset:u.position.offset-i/2})}))),l},LNe=ue([PNe,$7,WIe,j7,RNe,kee,_Ne],NNe),QNe=(n,e,t,r)=>wy(n,"xAxis",e,r),kNe=(n,e,t,r)=>wy(n,"yAxis",t,r),ONe=(n,e,t,r)=>yy(n,"xAxis",e,r),HNe=(n,e,t,r)=>yy(n,"yAxis",t,r),VNe=ue([LNe,BB],(n,e)=>{if(!(n==null||e==null)){var t=n.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),KNe=(n,e)=>{var t=dO(e);if(!(!n||t==null||e==null)){var{stackId:r}=e;if(r!=null){var i=n[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===t)}}}},GNe=ue([FNe,BB],KNe),zNe=ue([oi,Tk,QNe,kNe,ONe,HNe,VNe,Zt,rO,kee,GNe,BB,TNe],(n,e,t,r,i,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:C}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||i==null||s==null||u==null)){var{data:B}=h,S;if(B!=null&&B.length>0?S=B:S=v==null?void 0:v.slice(b,C+1),S!=null)return vNe({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:S,offset:n,cells:g,dataStartIndex:b})}}),qNe=n=>{var{chartData:e}=n,t=vr(),r=va();return F.useEffect(()=>r?()=>{}:(t(z$(e)),()=>{t(z$(void 0))}),[e,t,r]),null},P8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Oee=Ms({name:"brush",initialState:P8,reducers:{setBrushSettings(n,e){return e.payload==null?P8:e.payload}}}),{setBrushSettings:Lke}=Oee.actions,$Ne=Oee.reducer;function jNe(n,e,t){return(e=WNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WNe(n){var e=YNe(n,"string");return typeof e=="symbol"?e:e+""}function YNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class LO{static create(e){return new LO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],i=t[t.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}jNe(LO,"EPS",1e-4);function XNe(n){return(n%180+180)%180}var JNe=function(e){var{width:t,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=XNe(i),a=s*Math.PI/180,o=Math.atan(r/t),l=a>o&&a<Math.PI-o?r/Math.sin(a):t/Math.cos(a);return Math.abs(l)},ZNe={dots:[],areas:[],lines:[]},Hee=Ms({name:"referenceElements",initialState:ZNe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=Qo(n).dots.findIndex(r=>r===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=Qo(n).areas.findIndex(r=>r===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=Qo(n).lines.findIndex(r=>r===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:Qke,removeDot:kke,addArea:Oke,removeArea:Hke,addLine:Vke,removeLine:Kke}=Hee.actions,eLe=Hee.reducer,tLe=F.createContext(void 0),nLe=n=>{var{children:e}=n,[t]=F.useState("".concat(rb("recharts"),"-clip")),r=Ree();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return F.createElement(tLe.Provider,{value:t},F.createElement("defs",null,F.createElement("clipPath",{id:t},F.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Vee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],r=0;r<n.length;r+=e)t.push(n[r]);return t}function rLe(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return JNe(r,t)}function iLe(n,e,t){var r=t==="width",{x:i,y:s,width:a,height:o}=n;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function A1(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function sLe(n,e){return Vee(n,e+1)}function aLe(n,e,t,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:Vee(r,u)};var C=l,B,S=()=>(B===void 0&&(B=t(b,C)),B),I=b.coordinate,T=l===0||A1(n,I,S,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(S()/2+i),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function R8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Oi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(t),!0).forEach(function(r){oLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function oLe(n,e,t){return(e=ALe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ALe(n){var e=lLe(n,"string");return typeof e=="symbol"?e:e+""}function lLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uLe(n,e,t,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],b,C=()=>(b===void 0&&(b=t(v,g)),b);if(g===a-1){var B=n*(v.coordinate+n*C()/2-l);s[g]=v=Oi(Oi({},v),{},{tickCoord:B>0?v.coordinate-B*n:v.coordinate})}else s[g]=v=Oi(Oi({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var S=A1(n,v.tickCoord,C,o,l);S&&(l=v.tickCoord-n*(C()/2+i),s[g]=Oi(Oi({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function cLe(n,e,t,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=r[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=Oi(Oi({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=A1(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+i),a[o-1]=Oi(Oi({},d),{},{isShow:!0}))}}for(var b=s?o-1:o,C=function(I){var T=a[I],R,M=()=>(R===void 0&&(R=t(T,I)),R);if(I===0){var D=n*(T.coordinate-n*M()/2-l);a[I]=T=Oi(Oi({},T),{},{tickCoord:D<0?T.coordinate-D*n:T.coordinate})}else a[I]=T=Oi(Oi({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var L=A1(n,T.tickCoord,M,l,u);L&&(l=T.tickCoord+n*(M()/2+i),a[I]=Oi(Oi({},T),{},{isShow:!0}))}},B=0;B<b;B++)C(B);return a}function dLe(n,e,t){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!i||!i.length||!r)return[];if(Je(l)||uB.isSsr){var g;return(g=sLe(i,Je(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],b=o==="top"||o==="bottom"?"width":"height",C=d&&b==="width"?Gw(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},B=(T,R)=>{var M=typeof u=="function"?u(T.value,R):T.value;return b==="width"?rLe(Gw(M,{fontSize:e,letterSpacing:t}),C,h):Gw(M,{fontSize:e,letterSpacing:t})[b]},S=i.length>=2?da(i[1].coordinate-i[0].coordinate):1,I=iLe(s,S,b);return l==="equidistantPreserveStart"?aLe(S,I,B,i,a):(l==="preserveStart"||l==="preserveStartEnd"?v=cLe(S,I,B,i,a,l==="preserveStartEnd"):v=uLe(S,I,B,i,a),v.filter(T=>T.isShow))}var fLe=n=>{var{ticks:e,label:t,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(t?r:0);return Math.round(u)}return 0},hLe=["axisLine","width","height","className","hide","ticks","axisType"];function pLe(n,e){if(n==null)return{};var t,r,i=gLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function gLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Fp(){return Fp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fp.apply(null,arguments)}function D8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(t),!0).forEach(function(r){mLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mLe(n,e,t){return(e=vLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vLe(n){var e=yLe(n,"string");return typeof e=="symbol"?e:e+""}function yLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Ep={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Fs.axis};function wLe(n){var{x:e,y:t,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=Fr(Fr(Fr({},l),Jd(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=Fr(Fr({},u),{},{x1:e,y1:t+d*i,x2:e+r,y2:t+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Fr(Fr({},u),{},{x1:e+h*r,y1:t,x2:e+h*r,y2:t+i})}return F.createElement("line",Fp({},u,{className:Qn("recharts-cartesian-axis-line",dy(o,"className"))}))}function bLe(n,e,t,r,i,s,a,o,l){var u,d,h,g,v,b,C=o?-1:1,B=n.tickSize||a,S=Je(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*i,h=g-C*B,b=h-C*l,v=S;break;case"left":h=g=n.coordinate,d=e+ +!o*r,u=d-C*B,v=u-C*l,b=S;break;case"right":h=g=n.coordinate,d=e+ +o*r,u=d+C*B,v=u+C*l,b=S;break;default:u=d=n.coordinate,g=t+ +o*i,h=g+C*B,b=h+C*l,v=S;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:b}}}function CLe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function ELe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function BLe(n){var{option:e,tickProps:t,value:r}=n,i,s=Qn(t.className,"recharts-cartesian-axis-tick-value");if(F.isValidElement(e))i=F.cloneElement(e,Fr(Fr({},t),{},{className:s}));else if(typeof e=="function")i=e(Fr(Fr({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Qn(a,e==null?void 0:e.className)),i=F.createElement(RO,Fp({},t,{className:a}),r)}return i}var SLe=F.forwardRef((n,e)=>{var{ticks:t=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:b,height:C,tickSize:B,tickMargin:S,fontSize:I,letterSpacing:T,getTicksConfig:R,events:M,axisType:D}=n,L=dLe(Fr(Fr({},R),{},{ticks:t}),I,T),H=CLe(d,h),k=ELe(d,h),K=Jd(R),G=uk(r),z={};typeof i=="object"&&(z=i);var Z=Fr(Fr({},K),{},{fill:"none"},z),ne=L.map($=>Fr({entry:$},bLe($,g,v,b,C,d,B,h,S))),J=ne.map($=>{var{entry:re,line:de}=$;return F.createElement(xu,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&F.createElement("line",Fp({},Z,de,{className:Qn("recharts-cartesian-axis-tick-line",dy(i,"className"))})))}),V=ne.map(($,re)=>{var{entry:de,tick:Ee}=$,q=Fr(Fr(Fr(Fr({textAnchor:H,verticalAnchor:k},K),{},{stroke:"none",fill:s},G),Ee),{},{index:re,payload:de,visibleTicksCount:L.length,tickFormatter:a,padding:l},u);return F.createElement(xu,Fp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},mk(M,de,re)),r&&F.createElement(BLe,{option:r,tickProps:q,value:"".concat(typeof a=="function"?a(de.value,re):de.value).concat(o||"")}))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},V.length>0&&F.createElement(Af,{zIndex:Fs.label},F.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},V)),J.length>0&&F.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},J))}),xLe=F.forwardRef((n,e)=>{var{axisLine:t,width:r,height:i,className:s,hide:a,ticks:o,axisType:l}=n,u=pLe(n,hLe),[d,h]=F.useState(""),[g,v]=F.useState(""),b=F.useRef(null);F.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var B;return fLe({ticks:b.current,label:(B=n.labelRef)===null||B===void 0?void 0:B.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var C=F.useCallback(B=>{if(B){var S=B.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=S;var I=S[0];if(I){var T=window.getComputedStyle(I),R=T.fontSize,M=T.letterSpacing;(R!==d||M!==g)&&(h(R),v(M))}}},[d,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:F.createElement(Af,{zIndex:n.zIndex},F.createElement(xu,{className:Qn("recharts-cartesian-axis",s)},F.createElement(wLe,{x:n.x,y:n.y,width:r,height:i,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Jd(n)}),F.createElement(SLe,{ref:C,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),F.createElement(GPe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},F.createElement(eRe,{label:n.label,labelRef:n.labelRef}),n.children)))}),QO=F.forwardRef((n,e)=>{var t=co(n,Ep);return F.createElement(xLe,Fp({},t,{ref:e}))});QO.displayName="CartesianAxis";var _Le=["domain","range"],TLe=["domain","range"];function N8(n,e){if(n==null)return{};var t,r,i=ILe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ILe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function L8(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function Kee(n,e){if(n===e)return!0;var{domain:t,range:r}=n,i=N8(n,_Le),{domain:s,range:a}=e,o=N8(e,TLe);return!L8(t,s)||!L8(r,a)?!1:NO(i,o)}var FLe=["dangerouslySetInnerHTML","ticks"],MLe=["id"];function bQ(){return bQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bQ.apply(null,arguments)}function Q8(n,e){if(n==null)return{};var t,r,i=ULe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ULe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function PLe(n){var e=vr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(rDe(n)):t.current!==n&&e(iDe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(sDe(t.current)),t.current=null)},[e]),null}var RLe=n=>{var{xAxisId:e,className:t}=n,r=Ye(Tk),i=va(),s="xAxis",a=Ye(B=>Dy(B,s,e,i)),o=Ye(B=>QZ(B,s,e,i)),l=Ye(B=>RZ(B,e)),u=Ye(B=>$Fe(B,e)),d=Ye(B=>rZ(B,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=Q8(n,FLe),{id:b}=d,C=Q8(d,MLe);return F.createElement(QO,bQ({},v,C,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:Qn("recharts-".concat(s," ").concat(s),t),viewBox:r,ticks:o,axisType:s}))},DLe={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:Wr.allowDecimals,allowDuplicatedCategory:Wr.allowDuplicatedCategory,angle:Wr.angle,axisLine:Ep.axisLine,height:Wr.height,hide:!1,includeHidden:Wr.includeHidden,interval:Wr.interval,minTickGap:Wr.minTickGap,mirror:Wr.mirror,orientation:Wr.orientation,padding:Wr.padding,reversed:Wr.reversed,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,tickLine:Ep.tickLine,tickSize:Ep.tickSize,type:Wr.type,xAxisId:0},NLe=n=>{var e=co(n,DLe);return F.createElement(F.Fragment,null,F.createElement(PLe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),F.createElement(RLe,e))},Gee=F.memo(NLe,Kee);Gee.displayName="XAxis";var LLe=["dangerouslySetInnerHTML","ticks"],QLe=["id"];function CQ(){return CQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CQ.apply(null,arguments)}function k8(n,e){if(n==null)return{};var t,r,i=kLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function kLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function OLe(n){var e=vr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(aDe(n)):t.current!==n&&e(oDe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(ADe(t.current)),t.current=null)},[e]),null}var HLe=n=>{var{yAxisId:e,className:t,width:r,label:i}=n,s=F.useRef(null),a=F.useRef(null),o=Ye(Tk),l=va(),u=vr(),d="yAxis",h=Ye(M=>Dy(M,d,e,l)),g=Ye(M=>DZ(M,e)),v=Ye(M=>WFe(M,e)),b=Ye(M=>QZ(M,d,e,l)),C=Ye(M=>iZ(M,e));if(F.useLayoutEffect(()=>{if(!(r!=="auto"||!g||DO(i)||F.isValidElement(i)||C==null)){var M=s.current;if(M){var D=M.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&u(lDe({id:e,width:D}))}}},[b,g,u,i,e,r,C]),g==null||v==null||C==null)return null;var{dangerouslySetInnerHTML:B,ticks:S}=n,I=k8(n,LLe),{id:T}=C,R=k8(C,QLe);return F.createElement(QO,CQ({},I,R,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Qn("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:b,axisType:d}))},VLe={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:Yr.allowDecimals,allowDuplicatedCategory:Yr.allowDuplicatedCategory,angle:Yr.angle,axisLine:Ep.axisLine,hide:!1,includeHidden:Yr.includeHidden,interval:Yr.interval,minTickGap:Yr.minTickGap,mirror:Yr.mirror,orientation:Yr.orientation,padding:Yr.padding,reversed:Yr.reversed,scale:Yr.scale,tick:Yr.tick,tickCount:Yr.tickCount,tickLine:Ep.tickLine,tickSize:Ep.tickSize,type:Yr.type,width:Yr.width,yAxisId:0},KLe=n=>{var e=co(n,VLe);return F.createElement(F.Fragment,null,F.createElement(OLe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),F.createElement(HLe,e))},zee=F.memo(KLe,Kee);zee.displayName="YAxis";var GLe=(n,e)=>e,kO=ue([GLe,Zt,tZ,zr,eee,qu,lUe,oi],gUe),OO=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,r=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/r)}},qee=lo("mouseClick"),$ee=oB();$ee.startListening({actionCreator:qee,effect:(n,e)=>{var t=n.payload,r=kO(e.getState(),OO(t));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(lMe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var EQ=lo("mouseMove"),jee=oB(),Qx=null;jee.startListening({actionCreator:EQ,effect:(n,e)=>{var t=n.payload;Qx!==null&&cancelAnimationFrame(Qx);var r=OO(t);Qx=requestAnimationFrame(()=>{var i=e.getState(),s=EO(i,i.tooltip.settings.shared);if(s==="axis"){var a=kO(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(qZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(zZ())}Qx=null})}});var O8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Wee=Ms({name:"rootProps",initialState:O8,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:O8.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),zLe=Wee.reducer,{updateOptions:qLe}=Wee.actions,Yee=Ms({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:Gke}=Yee.actions,$Le=Yee.reducer,Xee=lo("keyDown"),Jee=lo("focus"),HO=oB();HO.startListening({actionCreator:Xee,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=BO(i,Ly(t),mB(t),CB(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=qu(t);if(s==="Enter"){var u=n1(t,"axis","hover",String(i.index));e.dispatch(pQ({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=ZFe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var b=n1(t,"axis","hover",String(v));e.dispatch(pQ({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}}});HO.startListening({actionCreator:Jee,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var s="0",a=n1(t,"axis","hover",String(s));e.dispatch(pQ({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Da=lo("externalEvent"),Zee=oB(),SR=new Map;Zee.startListening({actionCreator:Da,effect:(n,e)=>{var{handler:t,reactEvent:r}=n.payload;if(t!=null){r.persist();var i=r.type,s=SR.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:jMe(o),activeDataKey:iee(o),activeIndex:by(o),activeLabel:ree(o),activeTooltipIndex:by(o),isTooltipActive:WMe(o)};t(l,r)}finally{SR.delete(i)}});SR.set(i,a)}}});var jLe=ue([Ny],n=>n.tooltipItemPayloads),WLe=ue([jLe,wB,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,r)=>{var i=n.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,t);return a}}}),ete=lo("touchMove"),tte=oB();tte.startListening({actionCreator:ete,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var r=e.getState(),i=EO(r,r.tooltip.settings.shared);if(i==="axis"){var s=kO(r,OO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(qZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(zSe),d=(a=l.getAttribute(qSe))!==null&&a!==void 0?a:void 0,h=WLe(e.getState(),u,d);e.dispatch(GZ({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var YLe=eJ({brush:$Ne,cartesianAxis:uDe,chartData:jUe,errorBars:BDe,graphicalItems:YRe,layout:xSe,legend:Hxe,options:KUe,polarAxis:gRe,polarOptions:$Le,referenceElements:eLe,rootProps:zLe,tooltip:uMe,zIndex:FUe}),XLe=function(e){return XBe({reducer:YLe,preloadedState:e,middleware:t=>{var r;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([$ee.middleware,jee.middleware,HO.middleware,Zee.middleware,tte.middleware])},enhancers:t=>{var r=t;return typeof t=="function"&&(r=t()),r.concat(pJ({type:"raf"}))},devTools:uB.devToolsEnabled})};function JLe(n){var{preloadedState:e,children:t,reduxStoreName:r}=n,i=va(),s=F.useRef(null);if(i)return t;s.current==null&&(s.current=XLe(e));var a=yk;return F.createElement(jDe,{context:a,store:s.current},t)}function ZLe(n){var{layout:e,margin:t}=n,r=vr(),i=va();return F.useEffect(()=>{i||(r(ESe(e)),r(CSe(t)))},[r,i,e,t]),null}var eQe=F.memo(ZLe,NO);function tQe(n){var e=vr();return F.useEffect(()=>{e(qLe(n))},[e,n]),null}function H8(n){var{zIndex:e,isPanorama:t}=n,r=t?"recharts-zindex-panorama-":"recharts-zindex-",i=Mee("".concat(r).concat(e)),s=vr();return F.useLayoutEffect(()=>(s(TUe({zIndex:e,elementId:i,isPanorama:t})),()=>{s(IUe({zIndex:e,isPanorama:t}))}),[s,e,i,t]),F.createElement("g",{tabIndex:-1,id:i})}function V8(n){var{children:e,isPanorama:t}=n,r=Ye(vUe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return F.createElement(F.Fragment,null,i.map(a=>F.createElement(H8,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>F.createElement(H8,{key:a,zIndex:a,isPanorama:t})))}var nQe=["children"];function rQe(n,e){if(n==null)return{};var t,r,i=iQe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function iQe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function l1(){return l1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},l1.apply(null,arguments)}var sQe={width:"100%",height:"100%",display:"block"},aQe=F.forwardRef((n,e)=>{var t=Exe(),r=Bxe(),i=VJ();if(!Zd(t)||!Zd(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),F.createElement(v9,l1({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:r,style:sQe,ref:e}),s)}),oQe=n=>{var{children:e}=n,t=Ye(yI);if(!t)return null;var{width:r,height:i,y:s,x:a}=t;return F.createElement(v9,{width:r,height:i,x:a,y:s},e)},K8=F.forwardRef((n,e)=>{var{children:t}=n,r=rQe(n,nQe),i=va();return i?F.createElement(oQe,null,F.createElement(V8,{isPanorama:!0},t)):F.createElement(aQe,l1({ref:e},r),F.createElement(V8,{isPanorama:!1},t))});function AQe(){var n=vr(),[e,t]=F.useState(null),r=Ye(GSe);return F.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;mr(s)&&s!==r&&n(SSe(s))}},[e,n,r]),t}function G8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lQe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(t),!0).forEach(function(r){uQe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uQe(n,e,t){return(e=cQe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cQe(n){var e=dQe(n,"string");return typeof e=="symbol"?e:e+""}function dQe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mp.apply(null,arguments)}var fQe=()=>(rPe(),null);function u1(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var hQe=F.forwardRef((n,e)=>{var t,r,i=F.useRef(null),[s,a]=F.useState({containerWidth:u1((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:u1((r=n.style)===null||r===void 0?void 0:r.height)}),o=F.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=F.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=b=>{var{width:C,height:B}=b[0].contentRect;o(C,B)},v=new ResizeObserver(g);v.observe(u),i.current=v}},[e,o]);return F.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),F.createElement(F.Fragment,null,F.createElement(CI,{width:s.containerWidth,height:s.containerHeight}),F.createElement("div",Mp({ref:l},n)))}),pQe=F.forwardRef((n,e)=>{var{width:t,height:r}=n,[i,s]=F.useState({containerWidth:u1(t),containerHeight:u1(r)}),a=F.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=F.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return F.createElement(F.Fragment,null,F.createElement(CI,{width:i.containerWidth,height:i.containerHeight}),F.createElement("div",Mp({ref:o},n)))}),gQe=F.forwardRef((n,e)=>{var{width:t,height:r}=n;return F.createElement(F.Fragment,null,F.createElement(CI,{width:t,height:r}),F.createElement("div",Mp({ref:e},n)))}),mQe=F.forwardRef((n,e)=>{var{width:t,height:r}=n;return _u(t)||_u(r)?F.createElement(pQe,Mp({},n,{ref:e})):F.createElement(gQe,Mp({},n,{ref:e}))});function vQe(n){return n===!0?hQe:mQe}var yQe=F.forwardRef((n,e)=>{var{children:t,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:C,style:B,width:S,responsive:I,dispatchTouchEvents:T=!0}=n,R=F.useRef(null),M=vr(),[D,L]=F.useState(null),[H,k]=F.useState(null),K=AQe(),G=Ik(),z=(G==null?void 0:G.width)>0?G.width:S,Z=(G==null?void 0:G.height)>0?G.height:i,ne=F.useCallback(ee=>{K(ee),typeof e=="function"&&e(ee),L(ee),k(ee),ee!=null&&(R.current=ee)},[K,e,L,k]),J=F.useCallback(ee=>{M(qee(ee)),M(Da({handler:s,reactEvent:ee}))},[M,s]),V=F.useCallback(ee=>{M(EQ(ee)),M(Da({handler:u,reactEvent:ee}))},[M,u]),$=F.useCallback(ee=>{M(zZ()),M(Da({handler:d,reactEvent:ee}))},[M,d]),re=F.useCallback(ee=>{M(EQ(ee)),M(Da({handler:h,reactEvent:ee}))},[M,h]),de=F.useCallback(()=>{M(Jee())},[M]),Ee=F.useCallback(ee=>{M(Xee(ee.key))},[M]),q=F.useCallback(ee=>{M(Da({handler:a,reactEvent:ee}))},[M,a]),Y=F.useCallback(ee=>{M(Da({handler:o,reactEvent:ee}))},[M,o]),Ae=F.useCallback(ee=>{M(Da({handler:l,reactEvent:ee}))},[M,l]),me=F.useCallback(ee=>{M(Da({handler:g,reactEvent:ee}))},[M,g]),ie=F.useCallback(ee=>{M(Da({handler:C,reactEvent:ee}))},[M,C]),he=F.useCallback(ee=>{T&&M(ete(ee)),M(Da({handler:b,reactEvent:ee}))},[M,T,b]),ce=F.useCallback(ee=>{M(Da({handler:v,reactEvent:ee}))},[M,v]),Se=vQe(I);return F.createElement(cee.Provider,{value:D},F.createElement(FCe.Provider,{value:H},F.createElement(Se,{width:z??(B==null?void 0:B.width),height:Z??(B==null?void 0:B.height),className:Qn("recharts-wrapper",r),style:lQe({position:"relative",cursor:"default",width:z,height:Z},B),onClick:J,onContextMenu:q,onDoubleClick:Y,onFocus:de,onKeyDown:Ee,onMouseDown:Ae,onMouseEnter:V,onMouseLeave:$,onMouseMove:re,onMouseUp:me,onTouchEnd:ce,onTouchMove:he,onTouchStart:ie,ref:ne},F.createElement(fQe,null),t)))}),wQe=["width","height","responsive","children","className","style","compact","title","desc"];function bQe(n,e){if(n==null)return{};var t,r,i=CQe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function CQe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var EQe=F.forwardRef((n,e)=>{var{width:t,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=bQe(n,wQe),g=Jd(h);return l?F.createElement(F.Fragment,null,F.createElement(CI,{width:t,height:r}),F.createElement(K8,{otherAttributes:g,title:u,desc:d},s)):F.createElement(yQe,{className:a,style:o,width:t,height:r,responsive:i??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},F.createElement(K8,{otherAttributes:g,title:u,desc:d,ref:e},F.createElement(nLe,null,s)))});function BQ(){return BQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BQ.apply(null,arguments)}var BQe={top:5,right:5,bottom:5,left:5},SQe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:BQe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},xQe=F.forwardRef(function(e,t){var r,i=co(e.categoricalChartProps,SQe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return F.createElement(JLe,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},F.createElement(qNe,{chartData:u.data}),F.createElement(eQe,{layout:i.layout,margin:i.margin}),F.createElement(tQe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),F.createElement(EQe,BQ({},i,{ref:t})))}),_Qe=["axis","item"],TQe=F.forwardRef((n,e)=>F.createElement(xQe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_Qe,tooltipPayloadSearcher:HUe,categoricalChartProps:n,ref:e}));const IQe=()=>{const{stats:n,highlights:e}=rf(),t=Object.entries(n.chapterVisits).map(([i,s])=>({name:i==="ch1"?"Ch 1":i==="ch2"?"Ch 2":"Ch 3",visits:s})),r=i=>`${Math.floor(i/60)}m ${i%60}s`;return Q.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[Q.jsx(lY,{toggleSidebar:()=>{},toggleNotes:()=>{}}),Q.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[Q.jsxs("div",{className:"mb-8",children:[Q.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),Q.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),Q.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[Q.jsx(kx,{icon:Q.jsx(hhe,{className:"text-blue-500"}),label:"Reading Time",value:r(n.totalReadingTime)}),Q.jsx(kx,{icon:Q.jsx(Zfe,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),Q.jsx(kx,{icon:Q.jsx(oY,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),Q.jsx(kx,{icon:Q.jsx(JK,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),Q.jsx("div",{className:"h-64 w-full",children:Q.jsx(wxe,{width:"100%",height:"100%",children:Q.jsxs(TQe,{data:t,children:[Q.jsx(Gee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),Q.jsx(zee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),Q.jsx(cPe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),Q.jsx(Qee,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((i,s)=>Q.jsx(PO,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),Q.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[Q.jsx(JK,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[Q.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),Q.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((i,s)=>Q.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:i.text},s)),e.length===0&&Q.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),Q.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:Q.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},kx=({icon:n,label:e,value:t})=>Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[Q.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),Q.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),Q.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),FQe=()=>{const e=Qu().pathname==="/report";return Q.jsx("div",{"aria-hidden":e,style:{display:e?"none":"block"},children:Q.jsx(wCe,{})})},MQe=()=>Q.jsxs(Q.Fragment,{children:[Q.jsx(FQe,{}),Q.jsxs(hie,{children:[Q.jsx(IR,{path:"/report",element:Q.jsx(IQe,{})}),Q.jsx(IR,{path:"*",element:null})]})]}),UQe=()=>(tm.useEffect(()=>{var e;if(typeof CSS<"u"&&CSS.supports("height: 100dvh"))return;const n=()=>{var r;const t=((r=window.visualViewport)==null?void 0:r.height)??window.innerHeight;document.documentElement.style.setProperty("--app-height",`${t}px`)};return n(),window.addEventListener("resize",n),(e=window.visualViewport)==null||e.addEventListener("resize",n),()=>{var t;window.removeEventListener("resize",n),(t=window.visualViewport)==null||t.removeEventListener("resize",n)}},[]),Q.jsx(Lie,{children:Q.jsx(Gfe,{children:Q.jsx(MQe,{})})})),nte=document.getElementById("root");if(!nte)throw new Error("Could not find root element to mount to");const PQe=Cre.createRoot(nte);PQe.render(Q.jsx(tm.StrictMode,{children:Q.jsx(UQe,{})}));
