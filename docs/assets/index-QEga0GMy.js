var qne=Object.defineProperty;var bV=n=>{throw TypeError(n)};var $ne=(n,e,t)=>e in n?qne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var me=(n,e,t)=>$ne(n,typeof e!="symbol"?e+"":e,t),OU=(n,e,t)=>e.has(n)||bV("Cannot "+t);var f=(n,e,t)=>(OU(n,e,"read from private field"),t?t.call(n):e.get(n)),F=(n,e,t)=>e.has(n)?bV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,i)=>(OU(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),U=(n,e,t)=>(OU(n,e,"access private method"),t);var Zn=(n,e,t,i)=>({set _(r){_(n,e,r,t)},get _(){return f(n,e,i)}});function jne(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function _A(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var HU={exports:{}},f0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CV;function Wne(){if(CV)return f0;CV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return f0.Fragment=e,f0.jsx=t,f0.jsxs=t,f0}var BV;function Yne(){return BV||(BV=1,HU.exports=Wne()),HU.exports}var Q=Yne(),VU={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV;function Xne(){if(EV)return at;EV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function x(z,J,le){this.props=z,this.context=J,this.refs=E,this.updater=le||b}x.prototype.isReactComponent={},x.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function I(){}I.prototype=x.prototype;function T(z,J,le){this.props=z,this.context=J,this.refs=E,this.updater=le||b}var R=T.prototype=new I;R.constructor=T,C(R,x.prototype),R.isPureReactComponent=!0;var P=Array.isArray;function D(){}var L={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k(z,J,le){var ve=le.ref;return{$$typeof:n,type:z,key:J,ref:ve!==void 0?ve:null,props:le}}function K(z,J){return k(z.type,J,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function q(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return J[le]})}var X=/\/+/g;function ne(z,J){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):J.toString(36)}function he(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(D,D):(z.status="pending",z.then(function(J){z.status==="pending"&&(z.status="fulfilled",z.value=J)},function(J){z.status==="pending"&&(z.status="rejected",z.reason=J)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,J,le,ve,Ee){var Fe=typeof z;(Fe==="undefined"||Fe==="boolean")&&(z=null);var Ce=!1;if(z===null)Ce=!0;else switch(Fe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(z.$$typeof){case n:case e:Ce=!0;break;case d:return Ce=z._init,G(Ce(z._payload),J,le,ve,Ee)}}if(Ce)return Ee=Ee(z),Ce=ve===""?"."+ne(z,0):ve,P(Ee)?(le="",Ce!=null&&(le=Ce.replace(X,"$&/")+"/"),G(Ee,J,le,"",function(Le){return Le})):Ee!=null&&(V(Ee)&&(Ee=K(Ee,le+(Ee.key==null||z&&z.key===Ee.key?"":(""+Ee.key).replace(X,"$&/")+"/")+Ce)),J.push(Ee)),1;Ce=0;var ht=ve===""?".":ve+":";if(P(z))for(var ie=0;ie<z.length;ie++)ve=z[ie],Fe=ht+ne(ve,ie),Ce+=G(ve,J,le,Fe,Ee);else if(ie=v(z),typeof ie=="function")for(z=ie.call(z),ie=0;!(ve=z.next()).done;)ve=ve.value,Fe=ht+ne(ve,ie++),Ce+=G(ve,J,le,Fe,Ee);else if(Fe==="object"){if(typeof z.then=="function")return G(he(z),J,le,ve,Ee);throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function $(z,J,le){if(z==null)return z;var ve=[],Ee=0;return G(z,ve,"","",function(Fe){return J.call(le,Fe,Ee++)}),ve}function se(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var ae=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},be={map:$,forEach:function(z,J,le){$(z,function(){J.apply(this,arguments)},le)},count:function(z){var J=0;return $(z,function(){J++}),J},toArray:function(z){return $(z,function(J){return J})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return at.Activity=h,at.Children=be,at.Component=x,at.Fragment=t,at.Profiler=r,at.PureComponent=T,at.StrictMode=i,at.Suspense=l,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,at.__COMPILER_RUNTIME={__proto__:null,c:function(z){return L.H.useMemoCache(z)}},at.cache=function(z){return function(){return z.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(z,J,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ve=C({},z.props),Ee=z.key;if(J!=null)for(Fe in J.key!==void 0&&(Ee=""+J.key),J)!H.call(J,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&J.ref===void 0||(ve[Fe]=J[Fe]);var Fe=arguments.length-2;if(Fe===1)ve.children=le;else if(1<Fe){for(var Ce=Array(Fe),ht=0;ht<Fe;ht++)Ce[ht]=arguments[ht+2];ve.children=Ce}return k(z.type,Ee,ve)},at.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},at.createElement=function(z,J,le){var ve,Ee={},Fe=null;if(J!=null)for(ve in J.key!==void 0&&(Fe=""+J.key),J)H.call(J,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ee[ve]=J[ve]);var Ce=arguments.length-2;if(Ce===1)Ee.children=le;else if(1<Ce){for(var ht=Array(Ce),ie=0;ie<Ce;ie++)ht[ie]=arguments[ie+2];Ee.children=ht}if(z&&z.defaultProps)for(ve in Ce=z.defaultProps,Ce)Ee[ve]===void 0&&(Ee[ve]=Ce[ve]);return k(z,Fe,Ee)},at.createRef=function(){return{current:null}},at.forwardRef=function(z){return{$$typeof:o,render:z}},at.isValidElement=V,at.lazy=function(z){return{$$typeof:d,_payload:{_status:-1,_result:z},_init:se}},at.memo=function(z,J){return{$$typeof:u,type:z,compare:J===void 0?null:J}},at.startTransition=function(z){var J=L.T,le={};L.T=le;try{var ve=z(),Ee=L.S;Ee!==null&&Ee(le,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(D,ae)}catch(Fe){ae(Fe)}finally{J!==null&&le.types!==null&&(J.types=le.types),L.T=J}},at.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},at.use=function(z){return L.H.use(z)},at.useActionState=function(z,J,le){return L.H.useActionState(z,J,le)},at.useCallback=function(z,J){return L.H.useCallback(z,J)},at.useContext=function(z){return L.H.useContext(z)},at.useDebugValue=function(){},at.useDeferredValue=function(z,J){return L.H.useDeferredValue(z,J)},at.useEffect=function(z,J){return L.H.useEffect(z,J)},at.useEffectEvent=function(z){return L.H.useEffectEvent(z)},at.useId=function(){return L.H.useId()},at.useImperativeHandle=function(z,J,le){return L.H.useImperativeHandle(z,J,le)},at.useInsertionEffect=function(z,J){return L.H.useInsertionEffect(z,J)},at.useLayoutEffect=function(z,J){return L.H.useLayoutEffect(z,J)},at.useMemo=function(z,J){return L.H.useMemo(z,J)},at.useOptimistic=function(z,J){return L.H.useOptimistic(z,J)},at.useReducer=function(z,J,le){return L.H.useReducer(z,J,le)},at.useRef=function(z){return L.H.useRef(z)},at.useState=function(z){return L.H.useState(z)},at.useSyncExternalStore=function(z,J,le){return L.H.useSyncExternalStore(z,J,le)},at.useTransition=function(){return L.H.useTransition()},at.version="19.2.1",at}var SV;function ly(){return SV||(SV=1,VU.exports=Xne()),VU.exports}var M=ly();const D_=_A(M),Jne=jne({__proto__:null,default:D_},[M]);var KU={exports:{}},h0={},GU={exports:{}},zU={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xV;function Zne(){return xV||(xV=1,(function(n){function e(G,$){var se=G.length;G.push($);e:for(;0<se;){var ae=se-1>>>1,be=G[ae];if(0<r(be,$))G[ae]=$,G[se]=be,se=ae;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var $=G[0],se=G.pop();if(se!==$){G[0]=se;e:for(var ae=0,be=G.length,z=be>>>1;ae<z;){var J=2*(ae+1)-1,le=G[J],ve=J+1,Ee=G[ve];if(0>r(le,se))ve<be&&0>r(Ee,le)?(G[ae]=Ee,G[ve]=se,ae=ve):(G[ae]=le,G[J]=se,ae=J);else if(ve<be&&0>r(Ee,se))G[ae]=Ee,G[ve]=se,ae=ve;else break e}}return $}function r(G,$){var se=G.sortIndex-$.sortIndex;return se!==0?se:G.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,b=!1,C=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(G){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=G)i(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function P(G){if(C=!1,R(G),!b)if(t(l)!==null)b=!0,D||(D=!0,q());else{var $=t(u);$!==null&&he(P,$.startTime-G)}}var D=!1,L=-1,H=5,k=-1;function K(){return E?!0:!(n.unstable_now()-k<H)}function V(){if(E=!1,D){var G=n.unstable_now();k=G;var $=!0;try{e:{b=!1,C&&(C=!1,I(L),L=-1),v=!0;var se=g;try{t:{for(R(G),h=t(l);h!==null&&!(h.expirationTime>G&&K());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,g=h.priorityLevel;var be=ae(h.expirationTime<=G);if(G=n.unstable_now(),typeof be=="function"){h.callback=be,R(G),$=!0;break t}h===t(l)&&i(l),R(G)}else i(l);h=t(l)}if(h!==null)$=!0;else{var z=t(u);z!==null&&he(P,z.startTime-G),$=!1}}break e}finally{h=null,g=se,v=!1}$=void 0}}finally{$?q():D=!1}}}var q;if(typeof T=="function")q=function(){T(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ne=X.port2;X.port1.onmessage=V,q=function(){ne.postMessage(null)}}else q=function(){x(V,0)};function he(G,$){L=x(function(){G(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(G){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var se=g;g=$;try{return G()}finally{g=se}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var se=g;g=G;try{return $()}finally{g=se}},n.unstable_scheduleCallback=function(G,$,se){var ae=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ae+se:ae):se=ae,G){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=se+be,G={id:d++,callback:$,priorityLevel:G,startTime:se,expirationTime:be,sortIndex:-1},se>ae?(G.sortIndex=se,e(u,G),t(l)===null&&G===t(u)&&(C?(I(L),L=-1):C=!0,he(P,se-ae))):(G.sortIndex=be,e(l,G),b||v||(b=!0,D||(D=!0,q()))),G},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(G){var $=g;return function(){var se=g;g=$;try{return G.apply(this,arguments)}finally{g=se}}}})(zU)),zU}var _V;function eie(){return _V||(_V=1,GU.exports=Zne()),GU.exports}var qU={exports:{}},wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TV;function tie(){if(TV)return wr;TV=1;var n=ly();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wr.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},wr.flushSync=function(l){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=d,i.d.f()}},wr.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},wr.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},wr.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&i.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},wr.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},wr.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);i.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},wr.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},wr.requestFormReset=function(l){i.d.r(l)},wr.unstable_batchedUpdates=function(l,u){return l(u)},wr.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},wr.useFormStatus=function(){return a.H.useHostTransitionStatus()},wr.version="19.2.1",wr}var IV;function F$(){if(IV)return qU.exports;IV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qU.exports=tie(),qU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FV;function nie(){if(FV)return h0;FV=1;var n=eie(),e=ly(),t=F$();function i(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(i(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(i(188));return c!==A?null:A}for(var p=A,m=c;;){var B=p.return;if(B===null)break;var S=B.alternate;if(S===null){if(m=B.return,m!==null){p=m;continue}break}if(B.child===S.child){for(S=B.child;S;){if(S===p)return l(B),A;if(S===m)return l(B),c;S=S.sibling}throw Error(i(188))}if(p.return!==m.return)p=B,m=S;else{for(var N=!1,O=B.child;O;){if(O===p){N=!0,p=B,m=S;break}if(O===m){N=!0,m=B,p=S;break}O=O.sibling}if(!N){for(O=S.child;O;){if(O===p){N=!0,p=S,m=B;break}if(O===m){N=!0,m=S,p=B;break}O=O.sibling}if(!N)throw Error(i(189))}}if(p.alternate!==m)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(A){return A===null||typeof A!="object"?null:(A=V&&A[V]||A["@@iterator"],typeof A=="function"?A:null)}var X=Symbol.for("react.client.reference");function ne(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===X?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case C:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case b:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case R:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case L:return c=A.displayName||null,c!==null?c:ne(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return ne(A(c))}catch{}}return null}var he=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ae=[],be=-1;function z(A){return{current:A}}function J(A){0>be||(A.current=ae[be],ae[be]=null,be--)}function le(A,c){be++,ae[be]=A.current,A.current=c}var ve=z(null),Ee=z(null),Fe=z(null),Ce=z(null);function ht(A,c){switch(le(Fe,c),le(Ee,A),le(ve,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?G4(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=G4(c),A=z4(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}J(ve),le(ve,A)}function ie(){J(ve),J(Ee),J(Fe)}function Le(A){A.memoizedState!==null&&le(Ce,A);var c=ve.current,p=z4(c,A.type);c!==p&&(le(Ee,A),le(ve,p))}function qe(A){Ee.current===A&&(J(ve),J(Ee)),Ce.current===A&&(J(Ce),l0._currentValue=se)}var ge,Ht;function it(A){if(ge===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);ge=c&&c[1]||"",Ht=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+A+Ht}var ln=!1;function mn(A,c){if(!A||ln)return"";ln=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var re=oe}Reflect.construct(A,[],pe)}else{try{pe.call()}catch(oe){re=oe}A.call(pe.prototype)}}else{try{throw Error()}catch(oe){re=oe}(pe=A())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),N=S[0],O=S[1];if(N&&O){var j=N.split(`
`),te=O.split(`
`);for(B=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;B<te.length&&!te[B].includes("DetermineComponentFrameRoot");)B++;if(m===j.length||B===te.length)for(m=j.length-1,B=te.length-1;1<=m&&0<=B&&j[m]!==te[B];)B--;for(;1<=m&&0<=B;m--,B--)if(j[m]!==te[B]){if(m!==1||B!==1)do if(m--,B--,0>B||j[m]!==te[B]){var de=`
`+j[m].replace(" at new "," at ");return A.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",A.displayName)),de}while(1<=m&&0<=B);break}}}finally{ln=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?it(p):""}function oi(A,c){switch(A.tag){case 26:case 27:case 5:return it(A.type);case 16:return it("Lazy");case 13:return A.child!==c&&c!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return mn(A.type,!1);case 11:return mn(A.type.render,!1);case 1:return mn(A.type,!0);case 31:return it("Activity");default:return""}}function Xi(A){try{var c="",p=null;do c+=oi(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var vr=Object.prototype.hasOwnProperty,yr=n.unstable_scheduleCallback,Yr=n.unstable_cancelCallback,Do=n.unstable_shouldYield,_e=n.unstable_requestPaint,Z=n.unstable_now,we=n.unstable_getCurrentPriorityLevel,Re=n.unstable_ImmediatePriority,wt=n.unstable_UserBlockingPriority,$e=n.unstable_NormalPriority,ce=n.unstable_LowPriority,ye=n.unstable_IdlePriority,Se=n.log,Pe=n.unstable_setDisableYieldValue,Ie=null,Ve=null;function We(A){if(typeof Se=="function"&&Pe(A),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(Ie,A)}catch{}}var xe=Math.clz32?Math.clz32:Pi,vn=Math.log,Yn=Math.LN2;function Pi(A){return A>>>=0,A===0?32:31-(vn(A)/Yn|0)|0}var Xr=256,Ai=262144,No=4194304;function Cs(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Cp(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var B=0,S=A.suspendedLanes,N=A.pingedLanes;A=A.warmLanes;var O=m&134217727;return O!==0?(m=O&~S,m!==0?B=Cs(m):(N&=O,N!==0?B=Cs(N):p||(p=O&~A,p!==0&&(B=Cs(p))))):(O=m&~S,O!==0?B=Cs(O):N!==0?B=Cs(N):p||(p=m&~A,p!==0&&(B=Cs(p)))),B===0?0:c!==0&&c!==B&&(c&S)===0&&(S=B&-B,p=c&-c,S>=p||S===32&&(p&4194048)!==0)?c:B}function Gd(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function II(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AE(){var A=No;return No<<=1,(No&62914560)===0&&(No=4194304),A}function zd(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function qd(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function FI(A,c,p,m,B,S){var N=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var O=A.entanglements,j=A.expirationTimes,te=A.hiddenUpdates;for(p=N&~p;0<p;){var de=31-xe(p),pe=1<<de;O[de]=0,j[de]=-1;var re=te[de];if(re!==null)for(te[de]=null,de=0;de<re.length;de++){var oe=re[de];oe!==null&&(oe.lane&=-536870913)}p&=~pe}m!==0&&lE(A,m,0),S!==0&&B===0&&A.tag!==0&&(A.suspendedLanes|=S&~(N&~c))}function lE(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-xe(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function uE(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-xe(p),B=1<<m;B&c|A[m]&c&&(A[m]|=c),p&=~B}}function cE(A,c){var p=c&-c;return p=(p&42)!==0?1:By(p),(p&(A.suspendedLanes|c))!==0?0:p}function By(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Be(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function st(){var A=$.p;return A!==0?A:(A=window.event,A===void 0?32:hV(A.type))}function Ze(A,c){var p=$.p;try{return $.p=A,c()}finally{$.p=p}}var je=Math.random().toString(36).slice(2),rt="__reactFiber$"+je,Yt="__reactProps$"+je,la="__reactContainer$"+je,Mu="__reactEvents$"+je,UI="__reactListeners$"+je,Nee="__reactHandles$"+je,UO="__reactResources$"+je,Ey="__reactMarker$"+je;function MI(A){delete A[rt],delete A[Yt],delete A[Mu],delete A[UI],delete A[Nee]}function Bp(A){var c=A[rt];if(c)return c;for(var p=A.parentNode;p;){if(c=p[la]||p[rt]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=J4(A);A!==null;){if(p=A[rt])return p;A=J4(A)}return c}A=p,p=A.parentNode}return null}function Ep(A){if(A=A[rt]||A[la]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function Sy(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(i(33))}function Sp(A){var c=A[UO];return c||(c=A[UO]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ri(A){A[Ey]=!0}var MO=new Set,PO={};function $d(A,c){xp(A,c),xp(A+"Capture",c)}function xp(A,c){for(PO[A]=c,A=0;A<c.length;A++)MO.add(c[A])}var Lee=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),RO={},DO={};function Qee(A){return vr.call(DO,A)?!0:vr.call(RO,A)?!1:Lee.test(A)?DO[A]=!0:(RO[A]=!0,!1)}function dE(A,c,p){if(Qee(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function fE(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function FA(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function ua(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function NO(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function kee(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var B=m.get,S=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return B.call(this)},set:function(N){p=""+N,S.call(this,N)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function PI(A){if(!A._valueTracker){var c=NO(A)?"checked":"value";A._valueTracker=kee(A,c,""+A[c])}}function LO(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=NO(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function hE(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Oee=/[\n"\\]/g;function ca(A){return A.replace(Oee,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function RI(A,c,p,m,B,S,N,O){A.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?A.type=N:A.removeAttribute("type"),c!=null?N==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+ua(c)):A.value!==""+ua(c)&&(A.value=""+ua(c)):N!=="submit"&&N!=="reset"||A.removeAttribute("value"),c!=null?DI(A,N,ua(c)):p!=null?DI(A,N,ua(p)):m!=null&&A.removeAttribute("value"),B==null&&S!=null&&(A.defaultChecked=!!S),B!=null&&(A.checked=B&&typeof B!="function"&&typeof B!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?A.name=""+ua(O):A.removeAttribute("name")}function QO(A,c,p,m,B,S,N,O){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(A.type=S),c!=null||p!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){PI(A);return}p=p!=null?""+ua(p):"",c=c!=null?""+ua(c):p,O||c===A.value||(A.value=c),A.defaultValue=c}m=m??B,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=O?A.checked:!!m,A.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(A.name=N),PI(A)}function DI(A,c,p){c==="number"&&hE(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function _p(A,c,p,m){if(A=A.options,c){c={};for(var B=0;B<p.length;B++)c["$"+p[B]]=!0;for(p=0;p<A.length;p++)B=c.hasOwnProperty("$"+A[p].value),A[p].selected!==B&&(A[p].selected=B),B&&m&&(A[p].defaultSelected=!0)}else{for(p=""+ua(p),c=null,B=0;B<A.length;B++){if(A[B].value===p){A[B].selected=!0,m&&(A[B].defaultSelected=!0);return}c!==null||A[B].disabled||(c=A[B])}c!==null&&(c.selected=!0)}}function kO(A,c,p){if(c!=null&&(c=""+ua(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+ua(p):""}function OO(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(i(92));if(he(m)){if(1<m.length)throw Error(i(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=ua(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),PI(A)}function Tp(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var Hee=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function HO(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||Hee.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function VO(A,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var B in c)m=c[B],c.hasOwnProperty(B)&&p[B]!==m&&HO(A,B,m)}else for(var S in c)c.hasOwnProperty(S)&&HO(A,S,c[S])}function NI(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pE(A){return Kee.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function UA(){}var LI=null;function QI(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Ip=null,Fp=null;function KO(A){var c=Ep(A);if(c&&(A=c.stateNode)){var p=A[Yt]||null;e:switch(A=c.stateNode,c.type){case"input":if(RI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ca(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var B=m[Yt]||null;if(!B)throw Error(i(90));RI(m,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&LO(m)}break e;case"textarea":kO(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&_p(A,!!p.multiple,c,!1)}}}var kI=!1;function GO(A,c,p){if(kI)return A(c,p);kI=!0;try{var m=A(c);return m}finally{if(kI=!1,(Ip!==null||Fp!==null)&&(nS(),Ip&&(c=Ip,A=Fp,Fp=Ip=null,KO(c),A)))for(c=0;c<A.length;c++)KO(A[c])}}function xy(A,c){var p=A.stateNode;if(p===null)return null;var m=p[Yt]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var MA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),OI=!1;if(MA)try{var _y={};Object.defineProperty(_y,"passive",{get:function(){OI=!0}}),window.addEventListener("test",_y,_y),window.removeEventListener("test",_y,_y)}catch{OI=!1}var Pu=null,HI=null,gE=null;function zO(){if(gE)return gE;var A,c=HI,p=c.length,m,B="value"in Pu?Pu.value:Pu.textContent,S=B.length;for(A=0;A<p&&c[A]===B[A];A++);var N=p-A;for(m=1;m<=N&&c[p-m]===B[S-m];m++);return gE=B.slice(A,1<m?1-m:void 0)}function mE(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function vE(){return!0}function qO(){return!1}function Jr(A){function c(p,m,B,S,N){this._reactName=p,this._targetInst=B,this.type=m,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var O in A)A.hasOwnProperty(O)&&(p=A[O],this[O]=p?p(S):S[O]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?vE:qO,this.isPropagationStopped=qO,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=vE)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=vE)},persist:function(){},isPersistent:vE}),c}var jd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yE=Jr(jd),Ty=h({},jd,{view:0,detail:0}),Gee=Jr(Ty),VI,KI,Iy,wE=h({},Ty,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zI,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Iy&&(Iy&&A.type==="mousemove"?(VI=A.screenX-Iy.screenX,KI=A.screenY-Iy.screenY):KI=VI=0,Iy=A),VI)},movementY:function(A){return"movementY"in A?A.movementY:KI}}),$O=Jr(wE),zee=h({},wE,{dataTransfer:0}),qee=Jr(zee),$ee=h({},Ty,{relatedTarget:0}),GI=Jr($ee),jee=h({},jd,{animationName:0,elapsedTime:0,pseudoElement:0}),Wee=Jr(jee),Yee=h({},jd,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),Xee=Jr(Yee),Jee=h({},jd,{data:0}),jO=Jr(Jee),Zee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ete={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nte(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=tte[A])?!!c[A]:!1}function zI(){return nte}var ite=h({},Ty,{key:function(A){if(A.key){var c=Zee[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=mE(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?ete[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zI,charCode:function(A){return A.type==="keypress"?mE(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?mE(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),rte=Jr(ite),ste=h({},wE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WO=Jr(ste),ate=h({},Ty,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zI}),ote=Jr(ate),Ate=h({},jd,{propertyName:0,elapsedTime:0,pseudoElement:0}),lte=Jr(Ate),ute=h({},wE,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),cte=Jr(ute),dte=h({},jd,{newState:0,oldState:0}),fte=Jr(dte),hte=[9,13,27,32],qI=MA&&"CompositionEvent"in window,Fy=null;MA&&"documentMode"in document&&(Fy=document.documentMode);var pte=MA&&"TextEvent"in window&&!Fy,YO=MA&&(!qI||Fy&&8<Fy&&11>=Fy),XO=" ",JO=!1;function ZO(A,c){switch(A){case"keyup":return hte.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e2(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Up=!1;function gte(A,c){switch(A){case"compositionend":return e2(c);case"keypress":return c.which!==32?null:(JO=!0,XO);case"textInput":return A=c.data,A===XO&&JO?null:A;default:return null}}function mte(A,c){if(Up)return A==="compositionend"||!qI&&ZO(A,c)?(A=zO(),gE=HI=Pu=null,Up=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return YO&&c.locale!=="ko"?null:c.data;default:return null}}var vte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t2(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!vte[A.type]:c==="textarea"}function n2(A,c,p,m){Ip?Fp?Fp.push(m):Fp=[m]:Ip=m,c=lS(c,"onChange"),0<c.length&&(p=new yE("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var Uy=null,My=null;function yte(A){Q4(A,0)}function bE(A){var c=Sy(A);if(LO(c))return A}function i2(A,c){if(A==="change")return c}var r2=!1;if(MA){var $I;if(MA){var jI="oninput"in document;if(!jI){var s2=document.createElement("div");s2.setAttribute("oninput","return;"),jI=typeof s2.oninput=="function"}$I=jI}else $I=!1;r2=$I&&(!document.documentMode||9<document.documentMode)}function a2(){Uy&&(Uy.detachEvent("onpropertychange",o2),My=Uy=null)}function o2(A){if(A.propertyName==="value"&&bE(My)){var c=[];n2(c,My,A,QI(A)),GO(yte,c)}}function wte(A,c,p){A==="focusin"?(a2(),Uy=c,My=p,Uy.attachEvent("onpropertychange",o2)):A==="focusout"&&a2()}function bte(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return bE(My)}function Cte(A,c){if(A==="click")return bE(c)}function Bte(A,c){if(A==="input"||A==="change")return bE(c)}function Ete(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var Bs=typeof Object.is=="function"?Object.is:Ete;function Py(A,c){if(Bs(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var B=p[m];if(!vr.call(c,B)||!Bs(A[B],c[B]))return!1}return!0}function A2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function l2(A,c){var p=A2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=A2(p)}}function u2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?u2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function c2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=hE(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=hE(A.document)}return c}function WI(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var Ste=MA&&"documentMode"in document&&11>=document.documentMode,Mp=null,YI=null,Ry=null,XI=!1;function d2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;XI||Mp==null||Mp!==hE(m)||(m=Mp,"selectionStart"in m&&WI(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ry&&Py(Ry,m)||(Ry=m,m=lS(YI,"onSelect"),0<m.length&&(c=new yE("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=Mp)))}function Wd(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var Pp={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionrun:Wd("Transition","TransitionRun"),transitionstart:Wd("Transition","TransitionStart"),transitioncancel:Wd("Transition","TransitionCancel"),transitionend:Wd("Transition","TransitionEnd")},JI={},f2={};MA&&(f2=document.createElement("div").style,"AnimationEvent"in window||(delete Pp.animationend.animation,delete Pp.animationiteration.animation,delete Pp.animationstart.animation),"TransitionEvent"in window||delete Pp.transitionend.transition);function Yd(A){if(JI[A])return JI[A];if(!Pp[A])return A;var c=Pp[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in f2)return JI[A]=c[p];return A}var h2=Yd("animationend"),p2=Yd("animationiteration"),g2=Yd("animationstart"),xte=Yd("transitionrun"),_te=Yd("transitionstart"),Tte=Yd("transitioncancel"),m2=Yd("transitionend"),v2=new Map,ZI="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ZI.push("scrollEnd");function no(A,c){v2.set(A,c),$d(c,[A])}var CE=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},da=[],Rp=0,eF=0;function BE(){for(var A=Rp,c=eF=Rp=0;c<A;){var p=da[c];da[c++]=null;var m=da[c];da[c++]=null;var B=da[c];da[c++]=null;var S=da[c];if(da[c++]=null,m!==null&&B!==null){var N=m.pending;N===null?B.next=B:(B.next=N.next,N.next=B),m.pending=B}S!==0&&y2(p,B,S)}}function EE(A,c,p,m){da[Rp++]=A,da[Rp++]=c,da[Rp++]=p,da[Rp++]=m,eF|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function tF(A,c,p,m){return EE(A,c,p,m),SE(A)}function Xd(A,c){return EE(A,null,null,c),SE(A)}function y2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var B=!1,S=A.return;S!==null;)S.childLanes|=p,m=S.alternate,m!==null&&(m.childLanes|=p),S.tag===22&&(A=S.stateNode,A===null||A._visibility&1||(B=!0)),A=S,S=S.return;return A.tag===3?(S=A.stateNode,B&&c!==null&&(B=31-xe(p),A=S.hiddenUpdates,m=A[B],m===null?A[B]=[c]:m.push(c),c.lane=p|536870912),S):null}function SE(A){if(50<n0)throw n0=0,uU=null,Error(i(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var Dp={};function Ite(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(A,c,p,m){return new Ite(A,c,p,m)}function nF(A){return A=A.prototype,!(!A||!A.isReactComponent)}function PA(A,c){var p=A.alternate;return p===null?(p=Es(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function w2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function xE(A,c,p,m,B,S){var N=0;if(m=A,typeof A=="function")nF(A)&&(N=1);else if(typeof A=="string")N=Rne(A,p,ve.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=Es(31,p,c,B),A.elementType=k,A.lanes=S,A;case C:return Jd(p.children,B,S,c);case E:N=8,B|=24;break;case x:return A=Es(12,p,c,B|2),A.elementType=x,A.lanes=S,A;case P:return A=Es(13,p,c,B),A.elementType=P,A.lanes=S,A;case D:return A=Es(19,p,c,B),A.elementType=D,A.lanes=S,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:N=10;break e;case I:N=9;break e;case R:N=11;break e;case L:N=14;break e;case H:N=16,m=null;break e}N=29,p=Error(i(130,A===null?"null":typeof A,"")),m=null}return c=Es(N,p,c,B),c.elementType=A,c.type=m,c.lanes=S,c}function Jd(A,c,p,m){return A=Es(7,A,m,c),A.lanes=p,A}function iF(A,c,p){return A=Es(6,A,null,c),A.lanes=p,A}function b2(A){var c=Es(18,null,null,0);return c.stateNode=A,c}function rF(A,c,p){return c=Es(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var C2=new WeakMap;function fa(A,c){if(typeof A=="object"&&A!==null){var p=C2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:Xi(c)},C2.set(A,c),c)}return{value:A,source:c,stack:Xi(c)}}var Np=[],Lp=0,_E=null,Dy=0,ha=[],pa=0,Ru=null,Lo=1,Qo="";function RA(A,c){Np[Lp++]=Dy,Np[Lp++]=_E,_E=A,Dy=c}function B2(A,c,p){ha[pa++]=Lo,ha[pa++]=Qo,ha[pa++]=Ru,Ru=A;var m=Lo;A=Qo;var B=32-xe(m)-1;m&=~(1<<B),p+=1;var S=32-xe(c)+B;if(30<S){var N=B-B%5;S=(m&(1<<N)-1).toString(32),m>>=N,B-=N,Lo=1<<32-xe(c)+B|p<<B|m,Qo=S+A}else Lo=1<<S|p<<B|m,Qo=A}function sF(A){A.return!==null&&(RA(A,1),B2(A,1,0))}function aF(A){for(;A===_E;)_E=Np[--Lp],Np[Lp]=null,Dy=Np[--Lp],Np[Lp]=null;for(;A===Ru;)Ru=ha[--pa],ha[pa]=null,Qo=ha[--pa],ha[pa]=null,Lo=ha[--pa],ha[pa]=null}function E2(A,c){ha[pa++]=Lo,ha[pa++]=Qo,ha[pa++]=Ru,Lo=c.id,Qo=c.overflow,Ru=A}var Ji=null,En=null,Tt=!1,Du=null,ga=!1,oF=Error(i(519));function Nu(A){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ny(fa(c,A)),oF}function S2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[rt]=A,c[Yt]=m,p){case"dialog":Bt("cancel",c),Bt("close",c);break;case"iframe":case"object":case"embed":Bt("load",c);break;case"video":case"audio":for(p=0;p<r0.length;p++)Bt(r0[p],c);break;case"source":Bt("error",c);break;case"img":case"image":case"link":Bt("error",c),Bt("load",c);break;case"details":Bt("toggle",c);break;case"input":Bt("invalid",c),QO(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Bt("invalid",c);break;case"textarea":Bt("invalid",c),OO(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||V4(c.textContent,p)?(m.popover!=null&&(Bt("beforetoggle",c),Bt("toggle",c)),m.onScroll!=null&&Bt("scroll",c),m.onScrollEnd!=null&&Bt("scrollend",c),m.onClick!=null&&(c.onclick=UA),c=!0):c=!1,c||Nu(A,!0)}function x2(A){for(Ji=A.return;Ji;)switch(Ji.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:Ji=Ji.return}}function Qp(A){if(A!==Ji)return!1;if(!Tt)return x2(A),Tt=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||SU(A.type,A.memoizedProps)),p=!p),p&&En&&Nu(A),x2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));En=X4(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));En=X4(A)}else c===27?(c=En,Yu(A.type)?(A=FU,FU=null,En=A):En=c):En=Ji?va(A.stateNode.nextSibling):null;return!0}function Zd(){En=Ji=null,Tt=!1}function AF(){var A=Du;return A!==null&&(ns===null?ns=A:ns.push.apply(ns,A),Du=null),A}function Ny(A){Du===null?Du=[A]:Du.push(A)}var lF=z(null),ef=null,DA=null;function Lu(A,c,p){le(lF,c._currentValue),c._currentValue=p}function NA(A){A._currentValue=lF.current,J(lF)}function uF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function cF(A,c,p,m){var B=A.child;for(B!==null&&(B.return=A);B!==null;){var S=B.dependencies;if(S!==null){var N=B.child;S=S.firstContext;e:for(;S!==null;){var O=S;S=B;for(var j=0;j<c.length;j++)if(O.context===c[j]){S.lanes|=p,O=S.alternate,O!==null&&(O.lanes|=p),uF(S.return,p,A),m||(N=null);break e}S=O.next}}else if(B.tag===18){if(N=B.return,N===null)throw Error(i(341));N.lanes|=p,S=N.alternate,S!==null&&(S.lanes|=p),uF(N,p,A),N=null}else N=B.child;if(N!==null)N.return=B;else for(N=B;N!==null;){if(N===A){N=null;break}if(B=N.sibling,B!==null){B.return=N.return,N=B;break}N=N.return}B=N}}function kp(A,c,p,m){A=null;for(var B=c,S=!1;B!==null;){if(!S){if((B.flags&524288)!==0)S=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var N=B.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var O=B.type;Bs(B.pendingProps.value,N.value)||(A!==null?A.push(O):A=[O])}}else if(B===Ce.current){if(N=B.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(A!==null?A.push(l0):A=[l0])}B=B.return}A!==null&&cF(c,A,p,m),c.flags|=262144}function TE(A){for(A=A.firstContext;A!==null;){if(!Bs(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function tf(A){ef=A,DA=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Zi(A){return _2(ef,A)}function IE(A,c){return ef===null&&tf(A),_2(A,c)}function _2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},DA===null){if(A===null)throw Error(i(308));DA=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else DA=DA.next=c;return p}var Fte=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},Ute=n.unstable_scheduleCallback,Mte=n.unstable_NormalPriority,li={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dF(){return{controller:new Fte,data:new Map,refCount:0}}function Ly(A){A.refCount--,A.refCount===0&&Ute(Mte,function(){A.controller.abort()})}var Qy=null,fF=0,Op=0,Hp=null;function Pte(A,c){if(Qy===null){var p=Qy=[];fF=0,Op=gU(),Hp={status:"pending",value:void 0,then:function(m){p.push(m)}}}return fF++,c.then(T2,T2),c}function T2(){if(--fF===0&&Qy!==null){Hp!==null&&(Hp.status="fulfilled");var A=Qy;Qy=null,Op=0,Hp=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function Rte(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(B){p.push(B)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var B=0;B<p.length;B++)(0,p[B])(c)},function(B){for(m.status="rejected",m.reason=B,B=0;B<p.length;B++)(0,p[B])(void 0)}),m}var I2=G.S;G.S=function(A,c){d4=Z(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Pte(A,c),I2!==null&&I2(A,c)};var nf=z(null);function hF(){var A=nf.current;return A!==null?A:un.pooledCache}function FE(A,c){c===null?le(nf,nf.current):le(nf,c.pool)}function F2(){var A=hF();return A===null?null:{parent:li._currentValue,pool:A}}var Vp=Error(i(460)),pF=Error(i(474)),UE=Error(i(542)),ME={then:function(){}};function U2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function M2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then(UA,UA),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,R2(A),A;default:if(typeof c.status=="string")c.then(UA,UA);else{if(A=un,A!==null&&100<A.shellSuspendCounter)throw Error(i(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var B=c;B.status="fulfilled",B.value=m}},function(m){if(c.status==="pending"){var B=c;B.status="rejected",B.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,R2(A),A}throw sf=c,Vp}}function rf(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(sf=p,Vp):p}}var sf=null;function P2(){if(sf===null)throw Error(i(459));var A=sf;return sf=null,A}function R2(A){if(A===Vp||A===UE)throw Error(i(483))}var Kp=null,ky=0;function PE(A){var c=ky;return ky+=1,Kp===null&&(Kp=[]),M2(Kp,A,c)}function Oy(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function RE(A,c){throw c.$$typeof===g?Error(i(525)):(A=Object.prototype.toString.call(c),Error(i(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function D2(A){function c(Y,W){if(A){var ee=Y.deletions;ee===null?(Y.deletions=[W],Y.flags|=16):ee.push(W)}}function p(Y,W){if(!A)return null;for(;W!==null;)c(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function B(Y,W){return Y=PA(Y,W),Y.index=0,Y.sibling=null,Y}function S(Y,W,ee){return Y.index=ee,A?(ee=Y.alternate,ee!==null?(ee=ee.index,ee<W?(Y.flags|=67108866,W):ee):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function N(Y){return A&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,W,ee,fe){return W===null||W.tag!==6?(W=iF(ee,Y.mode,fe),W.return=Y,W):(W=B(W,ee),W.return=Y,W)}function j(Y,W,ee,fe){var Xe=ee.type;return Xe===C?de(Y,W,ee.props.children,fe,ee.key):W!==null&&(W.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&rf(Xe)===W.type)?(W=B(W,ee.props),Oy(W,ee),W.return=Y,W):(W=xE(ee.type,ee.key,ee.props,null,Y.mode,fe),Oy(W,ee),W.return=Y,W)}function te(Y,W,ee,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=rF(ee,Y.mode,fe),W.return=Y,W):(W=B(W,ee.children||[]),W.return=Y,W)}function de(Y,W,ee,fe,Xe){return W===null||W.tag!==7?(W=Jd(ee,Y.mode,fe,Xe),W.return=Y,W):(W=B(W,ee),W.return=Y,W)}function pe(Y,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=iF(""+W,Y.mode,ee),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return ee=xE(W.type,W.key,W.props,null,Y.mode,ee),Oy(ee,W),ee.return=Y,ee;case b:return W=rF(W,Y.mode,ee),W.return=Y,W;case H:return W=rf(W),pe(Y,W,ee)}if(he(W)||q(W))return W=Jd(W,Y.mode,ee,null),W.return=Y,W;if(typeof W.then=="function")return pe(Y,PE(W),ee);if(W.$$typeof===T)return pe(Y,IE(Y,W),ee);RE(Y,W)}return null}function re(Y,W,ee,fe){var Xe=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Xe!==null?null:O(Y,W,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ee.key===Xe?j(Y,W,ee,fe):null;case b:return ee.key===Xe?te(Y,W,ee,fe):null;case H:return ee=rf(ee),re(Y,W,ee,fe)}if(he(ee)||q(ee))return Xe!==null?null:de(Y,W,ee,fe,null);if(typeof ee.then=="function")return re(Y,W,PE(ee),fe);if(ee.$$typeof===T)return re(Y,W,IE(Y,ee),fe);RE(Y,ee)}return null}function oe(Y,W,ee,fe,Xe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Y=Y.get(ee)||null,O(W,Y,""+fe,Xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return Y=Y.get(fe.key===null?ee:fe.key)||null,j(W,Y,fe,Xe);case b:return Y=Y.get(fe.key===null?ee:fe.key)||null,te(W,Y,fe,Xe);case H:return fe=rf(fe),oe(Y,W,ee,fe,Xe)}if(he(fe)||q(fe))return Y=Y.get(ee)||null,de(W,Y,fe,Xe,null);if(typeof fe.then=="function")return oe(Y,W,ee,PE(fe),Xe);if(fe.$$typeof===T)return oe(Y,W,ee,IE(W,fe),Xe);RE(W,fe)}return null}function Oe(Y,W,ee,fe){for(var Xe=null,Rt=null,Ke=W,pt=W=0,St=null;Ke!==null&&pt<ee.length;pt++){Ke.index>pt?(St=Ke,Ke=null):St=Ke.sibling;var Dt=re(Y,Ke,ee[pt],fe);if(Dt===null){Ke===null&&(Ke=St);break}A&&Ke&&Dt.alternate===null&&c(Y,Ke),W=S(Dt,W,pt),Rt===null?Xe=Dt:Rt.sibling=Dt,Rt=Dt,Ke=St}if(pt===ee.length)return p(Y,Ke),Tt&&RA(Y,pt),Xe;if(Ke===null){for(;pt<ee.length;pt++)Ke=pe(Y,ee[pt],fe),Ke!==null&&(W=S(Ke,W,pt),Rt===null?Xe=Ke:Rt.sibling=Ke,Rt=Ke);return Tt&&RA(Y,pt),Xe}for(Ke=m(Ke);pt<ee.length;pt++)St=oe(Ke,Y,pt,ee[pt],fe),St!==null&&(A&&St.alternate!==null&&Ke.delete(St.key===null?pt:St.key),W=S(St,W,pt),Rt===null?Xe=St:Rt.sibling=St,Rt=St);return A&&Ke.forEach(function(tc){return c(Y,tc)}),Tt&&RA(Y,pt),Xe}function et(Y,W,ee,fe){if(ee==null)throw Error(i(151));for(var Xe=null,Rt=null,Ke=W,pt=W=0,St=null,Dt=ee.next();Ke!==null&&!Dt.done;pt++,Dt=ee.next()){Ke.index>pt?(St=Ke,Ke=null):St=Ke.sibling;var tc=re(Y,Ke,Dt.value,fe);if(tc===null){Ke===null&&(Ke=St);break}A&&Ke&&tc.alternate===null&&c(Y,Ke),W=S(tc,W,pt),Rt===null?Xe=tc:Rt.sibling=tc,Rt=tc,Ke=St}if(Dt.done)return p(Y,Ke),Tt&&RA(Y,pt),Xe;if(Ke===null){for(;!Dt.done;pt++,Dt=ee.next())Dt=pe(Y,Dt.value,fe),Dt!==null&&(W=S(Dt,W,pt),Rt===null?Xe=Dt:Rt.sibling=Dt,Rt=Dt);return Tt&&RA(Y,pt),Xe}for(Ke=m(Ke);!Dt.done;pt++,Dt=ee.next())Dt=oe(Ke,Y,pt,Dt.value,fe),Dt!==null&&(A&&Dt.alternate!==null&&Ke.delete(Dt.key===null?pt:Dt.key),W=S(Dt,W,pt),Rt===null?Xe=Dt:Rt.sibling=Dt,Rt=Dt);return A&&Ke.forEach(function(zne){return c(Y,zne)}),Tt&&RA(Y,pt),Xe}function Zt(Y,W,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===C&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:e:{for(var Xe=ee.key;W!==null;){if(W.key===Xe){if(Xe=ee.type,Xe===C){if(W.tag===7){p(Y,W.sibling),fe=B(W,ee.props.children),fe.return=Y,Y=fe;break e}}else if(W.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&rf(Xe)===W.type){p(Y,W.sibling),fe=B(W,ee.props),Oy(fe,ee),fe.return=Y,Y=fe;break e}p(Y,W);break}else c(Y,W);W=W.sibling}ee.type===C?(fe=Jd(ee.props.children,Y.mode,fe,ee.key),fe.return=Y,Y=fe):(fe=xE(ee.type,ee.key,ee.props,null,Y.mode,fe),Oy(fe,ee),fe.return=Y,Y=fe)}return N(Y);case b:e:{for(Xe=ee.key;W!==null;){if(W.key===Xe)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){p(Y,W.sibling),fe=B(W,ee.children||[]),fe.return=Y,Y=fe;break e}else{p(Y,W);break}else c(Y,W);W=W.sibling}fe=rF(ee,Y.mode,fe),fe.return=Y,Y=fe}return N(Y);case H:return ee=rf(ee),Zt(Y,W,ee,fe)}if(he(ee))return Oe(Y,W,ee,fe);if(q(ee)){if(Xe=q(ee),typeof Xe!="function")throw Error(i(150));return ee=Xe.call(ee),et(Y,W,ee,fe)}if(typeof ee.then=="function")return Zt(Y,W,PE(ee),fe);if(ee.$$typeof===T)return Zt(Y,W,IE(Y,ee),fe);RE(Y,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(p(Y,W.sibling),fe=B(W,ee),fe.return=Y,Y=fe):(p(Y,W),fe=iF(ee,Y.mode,fe),fe.return=Y,Y=fe),N(Y)):p(Y,W)}return function(Y,W,ee,fe){try{ky=0;var Xe=Zt(Y,W,ee,fe);return Kp=null,Xe}catch(Ke){if(Ke===Vp||Ke===UE)throw Ke;var Rt=Es(29,Ke,null,Y.mode);return Rt.lanes=fe,Rt.return=Y,Rt}finally{}}}var af=D2(!0),N2=D2(!1),Qu=!1;function gF(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function ku(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Ou(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(kt&2)!==0){var B=m.pending;return B===null?c.next=c:(c.next=B.next,B.next=c),m.pending=c,c=SE(A),y2(A,null,p),c}return EE(A,m,c,p),SE(A)}function Hy(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,uE(A,p)}}function vF(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var B=null,S=null;if(p=p.firstBaseUpdate,p!==null){do{var N={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};S===null?B=S=N:S=S.next=N,p=p.next}while(p!==null);S===null?B=S=c:S=S.next=c}else B=S=c;p={baseState:m.baseState,firstBaseUpdate:B,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var yF=!1;function Vy(){if(yF){var A=Hp;if(A!==null)throw A}}function Ky(A,c,p,m){yF=!1;var B=A.updateQueue;Qu=!1;var S=B.firstBaseUpdate,N=B.lastBaseUpdate,O=B.shared.pending;if(O!==null){B.shared.pending=null;var j=O,te=j.next;j.next=null,N===null?S=te:N.next=te,N=j;var de=A.alternate;de!==null&&(de=de.updateQueue,O=de.lastBaseUpdate,O!==N&&(O===null?de.firstBaseUpdate=te:O.next=te,de.lastBaseUpdate=j))}if(S!==null){var pe=B.baseState;N=0,de=te=j=null,O=S;do{var re=O.lane&-536870913,oe=re!==O.lane;if(oe?(Et&re)===re:(m&re)===re){re!==0&&re===Op&&(yF=!0),de!==null&&(de=de.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Oe=A,et=O;re=c;var Zt=p;switch(et.tag){case 1:if(Oe=et.payload,typeof Oe=="function"){pe=Oe.call(Zt,pe,re);break e}pe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=et.payload,re=typeof Oe=="function"?Oe.call(Zt,pe,re):Oe,re==null)break e;pe=h({},pe,re);break e;case 2:Qu=!0}}re=O.callback,re!==null&&(A.flags|=64,oe&&(A.flags|=8192),oe=B.callbacks,oe===null?B.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},de===null?(te=de=oe,j=pe):de=de.next=oe,N|=re;if(O=O.next,O===null){if(O=B.shared.pending,O===null)break;oe=O,O=oe.next,oe.next=null,B.lastBaseUpdate=oe,B.shared.pending=null}}while(!0);de===null&&(j=pe),B.baseState=j,B.firstBaseUpdate=te,B.lastBaseUpdate=de,S===null&&(B.shared.lanes=0),zu|=N,A.lanes=N,A.memoizedState=pe}}function L2(A,c){if(typeof A!="function")throw Error(i(191,A));A.call(c)}function Q2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)L2(p[A],c)}var Gp=z(null),DE=z(0);function k2(A,c){A=zA,le(DE,A),le(Gp,c),zA=A|c.baseLanes}function wF(){le(DE,zA),le(Gp,Gp.current)}function bF(){zA=DE.current,J(Gp),J(DE)}var Ss=z(null),ma=null;function Hu(A){var c=A.alternate;le(Xn,Xn.current&1),le(Ss,A),ma===null&&(c===null||Gp.current!==null||c.memoizedState!==null)&&(ma=A)}function CF(A){le(Xn,Xn.current),le(Ss,A),ma===null&&(ma=A)}function O2(A){A.tag===22?(le(Xn,Xn.current),le(Ss,A),ma===null&&(ma=A)):Vu()}function Vu(){le(Xn,Xn.current),le(Ss,Ss.current)}function xs(A){J(Ss),ma===A&&(ma=null),J(Xn)}var Xn=z(0);function NE(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||TU(p)||IU(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var LA=0,ct=null,Xt=null,ui=null,LE=!1,zp=!1,of=!1,QE=0,Gy=0,qp=null,Dte=0;function On(){throw Error(i(321))}function BF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!Bs(A[p],c[p]))return!1;return!0}function EF(A,c,p,m,B,S){return LA=S,ct=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=A===null||A.memoizedState===null?BH:kF,of=!1,S=p(m,B),of=!1,zp&&(S=V2(c,p,m,B)),H2(A),S}function H2(A){G.H=$y;var c=Xt!==null&&Xt.next!==null;if(LA=0,ui=Xt=ct=null,LE=!1,Gy=0,qp=null,c)throw Error(i(300));A===null||ci||(A=A.dependencies,A!==null&&TE(A)&&(ci=!0))}function V2(A,c,p,m){ct=A;var B=0;do{if(zp&&(qp=null),Gy=0,zp=!1,25<=B)throw Error(i(301));if(B+=1,ui=Xt=null,A.updateQueue!=null){var S=A.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=EH,S=c(p,m)}while(zp);return S}function Nte(){var A=G.H,c=A.useState()[0];return c=typeof c.then=="function"?zy(c):c,A=A.useState()[0],(Xt!==null?Xt.memoizedState:null)!==A&&(ct.flags|=1024),c}function SF(){var A=QE!==0;return QE=0,A}function xF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function _F(A){if(LE){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}LE=!1}LA=0,ui=Xt=ct=null,zp=!1,Gy=QE=0,qp=null}function Rr(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?ct.memoizedState=ui=A:ui=ui.next=A,ui}function Jn(){if(Xt===null){var A=ct.alternate;A=A!==null?A.memoizedState:null}else A=Xt.next;var c=ui===null?ct.memoizedState:ui.next;if(c!==null)ui=c,Xt=A;else{if(A===null)throw ct.alternate===null?Error(i(467)):Error(i(310));Xt=A,A={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ui===null?ct.memoizedState=ui=A:ui=ui.next=A}return ui}function kE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zy(A){var c=Gy;return Gy+=1,qp===null&&(qp=[]),A=M2(qp,A,c),c=ct,(ui===null?c.memoizedState:ui.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?BH:kF),A}function OE(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return zy(A);if(A.$$typeof===T)return Zi(A)}throw Error(i(438,String(A)))}function TF(A){var c=null,p=ct.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=ct.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(B){return B.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=kE(),ct.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=K;return c.index++,p}function QA(A,c){return typeof c=="function"?c(A):c}function HE(A){var c=Jn();return IF(c,Xt,A)}function IF(A,c,p){var m=A.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=p;var B=A.baseQueue,S=m.pending;if(S!==null){if(B!==null){var N=B.next;B.next=S.next,S.next=N}c.baseQueue=B=S,m.pending=null}if(S=A.baseState,B===null)A.memoizedState=S;else{c=B.next;var O=N=null,j=null,te=c,de=!1;do{var pe=te.lane&-536870913;if(pe!==te.lane?(Et&pe)===pe:(LA&pe)===pe){var re=te.revertLane;if(re===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),pe===Op&&(de=!0);else if((LA&re)===re){te=te.next,re===Op&&(de=!0);continue}else pe={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(O=j=pe,N=S):j=j.next=pe,ct.lanes|=re,zu|=re;pe=te.action,of&&p(S,pe),S=te.hasEagerState?te.eagerState:p(S,pe)}else re={lane:pe,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(O=j=re,N=S):j=j.next=re,ct.lanes|=pe,zu|=pe;te=te.next}while(te!==null&&te!==c);if(j===null?N=S:j.next=O,!Bs(S,A.memoizedState)&&(ci=!0,de&&(p=Hp,p!==null)))throw p;A.memoizedState=S,A.baseState=N,A.baseQueue=j,m.lastRenderedState=S}return B===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function FF(A){var c=Jn(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=A;var m=p.dispatch,B=p.pending,S=c.memoizedState;if(B!==null){p.pending=null;var N=B=B.next;do S=A(S,N.action),N=N.next;while(N!==B);Bs(S,c.memoizedState)||(ci=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),p.lastRenderedState=S}return[S,m]}function K2(A,c,p){var m=ct,B=Jn(),S=Tt;if(S){if(p===void 0)throw Error(i(407));p=p()}else p=c();var N=!Bs((Xt||B).memoizedState,p);if(N&&(B.memoizedState=p,ci=!0),B=B.queue,PF(q2.bind(null,m,B,A),[A]),B.getSnapshot!==c||N||ui!==null&&ui.memoizedState.tag&1){if(m.flags|=2048,$p(9,{destroy:void 0},z2.bind(null,m,B,p,c),null),un===null)throw Error(i(349));S||(LA&127)!==0||G2(m,c,p)}return p}function G2(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=ct.updateQueue,c===null?(c=kE(),ct.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function z2(A,c,p,m){c.value=p,c.getSnapshot=m,$2(c)&&j2(A)}function q2(A,c,p){return p(function(){$2(c)&&j2(A)})}function $2(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!Bs(A,p)}catch{return!0}}function j2(A){var c=Xd(A,2);c!==null&&is(c,A,2)}function UF(A){var c=Rr();if(typeof A=="function"){var p=A;if(A=p(),of){We(!0);try{p()}finally{We(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QA,lastRenderedState:A},c}function W2(A,c,p,m){return A.baseState=p,IF(A,Xt,typeof m=="function"?m:QA)}function Lte(A,c,p,m,B){if(GE(A))throw Error(i(485));if(A=c.action,A!==null){var S={payload:B,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};G.T!==null?p(!0):S.isTransition=!1,m(S),p=c.pending,p===null?(S.next=c.pending=S,Y2(c,S)):(S.next=p.next,c.pending=p.next=S)}}function Y2(A,c){var p=c.action,m=c.payload,B=A.state;if(c.isTransition){var S=G.T,N={};G.T=N;try{var O=p(B,m),j=G.S;j!==null&&j(N,O),X2(A,c,O)}catch(te){MF(A,c,te)}finally{S!==null&&N.types!==null&&(S.types=N.types),G.T=S}}else try{S=p(B,m),X2(A,c,S)}catch(te){MF(A,c,te)}}function X2(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){J2(A,c,m)},function(m){return MF(A,c,m)}):J2(A,c,p)}function J2(A,c,p){c.status="fulfilled",c.value=p,Z2(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,Y2(A,p)))}function MF(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,Z2(c),c=c.next;while(c!==m)}A.action=null}function Z2(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function eH(A,c){return c}function tH(A,c){if(Tt){var p=un.formState;if(p!==null){e:{var m=ct;if(Tt){if(En){t:{for(var B=En,S=ga;B.nodeType!==8;){if(!S){B=null;break t}if(B=va(B.nextSibling),B===null){B=null;break t}}S=B.data,B=S==="F!"||S==="F"?B:null}if(B){En=va(B.nextSibling),m=B.data==="F!";break e}}Nu(m)}m=!1}m&&(c=p[0])}}return p=Rr(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eH,lastRenderedState:c},p.queue=m,p=wH.bind(null,ct,m),m.dispatch=p,m=UF(!1),S=QF.bind(null,ct,!1,m.queue),m=Rr(),B={state:c,dispatch:null,action:A,pending:null},m.queue=B,p=Lte.bind(null,ct,B,S,p),B.dispatch=p,m.memoizedState=A,[c,p,!1]}function nH(A){var c=Jn();return iH(c,Xt,A)}function iH(A,c,p){if(c=IF(A,c,eH)[0],A=HE(QA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=zy(c)}catch(N){throw N===Vp?UE:N}else m=c;c=Jn();var B=c.queue,S=B.dispatch;return p!==c.memoizedState&&(ct.flags|=2048,$p(9,{destroy:void 0},Qte.bind(null,B,p),null)),[m,S,A]}function Qte(A,c){A.action=c}function rH(A){var c=Jn(),p=Xt;if(p!==null)return iH(c,p,A);Jn(),c=c.memoizedState,p=Jn();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function $p(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=ct.updateQueue,c===null&&(c=kE(),ct.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function sH(){return Jn().memoizedState}function VE(A,c,p,m){var B=Rr();ct.flags|=A,B.memoizedState=$p(1|c,{destroy:void 0},p,m===void 0?null:m)}function KE(A,c,p,m){var B=Jn();m=m===void 0?null:m;var S=B.memoizedState.inst;Xt!==null&&m!==null&&BF(m,Xt.memoizedState.deps)?B.memoizedState=$p(c,S,p,m):(ct.flags|=A,B.memoizedState=$p(1|c,S,p,m))}function aH(A,c){VE(8390656,8,A,c)}function PF(A,c){KE(2048,8,A,c)}function kte(A){ct.flags|=4;var c=ct.updateQueue;if(c===null)c=kE(),ct.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function oH(A){var c=Jn().memoizedState;return kte({ref:c,nextImpl:A}),function(){if((kt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function AH(A,c){return KE(4,2,A,c)}function lH(A,c){return KE(4,4,A,c)}function uH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function cH(A,c,p){p=p!=null?p.concat([A]):null,KE(4,4,uH.bind(null,c,A),p)}function RF(){}function dH(A,c){var p=Jn();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&BF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function fH(A,c){var p=Jn();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&BF(c,m[1]))return m[0];if(m=A(),of){We(!0);try{A()}finally{We(!1)}}return p.memoizedState=[m,c],m}function DF(A,c,p){return p===void 0||(LA&1073741824)!==0&&(Et&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=h4(),ct.lanes|=A,zu|=A,p)}function hH(A,c,p,m){return Bs(p,c)?p:Gp.current!==null?(A=DF(A,p,m),Bs(A,c)||(ci=!0),A):(LA&42)===0||(LA&1073741824)!==0&&(Et&261930)===0?(ci=!0,A.memoizedState=p):(A=h4(),ct.lanes|=A,zu|=A,c)}function pH(A,c,p,m,B){var S=$.p;$.p=S!==0&&8>S?S:8;var N=G.T,O={};G.T=O,QF(A,!1,c,p);try{var j=B(),te=G.S;if(te!==null&&te(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var de=Rte(j,m);qy(A,c,de,Is(A))}else qy(A,c,m,Is(A))}catch(pe){qy(A,c,{then:function(){},status:"rejected",reason:pe},Is())}finally{$.p=S,N!==null&&O.types!==null&&(N.types=O.types),G.T=N}}function Ote(){}function NF(A,c,p,m){if(A.tag!==5)throw Error(i(476));var B=gH(A).queue;pH(A,B,c,se,p===null?Ote:function(){return mH(A),p(m)})}function gH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:QA,lastRenderedState:se},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:QA,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function mH(A){var c=gH(A);c.next===null&&(c=A.alternate.memoizedState),qy(A,c.next.queue,{},Is())}function LF(){return Zi(l0)}function vH(){return Jn().memoizedState}function yH(){return Jn().memoizedState}function Hte(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=Is();A=ku(p);var m=Ou(c,A,p);m!==null&&(is(m,c,p),Hy(m,c,p)),c={cache:dF()},A.payload=c;return}c=c.return}}function Vte(A,c,p){var m=Is();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},GE(A)?bH(c,p):(p=tF(A,c,p,m),p!==null&&(is(p,A,m),CH(p,c,m)))}function wH(A,c,p){var m=Is();qy(A,c,p,m)}function qy(A,c,p,m){var B={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(GE(A))bH(c,B);else{var S=A.alternate;if(A.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var N=c.lastRenderedState,O=S(N,p);if(B.hasEagerState=!0,B.eagerState=O,Bs(O,N))return EE(A,c,B,0),un===null&&BE(),!1}catch{}finally{}if(p=tF(A,c,B,m),p!==null)return is(p,A,m),CH(p,c,m),!0}return!1}function QF(A,c,p,m){if(m={lane:2,revertLane:gU(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},GE(A)){if(c)throw Error(i(479))}else c=tF(A,p,m,2),c!==null&&is(c,A,2)}function GE(A){var c=A.alternate;return A===ct||c!==null&&c===ct}function bH(A,c){zp=LE=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function CH(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,uE(A,p)}}var $y={readContext:Zi,use:OE,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};$y.useEffectEvent=On;var BH={readContext:Zi,use:OE,useCallback:function(A,c){return Rr().memoizedState=[A,c===void 0?null:c],A},useContext:Zi,useEffect:aH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,VE(4194308,4,uH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return VE(4194308,4,A,c)},useInsertionEffect:function(A,c){VE(4,2,A,c)},useMemo:function(A,c){var p=Rr();c=c===void 0?null:c;var m=A();if(of){We(!0);try{A()}finally{We(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=Rr();if(p!==void 0){var B=p(c);if(of){We(!0);try{p(c)}finally{We(!1)}}}else B=c;return m.memoizedState=m.baseState=B,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:B},m.queue=A,A=A.dispatch=Vte.bind(null,ct,A),[m.memoizedState,A]},useRef:function(A){var c=Rr();return A={current:A},c.memoizedState=A},useState:function(A){A=UF(A);var c=A.queue,p=wH.bind(null,ct,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:RF,useDeferredValue:function(A,c){var p=Rr();return DF(p,A,c)},useTransition:function(){var A=UF(!1);return A=pH.bind(null,ct,A.queue,!0,!1),Rr().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=ct,B=Rr();if(Tt){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),un===null)throw Error(i(349));(Et&127)!==0||G2(m,c,p)}B.memoizedState=p;var S={value:p,getSnapshot:c};return B.queue=S,aH(q2.bind(null,m,S,A),[A]),m.flags|=2048,$p(9,{destroy:void 0},z2.bind(null,m,S,p,c),null),p},useId:function(){var A=Rr(),c=un.identifierPrefix;if(Tt){var p=Qo,m=Lo;p=(m&~(1<<32-xe(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=QE++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Dte++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:LF,useFormState:tH,useActionState:tH,useOptimistic:function(A){var c=Rr();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=QF.bind(null,ct,!0,p),p.dispatch=c,[A,c]},useMemoCache:TF,useCacheRefresh:function(){return Rr().memoizedState=Hte.bind(null,ct)},useEffectEvent:function(A){var c=Rr(),p={impl:A};return c.memoizedState=p,function(){if((kt&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}},kF={readContext:Zi,use:OE,useCallback:dH,useContext:Zi,useEffect:PF,useImperativeHandle:cH,useInsertionEffect:AH,useLayoutEffect:lH,useMemo:fH,useReducer:HE,useRef:sH,useState:function(){return HE(QA)},useDebugValue:RF,useDeferredValue:function(A,c){var p=Jn();return hH(p,Xt.memoizedState,A,c)},useTransition:function(){var A=HE(QA)[0],c=Jn().memoizedState;return[typeof A=="boolean"?A:zy(A),c]},useSyncExternalStore:K2,useId:vH,useHostTransitionStatus:LF,useFormState:nH,useActionState:nH,useOptimistic:function(A,c){var p=Jn();return W2(p,Xt,A,c)},useMemoCache:TF,useCacheRefresh:yH};kF.useEffectEvent=oH;var EH={readContext:Zi,use:OE,useCallback:dH,useContext:Zi,useEffect:PF,useImperativeHandle:cH,useInsertionEffect:AH,useLayoutEffect:lH,useMemo:fH,useReducer:FF,useRef:sH,useState:function(){return FF(QA)},useDebugValue:RF,useDeferredValue:function(A,c){var p=Jn();return Xt===null?DF(p,A,c):hH(p,Xt.memoizedState,A,c)},useTransition:function(){var A=FF(QA)[0],c=Jn().memoizedState;return[typeof A=="boolean"?A:zy(A),c]},useSyncExternalStore:K2,useId:vH,useHostTransitionStatus:LF,useFormState:rH,useActionState:rH,useOptimistic:function(A,c){var p=Jn();return Xt!==null?W2(p,Xt,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:TF,useCacheRefresh:yH};EH.useEffectEvent=oH;function OF(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var HF={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=Is(),B=ku(m);B.payload=c,p!=null&&(B.callback=p),c=Ou(A,B,m),c!==null&&(is(c,A,m),Hy(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=Is(),B=ku(m);B.tag=1,B.payload=c,p!=null&&(B.callback=p),c=Ou(A,B,m),c!==null&&(is(c,A,m),Hy(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=Is(),m=ku(p);m.tag=2,c!=null&&(m.callback=c),c=Ou(A,m,p),c!==null&&(is(c,A,p),Hy(c,A,p))}};function SH(A,c,p,m,B,S,N){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,S,N):c.prototype&&c.prototype.isPureReactComponent?!Py(p,m)||!Py(B,S):!0}function xH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&HF.enqueueReplaceState(c,c.state,null)}function Af(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var B in A)p[B]===void 0&&(p[B]=A[B])}return p}function _H(A){CE(A)}function TH(A){console.error(A)}function IH(A){CE(A)}function zE(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function FH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function VF(A,c,p){return p=ku(p),p.tag=3,p.payload={element:null},p.callback=function(){zE(A,c)},p}function UH(A){return A=ku(A),A.tag=3,A}function MH(A,c,p,m){var B=p.type.getDerivedStateFromError;if(typeof B=="function"){var S=m.value;A.payload=function(){return B(S)},A.callback=function(){FH(c,p,m)}}var N=p.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){FH(c,p,m),typeof B!="function"&&(qu===null?qu=new Set([this]):qu.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function Kte(A,c,p,m,B){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&kp(c,p,B,!0),p=Ss.current,p!==null){switch(p.tag){case 31:case 13:return ma===null?iS():p.alternate===null&&Hn===0&&(Hn=3),p.flags&=-257,p.flags|=65536,p.lanes=B,m===ME?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),fU(A,m,B)),!1;case 22:return p.flags|=65536,m===ME?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),fU(A,m,B)),!1}throw Error(i(435,p.tag))}return fU(A,m,B),iS(),!1}if(Tt)return c=Ss.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=B,m!==oF&&(A=Error(i(422),{cause:m}),Ny(fa(A,p)))):(m!==oF&&(c=Error(i(423),{cause:m}),Ny(fa(c,p))),A=A.current.alternate,A.flags|=65536,B&=-B,A.lanes|=B,m=fa(m,p),B=VF(A.stateNode,m,B),vF(A,B),Hn!==4&&(Hn=2)),!1;var S=Error(i(520),{cause:m});if(S=fa(S,p),t0===null?t0=[S]:t0.push(S),Hn!==4&&(Hn=2),c===null)return!0;m=fa(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=B&-B,p.lanes|=A,A=VF(p.stateNode,m,A),vF(p,A),!1;case 1:if(c=p.type,S=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qu===null||!qu.has(S))))return p.flags|=65536,B&=-B,p.lanes|=B,B=UH(B),MH(B,A,p,m),vF(p,B),!1}p=p.return}while(p!==null);return!1}var KF=Error(i(461)),ci=!1;function er(A,c,p,m){c.child=A===null?N2(c,null,p,m):af(c,A.child,p,m)}function PH(A,c,p,m,B){p=p.render;var S=c.ref;if("ref"in m){var N={};for(var O in m)O!=="ref"&&(N[O]=m[O])}else N=m;return tf(c),m=EF(A,c,p,N,S,B),O=SF(),A!==null&&!ci?(xF(A,c,B),kA(A,c,B)):(Tt&&O&&sF(c),c.flags|=1,er(A,c,m,B),c.child)}function RH(A,c,p,m,B){if(A===null){var S=p.type;return typeof S=="function"&&!nF(S)&&S.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=S,DH(A,c,S,m,B)):(A=xE(p.type,null,m,c,c.mode,B),A.ref=c.ref,A.return=c,c.child=A)}if(S=A.child,!XF(A,B)){var N=S.memoizedProps;if(p=p.compare,p=p!==null?p:Py,p(N,m)&&A.ref===c.ref)return kA(A,c,B)}return c.flags|=1,A=PA(S,m),A.ref=c.ref,A.return=c,c.child=A}function DH(A,c,p,m,B){if(A!==null){var S=A.memoizedProps;if(Py(S,m)&&A.ref===c.ref)if(ci=!1,c.pendingProps=m=S,XF(A,B))(A.flags&131072)!==0&&(ci=!0);else return c.lanes=A.lanes,kA(A,c,B)}return GF(A,c,p,m,B)}function NH(A,c,p,m){var B=m.children,S=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|p:p,A!==null){for(m=c.child=A.child,B=0;m!==null;)B=B|m.lanes|m.childLanes,m=m.sibling;m=B&~S}else m=0,c.child=null;return LH(A,c,S,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&FE(c,S!==null?S.cachePool:null),S!==null?k2(c,S):wF(),O2(c);else return m=c.lanes=536870912,LH(A,c,S!==null?S.baseLanes|p:p,p,m)}else S!==null?(FE(c,S.cachePool),k2(c,S),Vu(),c.memoizedState=null):(A!==null&&FE(c,null),wF(),Vu());return er(A,c,B,p),c.child}function jy(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function LH(A,c,p,m,B){var S=hF();return S=S===null?null:{parent:li._currentValue,pool:S},c.memoizedState={baseLanes:p,cachePool:S},A!==null&&FE(c,null),wF(),O2(c),A!==null&&kp(A,c,m,!0),c.childLanes=B,null}function qE(A,c){return c=jE({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function QH(A,c,p){return af(c,A.child,null,p),A=qE(c,c.pendingProps),A.flags|=2,xs(c),c.memoizedState=null,A}function Gte(A,c,p){var m=c.pendingProps,B=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(Tt){if(m.mode==="hidden")return A=qE(c,m),c.lanes=536870912,jy(null,A);if(CF(c),(A=En)?(A=Y4(A,ga),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Ru!==null?{id:Lo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},p=b2(A),p.return=c,c.child=p,Ji=c,En=null)):A=null,A===null)throw Nu(c);return c.lanes=536870912,null}return qE(c,m)}var S=A.memoizedState;if(S!==null){var N=S.dehydrated;if(CF(c),B)if(c.flags&256)c.flags&=-257,c=QH(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(i(558));else if(ci||kp(A,c,p,!1),B=(p&A.childLanes)!==0,ci||B){if(m=un,m!==null&&(N=cE(m,p),N!==0&&N!==S.retryLane))throw S.retryLane=N,Xd(A,N),is(m,A,N),KF;iS(),c=QH(A,c,p)}else A=S.treeContext,En=va(N.nextSibling),Ji=c,Tt=!0,Du=null,ga=!1,A!==null&&E2(c,A),c=qE(c,m),c.flags|=4096;return c}return A=PA(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function $E(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function GF(A,c,p,m,B){return tf(c),p=EF(A,c,p,m,void 0,B),m=SF(),A!==null&&!ci?(xF(A,c,B),kA(A,c,B)):(Tt&&m&&sF(c),c.flags|=1,er(A,c,p,B),c.child)}function kH(A,c,p,m,B,S){return tf(c),c.updateQueue=null,p=V2(c,m,p,B),H2(A),m=SF(),A!==null&&!ci?(xF(A,c,S),kA(A,c,S)):(Tt&&m&&sF(c),c.flags|=1,er(A,c,p,S),c.child)}function OH(A,c,p,m,B){if(tf(c),c.stateNode===null){var S=Dp,N=p.contextType;typeof N=="object"&&N!==null&&(S=Zi(N)),S=new p(m,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=HF,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=m,S.state=c.memoizedState,S.refs={},gF(c),N=p.contextType,S.context=typeof N=="object"&&N!==null?Zi(N):Dp,S.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(OF(c,p,N,m),S.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&HF.enqueueReplaceState(S,S.state,null),Ky(c,m,S,B),Vy(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){S=c.stateNode;var O=c.memoizedProps,j=Af(p,O);S.props=j;var te=S.context,de=p.contextType;N=Dp,typeof de=="object"&&de!==null&&(N=Zi(de));var pe=p.getDerivedStateFromProps;de=typeof pe=="function"||typeof S.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O||te!==N)&&xH(c,S,m,N),Qu=!1;var re=c.memoizedState;S.state=re,Ky(c,m,S,B),Vy(),te=c.memoizedState,O||re!==te||Qu?(typeof pe=="function"&&(OF(c,p,pe,m),te=c.memoizedState),(j=Qu||SH(c,p,j,m,re,te,N))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=te),S.props=m,S.state=te,S.context=N,m=j):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{S=c.stateNode,mF(A,c),N=c.memoizedProps,de=Af(p,N),S.props=de,pe=c.pendingProps,re=S.context,te=p.contextType,j=Dp,typeof te=="object"&&te!==null&&(j=Zi(te)),O=p.getDerivedStateFromProps,(te=typeof O=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==pe||re!==j)&&xH(c,S,m,j),Qu=!1,re=c.memoizedState,S.state=re,Ky(c,m,S,B),Vy();var oe=c.memoizedState;N!==pe||re!==oe||Qu||A!==null&&A.dependencies!==null&&TE(A.dependencies)?(typeof O=="function"&&(OF(c,p,O,m),oe=c.memoizedState),(de=Qu||SH(c,p,de,m,re,oe,j)||A!==null&&A.dependencies!==null&&TE(A.dependencies))?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,oe,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,oe,j)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&re===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&re===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=oe),S.props=m,S.state=oe,S.context=j,m=de):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&re===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&re===A.memoizedState||(c.flags|=1024),m=!1)}return S=m,$E(A,c),m=(c.flags&128)!==0,S||m?(S=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,A!==null&&m?(c.child=af(c,A.child,null,B),c.child=af(c,null,p,B)):er(A,c,p,B),c.memoizedState=S.state,A=c.child):A=kA(A,c,B),A}function HH(A,c,p,m){return Zd(),c.flags|=256,er(A,c,p,m),c.child}var zF={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qF(A){return{baseLanes:A,cachePool:F2()}}function $F(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=Ts),A}function VH(A,c,p){var m=c.pendingProps,B=!1,S=(c.flags&128)!==0,N;if((N=S)||(N=A!==null&&A.memoizedState===null?!1:(Xn.current&2)!==0),N&&(B=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,A===null){if(Tt){if(B?Hu(c):Vu(),(A=En)?(A=Y4(A,ga),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Ru!==null?{id:Lo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},p=b2(A),p.return=c,c.child=p,Ji=c,En=null)):A=null,A===null)throw Nu(c);return IU(A)?c.lanes=32:c.lanes=536870912,null}var O=m.children;return m=m.fallback,B?(Vu(),B=c.mode,O=jE({mode:"hidden",children:O},B),m=Jd(m,B,p,null),O.return=c,m.return=c,O.sibling=m,c.child=O,m=c.child,m.memoizedState=qF(p),m.childLanes=$F(A,N,p),c.memoizedState=zF,jy(null,m)):(Hu(c),jF(c,O))}var j=A.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(S)c.flags&256?(Hu(c),c.flags&=-257,c=WF(A,c,p)):c.memoizedState!==null?(Vu(),c.child=A.child,c.flags|=128,c=null):(Vu(),O=m.fallback,B=c.mode,m=jE({mode:"visible",children:m.children},B),O=Jd(O,B,p,null),O.flags|=2,m.return=c,O.return=c,m.sibling=O,c.child=m,af(c,A.child,null,p),m=c.child,m.memoizedState=qF(p),m.childLanes=$F(A,N,p),c.memoizedState=zF,c=jy(null,m));else if(Hu(c),IU(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var te=N.dgst;N=te,m=Error(i(419)),m.stack="",m.digest=N,Ny({value:m,source:null,stack:null}),c=WF(A,c,p)}else if(ci||kp(A,c,p,!1),N=(p&A.childLanes)!==0,ci||N){if(N=un,N!==null&&(m=cE(N,p),m!==0&&m!==j.retryLane))throw j.retryLane=m,Xd(A,m),is(N,A,m),KF;TU(O)||iS(),c=WF(A,c,p)}else TU(O)?(c.flags|=192,c.child=A.child,c=null):(A=j.treeContext,En=va(O.nextSibling),Ji=c,Tt=!0,Du=null,ga=!1,A!==null&&E2(c,A),c=jF(c,m.children),c.flags|=4096);return c}return B?(Vu(),O=m.fallback,B=c.mode,j=A.child,te=j.sibling,m=PA(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,te!==null?O=PA(te,O):(O=Jd(O,B,p,null),O.flags|=2),O.return=c,m.return=c,m.sibling=O,c.child=m,jy(null,m),m=c.child,O=A.child.memoizedState,O===null?O=qF(p):(B=O.cachePool,B!==null?(j=li._currentValue,B=B.parent!==j?{parent:j,pool:j}:B):B=F2(),O={baseLanes:O.baseLanes|p,cachePool:B}),m.memoizedState=O,m.childLanes=$F(A,N,p),c.memoizedState=zF,jy(A.child,m)):(Hu(c),p=A.child,A=p.sibling,p=PA(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(N=c.deletions,N===null?(c.deletions=[A],c.flags|=16):N.push(A)),c.child=p,c.memoizedState=null,p)}function jF(A,c){return c=jE({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function jE(A,c){return A=Es(22,A,null,c),A.lanes=0,A}function WF(A,c,p){return af(c,A.child,null,p),A=jF(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function KH(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),uF(A.return,c,p)}function YF(A,c,p,m,B,S){var N=A.memoizedState;N===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:B,treeForkCount:S}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=p,N.tailMode=B,N.treeForkCount=S)}function GH(A,c,p){var m=c.pendingProps,B=m.revealOrder,S=m.tail;m=m.children;var N=Xn.current,O=(N&2)!==0;if(O?(N=N&1|2,c.flags|=128):N&=1,le(Xn,N),er(A,c,m,p),m=Tt?Dy:0,!O&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&KH(A,p,c);else if(A.tag===19)KH(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(B){case"forwards":for(p=c.child,B=null;p!==null;)A=p.alternate,A!==null&&NE(A)===null&&(B=p),p=p.sibling;p=B,p===null?(B=c.child,c.child=null):(B=p.sibling,p.sibling=null),YF(c,!1,B,p,S,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,B=c.child,c.child=null;B!==null;){if(A=B.alternate,A!==null&&NE(A)===null){c.child=B;break}A=B.sibling,B.sibling=p,p=B,B=A}YF(c,!0,p,null,S,m);break;case"together":YF(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function kA(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),zu|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(kp(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(i(153));if(c.child!==null){for(A=c.child,p=PA(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=PA(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function XF(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&TE(A)))}function zte(A,c,p){switch(c.tag){case 3:ht(c,c.stateNode.containerInfo),Lu(c,li,A.memoizedState.cache),Zd();break;case 27:case 5:Le(c);break;case 4:ht(c,c.stateNode.containerInfo);break;case 10:Lu(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,CF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Hu(c),c.flags|=128,null):(p&c.child.childLanes)!==0?VH(A,c,p):(Hu(c),A=kA(A,c,p),A!==null?A.sibling:null);Hu(c);break;case 19:var B=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(kp(A,c,p,!1),m=(p&c.childLanes)!==0),B){if(m)return GH(A,c,p);c.flags|=128}if(B=c.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),le(Xn,Xn.current),m)break;return null;case 22:return c.lanes=0,NH(A,c,p,c.pendingProps);case 24:Lu(c,li,A.memoizedState.cache)}return kA(A,c,p)}function zH(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)ci=!0;else{if(!XF(A,p)&&(c.flags&128)===0)return ci=!1,zte(A,c,p);ci=(A.flags&131072)!==0}else ci=!1,Tt&&(c.flags&1048576)!==0&&B2(c,Dy,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=rf(c.elementType),c.type=A,typeof A=="function")nF(A)?(m=Af(A,m),c.tag=1,c=OH(null,c,A,m,p)):(c.tag=0,c=GF(null,c,A,m,p));else{if(A!=null){var B=A.$$typeof;if(B===R){c.tag=11,c=PH(null,c,A,m,p);break e}else if(B===L){c.tag=14,c=RH(null,c,A,m,p);break e}}throw c=ne(A)||A,Error(i(306,c,""))}}return c;case 0:return GF(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,B=Af(m,c.pendingProps),OH(A,c,m,B,p);case 3:e:{if(ht(c,c.stateNode.containerInfo),A===null)throw Error(i(387));m=c.pendingProps;var S=c.memoizedState;B=S.element,mF(A,c),Ky(c,m,null,p);var N=c.memoizedState;if(m=N.cache,Lu(c,li,m),m!==S.cache&&cF(c,[li],p,!0),Vy(),m=N.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=HH(A,c,m,p);break e}else if(m!==B){B=fa(Error(i(424)),c),Ny(B),c=HH(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(En=va(A.firstChild),Ji=c,Tt=!0,Du=null,ga=!0,p=N2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Zd(),m===B){c=kA(A,c,p);break e}er(A,c,m,p)}c=c.child}return c;case 26:return $E(A,c),A===null?(p=nV(c.type,null,c.pendingProps,null))?c.memoizedState=p:Tt||(p=c.type,A=c.pendingProps,m=uS(Fe.current).createElement(p),m[rt]=c,m[Yt]=A,tr(m,p,A),Ri(m),c.stateNode=m):c.memoizedState=nV(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Le(c),A===null&&Tt&&(m=c.stateNode=Z4(c.type,c.pendingProps,Fe.current),Ji=c,ga=!0,B=En,Yu(c.type)?(FU=B,En=va(m.firstChild)):En=B),er(A,c,c.pendingProps.children,p),$E(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&Tt&&((B=m=En)&&(m=bne(m,c.type,c.pendingProps,ga),m!==null?(c.stateNode=m,Ji=c,En=va(m.firstChild),ga=!1,B=!0):B=!1),B||Nu(c)),Le(c),B=c.type,S=c.pendingProps,N=A!==null?A.memoizedProps:null,m=S.children,SU(B,S)?m=null:N!==null&&SU(B,N)&&(c.flags|=32),c.memoizedState!==null&&(B=EF(A,c,Nte,null,null,p),l0._currentValue=B),$E(A,c),er(A,c,m,p),c.child;case 6:return A===null&&Tt&&((A=p=En)&&(p=Cne(p,c.pendingProps,ga),p!==null?(c.stateNode=p,Ji=c,En=null,A=!0):A=!1),A||Nu(c)),null;case 13:return VH(A,c,p);case 4:return ht(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=af(c,null,m,p):er(A,c,m,p),c.child;case 11:return PH(A,c,c.type,c.pendingProps,p);case 7:return er(A,c,c.pendingProps,p),c.child;case 8:return er(A,c,c.pendingProps.children,p),c.child;case 12:return er(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,Lu(c,c.type,m.value),er(A,c,m.children,p),c.child;case 9:return B=c.type._context,m=c.pendingProps.children,tf(c),B=Zi(B),m=m(B),c.flags|=1,er(A,c,m,p),c.child;case 14:return RH(A,c,c.type,c.pendingProps,p);case 15:return DH(A,c,c.type,c.pendingProps,p);case 19:return GH(A,c,p);case 31:return Gte(A,c,p);case 22:return NH(A,c,p,c.pendingProps);case 24:return tf(c),m=Zi(li),A===null?(B=hF(),B===null&&(B=un,S=dF(),B.pooledCache=S,S.refCount++,S!==null&&(B.pooledCacheLanes|=p),B=S),c.memoizedState={parent:m,cache:B},gF(c),Lu(c,li,B)):((A.lanes&p)!==0&&(mF(A,c),Ky(c,null,null,p),Vy()),B=A.memoizedState,S=c.memoizedState,B.parent!==m?(B={parent:m,cache:m},c.memoizedState=B,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=B),Lu(c,li,m)):(m=S.cache,Lu(c,li,m),m!==B.cache&&cF(c,[li],p,!0))),er(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function OA(A){A.flags|=4}function JF(A,c,p,m,B){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(B&335544128)===B)if(A.stateNode.complete)A.flags|=8192;else if(v4())A.flags|=8192;else throw sf=ME,pF}else A.flags&=-16777217}function qH(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!oV(c))if(v4())A.flags|=8192;else throw sf=ME,pF}function WE(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?AE():536870912,A.lanes|=c,Xp|=c)}function Wy(A,c){if(!Tt)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function Sn(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags&65011712,m|=B.flags&65011712,B.return=A,B=B.sibling;else for(B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags,m|=B.flags,B.return=A,B=B.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function qte(A,c,p){var m=c.pendingProps;switch(aF(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(c),null;case 1:return Sn(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),NA(li),ie(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(Qp(c)?OA(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,AF())),Sn(c),null;case 26:var B=c.type,S=c.memoizedState;return A===null?(OA(c),S!==null?(Sn(c),qH(c,S)):(Sn(c),JF(c,B,null,m,p))):S?S!==A.memoizedState?(OA(c),Sn(c),qH(c,S)):(Sn(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&OA(c),Sn(c),JF(c,B,A,m,p)),null;case 27:if(qe(c),p=Fe.current,B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&OA(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Sn(c),null}A=ve.current,Qp(c)?S2(c):(A=Z4(B,m,p),c.stateNode=A,OA(c))}return Sn(c),null;case 5:if(qe(c),B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&OA(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Sn(c),null}if(S=ve.current,Qp(c))S2(c);else{var N=uS(Fe.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?N.createElement(B,{is:m.is}):N.createElement(B)}}S[rt]=c,S[Yt]=m;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=S;e:switch(tr(S,B,m),B){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&OA(c)}}return Sn(c),JF(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&OA(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(A=Fe.current,Qp(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,B=Ji,B!==null)switch(B.tag){case 27:case 5:m=B.memoizedProps}A[rt]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||V4(A.nodeValue,p)),A||Nu(c,!0)}else A=uS(A).createTextNode(m),A[rt]=c,c.stateNode=A}return Sn(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=Qp(c),p!==null){if(A===null){if(!m)throw Error(i(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(557));A[rt]=c}else Zd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Sn(c),A=!1}else p=AF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(xs(c),c):(xs(c),null);if((c.flags&128)!==0)throw Error(i(558))}return Sn(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(B=Qp(c),m!==null&&m.dehydrated!==null){if(A===null){if(!B)throw Error(i(318));if(B=c.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(i(317));B[rt]=c}else Zd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Sn(c),B=!1}else B=AF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=B),B=!0;if(!B)return c.flags&256?(xs(c),c):(xs(c),null)}return xs(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,B=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(B=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==B&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),WE(c,c.updateQueue),Sn(c),null);case 4:return ie(),A===null&&wU(c.stateNode.containerInfo),Sn(c),null;case 10:return NA(c.type),Sn(c),null;case 19:if(J(Xn),m=c.memoizedState,m===null)return Sn(c),null;if(B=(c.flags&128)!==0,S=m.rendering,S===null)if(B)Wy(m,!1);else{if(Hn!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(S=NE(A),S!==null){for(c.flags|=128,Wy(m,!1),A=S.updateQueue,c.updateQueue=A,WE(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)w2(p,A),p=p.sibling;return le(Xn,Xn.current&1|2),Tt&&RA(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&Z()>eS&&(c.flags|=128,B=!0,Wy(m,!1),c.lanes=4194304)}else{if(!B)if(A=NE(S),A!==null){if(c.flags|=128,B=!0,A=A.updateQueue,c.updateQueue=A,WE(c,A),Wy(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Tt)return Sn(c),null}else 2*Z()-m.renderingStartTime>eS&&p!==536870912&&(c.flags|=128,B=!0,Wy(m,!1),c.lanes=4194304);m.isBackwards?(S.sibling=c.child,c.child=S):(A=m.last,A!==null?A.sibling=S:c.child=S,m.last=S)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=Z(),A.sibling=null,p=Xn.current,le(Xn,B?p&1|2:p&1),Tt&&RA(c,m.treeForkCount),A):(Sn(c),null);case 22:case 23:return xs(c),bF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(Sn(c),c.subtreeFlags&6&&(c.flags|=8192)):Sn(c),p=c.updateQueue,p!==null&&WE(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&J(nf),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),NA(li),Sn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function $te(A,c){switch(aF(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return NA(li),ie(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return qe(c),null;case 31:if(c.memoizedState!==null){if(xs(c),c.alternate===null)throw Error(i(340));Zd()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(xs(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Zd()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return J(Xn),null;case 4:return ie(),null;case 10:return NA(c.type),null;case 22:case 23:return xs(c),bF(),A!==null&&J(nf),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return NA(li),null;case 25:return null;default:return null}}function $H(A,c){switch(aF(c),c.tag){case 3:NA(li),ie();break;case 26:case 27:case 5:qe(c);break;case 4:ie();break;case 31:c.memoizedState!==null&&xs(c);break;case 13:xs(c);break;case 19:J(Xn);break;case 10:NA(c.type);break;case 22:case 23:xs(c),bF(),A!==null&&J(nf);break;case 24:NA(li)}}function Yy(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var B=m.next;p=B;do{if((p.tag&A)===A){m=void 0;var S=p.create,N=p.inst;m=S(),N.destroy=m}p=p.next}while(p!==B)}}catch(O){zt(c,c.return,O)}}function Ku(A,c,p){try{var m=c.updateQueue,B=m!==null?m.lastEffect:null;if(B!==null){var S=B.next;m=S;do{if((m.tag&A)===A){var N=m.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,B=c;var j=p,te=O;try{te()}catch(de){zt(B,j,de)}}}m=m.next}while(m!==S)}}catch(de){zt(c,c.return,de)}}function jH(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{Q2(c,p)}catch(m){zt(A,A.return,m)}}}function WH(A,c,p){p.props=Af(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){zt(A,c,m)}}function Xy(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(B){zt(A,c,B)}}function ko(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(B){zt(A,c,B)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(B){zt(A,c,B)}else p.current=null}function YH(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(B){zt(A,A.return,B)}}function ZF(A,c,p){try{var m=A.stateNode;pne(m,A.type,p,c),m[Yt]=c}catch(B){zt(A,A.return,B)}}function XH(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&Yu(A.type)||A.tag===4}function eU(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||XH(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&Yu(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function tU(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=UA));else if(m!==4&&(m===27&&Yu(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for(tU(A,c,p),A=A.sibling;A!==null;)tU(A,c,p),A=A.sibling}function YE(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&Yu(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(YE(A,c,p),A=A.sibling;A!==null;)YE(A,c,p),A=A.sibling}function JH(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);tr(c,m,p),c[rt]=A,c[Yt]=p}catch(S){zt(A,A.return,S)}}var HA=!1,di=!1,nU=!1,ZH=typeof WeakSet=="function"?WeakSet:Set,Di=null;function jte(A,c){if(A=A.containerInfo,BU=mS,A=c2(A),WI(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var B=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{p.nodeType,S.nodeType}catch{p=null;break e}var N=0,O=-1,j=-1,te=0,de=0,pe=A,re=null;t:for(;;){for(var oe;pe!==p||B!==0&&pe.nodeType!==3||(O=N+B),pe!==S||m!==0&&pe.nodeType!==3||(j=N+m),pe.nodeType===3&&(N+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)re=pe,pe=oe;for(;;){if(pe===A)break t;if(re===p&&++te===B&&(O=N),re===S&&++de===m&&(j=N),(oe=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=oe}p=O===-1||j===-1?null:{start:O,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for(EU={focusedElem:A,selectionRange:p},mS=!1,Di=c;Di!==null;)if(c=Di,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,Di=A;else for(;Di!==null;){switch(c=Di,S=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)B=A[p],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&S!==null){A=void 0,p=c,B=S.memoizedProps,S=S.memoizedState,m=p.stateNode;try{var Oe=Af(p.type,B);A=m.getSnapshotBeforeUpdate(Oe,S),m.__reactInternalSnapshotBeforeUpdate=A}catch(et){zt(p,p.return,et)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)_U(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":_U(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(i(163))}if(A=c.sibling,A!==null){A.return=c.return,Di=A;break}Di=c.return}}function e4(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:KA(A,p),m&4&&Yy(5,p);break;case 1:if(KA(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(N){zt(p,p.return,N)}else{var B=Af(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(B,c,A.__reactInternalSnapshotBeforeUpdate)}catch(N){zt(p,p.return,N)}}m&64&&jH(p),m&512&&Xy(p,p.return);break;case 3:if(KA(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{Q2(A,c)}catch(N){zt(p,p.return,N)}}break;case 27:c===null&&m&4&&JH(p);case 26:case 5:KA(A,p),c===null&&m&4&&YH(p),m&512&&Xy(p,p.return);break;case 12:KA(A,p);break;case 31:KA(A,p),m&4&&i4(A,p);break;case 13:KA(A,p),m&4&&r4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=ine.bind(null,p),Bne(A,p))));break;case 22:if(m=p.memoizedState!==null||HA,!m){c=c!==null&&c.memoizedState!==null||di,B=HA;var S=di;HA=m,(di=c)&&!S?GA(A,p,(p.subtreeFlags&8772)!==0):KA(A,p),HA=B,di=S}break;case 30:break;default:KA(A,p)}}function t4(A){var c=A.alternate;c!==null&&(A.alternate=null,t4(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&MI(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Fn=null,Zr=!1;function VA(A,c,p){for(p=p.child;p!==null;)n4(A,c,p),p=p.sibling}function n4(A,c,p){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(Ie,p)}catch{}switch(p.tag){case 26:di||ko(p,c),VA(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:di||ko(p,c);var m=Fn,B=Zr;Yu(p.type)&&(Fn=p.stateNode,Zr=!1),VA(A,c,p),a0(p.stateNode),Fn=m,Zr=B;break;case 5:di||ko(p,c);case 6:if(m=Fn,B=Zr,Fn=null,VA(A,c,p),Fn=m,Zr=B,Fn!==null)if(Zr)try{(Fn.nodeType===9?Fn.body:Fn.nodeName==="HTML"?Fn.ownerDocument.body:Fn).removeChild(p.stateNode)}catch(S){zt(p,c,S)}else try{Fn.removeChild(p.stateNode)}catch(S){zt(p,c,S)}break;case 18:Fn!==null&&(Zr?(A=Fn,j4(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),sg(A)):j4(Fn,p.stateNode));break;case 4:m=Fn,B=Zr,Fn=p.stateNode.containerInfo,Zr=!0,VA(A,c,p),Fn=m,Zr=B;break;case 0:case 11:case 14:case 15:Ku(2,p,c),di||Ku(4,p,c),VA(A,c,p);break;case 1:di||(ko(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&WH(p,c,m)),VA(A,c,p);break;case 21:VA(A,c,p);break;case 22:di=(m=di)||p.memoizedState!==null,VA(A,c,p),di=m;break;default:VA(A,c,p)}}function i4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{sg(A)}catch(p){zt(c,c.return,p)}}}function r4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{sg(A)}catch(p){zt(c,c.return,p)}}function Wte(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new ZH),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new ZH),c;default:throw Error(i(435,A.tag))}}function XE(A,c){var p=Wte(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var B=rne.bind(null,A,m);m.then(B,B)}})}function es(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var B=p[m],S=A,N=c,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(Yu(O.type)){Fn=O.stateNode,Zr=!1;break e}break;case 5:Fn=O.stateNode,Zr=!1;break e;case 3:case 4:Fn=O.stateNode.containerInfo,Zr=!0;break e}O=O.return}if(Fn===null)throw Error(i(160));n4(S,N,B),Fn=null,Zr=!1,S=B.alternate,S!==null&&(S.return=null),B.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)s4(c,A),c=c.sibling}var io=null;function s4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:es(c,A),ts(A),m&4&&(Ku(3,A,A.return),Yy(3,A),Ku(5,A,A.return));break;case 1:es(c,A),ts(A),m&512&&(di||p===null||ko(p,p.return)),m&64&&HA&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var B=io;if(es(c,A),ts(A),m&512&&(di||p===null||ko(p,p.return)),m&4){var S=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,B=B.ownerDocument||B;t:switch(m){case"title":S=B.getElementsByTagName("title")[0],(!S||S[Ey]||S[rt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=B.createElement(m),B.head.insertBefore(S,B.querySelector("head > title"))),tr(S,m,p),S[rt]=A,Ri(S),m=S;break e;case"link":var N=sV("link","href",B).get(m+(p.href||""));if(N){for(var O=0;O<N.length;O++)if(S=N[O],S.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&S.getAttribute("rel")===(p.rel==null?null:p.rel)&&S.getAttribute("title")===(p.title==null?null:p.title)&&S.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){N.splice(O,1);break t}}S=B.createElement(m),tr(S,m,p),B.head.appendChild(S);break;case"meta":if(N=sV("meta","content",B).get(m+(p.content||""))){for(O=0;O<N.length;O++)if(S=N[O],S.getAttribute("content")===(p.content==null?null:""+p.content)&&S.getAttribute("name")===(p.name==null?null:p.name)&&S.getAttribute("property")===(p.property==null?null:p.property)&&S.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&S.getAttribute("charset")===(p.charSet==null?null:p.charSet)){N.splice(O,1);break t}}S=B.createElement(m),tr(S,m,p),B.head.appendChild(S);break;default:throw Error(i(468,m))}S[rt]=A,Ri(S),m=S}A.stateNode=m}else aV(B,A.type,A.stateNode);else A.stateNode=rV(B,m,A.memoizedProps);else S!==m?(S===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):S.count--,m===null?aV(B,A.type,A.stateNode):rV(B,m,A.memoizedProps)):m===null&&A.stateNode!==null&&ZF(A,A.memoizedProps,p.memoizedProps)}break;case 27:es(c,A),ts(A),m&512&&(di||p===null||ko(p,p.return)),p!==null&&m&4&&ZF(A,A.memoizedProps,p.memoizedProps);break;case 5:if(es(c,A),ts(A),m&512&&(di||p===null||ko(p,p.return)),A.flags&32){B=A.stateNode;try{Tp(B,"")}catch(Oe){zt(A,A.return,Oe)}}m&4&&A.stateNode!=null&&(B=A.memoizedProps,ZF(A,B,p!==null?p.memoizedProps:B)),m&1024&&(nU=!0);break;case 6:if(es(c,A),ts(A),m&4){if(A.stateNode===null)throw Error(i(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(Oe){zt(A,A.return,Oe)}}break;case 3:if(fS=null,B=io,io=cS(c.containerInfo),es(c,A),io=B,ts(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{sg(c.containerInfo)}catch(Oe){zt(A,A.return,Oe)}nU&&(nU=!1,a4(A));break;case 4:m=io,io=cS(A.stateNode.containerInfo),es(c,A),ts(A),io=m;break;case 12:es(c,A),ts(A);break;case 31:es(c,A),ts(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,XE(A,m)));break;case 13:es(c,A),ts(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(ZE=Z()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,XE(A,m)));break;case 22:B=A.memoizedState!==null;var j=p!==null&&p.memoizedState!==null,te=HA,de=di;if(HA=te||B,di=de||j,es(c,A),di=de,HA=te,ts(A),m&8192)e:for(c=A.stateNode,c._visibility=B?c._visibility&-2:c._visibility|1,B&&(p===null||j||HA||di||lf(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){j=p=c;try{if(S=j.stateNode,B)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=j.stateNode;var pe=j.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;O.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Oe){zt(j,j.return,Oe)}}}else if(c.tag===6){if(p===null){j=c;try{j.stateNode.nodeValue=B?"":j.memoizedProps}catch(Oe){zt(j,j.return,Oe)}}}else if(c.tag===18){if(p===null){j=c;try{var oe=j.stateNode;B?W4(oe,!0):W4(j.stateNode,!1)}catch(Oe){zt(j,j.return,Oe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,XE(A,p))));break;case 19:es(c,A),ts(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,XE(A,m)));break;case 30:break;case 21:break;default:es(c,A),ts(A)}}function ts(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if(XH(m)){p=m;break}m=m.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var B=p.stateNode,S=eU(A);YE(A,S,B);break;case 5:var N=p.stateNode;p.flags&32&&(Tp(N,""),p.flags&=-33);var O=eU(A);YE(A,O,N);break;case 3:case 4:var j=p.stateNode.containerInfo,te=eU(A);tU(A,te,j);break;default:throw Error(i(161))}}catch(de){zt(A,A.return,de)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function a4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;a4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function KA(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)e4(A,c.alternate,c),c=c.sibling}function lf(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:Ku(4,c,c.return),lf(c);break;case 1:ko(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&WH(c,c.return,p),lf(c);break;case 27:a0(c.stateNode);case 26:case 5:ko(c,c.return),lf(c);break;case 22:c.memoizedState===null&&lf(c);break;case 30:lf(c);break;default:lf(c)}A=A.sibling}}function GA(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,B=A,S=c,N=S.flags;switch(S.tag){case 0:case 11:case 15:GA(B,S,p),Yy(4,S);break;case 1:if(GA(B,S,p),m=S,B=m.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(te){zt(m,m.return,te)}if(m=S,B=m.updateQueue,B!==null){var O=m.stateNode;try{var j=B.shared.hiddenCallbacks;if(j!==null)for(B.shared.hiddenCallbacks=null,B=0;B<j.length;B++)L2(j[B],O)}catch(te){zt(m,m.return,te)}}p&&N&64&&jH(S),Xy(S,S.return);break;case 27:JH(S);case 26:case 5:GA(B,S,p),p&&m===null&&N&4&&YH(S),Xy(S,S.return);break;case 12:GA(B,S,p);break;case 31:GA(B,S,p),p&&N&4&&i4(B,S);break;case 13:GA(B,S,p),p&&N&4&&r4(B,S);break;case 22:S.memoizedState===null&&GA(B,S,p),Xy(S,S.return);break;case 30:break;default:GA(B,S,p)}c=c.sibling}}function iU(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&Ly(p))}function rU(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Ly(A))}function ro(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)o4(A,c,p,m),c=c.sibling}function o4(A,c,p,m){var B=c.flags;switch(c.tag){case 0:case 11:case 15:ro(A,c,p,m),B&2048&&Yy(9,c);break;case 1:ro(A,c,p,m);break;case 3:ro(A,c,p,m),B&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Ly(A)));break;case 12:if(B&2048){ro(A,c,p,m),A=c.stateNode;try{var S=c.memoizedProps,N=S.id,O=S.onPostCommit;typeof O=="function"&&O(N,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(j){zt(c,c.return,j)}}else ro(A,c,p,m);break;case 31:ro(A,c,p,m);break;case 13:ro(A,c,p,m);break;case 23:break;case 22:S=c.stateNode,N=c.alternate,c.memoizedState!==null?S._visibility&2?ro(A,c,p,m):Jy(A,c):S._visibility&2?ro(A,c,p,m):(S._visibility|=2,jp(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),B&2048&&iU(N,c);break;case 24:ro(A,c,p,m),B&2048&&rU(c.alternate,c);break;default:ro(A,c,p,m)}}function jp(A,c,p,m,B){for(B=B&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=A,N=c,O=p,j=m,te=N.flags;switch(N.tag){case 0:case 11:case 15:jp(S,N,O,j,B),Yy(8,N);break;case 23:break;case 22:var de=N.stateNode;N.memoizedState!==null?de._visibility&2?jp(S,N,O,j,B):Jy(S,N):(de._visibility|=2,jp(S,N,O,j,B)),B&&te&2048&&iU(N.alternate,N);break;case 24:jp(S,N,O,j,B),B&&te&2048&&rU(N.alternate,N);break;default:jp(S,N,O,j,B)}c=c.sibling}}function Jy(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,B=m.flags;switch(m.tag){case 22:Jy(p,m),B&2048&&iU(m.alternate,m);break;case 24:Jy(p,m),B&2048&&rU(m.alternate,m);break;default:Jy(p,m)}c=c.sibling}}var Zy=8192;function Wp(A,c,p){if(A.subtreeFlags&Zy)for(A=A.child;A!==null;)A4(A,c,p),A=A.sibling}function A4(A,c,p){switch(A.tag){case 26:Wp(A,c,p),A.flags&Zy&&A.memoizedState!==null&&Dne(p,io,A.memoizedState,A.memoizedProps);break;case 5:Wp(A,c,p);break;case 3:case 4:var m=io;io=cS(A.stateNode.containerInfo),Wp(A,c,p),io=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=Zy,Zy=16777216,Wp(A,c,p),Zy=m):Wp(A,c,p));break;default:Wp(A,c,p)}}function l4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function e0(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Di=m,c4(m,A)}l4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)u4(A),A=A.sibling}function u4(A){switch(A.tag){case 0:case 11:case 15:e0(A),A.flags&2048&&Ku(9,A,A.return);break;case 3:e0(A);break;case 12:e0(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,JE(A)):e0(A);break;default:e0(A)}}function JE(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Di=m,c4(m,A)}l4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:Ku(8,c,c.return),JE(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,JE(c));break;default:JE(c)}A=A.sibling}}function c4(A,c){for(;Di!==null;){var p=Di;switch(p.tag){case 0:case 11:case 15:Ku(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ly(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,Di=m;else e:for(p=A;Di!==null;){m=Di;var B=m.sibling,S=m.return;if(t4(m),m===p){Di=null;break e}if(B!==null){B.return=S,Di=B;break e}Di=S}}}var Yte={getCacheForType:function(A){var c=Zi(li),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return Zi(li).controller.signal}},Xte=typeof WeakMap=="function"?WeakMap:Map,kt=0,un=null,Ct=null,Et=0,Gt=0,_s=null,Gu=!1,Yp=!1,sU=!1,zA=0,Hn=0,zu=0,uf=0,aU=0,Ts=0,Xp=0,t0=null,ns=null,oU=!1,ZE=0,d4=0,eS=1/0,tS=null,qu=null,bi=0,$u=null,Jp=null,qA=0,AU=0,lU=null,f4=null,n0=0,uU=null;function Is(){return(kt&2)!==0&&Et!==0?Et&-Et:G.T!==null?gU():st()}function h4(){if(Ts===0)if((Et&536870912)===0||Tt){var A=Ai;Ai<<=1,(Ai&3932160)===0&&(Ai=262144),Ts=A}else Ts=536870912;return A=Ss.current,A!==null&&(A.flags|=32),Ts}function is(A,c,p){(A===un&&(Gt===2||Gt===9)||A.cancelPendingCommit!==null)&&(Zp(A,0),ju(A,Et,Ts,!1)),qd(A,p),((kt&2)===0||A!==un)&&(A===un&&((kt&2)===0&&(uf|=p),Hn===4&&ju(A,Et,Ts,!1)),Oo(A))}function p4(A,c,p){if((kt&6)!==0)throw Error(i(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||Gd(A,c),B=m?ene(A,c):dU(A,c,!0),S=m;do{if(B===0){Yp&&!m&&ju(A,c,0,!1);break}else{if(p=A.current.alternate,S&&!Jte(p)){B=dU(A,c,!1),S=!1;continue}if(B===2){if(S=c,A.errorRecoveryDisabledLanes&S)var N=0;else N=A.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var O=A;B=t0;var j=O.current.memoizedState.isDehydrated;if(j&&(Zp(O,N).flags|=256),N=dU(O,N,!1),N!==2){if(sU&&!j){O.errorRecoveryDisabledLanes|=S,uf|=S,B=4;break e}S=ns,ns=B,S!==null&&(ns===null?ns=S:ns.push.apply(ns,S))}B=N}if(S=!1,B!==2)continue}}if(B===1){Zp(A,0),ju(A,c,0,!0);break}e:{switch(m=A,S=B,S){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:ju(m,c,Ts,!Gu);break e;case 2:ns=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(B=ZE+300-Z(),10<B)){if(ju(m,c,Ts,!Gu),Cp(m,0,!0)!==0)break e;qA=c,m.timeoutHandle=q4(g4.bind(null,m,p,ns,tS,oU,c,Ts,uf,Xp,Gu,S,"Throttled",-0,0),B);break e}g4(m,p,ns,tS,oU,c,Ts,uf,Xp,Gu,S,null,-0,0)}}break}while(!0);Oo(A)}function g4(A,c,p,m,B,S,N,O,j,te,de,pe,re,oe){if(A.timeoutHandle=-1,pe=c.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:UA},A4(c,S,pe);var Oe=(S&62914560)===S?ZE-Z():(S&4194048)===S?d4-Z():0;if(Oe=Nne(pe,Oe),Oe!==null){qA=S,A.cancelPendingCommit=Oe(E4.bind(null,A,c,S,p,m,B,N,O,j,de,pe,null,re,oe)),ju(A,S,N,!te);return}}E4(A,c,S,p,m,B,N,O,j)}function Jte(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var B=p[m],S=B.getSnapshot;B=B.value;try{if(!Bs(S(),B))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ju(A,c,p,m){c&=~aU,c&=~uf,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var B=c;0<B;){var S=31-xe(B),N=1<<S;m[S]=-1,B&=~N}p!==0&&lE(A,p,c)}function nS(){return(kt&6)===0?(i0(0),!1):!0}function cU(){if(Ct!==null){if(Gt===0)var A=Ct.return;else A=Ct,DA=ef=null,_F(A),Kp=null,ky=0,A=Ct;for(;A!==null;)$H(A.alternate,A),A=A.return;Ct=null}}function Zp(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,vne(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),qA=0,cU(),un=A,Ct=p=PA(A.current,null),Et=c,Gt=0,_s=null,Gu=!1,Yp=Gd(A,c),sU=!1,Xp=Ts=aU=uf=zu=Hn=0,ns=t0=null,oU=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var B=31-xe(m),S=1<<B;c|=A[B],m&=~S}return zA=c,BE(),p}function m4(A,c){ct=null,G.H=$y,c===Vp||c===UE?(c=P2(),Gt=3):c===pF?(c=P2(),Gt=4):Gt=c===KF?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,_s=c,Ct===null&&(Hn=1,zE(A,fa(c,A.current)))}function v4(){var A=Ss.current;return A===null?!0:(Et&4194048)===Et?ma===null:(Et&62914560)===Et||(Et&536870912)!==0?A===ma:!1}function y4(){var A=G.H;return G.H=$y,A===null?$y:A}function w4(){var A=G.A;return G.A=Yte,A}function iS(){Hn=4,Gu||(Et&4194048)!==Et&&Ss.current!==null||(Yp=!0),(zu&134217727)===0&&(uf&134217727)===0||un===null||ju(un,Et,Ts,!1)}function dU(A,c,p){var m=kt;kt|=2;var B=y4(),S=w4();(un!==A||Et!==c)&&(tS=null,Zp(A,c)),c=!1;var N=Hn;e:do try{if(Gt!==0&&Ct!==null){var O=Ct,j=_s;switch(Gt){case 8:cU(),N=6;break e;case 3:case 2:case 9:case 6:Ss.current===null&&(c=!0);var te=Gt;if(Gt=0,_s=null,eg(A,O,j,te),p&&Yp){N=0;break e}break;default:te=Gt,Gt=0,_s=null,eg(A,O,j,te)}}Zte(),N=Hn;break}catch(de){m4(A,de)}while(!0);return c&&A.shellSuspendCounter++,DA=ef=null,kt=m,G.H=B,G.A=S,Ct===null&&(un=null,Et=0,BE()),N}function Zte(){for(;Ct!==null;)b4(Ct)}function ene(A,c){var p=kt;kt|=2;var m=y4(),B=w4();un!==A||Et!==c?(tS=null,eS=Z()+500,Zp(A,c)):Yp=Gd(A,c);e:do try{if(Gt!==0&&Ct!==null){c=Ct;var S=_s;t:switch(Gt){case 1:Gt=0,_s=null,eg(A,c,S,1);break;case 2:case 9:if(U2(S)){Gt=0,_s=null,C4(c);break}c=function(){Gt!==2&&Gt!==9||un!==A||(Gt=7),Oo(A)},S.then(c,c);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:U2(S)?(Gt=0,_s=null,C4(c)):(Gt=0,_s=null,eg(A,c,S,7));break;case 5:var N=null;switch(Ct.tag){case 26:N=Ct.memoizedState;case 5:case 27:var O=Ct;if(N?oV(N):O.stateNode.complete){Gt=0,_s=null;var j=O.sibling;if(j!==null)Ct=j;else{var te=O.return;te!==null?(Ct=te,rS(te)):Ct=null}break t}}Gt=0,_s=null,eg(A,c,S,5);break;case 6:Gt=0,_s=null,eg(A,c,S,6);break;case 8:cU(),Hn=6;break e;default:throw Error(i(462))}}tne();break}catch(de){m4(A,de)}while(!0);return DA=ef=null,G.H=m,G.A=B,kt=p,Ct!==null?0:(un=null,Et=0,BE(),Hn)}function tne(){for(;Ct!==null&&!Do();)b4(Ct)}function b4(A){var c=zH(A.alternate,A,zA);A.memoizedProps=A.pendingProps,c===null?rS(A):Ct=c}function C4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=kH(p,c,c.pendingProps,c.type,void 0,Et);break;case 11:c=kH(p,c,c.pendingProps,c.type.render,c.ref,Et);break;case 5:_F(c);default:$H(p,c),c=Ct=w2(c,zA),c=zH(p,c,zA)}A.memoizedProps=A.pendingProps,c===null?rS(A):Ct=c}function eg(A,c,p,m){DA=ef=null,_F(c),Kp=null,ky=0;var B=c.return;try{if(Kte(A,B,c,p,Et)){Hn=1,zE(A,fa(p,A.current)),Ct=null;return}}catch(S){if(B!==null)throw Ct=B,S;Hn=1,zE(A,fa(p,A.current)),Ct=null;return}c.flags&32768?(Tt||m===1?A=!0:Yp||(Et&536870912)!==0?A=!1:(Gu=A=!0,(m===2||m===9||m===3||m===6)&&(m=Ss.current,m!==null&&m.tag===13&&(m.flags|=16384))),B4(c,A)):rS(c)}function rS(A){var c=A;do{if((c.flags&32768)!==0){B4(c,Gu);return}A=c.return;var p=qte(c.alternate,c,zA);if(p!==null){Ct=p;return}if(c=c.sibling,c!==null){Ct=c;return}Ct=c=A}while(c!==null);Hn===0&&(Hn=5)}function B4(A,c){do{var p=$te(A.alternate,A);if(p!==null){p.flags&=32767,Ct=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){Ct=A;return}Ct=A=p}while(A!==null);Hn=6,Ct=null}function E4(A,c,p,m,B,S,N,O,j){A.cancelPendingCommit=null;do sS();while(bi!==0);if((kt&6)!==0)throw Error(i(327));if(c!==null){if(c===A.current)throw Error(i(177));if(S=c.lanes|c.childLanes,S|=eF,FI(A,p,S,N,O,j),A===un&&(Ct=un=null,Et=0),Jp=c,$u=A,qA=p,AU=S,lU=B,f4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,sne($e,function(){return I4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,B=$.p,$.p=2,N=kt,kt|=4;try{jte(A,c,p)}finally{kt=N,$.p=B,G.T=m}}bi=1,S4(),x4(),_4()}}function S4(){if(bi===1){bi=0;var A=$u,c=Jp,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=G.T,G.T=null;var m=$.p;$.p=2;var B=kt;kt|=4;try{s4(c,A);var S=EU,N=c2(A.containerInfo),O=S.focusedElem,j=S.selectionRange;if(N!==O&&O&&O.ownerDocument&&u2(O.ownerDocument.documentElement,O)){if(j!==null&&WI(O)){var te=j.start,de=j.end;if(de===void 0&&(de=te),"selectionStart"in O)O.selectionStart=te,O.selectionEnd=Math.min(de,O.value.length);else{var pe=O.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Oe=O.textContent.length,et=Math.min(j.start,Oe),Zt=j.end===void 0?et:Math.min(j.end,Oe);!oe.extend&&et>Zt&&(N=Zt,Zt=et,et=N);var Y=l2(O,et),W=l2(O,Zt);if(Y&&W&&(oe.rangeCount!==1||oe.anchorNode!==Y.node||oe.anchorOffset!==Y.offset||oe.focusNode!==W.node||oe.focusOffset!==W.offset)){var ee=pe.createRange();ee.setStart(Y.node,Y.offset),oe.removeAllRanges(),et>Zt?(oe.addRange(ee),oe.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),oe.addRange(ee))}}}}for(pe=[],oe=O;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<pe.length;O++){var fe=pe[O];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}mS=!!BU,EU=BU=null}finally{kt=B,$.p=m,G.T=p}}A.current=c,bi=2}}function x4(){if(bi===2){bi=0;var A=$u,c=Jp,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=G.T,G.T=null;var m=$.p;$.p=2;var B=kt;kt|=4;try{e4(A,c.alternate,c)}finally{kt=B,$.p=m,G.T=p}}bi=3}}function _4(){if(bi===4||bi===3){bi=0,_e();var A=$u,c=Jp,p=qA,m=f4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?bi=5:(bi=0,Jp=$u=null,T4(A,A.pendingLanes));var B=A.pendingLanes;if(B===0&&(qu=null),Be(p),c=c.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(Ie,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=G.T,B=$.p,$.p=2,G.T=null;try{for(var S=A.onRecoverableError,N=0;N<m.length;N++){var O=m[N];S(O.value,{componentStack:O.stack})}}finally{G.T=c,$.p=B}}(qA&3)!==0&&sS(),Oo(A),B=A.pendingLanes,(p&261930)!==0&&(B&42)!==0?A===uU?n0++:(n0=0,uU=A):n0=0,i0(0)}}function T4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,Ly(c)))}function sS(){return S4(),x4(),_4(),I4()}function I4(){if(bi!==5)return!1;var A=$u,c=AU;AU=0;var p=Be(qA),m=G.T,B=$.p;try{$.p=32>p?32:p,G.T=null,p=lU,lU=null;var S=$u,N=qA;if(bi=0,Jp=$u=null,qA=0,(kt&6)!==0)throw Error(i(331));var O=kt;if(kt|=4,u4(S.current),o4(S,S.current,N,p),kt=O,i0(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(Ie,S)}catch{}return!0}finally{$.p=B,G.T=m,T4(A,c)}}function F4(A,c,p){c=fa(p,c),c=VF(A.stateNode,c,2),A=Ou(A,c,2),A!==null&&(qd(A,2),Oo(A))}function zt(A,c,p){if(A.tag===3)F4(A,A,p);else for(;c!==null;){if(c.tag===3){F4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(qu===null||!qu.has(m))){A=fa(p,A),p=UH(2),m=Ou(c,p,2),m!==null&&(MH(p,m,c,A),qd(m,2),Oo(m));break}}c=c.return}}function fU(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new Xte;var B=new Set;m.set(c,B)}else B=m.get(c),B===void 0&&(B=new Set,m.set(c,B));B.has(p)||(sU=!0,B.add(p),A=nne.bind(null,A,c,p),c.then(A,A))}function nne(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,un===A&&(Et&p)===p&&(Hn===4||Hn===3&&(Et&62914560)===Et&&300>Z()-ZE?(kt&2)===0&&Zp(A,0):aU|=p,Xp===Et&&(Xp=0)),Oo(A)}function U4(A,c){c===0&&(c=AE()),A=Xd(A,c),A!==null&&(qd(A,c),Oo(A))}function ine(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),U4(A,p)}function rne(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,B=A.memoizedState;B!==null&&(p=B.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),U4(A,p)}function sne(A,c){return yr(A,c)}var aS=null,tg=null,hU=!1,oS=!1,pU=!1,Wu=0;function Oo(A){A!==tg&&A.next===null&&(tg===null?aS=tg=A:tg=tg.next=A),oS=!0,hU||(hU=!0,one())}function i0(A,c){if(!pU&&oS){pU=!0;do for(var p=!1,m=aS;m!==null;){if(A!==0){var B=m.pendingLanes;if(B===0)var S=0;else{var N=m.suspendedLanes,O=m.pingedLanes;S=(1<<31-xe(42|A)+1)-1,S&=B&~(N&~O),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(p=!0,D4(m,S))}else S=Et,S=Cp(m,m===un?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||Gd(m,S)||(p=!0,D4(m,S));m=m.next}while(p);pU=!1}}function ane(){M4()}function M4(){oS=hU=!1;var A=0;Wu!==0&&mne()&&(A=Wu);for(var c=Z(),p=null,m=aS;m!==null;){var B=m.next,S=P4(m,c);S===0?(m.next=null,p===null?aS=B:p.next=B,B===null&&(tg=p)):(p=m,(A!==0||(S&3)!==0)&&(oS=!0)),m=B}bi!==0&&bi!==5||i0(A),Wu!==0&&(Wu=0)}function P4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,B=A.expirationTimes,S=A.pendingLanes&-62914561;0<S;){var N=31-xe(S),O=1<<N,j=B[N];j===-1?((O&p)===0||(O&m)!==0)&&(B[N]=II(O,c)):j<=c&&(A.expiredLanes|=O),S&=~O}if(c=un,p=Et,p=Cp(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(Gt===2||Gt===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&Yr(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||Gd(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&Yr(m),Be(p)){case 2:case 8:p=wt;break;case 32:p=$e;break;case 268435456:p=ye;break;default:p=$e}return m=R4.bind(null,A),p=yr(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&Yr(m),A.callbackPriority=2,A.callbackNode=null,2}function R4(A,c){if(bi!==0&&bi!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(sS()&&A.callbackNode!==p)return null;var m=Et;return m=Cp(A,A===un?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(p4(A,m,c),P4(A,Z()),A.callbackNode!=null&&A.callbackNode===p?R4.bind(null,A):null)}function D4(A,c){if(sS())return null;p4(A,c,!0)}function one(){yne(function(){(kt&6)!==0?yr(Re,ane):M4()})}function gU(){if(Wu===0){var A=Op;A===0&&(A=Xr,Xr<<=1,(Xr&261888)===0&&(Xr=256)),Wu=A}return Wu}function N4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:pE(""+A)}function L4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function Ane(A,c,p,m,B){if(c==="submit"&&p&&p.stateNode===B){var S=N4((B[Yt]||null).action),N=m.submitter;N&&(c=(c=N[Yt]||null)?N4(c.formAction):N.getAttribute("formAction"),c!==null&&(S=c,N=null));var O=new yE("action","action",null,m,B);A.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Wu!==0){var j=N?L4(B,N):new FormData(B);NF(p,{pending:!0,data:j,method:B.method,action:S},null,j)}}else typeof S=="function"&&(O.preventDefault(),j=N?L4(B,N):new FormData(B),NF(p,{pending:!0,data:j,method:B.method,action:S},S,j))},currentTarget:B}]})}}for(var mU=0;mU<ZI.length;mU++){var vU=ZI[mU],lne=vU.toLowerCase(),une=vU[0].toUpperCase()+vU.slice(1);no(lne,"on"+une)}no(h2,"onAnimationEnd"),no(p2,"onAnimationIteration"),no(g2,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(xte,"onTransitionRun"),no(_te,"onTransitionStart"),no(Tte,"onTransitionCancel"),no(m2,"onTransitionEnd"),xp("onMouseEnter",["mouseout","mouseover"]),xp("onMouseLeave",["mouseout","mouseover"]),xp("onPointerEnter",["pointerout","pointerover"]),xp("onPointerLeave",["pointerout","pointerover"]),$d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$d("onBeforeInput",["compositionend","keypress","textInput","paste"]),$d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var r0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(r0));function Q4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],B=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var N=m.length-1;0<=N;N--){var O=m[N],j=O.instance,te=O.currentTarget;if(O=O.listener,j!==S&&B.isPropagationStopped())break e;S=O,B.currentTarget=te;try{S(B)}catch(de){CE(de)}B.currentTarget=null,S=j}else for(N=0;N<m.length;N++){if(O=m[N],j=O.instance,te=O.currentTarget,O=O.listener,j!==S&&B.isPropagationStopped())break e;S=O,B.currentTarget=te;try{S(B)}catch(de){CE(de)}B.currentTarget=null,S=j}}}}function Bt(A,c){var p=c[Mu];p===void 0&&(p=c[Mu]=new Set);var m=A+"__bubble";p.has(m)||(k4(c,A,2,!1),p.add(m))}function yU(A,c,p){var m=0;c&&(m|=4),k4(p,A,m,c)}var AS="_reactListening"+Math.random().toString(36).slice(2);function wU(A){if(!A[AS]){A[AS]=!0,MO.forEach(function(p){p!=="selectionchange"&&(cne.has(p)||yU(p,!1,A),yU(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[AS]||(c[AS]=!0,yU("selectionchange",!1,c))}}function k4(A,c,p,m){switch(hV(c)){case 2:var B=kne;break;case 8:B=One;break;default:B=DU}p=B.bind(null,c,p,A),B=void 0,!OI||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(B=!0),m?B!==void 0?A.addEventListener(c,p,{capture:!0,passive:B}):A.addEventListener(c,p,!0):B!==void 0?A.addEventListener(c,p,{passive:B}):A.addEventListener(c,p,!1)}function bU(A,c,p,m,B){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var O=m.stateNode.containerInfo;if(O===B)break;if(N===4)for(N=m.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===B)return;N=N.return}for(;O!==null;){if(N=Bp(O),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){m=S=N;continue e}O=O.parentNode}}m=m.return}GO(function(){var te=S,de=QI(p),pe=[];e:{var re=v2.get(A);if(re!==void 0){var oe=yE,Oe=A;switch(A){case"keypress":if(mE(p)===0)break e;case"keydown":case"keyup":oe=rte;break;case"focusin":Oe="focus",oe=GI;break;case"focusout":Oe="blur",oe=GI;break;case"beforeblur":case"afterblur":oe=GI;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=$O;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=qee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=ote;break;case h2:case p2:case g2:oe=Wee;break;case m2:oe=lte;break;case"scroll":case"scrollend":oe=Gee;break;case"wheel":oe=cte;break;case"copy":case"cut":case"paste":oe=Xee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=WO;break;case"toggle":case"beforetoggle":oe=fte}var et=(c&4)!==0,Zt=!et&&(A==="scroll"||A==="scrollend"),Y=et?re!==null?re+"Capture":null:re;et=[];for(var W=te,ee;W!==null;){var fe=W;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||Y===null||(fe=xy(W,Y),fe!=null&&et.push(s0(W,fe,ee))),Zt)break;W=W.return}0<et.length&&(re=new oe(re,Oe,null,p,de),pe.push({event:re,listeners:et}))}}if((c&7)===0){e:{if(re=A==="mouseover"||A==="pointerover",oe=A==="mouseout"||A==="pointerout",re&&p!==LI&&(Oe=p.relatedTarget||p.fromElement)&&(Bp(Oe)||Oe[la]))break e;if((oe||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Oe=p.relatedTarget||p.toElement,oe=te,Oe=Oe?Bp(Oe):null,Oe!==null&&(Zt=s(Oe),et=Oe.tag,Oe!==Zt||et!==5&&et!==27&&et!==6)&&(Oe=null)):(oe=null,Oe=te),oe!==Oe)){if(et=$O,fe="onMouseLeave",Y="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(et=WO,fe="onPointerLeave",Y="onPointerEnter",W="pointer"),Zt=oe==null?re:Sy(oe),ee=Oe==null?re:Sy(Oe),re=new et(fe,W+"leave",oe,p,de),re.target=Zt,re.relatedTarget=ee,fe=null,Bp(de)===te&&(et=new et(Y,W+"enter",Oe,p,de),et.target=ee,et.relatedTarget=Zt,fe=et),Zt=fe,oe&&Oe)t:{for(et=dne,Y=oe,W=Oe,ee=0,fe=Y;fe;fe=et(fe))ee++;fe=0;for(var Xe=W;Xe;Xe=et(Xe))fe++;for(;0<ee-fe;)Y=et(Y),ee--;for(;0<fe-ee;)W=et(W),fe--;for(;ee--;){if(Y===W||W!==null&&Y===W.alternate){et=Y;break t}Y=et(Y),W=et(W)}et=null}else et=null;oe!==null&&O4(pe,re,oe,et,!1),Oe!==null&&Zt!==null&&O4(pe,Zt,Oe,et,!0)}}e:{if(re=te?Sy(te):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var Rt=i2;else if(t2(re))if(r2)Rt=Bte;else{Rt=bte;var Ke=wte}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&NI(te.elementType)&&(Rt=i2):Rt=Cte;if(Rt&&(Rt=Rt(A,te))){n2(pe,Rt,p,de);break e}Ke&&Ke(A,re,te),A==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&DI(re,"number",re.value)}switch(Ke=te?Sy(te):window,A){case"focusin":(t2(Ke)||Ke.contentEditable==="true")&&(Mp=Ke,YI=te,Ry=null);break;case"focusout":Ry=YI=Mp=null;break;case"mousedown":XI=!0;break;case"contextmenu":case"mouseup":case"dragend":XI=!1,d2(pe,p,de);break;case"selectionchange":if(Ste)break;case"keydown":case"keyup":d2(pe,p,de)}var pt;if(qI)e:{switch(A){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Up?ZO(A,p)&&(St="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(St="onCompositionStart");St&&(YO&&p.locale!=="ko"&&(Up||St!=="onCompositionStart"?St==="onCompositionEnd"&&Up&&(pt=zO()):(Pu=de,HI="value"in Pu?Pu.value:Pu.textContent,Up=!0)),Ke=lS(te,St),0<Ke.length&&(St=new jO(St,A,null,p,de),pe.push({event:St,listeners:Ke}),pt?St.data=pt:(pt=e2(p),pt!==null&&(St.data=pt)))),(pt=pte?gte(A,p):mte(A,p))&&(St=lS(te,"onBeforeInput"),0<St.length&&(Ke=new jO("onBeforeInput","beforeinput",null,p,de),pe.push({event:Ke,listeners:St}),Ke.data=pt)),Ane(pe,A,te,p,de)}Q4(pe,c)})}function s0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function lS(A,c){for(var p=c+"Capture",m=[];A!==null;){var B=A,S=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||S===null||(B=xy(A,p),B!=null&&m.unshift(s0(A,B,S)),B=xy(A,c),B!=null&&m.push(s0(A,B,S))),A.tag===3)return m;A=A.return}return[]}function dne(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function O4(A,c,p,m,B){for(var S=c._reactName,N=[];p!==null&&p!==m;){var O=p,j=O.alternate,te=O.stateNode;if(O=O.tag,j!==null&&j===m)break;O!==5&&O!==26&&O!==27||te===null||(j=te,B?(te=xy(p,S),te!=null&&N.unshift(s0(p,te,j))):B||(te=xy(p,S),te!=null&&N.push(s0(p,te,j)))),p=p.return}N.length!==0&&A.push({event:c,listeners:N})}var fne=/\r\n?/g,hne=/\u0000|\uFFFD/g;function H4(A){return(typeof A=="string"?A:""+A).replace(fne,`
`).replace(hne,"")}function V4(A,c){return c=H4(c),H4(A)===c}function Jt(A,c,p,m,B,S){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Tp(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Tp(A,""+m);break;case"className":fE(A,"class",m);break;case"tabIndex":fE(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":fE(A,p,m);break;case"style":VO(A,m,S);break;case"data":if(c!=="object"){fE(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=pE(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(p==="formAction"?(c!=="input"&&Jt(A,c,"name",B.name,B,null),Jt(A,c,"formEncType",B.formEncType,B,null),Jt(A,c,"formMethod",B.formMethod,B,null),Jt(A,c,"formTarget",B.formTarget,B,null)):(Jt(A,c,"encType",B.encType,B,null),Jt(A,c,"method",B.method,B,null),Jt(A,c,"target",B.target,B,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=pE(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=UA);break;case"onScroll":m!=null&&Bt("scroll",A);break;case"onScrollEnd":m!=null&&Bt("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=pE(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":Bt("beforetoggle",A),Bt("toggle",A),dE(A,"popover",m);break;case"xlinkActuate":FA(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":FA(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":FA(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":FA(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":FA(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":FA(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":FA(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":FA(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":FA(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":dE(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Vee.get(p)||p,dE(A,p,m))}}function CU(A,c,p,m,B,S){switch(p){case"style":VO(A,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"children":typeof m=="string"?Tp(A,m):(typeof m=="number"||typeof m=="bigint")&&Tp(A,""+m);break;case"onScroll":m!=null&&Bt("scroll",A);break;case"onScrollEnd":m!=null&&Bt("scrollend",A);break;case"onClick":m!=null&&(A.onclick=UA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!PO.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(B=p.endsWith("Capture"),c=p.slice(2,B?p.length-7:void 0),S=A[Yt]||null,S=S!=null?S[p]:null,typeof S=="function"&&A.removeEventListener(c,S,B),typeof m=="function")){typeof S!="function"&&S!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,B);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):dE(A,p,m)}}}function tr(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",A),Bt("load",A);var m=!1,B=!1,S;for(S in p)if(p.hasOwnProperty(S)){var N=p[S];if(N!=null)switch(S){case"src":m=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Jt(A,c,S,N,p,null)}}B&&Jt(A,c,"srcSet",p.srcSet,p,null),m&&Jt(A,c,"src",p.src,p,null);return;case"input":Bt("invalid",A);var O=S=N=B=null,j=null,te=null;for(m in p)if(p.hasOwnProperty(m)){var de=p[m];if(de!=null)switch(m){case"name":B=de;break;case"type":N=de;break;case"checked":j=de;break;case"defaultChecked":te=de;break;case"value":S=de;break;case"defaultValue":O=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,c));break;default:Jt(A,c,m,de,p,null)}}QO(A,S,O,j,te,N,B,!1);return;case"select":Bt("invalid",A),m=N=S=null;for(B in p)if(p.hasOwnProperty(B)&&(O=p[B],O!=null))switch(B){case"value":S=O;break;case"defaultValue":N=O;break;case"multiple":m=O;default:Jt(A,c,B,O,p,null)}c=S,p=N,A.multiple=!!m,c!=null?_p(A,!!m,c,!1):p!=null&&_p(A,!!m,p,!0);return;case"textarea":Bt("invalid",A),S=B=m=null;for(N in p)if(p.hasOwnProperty(N)&&(O=p[N],O!=null))switch(N){case"value":m=O;break;case"defaultValue":B=O;break;case"children":S=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Jt(A,c,N,O,p,null)}OO(A,m,B,S);return;case"option":for(j in p)if(p.hasOwnProperty(j)&&(m=p[j],m!=null))switch(j){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Jt(A,c,j,m,p,null)}return;case"dialog":Bt("beforetoggle",A),Bt("toggle",A),Bt("cancel",A),Bt("close",A);break;case"iframe":case"object":Bt("load",A);break;case"video":case"audio":for(m=0;m<r0.length;m++)Bt(r0[m],A);break;case"image":Bt("error",A),Bt("load",A);break;case"details":Bt("toggle",A);break;case"embed":case"source":case"link":Bt("error",A),Bt("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in p)if(p.hasOwnProperty(te)&&(m=p[te],m!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Jt(A,c,te,m,p,null)}return;default:if(NI(c)){for(de in p)p.hasOwnProperty(de)&&(m=p[de],m!==void 0&&CU(A,c,de,m,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(m=p[O],m!=null&&Jt(A,c,O,m,p,null))}function pne(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,S=null,N=null,O=null,j=null,te=null,de=null;for(oe in p){var pe=p[oe];if(p.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":j=pe;default:m.hasOwnProperty(oe)||Jt(A,c,oe,null,m,pe)}}for(var re in m){var oe=m[re];if(pe=p[re],m.hasOwnProperty(re)&&(oe!=null||pe!=null))switch(re){case"type":S=oe;break;case"name":B=oe;break;case"checked":te=oe;break;case"defaultChecked":de=oe;break;case"value":N=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,c));break;default:oe!==pe&&Jt(A,c,re,oe,m,pe)}}RI(A,N,O,j,te,de,S,B);return;case"select":oe=N=O=re=null;for(S in p)if(j=p[S],p.hasOwnProperty(S)&&j!=null)switch(S){case"value":break;case"multiple":oe=j;default:m.hasOwnProperty(S)||Jt(A,c,S,null,m,j)}for(B in m)if(S=m[B],j=p[B],m.hasOwnProperty(B)&&(S!=null||j!=null))switch(B){case"value":re=S;break;case"defaultValue":O=S;break;case"multiple":N=S;default:S!==j&&Jt(A,c,B,S,m,j)}c=O,p=N,m=oe,re!=null?_p(A,!!p,re,!1):!!m!=!!p&&(c!=null?_p(A,!!p,c,!0):_p(A,!!p,p?[]:"",!1));return;case"textarea":oe=re=null;for(O in p)if(B=p[O],p.hasOwnProperty(O)&&B!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Jt(A,c,O,null,m,B)}for(N in m)if(B=m[N],S=p[N],m.hasOwnProperty(N)&&(B!=null||S!=null))switch(N){case"value":re=B;break;case"defaultValue":oe=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:B!==S&&Jt(A,c,N,B,m,S)}kO(A,re,oe);return;case"option":for(var Oe in p)if(re=p[Oe],p.hasOwnProperty(Oe)&&re!=null&&!m.hasOwnProperty(Oe))switch(Oe){case"selected":A.selected=!1;break;default:Jt(A,c,Oe,null,m,re)}for(j in m)if(re=m[j],oe=p[j],m.hasOwnProperty(j)&&re!==oe&&(re!=null||oe!=null))switch(j){case"selected":A.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Jt(A,c,j,re,m,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in p)re=p[et],p.hasOwnProperty(et)&&re!=null&&!m.hasOwnProperty(et)&&Jt(A,c,et,null,m,re);for(te in m)if(re=m[te],oe=p[te],m.hasOwnProperty(te)&&re!==oe&&(re!=null||oe!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,c));break;default:Jt(A,c,te,re,m,oe)}return;default:if(NI(c)){for(var Zt in p)re=p[Zt],p.hasOwnProperty(Zt)&&re!==void 0&&!m.hasOwnProperty(Zt)&&CU(A,c,Zt,void 0,m,re);for(de in m)re=m[de],oe=p[de],!m.hasOwnProperty(de)||re===oe||re===void 0&&oe===void 0||CU(A,c,de,re,m,oe);return}}for(var Y in p)re=p[Y],p.hasOwnProperty(Y)&&re!=null&&!m.hasOwnProperty(Y)&&Jt(A,c,Y,null,m,re);for(pe in m)re=m[pe],oe=p[pe],!m.hasOwnProperty(pe)||re===oe||re==null&&oe==null||Jt(A,c,pe,re,m,oe)}function K4(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gne(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var B=p[m],S=B.transferSize,N=B.initiatorType,O=B.duration;if(S&&O&&K4(N)){for(N=0,O=B.responseEnd,m+=1;m<p.length;m++){var j=p[m],te=j.startTime;if(te>O)break;var de=j.transferSize,pe=j.initiatorType;de&&K4(pe)&&(j=j.responseEnd,N+=de*(j<O?1:(O-te)/(j-te)))}if(--m,c+=8*(S+N)/(B.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var BU=null,EU=null;function uS(A){return A.nodeType===9?A:A.ownerDocument}function G4(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z4(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function SU(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var xU=null;function mne(){var A=window.event;return A&&A.type==="popstate"?A===xU?!1:(xU=A,!0):(xU=null,!1)}var q4=typeof setTimeout=="function"?setTimeout:void 0,vne=typeof clearTimeout=="function"?clearTimeout:void 0,$4=typeof Promise=="function"?Promise:void 0,yne=typeof queueMicrotask=="function"?queueMicrotask:typeof $4<"u"?function(A){return $4.resolve(null).then(A).catch(wne)}:q4;function wne(A){setTimeout(function(){throw A})}function Yu(A){return A==="head"}function j4(A,c){var p=c,m=0;do{var B=p.nextSibling;if(A.removeChild(p),B&&B.nodeType===8)if(p=B.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(B),sg(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")a0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,a0(p);for(var S=p.firstChild;S;){var N=S.nextSibling,O=S.nodeName;S[Ey]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||p.removeChild(S),S=N}}else p==="body"&&a0(A.ownerDocument.body);p=B}while(p);sg(c)}function W4(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function _U(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":_U(p),MI(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function bne(A,c,p,m){for(;A.nodeType===1;){var B=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[Ey])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(S=A.getAttribute("rel"),S==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(S!==B.rel||A.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||A.getAttribute("title")!==(B.title==null?null:B.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(S=A.getAttribute("src"),(S!==(B.src==null?null:B.src)||A.getAttribute("type")!==(B.type==null?null:B.type)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&S&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var S=B.name==null?null:""+B.name;if(B.type==="hidden"&&A.getAttribute("name")===S)return A}else return A;if(A=va(A.nextSibling),A===null)break}return null}function Cne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=va(A.nextSibling),A===null))return null;return A}function Y4(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=va(A.nextSibling),A===null))return null;return A}function TU(A){return A.data==="$?"||A.data==="$~"}function IU(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Bne(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function va(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var FU=null;function X4(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return va(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function J4(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function Z4(A,c,p){switch(c=uS(p),A){case"html":if(A=c.documentElement,!A)throw Error(i(452));return A;case"head":if(A=c.head,!A)throw Error(i(453));return A;case"body":if(A=c.body,!A)throw Error(i(454));return A;default:throw Error(i(451))}}function a0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);MI(A)}var ya=new Map,eV=new Set;function cS(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var $A=$.d;$.d={f:Ene,r:Sne,D:xne,C:_ne,L:Tne,m:Ine,X:Une,S:Fne,M:Mne};function Ene(){var A=$A.f(),c=nS();return A||c}function Sne(A){var c=Ep(A);c!==null&&c.tag===5&&c.type==="form"?mH(c):$A.r(A)}var ng=typeof document>"u"?null:document;function tV(A,c,p){var m=ng;if(m&&typeof c=="string"&&c){var B=ca(c);B='link[rel="'+A+'"][href="'+B+'"]',typeof p=="string"&&(B+='[crossorigin="'+p+'"]'),eV.has(B)||(eV.add(B),A={rel:A,crossOrigin:p,href:c},m.querySelector(B)===null&&(c=m.createElement("link"),tr(c,"link",A),Ri(c),m.head.appendChild(c)))}}function xne(A){$A.D(A),tV("dns-prefetch",A,null)}function _ne(A,c){$A.C(A,c),tV("preconnect",A,c)}function Tne(A,c,p){$A.L(A,c,p);var m=ng;if(m&&A&&c){var B='link[rel="preload"][as="'+ca(c)+'"]';c==="image"&&p&&p.imageSrcSet?(B+='[imagesrcset="'+ca(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(B+='[imagesizes="'+ca(p.imageSizes)+'"]')):B+='[href="'+ca(A)+'"]';var S=B;switch(c){case"style":S=ig(A);break;case"script":S=rg(A)}ya.has(S)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),ya.set(S,A),m.querySelector(B)!==null||c==="style"&&m.querySelector(o0(S))||c==="script"&&m.querySelector(A0(S))||(c=m.createElement("link"),tr(c,"link",A),Ri(c),m.head.appendChild(c)))}}function Ine(A,c){$A.m(A,c);var p=ng;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",B='link[rel="modulepreload"][as="'+ca(m)+'"][href="'+ca(A)+'"]',S=B;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=rg(A)}if(!ya.has(S)&&(A=h({rel:"modulepreload",href:A},c),ya.set(S,A),p.querySelector(B)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(A0(S)))return}m=p.createElement("link"),tr(m,"link",A),Ri(m),p.head.appendChild(m)}}}function Fne(A,c,p){$A.S(A,c,p);var m=ng;if(m&&A){var B=Sp(m).hoistableStyles,S=ig(A);c=c||"default";var N=B.get(S);if(!N){var O={loading:0,preload:null};if(N=m.querySelector(o0(S)))O.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=ya.get(S))&&UU(A,p);var j=N=m.createElement("link");Ri(j),tr(j,"link",A),j._p=new Promise(function(te,de){j.onload=te,j.onerror=de}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,dS(N,c,m)}N={type:"stylesheet",instance:N,count:1,state:O},B.set(S,N)}}}function Une(A,c){$A.X(A,c);var p=ng;if(p&&A){var m=Sp(p).hoistableScripts,B=rg(A),S=m.get(B);S||(S=p.querySelector(A0(B)),S||(A=h({src:A,async:!0},c),(c=ya.get(B))&&MU(A,c),S=p.createElement("script"),Ri(S),tr(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function Mne(A,c){$A.M(A,c);var p=ng;if(p&&A){var m=Sp(p).hoistableScripts,B=rg(A),S=m.get(B);S||(S=p.querySelector(A0(B)),S||(A=h({src:A,async:!0,type:"module"},c),(c=ya.get(B))&&MU(A,c),S=p.createElement("script"),Ri(S),tr(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function nV(A,c,p,m){var B=(B=Fe.current)?cS(B):null;if(!B)throw Error(i(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=ig(p.href),p=Sp(B).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=ig(p.href);var S=Sp(B).hoistableStyles,N=S.get(A);if(N||(B=B.ownerDocument||B,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(A,N),(S=B.querySelector(o0(A)))&&!S._p&&(N.instance=S,N.state.loading=5),ya.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ya.set(A,p),S||Pne(B,A,p,N.state))),c&&m===null)throw Error(i(528,""));return N}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=rg(p),p=Sp(B).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,A))}}function ig(A){return'href="'+ca(A)+'"'}function o0(A){return'link[rel="stylesheet"]['+A+"]"}function iV(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Pne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),tr(c,"link",p),Ri(c),A.head.appendChild(c))}function rg(A){return'[src="'+ca(A)+'"]'}function A0(A){return"script[async]"+A}function rV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+ca(p.href)+'"]');if(m)return c.instance=m,Ri(m),m;var B=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),Ri(m),tr(m,"style",B),dS(m,p.precedence,A),c.instance=m;case"stylesheet":B=ig(p.href);var S=A.querySelector(o0(B));if(S)return c.state.loading|=4,c.instance=S,Ri(S),S;m=iV(p),(B=ya.get(B))&&UU(m,B),S=(A.ownerDocument||A).createElement("link"),Ri(S);var N=S;return N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),tr(S,"link",m),c.state.loading|=4,dS(S,p.precedence,A),c.instance=S;case"script":return S=rg(p.src),(B=A.querySelector(A0(S)))?(c.instance=B,Ri(B),B):(m=p,(B=ya.get(S))&&(m=h({},p),MU(m,B)),A=A.ownerDocument||A,B=A.createElement("script"),Ri(B),tr(B,"link",m),A.head.appendChild(B),c.instance=B);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,dS(m,p.precedence,A));return c.instance}function dS(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=m.length?m[m.length-1]:null,S=B,N=0;N<m.length;N++){var O=m[N];if(O.dataset.precedence===c)S=O;else if(S!==B)break}S?S.parentNode.insertBefore(A,S.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function UU(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function MU(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var fS=null;function sV(A,c,p){if(fS===null){var m=new Map,B=fS=new Map;B.set(p,m)}else B=fS,m=B.get(p),m||(m=new Map,B.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),B=0;B<p.length;B++){var S=p[B];if(!(S[Ey]||S[rt]||A==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(c)||"";N=A+N;var O=m.get(N);O?O.push(S):m.set(N,[S])}}return m}function aV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function Rne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function oV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function Dne(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var B=ig(m.href),S=c.querySelector(o0(B));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=hS.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=S,Ri(S);return}S=c.ownerDocument||c,m=iV(m),(B=ya.get(B))&&UU(m,B),S=S.createElement("link"),Ri(S);var N=S;N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),tr(S,"link",m),p.instance=S}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=hS.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var PU=0;function Nne(A,c){return A.stylesheets&&A.count===0&&gS(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&gS(A,A.stylesheets),A.unsuspend){var S=A.unsuspend;A.unsuspend=null,S()}},6e4+c);0<A.imgBytes&&PU===0&&(PU=62500*gne());var B=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&gS(A,A.stylesheets),A.unsuspend)){var S=A.unsuspend;A.unsuspend=null,S()}},(A.imgBytes>PU?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(B)}}:null}function hS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gS(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var pS=null;function gS(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,pS=new Map,c.forEach(Lne,A),pS=null,hS.call(A))}function Lne(A,c){if(!(c.state.loading&4)){var p=pS.get(A);if(p)var m=p.get(null);else{p=new Map,pS.set(A,p);for(var B=A.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<B.length;S++){var N=B[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(p.set(N.dataset.precedence,N),m=N)}m&&p.set(null,m)}B=c.instance,N=B.getAttribute("data-precedence"),S=p.get(N)||m,S===m&&p.set(null,B),p.set(N,B),this.count++,m=hS.bind(this),B.addEventListener("load",m),B.addEventListener("error",m),S?S.parentNode.insertBefore(B,S.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(B,A.firstChild)),c.state.loading|=4}}var l0={$$typeof:T,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Qne(A,c,p,m,B,S,N,O,j){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.hiddenUpdates=zd(null),this.identifierPrefix=m,this.onUncaughtError=B,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function AV(A,c,p,m,B,S,N,O,j,te,de,pe){return A=new Qne(A,c,p,N,j,te,de,pe,O),c=1,S===!0&&(c|=24),S=Es(3,null,null,c),A.current=S,S.stateNode=A,c=dF(),c.refCount++,A.pooledCache=c,c.refCount++,S.memoizedState={element:m,isDehydrated:p,cache:c},gF(S),A}function lV(A){return A?(A=Dp,A):Dp}function uV(A,c,p,m,B,S){B=lV(B),m.context===null?m.context=B:m.pendingContext=B,m=ku(c),m.payload={element:p},S=S===void 0?null:S,S!==null&&(m.callback=S),p=Ou(A,m,c),p!==null&&(is(p,A,c),Hy(p,A,c))}function cV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function RU(A,c){cV(A,c),(A=A.alternate)&&cV(A,c)}function dV(A){if(A.tag===13||A.tag===31){var c=Xd(A,67108864);c!==null&&is(c,A,67108864),RU(A,67108864)}}function fV(A){if(A.tag===13||A.tag===31){var c=Is();c=By(c);var p=Xd(A,c);p!==null&&is(p,A,c),RU(A,c)}}var mS=!0;function kne(A,c,p,m){var B=G.T;G.T=null;var S=$.p;try{$.p=2,DU(A,c,p,m)}finally{$.p=S,G.T=B}}function One(A,c,p,m){var B=G.T;G.T=null;var S=$.p;try{$.p=8,DU(A,c,p,m)}finally{$.p=S,G.T=B}}function DU(A,c,p,m){if(mS){var B=NU(m);if(B===null)bU(A,c,m,vS,p),pV(A,m);else if(Vne(B,A,c,p,m))m.stopPropagation();else if(pV(A,m),c&4&&-1<Hne.indexOf(A)){for(;B!==null;){var S=Ep(B);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=Cs(S.pendingLanes);if(N!==0){var O=S;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var j=1<<31-xe(N);O.entanglements[1]|=j,N&=~j}Oo(S),(kt&6)===0&&(eS=Z()+500,i0(0))}}break;case 31:case 13:O=Xd(S,2),O!==null&&is(O,S,2),nS(),RU(S,2)}if(S=NU(m),S===null&&bU(A,c,m,vS,p),S===B)break;B=S}B!==null&&m.stopPropagation()}else bU(A,c,m,null,p)}}function NU(A){return A=QI(A),LU(A)}var vS=null;function LU(A){if(vS=null,A=Bp(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return vS=A,null}function hV(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case Re:return 2;case wt:return 8;case $e:case ce:return 32;case ye:return 268435456;default:return 32}default:return 32}}var QU=!1,Xu=null,Ju=null,Zu=null,u0=new Map,c0=new Map,ec=[],Hne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pV(A,c){switch(A){case"focusin":case"focusout":Xu=null;break;case"dragenter":case"dragleave":Ju=null;break;case"mouseover":case"mouseout":Zu=null;break;case"pointerover":case"pointerout":u0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":c0.delete(c.pointerId)}}function d0(A,c,p,m,B,S){return A===null||A.nativeEvent!==S?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:S,targetContainers:[B]},c!==null&&(c=Ep(c),c!==null&&dV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,B!==null&&c.indexOf(B)===-1&&c.push(B),A)}function Vne(A,c,p,m,B){switch(c){case"focusin":return Xu=d0(Xu,A,c,p,m,B),!0;case"dragenter":return Ju=d0(Ju,A,c,p,m,B),!0;case"mouseover":return Zu=d0(Zu,A,c,p,m,B),!0;case"pointerover":var S=B.pointerId;return u0.set(S,d0(u0.get(S)||null,A,c,p,m,B)),!0;case"gotpointercapture":return S=B.pointerId,c0.set(S,d0(c0.get(S)||null,A,c,p,m,B)),!0}return!1}function gV(A){var c=Bp(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,Ze(A.priority,function(){fV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,Ze(A.priority,function(){fV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function yS(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=NU(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);LI=m,p.target.dispatchEvent(m),LI=null}else return c=Ep(p),c!==null&&dV(c),A.blockedOn=p,!1;c.shift()}return!0}function mV(A,c,p){yS(A)&&p.delete(c)}function Kne(){QU=!1,Xu!==null&&yS(Xu)&&(Xu=null),Ju!==null&&yS(Ju)&&(Ju=null),Zu!==null&&yS(Zu)&&(Zu=null),u0.forEach(mV),c0.forEach(mV)}function wS(A,c){A.blockedOn===c&&(A.blockedOn=null,QU||(QU=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Kne)))}var bS=null;function vV(A){bS!==A&&(bS=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bS===A&&(bS=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],B=A[c+2];if(typeof m!="function"){if(LU(m||p)===null)continue;break}var S=Ep(p);S!==null&&(A.splice(c,3),c-=3,NF(S,{pending:!0,data:B,method:p.method,action:m},m,B))}}))}function sg(A){function c(j){return wS(j,A)}Xu!==null&&wS(Xu,A),Ju!==null&&wS(Ju,A),Zu!==null&&wS(Zu,A),u0.forEach(c),c0.forEach(c);for(var p=0;p<ec.length;p++){var m=ec[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<ec.length&&(p=ec[0],p.blockedOn===null);)gV(p),p.blockedOn===null&&ec.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var B=p[m],S=p[m+1],N=B[Yt]||null;if(typeof S=="function")N||vV(p);else if(N){var O=null;if(S&&S.hasAttribute("formAction")){if(B=S,N=S[Yt]||null)O=N.formAction;else if(LU(B)!==null)continue}else O=N.action;typeof O=="function"?p[m+1]=O:(p.splice(m,3),m-=3),vV(p)}}}function yV(){function A(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return B=N})},focusReset:"manual",scroll:"manual"})}function c(){B!==null&&(B(),B=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,B=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),B!==null&&(B(),B=null)}}}function kU(A){this._internalRoot=A}CS.prototype.render=kU.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,m=Is();uV(p,m,A,c,null,null)},CS.prototype.unmount=kU.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;uV(A.current,2,null,A,null,null),nS(),c[la]=null}};function CS(A){this._internalRoot=A}CS.prototype.unstable_scheduleHydration=function(A){if(A){var c=st();A={blockedOn:null,target:A,priority:c};for(var p=0;p<ec.length&&c!==0&&c<ec[p].priority;p++);ec.splice(p,0,A),p===0&&gV(A)}};var wV=e.version;if(wV!=="19.2.1")throw Error(i(527,wV,"19.2.1"));$.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(i(188)):(A=Object.keys(A).join(","),Error(i(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var Gne={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var BS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!BS.isDisabled&&BS.supportsFiber)try{Ie=BS.inject(Gne),Ve=BS}catch{}}return h0.createRoot=function(A,c){if(!r(A))throw Error(i(299));var p=!1,m="",B=_H,S=TH,N=IH;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(B=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=AV(A,1,!1,null,null,p,m,null,B,S,N,yV),A[la]=c.current,wU(A),new kU(c)},h0.hydrateRoot=function(A,c,p){if(!r(A))throw Error(i(299));var m=!1,B="",S=_H,N=TH,O=IH,j=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(B=p.identifierPrefix),p.onUncaughtError!==void 0&&(S=p.onUncaughtError),p.onCaughtError!==void 0&&(N=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.formState!==void 0&&(j=p.formState)),c=AV(A,1,!0,c,p??null,m,B,j,S,N,O,yV),c.context=lV(null),p=c.current,m=Is(),m=By(m),B=ku(m),B.callback=null,Ou(p,B,m),p=m,c.current.lanes=p,qd(c,p),Oo(c),A[la]=c.current,wU(A),new CS(c)},h0.version="19.2.1",h0}var UV;function iie(){if(UV)return KU.exports;UV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),KU.exports=nie(),KU.exports}var rie=iie();const sie=_A(rie);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var MV="popstate";function aie(n={}){function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=pp(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),pR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:Iw(s))}function i(r,s){Wa(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Aie(e,t,i,n)}function Qn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oie(){return Math.random().toString(36).substring(2,10)}function PV(n,e){return{usr:n.state,key:n.key,idx:e}}function pR(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pp(e):e,state:t,key:e&&e.key||i||oie()}}function Iw({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pp(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Aie(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let E=d(),x=E==null?null:E-u;u=E,l&&l({action:o,location:C.location,delta:x})}function g(E,x){o="PUSH";let I=pR(C.location,E,x);t&&t(I,E),u=d()+1;let T=PV(I,u),R=C.createHref(I);try{a.pushState(T,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(R)}s&&l&&l({action:o,location:C.location,delta:1})}function v(E,x){o="REPLACE";let I=pR(C.location,E,x);t&&t(I,E),u=d();let T=PV(I,u),R=C.createHref(I);a.replaceState(T,"",R),s&&l&&l({action:o,location:C.location,delta:0})}function b(E){return lie(E)}let C={get action(){return o},get location(){return n(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(MV,h),l=E,()=>{r.removeEventListener(MV,h),l=null}},createHref(E){return e(r,E)},createURL:b,encodeLocation(E){let x=b(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(E){return a.go(E)}};return C}function lie(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Qn(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Iw(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function U$(n,e,t="/"){return uie(n,e,t,!1)}function uie(n,e,t,i){let r=typeof e=="string"?pp(e):e,s=lu(r.pathname||"/",t);if(s==null)return null;let a=M$(n);cie(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Cie(s);o=wie(a[l],u,i)}return o}function M$(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&l)return;Qn(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let h=nu([i,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Qn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),M$(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:vie(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of P$(a.path))s(a,o,!0,u)}),e}function P$(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=P$(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function cie(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yie(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var die=/^:[\w-]+$/,fie=3,hie=2,pie=1,gie=10,mie=-2,RV=n=>n==="*";function vie(n,e){let t=n.split("/"),i=t.length;return t.some(RV)&&(i+=mie),e&&(i+=hie),t.filter(r=>!RV(r)).reduce((r,s)=>r+(die.test(s)?fie:s===""?pie:gie),i)}function yie(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function wie(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=N_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!i[i.length-1].route.index&&(h=N_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:nu([s,h.pathname]),pathnameBase:_ie(nu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=nu([s,h.pathnameBase]))}return a}function N_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=bie(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function bie(n,e=!1,t=!0){Wa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Cie(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function lu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var Bie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eie=n=>Bie.test(n);function Sie(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?pp(n):n,s;if(t)if(Eie(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Wa(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=DV(t.substring(1),"/"):s=DV(t,e)}else s=e;return{pathname:s,search:Tie(i),hash:Iie(r)}}function DV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function $U(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xie(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function R$(n){let e=xie(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function D$(n,e,t,i=!1){let r;typeof n=="string"?r=pp(n):(r={...n},Qn(!r.pathname||!r.pathname.includes("?"),$U("?","pathname","search",r)),Qn(!r.pathname||!r.pathname.includes("#"),$U("#","pathname","hash",r)),Qn(!r.search||!r.search.includes("#"),$U("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;r.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=Sie(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var nu=n=>n.join("/").replace(/\/\/+/g,"/"),_ie=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Tie=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Iie=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Fie(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Uie(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N$=["POST","PUT","PATCH","DELETE"];new Set(N$);var Mie=["GET",...N$];new Set(Mie);var uy=M.createContext(null);uy.displayName="DataRouter";var C1=M.createContext(null);C1.displayName="DataRouterState";M.createContext(!1);var L$=M.createContext({isTransitioning:!1});L$.displayName="ViewTransition";var Pie=M.createContext(new Map);Pie.displayName="Fetchers";var Rie=M.createContext(null);Rie.displayName="Await";var Uo=M.createContext(null);Uo.displayName="Navigation";var TB=M.createContext(null);TB.displayName="Location";var Bu=M.createContext({outlet:null,matches:[],isDataRoute:!1});Bu.displayName="Route";var dQ=M.createContext(null);dQ.displayName="RouteError";function Die(n,{relative:e}={}){Qn(IB(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(Uo),{hash:r,pathname:s,search:a}=FB(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:nu([t,s])),i.createHref({pathname:o,search:a,hash:r})}function IB(){return M.useContext(TB)!=null}function Ld(){return Qn(IB(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(TB).location}var Q$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k$(n){M.useContext(Uo).static||M.useLayoutEffect(n)}function O$(){let{isDataRoute:n}=M.useContext(Bu);return n?jie():Nie()}function Nie(){Qn(IB(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(uy),{basename:e,navigator:t}=M.useContext(Uo),{matches:i}=M.useContext(Bu),{pathname:r}=Ld(),s=JSON.stringify(R$(i)),a=M.useRef(!1);return k$(()=>{a.current=!0}),M.useCallback((l,u={})=>{if(Wa(a.current,Q$),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=D$(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:nu([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,r,n])}M.createContext(null);function FB(n,{relative:e}={}){let{matches:t}=M.useContext(Bu),{pathname:i}=Ld(),r=JSON.stringify(R$(t));return M.useMemo(()=>D$(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Lie(n,e){return H$(n,e)}function H$(n,e,t,i,r){var I;Qn(IB(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(Uo),{matches:a}=M.useContext(Bu),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";V$(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Ld(),v;if(e){let T=typeof e=="string"?pp(e):e;Qn(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let b=v.pathname||"/",C=b;if(d!=="/"){let T=d.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=U$(n,{pathname:C});Wa(h||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Wa(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Vie(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:nu([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:nu([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,i,r);return e&&x?M.createElement(TB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function Qie(){let n=$ie(),e=Fie(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:r},t):null,a)}var kie=M.createElement(Qie,null),Oie=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?M.createElement(Bu.Provider,{value:this.props.routeContext},M.createElement(dQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hie({routeContext:n,match:e,children:t}){let i=M.useContext(uy);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Bu.Provider,{value:n},t)}function Vie(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Qn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||b){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&i?(d,h)=>{var g,v;i(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:Uie(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,b=!1,C=null,E=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,C=h.route.errorElement||kie,o&&(l<0&&g===0?(V$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):l===g&&(b=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=C:b?T=E:h.route.Component?T=M.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,M.createElement(Hie,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?M.createElement(Oie,{location:t.location,revalidation:t.revalidation,component:C,error:v,children:I(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):I()},null)}function fQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kie(n){let e=M.useContext(uy);return Qn(e,fQ(n)),e}function Gie(n){let e=M.useContext(C1);return Qn(e,fQ(n)),e}function zie(n){let e=M.useContext(Bu);return Qn(e,fQ(n)),e}function hQ(n){let e=zie(n),t=e.matches[e.matches.length-1];return Qn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qie(){return hQ("useRouteId")}function $ie(){var i;let n=M.useContext(dQ),e=Gie("useRouteError"),t=hQ("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function jie(){let{router:n}=Kie("useNavigate"),e=hQ("useNavigate"),t=M.useRef(!1);return k$(()=>{t.current=!0}),M.useCallback(async(r,s={})=>{Wa(t.current,Q$),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var NV={};function V$(n,e,t){!e&&!NV[n]&&(NV[n]=!0,Wa(!1,t))}M.memo(Wie);function Wie({routes:n,future:e,state:t,unstable_onError:i}){return H$(n,void 0,t,i,e)}function gR(n){Qn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yie({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Qn(!IB(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=M.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=pp(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,b=M.useMemo(()=>{let C=lu(u,o);return C==null?null:{location:{pathname:C,search:d,hash:h,state:g,key:v},navigationType:i}},[o,u,d,h,g,v,i]);return Wa(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(Uo.Provider,{value:l},M.createElement(TB.Provider,{children:e,value:b}))}function Xie({children:n,location:e}){return Lie(mR(n),e)}function mR(n,e=[]){let t=[];return M.Children.forEach(n,(i,r)=>{if(!M.isValidElement(i))return;let s=[...e,r];if(i.type===M.Fragment){t.push.apply(t,mR(i.props.children,s));return}Qn(i.type===gR,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=mR(i.props.children,s)),t.push(a)}),t}var _x="get",Tx="application/x-www-form-urlencoded";function B1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Jie(n){return B1(n)&&n.tagName.toLowerCase()==="button"}function Zie(n){return B1(n)&&n.tagName.toLowerCase()==="form"}function ere(n){return B1(n)&&n.tagName.toLowerCase()==="input"}function tre(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nre(n,e){return n.button===0&&(!e||e==="_self")&&!tre(n)}var ES=null;function ire(){if(ES===null)try{new FormData(document.createElement("form"),0),ES=!1}catch{ES=!0}return ES}var rre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jU(n){return n!=null&&!rre.has(n)?(Wa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tx}"`),null):n}function sre(n,e){let t,i,r,s,a;if(Zie(n)){let o=n.getAttribute("action");i=o?lu(o,e):null,t=n.getAttribute("method")||_x,r=jU(n.getAttribute("enctype"))||Tx,s=new FormData(n)}else if(Jie(n)||ere(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?lu(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||_x,r=jU(n.getAttribute("formenctype"))||jU(o.getAttribute("enctype"))||Tx,s=new FormData(o,n),!ire()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(B1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_x,i=null,r=Tx,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pQ(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function are(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&lu(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function ore(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Are(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lre(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await ore(s,t);return a.links?a.links():[]}return[]}));return fre(i.flat(1).filter(Are).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function LV(n,e,t,i,r,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ure(n,e,{includeHydrateFallback:t}={}){return cre(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function cre(n){return[...new Set(n)]}function dre(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function fre(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(dre(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function K$(){let n=M.useContext(uy);return pQ(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hre(){let n=M.useContext(C1);return pQ(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var gQ=M.createContext(void 0);gQ.displayName="FrameworkContext";function G$(){let n=M.useContext(gQ);return pQ(n,"You must render this element inside a <HydratedRouter> element"),n}function pre(n,e){let t=M.useContext(gQ),[i,r]=M.useState(!1),[s,a]=M.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=M.useRef(null);M.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let C=x=>{x.forEach(I=>{a(I.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),M.useEffect(()=>{if(i){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[i]);let v=()=>{r(!0)},b=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:p0(o,v),onBlur:p0(l,b),onMouseEnter:p0(u,v),onMouseLeave:p0(d,b),onTouchStart:p0(h,v)}]:[!1,g,{}]}function p0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gre({page:n,...e}){let{router:t}=K$(),i=M.useMemo(()=>U$(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?M.createElement(vre,{page:n,matches:i,...e}):null}function mre(n){let{manifest:e,routeModules:t}=G$(),[i,r]=M.useState([]);return M.useEffect(()=>{let s=!1;return lre(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function vre({page:n,matches:e,...t}){let i=Ld(),{manifest:r,routeModules:s}=G$(),{basename:a}=K$(),{loaderData:o,matches:l}=hre(),u=M.useMemo(()=>LV(n,e,l,r,i,"data"),[n,e,l,r,i]),d=M.useMemo(()=>LV(n,e,l,r,i,"assets"),[n,e,l,r,i]),h=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,C=!1;if(e.forEach(x=>{var T;let I=r.routes[x.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===x.route.id)&&x.route.id in o&&((T=s[x.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?C=!0:b.add(x.route.id))}),b.size===0)return[];let E=are(n,a,"data");return C&&b.size>0&&E.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),g=M.useMemo(()=>ure(d,r),[d,r]),v=mre(d);return M.createElement(M.Fragment,null,h.map(b=>M.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>M.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:C})=>M.createElement("link",{key:b,nonce:t.nonce,...C})))}function yre(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var z$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z$&&(window.__reactRouterVersion="7.10.1")}catch{}function wre({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=M.useRef();r.current==null&&(r.current=aie({window:i,v5Compat:!0}));let s=r.current,[a,o]=M.useState({action:s.action,location:s.location}),l=M.useCallback(u=>{t===!1?o(u):M.startTransition(()=>o(u))},[t]);return M.useLayoutEffect(()=>s.listen(l),[s,l]),M.createElement(Yie,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var q$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L_=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:b,unstable_useTransitions:C}=M.useContext(Uo),E=typeof u=="string"&&q$.test(u),x,I=!1;if(typeof u=="string"&&E&&(x=u,z$))try{let K=new URL(window.location.href),V=u.startsWith("//")?new URL(K.protocol+u):new URL(u),q=lu(V.pathname,b);V.origin===K.origin&&q!=null?u=q+V.search+V.hash:I=!0}catch{Wa(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Die(u,{relative:r}),[R,P,D]=pre(i,g),L=Ere(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:h,unstable_useTransitions:C});function H(K){e&&e(K),K.defaultPrevented||L(K)}let k=M.createElement("a",{...g,...D,href:x||T,onClick:I||s?e:H,ref:yre(v,P),target:l,"data-discover":!E&&t==="render"?"true":void 0});return R&&!E?M.createElement(M.Fragment,null,k,M.createElement(gre,{page:T})):k});L_.displayName="Link";var bre=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=FB(a,{relative:u.relative}),g=Ld(),v=M.useContext(C1),{navigator:b,basename:C}=M.useContext(Uo),E=v!=null&&Ire(h)&&o===!0,x=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&C&&(T=lu(T,C)||T);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=I===x||!r&&I.startsWith(x)&&I.charAt(R)==="/",D=T!=null&&(T===x||!r&&T.startsWith(x)&&T.charAt(x.length)==="/"),L={isActive:P,isPending:D,isTransitioning:E},H=P?e:void 0,k;typeof i=="function"?k=i(L):k=[i,P?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(L):s;return M.createElement(L_,{...u,"aria-current":H,className:k,ref:d,style:K,to:a,viewTransition:o},typeof l=="function"?l(L):l)});bre.displayName="NavLink";var Cre=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=_x,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:b}=M.useContext(Uo),C=_re(),E=Tre(o,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&q$.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||a,L=()=>C(P||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:h});b&&t!==!1?M.startTransition(()=>L()):L()};return M.createElement("form",{ref:v,method:x,action:E,onSubmit:i?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});Cre.displayName="Form";function Bre(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $$(n){let e=M.useContext(uy);return Qn(e,Bre(n)),e}function Ere(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=O$(),u=Ld(),d=FB(n,{relative:s});return M.useCallback(h=>{if(nre(h,e)){h.preventDefault();let g=t!==void 0?t:Iw(u)===Iw(d),v=()=>l(n,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a});o?M.startTransition(()=>v()):v()}},[u,l,d,t,i,e,n,r,s,a,o])}var Sre=0,xre=()=>`__${String(++Sre)}__`;function _re(){let{router:n}=$$("useSubmit"),{basename:e}=M.useContext(Uo),t=qie(),i=n.fetch,r=n.navigate;return M.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=sre(s,e);if(a.navigate===!1){let g=a.fetcherKey||xre();await i(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function Tre(n,{relative:e}={}){let{basename:t}=M.useContext(Uo),i=M.useContext(Bu);Qn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...FB(n||".",{relative:e})},a=Ld();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:nu([t,s.pathname])),Iw(s)}function Ire(n,{relative:e}={}){let t=M.useContext(L$);Qn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$$("useViewTransitionState"),r=FB(n,{relative:e});if(!t.isTransitioning)return!1;let s=lu(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=lu(t.nextLocation.pathname,i)||t.nextLocation.pathname;return N_(r.pathname,a)!=null||N_(r.pathname,s)!=null}var j$=F$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fre,Ure;function Mre(){return{geminiUrl:Fre,vertexUrl:Ure}}function Pre(n,e,t,i){var r,s;if(!(n!=null&&n.baseUrl)){const a=Mre();return e?(r=a.vertexUrl)!==null&&r!==void 0?r:t:(s=a.geminiUrl)!==null&&s!==void 0?s:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eu{}function Ue(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function Rre(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),s=i.split("."),a=new Set;let o=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}vR(n,r,s,0,a)}}function vR(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])vR(l,e,t,i+1,r)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(i))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&vR(a[s],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mQ(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dre(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const i=y(n,["resourceName"]);return i!=null&&w(e,["_url","resourceName"],i),e}function Nre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],Qre(a)),e}function Lre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],kre(a)),e}function Qre(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Ore(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function kre(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Hre(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function Ore(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],$re(t)),e}function Hre(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],jre(t)),e}function Vre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Kre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Gre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],zre(a)),e}function zre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function W$(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],qre(a)),e}function qre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function $re(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],mQ(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function jre(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],mQ(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var QV;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(QV||(QV={}));var kV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(kV||(kV={}));var OV;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(OV||(OV={}));var Bd;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Bd||(Bd={}));var HV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(HV||(HV={}));var VV;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(VV||(VV={}));var KV;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(KV||(KV={}));var GV;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(GV||(GV={}));var zV;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zV||(zV={}));var qV;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(qV||(qV={}));var $V;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})($V||($V={}));var jV;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(jV||(jV={}));var WV;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(WV||(WV={}));var YV;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(YV||(YV={}));var XV;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(XV||(XV={}));var JV;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(JV||(JV={}));var ZV;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ZV||(ZV={}));var e3;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(e3||(e3={}));var t3;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(t3||(t3={}));var Q_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Q_||(Q_={}));var n3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(n3||(n3={}));var i3;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(i3||(i3={}));var r3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(r3||(r3={}));var yR;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yR||(yR={}));var s3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(s3||(s3={}));var a3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(a3||(a3={}));var o3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(o3||(o3={}));var A3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(A3||(A3={}));var l3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(l3||(l3={}));var u3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(u3||(u3={}));var c3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(c3||(c3={}));var d3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(d3||(d3={}));var f3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(f3||(f3={}));var h3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(h3||(h3={}));var p3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(p3||(p3={}));var g3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(g3||(g3={}));var m3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(m3||(m3={}));var v3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(v3||(v3={}));var y3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(y3||(y3={}));var w3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(w3||(w3={}));var b3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(b3||(b3={}));var C3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(C3||(C3={}));var B3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(B3||(B3={}));var E3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(E3||(E3={}));var S3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(S3||(S3={}));var x3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(x3||(x3={}));var _3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(_3||(_3={}));var T3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(T3||(T3={}));var I3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(I3||(I3={}));var F3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(F3||(F3={}));var U3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(U3||(U3={}));var M3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(M3||(M3={}));var P3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(P3||(P3={}));var R3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(R3||(R3={}));var Ug;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ug||(Ug={}));class wR{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class g0{get text(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,b]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(b!==null||b!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class D3{}class N3{}class Wre{}class Yre{}class Xre{}class Jre{}class L3{}class Q3{}class k3{}class Zre{}class k_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new k_;let r;const s=e;return t?r=Lre(s):r=Nre(s),Object.assign(i,r),i}}class O3{}class H3{}class V3{}class K3{}class ese{}class tse{}class nse{}class vQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new vQ,s=Gre(e);return Object.assign(i,s),i}}class ise{}class rse{}class sse{}class G3{}class ase{get text(){var e,t,i;let r="",s=!1;const a=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,r+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const a of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ose{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class yQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new yQ,s=W$(e);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Y$(n,e){const t=Lt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function X$(n){return Array.isArray(n)?n.map(e=>O_(e)):[O_(n)]}function O_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function J$(n){const e=O_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Z$(n){const e=O_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function z3(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function e6(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>z3(e)):[z3(n)]}function bR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function q3(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function $3(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Mr(n){if(n==null)throw new Error("ContentUnion is required");return bR(n)?n:{role:"user",parts:e6(n)}}function wQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Mr(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Mr(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Mr(t)):[Mr(e)]}function $a(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(q3(n)||$3(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mr(n)]}const e=[],t=[],i=bR(n[0]);for(const r of n){const s=bR(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(q3(r)||$3(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:e6(t)}),e}function Ase(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Bd).includes(t[0].toUpperCase())?t[0].toUpperCase():Bd.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Bd).includes(i.toUpperCase())?i.toUpperCase():Bd.TYPE_UNSPECIFIED})}}function Hg(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&Ase(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Bd).includes(o.toUpperCase())?o.toUpperCase():Bd.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Hg(o);else if(i.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(Hg(u))}e[a]=l}else if(r.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=Hg(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function bQ(n){return Hg(n)}function CQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function BQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function cy(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Hg(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Hg(e.response));return n}function dy(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function lse(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Su(n,e){if(typeof e!="string")throw new Error("name must be a string");return lse(n,e,"cachedContents")}function t6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Qd(n){return mQ(n)}function use(n){return n!=null&&typeof n=="object"&&"name"in n}function cse(n){return n!=null&&typeof n=="object"&&"video"in n}function dse(n){return n!=null&&typeof n=="object"&&"uri"in n}function n6(n){var e;let t;if(use(n)&&(t=n.name),!(dse(n)&&(t=n.uri,t===void 0))&&!(cse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function i6(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function r6(n){for(const e of["models","tunedModels","publisherModels"])if(fse(n,e))return n[e];return[]}function fse(n,e){return n!==null&&typeof n=="object"&&e in n}function hse(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function pse(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const a=hse(r,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function s6(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function gse(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function a6(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let s=!1;for(const a of r){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function fy(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function o6(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const i=y(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Xse(a))),w(e,["inlinedResponses"],s)}const r=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function vse(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsDestination","outputUriPrefix"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigqueryDestination","outputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function yse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsDestination","outputUriPrefix"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigqueryDestination","outputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ix(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata","displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["metadata","state"]);r!=null&&w(e,["state"],o6(r));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],mse(a6(u))),e}function CR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["state"]);r!=null&&w(e,["state"],o6(r));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],wse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],vse(a6(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function wse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsSource","uris"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigquerySource","inputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function bse(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=y(e,["fileName"]);i!=null&&w(t,["fileName"],i);const r=y(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Yse(n,a))),w(t,["requests","requests"],s)}return t}function Cse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsSource","uris"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigquerySource","inputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Bse(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Ese(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],fy(n,i)),t}function Sse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],fy(n,i)),t}function xse(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],_se(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function _se(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function A6(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>rae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Tse(n,e){const t={},i=y(n,["displayName"]);if(e!==void 0&&i!=null&&w(e,["batch","displayName"],i),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Ise(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["dest"]);return e!==void 0&&r!=null&&w(e,["outputConfig"],yse(gse(r))),t}function j3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],bse(n,s6(n,r)));const s=y(e,["config"]);return s!=null&&Tse(s,t),t}function Fse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],Lt(n,i));const r=y(e,["src"]);r!=null&&w(t,["inputConfig"],Cse(s6(n,r)));const s=y(e,["config"]);return s!=null&&Ise(s,t),t}function Use(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["batch","displayName"],i),t}function Mse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],kse(n,r));const s=y(e,["config"]);return s!=null&&Use(s,t),t}function Pse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],fy(n,i)),t}function Rse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],fy(n,i)),t}function Dse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Nse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Lse(n,e){const t={},i=y(e,["contents"]);if(i!=null){let s=wQ(n,i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const r=y(e,["config"]);return r!=null&&(w(t,["_self"],Qse(r,t)),Rre(t,{"requests[].*":"requests[].request.*"})),t}function Qse(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function kse(n,e){const t={},i=y(e,["fileName"]);i!=null&&w(t,["file_name"],i);const r=y(e,["inlinedRequests"]);return r!=null&&w(t,["requests"],Lse(n,r)),t}function Ose(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Hse(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vse(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kse(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],A6(Mr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],bQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(X=>sae(X))),w(t,["safetySettings"],q)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let q=dy(R);Array.isArray(q)&&(q=q.map(X=>oae(cy(X)))),w(t,["tools"],q)}const P=y(e,["toolConfig"]);if(t!==void 0&&P!=null&&w(t,["toolConfig"],aae(P)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Su(n,D));const L=y(e,["responseModalities"]);L!=null&&w(i,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],CQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],Wse(V)),i}function Gse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>xse(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function zse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],fy(n,i)),t}function qse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],fy(n,i)),t}function $se(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function jse(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Wse(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Yse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["request","model"],Lt(n,i));const r=y(e,["contents"]);if(r!=null){let o=$a(r);Array.isArray(o)&&(o=o.map(l=>A6(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],Kse(n,a,y(t,["request"],{}))),t}function Xse(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],Gse(t));const i=y(n,["error"]);return i!=null&&w(e,["error"],i),e}function Jse(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);if(e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Zse(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);e!==void 0&&r!=null&&w(e,["_query","pageToken"],r);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function eae(n){const e={},t=y(n,["config"]);return t!=null&&Jse(t,e),e}function tae(n){const e={},t=y(n,["config"]);return t!=null&&Zse(t,e),e}function nae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Ix(a))),w(e,["batchJobs"],s)}return e}function iae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>CR(a))),w(e,["batchJobs"],s)}return e}function rae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Ose(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Hse(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Bse(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function sae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function aae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Vse(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function oae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],$se(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],jse(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uu;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(uu||(uu={}));class gp{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aae extends Eu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new gp(uu.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=j3(this.apiClient,e),i=t._url,r=Ue("{model}:batchGenerateContent",i),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(a)i.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Fse(this.apiClient,e);return o=Ue("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>CR(d))}else{const u=j3(this.apiClient,e);return o=Ue("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Ix(d))}}async createEmbeddingsInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mse(this.apiClient,e);return s=Ue("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>Ix(l))}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=qse(this.apiClient,e);return o=Ue("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>CR(d))}else{const u=zse(this.apiClient,e);return o=Ue("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Ix(d))}}async cancel(e){var t,i,r,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Sse(this.apiClient,e);a=Ue("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=Ese(this.apiClient,e);a=Ue("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=tae(e);return o=Ue("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=iae(d),g=new G3;return Object.assign(g,h),g})}else{const u=eae(e);return o=Ue("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=nae(d),g=new G3;return Object.assign(g,h),g})}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Rse(this.apiClient,e);return o=Ue("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Nse(d))}else{const u=Pse(this.apiClient,e);return o=Ue("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Dse(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function W3(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>Mae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function uae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=$a(a);Array.isArray(d)&&(d=d.map(h=>W3(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],W3(Mr(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Rae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],Pae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function cae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=$a(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],Mr(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Dae(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function dae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],Y$(n,i));const r=y(e,["config"]);return r!=null&&uae(r,t),t}function fae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],Y$(n,i));const r=y(e,["config"]);return r!=null&&cae(r,t),t}function hae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Su(n,i)),t}function pae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Su(n,i)),t}function gae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function mae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function vae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function yae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Cae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Su(n,i)),t}function Bae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Su(n,i)),t}function Eae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Sae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function xae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function _ae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Tae(n){const e={},t=y(n,["config"]);return t!=null&&xae(t,e),e}function Iae(n){const e={},t=y(n,["config"]);return t!=null&&_ae(t,e),e}function Fae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Uae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Mae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],vae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],yae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],lae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Pae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],wae(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function Rae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Eae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Sae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Dae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>bae(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Nae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Lae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Qae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],Su(n,i));const r=y(e,["config"]);return r!=null&&Nae(r,t),t}function kae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],Su(n,i));const r=y(e,["config"]);return r!=null&&Lae(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oae extends Eu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new gp(uu.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=fae(this.apiClient,e);return o=Ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=dae(this.apiClient,e);return o=Ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Bae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Cae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=pae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=mae(d),g=new V3;return Object.assign(g,h),g})}else{const u=hae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=gae(d),g=new V3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=kae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Qae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Iae(e);return o=Ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Uae(d),g=new K3;return Object.assign(g,h),g})}else{const u=Tae(e);return o=Ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Fae(d),g=new K3;return Object.assign(g,h),g})}}}function Y3(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(n){return this instanceof _n?(this.v=n,this):new _n(n)}function Vg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(v){return function(b){return Promise.resolve(b).then(v,h)}}function o(v,b){i[v]&&(r[v]=function(C){return new Promise(function(E,x){s.push([v,C,E,x])>1||l(v,C)})},b&&(r[v]=b(r[v])))}function l(v,b){try{u(i[v](b))}catch(C){g(s[0][3],C)}}function u(v){v.value instanceof _n?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,b){v(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function yw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Y3=="function"?Y3(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),r(o,l,a.done,a.value)})}}function r(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hae(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:l6(t)}function l6(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Vae(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function X3(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!l6(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class Kae{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Gae(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Gae{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),Vae(s)}async sendMessage(e){var t;await this.sendPromise;const i=Mr(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await r,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(i,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=Mr(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?X3(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return Vg(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=yw(e),v;v=yield _n(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const b=u;if(Hae(b)){const C=(r=(i=b.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;C!==void 0&&d.push(C)}yield yield _n(b)}}catch(b){o={error:b}}finally{try{!h&&!a&&(l=g.return)&&(yield _n(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...X3(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,E1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zae(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function qae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function $ae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],n6(t)),e}function jae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Wae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],n6(t)),e}function Yae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Xae(n){const e={},t=y(n,["config"]);return t!=null&&Yae(t,e),e}function Jae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zae extends Eu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new gp(uu.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xae(e);return s=Ue("files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Jae(l),d=new ise;return Object.assign(d,u),d})}}async createInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=zae(e);return s=Ue("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=qae(l),d=new rse;return Object.assign(d,u),d})}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Wae(e);return s=Ue("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=$ae(e);return s=Ue("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=jae(l),d=new sse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fx(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eoe(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>goe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function toe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function noe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ioe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function roe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],u6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const P=y(n,["thinkingConfig"]);P!=null&&w(e,["thinkingConfig"],P);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function soe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function aoe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function ooe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],BQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],eoe(Mr(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=dy(C);Array.isArray(D)&&(D=D.map(L=>voe(cy(L)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],moe(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function Aoe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],roe(i));const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],u6(BQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],Mr(b));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=dy(C);Array.isArray(D)&&(D=D.map(L=>yoe(cy(L)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],E);const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function loe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Lt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],ooe(r,t)),t}function uoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Lt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],Aoe(r,t)),t}function coe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function doe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["weightedPrompts"],i)}return e}function foe(n){const e={},t=y(n,["media"]);if(t!=null){let u=X$(t);Array.isArray(u)&&(u=u.map(d=>Fx(d))),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],Fx(Z$(i)));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],Fx(J$(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function hoe(n){const e={},t=y(n,["media"]);if(t!=null){let u=X$(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],Z$(i));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],J$(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function poe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const i=y(n,["serverContent"]);i!=null&&w(e,["serverContent"],i);const r=y(n,["toolCall"]);r!=null&&w(e,["toolCall"],r);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],woe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function goe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],toe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],noe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Fx(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function moe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function u6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function voe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],soe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],aoe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function yoe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>ioe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function woe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const i=y(n,["cachedContentTokenCount"]);i!=null&&w(e,["cachedContentTokenCount"],i);const r=y(n,["candidatesTokenCount"]);r!=null&&w(e,["responseTokenCount"],r);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function boe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Coe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],Boe(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Boe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function Eoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["contents"]);if(r!=null){let s=$a(r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function Soe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["tokensInfo"],r)}return e}function xoe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const i=y(n,["statistics"]);return i!=null&&w(e,["statistics"],_oe(i)),e}function _oe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const i=y(n,["token_count"]);return i!=null&&w(e,["tokenCount"],i),e}function S1(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>NAe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Toe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const i=y(n,["enableControlImageComputation"]);return i!=null&&w(e,["computeControl"],i),e}function Ioe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Foe(n,e){const t={},i=y(n,["systemInstruction"]);e!==void 0&&i!=null&&w(e,["systemInstruction"],Mr(i));const r=y(n,["tools"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>p6(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],bAe(s)),t}function Uoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["contents"]);if(r!=null){let a=$a(r);Array.isArray(a)&&(a=a.map(o=>S1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Ioe(s),t}function Moe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["contents"]);if(r!=null){let a=$a(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Foe(s,t),t}function Poe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);i!=null&&w(e,["totalTokens"],i);const r=y(n,["cachedContentTokenCount"]);return r!=null&&w(e,["cachedContentTokenCount"],r),e}function Roe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);return i!=null&&w(e,["totalTokens"],i),e}function Doe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Lt(n,i)),t}function Noe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Lt(n,i)),t}function Loe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Qoe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function koe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function Ooe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>VAe(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&koe(a,t),t}function Hoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>x1(s))),w(e,["generatedImages"],r)}return e}function Voe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Koe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["instances[]","task_type"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["instances[]","title"],r);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function Goe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["contents"]);if(r!=null){let o=wQ(n,r);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&Voe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],Lt(n,a)),t}function zoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["contents"]);if(r!=null){let a=wQ(n,r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&Koe(s,t),t}function qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function $oe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>xoe(a))),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function joe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const i=y(n,["deployedModelId"]);return i!=null&&w(e,["deployedModelId"],i),e}function Woe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Yoe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xoe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Joe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Zoe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],S1(Mr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],bQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(X=>KAe(X))),w(t,["safetySettings"],q)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let q=dy(R);Array.isArray(q)&&(q=q.map(X=>YAe(cy(X)))),w(t,["tools"],q)}const P=y(e,["toolConfig"]);if(t!==void 0&&P!=null&&w(t,["toolConfig"],WAe(P)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Su(n,D));const L=y(e,["responseModalities"]);L!=null&&w(i,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],CQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],xAe(V)),i}function eAe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],Mr(r));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],bQ(x));const I=y(e,["responseJsonSchema"]);I!=null&&w(i,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(i,["routingConfig"],T);const R=y(e,["modelSelectionConfig"]);R!=null&&w(i,["modelConfig"],R);const P=y(e,["safetySettings"]);if(t!==void 0&&P!=null){let G=P;Array.isArray(G)&&(G=G.map($=>$)),w(t,["safetySettings"],G)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let G=dy(D);Array.isArray(G)&&(G=G.map($=>p6(cy($)))),w(t,["tools"],G)}const L=y(e,["toolConfig"]);t!==void 0&&L!=null&&w(t,["toolConfig"],L);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const k=y(e,["cachedContent"]);t!==void 0&&k!=null&&w(t,["cachedContent"],Su(n,k));const K=y(e,["responseModalities"]);K!=null&&w(i,["responseModalities"],K);const V=y(e,["mediaResolution"]);V!=null&&w(i,["mediaResolution"],V);const q=y(e,["speechConfig"]);q!=null&&w(i,["speechConfig"],h6(CQ(q)));const X=y(e,["audioTimestamp"]);X!=null&&w(i,["audioTimestamp"],X);const ne=y(e,["thinkingConfig"]);ne!=null&&w(i,["thinkingConfig"],ne);const he=y(e,["imageConfig"]);return he!=null&&w(i,["imageConfig"],_Ae(he)),i}function J3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["contents"]);if(r!=null){let a=$a(r);Array.isArray(a)&&(a=a.map(o=>S1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],Zoe(n,s,t)),t}function Z3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["contents"]);if(r!=null){let a=$a(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],eAe(n,s,t)),t}function eK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Coe(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function tK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function tAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["aspectRatio"]);e!==void 0&&r!=null&&w(e,["parameters","aspectRatio"],r);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function nAe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function iAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&tAe(s,t),t}function rAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&nAe(s,t),t}function sAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>mAe(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],d6(r)),e}function aAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>x1(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],f6(r)),e}function oAe(n,e){const t={},i=y(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=y(n,["durationSeconds"]);if(e!==void 0&&r!=null&&w(e,["parameters","durationSeconds"],r),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],_1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>lle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function AAe(n,e){const t={},i=y(n,["numberOfVideos"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const b=y(n,["generateAudio"]);e!==void 0&&b!=null&&w(e,["parameters","generateAudio"],b);const C=y(n,["lastFrame"]);e!==void 0&&C!=null&&w(e,["instances[0]","lastFrame"],Mo(C));const E=y(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(R=>ule(R))),w(e,["instances[0]","referenceImages"],T)}const x=y(n,["mask"]);e!==void 0&&x!=null&&w(e,["instances[0]","mask"],Ale(x));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function lAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],fAe(a)),e}function uAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],hAe(a)),e}function cAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],_1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],g6(a));const o=y(e,["source"]);o!=null&&pAe(o,t);const l=y(e,["config"]);return l!=null&&oAe(l,t),t}function dAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],Mo(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],m6(a));const o=y(e,["source"]);o!=null&&gAe(o,t);const l=y(e,["config"]);return l!=null&&AAe(l,t),t}function fAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>yAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function hAe(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>wAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function pAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],_1(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],g6(s)),t}function gAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Mo(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],m6(s)),t}function mAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],TAe(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);return r!=null&&w(e,["safetyAttributes"],d6(r)),e}function x1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],c6(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);r!=null&&w(e,["safetyAttributes"],f6(r));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function vAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],c6(t));const i=y(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["labels"],r)}return e}function yAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],ale(t)),e}function wAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],ole(t)),e}function bAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],h6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const P=y(n,["thinkingConfig"]);P!=null&&w(e,["thinkingConfig"],P);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function CAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Lt(n,i)),t}function BAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Lt(n,i)),t}function EAe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function SAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function xAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _Ae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);i!=null&&w(e,["imageSize"],i);const r=y(n,["outputMimeType"]);r!=null&&w(e,["imageOutputOptions","mimeType"],r);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function TAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],Qd(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function c6(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["imageBytes"],Qd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function _1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],Qd(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Mo(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["imageBytes"]);i!=null&&w(e,["bytesBase64Encoded"],Qd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function IAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],i6(n,o)),i}function FAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],i6(n,o)),i}function UAe(n,e){const t={},i=y(e,["config"]);return i!=null&&IAe(n,i,t),t}function MAe(n,e){const t={},i=y(e,["config"]);return i!=null&&FAe(n,i,t),t}function PAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=r6(r);Array.isArray(s)&&(s=s.map(a=>BR(a))),w(e,["models"],s)}return e}function RAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=r6(r);Array.isArray(s)&&(s=s.map(a=>ER(a))),w(e,["models"],s)}return e}function DAe(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const i=y(n,["segmentationClasses"]);i!=null&&w(e,["maskClasses"],i);const r=y(n,["maskDilation"]);return r!=null&&w(e,["dilation"],r),e}function BR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],XAe(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const b=y(n,["thinking"]);return b!=null&&w(e,["thinking"],b),e}function ER(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>joe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],JAe(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function NAe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Woe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Yoe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],boe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function LAe(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],Mo(t)),e}function QAe(n,e){const t={},i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["baseSteps"]);e!==void 0&&r!=null&&w(e,["parameters","baseSteps"],r);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function kAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["source"]);r!=null&&HAe(r,t);const s=y(e,["config"]);return s!=null&&QAe(s,t),t}function OAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>x1(r))),w(e,["generatedImages"],i)}return e}function HAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["personImage"]);e!==void 0&&r!=null&&w(e,["instances[0]","personImage","image"],Mo(r));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>LAe(o))),w(e,["instances[0]","productImages"],a)}return t}function VAe(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Mo(t));const i=y(n,["referenceId"]);i!=null&&w(e,["referenceId"],i);const r=y(n,["referenceType"]);r!=null&&w(e,["referenceType"],r);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],DAe(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],Toe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function d6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function f6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function KAe(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function GAe(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],Mo(t)),e}function zAe(n,e){const t={},i=y(n,["mode"]);e!==void 0&&i!=null&&w(e,["parameters","mode"],i);const r=y(n,["maxPredictions"]);e!==void 0&&r!=null&&w(e,["parameters","maxPredictions"],r);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function qAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["source"]);r!=null&&jAe(r,t);const s=y(e,["config"]);return s!=null&&zAe(s,t),t}function $Ae(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>vAe(r))),w(e,["generatedMasks"],i)}return e}function jAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Mo(r));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],GAe(s)),t}function h6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function WAe(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Xoe(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function YAe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],EAe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],SAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function p6(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Joe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function XAe(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function JAe(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function ZAe(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function ele(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function tle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","name"],Lt(n,i));const r=y(e,["config"]);return r!=null&&ZAe(r,t),t}function nle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["config"]);return r!=null&&ele(r,t),t}function ile(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&w(e,["parameters","safetySetting"],r);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function rle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Lt(n,i));const r=y(e,["image"]);r!=null&&w(t,["instances[0]","image"],Mo(r));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&ile(a,t),t}function sle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>x1(s))),w(e,["generatedImages"],r)}return e}function ale(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],Qd(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function ole(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],Qd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ale(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],Mo(t));const i=y(n,["maskMode"]);return i!=null&&w(e,["maskMode"],i),e}function lle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],_1(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function ule(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],Mo(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function g6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["encodedVideo"],Qd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["encoding"],r),e}function m6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["bytesBase64Encoded"],Qd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cle(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["displayName"],i),t}function dle(n){const e={},t=y(n,["config"]);return t!=null&&cle(t,e),e}function fle(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function hle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&fle(i,e),e}function ple(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function gle(n,e){const t={},i=y(n,["customMetadata"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const r=y(n,["chunkingConfig"]);return e!==void 0&&r!=null&&w(e,["chunkingConfig"],r),t}function mle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],yle(a)),e}function vle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["fileName"]);i!=null&&w(e,["fileName"],i);const r=y(n,["config"]);return r!=null&&gle(r,e),e}function yle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function wle(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function ble(n){const e={},t=y(n,["config"]);return t!=null&&wle(t,e),e}function Cle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function v6(n,e){const t={},i=y(n,["mimeType"]);e!==void 0&&i!=null&&w(e,["mimeType"],i);const r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Ble(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["config"]);return i!=null&&v6(i,e),e}function Ele(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sle="Content-Type",xle="X-Server-Timeout",_le="User-Agent",SR="x-goog-api-client",Tle="1.31.0",Ile=`google-genai-sdk/${Tle}`,Fle="v1beta1",Ule="v1beta",nK=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Mle{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Fle,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Ule,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))r.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&Ple(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await iK(r),new wR(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await iK(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Vg(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield _n(r.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,b=g.code,C=`got status: ${v}. ${JSON.stringify(h)}`;if(b>=400&&b<600)throw new E1({message:C,status:b})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(nK);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield _n(new wR(g)),a=a.slice(d[0].length),d=a.match(nK)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=Ile+" "+this.clientOptions.userAgentExtra;return e[_le]=t,e[SR]=t,e[Sle]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))i.append(r,s);e.timeout&&e.timeout>0&&i.append(xle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);r.sizeBytes=String(a.size);const o=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=o;const l={file:r},u=this.getFileName(e),d=Ue("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,i){var r;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};i!=null&&v6(i,h);const g=await this.fetchUploadUrl(u,o,l,d,h,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function iK(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new E1({message:r,status:t}):new Error(r)}}function Ple(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=i(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rle="mcp_used/unknown";let Dle=!1;function y6(n){for(const e of n)if(Nle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Dle}function w6(n){var e;const t=(e=n[SR])!==null&&e!==void 0?e:"";n[SR]=(t+` ${Rle}`).trimStart()}function Nle(n){return n!==null&&typeof n=="object"&&n instanceof EQ}function Lle(n,e=100){return Vg(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield _n(n.listTools({cursor:i}));for(const a of s.tools)yield yield _n(a),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class EQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new EQ(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,yw(Lle(d))),u;u=await l.next(),e=u.done,!e;o=!0){r=u.value,o=!1;const h=r;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),pse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await r.callTool({name:i.name,arguments:i.args},void 0,s);t.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qle(n,e,t){const i=new ose;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class kle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=Vle(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,b={onopen:g,onmessage:T=>{Qle(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(T){}},C=this.webSocketFactory.create(l,Hle(a),b);C.connect(),await d;const I={setup:{model:Lt(this.apiClient,e.model)}};return C.send(JSON.stringify(I)),new Ole(C,this.apiClient)}}class Ole{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=doe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=coe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ug.PLAY)}pause(){this.sendPlaybackControl(Ug.PAUSE)}stop(){this.sendPlaybackControl(Ug.STOP)}resetContext(){this.sendPlaybackControl(Ug.RESET_CONTEXT)}close(){this.conn.close()}}function Hle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Vle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Gle(n,e,t){const i=new ase;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const s=JSON.parse(r);if(n.isVertexAI()){const a=poe(s);Object.assign(i,a)}else Object.assign(i,s);e(i)}class zle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new kle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&y6(e.config.tools)&&w6(h);const g=Wle(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let K="BidiGenerateContent",V="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",V="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${K}?${V}=${k}`}let v=()=>{};const b=new Promise(k=>{v=k}),C=e.callbacks,E=function(){var k;(k=C==null?void 0:C.onopen)===null||k===void 0||k.call(C),v({})},x=this.apiClient,I={onopen:E,onmessage:k=>{Gle(x,C.onmessage,k)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(k){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(k){}},T=this.webSocketFactory.create(d,jle(g),I);T.connect(),await b;let R=Lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const k=this.apiClient.getProject(),K=this.apiClient.getLocation();R=`projects/${k}/locations/${K}/`+R}let P={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Q_.AUDIO]}:e.config.responseModalities=[Q_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],L=[];for(const k of D)if(this.isCallableTool(k)){const K=k;L.push(await K.tool())}else L.push(k);L.length>0&&(e.config.tools=L);const H={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?P=uoe(this.apiClient,H):P=loe(this.apiClient,H),delete P.config,T.send(JSON.stringify(P)),new $le(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const qle={turnComplete:!0};class $le{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=$a(t.turns),e.isVertexAI()||(i=i.map(r=>S1(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Kle)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},qle),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:hoe(e)}:t={realtimeInput:foe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function jle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Wle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rK=10;function sK(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Kg(a)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Kg(n){return"callTool"in n&&typeof n.callTool=="function"}function Yle(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Kg(r)))!==null&&i!==void 0?i:!1}function aK(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(Kg(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(r)}),t}function oK(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xle extends Eu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Yle(t)||sK(t.config))return await this.generateContentInternal(l);const u=aK(t);if(u.length>0){const C=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let d,h;const g=$a(l.contents),v=(s=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:rK;let b=0;for(;b<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,E=[];for(const x of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Kg(x)){const T=await x.callTool(d.functionCalls);E.push(...T)}b++,h={role:"user",parts:E},l.contents=$a(l.contents),l.contents.push(C),l.contents.push(h),oK(l.config)&&(g.push(C),g.push(h))}return oK(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var i,r,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),sK(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=aK(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const a=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},o}),this.list=async t=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new gp(uu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>Kg(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&y6(e.config.tools)){const l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),w6(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const a of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Kg(a)){const o=a,l=await o.tool();for(const u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:rK;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return Vg(this,arguments,function*(){for(var b,C,E,x;o<s;){a&&(o++,a=!1);const P=yield _n(u.processParamsMaybeAddMcpUsage(h)),D=yield _n(u.generateContentStreamInternal(P)),L=[],H=[];try{for(var I=!0,T=(C=void 0,yw(D)),R;R=yield _n(T.next()),b=R.done,!b;I=!0){x=R.value,I=!1;const k=x;if(yield yield _n(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){H.push(k.candidates[0].content);for(const K of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(K.functionCall.name)){const V=yield _n(d.get(K.functionCall.name).callTool([K.functionCall]));L.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(k){C={error:k}}finally{try{!I&&!b&&(E=T.return)&&(yield _n(E.call(T)))}finally{if(C)throw C.error}}if(L.length>0){a=!0;const k=new g0;k.candidates=[{content:{role:"user",parts:L}}],yield yield _n(k);const K=[];K.push(...H),K.push({role:"user",parts:L});const V=$a(h.contents).concat(K);h.contents=V}else break}})})(this,l,e)}async generateContentInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Z3(this.apiClient,e);return o=Ue("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=tK(d),g=new g0;return Object.assign(g,h),g})}else{const u=J3(this.apiClient,e);return o=Ue("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=eK(d),g=new g0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Z3(this.apiClient,e);return o=Ue("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(h){return Vg(this,arguments,function*(){var g,v,b,C;try{for(var E=!0,x=yw(h),I;I=yield _n(x.next()),g=I.done,!g;E=!0){C=I.value,E=!1;const T=C,R=tK(yield _n(T.json()));R.sdkHttpResponse={headers:T.headers};const P=new g0;Object.assign(P,R),yield yield _n(P)}}catch(T){v={error:T}}finally{try{!E&&!g&&(b=x.return)&&(yield _n(b.call(x)))}finally{if(v)throw v.error}}})})}else{const u=J3(this.apiClient,e);return o=Ue("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return Vg(this,arguments,function*(){var g,v,b,C;try{for(var E=!0,x=yw(h),I;I=yield _n(x.next()),g=I.done,!g;E=!0){C=I.value,E=!1;const T=C,R=eK(yield _n(T.json()));R.sdkHttpResponse={headers:T.headers};const P=new g0;Object.assign(P,R),yield yield _n(P)}}catch(T){v={error:T}}finally{try{!E&&!g&&(b=x.return)&&(yield _n(b.call(x)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=zoe(this.apiClient,e);return o=Ue("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=$oe(d),g=new D3;return Object.assign(g,h),g})}else{const u=Goe(this.apiClient,e);return o=Ue("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=qoe(d),g=new D3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=rAe(this.apiClient,e);return o=Ue("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=aAe(d),g=new N3;return Object.assign(g,h),g})}else{const u=iAe(this.apiClient,e);return o=Ue("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sAe(d),g=new N3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Ooe(this.apiClient,e);return s=Ue("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Hoe(l),d=new Wre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=rle(this.apiClient,e);return s=Ue("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=sle(l),d=new Yre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=kAe(this.apiClient,e);return s=Ue("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=OAe(l),d=new Xre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=qAe(this.apiClient,e);return s=Ue("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=$Ae(l),d=new Jre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=BAe(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>ER(d))}else{const u=CAe(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>BR(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=MAe(this.apiClient,e);return o=Ue("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=RAe(d),g=new L3;return Object.assign(g,h),g})}else{const u=UAe(this.apiClient,e);return o=Ue("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=PAe(d),g=new L3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=nle(this.apiClient,e);return o=Ue("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>ER(d))}else{const u=tle(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>BR(d))}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Noe(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Qoe(d),g=new Q3;return Object.assign(g,h),g})}else{const u=Doe(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Loe(d),g=new Q3;return Object.assign(g,h),g})}}async countTokens(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Moe(this.apiClient,e);return o=Ue("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Roe(d),g=new k3;return Object.assign(g,h),g})}else{const u=Uoe(this.apiClient,e);return o=Ue("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Poe(d),g=new k3;return Object.assign(g,h),g})}}async computeTokens(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Eoe(this.apiClient,e);return s=Ue("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Soe(l),d=new Zre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=dAe(this.apiClient,e);return o=Ue("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const h=uAe(d),g=new k_;return Object.assign(g,h),g})}else{const u=cAe(this.apiClient,e);return o=Ue("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=lAe(d),g=new k_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jle extends Eu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Kre(e);return o=Ue("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}else{const u=Vre(e);return o=Ue("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Dre(e);return s=Ue("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zle(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eue(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>lue(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function tue(n,e,t){const i={},r=y(e,["expireTime"]);t!==void 0&&r!=null&&w(t,["expireTime"],r);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],Aue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),i}function nue(n,e){const t={},i=y(e,["config"]);return i!=null&&w(t,["config"],tue(n,i,t)),t}function iue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function rue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function aue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function oue(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],BQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],eue(Mr(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=dy(C);Array.isArray(D)&&(D=D.map(L=>cue(cy(L)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],uue(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function Aue(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Lt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],oue(r,t)),t}function lue(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],iue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],rue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Zle(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function uue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],sue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],aue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function due(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function fue(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=due(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];r.length>0&&(o=r.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class hue extends Eu{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=nue(this.apiClient,e);s=Ue("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=fue(o,e.config);return r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pue(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function gue(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&pue(i,e),e}function mue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function vue(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function yue(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const i=y(n,["config"]);return i!=null&&vue(i,e),e}function wue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bue extends Eu{constructor(e){super(),this.apiClient=e,this.list=async t=>new gp(uu.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mue(e);return s=Ue("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gue(e);r=Ue("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yue(e);return s=Ue("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=wue(l),d=new ese;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cue extends Eu{constructor(e,t=new bue(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new gp(uu.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=dle(e);return s=Ue("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ple(e);return s=Ue("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=hle(e);r=Ue("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ble(e);return s=Ue("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Cle(l),d=new tse;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ble(e);return s=Ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Ele(l),d=new nse;return Object.assign(d,u),d})}}async importFile(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vle(e);return s=Ue("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=mle(l),d=new vQ;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Eue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Sue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function xue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function _ue(n,e,t){const i={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=y(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&w(e,["displayName"],r),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Tue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],AK(v))}else if(r==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],AK(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),i}function Iue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&Oue(s);const a=y(n,["config"]);return a!=null&&_ue(a,t),t}function Fue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&Hue(s,t,e);const a=y(n,["config"]);return a!=null&&Tue(a,t,e),t}function Uue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Mue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Pue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Rue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Due(n,e){const t={},i=y(n,["config"]);return i!=null&&Pue(i,t),t}function Nue(n,e){const t={},i=y(n,["config"]);return i!=null&&Rue(i,t),t}function Lue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>b6(o))),w(t,["tuningJobs"],a)}return t}function Que(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>xR(o))),w(t,["tuningJobs"],a)}return t}function kue(n,e){const t={},i=y(n,["name"]);i!=null&&w(t,["model"],i);const r=y(n,["name"]);return r!=null&&w(t,["endpoint"],r),t}function Oue(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=y(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(t,["examples","examples"],r)}return t}function Hue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(r==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function b6(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],t6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],kue(g)),t}function xR(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],t6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const b=y(n,["preTunedModel"]);b!=null&&w(t,["preTunedModel"],b);const C=y(n,["supervisedTuningSpec"]);C!=null&&w(t,["supervisedTuningSpec"],C);const E=y(n,["preferenceOptimizationSpec"]);E!=null&&w(t,["preferenceOptimizationSpec"],E);const x=y(n,["tuningDataStats"]);x!=null&&w(t,["tuningDataStats"],x);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const R=y(n,["customBaseModel"]);R!=null&&w(t,["customBaseModel"],R);const P=y(n,["experiment"]);P!=null&&w(t,["experiment"],P);const D=y(n,["labels"]);D!=null&&w(t,["labels"],D);const L=y(n,["outputUri"]);L!=null&&w(t,["outputUri"],L);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const k=y(n,["serviceAccount"]);k!=null&&w(t,["serviceAccount"],k);const K=y(n,["tunedModelDisplayName"]);K!=null&&w(t,["tunedModelDisplayName"],K);const V=y(n,["veoTuningSpec"]);return V!=null&&w(t,["veoTuningSpec"],V),t}function Vue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function AK(n,e){const t={},i=y(n,["gcsUri"]);i!=null&&w(t,["validationDatasetUri"],i);const r=y(n,["vertexDatasetResource"]);return r!=null&&w(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kue extends Eu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new gp(uu.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),s=await this.tuneMldevInternal(r);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:yR.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Mue(e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>xR(d))}else{const u=Uue(e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>b6(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Nue(e);return o=Ue("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Que(d),g=new O3;return Object.assign(g,h),g})}else{const u=Due(e);return o=Ue("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Lue(d),g=new O3;return Object.assign(g,h),g})}}async cancel(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Eue(e);return o=Ue("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=xue(d),g=new H3;return Object.assign(g,h),g})}else{const u=Bue(e);return o=Ue("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Sue(d),g=new H3;return Object.assign(g,h),g})}}async tuneInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Fue(e,e);return s=Ue("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>xR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Iue(e);return s=Ue("tunedModels",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>Vue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gue{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zue=1024*1024*8,que=3,$ue=1e3,jue=2,H_="x-goog-upload-status";async function Wue(n,e,t){var i;const r=await C6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[H_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Yue(n,e,t){var i;const r=await C6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[H_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=W$(s),o=new yQ;return Object.assign(o,a),o}async function C6(n,e,t){var i,r;let s=0,a=0,o=new wR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(zue,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=$ue;for(;h<que&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((i=o==null?void 0:o.headers)===null||i===void 0)&&i[H_]));)h++,await Jue(g),g=g*jue;if(a+=u,((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[H_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Xue(n){return{size:n.size,type:n.type}}function Jue(n){return new Promise(e=>setTimeout(e,n))}class Zue{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wue(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Yue(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xue(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ece{create(e,t,i){return new tce(e,t,i)}}class tce{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lK="x-goog-api-key";class nce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(lK)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(lK,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ice="gl-node/";class rce{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=Pre(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new nce(this.apiKey);this.apiClient=new Mle({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ice+"web",uploader:new Zue,downloader:new Gue}),this.models=new Xle(this.apiClient),this.live=new zle(this.apiClient,r,new ece),this.batches=new Aae(this.apiClient),this.chats=new Kae(this.models,this.apiClient),this.caches=new Oae(this.apiClient),this.files=new Zae(this.apiClient),this.operations=new Jle(this.apiClient),this.authTokens=new hue(this.apiClient),this.tunings=new Kue(this.apiClient),this.fileSearchStores=new Cue(this.apiClient)}}const sce="PLACEHOLDER_API_KEY",ace=new rce({apiKey:sce}),oce="gemini-2.5-flash",B6=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
    `;return(await ace.models.generateContent({model:oce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},Vr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),_R=[.001,0,0,.001,0,0],WU=1.35,Xs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},cc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Fw="pdfjs_internal_editor_",ut={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},It={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Ace={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TR={TRIANGLES:1,LATTICE:2},nr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ux={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},hi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},mg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},T1={ERRORS:0,WARNINGS:1,INFOS:5},Uw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},m0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},lce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let I1=T1.WARNINGS;function uce(n){Number.isInteger(n)&&(I1=n)}function cce(){return I1}function F1(n){I1>=T1.INFOS&&console.info(`Info: ${n}`)}function ot(n){I1>=T1.WARNINGS&&console.warn(`Warning: ${n}`)}function pn(n){throw new Error(n)}function Ft(n,e){n||pn(e)}function dce(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function E6(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=mce(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return dce(i)?i:null}function S6(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&E6(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function At(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const mp=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class uK extends mp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class YU extends mp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let IR=class extends mp{constructor(e){super(e,"InvalidPDFException")}},V_=class extends mp{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}};class fce extends mp{constructor(e){super(e,"FormatError")}}let Fd=class extends mp{constructor(e){super(e,"AbortException")}};function x6(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&pn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function UB(n){typeof n!="string"&&pn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function hce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function pce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function gce(){try{return new Function(""),!0}catch{return!1}}class mr{static get isLittleEndian(){return At(this,"isLittleEndian",pce())}static get isEvalSupported(){return At(this,"isEvalSupported",gce())}static get isOffscreenCanvasSupported(){return At(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return At(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return At(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return At(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return At(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return At(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const XU=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var au,fR,Mx,FR;let He=(fR=class{static makeHexColor(e,t,i){return`#${XU[e]}${XU[t]}${XU[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[i+d],g=e[i+d+1];e[i+d]=h*r+g*a+l,e[i+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let b=r*d+l,C=b,E=r*g+l,x=E,I=o*h+u,T=I,R=o*v+u,P=R;if(s!==0||a!==0){const D=s*d,L=s*g,H=a*h,k=a*v;b+=H,x+=H,E+=k,C+=k,I+=D,P+=D,R+=L,T+=L}i[0]=Math.min(i[0],b,E,C,x),i[1]=Math.min(i[1],I,R,T,P),i[2]=Math.max(i[2],b,E,C,x),i[3]=Math.max(i[3],I,R,T,P)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],a=e[3],o=i**2+r**2,l=i*s+r*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),U(this,au,FR).call(this,e,i,s,o,t,r,a,l,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),u),U(this,au,FR).call(this,e,i,s,o,t,r,a,l,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),u)}},au=new WeakSet,Mx=function(e,t,i,r,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,b=h*(h*(h*e+3*u*t)+3*g*i)+v*r,C=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],b),d[1]=Math.min(d[1],C),d[2]=Math.max(d[2],b),d[3]=Math.max(d[3],C)},FR=function(e,t,i,r,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&U(this,au,Mx).call(this,e,t,i,r,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const b=Math.sqrt(v),C=2*u;U(this,au,Mx).call(this,e,t,i,r,s,a,o,l,(-d+b)/C,g),U(this,au,Mx).call(this,e,t,i,r,s,a,o,l,(-d-b)/C,g)},F(fR,au),fR);function mce(n){return decodeURIComponent(escape(n))}let JU=null,cK=null;function vce(n){return JU||(JU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,cK=new Map([["","t"]])),n.replaceAll(JU,(e,t,i)=>t?t.normalize("NFKC"):cK.get(i))}function _6(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),x6(n)}const Mg="pdfjs_internal_id_";function yce(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Kr(n,e,t){return Math.min(Math.max(n,e),t)}function T6(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(x6(n))}function wce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):UB(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Mw{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Mw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let I6=class{static setupStorage(e,t,i,r,s){const a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var h,g;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);a.append(v),o&&Mw.shouldBuildText(r.name)&&u.push(v)}return{textDivs:u}}const d=[[r,-1,a]];for(;d.length>0;){const[v,b,C]=d.at(-1);if(b+1===v.children.length){d.pop();continue}const E=v.children[++d.at(-1)[1]];if(E===null)continue;const{name:x}=E;if(x==="#text"){const T=document.createTextNode(E.value);u.push(T),C.append(T);continue}const I=(h=E==null?void 0:E.attributes)!=null&&h.xmlns?document.createElementNS(E.attributes.xmlns,x):document.createElement(x);if(C.append(I),E.attributes&&this.setAttributes({html:I,element:E,storage:t,intent:s,linkService:i}),((g=E.children)==null?void 0:g.length)>0)d.push([E,-1,I]);else if(E.value){const T=document.createTextNode(E.value);o&&Mw.shouldBuildText(x)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const YA="http://www.w3.org/2000/svg";var vA;let qv=(vA=class{},me(vA,"CSS",96),me(vA,"PDF",72),me(vA,"PDF_TO_CSS_UNITS",vA.CSS/vA.PDF),vA);async function MB(n,e="text"){if(L0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class PB{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=a,i*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let b,C,E,x;d===0?(b=Math.abs(u-e[1])*i+s,C=Math.abs(l-e[0])*i+a,E=(e[3]-e[1])*i,x=(e[2]-e[0])*i):(b=Math.abs(l-e[0])*i+s,C=Math.abs(u-e[1])*i+a,E=(e[2]-e[0])*i,x=(e[3]-e[1])*i),this.transform=[d*i,h*i,g*i,v*i,b-d*i*l-g*i*u,C-h*i*l-v*i*u],this.width=E,this.height=x}get rawDims(){const e=this.viewBox;return At(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new PB({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return He.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];He.applyTransform(t,this.transform);const i=[e[2],e[3]];return He.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return He.applyInverseTransform(i,this.transform),i}}let SQ=class extends mp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function U1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function xQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function bce(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Cce(n,e="document.pdf"){if(typeof n!="string")return e;if(U1(n))return ot('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(s.test(a))return r(a);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const u of o)if(s.test(u))return r(u);const l=Array.from(i.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return r(u)}if(i.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(l)return r(l[0])}return e}class dK{constructor(){me(this,"started",Object.create(null));me(this,"times",[])}time(e){e in this.started&&ot(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ot(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function L0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Ya(n){n.preventDefault()}function Wn(n){n.preventDefault(),n.stopPropagation()}function Bce(n){console.log("Deprecated API usage: "+n)}var hR,eb;let UR=(hR=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,eb)||_(this,eb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,eb).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(i,r,s,a,o,l))}},eb=new WeakMap,F(hR,eb),hR);function Ece(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new PB({viewBox:s,userUnit:1,scale:e,rotation:t})}function RB(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ot(`Not a valid color format: "${n}"`),[0,0,0])}function Sce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,RB(i))}e.remove()}function Ln(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function Ho(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function op(n,e,t=!1,i=!0){if(e instanceof PB){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=mr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}let Ap=class MR{constructor(){const{pixelRatio:e}=MR;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let a=1/0,o=1/0,l=1/0;i=MR.capPixels(i,s),i>0&&(a=Math.sqrt(i/(e*t))),r!==-1&&(o=r/e,l=r/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}};const PR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class xce{static get isDarkMode(){var e;return At(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let _ce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),At(this,"commentForegroundColor",RB(i))}};function Tce(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function fK(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),a=Math.min(t,i,r),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((i-r)/l+(i<r?6:0))*60;break;case i:e[0]=((r-t)/l+2)*60;break;case r:e[0]=((t-i)/l+4)*60;break}}e[2]=o}function RR(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,a=s*(1-Math.abs(t/60%2-1)),o=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function hK(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function pK(n,e,t){RR(n,t),t.map(hK);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];RR(e,t),t.map(hK);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const gK=new Map;function Ice(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=gK.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),a=r.subarray(3,6);fK(n,a);const o=r.subarray(6,9);fK(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),pK(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===pK(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return RR(a,s),i=He.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),gK.set(t,i),i}function F6({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}r.append(s)}else I6.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function U6(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case m0.moveTo:e.moveTo(n[t++],n[t++]);break;case m0.lineTo:e.lineTo(n[t++],n[t++]);break;case m0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case m0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case m0.closePath:e.closePath();break;default:ot(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var fc,hc,xa,_a,tb,pc,Yg,Xg,nb,ZT,M6,hr,P6,R6,vg,Q0;const el=class el{constructor(e){F(this,hr);F(this,fc,null);F(this,hc,null);F(this,xa);F(this,_a,null);F(this,tb,null);F(this,pc,null);F(this,Yg,null);F(this,Xg,null);_(this,xa,e),f(el,nb)||_(el,nb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,fc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,xa)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Ya,{signal:t}),e.addEventListener("pointerdown",U(el,ZT,M6),{signal:t}));const i=_(this,_a,document.createElement("div"));i.className="buttons",e.append(i);const r=f(this,xa).toolbarPosition;if(r){const{style:s}=e,a=f(this,xa)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,fc)}hide(){var e;f(this,fc).classList.add("hidden"),(e=f(this,hc))==null||e.hideDropdown()}show(){var e,t;f(this,fc).classList.remove("hidden"),(e=f(this,tb))==null||e.shown(),(t=f(this,pc))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,xa),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",f(el,nb)[e]),U(this,hr,vg).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),f(this,_a).append(i)}async addAltText(e){const t=await e.render();U(this,hr,vg).call(this,t),f(this,_a).append(t,f(this,hr,Q0)),_(this,tb,e)}addComment(e,t=null){if(f(this,pc))return;const i=e.renderForToolbar();if(!i)return;U(this,hr,vg).call(this,i);const r=_(this,Yg,f(this,hr,Q0));t?(f(this,_a).insertBefore(i,t),f(this,_a).insertBefore(r,t)):f(this,_a).append(i,r),_(this,pc,e),e.toolbar=this}addColorPicker(e){if(f(this,hc))return;_(this,hc,e);const t=e.renderButton();U(this,hr,vg).call(this,t),f(this,_a).append(t,f(this,hr,Q0))}async addEditSignatureButton(e){const t=_(this,Xg,await e.renderEditButton(f(this,xa)));U(this,hr,vg).call(this,t),f(this,_a).append(t,f(this,hr,Q0))}removeButton(e){var t,i;switch(e){case"comment":(t=f(this,pc))==null||t.removeToolbarCommentButton(),_(this,pc,null),(i=f(this,Yg))==null||i.remove(),_(this,Yg,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=f(this,_a).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){f(this,Xg)&&(f(this,Xg).title=e)}remove(){var e;f(this,fc).remove(),(e=f(this,hc))==null||e.destroy(),_(this,hc,null)}};fc=new WeakMap,hc=new WeakMap,xa=new WeakMap,_a=new WeakMap,tb=new WeakMap,pc=new WeakMap,Yg=new WeakMap,Xg=new WeakMap,nb=new WeakMap,ZT=new WeakSet,M6=function(e){e.stopPropagation()},hr=new WeakSet,P6=function(e){f(this,xa)._focusEventsAllowed=!1,Wn(e)},R6=function(e){f(this,xa)._focusEventsAllowed=!0,Wn(e)},vg=function(e){const t=f(this,xa)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",U(this,hr,P6).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",U(this,hr,R6).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ya,{signal:t}),!0)},Q0=function(){const e=document.createElement("div");return e.className="divider",e},F(el,ZT),F(el,nb,null);let DR=el;var ib,_f,rl,wu,D6,N6,NR;class Fce{constructor(e){F(this,wu);F(this,ib,null);F(this,_f,null);F(this,rl);_(this,rl,e)}show(e,t,i){const[r,s]=U(this,wu,N6).call(this,t,i),{style:a}=f(this,_f)||_(this,_f,U(this,wu,D6).call(this));e.append(f(this,_f)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,_f).remove()}}ib=new WeakMap,_f=new WeakMap,rl=new WeakMap,wu=new WeakSet,D6=function(){const e=_(this,_f,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,rl)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Ya,{signal:t});const i=_(this,ib,document.createElement("div"));return i.className="buttons",e.append(i),f(this,rl).hasCommentManager()&&U(this,wu,NR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,rl).commentSelection("floating_button")}),U(this,wu,NR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,rl).highlightSelection("floating_button")}),e},N6=function(e,t){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]},NR=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const o=f(this,rl)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Ya,{signal:o}),s.addEventListener("click",r,{signal:o})),f(this,ib).append(s)};function L6(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var Tf,If,Jg,Ff;const tn=class tn{static initializeAndAddPointerId(e){(f(tn,If)||_(tn,If,new Set)).add(e)}static setPointer(e,t){f(tn,Tf)||_(tn,Tf,t),f(tn,Ff)??_(tn,Ff,e)}static setTimeStamp(e){_(tn,Jg,e)}static isSamePointerId(e){return f(tn,Tf)===e}static isSamePointerIdOrRemove(e){var t;return f(tn,Tf)===e?!0:((t=f(tn,If))==null||t.delete(e),!1)}static isSamePointerType(e){return f(tn,Ff)===e}static isInitializedAndDifferentPointerType(e){return f(tn,Ff)!==null&&!tn.isSamePointerType(e)}static isSameTimeStamp(e){return f(tn,Jg)===e}static isUsingMultiplePointers(){var e;return((e=f(tn,If))==null?void 0:e.size)>=1}static clearPointerType(){_(tn,Ff,null)}static clearPointerIds(){_(tn,Tf,NaN),_(tn,If,null)}static clearTimeStamp(){_(tn,Jg,NaN)}};Tf=new WeakMap,If=new WeakMap,Jg=new WeakMap,Ff=new WeakMap,F(tn,Tf,NaN),F(tn,If,null),F(tn,Jg,NaN),F(tn,Ff,null);let Cr=tn;var e1;class Uce{constructor(){F(this,e1,0)}get id(){return`${Fw}${Zn(this,e1)._++}`}}e1=new WeakMap;var Zg,rb,Br,em,Px;const _O=class _O{constructor(){F(this,em);F(this,Zg,_6());F(this,rb,0);F(this,Br,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return At(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return U(this,em,Px).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return U(this,em,Px).call(this,e,e)}async getFromBlob(e,t){const i=await t;return U(this,em,Px).call(this,e,i)}async getFromId(e){f(this,Br)||_(this,Br,new Map);const t=f(this,Br).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,Br)||_(this,Br,new Map);let i=f(this,Br).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${f(this,Zg)}_${Zn(this,rb)._++}`,refCounter:1,isSvg:!1},f(this,Br).set(e,i),f(this,Br).set(i.id,i),i}getSvgUrl(e){const t=f(this,Br).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;f(this,Br)||_(this,Br,new Map);const t=f(this,Br).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,Zg)}_`)}};Zg=new WeakMap,rb=new WeakMap,Br=new WeakMap,em=new WeakSet,Px=async function(e,t){f(this,Br)||_(this,Br,new Map);let i=f(this,Br).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${f(this,Zg)}_${Zn(this,rb)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await MB(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=_O._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},a.onload=async()=>{const h=i.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){ot(r),i=null}return f(this,Br).set(e,i),i&&f(this,Br).set(i.id,i),i};let LR=_O;var ni,gc,sb,Nn;class Mce{constructor(e=128){F(this,ni,[]);F(this,gc,!1);F(this,sb);F(this,Nn,-1);_(this,sb,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),f(this,gc))return;const l={cmd:e,undo:t,post:i,type:s};if(f(this,Nn)===-1){f(this,ni).length>0&&(f(this,ni).length=0),_(this,Nn,0),f(this,ni).push(l);return}if(a&&f(this,ni)[f(this,Nn)].type===s){o&&(l.undo=f(this,ni)[f(this,Nn)].undo),f(this,ni)[f(this,Nn)]=l;return}const u=f(this,Nn)+1;u===f(this,sb)?f(this,ni).splice(0,1):(_(this,Nn,u),u<f(this,ni).length&&f(this,ni).splice(u)),f(this,ni).push(l)}undo(){if(f(this,Nn)===-1)return;_(this,gc,!0);const{undo:e,post:t}=f(this,ni)[f(this,Nn)];e(),t==null||t(),_(this,gc,!1),_(this,Nn,f(this,Nn)-1)}redo(){if(f(this,Nn)<f(this,ni).length-1){_(this,Nn,f(this,Nn)+1),_(this,gc,!0);const{cmd:e,post:t}=f(this,ni)[f(this,Nn)];e(),t==null||t(),_(this,gc,!1)}}hasSomethingToUndo(){return f(this,Nn)!==-1}hasSomethingToRedo(){return f(this,Nn)<f(this,ni).length-1}cleanType(e){if(f(this,Nn)!==-1){for(let t=f(this,Nn);t>=0;t--)if(f(this,ni)[t].type!==e){f(this,ni).splice(t+1,f(this,Nn)-t),_(this,Nn,t);return}f(this,ni).length=0,_(this,Nn,-1)}}destroy(){_(this,ni,null)}}ni=new WeakMap,gc=new WeakMap,sb=new WeakMap,Nn=new WeakMap;var t1,Q6;class DB{constructor(e){F(this,t1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=mr.platform;for(const[i,r,s={}]of e)for(const a of i){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(U(this,t1,Q6).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||Wn(t))}}t1=new WeakSet,Q6=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const n1=class n1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Sce(e),At(this,"_colors",e)}convert(e){const t=RB(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return n1._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?He.makeHexColor(...t):e}};me(n1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let QR=n1;var tm,Ms,nm,Vn,Ci,im,Ta,rm,Ia,Er,mc,vc,sm,yc,qo,Fa,Uf,ab,ob,am,Ab,$o,wc,om,bc,jo,i1,Cc,Am,lb,Bc,Mf,lm,Ec,ub,pi,qt,sl,Sc,xc,cb,um,db,_c,Wo,al,fb,hb,Ua,Zl,Te,Rx,kR,k6,O6,k0,H6,V6,K6,OR,G6,z6,q6,$6,Dr,XA,j6,W6,HR,Y6,O0,VR;let Pw=(Zl=class{constructor(e,t,i,r,s,a,o,l,u,d,h,g,v,b,C,E){F(this,Te);F(this,tm,new AbortController);F(this,Ms,null);F(this,nm,null);F(this,Vn,new Map);F(this,Ci,new Map);F(this,im,null);F(this,Ta,null);F(this,rm,null);F(this,Ia,new Mce);F(this,Er,null);F(this,mc,null);F(this,vc,null);F(this,sm,0);F(this,yc,new Set);F(this,qo,null);F(this,Fa,null);F(this,Uf,new Set);me(this,"_editorUndoBar",null);F(this,ab,!1);F(this,ob,!1);F(this,am,!1);F(this,Ab,null);F(this,$o,null);F(this,wc,null);F(this,om,null);F(this,bc,!1);F(this,jo,null);F(this,i1,new Uce);F(this,Cc,!1);F(this,Am,!1);F(this,lb,!1);F(this,Bc,null);F(this,Mf,null);F(this,lm,null);F(this,Ec,null);F(this,ub,null);F(this,pi,ut.NONE);F(this,qt,new Set);F(this,sl,null);F(this,Sc,null);F(this,xc,null);F(this,cb,null);F(this,um,null);F(this,db,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});F(this,_c,[0,0]);F(this,Wo,null);F(this,al,null);F(this,fb,null);F(this,hb,null);F(this,Ua,null);const x=this._signal=f(this,tm).signal;_(this,al,e),_(this,fb,t),_(this,hb,i),_(this,im,r),_(this,Er,s),_(this,Sc,a),_(this,um,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:x}),window.addEventListener("pointerdown",()=>{_(this,Am,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{_(this,Am,!1)},{capture:!0,signal:x}),U(this,Te,H6).call(this),U(this,Te,$6).call(this),U(this,Te,OR).call(this),_(this,Ta,l.annotationStorage),_(this,Ab,l.filterFactory),_(this,xc,u),_(this,om,d||null),_(this,ab,h),_(this,ob,g),_(this,am,v),_(this,ub,b||null),this.viewParameters={realScale:qv.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=C||null,this._supportsPinchToZoom=E!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Zl.prototype,t=a=>f(a,al).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return At(this,"_keyboardManager",new DB([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,al).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,al).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,a,o,l,u;(e=f(this,Ua))==null||e.resolve(),_(this,Ua,null),(t=f(this,tm))==null||t.abort(),_(this,tm,null),this._signal=null;for(const d of f(this,Ci).values())d.destroy();f(this,Ci).clear(),f(this,Vn).clear(),f(this,Uf).clear(),(i=f(this,Ec))==null||i.clear(),_(this,Ms,null),f(this,qt).clear(),f(this,Ia).destroy(),(r=f(this,im))==null||r.destroy(),(s=f(this,Er))==null||s.destroy(),(a=f(this,Sc))==null||a.destroy(),(o=f(this,jo))==null||o.hide(),_(this,jo,null),(l=f(this,lm))==null||l.destroy(),_(this,lm,null),_(this,nm,null),f(this,$o)&&(clearTimeout(f(this,$o)),_(this,$o,null)),f(this,Wo)&&(clearTimeout(f(this,Wo)),_(this,Wo,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,um,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,ub)}get useNewAltTextFlow(){return f(this,ob)}get useNewAltTextWhenAddingImage(){return f(this,am)}get hcmFilter(){return At(this,"hcmFilter",f(this,xc)?f(this,Ab).addHCMFilter(f(this,xc).foreground,f(this,xc).background):"none")}get direction(){return At(this,"direction",getComputedStyle(f(this,al)).direction)}get _highlightColors(){return At(this,"_highlightColors",f(this,om)?new Map(f(this,om).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return At(this,"highlightColors",null);const t=new Map,i=!!f(this,xc);for(const[r,s]of e){const a=r.endsWith("_HCM");if(i&&a){t.set(r.replace("_HCM",""),s);continue}!i&&!a&&t.set(r,s)}return At(this,"highlightColors",t)}get highlightColorNames(){return At(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,vc,e)}setMainHighlightColorPicker(e){_(this,lm,e)}editAltText(e,t=!1){var i;(i=f(this,im))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!f(this,Er)}editComment(e,t,i,r){var s;(s=f(this,Er))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=f(this,Ci).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,Er))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,Er))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,Er))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=f(this,Er))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=f(this,Er))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,Er))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,Ci).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=f(this,Sc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,Sc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,am,t);break}}onPageChanging({pageNumber:e}){_(this,sm,e-1)}focusMainContainer(){f(this,al).focus()}findParent(e,t){for(const i of f(this,Ci).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return i}return null}disableUserSelect(e=!1){f(this,fb).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,Uf).add(e)}removeShouldRescale(e){f(this,Uf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*qv.PDF_TO_CSS_UNITS;for(const i of f(this,Uf))i.onScaleChanging();(t=f(this,vc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=i,l=i.toString(),d=U(this,Te,Rx).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();const g=U(this,Te,kR).call(this,d),v=f(this,pi)===ut.NONE,b=()=>{const C=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(C==null||C.editComment())};if(v){this.switchToMode(ut.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,Ta))return null;const t=`${Fw}${e}`,i=f(this,Ta).getRawValue(t);return i&&f(this,Ta).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&f(this,Ta)&&!f(this,Ta).has(e.id)&&f(this,Ta).setValue(e.id,e)}a11yAlert(e,t=null){const i=f(this,hb);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,bc)&&(_(this,bc,!1),U(this,Te,k0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,qt))if(t.div.contains(e)){_(this,Mf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Mf))return;const[e,t]=f(this,Mf);_(this,Mf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){U(this,Te,OR).call(this),this.setEditingState(!0)}removeEditListeners(){U(this,Te,G6).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of f(this,Fa))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of f(this,Fa))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=f(this,Ms))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of f(this,qt)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,Fa))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ot(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=await r.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)U(this,Te,HR).call(this,l);U(this,Te,VR).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){ot(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,pi)!==ut.NONE&&!this.isEditorHandlingKeyboard&&Zl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,bc)&&(_(this,bc,!1),U(this,Te,k0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(U(this,Te,V6).call(this),U(this,Te,z6).call(this),U(this,Te,Dr).call(this,{isEditing:f(this,pi)!==ut.NONE,isEmpty:U(this,Te,O0).call(this),hasSomethingToUndo:f(this,Ia).hasSomethingToUndo(),hasSomethingToRedo:f(this,Ia).hasSomethingToRedo(),hasSelectedEditor:!1})):(U(this,Te,K6).call(this),U(this,Te,q6).call(this),U(this,Te,Dr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,Fa)){_(this,Fa,e);for(const t of f(this,Fa))U(this,Te,XA).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,i1).id}get currentLayer(){return f(this,Ci).get(f(this,sm))}getLayer(e){return f(this,Ci).get(e)}get currentPageIndex(){return f(this,sm)}addLayer(e){f(this,Ci).set(e.pageIndex,e),f(this,Cc)?e.enable():e.disable()}removeLayer(e){f(this,Ci).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){var a,o,l,u,d,h;if(f(this,pi)!==e&&!(f(this,Ua)&&(await f(this,Ua).promise,!f(this,Ua)))){if(_(this,Ua,Promise.withResolvers()),(a=f(this,vc))==null||a.commitOrRemove(),f(this,pi)===ut.POPUP&&((o=f(this,Er))==null||o.hideSidebar()),(l=f(this,Er))==null||l.destroyPopup(),_(this,pi,e),e===ut.NONE){this.setEditingState(!1),U(this,Te,W6).call(this);for(const g of f(this,Vn).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,Ua).resolve();return}for(const g of f(this,Vn).values())g.addStandaloneCommentButton();e===ut.SIGNATURE&&await((d=f(this,Sc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await U(this,Te,j6).call(this),this.unselectAll();for(const g of f(this,Ci).values())g.updateMode(e);if(e===ut.POPUP){f(this,nm)||_(this,nm,await f(this,um).getAnnotationsByType(new Set(f(this,Fa).map(b=>b._editorType))));const g=new Set,v=[];for(const b of f(this,Vn).values()){const{annotationElementId:C,hasComment:E,deleted:x}=b;C&&g.add(C),E&&!x&&v.push(b.getData())}for(const b of f(this,nm)){const{id:C,popupRef:E,contentsObj:x}=b;E&&(x!=null&&x.str)&&!g.has(C)&&!f(this,yc).has(C)&&v.push(b)}(h=f(this,Er))==null||h.showSidebar(v)}if(!t){i&&this.addNewEditorFromKeyboard(),f(this,Ua).resolve();return}for(const g of f(this,Vn).values())g.uid===t?(this.setSelected(g),s?g.editComment():r?g.enterInEditMode():g.focus()):g.unselect();f(this,Ua).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,pi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,Fa)){switch(e){case It.CREATE:this.currentLayer.addNewEditor(t);return;case It.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,cb)||_(this,cb,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of f(this,qt))i.updateParams(e,t);else for(const i of f(this,Fa))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const a of f(this,Vn).values())a.editorType===e&&a.show(t);(((s=f(this,cb))==null?void 0:s.get(It.HIGHLIGHT_SHOW_ALL))??!0)!==t&&U(this,Te,XA).call(this,[[It.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,lb)!==e){_(this,lb,e);for(const t of f(this,Ci).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,Vn).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,Vn).get(e)}addEditor(e){f(this,Vn).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(f(this,$o)&&clearTimeout(f(this,$o)),_(this,$o,setTimeout(()=>{this.focusMainContainer(),_(this,$o,null)},0))),f(this,Vn).delete(e.id),e.annotationElementId&&((t=f(this,Ec))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,yc).has(e.annotationElementId))&&((i=f(this,Ta))==null||i.remove(e.id))}addDeletedAnnotationElement(e){f(this,yc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,yc).has(e)}removeDeletedAnnotationElement(e){f(this,yc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Ms)!==e&&(_(this,Ms,e),e&&U(this,Te,XA).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Te,Y6)===e&&U(this,Te,XA).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){U(this,Te,XA).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,qt).has(e)){f(this,qt).delete(e),e.unselect(),U(this,Te,Dr).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,qt).add(e),e.select(),U(this,Te,XA).call(this,e.propertiesToUpdate),U(this,Te,Dr).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,vc))==null||t.commitOrRemove();for(const i of f(this,qt))i!==e&&i.unselect();f(this,qt).clear(),f(this,qt).add(e),e.select(),U(this,Te,XA).call(this,e.propertiesToUpdate),U(this,Te,Dr).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,qt).has(e)}get firstSelectedEditor(){return f(this,qt).values().next().value}unselect(e){e.unselect(),f(this,qt).delete(e),U(this,Te,Dr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,qt).size!==0}get isEnterHandled(){return f(this,qt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,Ia).undo(),U(this,Te,Dr).call(this,{hasSomethingToUndo:f(this,Ia).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:U(this,Te,O0).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,Ia).redo(),U(this,Te,Dr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Ia).hasSomethingToRedo(),isEmpty:U(this,Te,O0).call(this)})}addCommands(e){f(this,Ia).add(e),U(this,Te,Dr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:U(this,Te,O0).call(this)})}cleanUndoStack(e){f(this,Ia).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,qt)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},r=()=>{for(const a of t)U(this,Te,HR).call(this,a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Ms))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Ms)||this.hasSelection}selectAll(){for(const e of f(this,qt))e.commit();U(this,Te,VR).call(this,f(this,Vn).values())}unselectAll(){var e;if(!(f(this,Ms)&&(f(this,Ms).commitOrRemove(),f(this,pi)!==ut.NONE))&&!((e=f(this,vc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,qt))t.unselect();f(this,qt).clear(),U(this,Te,Dr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;f(this,_c)[0]+=e,f(this,_c)[1]+=t;const[r,s]=f(this,_c),a=[...f(this,qt)],o=1e3;f(this,Wo)&&clearTimeout(f(this,Wo)),_(this,Wo,setTimeout(()=>{_(this,Wo,null),f(this,_c)[0]=f(this,_c)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,Vn).has(l.id)&&(l.translateInPage(r,s),l.translationDone())},undo:()=>{for(const l of a)f(this,Vn).has(l.id)&&(l.translateInPage(-r,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,qo,new Map);for(const e of f(this,qt))f(this,qo).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,qo))return!1;this.disableUserSelect(!1);const e=f(this,qo);_(this,qo,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const i=(r,s,a,o)=>{if(f(this,Vn).has(r.id)){const l=f(this,Ci).get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,qo))for(const i of f(this,qo).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,qt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Ms)===e}getActive(){return f(this,Ms)}getMode(){return f(this,pi)}isEditingMode(){return f(this,pi)!==ut.NONE}get imageManager(){return At(this,"imageManager",new LR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-r)/a,y:1-(u+h-i)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-i)/s,y:1-(d+g-r)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-r)/a,y:(u-i)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-i)/s,y:(d-r)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:b,height:C}of h.getClientRects())b===0||C===0||l.push(o(g,v,b,C))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,rm)||_(this,rm,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,rm))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=f(this,rm))==null?void 0:r.get(e.data.id);if(!t)return;const i=f(this,Ta).getRawValue(t);i&&(f(this,pi)===ut.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=f(this,Ec))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),f(this,Ec).delete(e))}addMissingCanvas(e,t){(f(this,Ec)||_(this,Ec,new Map)).set(e,t)}},tm=new WeakMap,Ms=new WeakMap,nm=new WeakMap,Vn=new WeakMap,Ci=new WeakMap,im=new WeakMap,Ta=new WeakMap,rm=new WeakMap,Ia=new WeakMap,Er=new WeakMap,mc=new WeakMap,vc=new WeakMap,sm=new WeakMap,yc=new WeakMap,qo=new WeakMap,Fa=new WeakMap,Uf=new WeakMap,ab=new WeakMap,ob=new WeakMap,am=new WeakMap,Ab=new WeakMap,$o=new WeakMap,wc=new WeakMap,om=new WeakMap,bc=new WeakMap,jo=new WeakMap,i1=new WeakMap,Cc=new WeakMap,Am=new WeakMap,lb=new WeakMap,Bc=new WeakMap,Mf=new WeakMap,lm=new WeakMap,Ec=new WeakMap,ub=new WeakMap,pi=new WeakMap,qt=new WeakMap,sl=new WeakMap,Sc=new WeakMap,xc=new WeakMap,cb=new WeakMap,um=new WeakMap,db=new WeakMap,_c=new WeakMap,Wo=new WeakMap,al=new WeakMap,fb=new WeakMap,hb=new WeakMap,Ua=new WeakMap,Te=new WeakSet,Rx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},kR=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of f(this,Ci).values())if(i.hasTextLayer(e))return i;return null},k6=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=U(this,Te,Rx).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(f(this,jo)||_(this,jo,new Fce(this)),f(this,jo).show(i,r,this.direction==="ltr"))},O6=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,sl)&&((s=f(this,jo))==null||s.hide(),_(this,sl,null),U(this,Te,Dr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,sl))return;const r=U(this,Te,Rx).call(this,e).closest(".textLayer");if(!r){f(this,sl)&&((a=f(this,jo))==null||a.hide(),_(this,sl,null),U(this,Te,Dr).call(this,{hasSelectedText:!1}));return}if((o=f(this,jo))==null||o.hide(),_(this,sl,t),U(this,Te,Dr).call(this,{hasSelectedText:!0}),!(f(this,pi)!==ut.HIGHLIGHT&&f(this,pi)!==ut.NONE)&&(f(this,pi)===ut.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,bc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,pi)===ut.HIGHLIGHT?U(this,Te,kR).call(this,r):null;if(l==null||l.toggleDrawing(),f(this,Am)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&U(this,Te,k0).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),U(this,Te,k0).call(this,"main_toolbar")}},k0=function(e=""){f(this,pi)===ut.HIGHLIGHT?this.highlightSelection(e):f(this,ab)&&U(this,Te,k6).call(this)},H6=function(){document.addEventListener("selectionchange",U(this,Te,O6).bind(this),{signal:this._signal})},V6=function(){if(f(this,wc))return;_(this,wc,new AbortController);const e=this.combinedSignal(f(this,wc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},K6=function(){var e;(e=f(this,wc))==null||e.abort(),_(this,wc,null)},OR=function(){if(f(this,Bc))return;_(this,Bc,new AbortController);const e=this.combinedSignal(f(this,Bc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},G6=function(){var e;(e=f(this,Bc))==null||e.abort(),_(this,Bc,null)},z6=function(){if(f(this,mc))return;_(this,mc,new AbortController);const e=this.combinedSignal(f(this,mc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},q6=function(){var e;(e=f(this,mc))==null||e.abort(),_(this,mc,null)},$6=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Dr=function(e){Object.entries(e).some(([i,r])=>f(this,db)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,db),e)}),f(this,pi)===ut.HIGHLIGHT&&e.hasSelectedEditor===!1&&U(this,Te,XA).call(this,[[It.HIGHLIGHT_FREE,!0]]))},XA=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},j6=async function(){if(!f(this,Cc)){_(this,Cc,!0);const e=[];for(const t of f(this,Ci).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,Vn).values())t.enable()}},W6=function(){if(this.unselectAll(),f(this,Cc)){_(this,Cc,!1);for(const e of f(this,Ci).values())e.disable();for(const e of f(this,Vn).values())e.disable()}},HR=function(e){const t=f(this,Ci).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Y6=function(){let e=null;for(e of f(this,qt));return e},O0=function(){if(f(this,Vn).size===0)return!0;if(f(this,Vn).size===1)for(const e of f(this,Vn).values())return e.isEmpty();return!1},VR=function(e){for(const t of f(this,qt))t.unselect();f(this,qt).clear();for(const t of e)t.isEmpty()||(f(this,qt).add(t),t.select());U(this,Te,Dr).call(this,{hasSelectedEditor:this.hasSelection})},me(Zl,"TRANSLATE_SMALL",1),me(Zl,"TRANSLATE_BIG",10),Zl);var ki,Yo,Ao,cm,Xo,Ps,dm,Jo,as,ol,Pf,Zo,Tc,xo,H0,Dx;const Nr=class Nr{constructor(e){F(this,xo);F(this,ki,null);F(this,Yo,!1);F(this,Ao,null);F(this,cm,null);F(this,Xo,null);F(this,Ps,null);F(this,dm,!1);F(this,Jo,null);F(this,as,null);F(this,ol,null);F(this,Pf,null);F(this,Zo,!1);_(this,as,e),_(this,Zo,e._uiManager.useNewAltTextFlow),f(Nr,Tc)||_(Nr,Tc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Nr._l10n??(Nr._l10n=e)}async render(){const e=_(this,Ao,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,cm,document.createElement("span"));e.append(t),f(this,Zo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(Nr,Tc).missing),t.setAttribute("data-l10n-id",f(Nr,Tc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=f(this,as)._uiManager._signal;e.addEventListener("contextmenu",Ya,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),f(this,as)._uiManager.editAltText(f(this,as)),f(this,Zo)&&f(this,as)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,xo,H0)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,dm,!0),r(s))},{signal:i}),await U(this,xo,Dx).call(this),e}finish(){f(this,Ao)&&(f(this,Ao).focus({focusVisible:f(this,dm)}),_(this,dm,!1))}isEmpty(){return f(this,Zo)?f(this,ki)===null:!f(this,ki)&&!f(this,Yo)}hasData(){return f(this,Zo)?f(this,ki)!==null||!!f(this,ol):this.isEmpty()}get guessedText(){return f(this,ol)}async setGuessedText(e){f(this,ki)===null&&(_(this,ol,e),_(this,Pf,await Nr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),U(this,xo,Dx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,Zo)||f(this,ki)){(t=f(this,Jo))==null||t.remove(),_(this,Jo,null);return}if(!f(this,Jo)){const i=_(this,Jo,document.createElement("div"));i.className="noAltTextBadge",f(this,as).div.append(i)}f(this,Jo).classList.toggle("hidden",!e)}serialize(e){let t=f(this,ki);return!e&&f(this,ol)===t&&(t=f(this,Pf)),{altText:t,decorative:f(this,Yo),guessedText:f(this,ol),textWithDisclaimer:f(this,Pf)}}get data(){return{altText:f(this,ki),decorative:f(this,Yo)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(_(this,ol,i),_(this,Pf,r)),!(f(this,ki)===e&&f(this,Yo)===t)&&(s||(_(this,ki,e),_(this,Yo,t)),U(this,xo,Dx).call(this))}toggle(e=!1){f(this,Ao)&&(!e&&f(this,Ps)&&(clearTimeout(f(this,Ps)),_(this,Ps,null)),f(this,Ao).disabled=!e)}shown(){f(this,as)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,xo,H0)}})}destroy(){var e,t;(e=f(this,Ao))==null||e.remove(),_(this,Ao,null),_(this,cm,null),_(this,Xo,null),(t=f(this,Jo))==null||t.remove(),_(this,Jo,null)}};ki=new WeakMap,Yo=new WeakMap,Ao=new WeakMap,cm=new WeakMap,Xo=new WeakMap,Ps=new WeakMap,dm=new WeakMap,Jo=new WeakMap,as=new WeakMap,ol=new WeakMap,Pf=new WeakMap,Zo=new WeakMap,Tc=new WeakMap,xo=new WeakSet,H0=function(){return f(this,ki)&&"added"||f(this,ki)===null&&this.guessedText&&"review"||"missing"},Dx=async function(){var r,s,a;const e=f(this,Ao);if(!e)return;if(f(this,Zo)){if(e.classList.toggle("done",!!f(this,ki)),e.setAttribute("data-l10n-id",f(Nr,Tc)[f(this,xo,H0)]),(r=f(this,cm))==null||r.setAttribute("data-l10n-id",f(Nr,Tc)[`${f(this,xo,H0)}-label`]),!f(this,ki)){(s=f(this,Xo))==null||s.remove();return}}else{if(!f(this,ki)&&!f(this,Yo)){e.classList.remove("done"),(a=f(this,Xo))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,Xo);if(!t){_(this,Xo,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,as).id}`;const o=100,l=f(this,as)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Ps)),_(this,Ps,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,Ps,setTimeout(()=>{_(this,Ps,null),f(this,Xo).classList.add("show"),f(this,as)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,Ps)&&(clearTimeout(f(this,Ps)),_(this,Ps,null)),(u=f(this,Xo))==null||u.classList.remove("show")},{signal:l})}f(this,Yo)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,ki)),t.parentNode||e.append(t);const i=f(this,as).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},F(Nr,Tc,null),me(Nr,"_l10n",null);let K_=Nr;var ir,Ma,Rf,wn,pb,Df,lo,Nf,Lf,Qf,gb,KR;class SS{constructor(e){F(this,gb);F(this,ir,null);F(this,Ma,null);F(this,Rf,!1);F(this,wn,null);F(this,pb,null);F(this,Df,null);F(this,lo,null);F(this,Nf,null);F(this,Lf,!1);F(this,Qf,null);_(this,wn,e)}renderForToolbar(){const e=_(this,Ma,document.createElement("button"));return e.className="comment",U(this,gb,KR).call(this,e,!1)}renderForStandalone(){const e=_(this,ir,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,wn).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(f(this,wn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=f(this,wn).commentButtonColor;r&&(i.backgroundColor=r)}return U(this,gb,KR).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,ir)??f(this,Ma))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,ir))return;const e=f(this,wn).commentButtonColor;e&&(f(this,ir).style.backgroundColor=e),f(this,wn)._uiManager.updatePopupColor(f(this,wn))}get commentButtonWidth(){var e;return(((e=f(this,ir))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,wn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,Qf))return f(this,Qf);if(!f(this,ir))return null;const{x:e,y:t,height:i}=f(this,ir).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,wn).parent.boundingClientRect;return[(e-r)/a,(t+i-s)/o]}set commentPopupPositionInLayer(e){_(this,Qf,e)}hasDefaultPopupPosition(){return f(this,Qf)===null}removeStandaloneCommentButton(){var e;(e=f(this,ir))==null||e.remove(),_(this,ir,null)}removeToolbarCommentButton(){var e;(e=f(this,Ma))==null||e.remove(),_(this,Ma,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,ir)&&(f(this,ir).classList.toggle("selected",e),f(this,ir).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=f(this,wn).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,wn);i=g+i*d,r=v+r*h}const s=f(this,wn).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,wn)._uiManager.editComment(f(this,wn),a+i*l,o+r*u,{...e,parentDimensions:s})}finish(){f(this,Ma)&&(f(this,Ma).focus({focusVisible:f(this,Rf)}),_(this,Rf,!1))}isDeleted(){return f(this,Lf)||f(this,lo)===""}isEmpty(){return f(this,lo)===null}hasBeenEdited(){return this.isDeleted()||f(this,lo)!==f(this,pb)}serialize(){return this.data}get data(){return{text:f(this,lo),richText:f(this,Df),date:f(this,Nf),deleted:this.isDeleted()}}set data(e){if(e!==f(this,lo)&&_(this,Df,null),e===null){_(this,lo,""),_(this,Lf,!0);return}_(this,lo,e),_(this,Nf,new Date),_(this,Lf,!1)}setInitialText(e,t=null){_(this,pb,e),this.data=e,_(this,Nf,null),_(this,Df,t)}shown(){}destroy(){var e,t;(e=f(this,Ma))==null||e.remove(),_(this,Ma,null),(t=f(this,ir))==null||t.remove(),_(this,ir,null),_(this,lo,""),_(this,Df,null),_(this,Nf,null),_(this,wn,null),_(this,Rf,!1),_(this,Lf,!1)}}ir=new WeakMap,Ma=new WeakMap,Rf=new WeakMap,wn=new WeakMap,pb=new WeakMap,Df=new WeakMap,lo=new WeakMap,Nf=new WeakMap,Lf=new WeakMap,Qf=new WeakMap,gb=new WeakSet,KR=function(e,t){if(!f(this,wn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,wn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=f(this,wn)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",Ya,{signal:i}),t&&(e.addEventListener("focusin",s=>{f(this,wn)._focusEventsAllowed=!1,Wn(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{f(this,wn)._focusEventsAllowed=!0,Wn(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===f(this,Ma)?this.edit():f(this,wn).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Rf,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{f(this,wn).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{f(this,wn).toggleComment(!1,!1)},{signal:i}),e};var fm,kf,mb,vb,yb,wb,bb,Al,Of,ll,Hf,ul,Nd,J6,Z6,ej,hm;let X6=(hm=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){F(this,Nd);F(this,fm);F(this,kf,!1);F(this,mb,null);F(this,vb);F(this,yb);F(this,wb);F(this,bb);F(this,Al,null);F(this,Of);F(this,ll,null);F(this,Hf);F(this,ul,null);_(this,fm,e),_(this,mb,i),_(this,vb,t),_(this,yb,r),_(this,wb,s),_(this,bb,a),_(this,Hf,new AbortController),_(this,Of,AbortSignal.any([o,f(this,Hf).signal])),e.addEventListener("touchstart",U(this,Nd,J6).bind(this),{passive:!1,signal:f(this,Of)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ap.pixelRatio}destroy(){var e,t;(e=f(this,Hf))==null||e.abort(),_(this,Hf,null),(t=f(this,Al))==null||t.abort(),_(this,Al,null)}},fm=new WeakMap,kf=new WeakMap,mb=new WeakMap,vb=new WeakMap,yb=new WeakMap,wb=new WeakMap,bb=new WeakMap,Al=new WeakMap,Of=new WeakMap,ll=new WeakMap,Hf=new WeakMap,ul=new WeakMap,Nd=new WeakSet,J6=function(e){var r,s,a;if((r=f(this,vb))!=null&&r.call(this))return;if(e.touches.length===1){if(f(this,Al))return;const o=_(this,Al,new AbortController),l=AbortSignal.any([f(this,Of),o.signal]),u=f(this,fm),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,Al))==null||v.abort(),_(this,Al,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(Wn(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,ul)){_(this,ul,new AbortController);const o=AbortSignal.any([f(this,Of),f(this,ul).signal]),l=f(this,fm),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",U(this,Nd,Z6).bind(this),u);const d=U(this,Nd,ej).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",Wn,u),l.addEventListener("pointermove",Wn,u),l.addEventListener("pointercancel",Wn,u),l.addEventListener("pointerup",Wn,u),(s=f(this,yb))==null||s.call(this)}if(Wn(e),e.touches.length!==2||(a=f(this,mb))!=null&&a.call(this)){_(this,ll,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),_(this,ll,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},Z6=function(e){var R;if(!f(this,ll)||e.touches.length!==2)return;Wn(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:a,screenY:o}=i,l=f(this,ll),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,b=g-d,C=a-r,E=o-s,x=Math.hypot(C,E)||1,I=Math.hypot(v,b)||1;if(!f(this,kf)&&Math.abs(I-x)<=hm.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,kf)){_(this,kf,!0);return}const T=[(r+a)/2,(s+o)/2];(R=f(this,wb))==null||R.call(this,T,I,x)},ej=function(e){var t;e.touches.length>=2||(f(this,ul)&&(f(this,ul).abort(),_(this,ul,null),(t=f(this,bb))==null||t.call(this)),f(this,ll)&&(Wn(e),_(this,ll,null),_(this,kf,!1)))},hm);var Vf,uo,Mn,cn,cl,pm,Ic,Cb,rr,Kf,dl,Pa,Fc,Bb,Gf,Rs,Eb,zf,fl,eA,gm,mm,Ra,qf,Sb,r1,nt,GR,xb,zR,Nx,tj,nj,qR,Lx,$R,ij,rj,sj,jR,aj,WR,oj,Aj,lj,YR,V0;const lt=class lt{constructor(e){F(this,nt);F(this,Vf,null);F(this,uo,null);F(this,Mn,null);F(this,cn,null);F(this,cl,null);F(this,pm,!1);F(this,Ic,null);F(this,Cb,"");F(this,rr,null);F(this,Kf,null);F(this,dl,null);F(this,Pa,null);F(this,Fc,null);F(this,Bb,"");F(this,Gf,!1);F(this,Rs,null);F(this,Eb,!1);F(this,zf,!1);F(this,fl,!1);F(this,eA,null);F(this,gm,0);F(this,mm,0);F(this,Ra,null);F(this,qf,null);me(this,"isSelected",!1);me(this,"_isCopy",!1);me(this,"_editToolbar",null);me(this,"_initialOptions",Object.create(null));me(this,"_initialData",null);me(this,"_isVisible",!0);me(this,"_uiManager",null);me(this,"_focusEventsAllowed",!0);F(this,Sb,!1);F(this,r1,lt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=lt.prototype._resizeWithKeyboard,t=Pw.TRANSLATE_SMALL,i=Pw.TRANSLATE_BIG;return At(this,"_resizerKeyboardManager",new DB([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],lt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return At(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Pce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(lt._l10n??(lt._l10n=e),lt._l10nResizer||(lt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),lt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);lt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){pn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Sb)}set _isDraggable(e){var t;_(this,Sb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,r1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(U(this,nt,V0).call(this),(t=f(this,Pa))==null||t.remove(),_(this,Pa,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,Gf)?_(this,Gf,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){U(this,nt,GR).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,Rs)||_(this,Rs,[this.x,this.y,this.width,this.height]),U(this,nt,GR).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,Rs)||_(this,Rs,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=i;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,Rs)&&(f(this,Rs)[0]!==this.x||f(this,Rs)[1]!==this.y)}get _hasBeenResized(){return!!f(this,Rs)&&(f(this,Rs)[2]!==this.width||f(this,Rs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=lt,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=i,l*=r,s*=i,a*=r,this._mustFixPosition)switch(e){case 0:s=Kr(s,0,i-o),a=Kr(a,0,r-l);break;case 90:s=Kr(s,0,i-l),a=Kr(a,o,r);break;case 180:s=Kr(s,o,i),a=Kr(a,l,r);break;case 270:s=Kr(s,l,i),a=Kr(a,0,r-o);break}this.x=s/=i,this.y=a/=r;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return U(i=lt,xb,zR).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return U(i=lt,xb,zR).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,Mn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,zf))return this._editToolbar;this._editToolbar=new DR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,Mn))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,Mn)||(K_.initialize(lt._l10n),_(this,Mn,new K_(this)),f(this,Vf)&&(f(this,Mn).data=f(this,Vf),_(this,Vf,null))),f(this,Mn)}get altTextData(){var e;return(e=f(this,Mn))==null?void 0:e.data}set altTextData(e){f(this,Mn)&&(f(this,Mn).data=e)}get guessedAltText(){var e;return(e=f(this,Mn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,Mn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,Mn))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,Mn)&&!f(this,Mn).isEmpty()}hasAltTextData(){var e;return((e=f(this,Mn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,cn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,cn)||_(this,cn,new SS(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,cl)){this._uiManager.isEditingMode()&&f(this,cl).classList.remove("hidden");return}this.hasComment&&(_(this,cl,f(this,cn).renderForStandalone()),this.div.append(f(this,cl)))}}removeStandaloneCommentButton(){f(this,cn).removeStandaloneCommentButton(),_(this,cl,null)}hideStandaloneCommentButton(){var e;(e=f(this,cl))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=f(this,cn);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,cn)||_(this,cn,new SS(this)),f(this,cn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(f(this,cn)||_(this,cn,new SS(this)),f(this,cn).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=f(this,cn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,cn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,cn)&&!f(this,cn).isEmpty()&&!f(this,cn).isDeleted()}async editComment(e){f(this,cn)||_(this,cn,new SS(this)),f(this,cn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,cn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=r-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,cn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,pm)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),U(this,nt,WR).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),L6(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,qf)||_(this,qf,new X6({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:U(this,nt,ij).bind(this),onPinching:U(this,nt,rj).bind(this),onPinchEnd:U(this,nt,sj).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=mr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,Gf,!0),this._isDraggable){U(this,nt,aj).call(this,e);return}U(this,nt,jR).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,eA)&&clearTimeout(f(this,eA)),_(this,eA,setTimeout(()=>{var e;_(this,eA,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/r,d=t/r,h=this.x*s,g=this.y*a,v=this.width*s,b=this.height*a;switch(i){case 0:return[h+u+o,a-g-d-b+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+b+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+b+l];case 270:return[h-d-b+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,a]=e,o=s-i,l=a-r;switch(this.rotation){case 0:return[i,t-a,o,l];case 90:return[i,t-r,l,o];case 180:return[s,t-r,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,cn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:i||d,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,zf,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,zf,!1),!0):!1}isInEditMode(){return f(this,zf)}shouldGetKeyboardEvents(){return f(this,fl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&r>0&&e<s&&i>0}rebuild(){U(this,nt,WR).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,_(r,Vf,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,a]=r.pageDimensions,[o,l,u,d]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=l/a,r.width=u/s,r.height=d/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,i;if((e=f(this,Fc))==null||e.abort(),_(this,Fc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,eA)&&(clearTimeout(f(this,eA)),_(this,eA,null)),U(this,nt,V0).call(this),this.removeEditToolbar(),f(this,Ra)){for(const r of f(this,Ra).values())clearTimeout(r);_(this,Ra,null)}this.parent=null,(t=f(this,qf))==null||t.destroy(),_(this,qf,null),(i=f(this,Pa))==null||i.remove(),_(this,Pa,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(U(this,nt,tj).call(this),f(this,rr).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,a]=this.getPDFRect();return[lt._round(i+(s-i)*e),lt._round(r+(a-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,cn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,cn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,cn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,cn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,cn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,dl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,rr).children;if(!f(this,uo)){_(this,uo,Array.from(t));const a=U(this,nt,oj).bind(this),o=U(this,nt,Aj).bind(this),l=this._uiManager._signal;for(const u of f(this,uo)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",U(this,nt,lj).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",lt._l10nResizer[d])}}const i=f(this,uo)[0];let r=0;for(const a of t){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,uo).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)f(this,rr).append(f(this,rr).firstElementChild);else if(s>r)for(let o=0;o<s-r;o++)f(this,rr).firstElementChild.before(f(this,rr).lastElementChild);let a=0;for(const o of t){const u=f(this,uo)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",lt._l10nResizer[u])}}U(this,nt,YR).call(this,0),_(this,fl,!0),f(this,rr).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,fl)&&U(this,nt,$R).call(this,f(this,Bb),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){U(this,nt,V0).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=f(this,Mn))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=f(this,rr))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=f(this,Mn))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,Eb)}set isEditing(e){_(this,Eb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,Ra)||_(this,Ra,new Map);const{action:i}=e;let r=f(this,Ra).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),f(this,Ra).delete(i),f(this,Ra).size===0&&_(this,Ra,null)},lt._telemetryTimeout),f(this,Ra).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,pm,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,pm,!0)}updateFakeAnnotationElement(e){if(!f(this,Pa)&&!this.deleted){_(this,Pa,e.addFakeAnnotation(this));return}if(this.deleted){f(this,Pa).remove(),_(this,Pa,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,Pa).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Vf=new WeakMap,uo=new WeakMap,Mn=new WeakMap,cn=new WeakMap,cl=new WeakMap,pm=new WeakMap,Ic=new WeakMap,Cb=new WeakMap,rr=new WeakMap,Kf=new WeakMap,dl=new WeakMap,Pa=new WeakMap,Fc=new WeakMap,Bb=new WeakMap,Gf=new WeakMap,Rs=new WeakMap,Eb=new WeakMap,zf=new WeakMap,fl=new WeakMap,eA=new WeakMap,gm=new WeakMap,mm=new WeakMap,Ra=new WeakMap,qf=new WeakMap,Sb=new WeakMap,r1=new WeakMap,nt=new WeakSet,GR=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},xb=new WeakSet,zR=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Nx=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},tj=function(){if(f(this,rr))return;_(this,rr,document.createElement("div")),f(this,rr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");f(this,rr).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",U(this,nt,nj).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Ya,{signal:t}),r.tabIndex=-1}this.div.prepend(f(this,rr))},nj=function(e,t){var d;t.preventDefault();const{isMac:i}=mr.platform;if(t.button!==0||t.ctrlKey&&i)return;(d=f(this,Mn))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,_(this,Kf,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",U(this,nt,$R).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Wn,{passive:!1,signal:a}),window.addEventListener("contextmenu",Ya,{signal:a}),_(this,dl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,Mn))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,U(this,nt,Lx).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},qR=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Lx=function(){if(!f(this,dl))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=f(this,dl);_(this,dl,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===i&&l===r||this.addCommands({cmd:U(this,nt,qR).bind(this,s,a,o,l),undo:U(this,nt,qR).bind(this,e,t,i,r),mustExec:!0})},$R=function(e,t){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=lt.MIN_SIZE/i,d=lt.MIN_SIZE/r,h=U(this,nt,Nx).call(this,this.rotation),g=(G,$)=>[h[0]*G+h[2]*$,h[1]*G+h[3]*$],v=U(this,nt,Nx).call(this,360-this.rotation),b=(G,$)=>[v[0]*G+v[2]*$,v[1]*G+v[3]*$];let C,E,x=!1,I=!1;switch(e){case"topLeft":x=!0,C=(G,$)=>[0,0],E=(G,$)=>[G,$];break;case"topMiddle":C=(G,$)=>[G/2,0],E=(G,$)=>[G/2,$];break;case"topRight":x=!0,C=(G,$)=>[G,0],E=(G,$)=>[0,$];break;case"middleRight":I=!0,C=(G,$)=>[G,$/2],E=(G,$)=>[0,$/2];break;case"bottomRight":x=!0,C=(G,$)=>[G,$],E=(G,$)=>[0,0];break;case"bottomMiddle":C=(G,$)=>[G/2,$],E=(G,$)=>[G/2,0];break;case"bottomLeft":x=!0,C=(G,$)=>[0,$],E=(G,$)=>[G,0];break;case"middleLeft":I=!0,C=(G,$)=>[0,$/2],E=(G,$)=>[G,$/2];break}const T=C(o,l),R=E(o,l);let P=g(...R);const D=lt._round(s+P[0]),L=lt._round(a+P[1]);let H=1,k=1,K,V;if(t.fromKeyboard)({deltaX:K,deltaY:V}=t);else{const{screenX:G,screenY:$}=t,[se,ae]=f(this,Kf);[K,V]=this.screenToPageTranslation(G-se,$-ae),f(this,Kf)[0]=G,f(this,Kf)[1]=$}if([K,V]=b(K/i,V/r),x){const G=Math.hypot(o,l);H=k=Math.max(Math.min(Math.hypot(R[0]-T[0]-K,R[1]-T[1]-V)/G,1/o,1/l),u/o,d/l)}else I?H=Kr(Math.abs(R[0]-T[0]-K),u,1)/o:k=Kr(Math.abs(R[1]-T[1]-V),d,1)/l;const q=lt._round(o*H),X=lt._round(l*k);P=g(...E(q,X));const ne=D-P[0],he=L-P[1];f(this,Rs)||_(this,Rs,[this.x,this.y,this.width,this.height]),this.width=q,this.height=X,this.x=ne,this.y=he,this.setDims(),this.fixAndSetPosition(),this._onResizing()},ij=function(){var e;_(this,dl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,Mn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},rj=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const a=U(this,nt,Nx).call(this,this.rotation),o=(D,L)=>[a[0]*D+a[2]*L,a[1]*D+a[3]*L],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,b=lt.MIN_SIZE/l,C=lt.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),b/g,C/v);const E=lt._round(g*s),x=lt._round(v*s);if(E===g&&x===v)return;f(this,Rs)||_(this,Rs,[d,h,g,v]);const I=o(g/2,v/2),T=lt._round(d+I[0]),R=lt._round(h+I[1]),P=o(E/2,x/2);this.x=T-P[0],this.y=R-P[1],this.width=E,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},sj=function(){var e;(e=f(this,Mn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),U(this,nt,Lx).call(this)},jR=function(e){const{isMac:t}=mr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},aj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=u=>{r.abort(),_(this,Ic,null),_(this,Gf,!1),this._uiManager.endDragSession()||U(this,nt,jR).call(this,u),i&&this._onStopDragging()};t&&(_(this,gm,e.clientX),_(this,mm,e.clientY),_(this,Ic,e.pointerId),_(this,Cb,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,Ic)){Wn(u);return}const[v,b]=this.screenToPageTranslation(d-f(this,gm),h-f(this,mm));_(this,gm,d),_(this,mm,h),this._uiManager.dragSelectedEditors(v,b)},a),window.addEventListener("touchmove",Wn,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,Cb)&&(f(this,qf)||u.isPrimary)&&o(u),Wn(u)},a));const l=u=>{if(!f(this,Ic)||f(this,Ic)===u.pointerId){o(u);return}Wn(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},WR=function(){if(f(this,Fc)||!this.div)return;_(this,Fc,new AbortController);const e=this._uiManager.combinedSignal(f(this,Fc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},oj=function(e){lt._resizerKeyboardManager.exec(this,e)},Aj=function(e){var t;f(this,fl)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,rr)&&U(this,nt,V0).call(this)},lj=function(e){_(this,Bb,f(this,fl)?e:"")},YR=function(e){if(f(this,uo))for(const t of f(this,uo))t.tabIndex=e},V0=function(){_(this,fl,!1),U(this,nt,YR).call(this,-1),U(this,nt,Lx).call(this)},F(lt,xb),me(lt,"_l10n",null),me(lt,"_l10nResizer",null),me(lt,"_borderLineWidth",-1),me(lt,"_colorManager",new QR),me(lt,"_zIndex",1),me(lt,"_telemetryTimeout",1e3);let Bn=lt;class Pce extends Bn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const mK=3285377520,wa=4294901760,Vo=65535;class uj{constructor(e){this.h1=e?e&4294967295:mK,this.h2=e?e&4294967295:mK}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let C=0,E=e.length;C<E;C++){const x=e.charCodeAt(C);x<=255?t[i++]=x:(t[i++]=x>>>8,t[i++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&Vo,b=g&Vo;for(let C=0;C<r;C++)C&1?(o=a[C],o=o*h&wa|o*v&Vo,o=o<<15|o>>>17,o=o*g&wa|o*b&Vo,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[C],l=l*h&wa|l*v&Vo,l=l<<15|l>>>17,l=l*g&wa|l*b&Vo,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*h&wa|o*v&Vo,o=o<<15|o>>>17,o=o*g&wa|o*b&Vo,r&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&wa|e*36045&Vo,t=t*4283543511&wa|((t<<16|e>>>16)*2950163797&wa)>>>16,e^=t>>>1,e=e*444984403&wa|e*60499&Vo,t=t*3301882366&wa|((t<<16|e>>>16)*3120437893&wa)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const XR=Object.freeze({map:null,hash:"",transfer:void 0});var $f,jf,hl,sr,s1,cj;class _Q{constructor(){F(this,s1);F(this,$f,!1);F(this,jf,null);F(this,hl,null);F(this,sr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=f(this,sr).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return f(this,sr).get(e)}remove(e){const t=f(this,sr).get(e);if(t!==void 0&&(t instanceof Bn&&f(this,hl).delete(t.annotationElementId),f(this,sr).delete(e),f(this,sr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of f(this,sr).values())if(i instanceof Bn)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=f(this,sr).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,f(this,sr).set(e,t);r&&U(this,s1,cj).call(this),t instanceof Bn&&((f(this,hl)||_(this,hl,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,sr).has(e)}get size(){return f(this,sr).size}resetModified(){f(this,$f)&&(_(this,$f,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new dj(this)}get serializable(){if(f(this,sr).size===0)return XR;const e=new Map,t=new uj,i=[],r=Object.create(null);let s=!1;for(const[a,o]of f(this,sr)){const l=o instanceof Bn?o.serialize(!1,r):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:XR}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of f(this,sr).values()){if(!(s instanceof Bn)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,jf,null)}updateEditor(e,t){var r;const i=(r=f(this,hl))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,hl))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,jf))return f(this,jf);const e=[];if(f(this,hl))for(const t of f(this,hl).values())t.serialize()&&e.push(t.annotationElementId);return _(this,jf,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,sr).entries()}}$f=new WeakMap,jf=new WeakMap,hl=new WeakMap,sr=new WeakMap,s1=new WeakSet,cj=function(){f(this,$f)||(_(this,$f,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var _b;class dj extends _Q{constructor(t){super();F(this,_b);const{map:i,hash:r,transfer:s}=t.serializable,a=structuredClone(i,s?{transfer:s}:null);_(this,_b,{map:a,hash:r,transfer:s})}get print(){pn("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,_b)}get modifiedIds(){return At(this,"modifiedIds",{ids:new Set,hash:""})}}_b=new WeakMap;var vm;class Rce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){F(this,vm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,vm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||f(this,vm).has(e.loadedName))){if(Ft(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=e,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,vm).add(r),i==null||i(e)}catch{ot(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}pn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ot(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return At(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return At(this,"isSyncFontLoadingSupported",Vr||mr.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ft(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return At(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(R,P){return R.charCodeAt(P)<<24|R.charCodeAt(P+1)<<16|R.charCodeAt(P+2)<<8|R.charCodeAt(P+3)&255}function r(R,P,D,L){const H=R.substring(0,P),k=R.substring(P+D);return H+L+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(R,P){if(++u>30){ot("Load test font never loaded."),P();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(d.bind(null,R,P))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,h.length,h);const b=16,C=1482184792;let E=i(g,b);for(s=0,a=h.length-3;s<a;s+=4)E=E-C+i(h,s)|0;s<h.length&&(E=E-C+i(h+"XXX",s)|0),g=r(g,b,4,hce(E));const x=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,h]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=R,T.append(P)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}vm=new WeakMap;var nn;class Dce{constructor(e,t=null,i,r){F(this,nn);this.compiledGlyphs=Object.create(null),_(this,nn,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${T6(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(a){ot(`getPathGenerator - ignoring character: "${a}".`)}const s=U6(r);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return f(this,nn).black}get bold(){return f(this,nn).bold}get disableFontFace(){return f(this,nn).disableFontFace??!1}set disableFontFace(e){At(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,nn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,nn).isInvalidPDFjsFont}get isType3Font(){return f(this,nn).isType3Font}get italic(){return f(this,nn).italic}get missingFile(){return f(this,nn).missingFile}get remeasure(){return f(this,nn).remeasure}get vertical(){return f(this,nn).vertical}get ascent(){return f(this,nn).ascent}get defaultWidth(){return f(this,nn).defaultWidth}get descent(){return f(this,nn).descent}get bbox(){return f(this,nn).bbox}set bbox(e){At(this,"bbox",e)}get fontMatrix(){return f(this,nn).fontMatrix}get fallbackName(){return f(this,nn).fallbackName}get loadedName(){return f(this,nn).loadedName}get mimetype(){return f(this,nn).mimetype}get name(){return f(this,nn).name}get data(){return f(this,nn).data}clearData(){f(this,nn).clearData()}get cssFontInfo(){return f(this,nn).cssFontInfo}get systemFontInfo(){return f(this,nn).systemFontInfo}get defaultVMetrics(){return f(this,nn).defaultVMetrics}}nn=new WeakMap;var ym,wm,Tb,bm,Qx;const Lg=class Lg{constructor(e){F(this,bm);F(this,ym);F(this,wm);F(this,Tb);_(this,ym,e),_(this,wm,new DataView(f(this,ym))),_(this,Tb,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const u of Lg.strings){const d=t.encode(e[u]);i[u]=d,r+=4+d.length}const s=new ArrayBuffer(r),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of Lg.strings){const d=i[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Ft(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return U(this,bm,Qx).call(this,0)}get fontWeight(){return U(this,bm,Qx).call(this,1)}get italicAngle(){return U(this,bm,Qx).call(this,2)}};ym=new WeakMap,wm=new WeakMap,Tb=new WeakMap,bm=new WeakSet,Qx=function(e){Ft(e<Lg.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=f(this,wm).getUint32(t)+4;const i=f(this,wm).getUint32(t);return f(this,Tb).decode(new Uint8Array(f(this,ym),t+4,i))},me(Lg,"strings",["fontFamily","fontWeight","italicAngle"]);let G_=Lg;var Uc,tA,Wf,Yf,K0;const Qg=class Qg{constructor(e){F(this,Yf);F(this,Uc);F(this,tA);F(this,Wf);_(this,Uc,e),_(this,tA,new DataView(f(this,Uc))),_(this,Wf,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const g of Qg.strings){const v=t.encode(e[g]);i[g]=v,r+=4+v.length}r+=4;let s,a,o=1+r;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,r=0;for(const g of Qg.strings){const v=i[g],b=v.length;r+=4+b,d.setUint32(h,b),u.set(v,h+4),h+=4+b}return d.setUint32(h-r-4,r),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),Ft(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,tA).getUint8(0)!==0}get css(){return U(this,Yf,K0).call(this,0)}get loadedName(){return U(this,Yf,K0).call(this,1)}get baseFontName(){return U(this,Yf,K0).call(this,2)}get src(){return U(this,Yf,K0).call(this,3)}get style(){let e=1;e+=4+f(this,tA).getUint32(e);const t=f(this,tA).getUint32(e),i=f(this,Wf).decode(new Uint8Array(f(this,Uc),e+4,t));e+=4+t;const r=f(this,tA).getUint32(e),s=f(this,Wf).decode(new Uint8Array(f(this,Uc),e+4,r));return{style:i,weight:s}}};Uc=new WeakMap,tA=new WeakMap,Wf=new WeakMap,Yf=new WeakSet,K0=function(e){Ft(e<Qg.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=f(this,tA).getUint32(t)+4;const i=f(this,tA).getUint32(t);return f(this,Wf).decode(new Uint8Array(f(this,Uc),t+4,i))},me(Qg,"strings",["css","loadedName","baseFontName","src"]);let z_=Qg;var Cm,Bm,Em,Sm,Ds,nA,Ib,rn,jn,ao,kx,G0;const dt=class dt{constructor({data:e,extra:t}){F(this,jn);F(this,nA);F(this,Ib);F(this,rn);_(this,nA,e),_(this,Ib,new TextDecoder),_(this,rn,new DataView(f(this,nA))),t&&Object.assign(this,t)}get black(){return U(this,jn,ao).call(this,0)}get bold(){return U(this,jn,ao).call(this,1)}get disableFontFace(){return U(this,jn,ao).call(this,2)}get fontExtraProperties(){return U(this,jn,ao).call(this,3)}get isInvalidPDFjsFont(){return U(this,jn,ao).call(this,4)}get isType3Font(){return U(this,jn,ao).call(this,5)}get italic(){return U(this,jn,ao).call(this,6)}get missingFile(){return U(this,jn,ao).call(this,7)}get remeasure(){return U(this,jn,ao).call(this,8)}get vertical(){return U(this,jn,ao).call(this,9)}get ascent(){return U(this,jn,kx).call(this,0)}get defaultWidth(){return U(this,jn,kx).call(this,1)}get descent(){return U(this,jn,kx).call(this,2)}get bbox(){let e=f(dt,Bm);if(f(this,rn).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(f(this,rn).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=f(dt,Em);if(f(this,rn).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(f(this,rn).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=f(dt,Sm);if(f(this,rn).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(f(this,rn).getInt16(e,!0)),e+=2;return i}get fallbackName(){return U(this,jn,G0).call(this,0)}get loadedName(){return U(this,jn,G0).call(this,1)}get mimetype(){return U(this,jn,G0).call(this,2)}get name(){return U(this,jn,G0).call(this,3)}get data(){let e=f(dt,Ds);const t=f(this,rn).getUint32(e);e+=4+t;const i=f(this,rn).getUint32(e);e+=4+i;const r=f(this,rn).getUint32(e);e+=4+r;const s=f(this,rn).getUint32(e);if(s!==0)return new Uint8Array(f(this,nA),e+4,s)}clearData(){let e=f(dt,Ds);const t=f(this,rn).getUint32(e);e+=4+t;const i=f(this,rn).getUint32(e);e+=4+i;const r=f(this,rn).getUint32(e);e+=4+r;const s=f(this,rn).getUint32(e);new Uint8Array(f(this,nA),e+4,s).fill(0),f(this,rn).setUint32(e,0)}get cssFontInfo(){let e=f(dt,Ds);const t=f(this,rn).getUint32(e);e+=4+t;const i=f(this,rn).getUint32(e);e+=4+i;const r=f(this,rn).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(f(this,nA),e+4,r)),new G_(s.buffer)}get systemFontInfo(){let e=f(dt,Ds);const t=f(this,rn).getUint32(e);e+=4+t;const i=f(this,rn).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(f(this,nA),e+4,i)),new z_(r.buffer)}static write(e){const t=e.systemFontInfo?z_.write(e.systemFontInfo):null,i=e.cssFontInfo?G_.write(e.cssFontInfo):null,r=new TextEncoder,s={};let a=0;for(const C of dt.strings)s[C]=r.encode(e[C]),a+=4+s[C].length;const o=f(dt,Ds)+4+a+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=dt.bools.length;let v=0,b=0;for(let C=0;C<g;C++){const E=e[dt.bools[C]];v|=(E===void 0?0:E?2:1)<<b,b+=2,(b===8||C===g-1)&&(d.setUint8(h++,v),v=0,b=0)}Ft(h===f(dt,Cm),"FontInfo.write: Boolean properties offset mismatch");for(const C of dt.numbers)d.setFloat64(h,e[C]),h+=8;if(Ft(h===f(dt,Bm),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const C of e.bbox)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Ft(h===f(dt,Em),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const C of e.fontMatrix)d.setFloat64(h,C,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Ft(h===f(dt,Sm),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const C of e.defaultVMetrics)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=6;Ft(h===f(dt,Ds),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(dt,Ds),0),h+=4;for(const C of dt.strings){const E=s[C],x=E.length;d.setUint32(h,x),u.set(E,h+4),h+=4+x}if(d.setUint32(f(dt,Ds),h-f(dt,Ds)-4),!t)d.setUint32(h,0),h+=4;else{const C=t.byteLength;d.setUint32(h,C),Ft(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+C}if(!i)d.setUint32(h,0),h+=4;else{const C=i.byteLength;d.setUint32(h,C),Ft(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(i),h+4),h+=4+C}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Ft(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};Cm=new WeakMap,Bm=new WeakMap,Em=new WeakMap,Sm=new WeakMap,Ds=new WeakMap,nA=new WeakMap,Ib=new WeakMap,rn=new WeakMap,jn=new WeakSet,ao=function(e){Ft(e<dt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=f(this,rn).getUint8(t)>>i&3;return r===0?void 0:r===2},kx=function(e){return Ft(e<dt.numbers.length,"Invalid number index"),f(this,rn).getFloat64(f(dt,Cm)+e*8)},G0=function(e){Ft(e<dt.strings.length,"Invalid string index");let t=f(dt,Ds)+4;for(let s=0;s<e;s++)t+=f(this,rn).getUint32(t)+4;const i=f(this,rn).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(f(this,nA),t+4,i)),f(this,Ib).decode(r)},me(dt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),me(dt,"numbers",["ascent","defaultWidth","descent"]),me(dt,"strings",["fallbackName","loadedName","mimetype","name"]),F(dt,Cm,Math.ceil(dt.bools.length*2/8)),F(dt,Bm,f(dt,Cm)+dt.numbers.length*8),F(dt,Em,f(dt,Bm)+1+8),F(dt,Sm,f(dt,Em)+1+48),F(dt,Ds,f(dt,Sm)+1+6);let JR=dt;var Fb,Ub,Mb,Pb,Rb,Db,Nb,Lb;const yn=class yn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],a=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],r=e[2],s=e[3],o=e[4]||[],i=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(r.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let b=0;for(const P of o)b+=1,b=Math.ceil(b/4)*4,b+=4+P.coords.length*4,b+=4+P.colors.length*4,P.verticesPerRow!==void 0&&(b+=4);const C=20+d*8+h*3+g*8+(i?16:0)+(u?3:0)+b,E=new ArrayBuffer(C),x=new DataView(E),I=new Uint8Array(E);x.setUint8(f(yn,Fb),t),x.setUint8(f(yn,Ub),i?1:0),x.setUint8(f(yn,Mb),u?1:0),x.setUint8(f(yn,Pb),l),x.setUint32(f(yn,Rb),d,!0),x.setUint32(f(yn,Db),h,!0),x.setUint32(f(yn,Nb),g,!0),x.setUint32(f(yn,Lb),v,!0);let T=20;new Float32Array(E,T,d*2).set(r),T+=d*8,I.set(s,T),T+=h*3;for(const[P,D]of a)x.setFloat32(T,P,!0),T+=4,x.setUint32(T,parseInt(D.slice(1),16),!0),T+=4;if(i)for(const P of i)x.setFloat32(T,P,!0),T+=4;u&&(I.set(u,T),T+=3);for(let P=0;P<o.length;P++){const D=o[P];x.setUint8(T,D.type),T+=1,T=Math.ceil(T/4)*4,x.setUint32(T,D.coords.length,!0),T+=4,new Int32Array(E,T,D.coords.length).set(D.coords),T+=D.coords.length*4,x.setUint32(T,D.colors.length,!0),T+=4,new Int32Array(E,T,D.colors.length).set(D.colors),T+=D.colors.length*4,D.verticesPerRow!==void 0&&(x.setUint32(T,D.verticesPerRow,!0),T+=4)}return E}getIR(){const e=this.view,t=this.data[f(yn,Fb)],i=!!this.data[f(yn,Ub)],r=!!this.data[f(yn,Mb)],s=e.getUint32(f(yn,Rb),!0),a=e.getUint32(f(yn,Db),!0),o=e.getUint32(f(yn,Nb),!0),l=e.getUint32(f(yn,Lb),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let E=0;E<o;++E){const x=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([x,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(i){v=[];for(let E=0;E<4;++E)v.push(e.getFloat32(u,!0)),u+=4}let b=null;r&&(b=new Uint8Array(this.buffer,u,3),u+=3);const C=[];for(let E=0;E<l;++E){const x=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const R=e.getUint32(u,!0);u+=4;const P=new Int32Array(this.buffer,u,R);u+=R*4;const D={type:x,coords:T,colors:P};x===TR.LATTICE&&(D.verticesPerRow=e.getUint32(u,!0),u+=4),C.push(D)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const E=this.data[f(yn,Pb)];let x=null;if(d.length>0){let I=d[0],T=d[0],R=d[1],P=d[1];for(let D=0;D<d.length;D+=2){const L=d[D],H=d[D+1];I=I>L?L:I,R=R>H?H:R,T=T<L?L:T,P=P<H?H:P}x=[I,R,T,P]}return["Mesh",E,d,h,C,x,v,b]}throw new Error(`Unsupported pattern kind: ${t}`)}};Fb=new WeakMap,Ub=new WeakMap,Mb=new WeakMap,Pb=new WeakMap,Rb=new WeakMap,Db=new WeakMap,Nb=new WeakMap,Lb=new WeakMap,F(yn,Fb,0),F(yn,Ub,1),F(yn,Mb,2),F(yn,Pb,3),F(yn,Rb,4),F(yn,Db,8),F(yn,Nb,12),F(yn,Lb,16);let ZR=yn;function Nce(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Vr)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Lce(n){if(Vr&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return UB(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function xS(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const eD=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Qce=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",kce=yce.bind(null,eD,Qce);var pl,a1;class Oce{constructor(){F(this,pl,new Map);F(this,a1,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};f(this,a1).then(()=>{for(const[r]of f(this,pl))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){ot("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,pl).set(t,r)}removeEventListener(e,t){const i=f(this,pl).get(t);i==null||i(),f(this,pl).delete(t)}terminate(){for(const[,e]of f(this,pl))e==null||e();f(this,pl).clear()}}pl=new WeakMap,a1=new WeakMap;const _S={DATA:1,ERROR:2},fi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function vK(){}function rs(n){if(n instanceof Fd||n instanceof IR||n instanceof uK||n instanceof V_||n instanceof YU)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||pn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Fd(n.message);case"InvalidPDFException":return new IR(n.message);case"PasswordException":return new uK(n.message,n.code);case"ResponseException":return new V_(n.message,n.status,n.missing);case"UnknownErrorException":return new YU(n.message,n.details)}return new YU(n.message,n.toString())}var xm,ja,fj,hj,pj,Ox;class z0{constructor(e,t,i){F(this,ja);F(this,xm,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",U(this,ja,fj).bind(this),{signal:f(this,xm).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:fi.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Ft(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:fi.CANCEL,streamId:s,reason:rs(u)}),d.promise}},i)}destroy(){var e;(e=f(this,xm))==null||e.abort(),_(this,xm,null)}}xm=new WeakMap,ja=new WeakSet,fj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){U(this,ja,pj).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===_S.DATA)r.resolve(e.data);else if(e.callback===_S.ERROR)r.reject(rs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:_S.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:_S.ERROR,callbackId:e.callbackId,reason:rs(a)})});return}if(e.streamId){U(this,ja,hj).call(this,e);return}t(e.data)},hj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:fi.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:fi.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Ft(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:fi.ERROR,streamId:t,reason:rs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:fi.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:fi.START_COMPLETE,streamId:t,reason:rs(u)})})},pj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case fi.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(rs(e.reason));break;case fi.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(rs(e.reason));break;case fi.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:fi.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||vK).then(function(){s.postMessage({sourceName:i,targetName:r,stream:fi.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:fi.PULL_COMPLETE,streamId:t,reason:rs(u)})});break;case fi.ENQUEUE:if(Ft(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case fi.CLOSE:if(Ft(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),U(this,ja,Ox).call(this,a,t);break;case fi.ERROR:Ft(a,"error should have stream controller"),a.controller.error(rs(e.reason)),U(this,ja,Ox).call(this,a,t);break;case fi.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(rs(e.reason)),U(this,ja,Ox).call(this,a,t);break;case fi.CANCEL:if(!o)break;const l=rs(e.reason);Promise.try(o.onCancel||vK,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:fi.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:fi.CANCEL_COMPLETE,streamId:t,reason:rs(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Ox=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Qb;class gj{constructor({enableHWA:e=!1}){F(this,Qb,!1);_(this,Qb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!f(this,Qb)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){pn("Abstract method `_createCanvas` called.")}}Qb=new WeakMap;class Hce extends gj{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class mj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){pn("Abstract method `_fetch` called.")}}class yK extends mj{async _fetch(e){const t=await MB(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):UB(t)}}class vj{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var Xf,_m,gl,ml,Sr,Jf,Zf,Ne,br,q0,yg,Hx,wg,yj,tD,bg,$0,j0,nD,W0;class Vce extends vj{constructor({docId:t,ownerDocument:i=globalThis.document}){super();F(this,Ne);F(this,Xf);F(this,_m);F(this,gl);F(this,ml);F(this,Sr);F(this,Jf);F(this,Zf,0);_(this,ml,t),_(this,Sr,i)}addFilter(t){if(!t)return"none";let i=f(this,Ne,br).get(t);if(i)return i;const[r,s,a]=U(this,Ne,Hx).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(i=f(this,Ne,br).get(o),i)return f(this,Ne,br).set(t,i),i;const l=`g_${f(this,ml)}_transfer_map_${Zn(this,Zf)._++}`,u=U(this,Ne,wg).call(this,l);f(this,Ne,br).set(t,u),f(this,Ne,br).set(o,u);const d=U(this,Ne,bg).call(this,l);return U(this,Ne,j0).call(this,r,s,a,d),u}addHCMFilter(t,i){var b;const r=`${t}-${i}`,s="base";let a=f(this,Ne,q0).get(s);if((a==null?void 0:a.key)===r||(a?((b=a.filter)==null||b.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},f(this,Ne,q0).set(s,a)),!t||!i))return a.url;const o=U(this,Ne,W0).call(this,t);t=He.makeHexColor(...o);const l=U(this,Ne,W0).call(this,i);if(i=He.makeHexColor(...l),f(this,Ne,yg).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const u=new Array(256);for(let C=0;C<=255;C++){const E=C/255;u[C]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,ml)}_hcm_filter`,g=a.filter=U(this,Ne,bg).call(this,h);U(this,Ne,j0).call(this,d,d,d,g),U(this,Ne,tD).call(this,g);const v=(C,E)=>{const x=o[C]/255,I=l[C]/255,T=new Array(E+1);for(let R=0;R<=E;R++)T[R]=x+R/E*(I-x);return T.join(",")};return U(this,Ne,j0).call(this,v(0,5),v(1,5),v(2,5),g),a.url=U(this,Ne,wg).call(this,h),a.url}addAlphaFilter(t){let i=f(this,Ne,br).get(t);if(i)return i;const[r]=U(this,Ne,Hx).call(this,[t]),s=`alpha_${r}`;if(i=f(this,Ne,br).get(s),i)return f(this,Ne,br).set(t,i),i;const a=`g_${f(this,ml)}_alpha_map_${Zn(this,Zf)._++}`,o=U(this,Ne,wg).call(this,a);f(this,Ne,br).set(t,o),f(this,Ne,br).set(s,o);const l=U(this,Ne,bg).call(this,a);return U(this,Ne,nD).call(this,r,l),o}addLuminosityFilter(t){let i=f(this,Ne,br).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=U(this,Ne,Hx).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=f(this,Ne,br).get(s),i)return f(this,Ne,br).set(t,i),i;const a=`g_${f(this,ml)}_luminosity_map_${Zn(this,Zf)._++}`,o=U(this,Ne,wg).call(this,a);f(this,Ne,br).set(t,o),f(this,Ne,br).set(s,o);const l=U(this,Ne,bg).call(this,a);return U(this,Ne,yj).call(this,l),t&&U(this,Ne,nD).call(this,r,l),o}addHighlightHCMFilter(t,i,r,s,a){var I;const o=`${i}-${r}-${s}-${a}`;let l=f(this,Ne,q0).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,Ne,q0).set(t,l)),!i||!r))return l.url;const[u,d]=[i,r].map(U(this,Ne,W0).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,b]=[s,a].map(U(this,Ne,W0).bind(this));g<h&&([h,g,v,b]=[g,h,b,v]),f(this,Ne,yg).style.color="";const C=(T,R,P)=>{const D=new Array(256),L=(g-h)/P,H=T/255,k=(R-T)/(255*P);let K=0;for(let V=0;V<=P;V++){const q=Math.round(h+V*L),X=H+V*k;for(let ne=K;ne<=q;ne++)D[ne]=X;K=q+1}for(let V=K;V<256;V++)D[V]=D[K-1];return D.join(",")},E=`g_${f(this,ml)}_hcm_${t}_filter`,x=l.filter=U(this,Ne,bg).call(this,E);return U(this,Ne,tD).call(this,x),U(this,Ne,j0).call(this,C(v[0],b[0],5),C(v[1],b[1],5),C(v[2],b[2],5),x),l.url=U(this,Ne,wg).call(this,E),l.url}destroy(t=!1){var i,r,s,a;t&&((i=f(this,Jf))!=null&&i.size)||((r=f(this,gl))==null||r.parentNode.parentNode.remove(),_(this,gl,null),(s=f(this,_m))==null||s.clear(),_(this,_m,null),(a=f(this,Jf))==null||a.clear(),_(this,Jf,null),_(this,Zf,0))}}Xf=new WeakMap,_m=new WeakMap,gl=new WeakMap,ml=new WeakMap,Sr=new WeakMap,Jf=new WeakMap,Zf=new WeakMap,Ne=new WeakSet,br=function(){return f(this,_m)||_(this,_m,new Map)},q0=function(){return f(this,Jf)||_(this,Jf,new Map)},yg=function(){if(!f(this,gl)){const t=f(this,Sr).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=f(this,Sr).createElementNS(YA,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,gl,f(this,Sr).createElementNS(YA,"defs")),t.append(r),r.append(f(this,gl)),f(this,Sr).body.append(t)}return f(this,gl)},Hx=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[i,r,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=i[u]/255,o[u]=r[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},wg=function(t){if(f(this,Xf)===void 0){_(this,Xf,"");const i=f(this,Sr).URL;i!==f(this,Sr).baseURI&&(U1(i)?ot('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,Xf,S6(i,"")))}return`url(${f(this,Xf)}#${t})`},yj=function(t){const i=f(this,Sr).createElementNS(YA,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},tD=function(t){const i=f(this,Sr).createElementNS(YA,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},bg=function(t){const i=f(this,Sr).createElementNS(YA,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),f(this,Ne,yg).append(i),i},$0=function(t,i,r){const s=f(this,Sr).createElementNS(YA,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},j0=function(t,i,r,s){const a=f(this,Sr).createElementNS(YA,"feComponentTransfer");s.append(a),U(this,Ne,$0).call(this,a,"feFuncR",t),U(this,Ne,$0).call(this,a,"feFuncG",i),U(this,Ne,$0).call(this,a,"feFuncB",r)},nD=function(t,i){const r=f(this,Sr).createElementNS(YA,"feComponentTransfer");i.append(r),U(this,Ne,$0).call(this,r,"feFuncA",t)},W0=function(t){return f(this,Ne,yg).style.color=t,RB(getComputedStyle(f(this,Ne,yg)).getPropertyValue("color"))};class wj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){pn("Abstract method `_fetch` called.")}}class wK extends wj{async _fetch(e){const t=await MB(e,"arraybuffer");return new Uint8Array(t)}}class bj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){pn("Abstract method `_fetch` called.")}}class bK extends bj{async _fetch(e){const t=await MB(e,"arraybuffer");return new Uint8Array(t)}}Vr&&ot("Please use the `legacy` build in Node.js environments.");async function TQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class Kce extends vj{}class Gce extends gj{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class zce extends mj{async _fetch(e){return TQ(e)}}class qce extends wj{async _fetch(e){return TQ(e)}}class $ce extends bj{async _fetch(e){return TQ(e)}}const ag="__forcedDependency",{floor:CK,ceil:BK}=Math;function TS(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const iD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Tm,Mc;class jce{constructor(e,t){F(this,Tm);F(this,Mc);_(this,Tm,e),_(this,Mc,t)}get length(){return f(this,Tm).length}isEmpty(e){return f(this,Tm)[e]===iD}minX(e){return f(this,Mc)[e*4+0]/256}minY(e){return f(this,Mc)[e*4+1]/256}maxX(e){return(f(this,Mc)[e*4+2]+1)/256}maxY(e){return(f(this,Mc)[e*4+3]+1)/256}}Tm=new WeakMap,Mc=new WeakMap;const IS=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var os,As,eh,co,th,vl,$t,sn,yl,ls,kb,Im,nh,ih,wl,xr,iA,Ob,rD;class Wce{constructor(e,t,i=!1){F(this,Ob);F(this,os,{__proto__:null});F(this,As,{__proto__:null,transform:[],moveText:[],sameLineText:[],[ag]:[]});F(this,eh,new Map);F(this,co,[]);F(this,th,[]);F(this,vl,[[1,0,0,1,0,0]]);F(this,$t,[-1/0,-1/0,1/0,1/0]);F(this,sn,new Float64Array([1/0,1/0,-1/0,-1/0]));F(this,yl,-1);F(this,ls,new Set);F(this,kb,new Map);F(this,Im,new Map);F(this,nh);F(this,ih);F(this,wl);F(this,xr);F(this,iA);_(this,nh,e.width),_(this,ih,e.height),U(this,Ob,rD).call(this,t),i&&_(this,iA,new Map)}growOperationsCount(e){e>=f(this,xr).length&&U(this,Ob,rD).call(this,e,f(this,xr))}save(e){return _(this,os,{__proto__:f(this,os)}),_(this,As,{__proto__:f(this,As),transform:{__proto__:f(this,As).transform},moveText:{__proto__:f(this,As).moveText},sameLineText:{__proto__:f(this,As).sameLineText},[ag]:{__proto__:f(this,As)[ag]}}),_(this,$t,{__proto__:f(this,$t)}),f(this,co).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(f(this,os));if(t===null)return this;_(this,os,t),_(this,As,Object.getPrototypeOf(f(this,As))),_(this,$t,Object.getPrototypeOf(f(this,$t)));const i=f(this,co).pop();return i!==void 0&&((r=IS(f(this,iA),e))==null||r.dependencies.add(i),f(this,xr)[e]=f(this,xr)[i]),this}recordOpenMarker(e){return f(this,co).push(e),this}getOpenMarker(){return f(this,co).length===0?null:f(this,co).at(-1)}recordCloseMarker(e){var i;const t=f(this,co).pop();return t!==void 0&&((i=IS(f(this,iA),e))==null||i.dependencies.add(t),f(this,xr)[e]=f(this,xr)[t]),this}beginMarkedContent(e){return f(this,th).push(e),this}endMarkedContent(e){var i;const t=f(this,th).pop();return t!==void 0&&((i=IS(f(this,iA),e))==null||i.dependencies.add(t),f(this,xr)[e]=f(this,xr)[t]),this}pushBaseTransform(e){return f(this,vl).push(He.multiplyByDOMMatrix(f(this,vl).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,vl).length>1&&f(this,vl).pop(),this}recordSimpleData(e,t){return f(this,os)[e]=t,this}recordIncrementalData(e,t){return f(this,As)[e].push(t),this}resetIncrementalData(e,t){return f(this,As)[e].length=0,this}recordNamedData(e,t){return f(this,eh).set(e,t),this}recordSimpleDataFromNamed(e,t,i){f(this,os)[e]=f(this,eh).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(ag,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,os)&&this.recordFutureForcedDependency(t,f(this,os)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,ls))this.recordFutureForcedDependency(ag,e);return this}resetBBox(e){return f(this,yl)!==e&&(_(this,yl,e),f(this,sn)[0]=1/0,f(this,sn)[1]=1/0,f(this,sn)[2]=-1/0,f(this,sn)[3]=-1/0),this}recordClipBox(e,t,i,r,s,a){const o=He.multiplyByDOMMatrix(f(this,vl).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];He.axialAlignedBoundingBox([i,s,r,a],o,l);const u=He.intersect(f(this,$t),l);return u?(f(this,$t)[0]=u[0],f(this,$t)[1]=u[1],f(this,$t)[2]=u[2],f(this,$t)[3]=u[3]):(f(this,$t)[0]=f(this,$t)[1]=1/0,f(this,$t)[2]=f(this,$t)[3]=-1/0),this}recordBBox(e,t,i,r,s,a){const o=f(this,$t);if(o[0]===1/0)return this;const l=He.multiplyByDOMMatrix(f(this,vl).at(-1),t.getTransform());if(o[0]===-1/0)return He.axialAlignedBoundingBox([i,s,r,a],l,f(this,sn)),this;const u=[1/0,1/0,-1/0,-1/0];return He.axialAlignedBoundingBox([i,s,r,a],l,u),f(this,sn)[0]=Math.min(f(this,sn)[0],Math.max(u[0],o[0])),f(this,sn)[1]=Math.min(f(this,sn)[1],Math.max(u[1],o[1])),f(this,sn)[2]=Math.max(f(this,sn)[2],Math.min(u[2],o[2])),f(this,sn)[3]=Math.max(f(this,sn)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,a=0,o){const l=i.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,Im).get(i),u!==!1&&(d=[0,0,0,0],He.axialAlignedBoundingBox(l,i.fontMatrix,d),(r!==1||s!==0||a!==0)&&He.scaleMinMax([r,0,0,-r,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,Im).set(i,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,sn)[0]=Math.max(0,f(this,$t)[0]),f(this,sn)[1]=Math.max(0,f(this,$t)[1]),f(this,sn)[2]=Math.min(f(this,nh),f(this,$t)[2]),f(this,sn)[3]=Math.min(f(this,ih),f(this,$t)[3]),this}getSimpleIndex(e){return f(this,os)[e]}recordDependencies(e,t){const i=f(this,ls),r=f(this,os),s=f(this,As);for(const a of t)a in f(this,os)?i.add(r[a]):a in s&&s[a].forEach(i.add,i);return this}recordNamedDependency(e,t){return f(this,eh).has(t)&&f(this,ls).add(f(this,eh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[ag]),f(this,iA)){const i=IS(f(this,iA),e),{dependencies:r}=i;f(this,ls).forEach(r.add,r),f(this,co).forEach(r.add,r),f(this,th).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(f(this,yl)===e){const i=CK(f(this,sn)[0]*256/f(this,nh)),r=CK(f(this,sn)[1]*256/f(this,ih)),s=BK(f(this,sn)[2]*256/f(this,nh)),a=BK(f(this,sn)[3]*256/f(this,ih));TS(f(this,wl),e,i,r,s,a);for(const o of f(this,ls))o!==e&&TS(f(this,wl),o,i,r,s,a);for(const o of f(this,co))o!==e&&TS(f(this,wl),o,i,r,s,a);for(const o of f(this,th))o!==e&&TS(f(this,wl),o,i,r,s,a);t||(f(this,ls).clear(),_(this,yl,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(f(this,ls));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,yl)===e&&(_(this,yl,-1),f(this,$t)[0]=Math.max(f(this,$t)[0],f(this,sn)[0]),f(this,$t)[1]=Math.max(f(this,$t)[1],f(this,sn)[1]),f(this,$t)[2]=Math.min(f(this,$t)[2],f(this,sn)[2]),f(this,$t)[3]=Math.min(f(this,$t)[3],f(this,sn)[3]),t||f(this,ls).clear()),this}_takePendingDependencies(){const e=f(this,ls);return _(this,ls,new Set),e}_extractOperation(e){const t=f(this,kb).get(e);return f(this,kb).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,ls).add(t)}take(){return f(this,Im).clear(),new jce(f(this,xr),f(this,wl))}takeDebugMetadata(){return f(this,iA)}}os=new WeakMap,As=new WeakMap,eh=new WeakMap,co=new WeakMap,th=new WeakMap,vl=new WeakMap,$t=new WeakMap,sn=new WeakMap,yl=new WeakMap,ls=new WeakMap,kb=new WeakMap,Im=new WeakMap,nh=new WeakMap,ih=new WeakMap,wl=new WeakMap,xr=new WeakMap,iA=new WeakMap,Ob=new WeakSet,rD=function(e,t){const i=new ArrayBuffer(e*4);_(this,wl,new Uint8ClampedArray(i)),_(this,xr,new Uint32Array(i)),t&&t.length>0?(f(this,xr).set(t),f(this,xr).fill(iD,t.length)):f(this,xr).fill(iD)};var dn,Kn,fo,Fm,Um;const TO=class TO{constructor(e,t,i){F(this,dn);F(this,Kn);F(this,fo);F(this,Fm,0);F(this,Um,0);if(e instanceof TO&&f(e,fo)===!!i)return e;_(this,dn,e),_(this,Kn,t),_(this,fo,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Zn(this,Um)._++,f(this,dn).save(f(this,Kn)),this}restore(e){return f(this,Um)>0&&(f(this,dn).restore(f(this,Kn)),Zn(this,Um)._--),this}recordOpenMarker(e){return Zn(this,Fm)._++,this}getOpenMarker(){return f(this,Fm)>0?f(this,Kn):f(this,dn).getOpenMarker()}recordCloseMarker(e){return Zn(this,Fm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,dn).pushBaseTransform(e),this}popBaseTransform(){return f(this,dn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,dn).recordSimpleData(e,f(this,Kn)),this}recordIncrementalData(e,t){return f(this,dn).recordIncrementalData(e,f(this,Kn)),this}resetIncrementalData(e,t){return f(this,dn).resetIncrementalData(e,f(this,Kn)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return f(this,dn).recordSimpleDataFromNamed(e,t,f(this,Kn)),this}recordFutureForcedDependency(e,t){return f(this,dn).recordFutureForcedDependency(e,f(this,Kn)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,dn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,dn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,fo)||f(this,dn).resetBBox(f(this,Kn)),this}recordClipBox(e,t,i,r,s,a){return f(this,fo)||f(this,dn).recordClipBox(f(this,Kn),t,i,r,s,a),this}recordBBox(e,t,i,r,s,a){return f(this,fo)||f(this,dn).recordBBox(f(this,Kn),t,i,r,s,a),this}recordCharacterBBox(e,t,i,r,s,a,o){return f(this,fo)||f(this,dn).recordCharacterBBox(f(this,Kn),t,i,r,s,a,o),this}recordFullPageBBox(e){return f(this,fo)||f(this,dn).recordFullPageBBox(f(this,Kn)),this}getSimpleIndex(e){return f(this,dn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,dn).recordDependencies(f(this,Kn),t),this}recordNamedDependency(e,t){return f(this,dn).recordNamedDependency(f(this,Kn),t),this}recordOperation(e){return f(this,dn).recordOperation(f(this,Kn),!0),this}recordShowTextOperation(e){return f(this,dn).recordShowTextOperation(f(this,Kn),!0),this}bboxToClipBoxDropOperation(e){return f(this,fo)||f(this,dn).bboxToClipBoxDropOperation(f(this,Kn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};dn=new WeakMap,Kn=new WeakMap,fo=new WeakMap,Fm=new WeakMap,Um=new WeakMap;let q_=TO;const ba={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},cr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function sD(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class IQ{isModifyingCurrentTransform(){return!1}getPattern(){pn("Abstract method `getPattern` called.")}}class Yce extends IQ{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===cr.STROKE||r===cr.FILL){const a=t.current.getClippedPathBoundingBox(r,Ln(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),i=He.transform(i,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),sD(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else sD(e,this._bbox),s=this._createGradient(e);return s}}function ZU(n,e,t,i,r,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g),l[i+1]>l[r+1]&&(g=i,i=r,r=g,g=a,a=o,o=g),l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,C=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY,x=(l[r]+e.offsetX)*e.scaleX,I=(l[r+1]+e.offsetY)*e.scaleY;if(b>=I)return;const T=u[s],R=u[s+1],P=u[s+2],D=u[a],L=u[a+1],H=u[a+2],k=u[o],K=u[o+1],V=u[o+2],q=Math.round(b),X=Math.round(I);let ne,he,G,$,se,ae,be,z;for(let J=q;J<=X;J++){if(J<E){const Ce=J<b?0:(b-J)/(b-E);ne=v-(v-C)*Ce,he=T-(T-D)*Ce,G=R-(R-L)*Ce,$=P-(P-H)*Ce}else{let Ce;J>I?Ce=1:E===I?Ce=0:Ce=(E-J)/(E-I),ne=C-(C-x)*Ce,he=D-(D-k)*Ce,G=L-(L-K)*Ce,$=H-(H-V)*Ce}let le;J<b?le=0:J>I?le=1:le=(b-J)/(b-I),se=v-(v-x)*le,ae=T-(T-k)*le,be=R-(R-K)*le,z=P-(P-V)*le;const ve=Math.round(Math.min(ne,se)),Ee=Math.round(Math.max(ne,se));let Fe=h*J+ve*4;for(let Ce=ve;Ce<=Ee;Ce++)le=(ne-Ce)/(ne-se),le<0?le=0:le>1&&(le=1),d[Fe++]=he-(he-ae)*le|0,d[Fe++]=G-(G-be)*le|0,d[Fe++]=$-($-z)*le|0,d[Fe++]=255}}function Xce(n,e,t){const i=e.coords,r=e.colors;let s,a;switch(e.type){case TR.LATTICE:const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)ZU(n,t,i[d],i[d+1],i[d+o],r[d],r[d+1],r[d+o]),ZU(n,t,i[d+o+1],i[d+1],i[d+o],r[d+o+1],r[d+1],r[d+o])}break;case TR.TRIANGLES:for(s=0,a=i.length;s<a;s+=3)ZU(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Jce extends IQ{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,b=d/g,C={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/b},E=h+4,x=g+4,I=i.getCanvas("mesh",E,x),T=I.context,R=T.createImageData(h,g);if(t){const D=R.data;for(let L=0,H=D.length;L<H;L+=4)D[L]=t[0],D[L+1]=t[1],D[L+2]=t[2],D[L+3]=255}for(const D of this._figures)Xce(R,D,C);return T.putImageData(R,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){sD(e,this._bbox);const s=new Float32Array(2);if(r===cr.SHADING)He.singularValueDecompose2dScale(Ln(e),s);else if(this.matrix){He.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;He.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else He.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,r===cr.SHADING?null:this._background,t.cachedCanvases);return r!==cr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Zce extends IQ{getPattern(){return"hotpink"}}function ede(n){switch(n[0]){case"RadialAxial":return new Yce(n);case"Mesh":return new Jce(n);case"Dummy":return new Zce}throw new Error(`Unknown IR type: ${n[0]}`)}const EK={COLORED:1,UNCOLORED:2},o1=class o1{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var ae,be;const{bbox:i,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),F1("TilingType: "+a);const h=i[0],g=i[1],v=i[2],b=i[3],C=v-h,E=b-g,x=new Float32Array(2);He.singularValueDecompose2dScale(this.matrix,x);const[I,T]=x;He.singularValueDecompose2dScale(this.baseTransform,x);const R=I*x[0],P=T*x[1];let D=C,L=E,H=!1,k=!1;const K=Math.ceil(u*R),V=Math.ceil(d*P),q=Math.ceil(C*R),X=Math.ceil(E*P);K>=q?D=u:H=!0,V>=X?L=d:k=!0;const ne=this.getSizeAndScale(D,this.ctx.canvas.width,R),he=this.getSizeAndScale(L,this.ctx.canvas.height,P),G=e.cachedCanvases.getCanvas("pattern",ne.size,he.size),$=G.context,se=l.createCanvasGraphics($,t);if(se.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(se,s,o),$.translate(-ne.scale*h,-he.scale*g),se.transform(0,ne.scale,0,0,he.scale,0,0),$.save(),(ae=se.dependencyTracker)==null||ae.save(),this.clipBbox(se,h,g,v,b),se.baseTransform=Ln(se.ctx),se.executeOperatorList(r),se.endDrawing(),(be=se.dependencyTracker)==null||be.restore(),$.restore(),H||k){const z=G.canvas;H&&(D=u),k&&(L=d);const J=this.getSizeAndScale(D,this.ctx.canvas.width,R),le=this.getSizeAndScale(L,this.ctx.canvas.height,P),ve=J.size,Ee=le.size,Fe=e.cachedCanvases.getCanvas("pattern-workaround",ve,Ee),Ce=Fe.context,ht=H?Math.floor(C/u):0,ie=k?Math.floor(E/d):0;for(let Le=0;Le<=ht;Le++)for(let qe=0;qe<=ie;qe++)Ce.drawImage(z,ve*Le,Ee*qe,ve,Ee,0,0,ve,Ee);return{canvas:Fe.canvas,scaleX:J.scale,scaleY:le.scale,offsetX:h,offsetY:g}}return{canvas:G.canvas,scaleX:ne.scale,scaleY:he.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(o1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const a=r-t,o=s-i;e.ctx.rect(t,i,a,o),He.axialAlignedBoundingBox([t,i,r,s],Ln(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case EK.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case EK.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new fce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let a=i;r!==cr.SHADING&&(a=He.transform(a,t.baseTransform),this.matrix&&(a=He.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};me(o1,"MAX_PATTERN_SIZE",3e3);let aD=o1;function tde({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=mr.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=i>>3,h=i&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let b=0;b<r;b++){for(const E=e+d;e<E;e++){const x=e<g?n[e]:255;t[v++]=x&128?u:l,t[v++]=x&64?u:l,t[v++]=x&32?u:l,t[v++]=x&16?u:l,t[v++]=x&8?u:l,t[v++]=x&4?u:l,t[v++]=x&2?u:l,t[v++]=x&1?u:l}if(h===0)continue;const C=e<g?n[e++]:255;for(let E=0;E<h;E++)t[v++]=C&1<<7-E?u:l}return{srcPos:e,destPos:v}}const SK=16,xK=100,nde=15,_K=10,ps=16,eM=new DOMMatrix,Js=new Float32Array(2),Pg=new Float32Array([1/0,1/0,-1/0,-1/0]);function ide(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,a,o){e.transform(t,i,r,s,a,o),this.__originalTransform(t,i,r,s,a,o)},n.setTransform=function(t,i,r,s,a,o){e.setTransform(t,i,r,s,a,o),this.__originalSetTransform(t,i,r,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class rde{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function FS(n,e,t,i,r,s,a,o,l,u){const[d,h,g,v,b,C]=Ln(n);if(h===0&&g===0){const I=a*d+b,T=Math.round(I),R=o*v+C,P=Math.round(R),D=(a+l)*d+b,L=Math.abs(Math.round(D)-T)||1,H=(o+u)*v+C,k=Math.abs(Math.round(H)-P)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,P),n.drawImage(e,t,i,r,s,0,0,L,k),n.setTransform(d,h,g,v,b,C),[L,k]}if(d===0&&v===0){const I=o*g+b,T=Math.round(I),R=a*h+C,P=Math.round(R),D=(o+u)*g+b,L=Math.abs(Math.round(D)-T)||1,H=(a+l)*h+C,k=Math.abs(Math.round(H)-P)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,P),n.drawImage(e,t,i,r,s,0,0,k,L),n.setTransform(d,h,g,v,b,C),[k,L]}n.drawImage(e,t,i,r,s,a,o,l,u);const E=Math.hypot(d,h),x=Math.hypot(g,v);return[E*l,x*u]}class TK{constructor(e,t,i){me(this,"alphaIsShape",!1);me(this,"fontSize",0);me(this,"fontSizeScale",1);me(this,"textMatrix",null);me(this,"textMatrixScale",1);me(this,"fontMatrix",_R);me(this,"leading",0);me(this,"x",0);me(this,"y",0);me(this,"lineX",0);me(this,"lineY",0);me(this,"charSpacing",0);me(this,"wordSpacing",0);me(this,"textHScale",1);me(this,"textRenderingMode",nr.FILL);me(this,"textRise",0);me(this,"fillColor","#000000");me(this,"strokeColor","#000000");me(this,"patternFill",!1);me(this,"patternStroke",!1);me(this,"fillAlpha",1);me(this,"strokeAlpha",1);me(this,"lineWidth",1);me(this,"activeSMask",null);me(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Pg.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=cr.FILL,t=null){const i=this.minMax.slice();if(e===cr.STROKE){t||pn("Stroke bounding box must include transform."),He.singularValueDecompose2dScale(t,Js);const r=Js[0]*this.lineWidth/2,s=Js[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=He.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Pg,0)}getClippedPathBoundingBox(e=cr.FILL,t=null){return He.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function IK(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%ps,s=(t-r)/ps,a=r===0?s:s+1,o=n.createImageData(i,ps);let l=0,u;const d=e.data,h=o.data;let g,v,b,C;if(e.kind===Ux.GRAYSCALE_1BPP){const E=d.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),I=x.length,T=i+7>>3,R=4294967295,P=mr.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?ps:r,u=0,v=0;v<b;v++){const D=E-l;let L=0;const H=D>T?i:D*8-7,k=H&-8;let K=0,V=0;for(;L<k;L+=8)V=d[l++],x[u++]=V&128?R:P,x[u++]=V&64?R:P,x[u++]=V&32?R:P,x[u++]=V&16?R:P,x[u++]=V&8?R:P,x[u++]=V&4?R:P,x[u++]=V&2?R:P,x[u++]=V&1?R:P;for(;L<H;L++)K===0&&(V=d[l++],K=128),x[u++]=V&K?R:P,K>>=1}for(;u<I;)x[u++]=0;n.putImageData(o,0,g*ps)}}else if(e.kind===Ux.RGBA_32BPP){for(v=0,C=i*ps*4,g=0;g<s;g++)h.set(d.subarray(l,l+C)),l+=C,n.putImageData(o,0,v),v+=ps;g<a&&(C=i*r*4,h.set(d.subarray(l,l+C)),n.putImageData(o,0,v))}else if(e.kind===Ux.RGB_24BPP)for(b=ps,C=i*b,g=0;g<a;g++){for(g>=s&&(b=r,C=i*b),u=0,v=C;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*ps)}else throw new Error(`bad image kind: ${e.kind}`)}function FK(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%ps,s=(t-r)/ps,a=r===0?s:s+1,o=n.createImageData(i,ps);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?ps:r;({srcPos:l}=tde({src:u,srcPos:l,dest:d,width:i,height:g,nonBlackColor:0})),n.putImageData(o,0,h*ps)}}function v0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function US(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function UK(n,e){if(e)return!0;He.singularValueDecompose2dScale(n,Js);const t=Math.fround(Ap.pixelRatio*qv.PDF_TO_CSS_UNITS);return Js[0]<=t&&Js[1]<=t}const sde=["butt","round","square"],ade=["miter","round","bevel"],ode={},MK={};var Fo,oD,AD,lD;const IO=class IO{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){F(this,Fo);this.ctx=e,this.current=new TK(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new rde(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ln(this.compositeCtx))}this.ctx.save(),US(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ln(this.ctx)}executeOperatorList(e,t,i,r,s){var x;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>_K&&typeof i=="function",h=d?Date.now()+nde:0;let g=0;const v=this.commonObjs,b=this.objs;let C,E;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,i),l;if(!s||s(l))if(C=o[l],E=a[l]??null,C!==Uw.dependency)E===null?this[C](l):this[C](l,...E);else for(const I of E){(x=this.dependencyTracker)==null||x.recordNamedData(I,l);const T=I.startsWith("g_")?v:b;if(!T.has(I))return T.get(I,i),l}if(l++,l===u)return l;if(d&&++g>_K){if(Date.now()>h)return i(),l;g=0}}}endDrawing(){U(this,Fo,oD).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),U(this,Fo,AD).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,l=r,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var K,V;const i=this.ctx,{width:r,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=Ln(i);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const q=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(q),u||(u=new Map,this._cachedBitmapsMap.set(q,u));const X=u.get(d);if(X&&!o){const ne=Math.round(Math.min(l[0],l[2])+l[4]),he=Math.round(Math.min(l[1],l[3])+l[5]);return(K=this.dependencyTracker)==null||K.recordDependencies(e,ba.transformAndFill),{canvas:X,offsetX:ne,offsetY:he}}h=X}h||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),FK(g.context,t));let v=He.transform(l,[1/r,0,0,-1/s,0,0]);v=He.transform(v,[1,0,0,1,0,-s]);const b=Pg.slice();He.axialAlignedBoundingBox([0,0,r,s],v,b);const[C,E,x,I]=b,T=Math.round(x-C)||1,R=Math.round(I-E)||1,P=this.cachedCanvases.getCanvas("fillCanvas",T,R),D=P.context,L=C,H=E;D.translate(-L,-H),D.transform(...v),h||(h=this._scaleImage(g.canvas,Ho(D)),h=h.img,u&&o&&u.set(d,h)),D.imageSmoothingEnabled=UK(Ln(D),t.interpolate),FS(D,h,0,0,h.width,h.height,0,0,r,s),D.globalCompositeOperation="source-in";const k=He.transform(Ho(D),[1,0,0,1,-L,-H]);return D.fillStyle=o?a.getPattern(i,this,k,cr.FILL,e):a,D.fillRect(0,0,r,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,P.canvas)),(V=this.dependencyTracker)==null||V.recordDependencies(e,ba.transformAndFill),{canvas:P.canvas,offsetX:Math.round(L),offsetY:Math.round(H)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=sde[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=ade[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),v0(this.suspendedCtx,a),ide(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,i,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,b=u-h;if(a)if(v<0||b<0||v+i>g.width||b+r>g.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),x=E.context;x.drawImage(g,-v,-b),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,i,r),x.globalCompositeOperation="source-over",g=E.canvas,v=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(v,b,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,b,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const C=new Path2D;C.rect(l,u,i,r),t.clip(C),t.globalCompositeOperation="destination-in",t.drawImage(g,v,b,i,r,l,u,i,r),t.restore()}save(e){var i;this.inSMaskMode&&v0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&v0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Uw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=U6(s)),He.axialAlignedBoundingBox(r,Ln(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var a;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Ho(r),cr.STROKE,e),o){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,ba.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(cr.STROKE,Ln(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var u,d,h;const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?r.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Ho(r),cr.FILL,e),g){const v=new Path2D;v.addPath(t,r.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,ba.fill),o&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,ba.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=ode}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=MK}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&r.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||_R,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ot("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((g=r.systemFontInfo)==null?void 0:g.css)||`"${a}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const u=r.italic?"italic":"normal";let d=i;i<SK?d=SK:i>xK&&(d=xK),this.current.fontSizeScale=i/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,a){var x,I,T,R;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&nr.FILL_STROKE_MASK,v=!!(d&nr.ADD_TO_PATH_FLAG),b=l.patternFill&&!u.missingFile,C=l.patternStroke&&!u.missingFile;let E;if((u.disableFontFace||v||b||C)&&!u.missingFile&&(E=u.getPathGenerator(this.commonObjs,t)),E&&(u.disableFontFace||b||C)){o.save(),o.translate(i,r),o.scale(h,-h),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,u);let P;if(g===nr.FILL||g===nr.FILL_STROKE)if(s){P=o.getTransform(),o.setTransform(...s);const D=U(this,Fo,lD).call(this,E,P,s);o.fill(D)}else o.fill(E);if(g===nr.STROKE||g===nr.FILL_STROKE)if(a){P||(P=o.getTransform()),o.setTransform(...a);const{a:D,b:L,c:H,d:k}=P,K=He.inverseTransform(a),V=He.transform([D,L,H,k,0,0],K);He.singularValueDecompose2dScale(V,Js),o.lineWidth*=Math.max(Js[0],Js[1])/h,o.stroke(U(this,Fo,lD).call(this,E,P,a))}else o.lineWidth/=h,o.stroke(E);o.restore()}else(g===nr.FILL||g===nr.FILL_STROKE)&&(o.fillText(t,i,r),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t))),(g===nr.STROKE||g===nr.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t)).recordDependencies(e,ba.stroke)),o.strokeText(t,i,r));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ln(o),x:i,y:r,fontSize:h,path:E}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,u,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return At(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var H,k,K,V;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ba.showText).resetBBox(e),this.current.textRenderingMode&nr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(k=this.dependencyTracker)==null||k.recordOperation(e);return}const a=this.ctx,o=i.fontSizeScale,l=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,h=i.textHScale*d,g=t.length,v=r.vertical,b=v?1:-1,C=r.defaultVMetrics,E=s*i.fontMatrix[0],x=i.textRenderingMode===nr.FILL&&!r.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(i.patternFill){a.save();const q=i.fillColor.getPattern(a,this,Ho(a),cr.FILL,e);I=Ln(a),a.restore(),a.fillStyle=q}if(i.patternStroke){a.save();const q=i.strokeColor.getPattern(a,this,Ho(a),cr.STROKE,e);T=Ln(a),a.restore(),a.strokeStyle=q}let R=i.lineWidth;const P=i.textMatrixScale;if(P===0||R===0){const q=i.textRenderingMode&nr.FILL_STROKE_MASK;(q===nr.STROKE||q===nr.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=P;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,r.isInvalidPDFjsFont){const q=[];let X=0;for(const he of t)q.push(he.unicode),X+=he.width;const ne=q.join("");if(a.fillText(ne,0,0),this.dependencyTracker!==null){const he=a.measureText(ne);this.dependencyTracker.recordBBox(e,this.ctx,-he.actualBoundingBoxLeft,he.actualBoundingBoxRight,-he.actualBoundingBoxAscent,he.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=X*E*h,a.restore(),this.compose();return}let D=0,L;for(L=0;L<g;++L){const q=t[L];if(typeof q=="number"){D+=b*q*s/1e3;continue}let X=!1;const ne=(q.isSpace?u:0)+l,he=q.fontChar,G=q.accent;let $,se,ae=q.width;if(v){const J=q.vmetric||C,le=-(q.vmetric?J[1]:ae*.5)*E,ve=J[2]*E;ae=J?-J[0]:ae,$=le/o,se=(D+ve)/o}else $=D/o,se=0;let be;if(r.remeasure&&ae>0){be=a.measureText(he);const J=be.width*1e3/s*o;if(ae<J&&this.isFontSubpixelAAEnabled){const le=ae/J;X=!0,a.save(),a.scale(le,1),$/=le}else ae!==J&&($+=(ae-J)/2e3*s/o)}if(this.contentVisible&&(q.isInFont||r.missingFile)){if(x&&!G)a.fillText(he,$,se),(K=this.dependencyTracker)==null||K.recordCharacterBBox(e,a,be?{bbox:null}:r,s/o,$,se,()=>be??a.measureText(he));else if(this.paintChar(e,he,$,se,I,T),G){const J=$+s*G.offset.x/o,le=se-s*G.offset.y/o;this.paintChar(e,G.fontChar,J,le,I,T)}}const z=v?ae*E-ne*d:ae*E+ne*d;D+=z,X&&a.restore()}v?i.y-=D:i.x+=D*h,a.restore(),this.compose(),(V=this.dependencyTracker)==null||V.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,l=s.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,g=r.fontMatrix||_R,v=t.length,b=r.textRenderingMode===nr.INVISIBLE;let C,E,x,I;if(b||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new q_(T,e):null,C=0;C<v;++C){if(E=t[C],typeof E=="number"){I=l*E*a/1e3,this.ctx.translate(I,0),r.x+=I*h;continue}const R=(E.isSpace?d:0)+u,P=s.charProcOperatorList[E.operatorListId];P?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...g),this.executeOperatorList(P),this.restore()):ot(`Type3 character "${E.operatorListId}" is not available.`);const D=[E.width,0];He.applyTransform(D,g),x=D[0]*a+R,i.translate(x,0),r.x+=x*h}i.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,a,o){var u;const l=new Path2D;l.rect(r,s,a-r,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,r,a,s,o).recordClipBox(e,this.ctx,r,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||Ln(this.ctx),s={createCanvasGraphics:(a,o)=>new IO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new q_(this.dependencyTracker,o,!0):null)};i=new aD(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=ede(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Ho(i),cr.SHADING,e);const s=Ho(i);if(s){const{width:o,height:l}=i.canvas,u=Pg.slice();He.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ba.transform).recordDependencies(e,ba.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){pn("Should not call beginInlineImage")}beginImageData(){pn("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Ln(this.ctx),i)){He.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,a,o,l]=i,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||F1("TODO: Support non-isolated groups."),t.knockout&&ot("Knockout groups not supported.");const r=Ln(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Pg.slice();He.axialAlignedBoundingBox(t.bbox,Ln(i),s);const a=[0,0,i.canvas.width,i.canvas.height];s=He.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...r);let b=new Path2D;const[C,E,x,I]=t.bbox;if(b.rect(C,E,x-C,I-E),t.matrix){const R=new Path2D;R.addPath(b,new DOMMatrix(t.matrix)),b=R}v.clip(b),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),v0(i,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Ln(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Pg.slice();He.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,r,s,a){if(U(this,Fo,oD).call(this),US(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const o=i[2]-i[0],l=i[3]-i[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=o,i[3]=l,He.singularValueDecompose2dScale(Ln(this.ctx),Js);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Js[0],0,0,-Js[1],0,l*Js[1]),US(this.ctx)}else{US(this.ctx),this.endPath(e);const u=new Path2D;u.rect(i[0],i[1],o,l),this.ctx.clip(u)}}this.current=new TK(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),U(this,Fo,AD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=Ln(l);l.transform(i,r,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let b=0,C=o.length;b<C;b+=2){const E=He.transform(u,[i,r,s,a,o[b],o[b+1]]);l.drawImage(d.canvas,E[4],E[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,E[4],E[4]+d.canvas.width,E[5],E[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,ba.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,b=this.cachedCanvases.getCanvas("maskCanvas",h,g),C=b.context;C.save();const E=this.getObject(e,d,u);FK(C,E),C.globalCompositeOperation="source-in",C.fillStyle=s?r.getPattern(C,this,Ho(i),cr.FILL,e):r,C.fillRect(0,0,h,g),C.restore(),i.save(),i.transform(...v),i.scale(1,-1),FS(i,b.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,h,0,g),i.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){ot("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){ot("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[i,0,0,r,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/i,-1/r);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;IK(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,Ho(s));s.imageSmoothingEnabled=UK(Ln(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,ba.imageXObject).recordOperation(e),FS(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var a,o,l;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;IK(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of i)r.save(),r.transform(...u.transform),r.scale(1,-1),FS(r,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,1,-1,0),r.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ba.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var a,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===MK?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ln(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),d=Math.hypot(r,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){i.lineWidth=(r||1)*s,i.stroke(e);return}const o=i.getLineDash();t&&i.save(),i.scale(s,a),eM.a=1/s,eM.d=1/a;const l=new Path2D;if(l.addPath(e,eM),o.length>0){const u=Math.max(s,a);i.setLineDash(o.map(d=>d/u)),i.lineDashOffset/=u}i.lineWidth=r||1,i.stroke(l),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Fo=new WeakSet,oD=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},AD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},lD=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let Gg=IO;for(const n in Uw)Gg.prototype[n]!==void 0&&(Gg.prototype[Uw[n]]=Gg.prototype[n]);var xx,Hb,Vb;let Wl=(xx=class{static get workerPort(){return f(this,Hb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,Hb,e)}static get workerSrc(){return f(this,Vb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,Vb,e)}},Hb=new WeakMap,Vb=new WeakMap,F(xx,Hb,null),F(xx,Vb,""),xx);var Mm,Kb;class Ade{constructor({parsedData:e,rawData:t}){F(this,Mm);F(this,Kb);_(this,Mm,e),_(this,Kb,t)}getRaw(){return f(this,Kb)}get(e){return f(this,Mm).get(e)??null}[Symbol.iterator](){return f(this,Mm).entries()}}Mm=new WeakMap,Kb=new WeakMap;const Cg=Symbol("INTERNAL");var Gb,zb,qb,Pm;class lde{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){F(this,Gb,!1);F(this,zb,!1);F(this,qb,!1);F(this,Pm,!0);_(this,Gb,!!(e&Xs.DISPLAY)),_(this,zb,!!(e&Xs.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(f(this,qb))return f(this,Pm);if(!f(this,Pm))return!1;const{print:e,view:t}=this.usage;return f(this,Gb)?(t==null?void 0:t.viewState)!=="OFF":f(this,zb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Cg&&pn("Internal method `_setVisible` called."),_(this,qb,i),_(this,Pm,t)}}Gb=new WeakMap,zb=new WeakMap,qb=new WeakMap,Pm=new WeakMap;var Pc,an,Rm,Dm,$b,uD;class ude{constructor(e,t=Xs.DISPLAY){F(this,$b);F(this,Pc,null);F(this,an,new Map);F(this,Rm,null);F(this,Dm,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,Dm,e.order);for(const i of e.groups)f(this,an).set(i.id,new lde(t,i));if(e.baseState==="OFF")for(const i of f(this,an).values())i._setVisible(Cg,!1);for(const i of e.on)f(this,an).get(i)._setVisible(Cg,!0);for(const i of e.off)f(this,an).get(i)._setVisible(Cg,!1);_(this,Rm,this.getHash())}}isVisible(e){if(f(this,an).size===0)return!0;if(!e)return F1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,an).has(e.id)?f(this,an).get(e.id).visible:(ot(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return U(this,$b,uD).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,an).has(t))return ot(`Optional content group not found: ${t}`),!0;if(f(this,an).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,an).has(t))return ot(`Optional content group not found: ${t}`),!0;if(!f(this,an).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,an).has(t))return ot(`Optional content group not found: ${t}`),!0;if(!f(this,an).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,an).has(t))return ot(`Optional content group not found: ${t}`),!0;if(f(this,an).get(t).visible)return!1}return!0}return ot(`Unknown optional content policy ${e.policy}.`),!0}return ot(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=f(this,an).get(e);if(!r){ot(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((s=f(this,an).get(o))==null||s._setVisible(Cg,!1,!0));r._setVisible(Cg,!!t,!0),_(this,Pc,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=f(this,an).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}_(this,Pc,null)}get hasInitialVisibility(){return f(this,Rm)===null||this.getHash()===f(this,Rm)}getOrder(){return f(this,an).size?f(this,Dm)?f(this,Dm).slice():[...f(this,an).keys()]:null}getGroup(e){return f(this,an).get(e)||null}getHash(){if(f(this,Pc)!==null)return f(this,Pc);const e=new uj;for(const[t,i]of f(this,an))e.update(`${t}:${i.visible}`);return _(this,Pc,e.hexdigest())}[Symbol.iterator](){return f(this,an).entries()}}Pc=new WeakMap,an=new WeakMap,Rm=new WeakMap,Dm=new WeakMap,$b=new WeakSet,uD=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=U(this,$b,uD).call(this,s);else if(f(this,an).has(s))a=f(this,an).get(s).visible;else return ot(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class cde{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Ft(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Ft(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ft(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new dde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new fde(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class dde{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=xQ(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fde{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hde(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=UB(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,C,E,x]=g;if(C=parseInt(C,10),C in h){if(C===0)break;continue}h[C]=[E,x]}const b=[];for(let C=0;C<h.length&&C in h;++C){let[E,x]=h[C];x=o(x),E&&(x=unescape(x),C===0&&(x=l(x))),b.push(x)}return b.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),b=d.slice(h+1).replace(/^[^']*'/,"");return r(g,b)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,E){return String.fromCharCode(parseInt(E,16))}),r(g,b);try{b=atob(b)}catch{}return r(g,b)})}return""}function Cj(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function M1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function Bj({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Ej(n){const e=n.get("Content-Disposition");if(e){let t=hde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(xQ(t))return t}return null}function NB(n,e){return new V_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Sj(n){return n===200||n===206}function xj(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function _j(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ot(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class pde{constructor(e){me(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Cj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ft(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new mde(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class gde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,xj(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=M1(s.url),!Sj(s.status))throw NB(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=Bj({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Ej(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_j(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class mde{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const a=r.url;fetch(a,xj(s,this._withCredentials,this._abortController)).then(o=>{const l=M1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!Sj(o.status))throw NB(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:_j(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const tM=200,nM=206;function vde(n){const e=n.response;return typeof e!="string"?e:UB(e).buffer}class yde{constructor({url:e,httpHeaders:t,withCredentials:i}){me(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Cj(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=nM):r.expectedStatus=tM,t.responseType="arraybuffer",Ft(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||tM;if(!(s===tM&&i.expectedStatus===nM)&&s!==i.expectedStatus){i.onError(r.status);return}const o=vde(r);if(s===nM){const l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?i.onDone({begin:parseInt(u[1],10),chunk:o}):(ot('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class wde{constructor(e){this._source=e,this._manager=new yde(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ft(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bde(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new Cde(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class bde{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=M1(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=Bj({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Ej(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=NB(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Cde{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=M1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=NB(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Bde=/^[a-z][a-z0-9\-+.]+:/i;function Ede(n){if(Bde.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Sde{constructor(e){this.source=e,this.url=Ede(e.url),Ft(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ft(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new xde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new _de(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class xde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=NB(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _de{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const y0=Symbol("INITIAL_DATA");var Ns,jb,cD;class Tj{constructor(){F(this,jb);F(this,Ns,Object.create(null))}get(e,t=null){if(t){const r=U(this,jb,cD).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=f(this,Ns)[e];if(!i||i.data===y0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=f(this,Ns)[e];return!!t&&t.data!==y0}delete(e){const t=f(this,Ns)[e];return!t||t.data===y0?!1:(delete f(this,Ns)[e],!0)}resolve(e,t=null){const i=U(this,jb,cD).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in f(this,Ns)){const{data:i}=f(this,Ns)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}_(this,Ns,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,Ns)){const{data:t}=f(this,Ns)[e];t!==y0&&(yield[e,t])}}}Ns=new WeakMap,jb=new WeakSet,cD=function(e){var t;return(t=f(this,Ns))[e]||(t[e]={...Promise.withResolvers(),data:y0})};const Tde=1e5,PK=30;var T$,Rc,us,Wb,Yb,rh,bl,Xb,Jb,sh,Nm,Lm,Dc,Qm,Zb,km,ah,eC,tC,$n,Om,oh,nC,Nc,Hm,bu,Ij,Fj,fD,sa,Vx,hD,Uj,Mj;let dD=($n=class{constructor({textContentSource:e,container:t,viewport:i}){F(this,bu);F(this,Rc,Promise.withResolvers());F(this,us,null);F(this,Wb,!1);F(this,Yb,!!((T$=globalThis.FontInspector)!=null&&T$.enabled));F(this,rh,null);F(this,bl,null);F(this,Xb,0);F(this,Jb,0);F(this,sh,null);F(this,Nm,null);F(this,Lm,0);F(this,Dc,0);F(this,Qm,Object.create(null));F(this,Zb,[]);F(this,km,null);F(this,ah,[]);F(this,eC,new WeakMap);F(this,tC,null);var l;if(e instanceof ReadableStream)_(this,km,e);else if(typeof e=="object")_(this,km,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,us,_(this,Nm,t)),_(this,Dc,i.scale*Ap.pixelRatio),_(this,Lm,i.rotation),_(this,bl,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;_(this,tC,[1,0,0,-1,-a,o+s]),_(this,Jb,r),_(this,Xb,s),U(l=$n,sa,Uj).call(l),op(t,i),f(this,Rc).promise.finally(()=>{f($n,Hm).delete(this),_(this,bl,null),_(this,Qm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=mr.platform;return At(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,sh).read().then(({value:t,done:i})=>{if(i){f(this,Rc).resolve();return}f(this,rh)??_(this,rh,t.lang),Object.assign(f(this,Qm),t.styles),U(this,bu,Ij).call(this,t.items),e()},f(this,Rc).reject)};return _(this,sh,f(this,km).getReader()),f($n,Hm).add(this),e(),f(this,Rc).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*Ap.pixelRatio,r=e.rotation;if(r!==f(this,Lm)&&(t==null||t(),_(this,Lm,r),op(f(this,Nm),{rotation:r})),i!==f(this,Dc)){t==null||t(),_(this,Dc,i);const a={div:null,properties:null,ctx:U(s=$n,sa,Vx).call(s,f(this,rh))};for(const o of f(this,ah))a.properties=f(this,eC).get(o),a.div=o,U(this,bu,fD).call(this,a)}}cancel(){var t;const e=new Fd("TextLayer task cancelled.");(t=f(this,sh))==null||t.cancel(e).catch(()=>{}),_(this,sh,null),f(this,Rc).reject(e)}get textDivs(){return f(this,ah)}get textContentItemsStr(){return f(this,Zb)}static cleanup(){if(!(f(this,Hm).size>0)){f(this,Om).clear();for(const{canvas:e}of f(this,oh).values())e.remove();f(this,oh).clear()}}},Rc=new WeakMap,us=new WeakMap,Wb=new WeakMap,Yb=new WeakMap,rh=new WeakMap,bl=new WeakMap,Xb=new WeakMap,Jb=new WeakMap,sh=new WeakMap,Nm=new WeakMap,Lm=new WeakMap,Dc=new WeakMap,Qm=new WeakMap,Zb=new WeakMap,km=new WeakMap,ah=new WeakMap,eC=new WeakMap,tC=new WeakMap,Om=new WeakMap,oh=new WeakMap,nC=new WeakMap,Nc=new WeakMap,Hm=new WeakMap,bu=new WeakSet,Ij=function(e){var r,s;if(f(this,Wb))return;(s=f(this,bl)).ctx??(s.ctx=U(r=$n,sa,Vx).call(r,f(this,rh)));const t=f(this,ah),i=f(this,Zb);for(const a of e){if(t.length>Tde){ot("Ignoring additional textDivs for performance reasons."),_(this,Wb,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,us);_(this,us,document.createElement("span")),f(this,us).classList.add("markedContent"),a.id&&f(this,us).setAttribute("id",`${a.id}`),o.append(f(this,us))}else a.type==="endMarkedContent"&&_(this,us,f(this,us).parentNode);continue}i.push(a.str),U(this,bu,Fj).call(this,a)}},Fj=function(e){var C;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,ah).push(t);const r=He.transform(f(this,tC),e.transform);let s=Math.atan2(r[1],r[0]);const a=f(this,Qm)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,Yb)&&a.fontSubstitution||a.fontFamily;o=$n.fontFamilyMap.get(o)||o;const l=Math.hypot(r[2],r[3]),u=l*U(C=$n,sa,Mj).call(C,o,a,f(this,rh));let d,h;s===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(s),h=r[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,us)===f(this,Nm)?(v.left=`${(100*d/f(this,Jb)).toFixed(2)}%`,v.top=`${(100*h/f(this,Xb)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f($n,Nc)*l).toFixed(2)}px)`,v.fontFamily=o,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,Yb)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(b=!0)}if(b&&(i.canvasWidth=a.vertical?e.height:e.width),f(this,eC).set(t,i),f(this,bl).div=t,f(this,bl).properties=i,U(this,bu,fD).call(this,f(this,bl)),i.hasText&&f(this,us).append(t),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),f(this,us).append(E)}},fD=function(e){var o;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let a="";if(f($n,Nc)>1&&(a=`scale(${1/f($n,Nc)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=i;U(o=$n,sa,hD).call(o,r,d*f(this,Dc),l);const{width:h}=r.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,Dc)/h}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(s.transform=a)},sa=new WeakSet,Vx=function(e=null){let t=f(this,oh).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,oh).set(e,t),f(this,nC).set(t,{size:0,family:""})}return t},hD=function(e,t,i){const r=f(this,nC).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},Uj=function(){if(f(this,Nc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,Nc,e.getBoundingClientRect().height),e.remove()},Mj=function(e,t,i){const r=f(this,Om).get(e);if(r)return r;const s=U(this,sa,Vx).call(this,i);s.canvas.width=s.canvas.height=PK,U(this,sa,hD).call(this,s,PK,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(mr.platform.isFirefox&&ot("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,Om).set(e,u),u},F($n,sa),F($n,Om,new Map),F($n,oh,new Map),F($n,nC,new WeakMap),F($n,Nc,null),F($n,Hm,new Set),$n);const Ide=100;function FQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new pD,{docId:t}=e,i=n.url?Nce(n.url):null,r=n.data?Lce(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof Pj?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof gD?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!U1(n.docBaseUrl)?n.docBaseUrl:null,v=xS(n.cMapUrl),b=n.cMapPacked!==!1,C=n.CMapReaderFactory||(Vr?zce:yK),E=xS(n.iccUrl),x=xS(n.standardFontDataUrl),I=n.StandardFontDataFactory||(Vr?qce:wK),T=xS(n.wasmUrl),R=n.WasmFactory||(Vr?$ce:bK),P=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,L=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Vr,k=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Vr&&(mr.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,V=typeof n.disableFontFace=="boolean"?n.disableFontFace:Vr,q=n.fontExtraProperties===!0,X=n.enableXfa===!0,ne=n.ownerDocument||globalThis.document,he=n.disableRange===!0,G=n.disableStream===!0,$=n.disableAutoFetch===!0,se=n.pdfBug===!0,ae=n.CanvasFactory||(Vr?Gce:Hce),be=n.FilterFactory||(Vr?Kce:Vce),z=n.enableHWA===!0,J=n.useWasm!==!1,le=l?l.length:n.length??NaN,ve=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Vr&&!V,Ee=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(C===yK&&I===wK&&R===bK&&v&&x&&T&&L0(v,document.baseURI)&&L0(x,document.baseURI)&&L0(T,document.baseURI)),Fe=null;uce(h);const Ce={canvasFactory:new ae({ownerDocument:ne,enableHWA:z}),filterFactory:new be({docId:t,ownerDocument:ne}),cMapReaderFactory:Ee?null:new C({baseUrl:v,isCompressed:b}),standardFontDataFactory:Ee?null:new I({baseUrl:x}),wasmFactory:Ee?null:new R({baseUrl:T})};d||(d=gD.create({verbosity:h,port:Wl.workerPort}),e._worker=d);const ht={docId:t,apiVersion:"5.4.449",data:r,password:o,disableAutoFetch:$,rangeChunkSize:u,length:le,docBaseUrl:g,enableXfa:X,evaluatorOptions:{maxImageSize:D,disableFontFace:V,ignoreErrors:P,isEvalSupported:L,isOffscreenCanvasSupported:H,isImageDecoderSupported:k,canvasMaxAreaInBytes:K,fontExtraProperties:q,useSystemFonts:ve,useWasm:J,useWorkerFetch:Ee,cMapUrl:v,iccUrl:E,standardFontDataUrl:x,wasmUrl:T}},ie={ownerDocument:ne,pdfBug:se,styleElement:Fe,loadingParams:{disableAutoFetch:$,enableXfa:X}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Le=d.messageHandler.sendWithPromise("GetDocRequest",ht,r?[r.buffer]:null);let qe;if(l)qe=new cde(l,{disableRange:he,disableStream:G});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ge=L0(i)?pde:Vr?Sde:wde;qe=new ge({url:i,length:le,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:he,disableStream:G})}return Le.then(ge=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ht=new z0(t,ge,d.port),it=new Mde(Ht,e,qe,ie,Ce,z);e._transport=it,Ht.send("Ready",null)})}).catch(e._capability.reject),e}var A1;const l1=class l1{constructor(){me(this,"_capability",Promise.withResolvers());me(this,"_transport",null);me(this,"_worker",null);me(this,"docId",`d${Zn(l1,A1)._++}`);me(this,"destroyed",!1);me(this,"onPassword",null);me(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};A1=new WeakMap,F(l1,A1,0);let pD=l1;var Ah,iC,rC,sC,aC,I$;let Pj=(I$=class{constructor(e,t,i=!1,r=null){F(this,Ah,Promise.withResolvers());F(this,iC,[]);F(this,rC,[]);F(this,sC,[]);F(this,aC,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){f(this,aC).push(e)}addProgressListener(e){f(this,sC).push(e)}addProgressiveReadListener(e){f(this,rC).push(e)}addProgressiveDoneListener(e){f(this,iC).push(e)}onDataRange(e,t){for(const i of f(this,aC))i(e,t)}onDataProgress(e,t){f(this,Ah).promise.then(()=>{for(const i of f(this,sC))i(e,t)})}onDataProgressiveRead(e){f(this,Ah).promise.then(()=>{for(const t of f(this,rC))t(e)})}onDataProgressiveDone(){f(this,Ah).promise.then(()=>{for(const e of f(this,iC))e()})}transportReady(){f(this,Ah).resolve()}requestDataRange(e,t){pn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Ah=new WeakMap,iC=new WeakMap,rC=new WeakMap,sC=new WeakMap,aC=new WeakMap,I$);class Fde{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return At(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Cl,lh,Y0;class Ude{constructor(e,t,i,r=!1){F(this,lh);F(this,Cl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new dK:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new Tj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new PB({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return At(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=cc.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:b=null}){var k,K,V;(k=this._stats)==null||k.time("Overall");const C=this._transport.getRenderingIntent(r,s,h,g),{renderingIntent:E,cacheKey:x}=C;_(this,Cl,!1),l||(l=this._transport.getOptionalContentConfig(E));let I=this._intentStates.get(x);I||(I=Object.create(null),this._intentStates.set(x,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(E&Xs.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(C));const R=!!(this._pdfBug&&((V=globalThis.StepperManager)!=null&&V.enabled)),P=!this.recordedBBoxes&&(v||R),D=q=>{var X,ne;if(I.renderTasks.delete(L),P){const he=(X=L.gfx)==null?void 0:X.dependencyTracker.take();he&&(L.stepper&&L.stepper.setOperatorBBoxes(he,L.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=he))}T&&_(this,Cl,!0),U(this,lh,Y0).call(this),q?(L.capability.reject(q),this._abortOperatorList({intentState:I,reason:q instanceof Error?q:new Error(q)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ne=globalThis.Stats)!=null&&ne.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new mD({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:P?new Wce(t,I.operatorList.length,R):null,viewport:i,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:b});(I.renderTasks||(I.renderTasks=new Set)).add(L);const H=L.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([q,X])=>{var ne;if(this.destroyed){D();return}if((ne=this._stats)==null||ne.time("Rendering"),!(X.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:q,optionalContentConfig:X}),L.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:t=cc.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,i,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Mw.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:l,done:u}){if(u){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),_(this,Cl,!1),Promise.all(e)}cleanup(e=!1){_(this,Cl,!0);const t=U(this,lh,Y0).call(this);return e&&t&&this._stats&&(this._stats=new dK),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&U(this,lh,Y0).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:a}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();U(this,lh,Y0).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof SQ){let r=Ide;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Fd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Cl=new WeakMap,lh=new WeakSet,Y0=function(){if(!f(this,Cl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Cl,!1),!0};var Lc,ho,Bl,uh,fn,u1,ch,dh,qr,Kx,Rj,Dj,X0,Vm,Gx;let gD=(fn=class{constructor({name:e=null,port:t=null,verbosity:i=cce()}={}){F(this,qr);F(this,Lc,Promise.withResolvers());F(this,ho,null);F(this,Bl,null);F(this,uh,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(f(fn,dh).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(fn,dh).set(t,this),U(this,qr,Rj).call(this,t)}else U(this,qr,Dj).call(this)}get promise(){return f(this,Lc).promise}get port(){return f(this,Bl)}get messageHandler(){return f(this,ho)}destroy(){var e,t;this.destroyed=!0,(e=f(this,uh))==null||e.terminate(),_(this,uh,null),f(fn,dh).delete(f(this,Bl)),_(this,Bl,null),(t=f(this,ho))==null||t.destroy(),_(this,ho,null)}static create(e){const t=f(this,dh).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new fn(e)}static get workerSrc(){if(Wl.workerSrc)return Wl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return At(this,"_setupFakeWorkerGlobal",(async()=>f(this,Vm,Gx)?f(this,Vm,Gx):(await import(this.workerSrc)).WorkerMessageHandler)())}},Lc=new WeakMap,ho=new WeakMap,Bl=new WeakMap,uh=new WeakMap,u1=new WeakMap,ch=new WeakMap,dh=new WeakMap,qr=new WeakSet,Kx=function(){f(this,Lc).resolve(),f(this,ho).send("configure",{verbosity:this.verbosity})},Rj=function(e){_(this,Bl,e),_(this,ho,new z0("main","worker",e)),f(this,ho).on("ready",()=>{}),U(this,qr,Kx).call(this)},Dj=function(){if(f(fn,ch)||f(fn,Vm,Gx)){U(this,qr,X0).call(this);return}let{workerSrc:e}=fn;try{fn._isSameOrigin(window.location,e)||(e=fn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new z0("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?f(this,Lc).reject(new Error("Worker was destroyed")):U(this,qr,X0).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,uh)||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}_(this,ho,i),_(this,Bl,t),_(this,uh,t),U(this,qr,Kx).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{U(this,qr,X0).call(this)}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{F1("The worker has been disabled.")}U(this,qr,X0).call(this)},X0=function(){f(fn,ch)||(ot("Setting up fake worker."),_(fn,ch,!0)),fn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,Lc).reject(new Error("Worker was destroyed"));return}const t=new Oce;_(this,Bl,t);const i=`fake${Zn(fn,u1)._++}`,r=new z0(i+"_worker",i,t);e.setup(r,t),_(this,ho,new z0(i,i+"_worker",t)),U(this,qr,Kx).call(this)}).catch(e=>{f(this,Lc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Vm=new WeakSet,Gx=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},F(fn,Vm),F(fn,u1,0),F(fn,ch,!1),F(fn,dh,new WeakMap),Vr&&(_(fn,ch,!0),Wl.workerSrc||(Wl.workerSrc="./pdf.worker.mjs")),fn._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},fn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},fn.fromPort=e=>{if(Bce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return fn.create(e)},fn);var El,rA,Km,Gm,Sl,fh,J0;class Mde{constructor(e,t,i,r,s,a){F(this,fh);F(this,El,new Map);F(this,rA,new Map);F(this,Km,new Map);F(this,Gm,new Map);F(this,Sl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Tj,this.fontLoader=new Rce({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return At(this,"annotationStorage",new _Q)}getRenderingIntent(e,t=cc.ENABLE,i=null,r=!1,s=!1){let a=Xs.DISPLAY,o=XR;switch(e){case"any":a=Xs.ANY;break;case"display":break;case"print":a=Xs.PRINT;break;default:ot(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Xs.PRINT&&i instanceof dj?i:this.annotationStorage;switch(t){case cc.DISABLE:a+=Xs.ANNOTATIONS_DISABLE;break;case cc.ENABLE:break;case cc.ENABLE_FORMS:a+=Xs.ANNOTATIONS_FORMS;break;case cc.ENABLE_STORAGE:a+=Xs.ANNOTATIONS_STORAGE,o=l.serializable;break;default:ot(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=Xs.IS_EDITING),s&&(a+=Xs.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=f(this,Sl))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of f(this,rA).values())e.push(r._destroy());f(this,rA).clear(),f(this,Km).clear(),f(this,Gm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,El).clear(),this.filterFactory.destroy(),dD.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Fd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Ft(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Ft(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(i,r)=>{Ft(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Ft(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Fde(i,this))}),e.on("DocException",i=>{t._capability.reject(rs(i))}),e.on("PasswordRequest",i=>{_(this,Sl,Promise.withResolvers());try{if(!t.onPassword)throw rs(i);const r=s=>{s instanceof Error?f(this,Sl).reject(s):f(this,Sl).resolve({password:s})};t.onPassword(r,i.code)}catch(r){f(this,Sl).reject(r)}return f(this,Sl).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;f(this,rA).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const g=s.error;ot(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const o=new JR(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new Dce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Ft(d,"The imageRef must be defined.");for(const g of f(this,rA).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(i,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new ZR(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var l;if(this.destroyed)return;const o=f(this,rA).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ot("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=f(this,Km).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,Gm).set(s.refStr,e);const a=new Ude(t,s,this,this._params.pdfBug);return f(this,rA).set(t,a),a});return f(this,Km).set(t,r),r}getPageIndex(e){return eD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return U(this,fh,J0).call(this,"GetFieldObjects")}hasJSActions(){return U(this,fh,J0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return U(this,fh,J0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return U(this,fh,J0).call(this,"GetOptionalContentConfig").then(t=>new ude(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,El).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new Ade(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:r[2]}});return f(this,El).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,rA).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,El).clear(),this.filterFactory.destroy(!0),dD.cleanup()}}cachedPageNumber(e){if(!eD(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,Gm).get(t)??null}}El=new WeakMap,rA=new WeakMap,Km=new WeakMap,Gm=new WeakMap,Sl=new WeakMap,fh=new WeakSet,J0=function(e,t=null){const i=f(this,El).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return f(this,El).set(e,r),r};var Qc;class Pde{constructor(e){F(this,Qc,null);me(this,"onContinue",null);me(this,"onError",null);_(this,Qc,e)}get promise(){return f(this,Qc).capability.promise}cancel(e=0){f(this,Qc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,Qc).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,Qc);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Qc=new WeakMap;var kc,hh;const bf=class bf{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:b=null}){F(this,kc,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Pde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(bf,hh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(bf,hh).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Gg(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),f(this,kc)&&(window.cancelAnimationFrame(f(this,kc)),_(this,kc,null)),f(bf,hh).delete(this._canvas),e||(e=new SQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,kc,window.requestAnimationFrame(()=>{_(this,kc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(bf,hh).delete(this._canvas),this.callback())))}};kc=new WeakMap,hh=new WeakMap,F(bf,hh,new WeakSet);let mD=bf;const Nj="5.4.449",Rde="f44e5f0e6";var Ls,ph,zm,Bi,oC,qm,xl,AC,Oc,po,lr,lC,on,vD,yD,wD,df,Qj,nc;let Lj=(lr=class{constructor({editor:e=null,uiManager:t=null}){F(this,on);F(this,Ls,null);F(this,ph,null);F(this,zm);F(this,Bi,null);F(this,oC,!1);F(this,qm,!1);F(this,xl,null);F(this,AC);F(this,Oc,null);F(this,po,null);var i,r;e?(_(this,qm,!1),_(this,xl,e)):_(this,qm,!0),_(this,po,(e==null?void 0:e._uiManager)||t),_(this,AC,f(this,po)._eventBus),_(this,zm,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=f(this,po))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),f(lr,lC)||_(lr,lC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return At(this,"_keyboardManager",new DB([[["Escape","mac+Escape"],lr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],lr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],lr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],lr.prototype._moveToPrevious],[["Home","mac+Home"],lr.prototype._moveToBeginning],[["End","mac+End"],lr.prototype._moveToEnd]]))}renderButton(){const e=_(this,Ls,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,xl)&&(e.ariaControls=`${f(this,xl).id}_colorpicker_dropdown`);const t=f(this,po)._signal;e.addEventListener("click",U(this,on,df).bind(this),{signal:t}),e.addEventListener("keydown",U(this,on,wD).bind(this),{signal:t});const i=_(this,ph,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=f(this,zm),e.append(i),e}renderMainDropdown(){const e=_(this,Bi,U(this,on,vD).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,Ls)){U(this,on,df).call(this,e);return}const t=e.target.getAttribute("data-color");t&&U(this,on,yD).call(this,t,e)}_moveToNext(e){var t,i;if(!f(this,on,nc)){U(this,on,df).call(this,e);return}if(e.target===f(this,Ls)){(t=f(this,Bi).firstElementChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=f(this,Bi))==null?void 0:t.firstElementChild)||e.target===f(this,Ls)){f(this,on,nc)&&this._hideDropdownFromKeyboard();return}f(this,on,nc)||U(this,on,df).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!f(this,on,nc)){U(this,on,df).call(this,e);return}(t=f(this,Bi).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,on,nc)){U(this,on,df).call(this,e);return}(t=f(this,Bi).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Bi))==null||e.classList.add("hidden"),f(this,Ls).ariaExpanded="false",(t=f(this,Oc))==null||t.abort(),_(this,Oc,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,qm)){if(!f(this,on,nc)){(e=f(this,xl))==null||e.unselect();return}this.hideDropdown(),f(this,Ls).focus({preventScroll:!0,focusVisible:f(this,oC)})}}updateColor(e){if(f(this,ph)&&(f(this,ph).style.backgroundColor=e),!f(this,Bi))return;const t=f(this,po).highlightColors.values();for(const i of f(this,Bi).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,Ls))==null||e.remove(),_(this,Ls,null),_(this,ph,null),(t=f(this,Bi))==null||t.remove(),_(this,Bi,null)}},Ls=new WeakMap,ph=new WeakMap,zm=new WeakMap,Bi=new WeakMap,oC=new WeakMap,qm=new WeakMap,xl=new WeakMap,AC=new WeakMap,Oc=new WeakMap,po=new WeakMap,lC=new WeakMap,on=new WeakSet,vD=function(){const e=document.createElement("div"),t=f(this,po)._signal;e.addEventListener("contextmenu",Ya,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,xl)&&(e.id=`${f(this,xl).id}_colorpicker_dropdown`);for(const[i,r]of f(this,po).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",f(lr,lC)[i]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===f(this,zm),s.addEventListener("click",U(this,on,yD).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",U(this,on,wD).bind(this),{signal:t}),e},yD=function(e,t){t.stopPropagation(),f(this,AC).dispatch("switchannotationeditorparams",{source:this,type:It.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},wD=function(e){lr._keyboardManager.exec(this,e)},df=function(e){if(f(this,on,nc)){this.hideDropdown();return}if(_(this,oC,e.detail===0),f(this,Oc)||(_(this,Oc,new AbortController),window.addEventListener("pointerdown",U(this,on,Qj).bind(this),{signal:f(this,po).combinedSignal(f(this,Oc))})),f(this,Ls).ariaExpanded="true",f(this,Bi)){f(this,Bi).classList.remove("hidden");return}const t=_(this,Bi,U(this,on,vD).call(this));f(this,Ls).append(t)},Qj=function(e){var t;(t=f(this,Bi))!=null&&t.contains(e.target)||this.hideDropdown()},nc=function(){return f(this,Bi)&&!f(this,Bi).classList.contains("hidden")},F(lr,lC,null),lr);var sA,uC,$m,cC;const Cf=class Cf{constructor(e){F(this,sA,null);F(this,uC,null);F(this,$m,null);_(this,uC,e),_(this,$m,e._uiManager),f(Cf,cC)||_(Cf,cC,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,sA))return f(this,sA);const{editorType:e,colorType:t,color:i}=f(this,uC),r=_(this,sA,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",f(Cf,cC)[e]),r.addEventListener("input",()=>{f(this,$m).updateParams(t,r.value)},{signal:f(this,$m)._signal}),r}update(e){f(this,sA)&&(f(this,sA).value=e)}destroy(){var e;(e=f(this,sA))==null||e.remove(),_(this,sA,null)}hideDropdown(){}};sA=new WeakMap,uC=new WeakMap,$m=new WeakMap,cC=new WeakMap,F(Cf,cC,null);let $_=Cf;function RK(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function w0(n){return Math.max(0,Math.min(255,255*n))}class DK{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=w0(e),[e,e,e]}static G_HTML([e]){const t=RK(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(w0)}static RGB_HTML(e){return`#${e.map(RK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[w0(1-Math.min(1,e+r)),w0(1-Math.min(1,i+r)),w0(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class Dde{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){pn("Abstract method `_createSVG` called.")}}let j_=class extends Dde{_createSVG(e){return document.createElementNS(YA,e)}};const Nde=9,lp=new WeakSet,Lde=new Date().getTimezoneOffset()*60*1e3;class iM{static create(e){switch(e.data.annotationType){case hi.LINK:return new UQ(e);case hi.TEXT:return new kde(e);case hi.WIDGET:switch(e.data.fieldType){case"Tx":return new Ode(e);case"Btn":return e.data.radioButton?new Hj(e):e.data.checkBox?new Vde(e):new Kde(e);case"Ch":return new Gde(e);case"Sig":return new Hde(e)}return new vp(e);case hi.POPUP:return new CD(e);case hi.FREETEXT:return new qj(e);case hi.LINE:return new qde(e);case hi.SQUARE:return new $de(e);case hi.CIRCLE:return new jde(e);case hi.POLYLINE:return new $j(e);case hi.CARET:return new Yde(e);case hi.INK:return new MQ(e);case hi.POLYGON:return new Wde(e);case hi.HIGHLIGHT:return new jj(e);case hi.UNDERLINE:return new Xde(e);case hi.SQUIGGLY:return new Jde(e);case hi.STRIKEOUT:return new Zde(e);case hi.STAMP:return new Wj(e);case hi.FILEATTACHMENT:return new efe(e);default:return new kn(e)}}}var gh,jm,Da,dC,bD;const FO=class FO{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){F(this,dC);F(this,gh,null);F(this,jm,!1);F(this,Da,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return FO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((i==null?void 0:i.length)>=1){for(const l of i)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-a)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${Fw}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${Fw}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,Da))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,Da,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,gh)||_(this,gh,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&U(this,dC,bD).call(this,t);let r=((s=f(this,Da))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=f(this,Da).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),_(this,Da,null),this.popup=null))}resetEdited(){var e;f(this,gh)&&(U(this,dC,bD).call(this,f(this,gh).rect),(e=f(this,Da))==null||e.popup.resetEdited(),_(this,gh,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof vp)&&!(this instanceof UQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof CD){const{rotation:C}=t;return!t.hasOwnCanvas&&C!==0&&this.setRotation(C,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const C=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(C>0||E>0){const I=`calc(${C}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof Hj){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case mg.SOLID:a.borderStyle="solid";break;case mg.DASHED:a.borderStyle="dashed";break;case mg.BEVELED:ot("Unimplemented border style: beveled");break;case mg.INSET:ot("Unimplemented border style: inset");break;case mg.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(_(this,jm,!0),a.borderColor=He.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const u=He.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=r.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*a/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=DK[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:DK[`${a}_rgb`](o)})};return At(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const a=i[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,E,x,I]=e.subarray(2,6);if(r===C&&s===E&&t===x&&i===I)return}const{style:a}=this.container;let o;if(f(this,jm)){const{borderColor:C,borderWidth:E}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let C=2,E=e.length;C<E;C+=8){const x=e[C],I=e[C+1],T=e[C+2],R=e[C+3],P=d.createElement("rect"),D=(T-t)/l,L=(s-I)/u,H=(x-T)/l,k=(I-R)/u;P.setAttribute("x",D),P.setAttribute("y",L),P.setAttribute("width",H),P.setAttribute("height",k),v.append(P),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${L}" width="${H}" height="${k}"/>`)}f(this,jm)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),_(this,Da,new CD({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,Da)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,Da)}render(){pn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!lp.has(u)){ot(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&lp.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};gh=new WeakMap,jm=new WeakMap,Da=new WeakMap,dC=new WeakSet,bD=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(r)};let kn=FO;class Qde extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var ea,ff,kj,Oj;class UQ extends kn{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});F(this,ea);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(U(this,ea,kj).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(U(this,ea,Oj).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&U(this,ea,ff).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),U(this,ea,ff).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),U(this,ea,ff).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),U(this,ea,ff).call(this),!this._fieldObjects){ot('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:a,include:o}=i,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const b=this._fieldObjects[v]||[];for(const{id:C}of b)g.add(C)}for(const v of Object.values(this._fieldObjects))for(const b of v)g.has(b.id)===o&&l.push(b)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}case"checkbox":case"radiobutton":{const C=g.defaultValue===g.exportValues;u.setValue(v,{value:C});break}case"combobox":case"listbox":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}default:continue}const b=document.querySelector(`[data-element-id="${v}"]`);if(b){if(!lp.has(b)){ot(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}ea=new WeakSet,ff=function(){this.container.setAttribute("data-internal-link","")},kj=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},U(this,ea,ff).call(this)},Oj=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),U(this,ea,ff).call(this)};class kde extends kn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class vp extends kn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return mr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,i,r){var s,a,o;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":He.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Nde,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(WU*r))||1,h=u/d;a=Math.min(r,l(h/WU))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(u/WU))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=He.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Ode extends vp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),lp.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,b=!!g&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",E=>{e.setValue(t,{value:E.target.value}),this.setPropertyOnSiblings(i,"value",E.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",E=>{const x=this.data.defaultFieldValue??"";i.value=d.userValue=x,d.formattedValue=null});let C=E=>{const{formattedValue:x}=d;x!=null&&(E.target.value=x),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",x=>{var T;if(d.focused)return;const{target:I}=x;if(b&&(I.type=g,v&&(I.step=v)),d.userValue){const R=d.userValue;if(b)if(g==="time"){const P=new Date(R),D=[P.getHours(),P.getMinutes(),P.getSeconds()];I.value=D.map(L=>L.toString().padStart(2,"0")).join(":")}else I.value=new Date(R-Lde).toISOString().split(g==="date"?"T":".",1)[0];else I.value=R}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const I={value(T){d.userValue=T.detail.value??"",b||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:R}=T.detail;d.formattedValue=R,R!=null&&T.target!==document.activeElement&&(T.target.value=R);const P={formattedValue:R};b&&(P.value=R),e.setValue(t,P)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var L;const{charLimit:R}=T.detail,{target:P}=T;if(R===0){P.removeAttribute("maxLength");return}P.setAttribute("maxLength",R);let D=d.userValue;!D||D.length<=R||(D=D.slice(0,R),P.value=d.userValue=D,e.setValue(t,{value:D}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:P.selectionStart,selEnd:P.selectionEnd}}))}};this._dispatchEventFromSandbox(I,x)}),i.addEventListener("keydown",x=>{var R;d.commitKey=1;let I=-1;if(x.key==="Escape"?I=0:x.key==="Enter"&&!this.data.multiLine?I=2:x.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=x.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const E=C;C=null,i.addEventListener("blur",x=>{var R,P;if(!d.focused||!x.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(d.focused=!1);const{target:I}=x;let{value:T}=I;if(b){if(T&&g==="time"){const D=T.split(":").map(L=>parseInt(L,10));T=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),E(x)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",x=>{var k;d.lastCommittedValue=null;const{data:I,target:T}=x,{value:R,selectionStart:P,selectionEnd:D}=T;let L=P,H=D;switch(x.inputType){case"deleteWordBackward":{const K=R.substring(0,P).match(/\w*[^\w]*$/);K&&(L-=K[0].length);break}case"deleteWordForward":{const K=R.substring(P).match(/^[^\w]*\w*/);K&&(H+=K[0].length);break}case"deleteContentBackward":P===D&&(L-=1);break;case"deleteContentForward":P===D&&(H+=1);break}x.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:I||"",willCommit:!1,selStart:L,selEnd:H}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(C&&i.addEventListener("blur",C),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Hde extends vp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Vde extends vp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return lp.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Hj extends vp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(lp.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===i;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Kde extends UQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class Gde extends vp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");lp.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=r;return v?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const C of r.options)C.selected=b.has(C.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){r.multiple=!0},remove(g){const v=r.options,b=g.detail.remove;v[b].selected=!1,r.remove(b),v.length>0&&Array.prototype.findIndex.call(v,E=>E.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:b,exportValue:C}=g.detail.insert,E=r.children[v],x=document.createElement("option");x.textContent=b,x.value=C,E?E.before(x):r.append(x),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;r.length!==0;)r.remove(0);for(const b of v){const{displayValue:C,exportValue:E}=b,x=document.createElement("option");x.textContent=C,x.value=E,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const b of g.target.options)b.selected=v.has(b.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var fC,BD;class CD extends kn{constructor(t){const{data:i,elements:r,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&kn._hasPopupData(i)});F(this,fC);if(this.elements=r,a&&kn._hasPopupData(i)){const o=this.popup=U(this,fC,BD).call(this);for(const l of r)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=U(this,fC,BD).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${Mg}${s}`).join(",")),this.container}}fC=new WeakSet,BD=function(){return new zde({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Qs,Hc,c1,d1,Wm,Ym,Gn,aA,Vc,mh,Xm,Jm,oA,ks,_l,Tl,zn,Il,Kc,hC,Fl,Zm,vh,Gc,Oi,zc,vt,zx,ED,SD,xD,qx,_D,Vj,Kj,Gj,zj,$x,jx,TD;class zde{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){F(this,vt);F(this,Qs,null);F(this,Hc,U(this,vt,Gj).bind(this));F(this,c1,U(this,vt,TD).bind(this));F(this,d1,U(this,vt,jx).bind(this));F(this,Wm,U(this,vt,$x).bind(this));F(this,Ym,null);F(this,Gn,null);F(this,aA,null);F(this,Vc,null);F(this,mh,null);F(this,Xm,null);F(this,Jm,null);F(this,oA,!1);F(this,ks,null);F(this,_l,null);F(this,Tl,null);F(this,zn,null);F(this,Il,null);F(this,Kc,null);F(this,hC,null);F(this,Fl,null);F(this,Zm,null);F(this,vh,null);F(this,Gc,!1);F(this,Oi,null);F(this,zc,null);_(this,Gn,e),_(this,Zm,r),_(this,aA,a),_(this,Fl,o),_(this,Xm,l),_(this,Ym,t),_(this,hC,u),_(this,Jm,d),_(this,mh,i),_(this,Qs,g),_(this,Oi,i[0]),_(this,Vc,UR.toDateObject(s)),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),g||(U(this,vt,zx).call(this),f(this,Gn).hidden=!0,h&&U(this,vt,$x).call(this))}renderCommentButton(){if(f(this,zn)){f(this,zn).parentNode||f(this,Oi).container.after(f(this,zn));return}if(f(this,Il)||U(this,vt,ED).call(this),!f(this,Il))return;const{signal:e}=_(this,_l,new AbortController),t=f(this,Oi).hasOwnCommentButton,i=()=>{f(this,Qs).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{f(this,Qs).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,Qs).toggleCommentPopup(this,!1,!1)};if(t){_(this,zn,f(this,Oi).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,Hc),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,zn,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,Oi).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),U(this,vt,xD).call(this),U(this,vt,SD).call(this),a.addEventListener("keydown",f(this,Hc),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,Oi).commentData;return e?f(this,Xm)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,zn))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=f(this,Oi).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return f(this,zn)}get comment(){return f(this,zc)||_(this,zc,f(this,Oi).commentText),f(this,zc)}set comment(e){e!==this.comment&&(f(this,Oi).commentText=_(this,zc,e))}focus(){var e;(e=f(this,Oi).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,Oi).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,zn)&&(f(this,zn).classList.toggle("selected",e),f(this,zn).ariaExpanded=t)}setSelectedCommentButton(e){f(this,zn).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,Kc))return f(this,Kc);const{x:e,y:t,height:i}=f(this,zn).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,Oi).layer.getBoundingClientRect();return[(e-r)/a,(t+i-s)/o]}set commentPopupPosition(e){_(this,Kc,e)}hasDefaultPopupPosition(){return f(this,Kc)===null}get commentButtonPosition(){return f(this,Il)}get commentButtonWidth(){return f(this,zn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=f(this,Kc)||this.commentButtonPosition.map(u=>u/100),r=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=r;f(this,Qs).showDialog(null,this,s+t*o,a+i*l,{...e,parentDimensions:r})}render(){var i,r;if(f(this,ks))return;const e=_(this,ks,document.createElement("div"));if(e.className="popup",f(this,Ym)){const s=e.style.outlineColor=He.makeHexColor(...f(this,Ym));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=f(this,Zm))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,Zm)}if(e.append(t),f(this,Vc)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,Vc).valueOf()})),s.dateTime=f(this,Vc).toISOString(),t.append(s)}F6({html:f(this,vt,qx)||f(this,aA).str,dir:(r=f(this,aA))==null?void 0:r.dir,className:"popupContent"},e),f(this,Gn).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(f(this,Qs)){i?(this.remove(),_(this,zc,null)):t&&(t.deleted?this.remove():(U(this,vt,xD).call(this),_(this,zc,t.text))),e&&(_(this,Il,null),U(this,vt,ED).call(this),U(this,vt,SD).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}U(this,vt,zx).call(this),f(this,vh)||_(this,vh,{contentsObj:f(this,aA),richText:f(this,Fl)}),e&&_(this,Tl,null),t&&t.text&&(_(this,Fl,U(this,vt,Kj).call(this,t.text)),_(this,Vc,UR.toDateObject(t.date)),_(this,aA,null)),(r=f(this,ks))==null||r.remove(),_(this,ks,null)}resetEdited(){var e;f(this,vh)&&({contentsObj:Zn(this,aA)._,richText:Zn(this,Fl)._}=f(this,vh),_(this,vh,null),(e=f(this,ks))==null||e.remove(),_(this,ks,null),_(this,Tl,null))}remove(){var e,t,i;if((e=f(this,_l))==null||e.abort(),_(this,_l,null),(t=f(this,ks))==null||t.remove(),_(this,ks,null),_(this,Gc,!1),_(this,oA,!1),(i=f(this,zn))==null||i.remove(),_(this,zn,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){_(this,Gc,this.isVisible),f(this,Gc)&&(f(this,Gn).hidden=!0)}maybeShow(){f(this,Qs)||(U(this,vt,zx).call(this),f(this,Gc)&&(f(this,ks)||U(this,vt,jx).call(this),_(this,Gc,!1),f(this,Gn).hidden=!1))}get isVisible(){return f(this,Qs)?!1:f(this,Gn).hidden===!1}}Qs=new WeakMap,Hc=new WeakMap,c1=new WeakMap,d1=new WeakMap,Wm=new WeakMap,Ym=new WeakMap,Gn=new WeakMap,aA=new WeakMap,Vc=new WeakMap,mh=new WeakMap,Xm=new WeakMap,Jm=new WeakMap,oA=new WeakMap,ks=new WeakMap,_l=new WeakMap,Tl=new WeakMap,zn=new WeakMap,Il=new WeakMap,Kc=new WeakMap,hC=new WeakMap,Fl=new WeakMap,Zm=new WeakMap,vh=new WeakMap,Gc=new WeakMap,Oi=new WeakMap,zc=new WeakMap,vt=new WeakSet,zx=function(){var t;if(f(this,_l))return;_(this,_l,new AbortController);const{signal:e}=f(this,_l);for(const i of this.trigger)i.addEventListener("click",f(this,Wm),{signal:e}),i.addEventListener("pointerenter",f(this,d1),{signal:e}),i.addEventListener("pointerleave",f(this,c1),{signal:e}),i.classList.add("popupTriggerArea");for(const i of f(this,mh))(t=i.container)==null||t.addEventListener("keydown",f(this,Hc),{signal:e})},ED=function(){const e=f(this,mh).find(t=>t.hasCommentButton);e&&_(this,Il,e._normalizePoint(e.commentButtonPosition))},SD=function(){if(f(this,Oi).extraPopupElement&&!f(this,Oi).editor)return;f(this,zn)||this.renderCommentButton();const[e,t]=f(this,Il),{style:i}=f(this,zn);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},xD=function(){f(this,Oi).extraPopupElement||(f(this,zn)||this.renderCommentButton(),f(this,zn).style.backgroundColor=this.commentButtonColor||"")},qx=function(){const e=f(this,Fl),t=f(this,aA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,Fl).html||null},_D=function(){var e,t,i;return((i=(t=(e=f(this,vt,qx))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},Vj=function(){var e,t,i;return((i=(t=(e=f(this,vt,qx))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},Kj=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:f(this,vt,Vj),fontSize:f(this,vt,_D)?`calc(${f(this,vt,_D)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},Gj=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,oA))&&U(this,vt,$x).call(this)},zj=function(){if(f(this,Tl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=f(this,Xm);let a=!!f(this,Jm),o=a?f(this,Jm):f(this,hC);for(const b of f(this,mh))if(!o||He.intersect(b.data.rect,o)!==null){o=b.data.rect,a=!0;break}const l=He.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,Tl,[100*(h-r)/t,100*(g-s)/i]);const{style:v}=f(this,Gn);v.left=`${f(this,Tl)[0]}%`,v.top=`${f(this,Tl)[1]}%`},$x=function(){if(f(this,Qs)){f(this,Qs).toggleCommentPopup(this,!1);return}_(this,oA,!f(this,oA)),f(this,oA)?(U(this,vt,jx).call(this),f(this,Gn).addEventListener("click",f(this,Wm)),f(this,Gn).addEventListener("keydown",f(this,Hc))):(U(this,vt,TD).call(this),f(this,Gn).removeEventListener("click",f(this,Wm)),f(this,Gn).removeEventListener("keydown",f(this,Hc)))},jx=function(){f(this,ks)||this.render(),this.isVisible?f(this,oA)&&f(this,Gn).classList.add("focused"):(U(this,vt,zj).call(this),f(this,Gn).hidden=!1,f(this,Gn).style.zIndex=parseInt(f(this,Gn).style.zIndex)+1e3)},TD=function(){f(this,Gn).classList.remove("focused"),!(f(this,oA)||!this.isVisible)&&(f(this,Gn).hidden=!0,f(this,Gn).style.zIndex=parseInt(f(this,Gn).style.zIndex)-1e3)};class qj extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ut.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var pC;class qde extends kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,pC,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=_(this,pC,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,pC)}addHighlightArea(){this.container.classList.add("highlightArea")}}pC=new WeakMap;var gC;class $de extends kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,gC,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,gC,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,gC)}addHighlightArea(){this.container.classList.add("highlightArea")}}gC=new WeakMap;var mC;class jde extends kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,mC,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,mC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,mC)}addHighlightArea(){this.container.classList.add("highlightArea")}}mC=new WeakMap;var vC;class $j extends kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,vC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:a,height:o}=this;if(!i)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=i.length;h<g;h+=2){const v=i[h]-t[0],b=t[3]-i[h+1];u.push(`${v},${b}`)}u=u.join(" ");const d=_(this,vC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,vC)}addHighlightArea(){this.container.classList.add("highlightArea")}}vC=new WeakMap;class Wde extends $j{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yde extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var yC,yh,wC,ID;class MQ extends kn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,wC);F(this,yC,null);F(this,yh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ut.HIGHLIGHT:ut.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=U(this,wC,ID).call(this,i,t),d=this.svgFactory.create(l,u,!0),h=_(this,yC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=r.length;g<v;g++){const b=this.svgFactory.createElement(this.svgElementName);f(this,yh).push(b),b.setAttribute("points",r[g].join(",")),h.append(b)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,a=f(this,yC);if(i>=0&&a.setAttribute("stroke-width",i||1),r)for(let o=0,l=f(this,yh).length;o<l;o++)f(this,yh)[o].setAttribute("points",r[o].join(","));if(s){const{transform:o,width:l,height:u}=U(this,wC,ID).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,yh)}addHighlightArea(){this.container.classList.add("highlightArea")}}yC=new WeakMap,yh=new WeakMap,wC=new WeakSet,ID=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class jj extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ut.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Xde extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Jde extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Zde extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Wj extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ut.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var bC,CC,FD;class efe extends kn{constructor(t){var r;super(t,{isRenderable:!0});F(this,CC);F(this,bC,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",U(this,CC,FD).bind(this)),_(this,bC,r);const{isMac:s}=mr.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&U(this,CC,FD).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return f(this,bC)}addHighlightArea(){this.container.classList.add("highlightArea")}}bC=new WeakMap,CC=new WeakSet,FD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var wh,bh,ev,qc,BC,Ch,Os,EC,ou,Wx,UD,tv;let tfe=(tv=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){F(this,ou);F(this,wh,null);F(this,bh,null);F(this,ev,null);F(this,qc,new Map);F(this,BC,null);F(this,Ch,null);F(this,Os,[]);F(this,EC,!1);this.div=e,_(this,wh,t),_(this,bh,i),_(this,BC,o||null),_(this,Ch,u||null),_(this,ev,d||new _Q),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=l||null}hasEditableAnnotations(){return f(this,qc).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;op(i,this.viewport);const r=new Map,s=[],a={data:null,layer:i,linkService:f(this,Ch),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new j_,annotationStorage:f(this,ev),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===hi.POPUP;if(u){const g=r.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=iM.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,Os).push(d),l.popupRef)){const g=r.get(l.popupRef);g?g.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,qc).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await U(this,ou,Wx).call(this);for(const l of s){const u=a.elements=r.get(l.id);a.data=l;const d=iM.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Mg}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}U(this,ou,UD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,Ch),svgFactory:new j_,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=tv._defaultBorderStyle),t.data=i;const r=iM.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${Mg}${i.id}`,f(this,Os).push(r))}await U(this,ou,Wx).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,op(t,{rotation:e.rotation}),U(this,ou,UD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,qc).values())}getEditableAnnotation(e){return f(this,qc).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new Qde({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,Ch),annotationStorage:f(this,ev)});return s.render(),s.contentElement.id=`${Mg}${i}`,s.createOrUpdatePopup(),f(this,Os).push(s),s}removeAnnotation(e){var r;const t=f(this,Os).findIndex(s=>s.data.id===e);if(t<0)return;const[i]=f(this,Os).splice(t,1);(r=f(this,wh))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);U(this,ou,Wx).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return At(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:mg.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},wh=new WeakMap,bh=new WeakMap,ev=new WeakMap,qc=new WeakMap,BC=new WeakMap,Ch=new WeakMap,Os=new WeakMap,EC=new WeakMap,ou=new WeakSet,Wx=async function(){var i,r,s;if(f(this,Os).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,EC)){_(this,EC,!0);for(const{contentElement:a,data:{id:o}}of f(this,Os)){const l=a.id=`${Mg}${o}`;e.push((i=f(this,BC))==null?void 0:i.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,Os).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const b=u,C=o,E=(o+u)/2,x=v,I=h,T=(h+v)/2;if(E>=x&&T<=C)return-1;if(T>=b&&E<=I)return 1;const R=(a+l)/2,P=(d+g)/2;return R-P});const t=document.createDocumentFragment();for(const a of f(this,Os))t.append(a.container),this._commentManager?(s=((r=a.extraPopupElement)==null?void 0:r.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,wh))for(const a of f(this,Os))f(this,wh).addPointerInTextLayer(a.contentElement,!1)},UD=function(){var t;if(!f(this,bh))return;const e=this.div;for(const[i,r]of f(this,bh)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r);const o=f(this,qc).get(i);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),o._hasNoCanvas=!1):o.canvas=r)}f(this,bh).clear()},tv);const MS=/\r\n?|\n/g;var Hs,SC,Bh,Vs,wi,Yj,Xj,Jj,Yx,Au,Xx,Jx,Zj,PD,eW;const xn=class xn extends Bn{constructor(t){super({...t,name:"freeTextEditor"});F(this,wi);F(this,Hs,"");F(this,SC,`${this.id}-editor`);F(this,Bh,null);F(this,Vs);me(this,"_colorPicker",null);this.color=t.color||xn._defaultColor||Bn._defaultLineColor,_(this,Vs,t.fontSize||xn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=xn.prototype,i=a=>a.isEmpty(),r=Pw.TRANSLATE_SMALL,s=Pw.TRANSLATE_BIG;return At(this,"_keyboardManager",new DB([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Bn.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case It.FREETEXT_SIZE:xn._defaultFontSize=i;break;case It.FREETEXT_COLOR:xn._defaultColor=i;break}}updateParams(t,i){switch(t){case It.FREETEXT_SIZE:U(this,wi,Yj).call(this,i);break;case It.FREETEXT_COLOR:U(this,wi,Xj).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[It.FREETEXT_SIZE,xn._defaultFontSize],[It.FREETEXT_COLOR,xn._defaultColor||Bn._defaultLineColor]]}get propertiesToUpdate(){return[[It.FREETEXT_SIZE,f(this,Vs)],[It.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new $_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return It.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-xn._internalPadding*t,-(xn._internalPadding+f(this,Vs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Bh,new AbortController);const t=this._uiManager.combinedSignal(f(this,Bh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,SC)),this._isDraggable=!0,(t=f(this,Bh))==null||t.abort(),_(this,Bh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,Hs),i=_(this,Hs,U(this,wi,Jj).call(this).trimEnd());if(t===i)return;const r=s=>{if(_(this,Hs,s),!s){this.remove();return}U(this,wi,Jx).call(this),this._uiManager.rebuild(this),U(this,wi,Yx).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),U(this,wi,Yx).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){xn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,SC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${f(this,Vs)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let b,C;switch(this.rotation){case 0:b=t+(o[0]-g)/d,C=i+this.height-(o[1]-v)/h;break;case 90:b=t+(o[0]-g)/d,C=i-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:b=t-this.width+(o[0]-g)/d,C=i-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:b=t+(o[0]-g-this.height*h)/d,C=i+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(b*s,C*a,l,u)}else this._moveAfterPaste(t,i);U(this,wi,Jx).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,C,E;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=U(b=xn,Au,PD).call(b,i.getData("text")||"").replaceAll(MS,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(MS,"")),x!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===x){I=h;continue}I.push(U(C=xn,Au,Xx).call(C,T))}}d.push(l.nodeValue.slice(0,u).replaceAll(MS,""))}else if(l===this.editorDiv){let x=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(x=h),x.push(U(E=xn,Au,Xx).call(E,T))}_(this,Hs,`${d.join(`
`)}${s}${h.join(`
`)}`),U(this,wi,Jx).call(this);const g=new Range;let v=Math.sumPrecise(d.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const I=x.nodeValue.length;if(v<=I){g.setStart(x,v),g.setEnd(x,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=xn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var o;let s=null;if(t instanceof qj){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:b,contentsObj:C,creationDate:E,modificationDate:x},textContent:I,textPosition:T,parent:{page:{pageNumber:R}}}=t;if(!I||I.length===0)return null;s=t={annotationType:ut.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:R-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(C==null?void 0:C.str)||null,richText:b,creationDate:E,modificationDate:x}}const a=await super.deserialize(t,i,r);return _(a,Vs,t.fontSize),a.color=He.makeHexColor(...t.color),_(a,Hs,U(o=xn,Au,PD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Bn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:f(this,Vs),value:U(this,wi,Zj).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!U(this,wi,eW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${f(this,Vs)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of f(this,Hs).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),i.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,Hs)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Hs=new WeakMap,SC=new WeakMap,Bh=new WeakMap,Vs=new WeakMap,wi=new WeakSet,Yj=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,Vs))*this.parentScale),_(this,Vs,s),U(this,wi,Yx).call(this)},r=f(this,Vs);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Xj=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jj=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(U(r=xn,Au,Xx).call(r,s)),i=s);return t.join(`
`)},Yx=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},Au=new WeakSet,Xx=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(MS,"")},Jx=function(){if(this.editorDiv.replaceChildren(),!!f(this,Hs))for(const t of f(this,Hs).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},Zj=function(){return f(this,Hs).replaceAll(""," ")},PD=function(t){return t.replaceAll(" ","")},eW=function(t){const{value:i,fontSize:r,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},F(xn,Au),me(xn,"_freeTextDefaultContent",""),me(xn,"_internalPadding",0),me(xn,"_defaultColor",null),me(xn,"_defaultFontSize",10),me(xn,"_type","freetext"),me(xn,"_editorType",ut.FREETEXT);let MD=xn;class Qe{toSVGPath(){pn("Abstract method `toSVGPath` must be implemented.")}get box(){pn("Abstract getter `box` must be implemented.")}serialize(e,t){pn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*r,a[o+1]=i+e[o+1]*s;return a}static _rescaleAndSwap(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*r,a[o+1]=i+e[o]*s;return a}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,a){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+a)/6,(i+s)/2,(r+a)/2]}}me(Qe,"PRECISION",1e-4);var Ks,go,nv,iv,AA,bt,Eh,Sh,xC,_C,rv,sv,$c,TC,f1,h1,Ti,Z0,tW,nW,iW,rW,sW,aW;const tl=class tl{constructor({x:e,y:t},i,r,s,a,o=0){F(this,Ti);F(this,Ks);F(this,go,[]);F(this,nv);F(this,iv);F(this,AA,[]);F(this,bt,new Float32Array(18));F(this,Eh);F(this,Sh);F(this,xC);F(this,_C);F(this,rv);F(this,sv);F(this,$c,[]);_(this,Ks,i),_(this,sv,s*r),_(this,iv,a),f(this,bt).set([NaN,NaN,NaN,NaN,e,t],6),_(this,nv,o),_(this,_C,f(tl,TC)*r),_(this,xC,f(tl,h1)*r),_(this,rv,r),f(this,$c).push(e,t)}isEmpty(){return isNaN(f(this,bt)[8])}add({x:e,y:t}){var k;_(this,Eh,e),_(this,Sh,t);const[i,r,s,a]=f(this,Ks);let[o,l,u,d]=f(this,bt).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,xC))return!1;const b=v-f(this,_C),C=b/v,E=C*h,x=C*g;let I=o,T=l;o=u,l=d,u+=E,d+=x,(k=f(this,$c))==null||k.push(e,t);const R=-x/b,P=E/b,D=R*f(this,sv),L=P*f(this,sv);return f(this,bt).set(f(this,bt).subarray(2,8),0),f(this,bt).set([u+D,d+L],4),f(this,bt).set(f(this,bt).subarray(14,18),12),f(this,bt).set([u-D,d-L],16),isNaN(f(this,bt)[6])?(f(this,AA).length===0&&(f(this,bt).set([o+D,l+L],2),f(this,AA).push(NaN,NaN,NaN,NaN,(o+D-i)/s,(l+L-r)/a),f(this,bt).set([o-D,l-L],14),f(this,go).push(NaN,NaN,NaN,NaN,(o-D-i)/s,(l-L-r)/a)),f(this,bt).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,bt).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(x,E))<Math.PI/2?([o,l,u,d]=f(this,bt).subarray(2,6),f(this,AA).push(NaN,NaN,NaN,NaN,((o+u)/2-i)/s,((l+d)/2-r)/a),[o,l,I,T]=f(this,bt).subarray(14,18),f(this,go).push(NaN,NaN,NaN,NaN,((I+o)/2-i)/s,((T+l)/2-r)/a),!0):([I,T,o,l,u,d]=f(this,bt).subarray(0,6),f(this,AA).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),[u,d,o,l,I,T]=f(this,bt).subarray(12,18),f(this,go).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,AA),t=f(this,go);if(isNaN(f(this,bt)[6])&&!this.isEmpty())return U(this,Ti,tW).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);U(this,Ti,iW).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return U(this,Ti,nW).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,a){return new oW(e,t,i,r,s,a)}getOutlines(){var h;const e=f(this,AA),t=f(this,go),i=f(this,bt),[r,s,a,o]=f(this,Ks),l=new Float32Array((((h=f(this,$c))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,$c)[g]-r)/a,l[g+1]=(f(this,$c)[g+1]-s)/o;if(l[l.length-2]=(f(this,Eh)-r)/a,l[l.length-1]=(f(this,Sh)-s)/o,isNaN(i[6])&&!this.isEmpty())return U(this,Ti,rW).call(this,l);const u=new Float32Array(f(this,AA).length+24+f(this,go).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=U(this,Ti,aW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return U(this,Ti,sW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,Ks),f(this,rv),f(this,nv),f(this,iv))}};Ks=new WeakMap,go=new WeakMap,nv=new WeakMap,iv=new WeakMap,AA=new WeakMap,bt=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,xC=new WeakMap,_C=new WeakMap,rv=new WeakMap,sv=new WeakMap,$c=new WeakMap,TC=new WeakMap,f1=new WeakMap,h1=new WeakMap,Ti=new WeakSet,Z0=function(){const e=f(this,bt).subarray(4,6),t=f(this,bt).subarray(16,18),[i,r,s,a]=f(this,Ks);return[(f(this,Eh)+(e[0]-t[0])/2-i)/s,(f(this,Sh)+(e[1]-t[1])/2-r)/a,(f(this,Eh)+(t[0]-e[0])/2-i)/s,(f(this,Sh)+(t[1]-e[1])/2-r)/a]},tW=function(){const[e,t,i,r]=f(this,Ks),[s,a,o,l]=U(this,Ti,Z0).call(this);return`M${(f(this,bt)[2]-e)/i} ${(f(this,bt)[3]-t)/r} L${(f(this,bt)[4]-e)/i} ${(f(this,bt)[5]-t)/r} L${s} ${a} L${o} ${l} L${(f(this,bt)[16]-e)/i} ${(f(this,bt)[17]-t)/r} L${(f(this,bt)[14]-e)/i} ${(f(this,bt)[15]-t)/r} Z`},nW=function(e){const t=f(this,go);e.push(`L${t[4]} ${t[5]} Z`)},iW=function(e){const[t,i,r,s]=f(this,Ks),a=f(this,bt).subarray(4,6),o=f(this,bt).subarray(16,18),[l,u,d,h]=U(this,Ti,Z0).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-i)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/r} ${(o[1]-i)/s}`)},rW=function(e){const t=f(this,bt),[i,r,s,a]=f(this,Ks),[o,l,u,d]=U(this,Ti,Z0).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(h,e,f(this,Ks),f(this,rv),f(this,nv),f(this,iv))},sW=function(e,t){const i=f(this,go);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},aW=function(e,t){const i=f(this,bt).subarray(4,6),r=f(this,bt).subarray(16,18),[s,a,o,l]=f(this,Ks),[u,d,h,g]=U(this,Ti,Z0).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l],t),t+=24},F(tl,TC,8),F(tl,f1,2),F(tl,h1,f(tl,TC)+f(tl,f1));let W_=tl;var av,xh,Ul,IC,Gs,FC,ii,p1,AW;class oW extends Qe{constructor(t,i,r,s,a,o){super();F(this,p1);F(this,av);F(this,xh,new Float32Array(4));F(this,Ul);F(this,IC);F(this,Gs);F(this,FC);F(this,ii);_(this,ii,t),_(this,Gs,i),_(this,av,r),_(this,FC,s),_(this,Ul,a),_(this,IC,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],U(this,p1,AW).call(this,o);const[l,u,d,h]=f(this,xh);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=i.length;g<v;g+=2)i[g]=(i[g]-l)/d,i[g+1]=(i[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,ii)[4]} ${f(this,ii)[5]}`];for(let i=6,r=f(this,ii).length;i<r;i+=6){if(isNaN(f(this,ii)[i])){t.push(`L${f(this,ii)[i+4]} ${f(this,ii)[i+5]}`);continue}t.push(`C${f(this,ii)[i]} ${f(this,ii)[i+1]} ${f(this,ii)[i+2]} ${f(this,ii)[i+3]} ${f(this,ii)[i+4]} ${f(this,ii)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],a){const o=r-t,l=s-i;let u,d;switch(a){case 0:u=Qe._rescale(f(this,ii),t,s,o,-l),d=Qe._rescale(f(this,Gs),t,s,o,-l);break;case 90:u=Qe._rescaleAndSwap(f(this,ii),t,i,o,l),d=Qe._rescaleAndSwap(f(this,Gs),t,i,o,l);break;case 180:u=Qe._rescale(f(this,ii),r,i,-o,l),d=Qe._rescale(f(this,Gs),r,i,-o,l);break;case 270:u=Qe._rescaleAndSwap(f(this,ii),r,s,-o,-l),d=Qe._rescaleAndSwap(f(this,Gs),r,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,xh)}newOutliner(t,i,r,s,a,o=0){return new W_(t,i,r,s,a,o)}getNewOutline(t,i){const[r,s,a,o]=f(this,xh),[l,u,d,h]=f(this,av),g=a*d,v=o*h,b=r*d+l,C=s*h+u,E=this.newOutliner({x:f(this,Gs)[0]*g+b,y:f(this,Gs)[1]*v+C},f(this,av),f(this,FC),t,f(this,IC),i??f(this,Ul));for(let x=2;x<f(this,Gs).length;x+=2)E.add({x:f(this,Gs)[x]*g+b,y:f(this,Gs)[x+1]*v+C});return E.getOutlines()}}av=new WeakMap,xh=new WeakMap,Ul=new WeakMap,IC=new WeakMap,Gs=new WeakMap,FC=new WeakMap,ii=new WeakMap,p1=new WeakSet,AW=function(t){const i=f(this,ii);let r=i[4],s=i[5];const a=[r,s,r,s];let o=r,l=s,u=r,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let b=6,C=i.length;b<C;b+=6){const E=i[b+4],x=i[b+5];isNaN(i[b])?(He.pointBoundingBox(E,x,a),l>x?(o=E,l=x):l===x&&(o=h(o,E)),d<x?(u=E,d=x):d===x&&(u=h(u,E))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,He.bezierBoundingBox(r,s,...i.slice(b,b+6),g),He.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),r=E,s=x}const v=f(this,xh);v[0]=a[0]-f(this,Ul),v[1]=a[1]-f(this,Ul),v[2]=a[2]-a[0]+2*f(this,Ul),v[3]=a[3]-a[1]+2*f(this,Ul),this.firstPoint=[o,l],this.lastPoint=[u,d]};var UC,MC,PC,jc,mo,$r,lW,Zx,uW,cW,DD;class RD{constructor(e,t=0,i=0,r=!0){F(this,$r);F(this,UC);F(this,MC);F(this,PC);F(this,jc,[]);F(this,mo,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:C,y:E,width:x,height:I}of e){const T=Math.floor((C-t)/a)*a,R=Math.ceil((C+x+t)/a)*a,P=Math.floor((E-t)/a)*a,D=Math.ceil((E+I+t)/a)*a,L=[T,P,D,!0],H=[R,P,D,!1];f(this,jc).push(L,H),He.rectBoundingBox(T,P,R,D,s)}const o=s[2]-s[0]+2*i,l=s[3]-s[1]+2*i,u=s[0]-i,d=s[1]-i;let h=r?-1/0:1/0,g=1/0;const v=f(this,jc).at(r?-1:-2),b=[v[0],v[2]];for(const C of f(this,jc)){const[E,x,I,T]=C;!T&&r?x<g?(g=x,h=E):x===g&&(h=Math.max(h,E)):T&&!r&&(x<g?(g=x,h=E):x===g&&(h=Math.min(h,E))),C[0]=(E-u)/o,C[1]=(x-d)/l,C[2]=(I-d)/l}_(this,UC,new Float32Array([u,d,o,l])),_(this,MC,[h,g]),_(this,PC,b)}getOutlines(){f(this,jc).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of f(this,jc))t[3]?(e.push(...U(this,$r,DD).call(this,t)),U(this,$r,uW).call(this,t)):(U(this,$r,cW).call(this,t),e.push(...U(this,$r,DD).call(this,t)));return U(this,$r,lW).call(this,e)}}UC=new WeakMap,MC=new WeakMap,PC=new WeakMap,jc=new WeakMap,mo=new WeakMap,$r=new WeakSet,lW=function(e){const t=[],i=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,l,u,d,h]=a;i.delete(a);let g=o,v=l;for(s=[o,u],r.push(s);;){let b;if(i.has(d))b=d;else if(i.has(h))b=h;else break;i.delete(b),[o,l,u,d,h]=b,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new nfe(r,f(this,UC),f(this,MC),f(this,PC))},Zx=function(e){const t=f(this,mo);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},uW=function([,e,t]){const i=U(this,$r,Zx).call(this,e);f(this,mo).splice(i,0,[e,t])},cW=function([,e,t]){const i=U(this,$r,Zx).call(this,e);for(let r=i;r<f(this,mo).length;r++){const[s,a]=f(this,mo)[r];if(s!==e)break;if(s===e&&a===t){f(this,mo).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=f(this,mo)[r];if(s!==e)break;if(s===e&&a===t){f(this,mo).splice(r,1);return}}},DD=function(e){const[t,i,r]=e,s=[[t,i,r]],a=U(this,$r,Zx).call(this,r);for(let o=0;o<a;o++){const[l,u]=f(this,mo)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var RC,ov;class nfe extends Qe{constructor(t,i,r,s){super();F(this,RC);F(this,ov);_(this,ov,t),_(this,RC,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of f(this,ov)){let[r,s]=i;t.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],l=i[a+1];o===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],a){const o=[],l=r-t,u=s-i;for(const d of f(this,ov)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,RC)}get classNamesForOutlining(){return["highlightOutline"]}}RC=new WeakMap,ov=new WeakMap;class ND extends W_{newFreeDrawOutline(e,t,i,r,s,a){return new ife(e,t,i,r,s,a)}}class ife extends oW{newOutliner(e,t,i,r,s,a=0){return new ND(e,t,i,r,s,a)}}var Av,DC,Ml,_h,NC,cs,LC,QC,Th,zs,qs,ar,lv,uv,_r,cv,Na,kC,gt,LD,e_,dW,fW,hW,QD,hf,Ka,Bg,pW,t_,n_,gW,mW,vW,yW,wW;const Ot=class Ot extends Bn{constructor(t){super({...t,name:"highlightEditor"});F(this,gt);F(this,Av,null);F(this,DC,0);F(this,Ml);F(this,_h,null);F(this,NC,null);F(this,cs,null);F(this,LC,null);F(this,QC,0);F(this,Th,null);F(this,zs,null);F(this,qs,null);F(this,ar,!1);F(this,lv,null);F(this,uv,null);F(this,_r,null);F(this,cv,"");F(this,Na);F(this,kC,"");this.color=t.color||Ot._defaultColor,_(this,Na,t.thickness||Ot._defaultThickness),this.opacity=t.opacity||Ot._defaultOpacity,_(this,Ml,t.boxes||null),_(this,kC,t.methodOfCreation||""),_(this,cv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,ar,!0),U(this,gt,e_).call(this,t),U(this,gt,hf).call(this)):f(this,Ml)&&(_(this,Av,t.anchorNode),_(this,DC,t.anchorOffset),_(this,LC,t.focusNode),_(this,QC,t.focusOffset),U(this,gt,LD).call(this),U(this,gt,hf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ot.prototype;return At(this,"_keyboardManager",new DB([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,ar)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,Na),methodOfCreation:f(this,kC)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Bn.initialize(t,i),Ot._defaultColor||(Ot._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case It.HIGHLIGHT_COLOR:Ot._defaultColor=i;break;case It.HIGHLIGHT_THICKNESS:Ot._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return f(this,uv)}get commentButtonPosition(){return f(this,lv)}updateParams(t,i){switch(t){case It.HIGHLIGHT_COLOR:U(this,gt,dW).call(this,i);break;case It.HIGHLIGHT_THICKNESS:U(this,gt,fW).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[It.HIGHLIGHT_COLOR,Ot._defaultColor],[It.HIGHLIGHT_THICKNESS,Ot._defaultThickness]]}get propertiesToUpdate(){return[[It.HIGHLIGHT_COLOR,this.color||Ot._defaultColor],[It.HIGHLIGHT_THICKNESS,f(this,Na)||Ot._defaultThickness],[It.HIGHLIGHT_FREE,f(this,ar)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,qs),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=f(this,NC))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,NC,new Lj({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(U(this,gt,n_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,U(this,gt,n_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){U(this,gt,QD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,gt,hf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?U(this,gt,QD).call(this):t&&(U(this,gt,hf).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,a,o;const{drawLayer:i}=this.parent;let r;f(this,ar)?(t=(t-this.rotation+360)%360,r=U(s=Ot,Ka,Bg).call(s,f(this,zs).box,t)):r=U(a=Ot,Ka,Bg).call(a,[this.x,this.y,this.width,this.height],t),i.updateProperties(f(this,qs),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(f(this,_r),{bbox:U(o=Ot,Ka,Bg).call(o,f(this,cs).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,cv)&&(t.setAttribute("aria-label",f(this,cv)),t.setAttribute("role","mark")),f(this,ar)?t.classList.add("free"):this.div.addEventListener("keydown",U(this,gt,pW).bind(this),{signal:this._uiManager._signal});const i=_(this,Th,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=f(this,_h),this.setDims(),L6(this,f(this,Th),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,_r),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,_r),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:U(this,gt,t_).call(this,!0);break;case 1:case 3:U(this,gt,t_).call(this,!1);break}}select(){var t;super.select(),f(this,_r)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,_r),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,_r)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,_r),{rootClass:{selected:!1}}),f(this,ar)||U(this,gt,t_).call(this,!1))}get _mustFixPosition(){return!f(this,ar)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,qs),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,_r),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:a}){const{x:o,y:l,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=b=>{h.abort(),U(this,Ka,yW).call(this,t,b)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Wn,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Ya,{signal:g}),r.addEventListener("pointermove",U(this,Ka,vW).bind(this,t),{signal:g}),this._freeHighlight=new ND({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var C,E,x,I;let s=null;if(t instanceof jj){const{data:{quadPoints:T,rect:R,rotation:P,id:D,color:L,opacity:H,popupRef:k,richText:K,contentsObj:V,creationDate:q,modificationDate:X},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:ut.HIGHLIGHT,color:Array.from(L),opacity:H,quadPoints:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:P,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:q,modificationDate:X}}else if(t instanceof MQ){const{data:{inkLists:T,rect:R,rotation:P,id:D,color:L,borderStyle:{rawWidth:H},popupRef:k,richText:K,contentsObj:V,creationDate:q,modificationDate:X},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:ut.HIGHLIGHT,color:Array.from(L),thickness:H,inkLists:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:P,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:q,modificationDate:X}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,i,r);d.color=He.makeHexColor(...a),d.opacity=u||1,l&&_(d,Na,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,b]=d.pageTranslation;if(o){const T=_(d,Ml,[]);for(let R=0;R<o.length;R+=8)T.push({x:(o[R]-v)/h,y:1-(o[R+1]-b)/g,width:(o[R+2]-o[R])/h,height:(o[R+1]-o[R+5])/g});U(C=d,gt,LD).call(C),U(E=d,gt,hf).call(E),d.rotate(d.rotation)}else if(l){_(d,ar,!0);const T=l[0],R={x:T[0]-v,y:g-(T[1]-b)},P=new ND(R,[0,0,h,g],1,f(d,Na)/2,!0,.001);for(let H=0,k=T.length;H<k;H+=2)R.x=T[H]-v,R.y=g-(T[H+1]-b),P.add(R);const{id:D,clipPathId:L}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);U(x=d,gt,e_).call(x,{highlightOutlines:P.getOutlines(),highlightId:D,clipPathId:L}),U(I=d,gt,hf).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=Bn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:f(this,Na),quadPoints:U(this,gt,gW).call(this),outlines:U(this,gt,mW).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!U(this,gt,wW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Av=new WeakMap,DC=new WeakMap,Ml=new WeakMap,_h=new WeakMap,NC=new WeakMap,cs=new WeakMap,LC=new WeakMap,QC=new WeakMap,Th=new WeakMap,zs=new WeakMap,qs=new WeakMap,ar=new WeakMap,lv=new WeakMap,uv=new WeakMap,_r=new WeakMap,cv=new WeakMap,Na=new WeakMap,kC=new WeakMap,gt=new WeakSet,LD=function(){const t=new RD(f(this,Ml),.001);_(this,zs,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,zs).box;const i=new RD(f(this,Ml),.0025,.001,this._uiManager.direction==="ltr");_(this,cs,i.getOutlines());const{firstPoint:r}=f(this,zs);_(this,lv,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=f(this,cs);_(this,uv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},e_=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var g,v;if(_(this,zs,t),_(this,cs,t.getNewOutline(f(this,Na)/2+1.5,.0025)),i>=0)_(this,qs,i),_(this,_h,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,_r,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,cs).box,path:{d:f(this,cs).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,qs),{bbox:U(g=Ot,Ka,Bg).call(g,f(this,zs).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,_r),{bbox:U(v=Ot,Ka,Bg).call(v,f(this,cs).box,b),path:{d:f(this,cs).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[b,C]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*C/b,this.height=u*b/C;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[b,C]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*C/b,this.height=u*b/C;break}}const{firstPoint:d}=t;_(this,lv,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,cs);_(this,uv,[(h[0]-a)/l,(h[1]-o)/u])},dW=function(t){const i=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,Ot._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},fW=function(t){const i=f(this,Na),r=s=>{_(this,Na,s),U(this,gt,hW).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},hW=function(t){f(this,ar)&&(U(this,gt,e_).call(this,{highlightOutlines:f(this,zs).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},QD=function(){f(this,qs)===null||!this.parent||(this.parent.drawLayer.remove(f(this,qs)),_(this,qs,null),this.parent.drawLayer.remove(f(this,_r)),_(this,_r,null))},hf=function(t=this.parent){f(this,qs)===null&&({id:Zn(this,qs)._,clipPathId:Zn(this,_h)._}=t.drawLayer.draw({bbox:f(this,zs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,ar)},path:{d:f(this,zs).toSVGPath()}},!1,!0),_(this,_r,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,ar)},bbox:f(this,cs).box,path:{d:f(this,cs).toSVGPath()}},f(this,ar))),f(this,Th)&&(f(this,Th).style.clipPath=f(this,_h)))},Ka=new WeakSet,Bg=function([t,i,r,s],a){switch(a){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},pW=function(t){Ot._keyboardManager.exec(this,t)},t_=function(t){if(!f(this,Av))return;const i=window.getSelection();t?i.setPosition(f(this,Av),f(this,DC)):i.setPosition(f(this,LC),f(this,QC))},n_=function(){return f(this,ar)?this.rotation:0},gW=function(){if(f(this,ar))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,a=f(this,Ml),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+r,b=(1-d)*i+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=b,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=b-g*i,l+=8}return o},mW=function(t){return f(this,zs).serialize(t,U(this,gt,n_).call(this))},vW=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},yW=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},wW=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},F(Ot,Ka),me(Ot,"_defaultColor",null),me(Ot,"_defaultOpacity",1),me(Ot,"_defaultThickness",12),me(Ot,"_type","highlight"),me(Ot,"_editorType",ut.HIGHLIGHT),me(Ot,"_freeHighlightId",-1),me(Ot,"_freeHighlight",null),me(Ot,"_freeHighlightClipId","");let Y_=Ot;var Ih;class bW{constructor(){F(this,Ih,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){f(this,Ih)[e]=t}toSVGProperties(){const e=f(this,Ih);return _(this,Ih,Object.create(null)),{root:e}}reset(){_(this,Ih,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){pn("Not implemented")}}Ih=new WeakMap;var $s,dv,Hi,Fh,Uh,Mt,kD,OD,HD,ew,CW,i_,tw,Eg;const xt=class xt extends Bn{constructor(t){super(t);F(this,Mt);F(this,$s,null);F(this,dv);me(this,"_colorPicker",null);me(this,"_drawId",null);_(this,dv,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(U(this,Mt,kD).call(this,t),U(this,Mt,ew).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,a]of Object.entries(i))r.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){pn("Not implemented")}static get typesMap(){pn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(f(xt,Hi).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,a=s[i],o=l=>{var d;s.updateProperty(i,l);const u=f(this,$s).updateProperty(i,l);u&&U(this,Mt,tw).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,xt._mergeSVGProperties(f(this,$s).getPathResizingSVGProperties(U(this,Mt,i_).call(this)),{bbox:U(this,Mt,Eg).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,xt._mergeSVGProperties(f(this,$s).getPathResizedSVGProperties(U(this,Mt,i_).call(this)),{bbox:U(this,Mt,Eg).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:U(this,Mt,Eg).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,xt._mergeSVGProperties(f(this,$s).getPathTranslatedSVGProperties(U(this,Mt,i_).call(this),this.parentDimensions),{bbox:U(this,Mt,Eg).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,dv)&&(_(this,dv,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){U(this,Mt,HD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,Mt,ew).call(this),U(this,Mt,tw).call(this,f(this,$s).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),U(this,Mt,HD).call(this)):t&&(this._uiManager.addShouldRescale(this),U(this,Mt,ew).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,xt._mergeSVGProperties({bbox:U(this,Mt,Eg).call(this)},f(this,$s).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&U(this,Mt,tw).call(this,f(this,$s).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,a){pn("Not implemented")}static startDrawing(t,i,r,s){var E;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(Cr.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),b=_(xt,Fh,new AbortController),C=t.combinedSignal(b);if(Cr.setPointer(d,u),window.addEventListener("pointerup",x=>{Cr.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:C}),window.addEventListener("pointercancel",x=>{Cr.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:C}),window.addEventListener("pointerdown",x=>{Cr.isSamePointerType(x.pointerType)&&(Cr.initializeAndAddPointerId(x.pointerId),f(xt,Hi).isCancellable()&&(f(xt,Hi).removeLastElement(),f(xt,Hi).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:C}),window.addEventListener("contextmenu",Ya,{signal:C}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:C}),a.addEventListener("touchmove",x=>{Cr.isSameTimeStamp(x.timeStamp)&&Wn(x)},{signal:C}),t.toggleDrawing(),(E=i._editorUndoBar)==null||E.hide(),f(xt,Hi)){t.drawLayer.updateProperties(this._currentDrawId,f(xt,Hi).startNew(o,l,g,v,h));return}i.updateUIForDefaultProperties(this),_(xt,Hi,this.createDrawerInstance(o,l,g,v,h)),_(xt,Uh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(xt,Uh).toSVGProperties(),f(xt,Hi).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Cr.isSameTimeStamp(t.timeStamp),!f(xt,Hi))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(Cr.isSamePointerId(s)){if(Cr.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(xt,Hi).add(i,r)),Cr.setTimeStamp(t.timeStamp),Wn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(xt,Hi,null),_(xt,Uh,null),Cr.clearPointerType(),Cr.clearTimeStamp()),f(xt,Fh)&&(f(xt,Fh).abort(),_(xt,Fh,null),Cr.clearPointerIds())}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,f(xt,Hi).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=f(xt,Hi),s=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:It.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(It.DRAW_STEP),!f(xt,Hi).isEmpty()){const{pageDimensions:[r,s],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(xt,Hi).getOutlines(r*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(xt,Uh),mustBeCommitted:!t});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,a,o){pn("Not implemented")}static async deserialize(t,i,r){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=i.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,i,r);return d.createDrawingOptions(t),U(h=d,Mt,kD).call(h,{drawOutlines:u}),U(g=d,Mt,ew).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[i,r]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,$s).serialize([i,r,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};$s=new WeakMap,dv=new WeakMap,Hi=new WeakMap,Fh=new WeakMap,Uh=new WeakMap,Mt=new WeakSet,kD=function({drawOutlines:t,drawId:i,drawingOptions:r}){_(this,$s,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=U(this,Mt,OD).call(this,t,this.parent),U(this,Mt,tw).call(this,t.box)},OD=function(t,i){const{id:r}=i.drawLayer.draw(xt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},HD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},ew=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=U(this,Mt,OD).call(this,f(this,$s),t)}},CW=function([t,i,r,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[i,1-t,r*(o/a),s*(a/o)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(o/a),s*(a/o)];default:return[t,i,r,s]}},i_=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-i,t,r*(a/o),s*(o/a)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(a/o),s*(o/a)];default:return[t,i,r,s]}},tw=function(t){[this.x,this.y,this.width,this.height]=U(this,Mt,CW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Eg=function(){const{x:t,y:i,width:r,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(l/u),s*(u/l),r*(l/u)];case 5:return[1-i,t,r*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-i,s*(u/l),r*(l/u)];case 7:return[i-r*(l/u),1-t-s*(u/l),r*(l/u),s*(u/l)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(u/l),i,s*(u/l),r*(l/u)];case 13:return[1-i-r*(l/u),t-s*(u/l),r*(l/u),s*(u/l)];case 14:return[1-t,1-i-r*(l/u),s*(u/l),r*(l/u)];case 15:return[i,1-t,r*(l/u),s*(u/l)];default:return[t,i,r,s]}},me(xt,"_currentDrawId",-1),me(xt,"_currentParent",null),F(xt,Hi,null),F(xt,Fh,null),F(xt,Uh,null),me(xt,"_INNER_MARGIN",3);let X_=xt;var lA,Vi,Ki,Mh,fv,Lr,or,La,Ph,Rh,Dh,hv,r_;class rfe{constructor(e,t,i,r,s,a){F(this,hv);F(this,lA,new Float64Array(6));F(this,Vi);F(this,Ki);F(this,Mh);F(this,fv);F(this,Lr);F(this,or,"");F(this,La,0);F(this,Ph,new LB);F(this,Rh);F(this,Dh);_(this,Rh,i),_(this,Dh,r),_(this,Mh,s),_(this,fv,a),[e,t]=U(this,hv,r_).call(this,e,t);const o=_(this,Vi,[NaN,NaN,NaN,NaN,e,t]);_(this,Lr,[e,t]),_(this,Ki,[{line:o,points:f(this,Lr)}]),f(this,lA).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,fv,t)}isEmpty(){return!f(this,Ki)||f(this,Ki).length===0}isCancellable(){return f(this,Lr).length<=10}add(e,t){[e,t]=U(this,hv,r_).call(this,e,t);const[i,r,s,a]=f(this,lA).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,Rh)*o,f(this,Dh)*l)<=2?null:(f(this,Lr).push(e,t),isNaN(i)?(f(this,lA).set([s,a,e,t],2),f(this,Vi).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,lA)[0])&&f(this,Vi).splice(6,6),f(this,lA).set([i,r,s,a,e,t],0),f(this,Vi).push(...Qe.createBezierPoints(i,r,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(f(this,Lr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){_(this,Rh,i),_(this,Dh,r),_(this,Mh,s),[e,t]=U(this,hv,r_).call(this,e,t);const a=_(this,Vi,[NaN,NaN,NaN,NaN,e,t]);_(this,Lr,[e,t]);const o=f(this,Ki).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,Ki).push({line:a,points:f(this,Lr)}),f(this,lA).set(a,0),_(this,La,0),this.toSVGPath(),null}getLastElement(){return f(this,Ki).at(-1)}setLastElement(e){return f(this,Ki)?(f(this,Ki).push(e),_(this,Vi,e.line),_(this,Lr,e.points),_(this,La,0),{path:{d:this.toSVGPath()}}):f(this,Ph).setLastElement(e)}removeLastElement(){if(!f(this,Ki))return f(this,Ph).removeLastElement();f(this,Ki).pop(),_(this,or,"");for(let e=0,t=f(this,Ki).length;e<t;e++){const{line:i,points:r}=f(this,Ki)[e];_(this,Vi,i),_(this,Lr,r),_(this,La,0),this.toSVGPath()}return{path:{d:f(this,or)}}}toSVGPath(){const e=Qe.svgRound(f(this,Vi)[4]),t=Qe.svgRound(f(this,Vi)[5]);if(f(this,Lr).length===2)return _(this,or,`${f(this,or)} M ${e} ${t} Z`),f(this,or);if(f(this,Lr).length<=6){const r=f(this,or).lastIndexOf("M");_(this,or,`${f(this,or).slice(0,r)} M ${e} ${t}`),_(this,La,6)}if(f(this,Lr).length===4){const r=Qe.svgRound(f(this,Vi)[10]),s=Qe.svgRound(f(this,Vi)[11]);return _(this,or,`${f(this,or)} L ${r} ${s}`),_(this,La,12),f(this,or)}const i=[];f(this,La)===0&&(i.push(`M ${e} ${t}`),_(this,La,6));for(let r=f(this,La),s=f(this,Vi).length;r<s;r+=6){const[a,o,l,u,d,h]=f(this,Vi).slice(r,r+6).map(Qe.svgRound);i.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,or,f(this,or)+i.join(" ")),_(this,La,f(this,Vi).length),f(this,or)}getOutlines(e,t,i,r){const s=f(this,Ki).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Ph).build(f(this,Ki),e,t,i,f(this,Mh),f(this,fv),r),_(this,lA,null),_(this,Vi,null),_(this,Ki,null),_(this,or,null),f(this,Ph)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}lA=new WeakMap,Vi=new WeakMap,Ki=new WeakMap,Mh=new WeakMap,fv=new WeakMap,Lr=new WeakMap,or=new WeakMap,La=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Dh=new WeakMap,hv=new WeakSet,r_=function(e,t){return Qe._normalizePoint(e,t,f(this,Rh),f(this,Dh),f(this,Mh))};var Qr,OC,HC,js,uA,cA,pv,gv,Nh,fr,JA,BW,EW,SW;class LB extends Qe{constructor(){super(...arguments);F(this,fr);F(this,Qr);F(this,OC,0);F(this,HC);F(this,js);F(this,uA);F(this,cA);F(this,pv);F(this,gv);F(this,Nh)}build(t,i,r,s,a,o,l){_(this,uA,i),_(this,cA,r),_(this,pv,s),_(this,gv,a),_(this,Nh,o),_(this,HC,l??0),_(this,js,t),U(this,fr,EW).call(this)}get thickness(){return f(this,Nh)}setLastElement(t){return f(this,js).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,js).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of f(this,js)){if(t.push(`M${Qe.svgRound(i[4])} ${Qe.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Qe.svgRound(i[10])} ${Qe.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[a,o,l,u,d,h]=i.subarray(r,r+6).map(Qe.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,i,r,s],a){const o=[],l=[],[u,d,h,g]=U(this,fr,BW).call(this);let v,b,C,E,x,I,T,R,P;switch(f(this,gv)){case 0:P=Qe._rescale,v=t,b=i+s,C=r,E=-s,x=t+u*r,I=i+(1-d-g)*s,T=t+(u+h)*r,R=i+(1-d)*s;break;case 90:P=Qe._rescaleAndSwap,v=t,b=i,C=r,E=s,x=t+d*r,I=i+u*s,T=t+(d+g)*r,R=i+(u+h)*s;break;case 180:P=Qe._rescale,v=t+r,b=i,C=-r,E=s,x=t+(1-u-h)*r,I=i+d*s,T=t+(1-u)*r,R=i+(d+g)*s;break;case 270:P=Qe._rescaleAndSwap,v=t+r,b=i+s,C=-r,E=-s,x=t+(1-d-g)*r,I=i+(1-u-h)*s,T=t+(1-d)*r,R=i+(1-u)*s;break}for(const{line:D,points:L}of f(this,js))o.push(P(D,v,b,C,E,a?new Array(D.length):null)),l.push(P(L,v,b,C,E,a?new Array(L.length):null));return{lines:o,points:l,rect:[x,I,T,R]}}static deserialize(t,i,r,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,b,C,E;switch(u){case 0:E=Qe._rescale,g=-t/r,v=i/s+1,b=1/r,C=-1/s;break;case 90:E=Qe._rescaleAndSwap,g=-i/s,v=-t/r,b=1/s,C=1/r;break;case 180:E=Qe._rescale,g=t/r+1,v=-i/s,b=-1/r,C=1/s;break;case 270:E=Qe._rescaleAndSwap,g=i/s+1,v=t/r+1,b=-1/s,C=-1/r;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const R=new Float32Array(3*(T-2));o.push(R);let[P,D,L,H]=I.subarray(0,4);R.set([NaN,NaN,NaN,NaN,P,D],0);for(let k=4;k<T;k+=2){const K=I[k],V=I[k+1];R.set(Qe.createBezierPoints(P,D,L,H,K,V),(k-2)*3),[P,D,L,H]=[L,H,K,V]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:E(o[I].map(R=>R??NaN),g,v,b,C),points:E(l[I].map(R=>R??NaN),g,v,b,C)});const x=new this.prototype.constructor;return x.build(h,r,s,1,u,d,a),x}get box(){return f(this,Qr)}updateProperty(t,i){return t==="stroke-width"?U(this,fr,SW).call(this,i):null}updateParentDimensions([t,i],r){const[s,a]=U(this,fr,JA).call(this);_(this,uA,t),_(this,cA,i),_(this,pv,r);const[o,l]=U(this,fr,JA).call(this),u=o-s,d=l-a,h=f(this,Qr);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,OC,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,Qr).map(Qe.svgRound).join(" ")}get defaultProperties(){const[t,i]=f(this,Qr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=f(this,Qr);let r=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,OC)){case 90:s=i/t,a=-t/i,l=t;break;case 180:r=-1,o=-1,l=t,u=i;break;case 270:s=-i/t,a=t/i,u=i;break;default:return""}return`matrix(${r} ${s} ${a} ${o} ${Qe.svgRound(l)} ${Qe.svgRound(u)})`}getPathResizingSVGProperties([t,i,r,s]){const[a,o]=U(this,fr,JA).call(this),[l,u,d,h]=f(this,Qr);if(Math.abs(d-a)<=Qe.PRECISION||Math.abs(h-o)<=Qe.PRECISION){const E=t+r/2-(l+d/2),x=i+s/2-(u+h/2);return{path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`,transform:`${this.rotationTransform} translate(${E} ${x})`}}}const g=(r-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),b=d/r,C=h/s;return{path:{"transform-origin":`${Qe.svgRound(l)} ${Qe.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${C}) translate(${Qe.svgRound(a)} ${Qe.svgRound(o)}) scale(${g} ${v}) translate(${Qe.svgRound(-a)} ${Qe.svgRound(-o)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[a,o]=U(this,fr,JA).call(this),l=f(this,Qr),[u,d,h,g]=l;if(l[0]=t,l[1]=i,l[2]=r,l[3]=s,Math.abs(h-a)<=Qe.PRECISION||Math.abs(g-o)<=Qe.PRECISION){const x=t+r/2-(u+h/2),I=i+s/2-(d+g/2);for(const{line:T,points:R}of f(this,js))Qe._translate(T,x,I,T),Qe._translate(R,x,I,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(r-2*a)/(h-2*a),b=(s-2*o)/(g-2*o),C=-v*(u+a)+t+a,E=-b*(d+o)+i+o;if(v!==1||b!==1||C!==0||E!==0)for(const{line:x,points:I}of f(this,js))Qe._rescale(x,C,E,v,b,x),Qe._rescale(I,C,E,v,b,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,a]=r,o=f(this,Qr),l=t-o[0],u=i-o[1];if(f(this,uA)===s&&f(this,cA)===a)for(const{line:d,points:h}of f(this,js))Qe._translate(d,l,u,d),Qe._translate(h,l,u,h);else{const d=f(this,uA)/s,h=f(this,cA)/a;_(this,uA,s),_(this,cA,a);for(const{line:g,points:v}of f(this,js))Qe._rescale(g,l,u,d,h,g),Qe._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`}}}get defaultSVGProperties(){const t=f(this,Qr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(t[0])} ${Qe.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Qr=new WeakMap,OC=new WeakMap,HC=new WeakMap,js=new WeakMap,uA=new WeakMap,cA=new WeakMap,pv=new WeakMap,gv=new WeakMap,Nh=new WeakMap,fr=new WeakSet,JA=function(t=f(this,Nh)){const i=f(this,HC)+t/2*f(this,pv);return f(this,gv)%180===0?[i/f(this,uA),i/f(this,cA)]:[i/f(this,cA),i/f(this,uA)]},BW=function(){const[t,i,r,s]=f(this,Qr),[a,o]=U(this,fr,JA).call(this,0);return[t+a,i+o,r-2*a,s-2*o]},EW=function(){const t=_(this,Qr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,js)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)He.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,b,C]=s.subarray(l,l+6);He.bezierBoundingBox(a,o,d,h,g,v,b,C,t),a=b,o=C}}const[i,r]=U(this,fr,JA).call(this);t[0]=Kr(t[0]-i,0,1),t[1]=Kr(t[1]-r,0,1),t[2]=Kr(t[2]+i,0,1),t[3]=Kr(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},SW=function(t){const[i,r]=U(this,fr,JA).call(this);_(this,Nh,t);const[s,a]=U(this,fr,JA).call(this),[o,l]=[s-i,a-r],u=f(this,Qr);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class P1 extends bW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Bn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new P1(this._viewParameters);return e.updateAll(this),e}}var g1,xW;const kg=class kg extends X_{constructor(t){super({...t,name:"inkEditor"});F(this,g1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){Bn.initialize(t,i),this._defaultDrawingOptions=new P1(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return At(this,"typesMap",new Map([[It.INK_THICKNESS,"stroke-width"],[It.INK_COLOR,"stroke"],[It.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,a){return new rfe(t,i,r,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,a,o){return LB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){let s=null;if(t instanceof MQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:b,richText:C,contentsObj:E,creationDate:x,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:ut.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:b,richText:C,comment:(E==null?void 0:E.str)||null,creationDate:x,modificationDate:I}}const a=await super.deserialize(t,i,r);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new $_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return It.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=kg.getDefaultDrawingOptions({stroke:He.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Bn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:i,points:r}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!U(this,g1,xW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};g1=new WeakSet,xW=function(t){const{color:i,thickness:r,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==i[l])||t.thickness!==r||t.opacity!==s||t.pageIndex!==a},me(kg,"_type","ink"),me(kg,"_editorType",ut.INK),me(kg,"_defaultDrawingOptions",null);let VD=kg;class KD extends LB{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const PS=8,b0=3;var N0,Lh,Kt,GD,vo,_W,TW,zD,s_,IW,FW,UW,qD,$D,MW;let Sg=(N0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${i} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:C,actualBoundingBoxDescent:E,fontBoundingBoxAscent:x,fontBoundingBoxDescent:I,width:T}=d.measureText(e),R=1.5,P=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,T)*R),D=Math.ceil(Math.max(Math.abs(C)+Math.abs(E)||h,Math.abs(x)+Math.abs(I)||h)*R);u=new OffscreenCanvas(P,D),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,P,D),d.fillStyle="black",d.fillText(e,P*(R-1)/2,D*(3-R)/2);const L=U(this,Kt,qD).call(this,d.getImageData(0,0,P,D).data),H=U(this,Kt,UW).call(this,L),k=U(this,Kt,$D).call(this,H),K=U(this,Kt,zD).call(this,L,P,D,k);return this.processDrawnLines({lines:{curves:K,width:P,height:D},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[a,o,l]=U(this,Kt,MW).call(this,e),[u,d]=U(this,Kt,FW).call(this,a,o,l,Math.hypot(o,l)*f(this,Lh).sigmaSFactor,f(this,Lh).sigmaR,f(this,Lh).kernelSize),h=U(this,Kt,$D).call(this,d),g=U(this,Kt,zD).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([t,i]=[i,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,i/d),b=v/t,C=v/i,E=[];for(const{points:I}of l){const T=a?U(this,Kt,IW).call(this,I):I;if(!T)continue;E.push(T);const R=T.length,P=new Float32Array(R),D=new Float32Array(3*(R===2?2:R-2));if(g.push({line:D,points:P}),R===2){P[0]=T[0]*b,P[1]=T[1]*C,D.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[L,H,k,K]=T;L*=b,H*=C,k*=b,K*=C,P.set([L,H,k,K],0),D.set([NaN,NaN,NaN,NaN,L,H],0);for(let V=4;V<R;V+=2){const q=P[V]=T[V]*b,X=P[V+1]=T[V+1]*C;D.set(Qe.createBezierPoints(L,H,k,K,q,X),(V-2)*3),[L,H,k,K]=[k,K,q,X]}}if(g.length===0)return null;const x=o?new KD:new LB;return x.build(g,t,i,1,r,o?0:h,s),{outline:x,newCurves:E,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let R=2,P=T.length;R<P;R++){const D=T[R]-T[R-2];a=Math.min(a,D),o=Math.max(o,D)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=PS+b0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=r,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(i??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const b=new CompressionStream("deflate-raw"),C=b.writable.getWriter();await C.ready,C.write(g);const E=u.prototype.constructor;for(const T of e){const R=new E(T.length-2);for(let P=2,D=T.length;P<D;P++)R[P-2]=T[P]-T[P-2];C.write(R)}C.close();const x=await new Response(b.readable).arrayBuffer(),I=new Uint8Array(x);return T6(I)}static async decompressSignature(e){try{const t=wce(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of i)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],b=l[6],C=l[7],E=[],x=(PS+b0*b)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(C){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,x);break}o=0;for(let T=0;T<b;T++){const R=l[b0*T+PS],P=new Float32Array(R+2);E.push(P);for(let D=0;D<b0-1;D++)P[D]=l[b0*T+PS+D+1];for(let D=0;D<R;D++)P[D+2]=P[D]+I[o++]}return{areContours:g,thickness:v,outlines:E,width:d,height:h}}catch(t){return ot(`decompressSignature: ${t}`),null}}},Lh=new WeakMap,Kt=new WeakSet,GD=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},vo=new WeakMap,_W=function(e,t,i,r,s,a,o){const l=U(this,Kt,GD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,vo)[2*d],g=f(this,vo)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},TW=function(e,t,i,r,s,a,o){const l=U(this,Kt,GD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,vo)[2*d],g=f(this,vo)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},zD=function(e,t,i,r){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=r?1:0;for(let d=1;d<i-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*i-1-d]=0;let o=1,l;const u=[];for(let d=1;d<i-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let b=d,C=h;if(v===1&&a[g-1]===0)o+=1,C-=1;else if(v>=1&&a[g+1]===0)o+=1,C+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const E=[h,d],x=C===h+1,I={isHole:x,points:E,id:o,parent:0};u.push(I);let T;for(const V of u)if(V.id===l){T=V;break}T?T.isHole?I.parent=x?T.parent:l:I.parent=x?l:T.parent:I.parent=x?l:0;const R=U(this,Kt,_W).call(this,a,t,d,h,b,C,0);if(R===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let P=f(this,vo)[2*R],D=f(this,vo)[2*R+1];const L=d+P,H=h+D;b=L,C=H;let k=d,K=h;for(;;){const V=U(this,Kt,TW).call(this,a,t,k,K,b,C,1);P=f(this,vo)[2*V],D=f(this,vo)[2*V+1];const q=k+P,X=K+D;E.push(X,q);const ne=k*t+K;if(a[ne+1]===0?a[ne]=-o:a[ne]===1&&(a[ne]=o),q===d&&X===h&&k===L&&K===H){a[g]!==1&&(l=Math.abs(a[g]));break}else b=k,C=K,k=q,K=X}}}return u},s_=function(e,t,i,r){if(i-t<=4){for(let L=t;L<i-2;L+=2)r.push(e[L],e[L+1]);return}const s=e[t],a=e[t+1],o=e[i-4]-s,l=e[i-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,b=1/u,C=Math.atan(v),E=Math.cos(C),x=Math.sin(C),I=b*(Math.abs(E)+Math.abs(x)),T=b*(1-I+I**2),R=Math.max(Math.atan(Math.abs(x+E)*T),Math.atan(Math.abs(x-E)*T));let P=0,D=t;for(let L=t+2;L<i-2;L+=2){const H=Math.abs(g-d*e[L+1]+h*e[L]);H>P&&(D=L,P=H)}P>(u*R)**2?(U(this,Kt,s_).call(this,e,t,D+2,r),U(this,Kt,s_).call(this,e,D,i,r)):r.push(s,a)},IW=function(e){const t=[],i=e.length;return U(this,Kt,s_).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},FW=function(e,t,i,r,s,a){const o=new Float32Array(a**2),l=-2*r**2,u=a>>1;for(let C=0;C<a;C++){const E=(C-u)**2;for(let x=0;x<a;x++)o[C*a+x]=Math.exp((E+(x-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let C=0;C<256;C++)d[C]=Math.exp(C**2/h);const g=e.length,v=new Uint8Array(g),b=new Uint32Array(256);for(let C=0;C<i;C++)for(let E=0;E<t;E++){const x=C*t+E,I=e[x];let T=0,R=0;for(let D=0;D<a;D++){const L=C+D-u;if(!(L<0||L>=i))for(let H=0;H<a;H++){const k=E+H-u;if(k<0||k>=t)continue;const K=e[L*t+k],V=o[D*a+H]*d[Math.abs(K-I)];T+=K*V,R+=V}}const P=v[x]=Math.round(T/R);b[P]++}return[v,b]},UW=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},qD=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let o=0,l=i.length;o<l;o++){const u=i[o]=e[o<<2];r=Math.max(r,u),s=Math.min(s,u)}const a=255/(r-s);for(let o=0,l=i.length;o<l;o++)i[o]=(i[o]-s)*a;return i},$D=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>i&&(t-a>r&&(r=t-a,o=t-1),i=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},MW=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=f(this,Lh);let a=i,o=r;if(i>s||r>s){let g=i,v=r,b=Math.log2(Math.max(i,r)/s);const C=Math.floor(b);b=b===C?C-1:C;for(let x=0;x<b;x++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const E=Math.min(s/a,s/o);a=Math.round(a*E),o=Math.round(o*E)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[U(this,Kt,qD).call(this,d),a,o]},F(N0,Kt),F(N0,Lh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),F(N0,vo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),N0);class PQ extends bW{constructor(){super(),super.updateProperties({fill:Bn._defaultLineColor,"stroke-width":0})}clone(){const e=new PQ;return e.updateAll(this),e}}class RQ extends P1{constructor(e){super(e),super.updateProperties({stroke:Bn._defaultLineColor,"stroke-width":1})}clone(){const e=new RQ(this._viewParameters);return e.updateAll(this),e}}var Wc,dA,Yc,Qh;const Us=class Us extends X_{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});F(this,Wc,!1);F(this,dA,null);F(this,Yc,null);F(this,Qh,null);this._willKeepAspectRatio=!0,_(this,Yc,t.signatureData||null),_(this,dA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){Bn.initialize(t,i),this._defaultDrawingOptions=new PQ,this._defaultDrawnSignatureOptions=new RQ(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return At(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,dA)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(f(this,Yc)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,Yc),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,b=Sg.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:Us._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(b,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,dA)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){_(this,Qh,t),this.addEditToolbar()}getUuid(){return f(this,Qh)}get description(){return f(this,dA)}set description(t){_(this,dA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:a}=f(this,Yc),o=Math.max(s,a),l=Sg.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:a,y:o}=this,{outline:l}=_(this,Yc,t);_(this,Wc,l instanceof KD),this.description=r;let u;f(this,Wc)?u=Us.getDefaultDrawingOptions():(u=Us._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=i/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Sg.process(t,i,r,s,Us._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:a}=this.parent.viewport;return Sg.extractContoursFromText(t,i,r,s,a,Us._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Sg.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:Us._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=Us.getDefaultDrawingOptions():(this._drawingOptions=Us._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,Wc),color:[0,0,0],thickness:f(this,Wc)?0:s});return this.addComment(a),t?(a.paths={lines:i,points:r},a.uuid=f(this,Qh),a.isCopy=!0):a.lines=i,f(this,dA)&&(a.accessibilityData={type:"Figure",alt:f(this,dA)}),a}static deserializeDraw(t,i,r,s,a,o){return o.areContours?KD.deserialize(t,i,r,s,a,o):LB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){var a;const s=await super.deserialize(t,i,r);return _(s,Wc,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,Qh,t.uuid),s}};Wc=new WeakMap,dA=new WeakMap,Yc=new WeakMap,Qh=new WeakMap,me(Us,"_type","signature"),me(Us,"_editorType",ut.SIGNATURE),me(Us,"_defaultDrawingOptions",null);let jD=Us;var Pn,Gi,Xc,Pl,Jc,mv,Rl,kh,fA,Ws,vv,Pt,nw,iw,a_,o_,A_,YD,l_,PW;class WD extends Bn{constructor(t){super({...t,name:"stampEditor"});F(this,Pt);F(this,Pn,null);F(this,Gi,null);F(this,Xc,null);F(this,Pl,null);F(this,Jc,null);F(this,mv,"");F(this,Rl,null);F(this,kh,!1);F(this,fA,null);F(this,Ws,!1);F(this,vv,!1);_(this,Pl,t.bitmapUrl),_(this,Jc,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){Bn.initialize(t,i)}static isHandlingMimeForPasting(t){return PR.includes(t)}static paste(t,i){i.pasteEditor({mode:ut.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,Gi)&&(_(this,Pn,null),this._uiManager.imageManager.deleteId(f(this,Gi)),(t=f(this,Rl))==null||t.remove(),_(this,Rl,null),f(this,fA)&&(clearTimeout(f(this,fA)),_(this,fA,null))),super.remove()}rebuild(){if(!this.parent){f(this,Gi)&&U(this,Pt,a_).call(this);return}super.rebuild(),this.div!==null&&(f(this,Gi)&&f(this,Rl)===null&&U(this,Pt,a_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,Xc)||f(this,Pn)||f(this,Pl)||f(this,Jc)||f(this,Gi)||f(this,kh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,kh)||(f(this,Pn)?U(this,Pt,o_).call(this):U(this,Pt,a_).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(_(this,Gi,r),s&&_(this,Pn,s),_(this,kh,!1),U(this,Pt,o_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,fA)!==null&&clearTimeout(f(this,fA)),_(this,fA,setTimeout(()=>{_(this,fA,null),U(this,Pt,YD).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:a}=f(this,Pn),o=new Ap;let l=f(this,Pn),u=s,d=a,h=null;if(i){if(s>i||a>i){const L=Math.min(i/s,i/a);u=Math.floor(s*L),d=Math.floor(a*L)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),b=h.height=Math.ceil(d*o.sy);f(this,Ws)||(l=U(this,Pt,A_).call(this,v,b));const C=h.getContext("2d");C.filter=this._uiManager.hcmFilter;let E="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":xce.isDarkMode&&(E="#8f8f9d",x="#42414d");const I=15,T=I*o.sx,R=I*o.sy,P=new OffscreenCanvas(T*2,R*2),D=P.getContext("2d");D.fillStyle=E,D.fillRect(0,0,T*2,R*2),D.fillStyle=x,D.fillRect(0,0,T,R),D.fillRect(T,R,T,R),C.fillStyle=C.createPattern(P,"repeat"),C.fillRect(0,0,v,b),C.drawImage(l,0,0,l.width,l.height,0,0,v,b)}let g=null;if(r){let v,b;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,b=l.height;else if(l=f(this,Pn),s>t||a>t){const x=Math.min(t/s,t/a);v=Math.floor(s*x),b=Math.floor(a*x),f(this,Ws)||(l=U(this,Pt,A_).call(this,v,b))}const E=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});E.drawImage(l,0,0,l.width,l.height,0,0,v,b),g={width:v,height:b,data:E.getImageData(0,0,v,b).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,i,r){var E;let s=null,a=!1;if(t instanceof Wj){const{data:{rect:x,rotation:I,id:T,structParent:R,popupRef:P,richText:D,contentsObj:L,creationDate:H,modificationDate:k},container:K,parent:{page:{pageNumber:V}},canvas:q}=t;let X,ne;q?(delete t.canvas,{id:X,bitmap:ne}=r.imageManager.getFromCanvas(K.id,q),q.remove()):(a=!0,t._hasNoCanvas=!0);const he=((E=await i._structTree.getAriaAttributes(`${Mg}${T}`))==null?void 0:E.get("aria-label"))||"";s=t={annotationType:ut.STAMP,bitmapId:X,bitmap:ne,pageIndex:V-1,rect:x.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:he},isSvg:!1,structParent:R,popupRef:P,richText:D,comment:(L==null?void 0:L.str)||null,creationDate:H,modificationDate:k}}const o=await super.deserialize(t,i,r),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(r.addMissingCanvas(t.id,o),_(o,kh,!0)):h&&r.imageManager.isValidId(h)?(_(o,Gi,h),u&&_(o,Pn,u)):_(o,Pl,d),_(o,Ws,g);const[b,C]=o.pageDimensions;return o.width=(l[2]-l[0])/b,o.height=(l[3]-l[1])/C,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,vv,!!s),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:f(this,Gi),isSvg:f(this,Ws)});if(this.addComment(r),t)return r.bitmapUrl=U(this,Pt,l_).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=U(this,Pt,PW).call(this,r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const o=f(this,Ws)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(f(this,Gi)))i.stamps.set(f(this,Gi),{area:o,serialized:r}),r.bitmap=U(this,Pt,l_).call(this,!1);else if(f(this,Ws)){const l=i.stamps.get(f(this,Gi));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=U(this,Pt,l_).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Pn=new WeakMap,Gi=new WeakMap,Xc=new WeakMap,Pl=new WeakMap,Jc=new WeakMap,mv=new WeakMap,Rl=new WeakMap,kh=new WeakMap,fA=new WeakMap,Ws=new WeakMap,vv=new WeakMap,Pt=new WeakSet,nw=function(t,i=!1){if(!t){this.remove();return}_(this,Pn,t.bitmap),i||(_(this,Gi,t.id),_(this,Ws,t.isSvg)),t.file&&_(this,mv,t.file.name),U(this,Pt,o_).call(this)},iw=function(){if(_(this,Xc,null),this._uiManager.enableWaiting(!1),!!f(this,Rl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Pn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Pn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},a_=function(){if(f(this,Gi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,Gi)).then(r=>U(this,Pt,nw).call(this,r,!0)).finally(()=>U(this,Pt,iw).call(this));return}if(f(this,Pl)){const r=f(this,Pl);_(this,Pl,null),this._uiManager.enableWaiting(!0),_(this,Xc,this._uiManager.imageManager.getFromUrl(r).then(s=>U(this,Pt,nw).call(this,s)).finally(()=>U(this,Pt,iw).call(this)));return}if(f(this,Jc)){const r=f(this,Jc);_(this,Jc,null),this._uiManager.enableWaiting(!0),_(this,Xc,this._uiManager.imageManager.getFromFile(r).then(s=>U(this,Pt,nw).call(this,s)).finally(()=>U(this,Pt,iw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=PR.join(",");const i=this._uiManager._signal;_(this,Xc,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),U(this,Pt,nw).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>U(this,Pt,iw).call(this))),t.click()},o_=function(){var u;const{div:t}=this;let{width:i,height:r}=f(this,Pn);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const d=Math.min(o*s/i,o*a/r);i*=d,r*=d}this._uiManager.enableWaiting(!1);const l=_(this,Rl,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=i/s,this.height=r/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),U(this,Pt,YD).call(this),f(this,vv)||(this.parent.addUndoableEditor(this),_(this,vv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,mv)&&this.div.setAttribute("aria-description",f(this,mv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},A_=function(t,i){const{width:r,height:s}=f(this,Pn);let a=r,o=s,l=f(this,Pn);for(;a>2*t||o>2*i;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},YD=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,a=new Ap,o=Math.ceil(r*t*a.sx),l=Math.ceil(s*i*a.sy),u=f(this,Rl);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,Ws)?f(this,Pn):U(this,Pt,A_).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},l_=function(t){if(t){if(f(this,Ws)){const s=this._uiManager.imageManager.getSvgUrl(f(this,Gi));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=f(this,Pn),i.getContext("2d").drawImage(f(this,Pn),0,0),i.toDataURL()}if(f(this,Ws)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*qv.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*qv.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,Pn),0,0,f(this,Pn).width,f(this,Pn).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,Pn))},PW=function(t){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},me(WD,"_type","stamp"),me(WD,"_editorType",ut.STAMP);var Oh,yv,Zc,ed,Dl,ds,td,wv,bv,yo,Nl,zi,Ll,nd,Cv,Ge,vs,id,hn,XD,RW,Go,JD,ZD,u_;let sfe=(vs=class{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){F(this,hn);F(this,Oh);F(this,yv,!1);F(this,Zc,null);F(this,ed,null);F(this,Dl,null);F(this,ds,new Map);F(this,td,!1);F(this,wv,!1);F(this,bv,!1);F(this,yo,null);F(this,Nl,null);F(this,zi,null);F(this,Ll,null);F(this,nd,null);F(this,Cv,-1);F(this,Ge);const h=[...f(vs,id).values()];if(!vs._initialized){vs._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,Ge,e),this.pageIndex=t,this.div=i,_(this,Oh,s),_(this,Zc,a),this.viewport=u,_(this,zi,l),this.drawLayer=o,this._structTree=r,f(this,Ge).addLayer(this)}get isEmpty(){return f(this,ds).size===0}get isInvisible(){return this.isEmpty&&f(this,Ge).getMode()===ut.NONE}updateToolbar(e){f(this,Ge).updateToolbar(e)}updateMode(e=f(this,Ge).getMode()){switch(U(this,hn,u_).call(this),e){case ut.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ut.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ut.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ut.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of f(vs,id).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,zi))==null?void 0:t.div)}setEditingState(e){f(this,Ge).setEditingState(e)}addCommands(e){f(this,Ge).addCommands(e)}cleanUndoStack(e){f(this,Ge).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,Zc))==null||t.togglePointerEvents(e)}async enable(){var i;_(this,bv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=f(this,nd))==null||i.abort(),_(this,nd,null);const e=new Set;for(const r of f(this,hn,XD))r.enableEditing(),r.show(!0),r.annotationElementId&&(f(this,Ge).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=f(this,Zc);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),f(this,Ge).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,bv,!1),f(this,Ge)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(_(this,wv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,zi)&&!f(this,nd)){_(this,nd,new AbortController);const s=f(this,Ge).combinedSignal(f(this,nd));f(this,zi).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,Cv);if(d-h>500){_(this,Cv,d);return}_(this,Cv,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let b;const C=new RegExp(`^${Fw}[0-9]+$`);for(const x of v)if(C.test(x.id)){b=x.id;break}if(!b)return;const E=f(this,ds).get(b);(E==null?void 0:E.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),E.dblclick(a))},{signal:s,capture:!0})}const e=f(this,Zc),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,hn,XD)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,Ge).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,Ge).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}U(this,hn,u_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of f(vs,id).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,wv,!1)}getEditableAnnotation(e){var t;return((t=f(this,Zc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,Ge).getActive()!==e&&f(this,Ge).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,zi))!=null&&e.div&&!f(this,Ll)){_(this,Ll,new AbortController);const t=f(this,Ge).combinedSignal(f(this,Ll));f(this,zi).div.addEventListener("pointerdown",U(this,hn,RW).bind(this),{signal:t}),f(this,zi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,zi))!=null&&e.div&&f(this,Ll)&&(f(this,Ll).abort(),_(this,Ll,null),f(this,zi).div.classList.remove("highlighting"))}enableClick(){if(f(this,ed))return;_(this,ed,new AbortController);const e=f(this,Ge).combinedSignal(f(this,ed));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,ed))==null||e.abort(),_(this,ed,null)}attach(e){f(this,ds).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,Ge).isDeletedAnnotationElement(t)&&f(this,Ge).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,ds).delete(e.id),(t=f(this,Oh))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,wv)&&e.annotationElementId&&f(this,Ge).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,Ge).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,Ge).addDeletedAnnotationElement(e),Bn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,Ge).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,bv)),f(this,Ge).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Dl)&&(e._focusEventsAllowed=!1,_(this,Dl,setTimeout(()=>{_(this,Dl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,Ge)._signal}),t.focus())},0))),e._structTreeParentId=(i=f(this,Oh))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of f(this,ds).values())if(t.uid===e)return t;return null}getNextId(){return f(this,Ge).getId()}combinedSignal(e){return f(this,Ge).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,hn,Go))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,Ge).updateMode(e.mode);const{offsetX:i,offsetY:r}=U(this,hn,ZD).call(this),s=this.getNextId(),a=U(this,hn,JD).call(this,{parent:this,id:s,x:i,y:r,uiManager:f(this,Ge),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(vs,id).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,Ge)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=U(this,hn,JD).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:f(this,Ge),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(U(this,hn,ZD).call(this),!0,e)}setSelected(e){f(this,Ge).setSelected(e)}toggleSelected(e){f(this,Ge).toggleSelected(e)}unselect(e){f(this,Ge).unselect(e)}pointerup(e){var r;const{isMac:t}=mr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,td)||(_(this,td,!1),(r=f(this,hn,Go))!=null&&r.isDrawer&&f(this,hn,Go).supportMultipleDrawings))return;if(!f(this,yv)){_(this,yv,!0);return}const i=f(this,Ge).getMode();if(i===ut.STAMP||i===ut.SIGNATURE){f(this,Ge).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(f(this,Ge).getMode()===ut.HIGHLIGHT&&this.enableTextSelection(),f(this,td)){_(this,td,!1);return}const{isMac:t}=mr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,td,!0),(r=f(this,hn,Go))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=f(this,Ge).getActive();_(this,yv,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,yo)){f(this,hn,Go).startDrawing(this,f(this,Ge),!1,e);return}f(this,Ge).setCurrentDrawingSession(this),_(this,yo,new AbortController);const t=f(this,Ge).combinedSignal(f(this,yo));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(_(this,Nl,null),this.commitOrRemove())},{signal:t}),f(this,hn,Go).startDrawing(this,f(this,Ge),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,Nl,t);return}f(this,Nl)&&setTimeout(()=>{var t;(t=f(this,Nl))==null||t.focus(),_(this,Nl,null)},0)}endDrawingSession(e=!1){return f(this,yo)?(f(this,Ge).setCurrentDrawingSession(null),f(this,yo).abort(),_(this,yo,null),_(this,Nl,null),f(this,hn,Go).endDrawing(e)):null}findNewParent(e,t,i){const r=f(this,Ge).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return f(this,yo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,yo)&&f(this,hn,Go).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,Ge).getActive())==null?void 0:e.parent)===this&&(f(this,Ge).commitOrRemove(),f(this,Ge).setActiveEditor(null)),f(this,Dl)&&(clearTimeout(f(this,Dl)),_(this,Dl,null));for(const i of f(this,ds).values())(t=f(this,Oh))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,f(this,ds).clear(),f(this,Ge).removeLayer(this)}render({viewport:e}){this.viewport=e,op(this.div,e);for(const t of f(this,Ge).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,Ge).commitOrRemove(),U(this,hn,u_).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,op(this.div,{rotation:i}),t!==i)for(const r of f(this,ds).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,Ge).viewParameters.realScale}},Oh=new WeakMap,yv=new WeakMap,Zc=new WeakMap,ed=new WeakMap,Dl=new WeakMap,ds=new WeakMap,td=new WeakMap,wv=new WeakMap,bv=new WeakMap,yo=new WeakMap,Nl=new WeakMap,zi=new WeakMap,Ll=new WeakMap,nd=new WeakMap,Cv=new WeakMap,Ge=new WeakMap,id=new WeakMap,hn=new WeakSet,XD=function(){return f(this,ds).size!==0?f(this,ds).values():f(this,Ge).getEditors(this.pageIndex)},RW=function(e){f(this,Ge).unselectAll();const{target:t}=e;if(t===f(this,zi).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,zi).div.contains(t)){const{isMac:i}=mr.platform;if(e.button!==0||e.ctrlKey&&i)return;f(this,Ge).showAllEditors("highlight",!0,!0),f(this,zi).div.classList.add("free"),this.toggleDrawing(),Y_.startHighlighting(this,f(this,Ge).direction==="ltr",{target:f(this,zi).div,x:e.x,y:e.y}),f(this,zi).div.addEventListener("pointerup",()=>{f(this,zi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Ge)._signal}),e.preventDefault()}},Go=function(){return f(vs,id).get(f(this,Ge).getMode())},JD=function(e){const t=f(this,hn,Go);return t?new t.prototype.constructor(e):null},ZD=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},u_=function(){for(const e of f(this,ds).values())e.isEmpty()&&e.remove()},me(vs,"_initialized",!1),F(vs,id,new Map([MD,VD,WD,Y_,jD].map(e=>[e._editorType,e]))),vs);var wo,kr,Hh,qn,VC,m1,DW,SA,eN,NW,tN;let afe=(qn=class{constructor({pageIndex:e}){F(this,SA);F(this,wo,null);F(this,kr,new Map);F(this,Hh,new Map);this.pageIndex=e}setParent(e){if(!f(this,wo)){_(this,wo,e);return}if(f(this,wo)!==e){if(f(this,kr).size>0)for(const t of f(this,kr).values())t.remove(),e.append(t);_(this,wo,e)}}static get _svgFactory(){return At(this,"_svgFactory",new j_)}draw(e,t=!1,i=!1){const r=Zn(qn,VC)._++,s=U(this,SA,eN).call(this),a=qn._svgFactory.createElement("defs");s.append(a);const o=qn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,Hh).set(r,o);const u=i?U(this,SA,NW).call(this,a,l):null,d=qn._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,kr).set(r,s),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const i=Zn(qn,VC)._++,r=U(this,SA,eN).call(this),s=qn._svgFactory.createElement("defs");r.append(s);const a=qn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=qn._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=qn._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=qn._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=qn._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),f(this,kr).set(i,r),i}finalizeDraw(e,t){f(this,Hh).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:i,bbox:r,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,kr).get(e):e;if(o){if(i&&U(this,SA,tN).call(this,o,i),r&&U(l=qn,m1,DW).call(l,o,r),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;U(this,SA,tN).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const i=f(this,kr).get(e);i&&(f(t,wo).append(i),f(this,kr).delete(e),f(t,kr).set(e,i))}remove(e){f(this,Hh).delete(e),f(this,wo)!==null&&(f(this,kr).get(e).remove(),f(this,kr).delete(e))}destroy(){_(this,wo,null);for(const e of f(this,kr).values())e.remove();f(this,kr).clear(),f(this,Hh).clear()}},wo=new WeakMap,kr=new WeakMap,Hh=new WeakMap,VC=new WeakMap,m1=new WeakSet,DW=function(e,[t,i,r,s]){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},SA=new WeakSet,eN=function(){const e=qn._svgFactory.create(1,1,!0);return f(this,wo).append(e),e.setAttribute("aria-hidden",!0),e},NW=function(e,t){const i=qn._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=qn._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},tN=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},F(qn,m1),F(qn,VC,0),qn);globalThis._pdfjsTestingUtils={HighlightOutliner:RD};globalThis.pdfjsLib={AbortException:Fd,AnnotationEditorLayer:sfe,AnnotationEditorParamsType:It,AnnotationEditorType:ut,AnnotationEditorUIManager:Pw,AnnotationLayer:tfe,AnnotationMode:cc,AnnotationType:hi,applyOpacity:Tce,build:Rde,ColorPicker:Lj,createValidAbsoluteUrl:E6,CSSConstants:_ce,DOMSVGFactory:j_,DrawLayer:afe,FeatureTest:mr,fetchData:MB,findContrastColor:Ice,getDocument:FQ,getFilenameFromUrl:bce,getPdfFilenameFromUrl:Cce,getRGB:RB,getUuid:_6,getXfaPageViewport:Ece,GlobalWorkerOptions:Wl,ImageKind:Ux,InvalidPDFException:IR,isDataScheme:U1,isPdfFile:xQ,isValidExplicitDest:kce,MathClamp:Kr,noContextMenu:Ya,normalizeUnicode:vce,OPS:Uw,OutputScale:Ap,PasswordResponses:lce,PDFDataRangeTransport:Pj,PDFDateString:UR,PDFWorker:gD,PermissionFlag:Ace,PixelsPerInch:qv,RenderingCancelledException:SQ,renderRichText:F6,ResponseException:V_,setLayerDimensions:op,shadow:At,SignatureExtractor:Sg,stopEvent:Wn,SupportedImageMimeTypes:PR,TextLayer:dD,TouchManager:X6,updateUrlHash:S6,Util:He,VerbosityLevel:T1,version:Nj,XfaLayer:I6};Wl.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const ofe=async n=>{try{const e=await n.arrayBuffer(),t=await FQ({data:e}).promise;let i="",r=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");i+=h+" ",h.trim().length>0&&r.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:r}}catch(e){throw console.error("PDF Processing Error:",e),e}},Afe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},lfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],LW=M.createContext(void 0),ufe=({children:n})=>{const[e,t]=M.useState(lfe),[i,r]=M.useState(null),[s,a]=M.useState([]),[o,l]=M.useState(!1),[u,d]=M.useState(0),[h,g]=M.useState("medium"),[v,b]=M.useState("light"),[C,E]=M.useState("single"),[x,I]=M.useState(!0),[T,R]=M.useState(()=>{if(typeof window>"u")return[];try{const Be=localStorage.getItem("pdfBookmarks");if(!Be)return[];const st=JSON.parse(Be);if(Array.isArray(st))return st.map(Ze=>Ze&&typeof Ze=="object"&&"page"in Ze?Ze:typeof Ze=="number"?{id:`migrated-${Ze}`,page:Ze,label:`Page ${Ze}`,createdAt:Date.now()}:null).filter(Boolean)}catch(Be){console.error("Failed to parse stored pdfBookmarks",Be)}return[]}),[P,D]=M.useState([]),[L,H]=M.useState(null),[k,K]=M.useState("idle"),[V,q]=M.useState("#ef4444"),[X,ne]=M.useState(3),[he,G]=M.useState(1),[$,se]=M.useState({}),[ae,be]=M.useState([]),[z,J]=M.useState(!1),[le,ve]=M.useState(null),[Ee,Fe]=M.useState([]),[Ce,ht]=M.useState(!0),[ie,Le]=M.useState("ai"),[qe,ge]=M.useState(""),[Ht,it]=M.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),[ln,mn]=M.useState([]),[oi,Xi]=M.useState(1),[vr,yr]=M.useState(null),[Yr,Do]=M.useState(null),[_e,Z]=M.useState(null),we=e[u];M.useEffect(()=>{window.innerWidth<1024&&ht(!1)},[]),M.useEffect(()=>{const Be=setInterval(()=>{document.visibilityState==="visible"&&Re()},5e3);return()=>clearInterval(Be)},[]),M.useEffect(()=>{it(Be=>({...Be,chapterVisits:{...Be.chapterVisits,[we.id]:(Be.chapterVisits[we.id]||0)+1}}))},[we.id]),M.useEffect(()=>{try{localStorage.setItem("pdfBookmarks",JSON.stringify(T))}catch(Be){console.error("Failed to persist pdfBookmarks",Be)}},[T]);const Re=()=>{it(Be=>({...Be,totalReadingTime:Be.totalReadingTime+5}))},wt=()=>{it(Be=>({...Be,aiInteractionCount:Be.aiInteractionCount+1}))},$e=()=>{b(Be=>Be==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},ce=()=>I(Be=>!Be),ye=(Be,st)=>{!Be||Be<1||R(Ze=>Ze.some(rt=>rt.page===Be)?Ze:[{id:Date.now().toString(),page:Be,label:st||`Page ${Be}`,createdAt:Date.now()},...Ze])},Se=Be=>{R(st=>st.filter(Ze=>Ze.id!==Be))},Pe=()=>{u<e.length-1&&d(Be=>Be+1)},Ie=()=>{u>0&&d(Be=>Be-1)},Ve=Be=>{Be>=0&&Be<e.length&&d(Be)},We=async Be=>{l(!0);try{const st=await ofe(Be);st.chapters.length>0?(t(st.chapters),d(0),a(st.chunks),r(null),ht(!0),Le("ai"),alert(`"${Be.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(st){console.error("PDF Load Failed",st),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},xe=(Be,st,Ze)=>{const je=Ze||we.id,rt={id:Date.now().toString(),chapterId:je,text:Be,color:"yellow",note:st,createdAt:Date.now()};return D(Yt=>[rt,...Yt]),it(Yt=>({...Yt,highlightCount:Yt.highlightCount+1})),rt.id},vn=(Be,st)=>{D(Ze=>Ze.map(je=>je.id===Be?{...je,note:st}:je))},Yn=Be=>{D(st=>st.filter(Ze=>Ze.id!==Be))},Pi=Be=>{I(!0),H(Be),setTimeout(()=>H(null),2e3)},Xr=(Be,st)=>{se(Ze=>({...Ze,[Be]:[...Ze[Be]||[],st]}))},Ai=(Be,st)=>{se(Ze=>({...Ze,[Be]:(Ze[Be]||[]).filter(je=>je.id!==st)}))},No=Be=>($[Be]||[]).length>0,Cs=(Be,st)=>{const Ze={id:Date.now().toString(),title:Be||"Untitled Note",content:st,chapterId:we.id,chapterTitle:we.title,createdAt:Date.now(),updatedAt:Date.now()};be(je=>[Ze,...je])},Cp=(Be,st,Ze)=>{be(je=>je.map(rt=>rt.id===Be?{...rt,title:st,content:Ze,updatedAt:Date.now()}:rt))},Gd=Be=>{be(st=>st.filter(Ze=>Ze.id!==Be))},II=Be=>{let st=Be.content.replace(/<[^>]+>/g,"");const Ze=new Blob([`# ${Be.title}

${st}`],{type:"text/markdown"}),je=URL.createObjectURL(Ze),rt=document.createElement("a");rt.href=je,rt.download=`${Be.title.replace(/\s+/g,"_")}.md`,rt.click(),URL.revokeObjectURL(je)},AE=async Be=>{const st=await Be.text();let Ze=Be.name.replace(".md","").replace(".json",""),je=st.replace(/\n/g,"<br>");Cs(Ze,je)},zd=(Be,st)=>{const Ze={id:Date.now().toString(),role:Be,text:st,timestamp:Date.now()};Fe(je=>[...je,Ze])},qd=async Be=>{ht(!0),Le("ai");const st=`Explain: "${Be}"`;zd("user",st),wt();let Ze=we.content.substring(0,2e3);if(s.length>0){const rt=Afe(Be,s);rt&&(Ze=rt)}const je=await B6(Be,Ze);zd("model",je)},FI=Be=>{if(!Be||Be.length<2)return[];const st=[],Ze=Be.toLowerCase();return e.forEach(je=>{const rt=je.content.replace(/<[^>]+>/g," "),Yt=rt.toLowerCase().indexOf(Ze);if(Yt!==-1){const la=Math.max(0,Yt-40),Mu=Math.min(rt.length,Yt+40+Be.length),UI=(la>0?"...":"")+rt.substring(la,Mu)+(Mu<rt.length?"...":"");st.push({id:`ch-${je.id}-${Yt}`,type:"chapter",title:je.title,contentSnippet:UI,chapterId:je.id,matchIndex:Yt})}}),P.forEach(je=>{(je.text.toLowerCase().includes(Ze)||je.note&&je.note.toLowerCase().includes(Ze))&&st.push({id:`hl-${je.id}`,type:"highlight",title:"Highlight",contentSnippet:je.note?`${je.text} - ${je.note}`:je.text,chapterId:je.chapterId})}),ae.forEach(je=>{const rt=je.content.replace(/<[^>]+>/g," ");(je.title.toLowerCase().includes(Ze)||rt.toLowerCase().includes(Ze))&&st.push({id:`note-${je.id}`,type:"note",title:je.title,contentSnippet:rt.substring(0,80)+"...",chapterId:je.chapterId})}),ln.forEach(je=>{const rt=je.text.toLowerCase().indexOf(Ze);if(rt!==-1){const Yt=Math.max(0,rt-40),la=Math.min(je.text.length,rt+40+Be.length),Mu=(Yt>0?"...":"")+je.text.substring(Yt,la)+(la<je.text.length?"...":"");st.push({id:`pdf-${je.page}-${rt}`,type:"pdf",title:`PDF p.${je.page}`,contentSnippet:Mu,pageNumber:je.page})}}),st},lE=Be=>{Xi(Be),vr?vr(Be):Do(Be)},uE=D_.useCallback(Be=>{yr(()=>Be),Yr!==null&&(Be(Yr),Do(null))},[Yr]),cE=D_.useCallback(Be=>{mn(Be)},[]),By=()=>{console.log("Saving progress..."),alert("Progress Saved! (Simulated)")};return Q.jsx(LW.Provider,{value:{chapters:e,referenceDocument:i,currentChapterIndex:u,currentChapter:we,goToNextChapter:Pe,goToPrevChapter:Ie,goToChapter:Ve,uploadBook:We,isProcessing:o,fontSize:h,setFontSize:g,viewMode:C,setViewMode:E,theme:v,toggleTheme:$e,showAnnotations:x,toggleAnnotations:ce,bookmarks:T,addPdfBookmark:ye,removePdfBookmark:Se,highlights:P,addHighlight:xe,updateHighlight:vn,removeHighlight:Yn,activeHighlightId:L,focusHighlight:Pi,drawingMode:k,setDrawingMode:K,penColor:V,setPenColor:q,penWidth:X,setPenWidth:ne,penOpacity:he,setPenOpacity:G,chapterStrokes:$,addStroke:Xr,removeStroke:Ai,hasStrokes:No,generalNotes:ae,addGeneralNote:Cs,updateGeneralNote:Cp,removeGeneralNote:Gd,importNotes:AE,exportNoteAsMarkdown:II,isCaptureMode:z,setCaptureMode:J,capturedImage:le,setCapturedImage:ve,aiChatHistory:Ee,addChatMessage:zd,triggerSmartExplain:qd,isToolsOpen:Ce,setToolsOpen:ht,activeToolTab:ie,setActiveToolTab:Le,searchQuery:qe,setSearchQuery:ge,performSearch:FI,stats:Ht,incrementAiCount:wt,updateReadingTime:Re,saveProgress:By,pdfTextPages:ln,setPdfTextPages:cE,goToPdfPage:lE,registerPdfNavigator:uE,pdfSearchHighlight:_e,setPdfSearchHighlight:Z,currentPdfPage:oi,setCurrentPdfPage:Xi},children:n})},kd=()=>{const n=M.useContext(LW);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),NK=n=>{const e=dfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},QW=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),ffe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=M.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>M.createElement("svg",{ref:l,...hfe,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:QW("lucide",r),...!s&&!ffe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>M.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(n,e)=>{const t=M.forwardRef(({className:i,...r},s)=>M.createElement(pfe,{ref:s,iconNode:e,className:QW(`lucide-${cfe(NK(n))}`,`lucide-${n}`,i),...r}));return t.displayName=NK(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],mfe=yt("bold",gfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yfe=yt("book-open",vfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],nN=yt("book",wfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Cfe=yt("bookmark-check",bfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],Efe=yt("bookmark-plus",Bfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],c_=yt("bookmark",Sfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],LK=yt("bot",xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Tfe=yt("camera",_fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ffe=yt("chevron-left",Ife);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mfe=yt("chevron-right",Ufe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rfe=yt("clock",Pfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Nfe=yt("columns-2",Dfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Qfe=yt("ellipsis-vertical",Lfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Ofe=yt("eraser",kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vfe=yt("eye",Hfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QK=yt("file-text",Kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],iN=yt("file-up",Gfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kK=yt("funnel",zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],d_=yt("highlighter",qfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],jfe=yt("list",$fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],OK=yt("loader-circle",Wfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Xfe=yt("log-out",Yfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zfe=yt("message-circle-question-mark",Jfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rM=yt("message-square",ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M5 12h14",key:"1ays0h"}]],nhe=yt("minus",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],rhe=yt("panel-left",ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ahe=yt("panel-right",she);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ahe=yt("pen-line",ohe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],kW=yt("pen-tool",lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],che=yt("pen",uhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rN=yt("plus",dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],hhe=yt("printer",fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],OW=yt("save",phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],f_=yt("search",ghe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],vhe=yt("settings-2",mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],whe=yt("sticky-note",yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Che=yt("table",bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sN=yt("trash-2",Bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],She=yt("type",Ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_he=yt("upload",xhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HW=yt("x",The),VW=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:i,viewMode:r,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:b,showAnnotations:C,toggleAnnotations:E,isToolsOpen:x,setToolsOpen:I,bookmarks:T,addPdfBookmark:R,removePdfBookmark:P,currentPdfPage:D,uploadBook:L,isProcessing:H,setActiveToolTab:k}=kd(),K=Ld(),V=O$(),q=K.pathname==="/",[X,ne]=M.useState(!1),[he,G]=M.useState(!1),[$,se]=M.useState(!1),ae=M.useRef(null),be=T.find(ie=>ie.page===D),z=!!be,J=()=>{confirm("Are you sure you want to close the viewer?")&&V("/report")},le=()=>{var ie;(ie=ae.current)==null||ie.click()},ve=ie=>{ie.target.files&&ie.target.files[0]&&L(ie.target.files[0])},Ee=()=>{I(!0),k("search")},Fe=()=>{D&&(be?P(be.id):R(D,`PDF p.${D}`))},Ce=ie=>{const Le=["small","medium","large","xlarge"],qe=Le.indexOf(t);let ge=ie==="up"?qe+1:qe-1;ge<0&&(ge=0),ge>=Le.length&&(ge=Le.length-1),i(Le[ge])},ht=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return Q.jsx("header",{className:"header",children:Q.jsxs("div",{className:"header_inner",children:[Q.jsxs("div",{className:"header_main",children:[q&&Q.jsx("button",{onClick:n,className:`left_toggle ${e?"open":"off"}`,title:"Table of Contents",children:Q.jsx(rhe,{size:20})}),Q.jsxs("div",{className:"logo_wrap",children:[Q.jsx("div",{className:"icon",children:Q.jsx(nN,{})}),Q.jsx("span",{className:"logo_text",children:"CampusBook"})]})]}),Q.jsxs("div",{className:"header_nav",children:[Q.jsxs("div",{className:"mode_select",children:[Q.jsx(L_,{to:"/",className:`reader ${q?"on":"off"}`,children:"Reader"}),Q.jsx(L_,{to:"/report",className:`report ${q?"off":"on"}`,children:"Report"})]}),Q.jsx("div",{className:"separate_bar"}),Q.jsxs("button",{onClick:le,disabled:H,className:"add_file",title:"Add Reference Material (PDF)",children:[H?Q.jsx(OK,{size:16,className:"animate-spin"}):Q.jsx(iN,{size:16}),Q.jsx("span",{children:"Add Reference"}),Q.jsx("input",{type:"file",ref:ae,className:"hidden",accept:"application/pdf",onChange:ve})]})]}),Q.jsxs("div",{className:"header_tools",children:[q&&Q.jsxs(Q.Fragment,{children:[Q.jsx("button",{onClick:Ee,className:"search_icon_btn",title:"Search",children:Q.jsx(f_,{size:20})}),Q.jsx("button",{onClick:Fe,className:`bookmark_icon_btn ${z?"on":"off"}`,title:z?"Remove bookmark for this page":"Bookmark this page",children:z?Q.jsx(Cfe,{size:20}):Q.jsx(Efe,{size:20})}),Q.jsxs("div",{className:"draw_icon_wrap",children:[Q.jsxs("div",{className:"draw_icon_inner",children:[Q.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`pen_tool ${a==="pen"?"on":"off"}`,title:"Pen Tool",children:Q.jsx(che,{size:18})}),a==="pen"&&Q.jsx("button",{onClick:()=>ne(!X),className:"detail_select",title:"Pen Settings",children:Q.jsx(vhe,{size:12})}),Q.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),ne(!1)},className:`eraser_tool ${a==="eraser"?"on":"off"}`,title:"Eraser",children:Q.jsx(Ofe,{size:18})})]}),X&&a==="pen"&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-3",children:[Q.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),Q.jsx("button",{onClick:()=>ne(!1),className:"text-slate-400 hover:text-slate-600",children:Q.jsx(HW,{size:14})})]}),Q.jsx("div",{className:"flex justify-between mb-4",children:ht.map(ie=>Q.jsx("button",{onClick:()=>u(ie),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===ie?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:ie}},ie))}),Q.jsxs("div",{className:"mb-3",children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Thickness"}),Q.jsxs("span",{children:[d,"px"]})]}),Q.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:ie=>h(parseInt(ie.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),Q.jsxs("div",{children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Opacity"}),Q.jsxs("span",{children:[Math.round(g*100),"%"]})]}),Q.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:ie=>v(parseFloat(ie.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("button",{onClick:()=>G(!he),className:"appearance",title:"Appearance",children:Q.jsx(She,{size:20})}),he&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),Q.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[Q.jsx("button",{onClick:()=>Ce("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(nhe,{size:14})}),Q.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),Q.jsx("button",{onClick:()=>Ce("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(rN,{size:14})})]}),Q.jsxs("div",{className:"space-y-2",children:[Q.jsxs("button",{onClick:()=>s(r==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(Nfe,{size:16})," Two-Page View"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${r==="double"?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${r==="double"?"translate-x-4":""}`})})]}),Q.jsxs("button",{onClick:E,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(Vfe,{size:16})," Annotations"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${C?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${C?"translate-x-4":""}`})})]}),Q.jsxs("button",{onClick:Fe,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(c_,{size:16})," Bookmark Page"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${z?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${z?"translate-x-4":""}`})})]})]})]})]}),Q.jsx("button",{onClick:()=>I(!x),className:`toggle_ai_notes ${x?"on":"off"}`,title:"Toggle AI & Notes",children:Q.jsx(ahe,{size:20})})]}),Q.jsxs("div",{className:"relative ml-1",children:[Q.jsx("button",{onClick:()=>se(!$),className:"more",children:Q.jsx(Qfe,{size:20})}),$&&Q.jsxs("div",{className:"more_list",children:[Q.jsxs("button",{onClick:le,className:"",children:[H?Q.jsx(OK,{size:14,className:"animate-spin"}):Q.jsx(iN,{size:14})," ","Add Reference PDF"]}),Q.jsx("input",{type:"file",ref:ae,className:"hidden",accept:"application/pdf",onChange:ve}),Q.jsxs("button",{onClick:b,className:"",children:[Q.jsx(OW,{size:14})," Save Progress"]}),Q.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),Q.jsxs("button",{onClick:J,className:"exit_viewer",children:[Q.jsx(Xfe,{size:14})," Exit Viewer"]})]})]})]})]})})},{AbortException:Ihe,AnnotationEditorLayer:Fhe,AnnotationEditorParamsType:OLe,AnnotationEditorType:ss,AnnotationEditorUIManager:Uhe,AnnotationLayer:Mhe,AnnotationMode:yA,AnnotationType:KW,applyOpacity:HLe,build:VLe,ColorPicker:KLe,createValidAbsoluteUrl:GW,CSSConstants:GLe,DOMSVGFactory:zLe,DrawLayer:Phe,FeatureTest:zW,fetchData:HK,findContrastColor:qLe,getDocument:$Le,getFilenameFromUrl:jLe,getPdfFilenameFromUrl:Rhe,getRGB:WLe,getUuid:YLe,getXfaPageViewport:XLe,GlobalWorkerOptions:JLe,ImageKind:ZLe,InvalidPDFException:eQe,isDataScheme:tQe,isPdfFile:Dhe,isValidExplicitDest:Nhe,MathClamp:DQ,noContextMenu:nQe,normalizeUnicode:Lhe,OPS:iQe,OutputScale:h_,PasswordResponses:rQe,PDFDataRangeTransport:sQe,PDFDateString:aQe,PDFWorker:oQe,PermissionFlag:og,PixelsPerInch:nl,RenderingCancelledException:aN,renderRichText:AQe,ResponseException:lQe,setLayerDimensions:qW,shadow:Rw,SignatureExtractor:uQe,stopEvent:oN,SupportedImageMimeTypes:cQe,TextLayer:Qhe,TouchManager:dQe,updateUrlHash:khe,Util:NQ,VerbosityLevel:fQe,version:VK,XfaLayer:sM}=globalThis.pdfjsLib,Ohe="auto",$W=1,KK=1.1,Hhe=.1,Vhe=10,aM=0,Khe=1.25,GK=40,zK=5,Nt={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},zg={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},mA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},Ut={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},Fr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function jW(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;if(e&&(e.top!==void 0&&(r+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=DQ((i.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;i.scrollLeft=s}i.scrollTop=r}function Ghe(n,e,t=void 0){const i=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=r.lastX;l!==u&&(r.right=l>u),r.lastX=l;const d=n.scrollTop,h=r.lastY;d!==h&&(r.down=d>h),r.lastY=d,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i};let s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}function R1(n){const e=new Map;for(const[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}const qK=/[\x00-\x1F]/g;function ww(n,e=!1){return qK.test(n)?e?n.replaceAll(qK,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function Dw(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){const s=i+r>>1,a=n[s];e(a)?r=s:i=s+1}return i}function $K(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const i=n>1?e:n;let r=0,s=1,a=1,o=1;for(;;){const u=r+a,d=s+o;if(d>t)break;i<=u/d?(a=u,o=d):(r=u,s=d)}let l;return i-r/s<a/o-i?l=i===n?[r,s]:[s,r]:l=i===n?[a,o]:[o,a],l}function RS(n,e){return n-n%e}function zhe(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}function qhe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,R=T.offsetLeft+T.clientLeft,P=R+T.clientWidth;return r?R<l:P>o}const h=[],g=new Set,v=e.length;let b=Dw(e,i?d:u);b>0&&b<v&&!i&&(b=zhe(b,e,s));let C=i?l:-1;for(let I=b;I<v;I++){const T=e[I],R=T.div,P=R.offsetLeft+R.clientLeft,D=R.offsetTop+R.clientTop,L=R.clientWidth,H=R.clientHeight,k=P+L,K=D+H;if(C===-1)K>=a&&(C=K);else if((i?P:D)>C)break;if(K<=s||D>=a||k<=o||P>=l)continue;const V=Math.max(0,s-D),q=Math.max(0,o-P),X=V+Math.max(0,K-a),ne=q+Math.max(0,k-l),he=(H-X)/H,G=(L-ne)/L,$=he*G*100|0;h.push({id:T.id,x:P,y:D,visibleArea:$===100?null:{minX:q,minY:V,maxX:Math.min(k,l)-P,maxY:Math.min(K,a)-D},view:T,percent:$,widthPercent:G*100|0}),g.add(T.id)}const E=h[0],x=h.at(-1);return t&&h.sort(function(I,T){const R=I.percent-T.percent;return Math.abs(R)>.001?-R:I.id-T.id}),{first:E,last:x,views:h,ids:g}}function WW(n){return Number.isInteger(n)&&n%90===0}function $he(n){return Number.isInteger(n)&&Object.values(Ut).includes(n)&&n!==Ut.UNKNOWN}function jhe(n){return Number.isInteger(n)&&Object.values(Fr).includes(n)&&n!==Fr.UNKNOWN}function jK(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const Whe=document.documentElement.style;var rd,Vh,sd,Bv,Kh;class Yhe{constructor(e){F(this,rd,null);F(this,Vh,null);F(this,sd,0);F(this,Bv,null);F(this,Kh,!0);_(this,rd,e.classList),_(this,Bv,e.style)}get percent(){return f(this,sd)}set percent(e){if(_(this,sd,DQ(e,0,100)),isNaN(e)){f(this,rd).add("indeterminate");return}f(this,rd).remove("indeterminate"),f(this,Bv).setProperty("--progressBar-percent",`${f(this,sd)}%`)}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&f(this,Bv).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){f(this,sd)===100||isNaN(f(this,sd))||(f(this,Vh)&&clearTimeout(f(this,Vh)),this.show(),_(this,Vh,setTimeout(()=>{_(this,Vh,null),this.hide()},e)))}hide(){f(this,Kh)&&(_(this,Kh,!1),f(this,rd).add("hidden"))}show(){f(this,Kh)||(_(this,Kh,!0),f(this,rd).remove("hidden"))}}rd=new WeakMap,Vh=new WeakMap,sd=new WeakMap,Bv=new WeakMap,Kh=new WeakMap;function Xhe(n){let e=Ut.VERTICAL,t=Fr.NONE;switch(n){case"SinglePage":e=Ut.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=Ut.PAGE;case"TwoColumnLeft":t=Fr.ODD;break;case"TwoPageRight":e=Ut.PAGE;case"TwoColumnRight":t=Fr.EVEN;break}return{scrollMode:e,spreadMode:t}}const DS=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),so={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function Jhe(n){return n<11904}function Zhe(n){return(n&65408)===0}function epe(n){return n>=97&&n<=122||n>=65&&n<=90}function tpe(n){return n>=48&&n<=57}function npe(n){return n===32||n===9||n===13||n===10}function ipe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function rpe(n){return n>=12448&&n<=12543}function spe(n){return n>=12352&&n<=12447}function ape(n){return n>=65376&&n<=65439}function ope(n){return(n&65408)===3584}function NS(n){return Jhe(n)?Zhe(n)?npe(n)?so.SPACE:epe(n)||tpe(n)||n===95?so.ALPHA_LETTER:so.PUNCT:ope(n)?so.THAI_LETTER:n===160?so.SPACE:so.ALPHA_LETTER:ipe(n)?so.HAN_LETTER:rpe(n)?so.KATAKANA_LETTER:spe(n)?so.HIRAGANA_LETTER:ape(n)?so.HALFWIDTH_KATAKANA_LETTER:so.ALPHA_LETTER}let Ape;function lpe(){return Ape}const ic={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},upe=250,cpe=-50,WK={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},YK=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let XK;const dpe=new RegExp("\\p{M}+","gu"),fpe=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),hpe=new RegExp("([^\\p{M}])\\p{M}*$","u"),ppe=new RegExp("^\\p{M}*([^\\p{M}])","u"),gpe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,JK=new Map,mpe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",ZK=new Map;let oM=null,AM=null;function p_(n,e={}){const t=[];let i;for(;(i=gpe.exec(n))!==null;){let{index:I}=i;for(const T of i[0]){let R=JK.get(T);R||(R=T.normalize("NFD").length,JK.set(T,R)),t.push([R,I++])}}const r=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!r&&oM)a=oM;else if(r&&AM)a=AM;else{const I=Object.keys(WK).join(""),T=lpe(),L=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",r?mpe:"\\u0000"];a=new RegExp(L.map(H=>`(${H})`).join("|"),"gum"),r?AM=a:oM=a}const o=[];for(;(i=dpe.exec(n))!==null;)o.push([i[0].length,i.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,b=0,C=!1;l=l.replace(a,(I,T,R,P,D,L,H,k,K,V,q)=>{var X,ne,he;if(q-=v,T){const G=WK[T],$=G.length;for(let se=1;se<$;se++)u.push(q-g+se,g-se);return g-=$-1,G}if(R){let G=ZK.get(R);G||(G=R.normalize("NFKC"),ZK.set(R,G));const $=G.length;for(let se=1;se<$;se++)u.push(q-g+se,g-se);return g-=$-1,G}if(P)return C=!0,q+b===((X=o[d])==null?void 0:X[1])?++d:(u.push(q-1-g+1,g-1),g-=1,v+=1),u.push(q-g+1,g),v+=1,b+=1,P.charAt(0);if(D){const G=D.endsWith(`
`),$=G?D.length-2:D.length;C=!0;let se=$;q+b===((ne=o[d])==null?void 0:ne[1])&&(se-=o[d][0],++d);for(let ae=1;ae<=se;ae++)u.push(q-1-g+ae,g-ae);return g-=se,v+=se,G?(q+=$-1,u.push(q-g+1,1+g),g+=1,v+=1,b+=1,D.slice(0,$)):D}if(L){if(s)return v+=1,b+=1,L.slice(0,-1);const G=L.length-2;return u.push(q-g+G,1+g),g+=1,v+=1,b+=1,L.slice(0,-2)}if(H)return v+=1,b+=1,H.slice(0,-1);if(k){const G=k.length-1;return u.push(q-g+G,g),v+=1,b+=1,k.slice(0,-1)}if(K)return u.push(q-g+1,g-1),g-=1,v+=1,b+=1," ";if(q+b===((he=t[h])==null?void 0:he[1])){const G=t[h][0]-1;++h;for(let $=1;$<=G;$++)u.push(q-(g-$),g-$);g-=G,v+=G}return V}),u.push(l.length,g);const E=new Uint32Array(u.length>>1),x=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)E[I>>1]=u[I],x[I>>1]=u[I+1];return[l,[E,x],C]}function YW(n,e,t){if(!n)return[e,t];const[i,r]=n,s=e,a=e+t-1;let o=Dw(i,g=>g>=s);i[o]>s&&--o;let l=Dw(i,g=>g>=a,o);i[l]>a&&--l;const u=s+r[o],h=a+r[l]+1-u;return[u,h]}var Ei,Ev,Gh,ze,XW,AN,lN,JW,ZW,uN,eY,tY,g_,rw,xg,nY,cN,dN,m_,iY,fN,hN,sw;class vpe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){F(this,ze);F(this,Ei,null);F(this,Ev,!0);F(this,Gh,0);this._linkService=e,this._eventBus=t,_(this,Ev,i),this.onIsPageVisible=null,U(this,ze,AN).call(this),t._on("find",U(this,ze,XW).bind(this)),t._on("findbarclose",U(this,ze,iY).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,Ei)}setDocument(e){this._pdfDocument&&U(this,ze,AN).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){if(!this._scrollMatches||!e)return;if(r===-1||r!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1,jW(e,{top:cpe,left:t},!0)}match(e,t,i){const r=this._hasDiacritics[i];let s=!1;if(typeof e=="string"?[s,e]=U(this,ze,uN).call(this,e,r):e=e.sort().reverse().map(h=>{const[g,v]=U(this,ze,uN).call(this,h,r);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,Ei),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!U(this,ze,ZW).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}Ei=new WeakMap,Ev=new WeakMap,Gh=new WeakMap,ze=new WeakSet,XW=function(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(f(this,Ei)===null||U(this,ze,JW).call(this,e))&&(this._dirtyMatch=!0),_(this,Ei,e),i!=="highlightallchange"&&U(this,ze,sw).call(this,ic.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;U(this,ze,tY).call(this);const r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?U(this,ze,xg).call(this):i==="again"?(U(this,ze,xg).call(this),r&&f(this,Ei).highlightAll&&U(this,ze,rw).call(this)):i==="highlightallchange"?(s?U(this,ze,xg).call(this):this._highlightMatches=!0,U(this,ze,rw).call(this)):U(this,ze,xg).call(this):this._findTimeout=setTimeout(()=>{U(this,ze,xg).call(this),this._findTimeout=null},upe)})},AN=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,Gh,0),_(this,Ei,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},lN=function(){const{query:e}=f(this,Ei);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=p_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>p_(t)[0])},JW=function(e){var a;const t=e.query,i=f(this,Ei).query,r=typeof t;if(r!==typeof i)return!0;if(r==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},ZW=function(e,t,i){let r=e.slice(0,t).match(hpe);if(r){const s=e.charCodeAt(t),a=r[1].charCodeAt(0);if(NS(s)===NS(a))return!1}if(r=e.slice(t+i).match(ppe),r){const s=e.charCodeAt(t+i-1),a=r[1].charCodeAt(0);if(NS(s)===NS(a))return!1}return!0},uN=function(e,t){const{matchDiacritics:i}=f(this,Ei);let r=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(fpe,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":i?h||g:h?YK.has(h.charCodeAt(0))?h:"":t?(r=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),i&&t&&(XK||(XK=String.fromCharCode(...YK)),r=!0,e=`${e}(?=[${XK}]|[^\\p{M}]|$)`),[r,e]},eY=function(e){if(!f(this,Ei))return;const t=f(this,ze,lN);if(t.length===0)return;const i=this._pageContents[e],r=this.match(t,i,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];r==null||r.forEach(({index:u,length:d})=>{const[h,g]=YW(o,u,d);g&&(s.push(h),a.push(g))}),f(this,Ei).highlightAll&&U(this,ze,g_).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,U(this,ze,cN).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,Ev)?l>0&&U(this,ze,hN).call(this):++Zn(this,Gh)._===this._linkService.pagesCount&&U(this,ze,hN).call(this)},tY=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},i=this._pdfDocument;for(let r=0,s=this._linkService.pagesCount;r<s;r++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[r]=a,e=e.then(async()=>{if(i!==this._pdfDocument){o();return}await i.getPage(r+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[r],this._pageDiffs[r],this._hasDiacritics[r]]=p_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${r+1}`,l),this._pageContents[r]="",this._pageDiffs[r]=null,this._hasDiacritics[r]=!1,o()})})}},g_=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},rw=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},xg=function(){const e=f(this,Ei).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,Gh,0),this._matchesCountTotal=0,U(this,ze,rw).call(this);for(let a=0;a<i;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),U(this,ze,eY).call(this,a)}))}if(f(this,ze,lN).length===0){U(this,ze,sw).call(this,ic.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,U(this,ze,m_).call(this,!0);return}U(this,ze,dN).call(this,e)}U(this,ze,cN).call(this)},nY=function(e){const t=this._offset,i=e.length,r=f(this,Ei).findPrevious;return i?(t.matchIdx=r?i-1:0,U(this,ze,m_).call(this,!0),!0):(U(this,ze,dN).call(this,r),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(U(this,ze,m_).call(this,!1),!0):!1)},cN=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!U(this,ze,nY).call(this,e))},dN=function(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},m_=function(e=!1){let t=ic.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?ic.WRAPPED:ic.FOUND,r!==-1&&r!==this._selected.pageIdx&&U(this,ze,g_).call(this,r)}U(this,ze,sw).call(this,t,f(this,Ei).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,U(this,ze,g_).call(this,this._selected.pageIdx))},iY=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),U(this,ze,sw).call(this,ic.FOUND),this._highlightMatches=!1,U(this,ze,rw).call(this))})},fN=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let i=0,r=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)i+=((s=this._pageMatches[a])==null?void 0:s.length)||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}},hN=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:U(this,ze,fN).call(this)})},sw=function(e,t=!1){var i,r;!f(this,Ev)&&(f(this,Gh)!==this._linkService.pagesCount||e===ic.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((i=f(this,Ei))==null?void 0:i.entireWord)??null,matchesCount:U(this,ze,fN).call(this),rawQuery:((r=f(this,Ei))==null?void 0:r.query)??null})};const ype="noopener noreferrer nofollow",pf={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class LQ{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){me(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,i,r;if(typeof e=="string"?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}const[s]=i;if(s&&typeof s=="object"){if(r=this.pdfDocument.cachedPageNumber(s),!r)try{r=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(r=s+1);if(!r||r<1||r>this.pagesCount){console.error(`goToDestination: "${r}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===r&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,i,r={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,i],ignoreDestinationZoom:!0,...r})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const r=i?pf.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(r){case pf.NONE:break;case pf.SELF:a="_self";break;case pf.BLANK:a="_blank";break;case pf.PARENT:a="_parent";break;case pf.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:ype}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=R1(e);if(r.has("search")){const s=r.get("search").replaceAll('"',""),a=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(r.has("page")&&(t=r.get("page")|0||1),r.has("zoom")){const s=r.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?i=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?i=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||Nhe(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(i=this.pdfHistory)==null||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}}class QQ extends LQ{setDocument(e,t=null){}}var ad,KC,GC,zC,od,qC,Cu,sY,pN,aY;class rY{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:b=null,onAppend:C=null}){F(this,Cu);F(this,ad,null);F(this,KC,null);F(this,GC,!1);F(this,zC,null);F(this,od,null);F(this,qC,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=r,this.enableComment=o,_(this,KC,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=b,_(this,zC,C),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:i=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[r,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,zC))==null||l.call(this,o),U(this,Cu,sY).call(this,e,i),r.length===0){_(this,ad,r),qW(this.div,e);return}await this.annotationLayer.render({annotations:r,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,ad,r),this.linkService.isInPresentationMode&&U(this,Cu,pN).call(this,zg.FULLSCREEN),f(this,od)||(_(this,od,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{U(this,Cu,pN).call(this,d.state)},{signal:f(this,od).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,od))==null||e.abort(),_(this,od,null)}hide(e=!1){_(this,GC,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,ad)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,qC))return;_(this,qC,!0);const t=f(this,ad).length?U(this,Cu,aY).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,GC)||(this.div.hidden=!1))}}ad=new WeakMap,KC=new WeakMap,GC=new WeakMap,zC=new WeakMap,od=new WeakMap,qC=new WeakMap,Cu=new WeakSet,sY=function(e,t){this.annotationLayer=new Mhe({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,KC),linkService:this.linkService})},pN=function(e){if(!this.div)return;let t=!1;switch(e){case zg.FULLSCREEN:t=!0;break;case zg.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)},aY=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function i(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=NQ.intersect(d,h);g&&o.push(g)}return o}function r(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,ad)){if(o.annotationType!==KW.LINK||!o.url)continue;const l=i(o,s);if(l.length!==0&&(a??(a=r(t(s))),r(l)/a>.5))return!1}return!0})};function eG(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var cQ;class wpe{constructor(){F(this,cQ,new WeakMap)}downloadData(e,t,i){const r=URL.createObjectURL(new Blob([e],{type:i}));eG(r,t)}openOrDownloadData(e,t,i=null){const s=Dhe(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!GW(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}eG(r,i)}}cQ=new WeakMap;const tG={EVENT:"event",TIMEOUT:"timeout"};async function bpe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:r}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),r(u)}const o=n instanceof kQ?"_on":"addEventListener";n[o](e,a.bind(null,tG.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,tG.TIMEOUT),t);return i}var Sv;class kQ{constructor(){F(this,Sv,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:i==null?void 0:i.once,signal:i==null?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=f(this,Sv)[e];if(!i||i.length===0)return;let r;for(const{listener:s,external:a,once:o}of i.slice(0)){if(o&&this._off(e,s),a){(r||(r=[])).push(s);continue}s(t)}if(r){for(const s of r)s(t);r=null}}_on(e,t,i=null){var a;let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,Sv))[e]||(a[e]=[])).push({listener:t,external:(i==null?void 0:i.external)===!0,once:(i==null?void 0:i.once)===!0,rmAbort:r})}_off(e,t,i=null){var s;const r=f(this,Sv)[e];if(r)for(let a=0,o=r.length;a<o;a++){const l=r[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),r.splice(a,1);return}}}}Sv=new WeakMap;class qg{constructor(e){this.value=e}valueOf(){return this.value}}class vi extends qg{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class iu extends qg{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class Ud extends qg{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof qg)return Ud.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof Ud?(t={...e.opts,...t},e=e.value):e instanceof qg&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const nG=100,Cpe="",Bpe="";function Epe(n,e,t){if(t===e||t instanceof iu&&e instanceof iu&&t.value===e.value)return!0;if(e instanceof iu&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function iG(n,e,t){return e[t]?$v(n,e[t].value):(n.reportError(new RangeError("No default")),new vi)}function gN(n,e){const t=[],i=Object.create(null);for(const r of e)r.type==="narg"?i[r.name]=Nw(n,r.value):t.push(Nw(n,r));return{positional:t,named:i}}function Nw(n,e){switch(e.type){case"str":return e.value;case"num":return new iu(e.value,{minimumFractionDigits:e.precision});case"var":return Spe(n,e);case"mesg":return xpe(n,e);case"term":return _pe(n,e);case"func":return Tpe(n,e);case"select":return Ipe(n,e);default:return new vi}}function Spe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new vi(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new vi(`$${e}`);if(t instanceof qg)return t;switch(typeof t){case"string":return t;case"number":return new iu(t);case"object":if(Ud.supportsValue(t))return new Ud(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new vi(`$${e}`)}}function xpe(n,{name:e,attr:t}){const i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new vi(e);if(t){const r=i.attributes[t];return r?$v(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new vi(`${e}.${t}`))}return i.value?$v(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new vi(e))}function _pe(n,{name:e,attr:t,args:i}){const r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new vi(r);if(t){const o=s.attributes[t];if(o){n.params=gN(n,i).named;const l=$v(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new vi(`${r}.${t}`)}n.params=gN(n,i).named;const a=$v(n,s.value);return n.params=null,a}function Tpe(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new vi(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new vi(`${e}()`);try{let r=gN(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new vi(`${e}()`)}}function Ipe(n,{selector:e,variants:t,star:i}){let r=Nw(n,e);if(r instanceof vi)return iG(n,t,i);for(const s of t){const a=Nw(n,s.key);if(Epe(n,r,a))return $v(n,s.value)}return iG(n,t,i)}function oY(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new vi;n.dirty.add(e);const t=[],i=n.bundle._useIsolating&&e.length>1;for(const r of e){if(typeof r=="string"){t.push(n.bundle._transform(r));continue}if(n.placeables++,n.placeables>nG)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${nG}`);i&&t.push(Cpe),t.push(Nw(n,r).toString(n)),i&&t.push(Bpe)}return n.dirty.delete(e),t.join("")}function $v(n,e){return typeof e=="string"?n.bundle._transform(e):oY(n,e)}class Fpe{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}}function mN(n,e){const t=Object.create(null);for(const[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}const rG=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Upe(n,e){let t=n[0];if(t instanceof vi)return new vi(`NUMBER(${t.valueOf()})`);if(t instanceof iu)return new iu(t.valueOf(),{...t.opts,...mN(e,rG)});if(t instanceof Ud)return new iu(t.toNumber(),{...mN(e,rG)});throw new TypeError("Invalid argument to NUMBER")}const Mpe=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Ppe(n,e){let t=n[0];if(t instanceof vi)return new vi(`DATETIME(${t.valueOf()})`);if(t instanceof Ud||t instanceof iu)return new Ud(t,mN(e,Mpe));throw new TypeError("Invalid argument to DATETIME")}const sG=new Map;function Rpe(n){const e=Array.isArray(n)?n.join(" "):n;let t=sG.get(e);return t===void 0&&(t=new Map,sG.set(e,t)),t}class Dpe{constructor(e,{functions:t,useIsolating:i=!0,transform:r=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:Upe,DATETIME:Ppe,...t},this._useIsolating=i,this._transform=r,this._intls=Rpe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let r=new Fpe(this,i,t);try{return oY(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),new vi().toString(r);throw s}}}const lM=/^(-?[a-zA-Z][\w-]*) *= */gm,aG=/\.([a-zA-Z][\w-]*) *= */y,Npe=/\*?\[/y,uM=/(-?[0-9]+(?:\.([0-9]+))?)/y,Lpe=/([a-zA-Z][\w-]*)/y,oG=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Qpe=/^[A-Z][A-Z0-9_-]*$/,LS=/([^{}\n\r]+)/y,kpe=/([^\\"\n\r]*)/y,AG=/\\([\\"])/y,lG=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Ope=/^\n+/,uG=/ +$/,Hpe=/ *\r?\n/g,Vpe=/( *)$/,Kpe=/{\s*/y,cG=/\s*}/y,Gpe=/\[\s*/y,zpe=/\s*] */y,qpe=/\s*\(\s*/y,$pe=/\s*->\s*/y,jpe=/\s*:\s*/y,Wpe=/\s*,?\s*/y,Ype=/\s+/y;class Xpe{constructor(e){this.body=[],lM.lastIndex=0;let t=0;for(;;){let k=lM.exec(e);if(k===null)break;t=lM.lastIndex;try{this.body.push(l(k[1]))}catch(K){if(K instanceof SyntaxError)continue;throw K}}function i(k){return k.lastIndex=t,k.test(e)}function r(k,K){if(e[t]===k)return t++,!0;if(K)throw new K(`Expected ${k}`);return!1}function s(k,K){if(i(k))return t=k.lastIndex,!0;if(K)throw new K(`Expected ${k.toString()}`);return!1}function a(k){k.lastIndex=t;let K=k.exec(e);if(K===null)throw new SyntaxError(`Expected ${k.toString()}`);return t=k.lastIndex,K}function o(k){return a(k)[1]}function l(k){let K=d(),V=u();if(K===null&&Object.keys(V).length===0)throw new SyntaxError("Expected message value or attributes");return{id:k,value:K,attributes:V}}function u(){let k=Object.create(null);for(;i(aG);){let K=o(aG),V=d();if(V===null)throw new SyntaxError("Expected attribute value");k[K]=V}return k}function d(){let k;if(i(LS)&&(k=o(LS)),e[t]==="{"||e[t]==="}")return h(k?[k]:[],1/0);let K=D();return K?k?h([k,K],K.length):(K.value=L(K.value,Ope),h([K],K.length)):k?L(k,uG):null}function h(k=[],K){for(;;){if(i(LS)){k.push(o(LS));continue}if(e[t]==="{"){k.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let ne=D();if(ne){k.push(ne),K=Math.min(K,ne.length);continue}break}let V=k.length-1,q=k[V];typeof q=="string"&&(k[V]=L(q,uG));let X=[];for(let ne of k)ne instanceof dG&&(ne=ne.value.slice(0,ne.value.length-K)),ne&&X.push(ne);return X}function g(){s(Kpe,SyntaxError);let k=v();if(s(cG))return k;if(s($pe)){let K=E();return s(cG,SyntaxError),{type:"select",selector:k,...K}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(i(oG)){let[,k,K,V=null]=a(oG);if(k==="$")return{type:"var",name:K};if(s(qpe)){let q=b();if(k==="-")return{type:"term",name:K,attr:V,args:q};if(Qpe.test(K))return{type:"func",name:K,args:q};throw new SyntaxError("Function names must be all upper-case")}return k==="-"?{type:"term",name:K,attr:V,args:[]}:{type:"mesg",name:K,attr:V}}return I()}function b(){let k=[];for(;;){switch(e[t]){case")":return t++,k;case void 0:throw new SyntaxError("Unclosed argument list")}k.push(C()),s(Wpe)}}function C(){let k=v();return k.type!=="mesg"?k:s(jpe)?{type:"narg",name:k.name,value:I()}:k}function E(){let k=[],K=0,V;for(;i(Npe);){r("*")&&(V=K);let q=x(),X=d();if(X===null)throw new SyntaxError("Expected variant value");k[K++]={key:q,value:X}}if(K===0)return null;if(V===void 0)throw new SyntaxError("Expected default variant");return{variants:k,star:V}}function x(){s(Gpe,SyntaxError);let k;return i(uM)?k=T():k={type:"str",value:o(Lpe)},s(zpe,SyntaxError),k}function I(){if(i(uM))return T();if(e[t]==='"')return R();throw new SyntaxError("Invalid expression")}function T(){let[,k,K=""]=a(uM),V=K.length;return{type:"num",value:parseFloat(k),precision:V}}function R(){r('"',SyntaxError);let k="";for(;;){if(k+=o(kpe),e[t]==="\\"){k+=P();continue}if(r('"'))return{type:"str",value:k};throw new SyntaxError("Unclosed string literal")}}function P(){if(i(AG))return o(AG);if(i(lG)){let[,k,K]=a(lG),V=parseInt(k||K,16);return V<=55295||57344<=V?String.fromCodePoint(V):""}throw new SyntaxError("Unknown escape sequence")}function D(){let k=t;switch(s(Ype),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(k,t))}return e[t-1]===" "?H(e.slice(k,t)):!1}function L(k,K){return k.replace(K,"")}function H(k){let K=k.replace(Hpe,`
`),V=Vpe.exec(k)[1].length;return new dG(K,V)}}}class dG{constructor(e,t){this.value=e,this.length=t}}const Jpe=/<|&#?\w+;/,Zpe={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},ege={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function tge(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!Jpe.test(t))n.textContent=t;else{const i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,nge(i.content,n)}AY(e,n)}function nge(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=rge(e,t);n.replaceChild(i,t);continue}if(age(t)){const i=sge(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(vN(t),t)}e.textContent="",e.appendChild(n)}function ige(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function AY(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))fG(i.name,e,t)&&!ige(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(const i of Array.from(n.attributes))fG(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function rge(n,e){const t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),vN(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),vN(e);n.removeChild(i);const r=i.cloneNode(!1);return lY(e,r)}function sge(n){const e=n.ownerDocument.createElement(n.localName);return lY(n,e)}function vN(n){return n.ownerDocument.createTextNode(n.textContent)}function age(n){const e=Zpe[n.namespaceURI];return e&&e.includes(n.localName)}function fG(n,e,t=null){if(t&&t.includes(n))return!0;const i=ege[e.namespaceURI];if(!i)return!1;const r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&r==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function lY(n,e){return e.textContent=n.textContent,AY(n,e),e}class oge extends Array{static from(e){return e instanceof this?e:new this(e)}}class Age extends oge{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const i=this[this.length-1];if(i&&(await i).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class lge{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const i=[];let r=!1;for await(const s of this.bundles){r=!0;const a=dge(t,s,e,i);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!r&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,cge)}formatValues(e){return this.formatWithFallback(e,uge)}async formatValue(e,t){const[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=Age.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function uge(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function cge(n,e,t,i){const r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],i,e);r.attributes[a]={name:o,value:l}}}return r}function dge(n,e,t,i){const r=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(i[l]!==void 0)return;let u=e.getMessage(a);if(u){if(r.length=0,i[l]=n(e,r,u,o),r.length>0&&typeof console<"u"){const d=e.locales[0],h=r.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const gf="data-l10n-id",C0="data-l10n-args",fge=`[${gf}]`;class hge extends lge{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[gf,C0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(gf,t),i?e.setAttribute(C0,JSON.stringify(i)):e.removeAttribute(C0),e}getAttributes(e){return{id:e.getAttribute(gf),args:JSON.parse(e.getAttribute(C0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(gf)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&tge(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(fge));return typeof e.hasAttribute=="function"&&e.hasAttribute(gf)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(gf),args:JSON.parse(e.getAttribute(C0)||null)}}}var $C,Ad,xv,fs,oy,uY,cY;const Tw=class Tw{constructor({lang:e,isRTL:t},i=null){F(this,$C);F(this,Ad);F(this,xv);F(this,fs);var r,s;_(this,xv,U(r=Tw,oy,uY).call(r,e)),_(this,fs,i),_(this,$C,t??U(s=Tw,oy,cY).call(s,f(this,xv))?"rtl":"ltr")}_setL10n(e){_(this,fs,e)}getLanguage(){return f(this,xv)}getDirection(){return f(this,$C)}async get(e,t=null,i){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,fs).formatMessages(e)).map(o=>o.value)):((s=(await f(this,fs).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||i}async translate(e){(f(this,Ad)||_(this,Ad,new Set)).add(e);try{f(this,fs).connectRoot(e),await f(this,fs).translateRoots()}catch{}}async translateOnce(e){try{await f(this,fs).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,Ad)){for(const e of f(this,Ad))f(this,fs).disconnectRoot(e);f(this,Ad).clear(),_(this,Ad,null)}f(this,fs).pauseObserving()}pause(){f(this,fs).pauseObserving()}resume(){f(this,fs).resumeObserving()}};$C=new WeakMap,Ad=new WeakMap,xv=new WeakMap,fs=new WeakMap,oy=new WeakSet,uY=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},cY=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},F(Tw,oy);let yN=Tw;function pge(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:i}=zW.platform;return e?"linux":i?"windows":t?"macos":n?"android":"other"}function hG(n,e){const t=new Xpe(e),i=new Dpe(n,{functions:{PLATFORM:pge}}),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}var oa,dY,fY,hY,pY,wN;const Bf=class Bf extends yN{constructor(e){super({lang:e});const t=e?U(Bf,oa,dY).bind(Bf,"en-us",this.getLanguage()):U(Bf,oa,pY).bind(Bf,this.getLanguage());this._setL10n(new hge([],t))}};oa=new WeakSet,dY=async function*(e,t){const{baseURL:i,paths:r}=await U(this,oa,hY).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,U(this,oa,fY).call(this,o,i,r)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield U(this,oa,wN).call(this,o))}},fY=async function(e,t,i){const r=i[e];if(!r)return null;const s=new URL(r,t),a=await HK(s,"text");return hG(e,a)},hY=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await HK(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},pY=async function*(e){yield U(this,oa,wN).call(this,e)},wN=async function(e){return hG(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},F(Bf,oa);let jv=Bf;const gge=1e3,mge=50,vge=1e3;function cM(){return document.location.hash}var ld,ft,ZA,v_,y_,aw,w_,bN,gY,mY,CN,vY,yY;class yge{constructor({linkService:e,eventBus:t}){F(this,ft);F(this,ld,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const r=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,U(this,ft,vY).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=cM(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!U(this,ft,aw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=U(this,ft,bN).call(this,!0);if(!o||r||t){U(this,ft,ZA).call(this,null,!0);return}U(this,ft,ZA).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;U(this,ft,w_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(U(this,ft,CN).call(this),this._initialized=!1,U(this,ft,yY).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!U(this,ft,y_).call(this,i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(wge(this._destination.hash,r)||bge(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(U(this,ft,ZA).call(this,{dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!U(this,ft,y_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(U(this,ft,ZA).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||U(this,ft,v_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,ft,aw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,ft,aw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}ld=new WeakMap,ft=new WeakSet,ZA=function(e,t=!1){const i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};U(this,ft,w_).call(this,e,r.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=khe(a,e.hash))}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)},v_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){U(this,ft,ZA).call(this,t);return}if(this._destination.temporary){U(this,ft,ZA).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=mge)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}U(this,ft,ZA).call(this,t,i)},y_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},aw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if((i==null?void 0:i.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},w_=function(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},bN=function(e=!1){const t=unescape(cM()).substring(1),i=R1(t),r=i.get("nameddest")||"";let s=i.get("page")|0;return(!U(this,ft,y_).call(this,s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},gY=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||U(this,ft,v_).call(this,!0),this._updateViewareaTimeout=null},vge))},mY=function({state:e}){const t=cM(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=U(this,ft,bN).call(this);U(this,ft,ZA).call(this,{hash:s,page:a,rotation:o},!0);return}if(!U(this,ft,aw).call(this,e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,bpe({target:window,name:"hashchange",delay:gge}).then(()=>{this._blockHashChange--}));const r=e.destination;U(this,ft,w_).call(this,r,e.uid,!0),WW(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},CN=function(){(!this._destination||this._destination.temporary)&&U(this,ft,v_).call(this)},vY=function(){if(f(this,ld))return;_(this,ld,new AbortController);const{signal:e}=f(this,ld);this.eventBus._on("updateviewarea",U(this,ft,gY).bind(this),{signal:e}),window.addEventListener("popstate",U(this,ft,mY).bind(this),{signal:e}),window.addEventListener("pagehide",U(this,ft,CN).bind(this),{signal:e})},yY=function(){var e;(e=f(this,ld))==null||e.abort(),_(this,ld,null)};function wge(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||R1(n).get("nameddest")===e}function bge(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(i!==null&&typeof i=="object"&&r!==null){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}var jC,WC,YC,XC,JC,_v;class Cge{constructor(e){F(this,jC,null);F(this,WC,null);F(this,YC,null);F(this,XC,null);F(this,JC,null);F(this,_v);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new jv),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,_v,e.uiManager),_(this,jC,e.annotationLayer||null),_(this,JC,e.textLayer||null),_(this,WC,e.drawLayer||null),_(this,YC,e.onAppend||null),_(this,XC,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}const r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=f(this,_v).direction,(a=f(this,YC))==null||a.call(this,r),this.annotationEditorLayer=new Fhe({uiManager:f(this,_v),div:r,structTreeLayer:f(this,XC),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:f(this,jC),textLayer:f(this,JC),drawLayer:f(this,WC)});const s={viewport:i,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}jC=new WeakMap,WC=new WeakMap,YC=new WeakMap,XC=new WeakMap,JC=new WeakMap,_v=new WeakMap;{var BN=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,i=/Android/.test(t),r=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(r||i)&&BN.set("maxCanvasPixels",5242880)})(),(function(){i&&BN.set("useSystemFonts",!1)})()}const ue={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},EN={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Yl={allowedGlobalEvents:{value:null,kind:ue.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:ue.BROWSER+ue.API},isInAutomation:{value:!1,kind:ue.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:ue.BROWSER},maxCanvasDim:{value:32767,kind:ue.BROWSER+ue.VIEWER},nimbusDataStr:{value:"",kind:ue.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:ue.BROWSER},supportsDocumentFonts:{value:!0,kind:ue.BROWSER},supportsIntegratedFind:{value:!1,kind:ue.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:ue.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:ue.BROWSER},supportsPinchToZoom:{value:!0,kind:ue.BROWSER},supportsPrinting:{value:!0,kind:ue.BROWSER},toolbarDensity:{value:0,kind:ue.BROWSER+ue.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},annotationEditorMode:{value:0,kind:ue.VIEWER+ue.PREFERENCE},annotationMode:{value:2,kind:ue.VIEWER+ue.PREFERENCE},capCanvasAreaFactor:{value:200,kind:ue.VIEWER+ue.PREFERENCE},commentLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},cursorToolOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:ue.VIEWER},defaultZoomDelay:{value:400,kind:ue.VIEWER+ue.PREFERENCE},defaultZoomValue:{value:"",kind:ue.VIEWER+ue.PREFERENCE},disableHistory:{value:!1,kind:ue.VIEWER},disablePageLabels:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltText:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableComment:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableDetailCanvas:{value:!0,kind:ue.VIEWER},enableGuessAltText:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePermissions:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableScripting:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableSignatureEditor:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:ue.VIEWER},externalLinkTarget:{value:0,kind:ue.VIEWER+ue.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:ue.VIEWER+ue.PREFERENCE},historyUpdateUrl:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},imageResourcesPath:{value:"./images/",kind:ue.VIEWER},maxCanvasPixels:{value:2**25,kind:ue.VIEWER},minDurationToUpdateCanvas:{value:500,kind:ue.VIEWER},forcePageColors:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:ue.VIEWER+ue.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:ue.VIEWER+ue.PREFERENCE},pdfBugEnabled:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},printResolution:{value:150,kind:ue.VIEWER},sidebarViewOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},scrollModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},spreadModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},textLayerMode:{value:1,kind:ue.VIEWER+ue.PREFERENCE},viewerCssTheme:{value:0,kind:ue.VIEWER+ue.PREFERENCE},viewOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},cMapPacked:{value:!0,kind:ue.API},cMapUrl:{value:"../web/cmaps/",kind:ue.API},disableAutoFetch:{value:!1,kind:ue.API+ue.PREFERENCE},disableFontFace:{value:!1,kind:ue.API+ue.PREFERENCE},disableRange:{value:!1,kind:ue.API+ue.PREFERENCE},disableStream:{value:!1,kind:ue.API+ue.PREFERENCE},docBaseUrl:{value:"",kind:ue.API},enableHWA:{value:!0,kind:ue.API+ue.VIEWER+ue.PREFERENCE},enableXfa:{value:!0,kind:ue.API+ue.PREFERENCE},fontExtraProperties:{value:!1,kind:ue.API},iccUrl:{value:"../web/iccs/",kind:ue.API},isEvalSupported:{value:!0,kind:ue.API},isOffscreenCanvasSupported:{value:!0,kind:ue.API},maxImageSize:{value:-1,kind:ue.API},pdfBug:{value:!1,kind:ue.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:ue.API},useSystemFonts:{value:void 0,kind:ue.API,type:EN.BOOLEAN+EN.UNDEFINED},verbosity:{value:1,kind:ue.API},wasmUrl:{value:"../web/wasm/",kind:ue.API},workerPort:{value:null,kind:ue.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:ue.WORKER}};Yl.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:ue.VIEWER},Yl.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:ue.VIEWER},Yl.enableFakeMLManager={value:!0,kind:ue.VIEWER};Yl.disablePreferences={value:!1,kind:ue.VIEWER};var ud;const zo=class zo{static get(e){return f(this,ud).get(e)}static getAll(e=null,t=!1){const i=Object.create(null);for(const r in Yl){const s=Yl[r];e&&!(e&s.kind)||(i[r]=t?s.value:f(this,ud).get(r))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let i;for(const r in e){const s=Yl[r],a=e[r];if(!s||!(typeof a==typeof s.value||EN[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&ue.BROWSER||o&ue.PREFERENCE)||(this.eventBus&&o&ue.EVENT_DISPATCH&&(i||(i=new Map)).set(r,a),f(this,ud).set(r,a))}if(i)for(const[r,s]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}};ud=new WeakMap,me(zo,"eventBus"),F(zo,ud,new Map),(()=>{for(const e in Yl)f(zo,ud).set(e,Yl[e].value);for(const[e,t]of BN)f(zo,ud).set(e,t);zo._hasInvokedSet=!1,zo._checkDisablePreferences=()=>zo.get("disablePreferences")?!0:(zo._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let bw=zo;function pG({width:n,height:e,left:t,top:i},r){if(n===0||e===0)return null;const s=r.textLayer.div.getBoundingClientRect(),a=r.getPagePoint(t-s.left,i-s.top),o=r.getPagePoint(t-s.left+n,i-s.top+e);return NQ.normalizeRect([a[0],a[1],o[0],o[1]])}function Bge(n,e){const t=n.getClientRects();if(t.length===1)return{rect:pG(t[0],e)};const i=[1/0,1/0,-1/0,-1/0],r=[];let s=0;for(const a of t){const o=pG(a,e);o!==null&&(r[s]=r[s+4]=o[0],r[s+1]=r[s+3]=o[3],r[s+2]=r[s+6]=o[2],r[s+5]=r[s+7]=o[1],NQ.rectBoundingBox(...o,i),s+=8)}return{quadPoints:r,rect:i}}function gG(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const i=t.textContent.length;if(e<=i)return[t,e];e-=i}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function Ege({url:n,index:e,length:t},i,r){const s=i._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...gG(s.textDivs[a.divIdx],a.offset)),l.setEnd(...gG(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${r}`,unsafeUrl:n,url:n,annotationType:KW.LINK,rotation:0,...Bge(l,i),borderStyle:null}}var v1,ZC;class SN{static findLinks(e){f(this,ZC)??_(this,ZC,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,i]=p_(e,{ignoreDashEOL:!0}),r=t.matchAll(f(this,ZC)),s=[];for(const a of r){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=GW(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=YW(i,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>Ege(t,e,Zn(this,v1)._++))}}v1=new WeakMap,ZC=new WeakMap,F(SN,v1,0),F(SN,ZC);var cd,Tv,Iv,Fv,Ql,dd,kl,y1,eB,xN;class wY{constructor(e){F(this,eB);F(this,cd,null);F(this,Tv,0);F(this,Iv,null);F(this,Fv,Nt.INITIAL);F(this,Ql,null);F(this,dd,0);F(this,kl,null);me(this,"canvas",null);me(this,"div",null);me(this,"enableOptimizedPartialRendering",!1);me(this,"eventBus",null);me(this,"id",null);me(this,"pageColors",null);me(this,"recordedBBoxes",null);me(this,"renderingQueue",null);me(this,"renderTask",null);me(this,"resume",null);F(this,y1,e=>{var t;if((t=f(this,Ql))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Nt.PAUSED,this.resume=()=>{this.renderingState=Nt.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,Tv,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,Fv)}set renderingState(e){var t;if(e!==f(this,Fv))switch(_(this,Fv,e),f(this,cd)&&(clearTimeout(f(this,cd)),_(this,cd,null)),e){case Nt.PAUSED:this.div.classList.remove("loading"),_(this,dd,0),(t=f(this,Ql))==null||t.call(this,!1);break;case Nt.RUNNING:this.div.classList.add("loadingIcon"),_(this,cd,setTimeout(()=>{this.div.classList.add("loading"),_(this,cd,null)},0)),_(this,dd,Date.now());break;case Nt.INITIAL:case Nt.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,dd,0);break}}_createCanvas(e,t=!1){const{pageColors:i}=this,r=!!(i!=null&&i.background&&(i!=null&&i.foreground)),s=this.canvas,a=!s&&!r&&!t;let o=this.canvas=document.createElement("canvas");return _(this,Ql,l=>{if(a){let u=f(this,kl);if(!l&&f(this,Tv)>0){if(Date.now()-f(this,dd)<f(this,Tv))return;u||(u=_(this,kl,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?U(this,eB,xN).call(this):_(this,dd,Date.now());return}e(o),_(this,Ql,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,U(this,eB,xN).call(this))}async _drawCanvas(e,t,i){var a,o;const r=this.renderTask=this.pdfPage.render(e);r.onContinue=f(this,y1),r.onError=l=>{l instanceof aN&&(t(),_(this,Iv,null))};let s=null;try{await r.promise,(a=f(this,Ql))==null||a.call(this,!0)}catch(l){if(l instanceof aN)return;s=l,(o=f(this,Ql))==null||o.call(this,!0)}finally{_(this,Iv,s),r===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=r.recordedBBoxes)))}if(this.renderingState=Nt.FINISHED,i(r),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,Iv)})}}cd=new WeakMap,Tv=new WeakMap,Iv=new WeakMap,Fv=new WeakMap,Ql=new WeakMap,dd=new WeakMap,kl=new WeakMap,y1=new WeakMap,eB=new WeakSet,xN=function(){f(this,kl)&&(f(this,kl).width=f(this,kl).height=0,_(this,kl,null))};var hA;class Sge{constructor(e){F(this,hA,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,hA)||this._cancelled||_(this,hA,new Phe({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,hA)&&(f(this,hA).destroy(),_(this,hA,null))}setParent(e){var t;(t=f(this,hA))==null||t.setParent(e)}getDrawLayer(){return f(this,hA)}}hA=new WeakMap;var Qa,w1,bY;class xge extends wY{constructor({pageView:t}){super(t);F(this,w1);F(this,Qa,null);me(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const i=this.renderingCancelled||this.renderingState===Nt.RUNNING||this.renderingState===Nt.PAUSED;this.cancelRendering(),this.renderingState=Nt.INITIAL,this.renderingCancelled=i,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:i=!1}={}){if(i){this.cancelRendering(),this.renderingState=Nt.INITIAL;return}if(!U(this,w1,bY).call(this,t))return;const{viewport:r,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*h_.pixelRatio**2,h=(Math.sqrt(h_.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,b=l*g,C=Math.max(0,t.minX-v),E=Math.min(r.width,t.maxX+v),x=Math.max(0,t.minY-b),I=Math.min(r.height,t.maxY+b),T=E-C,R=I-x;_(this,Qa,{minX:C,minY:x,width:T,height:R,scale:r.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,i){const r=this.pageView._getRenderingContext(t,i,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return r;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,Qa),g=d/a,v=h/o,b=(d+l)/a,C=(h+u)/o;return{...r,operationsFilter(E){return s.isEmpty(E)?!1:s.minX(E)<=b&&s.maxX(E)>=g&&s.minY(E)<=C&&s.maxY(E)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===Nt.FINISHED||this.renderingState===Nt.FINISHED;this.renderingState!==Nt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:i,pdfPage:r,viewport:s}=this.pageView;if(!r)throw this.renderingState=Nt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Nt.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(E=>{var x;((x=a.firstElementChild)==null?void 0:x.tagName)==="CANVAS"?a.firstElementChild.after(E):a.prepend(E)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,Qa),{pixelRatio:g}=h_,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:b}=o;b.width=`${h.width*100/u}%`,b.height=`${h.height*100/d}%`,b.top=`${h.minY*100/d}%`,b.left=`${h.minX*100/u}%`;const C=this._drawCanvas(this._getRenderingContext(o,v),()=>{var E;(E=this.canvas)==null||E.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return i.setAttribute("data-loaded",!0),this.dispatchPageRender(),C}}Qa=new WeakMap,w1=new WeakSet,bY=function(t){if(!f(this,Qa))return!0;const i=f(this,Qa).minX,r=f(this,Qa).minY,s=f(this,Qa).width+i,a=f(this,Qa).height+r;if(t.minX<i||t.minY<r||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,Qa).scale!==u)return!0;const d=t.minX-i,h=s-t.maxX,g=t.minY-r,v=a-t.maxY,b=.5,C=(1+b)/b;return i>0&&h/d>C||s<o&&d/h>C||r>0&&v/g>C||a<l&&g/v>C};const mG={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},CY=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),J_="http://www.w3.org/1998/Math/MathML";class vG{static get sanitizer(){return Rw(this,"sanitizer",zW.isSanitizerSupported?new Sanitizer({elements:[...CY].map(e=>({name:e,namespace:J_})),replaceWithChildrenElements:[{name:"maction",namespace:J_}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const _ge=/^H(\d+)$/;var Uv,bo,Mv,Pv,Rv,fd,xA,_N,EY,TN;class BY{constructor(e,t){F(this,xA);F(this,Uv);F(this,bo,null);F(this,Mv);F(this,Pv,new Map);F(this,Rv);F(this,fd,null);_(this,Uv,e.getStructTree()),_(this,Rv,t)}async render(){var r;if(f(this,Mv))return f(this,Mv);const{promise:e,resolve:t,reject:i}=Promise.withResolvers();_(this,Mv,e);try{_(this,bo,U(this,xA,TN).call(this,await f(this,Uv)))}catch(s){i(s)}return _(this,Uv,null),(r=f(this,bo))==null||r.classList.add("structTree"),t(f(this,bo)),e}async getAriaAttributes(e){try{return await this.render(),f(this,Pv).get(e)}catch{}return null}hide(){f(this,bo)&&!f(this,bo).hidden&&(f(this,bo).hidden=!0)}show(){var e;(e=f(this,bo))!=null&&e.hidden&&(f(this,bo).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,fd)){for(const[t,i]of f(this,fd))(e=document.getElementById(t))==null||e.append(i);f(this,fd).clear(),_(this,fd,null)}}}Uv=new WeakMap,bo=new WeakMap,Mv=new WeakMap,Pv=new WeakMap,Rv=new WeakMap,fd=new WeakMap,xA=new WeakSet,_N=function(e,t){const{alt:i,id:r,lang:s}=e;if(i!==void 0){let a=!1;const o=ww(i);for(const l of e.children)if(l.type==="annotation"){let u=f(this,Pv).get(l.id);u||(u=new Map,f(this,Pv).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}r!==void 0&&t.setAttribute("aria-owns",r),s!==void 0&&t.setAttribute("lang",ww(s,!0))},EY=function(e,t){const{alt:i,bbox:r,children:s}=e,a=s==null?void 0:s[0];if(!f(this,Rv)||!i||!r||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,fd)||_(this,fd,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",ww(i));const{pageHeight:u,pageX:d,pageY:h}=f(this,Rv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${r[2]-r[0]}px)`,v.height=`${g}${r[3]-r[1]}px)`,v.left=`${g}${r[0]-d}px)`,v.top=`${g}${u-r[3]+h}px)`,!0},TN=function(e){if(!e)return null;let t;if("role"in e){const{role:i}=e;t=CY.has(i)?document.createElementNS(J_,i):document.createElement("span");const r=i.match(_ge);if(r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):mG[i]&&t.setAttribute("role",mG[i]),i==="Figure"&&U(this,xA,EY).call(this,e,t))return t;i==="Formula"&&(e.mathML&&vG.sanitizer&&t.setHTML(e.mathML,{sanitizer:vG.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(J_,"math")))}if(t||(t=document.createElement("span")),U(this,xA,_N).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])U(this,xA,_N).call(this,e.children[0],t);else for(const i of e.children)t.append(U(this,xA,TN).call(this,i));return t};var Ol,ka,Hl,hd,Dv,b_,tB,FN;const Og=class Og{constructor(){F(this,tB);F(this,Ol,!1);F(this,ka,null);F(this,Hl,new Map);F(this,hd,new Map)}setTextMapping(e){_(this,ka,e)}enable(){if(f(this,Ol))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,ka))throw new Error("Text divs and strings have not been set.");if(_(this,Ol,!0),_(this,ka,f(this,ka).slice()),f(this,ka).sort(U(Og,Dv,b_)),f(this,Hl).size>0){const e=f(this,ka);for(const[t,i]of f(this,Hl)){if(!document.getElementById(t)){f(this,Hl).delete(t);continue}U(this,tB,FN).call(this,t,e[i])}}for(const[e,t]of f(this,hd))this.addPointerInTextLayer(e,t);f(this,hd).clear()}disable(){f(this,Ol)&&(f(this,hd).clear(),_(this,ka,null),_(this,Ol,!1))}removePointerInTextLayer(e){if(!f(this,Ol)){f(this,hd).delete(e);return}const t=f(this,ka);if(!t||t.length===0)return;const{id:i}=e,r=f(this,Hl).get(i);if(r===void 0)return;const s=t[r];f(this,Hl).delete(i);let a=s.getAttribute("aria-owns");a!=null&&a.includes(i)&&(a=a.split(" ").filter(o=>o!==i).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!f(this,Ol))return f(this,hd).set(e,t),null;t&&this.removePointerInTextLayer(e);const r=f(this,ka);if(!r||r.length===0)return null;const s=Dw(r,u=>{var d;return U(d=Og,Dv,b_).call(d,e,u)<0}),a=Math.max(0,s-1),o=r[a];U(this,tB,FN).call(this,i,o),f(this,Hl).set(i,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,r){const s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=Dw(a,l=>{var u;return U(u=Og,Dv,b_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};Ol=new WeakMap,ka=new WeakMap,Hl=new WeakMap,hd=new WeakMap,Dv=new WeakSet,b_=function(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(r.width===0&&r.height===0)return-1;const s=i.y,a=i.y+i.height,o=i.y+i.height/2,l=r.y,u=r.y+r.height,d=r.y+r.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=i.x+i.width/2,g=r.x+r.width/2;return h-g},tB=new WeakSet,FN=function(e,t){const i=t.getAttribute("aria-owns");i!=null&&i.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},F(Og,Dv);let IN=Og;var pd;class Tge{constructor({findController:e,eventBus:t,pageIndex:i}){F(this,pd,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,pd)||(_(this,pd,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,pd).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,pd))==null||e.abort(),_(this,pd,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let r=0,s=0;const a=i.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;r!==a&&d>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:r,offset:d-s}};for(d+=t[l];r!==a&&d>s+i[r].length;)s+=i[r].length,r++;h.end={divIdx:r,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,a=i===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(x,I){const T=x.divIdx;return s[T].textContent="",g(T,0,x.offset,I)}function g(x,I,T,R){let P=s[x];if(P.nodeType===Node.TEXT_NODE){const H=document.createElement("span");P.before(H),H.append(P),s[x]=H,P=H}const D=r[x].substring(I,T),L=document.createTextNode(D);if(R){const H=document.createElement("span");if(H.className=`${R} appended`,H.append(L),P.append(H),R.includes("selected")){const{left:k}=H.getClientRects()[0],K=P.getBoundingClientRect().left;return k-K}return 0}return P.append(L),0}let v=o,b=v+1;if(l)v=0,b=e.length;else if(!a)return;let C=-1,E=-1;for(let x=v;x<b;x++){const I=e[x],T=I.begin;if(T.divIdx===C&&T.offset===E)continue;C=T.divIdx,E=T.offset;const R=I.end,P=a&&x===o,D=P?" selected":"";let L=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===R.divIdx)L=g(T.divIdx,T.offset,R.offset,"highlight"+D);else{L=g(T.divIdx,T.offset,d.offset,"highlight begin"+D);for(let H=T.divIdx+1,k=R.divIdx;H<k;H++)s[H].className="highlight middle"+D;h(R,"highlight end"+D)}u=R,P&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:L,pageIndex:i,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of i){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const b=a[g];b.textContent=s[g],b.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[r]||null,u=t.pageMatchesLength[r]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}pd=new WeakMap;var nB,iB,zh,pA,hs,gd,b1,SY,Ay,xY,_Y;const uc=class uc{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){F(this,b1);F(this,nB,!1);F(this,iB,null);F(this,zh,!1);F(this,pA,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,_(this,nB,r===!0),_(this,iB,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,zh)&&f(this,pA)){f(this,pA).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,pA,new Qhe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:i,textContentItemsStr:r}=f(this,pA);(a=this.highlighter)==null||a.setTextMapping(i,r),(o=this.accessibilityManager)==null||o.setTextMapping(i),await f(this,pA).render(),_(this,zh,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),U(this,b1,SY).call(this,s),(l=f(this,iB))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,zh)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,zh)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,i,r;(e=f(this,pA))==null||e.cancel(),_(this,pA,null),(t=this.highlighter)==null||t.disable(),(i=this.accessibilityManager)==null||i.disable(),U(r=uc,Ay,xY).call(r,this.div)}};nB=new WeakMap,iB=new WeakMap,zh=new WeakMap,pA=new WeakMap,hs=new WeakMap,gd=new WeakMap,b1=new WeakSet,SY=function(e){var i;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",r=>{if(!f(this,nB)){const s=document.getSelection();r.clipboardData.setData("text/plain",ww(Lhe(s.toString())))}oN(r)}),f(uc,hs).set(t,e),U(i=uc,Ay,_Y).call(i)},Ay=new WeakSet,xY=function(e){var t;f(this,hs).delete(e),f(this,hs).size===0&&((t=f(this,gd))==null||t.abort(),_(this,gd,null))},_Y=function(){if(f(this,gd))return;_(this,gd,new AbortController);const{signal:e}=f(this,gd),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,f(this,hs).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,f(this,hs).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||f(this,hs).forEach(t)},{signal:e});var r,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,hs).forEach(t);return}const o=new Set;for(let b=0;b<a.rangeCount;b++){const C=a.getRangeAt(b);for(const E of f(this,hs).keys())!o.has(E)&&C.intersectsNode(E)&&o.add(E)}for(const[b,C]of f(this,hs))o.has(b)?b.classList.add("selecting"):t(C,b);if(r??(r=getComputedStyle(f(this,hs).values().next().value).getPropertyValue("-moz-user-select")==="none"),r)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,hs).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},F(uc,Ay),F(uc,hs,new Map),F(uc,gd,null);let Z_=uc;class TY{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,sM.render(s)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?sM.update(r):(this.div=document.createElement("div"),r.div=this.div,sM.render(r))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const Ige={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new QQ}},Fge=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var md,vd,rB,sB,Nv,aB,yd,Vl,Lv,oB,AB,lB,Qv,uB,Kl,wd,mt,_g,C_,ow,UN,MN,PN,RN,DN,FY,UY,MY,NN;class IY extends wY{constructor(t){var a,o;super(t);F(this,mt);F(this,md,yA.ENABLE_FORMS);F(this,vd,null);F(this,rB,null);F(this,sB,!0);F(this,Nv,!1);F(this,aB,!1);F(this,yd,null);F(this,Vl,!1);F(this,Lv,null);F(this,oB,null);F(this,AB,1);F(this,lB,1);F(this,Qv,mA.ENABLE);F(this,uB,1);F(this,Kl,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});F(this,wd,[null,null,null,null]);const i=t.container,r=t.defaultViewport;this.renderingId="page"+this.id,_(this,yd,t.layerProperties||Ige),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||$W,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,Qv,t.textLayerMode??mA.ENABLE),_(this,md,t.annotationMode??yA.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??bw.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||bw.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??bw.get("capCanvasAreaFactor"),_(this,sB,t.enableAutoLinking!==!1),_(this,rB,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new jv),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=i,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,U(this,mt,C_).call(this),i==null||i.append(s),this._isStandalone){i==null||i.style.setProperty("--scale-factor",this.scale*nl.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(i==null||i.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,Kl).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var r,s,a,o;this._isStandalone&&(((r=this.pageColors)==null?void 0:r.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const i=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*nl.PDF_TO_CSS_UNITS,rotation:i}),U(this,mt,C_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return Rw(this,"_textHighlighter",new Tge({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,yd).findController}))}_resetCanvas(){super._resetCanvas(),_(this,Lv,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var E,x,I,T,R,P,D;const l=((E=this.pdfPage)==null?void 0:E._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=Nt.INITIAL;const u=this.div,d=u.childNodes,h=t&&((x=this.annotationLayer)==null?void 0:x.div)||null,g=i&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=r&&((T=this.xfaLayer)==null?void 0:T.div)||null,b=s&&((R=this.textLayer)==null?void 0:R.div)||null,C=a&&f(this,vd)||null;for(let L=d.length-1;L>=0;L--){const H=d[L];switch(H){case h:case g:case v:case b:case C:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const k=f(this,wd).indexOf(H);k>=0&&(f(this,wd)[k]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),b&&this.textLayer.hide(),(P=this.structTreeLayer)==null||P.hide(),!a&&f(this,vd)&&(_(this,vd,null),this._resetCanvas()),o||((D=this.detailView)==null||D.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,aB,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,Vl)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new xge({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:i=null,optionalContentConfigPromise:r=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof i=="number"&&(this.rotation=i),r instanceof Promise&&(this._optionalContentConfigPromise=r,r.then(d=>{r===this._optionalContentConfigPromise&&(f(this,Kl).initialOptionalContent=d.hasInitialVisibility)})),f(this,Kl).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*nl.PDF_TO_CSS_UNITS,rotation:a}),U(this,mt,C_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),U(this,mt,NN).call(this),this.canvas){const d=f(this,Nv)&&f(this,Vl),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==Nt.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=Nt.FINISHED,f(this,Kl).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!i||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!r||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,Lv);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,b=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${b})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&U(this,mt,UN).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&U(this,mt,PN).call(this),U(this,mt,MN).call(this)),r&&this.xfaLayer&&U(this,mt,RN).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&U(this,mt,DN).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,i){return this.viewport.convertToPdfPoint(t,i)}_ensureCanvasWrapper(){let t=f(this,vd);return t||(t=_(this,vd,document.createElement("div")),t.classList.add("canvasWrapper"),U(this,mt,_g).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,i,r){return{canvas:t,transform:i,viewport:this.viewport,annotationMode:f(this,md),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,aB),recordOperations:r}}async draw(){this.renderingState!==Nt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:i,pdfPage:r,viewport:s}=this;if(!r)throw this.renderingState=Nt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Nt.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,Qv)!==mA.DISABLE&&!r.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new IN),this.textLayer=new Z_({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,Qv)===mA.ENABLE_PERMISSIONS,onAppend:P=>{this.l10n.pause(),U(this,mt,_g).call(this,P,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,md)!==yA.DISABLE){const{annotationStorage:P,annotationEditorUIManager:D,downloadManager:L,enableComment:H,enableScripting:k,fieldObjectsPromise:K,hasJSActionsPromise:V,linkService:q}=f(this,yd);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new rY({pdfPage:r,annotationStorage:P,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,md)===yA.ENABLE_FORMS,linkService:q,downloadManager:L,enableComment:H,enableScripting:k,hasJSActionsPromise:V,fieldObjectsPromise:K,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,commentManager:f(this,rB),onAppend:X=>{U(this,mt,_g).call(this,X,"annotationLayer")}})}const{width:o,height:l}=s;_(this,Lv,s);const{canvas:u,prevCanvas:d}=this._createCanvas(P=>{a.prepend(P)});u.setAttribute("role","presentation"),this.outputScale||U(this,mt,NN).call(this);const{outputScale:h}=this;_(this,Nv,f(this,Vl));const g=$K(h.sx),v=$K(h.sy),b=u.width=RS(DS(o*h.sx),g[0]),C=u.height=RS(DS(l*h.sy),v[0]),E=RS(DS(o),g[1]),x=RS(DS(l),v[1]);h.sx=b/E,h.sy=C/x,f(this,AB)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,AB,g[1])),f(this,lB)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,lB,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,Nv)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,R=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},P=>{f(this,Kl).regularAnnotations=!P.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var L;if(this.renderingState!==Nt.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new BY(r,s.rawDims));const P=U(this,mt,DN).call(this);this.annotationLayer&&(await U(this,mt,UN).call(this),f(this,sB)&&this.annotationLayer&&this.textLayer&&await U(this,mt,MY).call(this,P));const{annotationEditorUIManager:D}=f(this,yd);D&&(this.drawLayer||(this.drawLayer=new Sge({pageIndex:this.id})),await U(this,mt,PN).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,md)===yA.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new Cge({uiManager:D,pdfPage:r,l10n:i,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(L=this.annotationLayer)==null?void 0:L.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{U(this,mt,_g).call(this,H,"annotationEditorLayer")}})),U(this,mt,MN).call(this)))});if(r.isPureXfa){if(!this.xfaLayer){const{annotationStorage:P,linkService:D}=f(this,yd);this.xfaLayer=new TY({pdfPage:r,annotationStorage:P,linkService:D})}U(this,mt,RN).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),R}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:i,regularAnnotations:r}=f(this,Kl);return t&&i&&r?this.canvas:null}}md=new WeakMap,vd=new WeakMap,rB=new WeakMap,sB=new WeakMap,Nv=new WeakMap,aB=new WeakMap,yd=new WeakMap,Vl=new WeakMap,Lv=new WeakMap,oB=new WeakMap,AB=new WeakMap,lB=new WeakMap,Qv=new WeakMap,uB=new WeakMap,Kl=new WeakMap,wd=new WeakMap,mt=new WeakSet,_g=function(t,i){const r=Fge.get(i),s=f(this,wd)[r];if(f(this,wd)[r]=t,s){s.replaceWith(t);return}for(let a=r-1;a>=0;a--){const o=f(this,wd)[a];if(o){o.after(t);return}}this.div.prepend(t)},C_=function(){const{div:t,viewport:i}=this;if(i.userUnit!==f(this,uB)&&(i.userUnit!==1?t.style.setProperty("--user-unit",i.userUnit):t.style.removeProperty("--user-unit"),_(this,uB,i.userUnit)),this.pdfPage){if(f(this,oB)===i.rotation)return;_(this,oB,i.rotation)}qW(t,i,!0,!1)},ow=function(t,i){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:i})},UN=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(i){console.error("#renderAnnotationLayer:",i),t=i}finally{U(this,mt,ow).call(this,"annotationlayerrendered",t)}},MN=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(i){console.error("#renderAnnotationEditorLayer:",i),t=i}finally{U(this,mt,ow).call(this,"annotationeditorlayerrendered",t)}},PN=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},RN=async function(){var i;let t=null;try{const r=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});r!=null&&r.textDivs&&this._textHighlighter&&U(this,mt,UY).call(this,r.textDivs)}catch(r){console.error("#renderXfaLayer:",r),t=r}finally{(i=this.xfaLayer)!=null&&i.div&&(this.l10n.pause(),U(this,mt,_g).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),U(this,mt,ow).call(this,"xfalayerrendered",t)}},DN=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(i){if(i instanceof Ihe)return;console.error("#renderTextLayer:",i),t=i}U(this,mt,ow).call(this,"textlayerrendered",t),U(this,mt,FY).call(this)},FY=async function(){var i,r,s;if(!this.textLayer)return;const t=await((i=this.structTreeLayer)==null?void 0:i.render());t&&(this.l10n.pause(),(r=this.structTreeLayer)==null||r.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},UY=async function(t){const i=await this.pdfPage.getTextContent(),r=[];for(const s of i.items)r.push(s.str);this._textHighlighter.setTextMapping(t,r),this._textHighlighter.enable()},MY=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(SN.processLinks(this))}catch(i){console.error("#injectLinkAnnotations:",i)}},NN=function(){const{width:t,height:i}=this.viewport,r=this.outputScale=new h_;if(this.maxCanvasPixels===0){const s=1/this.scale;r.sx*=s,r.sy*=s,_(this,Vl,!0)}else if(_(this,Vl,r.limitCanvas(t,i,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,Vl)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;r.sx/=s,r.sy/=s}};async function Uge(n){const{info:i,metadata:r,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...i,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||Rhe(""),metadata:r==null?void 0:r.getRaw(),authors:r==null?void 0:r.get("dc:creator"),numPages:n.numPages,URL:""}}class Mge{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var gA,qh,cB,$h,jh,dB,Or,Gl,kv,Si,Oa,$i,PY,B_,LN,RY,Aw;class Pge{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){F(this,$i);F(this,gA,null);F(this,qh,null);F(this,cB,null);F(this,$h,null);F(this,jh,null);F(this,dB,null);F(this,Or,null);F(this,Gl,null);F(this,kv,!1);F(this,Si,null);F(this,Oa,null);_(this,jh,e),_(this,dB,t),_(this,cB,i)}setViewer(e){_(this,Gl,e)}async setDocument(e){var o;if(f(this,Or)&&await U(this,$i,Aw).call(this),_(this,Or,e),!e)return;const[t,i,r]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!r){await U(this,$i,Aw).call(this);return}if(e!==f(this,Or))return;try{_(this,Si,U(this,$i,RY).call(this))}catch(l){console.error("setDocument:",l),await U(this,$i,Aw).call(this);return}const s=f(this,jh);_(this,$h,new AbortController);const{signal:a}=f(this,$h);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&U(this,$i,PY).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,Si))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(U(this,$i,LN).call(this,u),U(this,$i,B_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,Gl).currentPageNumber&&U(this,$i,B_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await U(this,$i,LN).call(this,f(this,Gl).currentPageNumber),await((l=f(this,Si))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,gA))==null||u.resolve()},{signal:a});try{const l=await f(this,cB).call(this,e);if(e!==f(this,Or))return;await f(this,Si).createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:r}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await U(this,$i,Aw).call(this);return}await((o=f(this,Si))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await U(this,$i,B_).call(this,f(this,Gl).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,Or)&&_(this,kv,!0)})}async dispatchWillSave(){var e;return(e=f(this,Si))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,Si))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,Si)){await((e=f(this,Oa))==null?void 0:e.promise),_(this,Oa,Promise.withResolvers());try{await f(this,Si).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,Oa).resolve(),_(this,Oa,null),t}await f(this,Oa).promise}}async dispatchDidPrint(){var e;return(e=f(this,Si))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,qh))==null?void 0:e.promise)||null}get ready(){return f(this,kv)}get _pageOpenPending(){return Rw(this,"_pageOpenPending",new Set)}get _visitedPages(){return Rw(this,"_visitedPages",new Map)}}gA=new WeakMap,qh=new WeakMap,cB=new WeakMap,$h=new WeakMap,jh=new WeakMap,dB=new WeakMap,Or=new WeakMap,Gl=new WeakMap,kv=new WeakMap,Si=new WeakMap,Oa=new WeakMap,$i=new WeakSet,PY=async function(e){var u,d;const t=f(this,Gl),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:r,siblings:s,command:a,value:o}=e;if(!r){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!i){const h=Xhe(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,jh).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":i||(t.currentScaleValue=o);break;case"SaveAs":f(this,jh).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,Oa))==null||u.resolve(),_(this,Oa,null);break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;const l=s?[r,...s]:[r];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,Or))==null||d.annotationStorage.setValue(h,e)}},B_=async function(e,t=!1){const i=f(this,Or),r=this._visitedPages;if(t&&_(this,gA,Promise.withResolvers()),!f(this,gA))return;const s=f(this,Gl).getPageView(e-1);if((s==null?void 0:s.renderingState)!==Nt.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(r.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());i===f(this,Or)&&await((u=f(this,Si))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();r.set(e,a)},LN=async function(e){var s;const t=f(this,Or),i=this._visitedPages;if(!f(this,gA)||this._pageOpenPending.has(e))return;const r=i.get(e);r&&(i.set(e,null),await r,t===f(this,Or)&&await((s=f(this,Si))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},RY=function(){if(_(this,qh,Promise.withResolvers()),f(this,Si))throw new Error("#initScripting: Scripting already exists.");return f(this,dB).createScripting()},Aw=async function(){var e,t,i,r;if(!f(this,Si)){_(this,Or,null),(e=f(this,qh))==null||e.resolve();return}f(this,gA)&&(await Promise.race([f(this,gA).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,gA,null)),_(this,Or,null);try{await f(this,Si).destroySandbox()}catch{}(t=f(this,Oa))==null||t.reject(new Error("Scripting destroyed.")),_(this,Oa,null),(i=f(this,$h))==null||i.abort(),_(this,$h,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,Si,null),_(this,kv,!1),(r=f(this,qh))==null||r.resolve()};class Rge extends Pge{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new Mge(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>Uge(t)),super(e)}}const Dge=3e4;class Nge{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Dge)))}getHighestPriority(e,t,i,r=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,b=u-l;v<b;v++){const C=i?l+v:u-v;if(g.has(C))continue;const E=t[C-1];if(!this.isViewFinished(E))return E}}let d=i?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||r&&(d+=i?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===Nt.FINISHED}renderView(e){switch(e.renderingState){case Nt.FINISHED:return!1;case Nt.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Nt.RUNNING:this.highestPriorityPage=e.renderingId;break;case Nt.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof aN||console.error("renderView:",t)});break}return!0}}const yG=10,QS={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function wG(n){return Object.values(ss).includes(n)&&n!==ss.DISABLE}var zl,Wh,fB,QN;class Lge{constructor(e){F(this,fB);F(this,zl,new Set);F(this,Wh,0);_(this,Wh,e)}push(e){const t=f(this,zl);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,Wh)&&U(this,fB,QN).call(this)}resize(e,t=null){_(this,Wh,e);const i=f(this,zl);if(t){const r=i.size;let s=1;for(const a of i)if(t.has(a.id)&&(i.delete(a),i.add(a)),++s>r)break}for(;i.size>f(this,Wh);)U(this,fB,QN).call(this)}has(e){return f(this,zl).has(e)}[Symbol.iterator](){return f(this,zl).keys()}}zl=new WeakMap,Wh=new WeakMap,fB=new WeakSet,QN=function(){const e=f(this,zl).keys().next().value;e==null||e.destroy(),f(this,zl).delete(e)};var ql,hB,pB,Ha,Ys,Yh,Xh,gB,mB,vB,yB,wB,bB,CB,BB,bd,EB,Ov,$l,Co,Jh,Zh,Hv,Cd,Vv,SB,Kv,ep,jl,Gv,xB,zv,_B,Ye,DY,NY,LY,lw,E_,QY,kN,kY,rc,ON,OY,HY,VY,HN,KY,VN,S_,KN;class OQ{constructor(e){F(this,Ye);F(this,ql,null);F(this,hB,null);F(this,pB,null);F(this,Ha,ss.NONE);F(this,Ys,null);F(this,Yh,yA.ENABLE_FORMS);F(this,Xh,null);F(this,gB,null);F(this,mB,null);F(this,vB,!1);F(this,yB,!1);F(this,wB,!1);F(this,bB,!1);F(this,CB,!1);F(this,BB,!0);F(this,bd,null);F(this,EB,0);F(this,Ov,null);F(this,$l,!0);F(this,Co,null);F(this,Jh,null);F(this,Zh,null);F(this,Hv,!1);F(this,Cd,null);F(this,Vv,!1);F(this,SB,0);F(this,Kv,new ResizeObserver(U(this,Ye,KY).bind(this)));F(this,ep,null);F(this,jl,null);F(this,Gv,null);F(this,xB,!0);F(this,zv,mA.ENABLE);F(this,_B,null);var r,s;const t="5.4.449";if(VK!==t)throw new Error(`The API version "${VK}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,_B,e.viewerAlert||null),((r=this.container)==null?void 0:r.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,Kv).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new QQ,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,hB,e.altTextManager||null),_(this,Xh,e.commentManager||null),_(this,Gv,e.signatureManager||null),_(this,mB,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,zv,e.textLayerMode??mA.ENABLE),_(this,Yh,e.annotationMode??yA.ENABLE_FORMS),_(this,Ha,e.annotationEditorMode??ss.NONE),_(this,pB,e.annotationEditorHighlightColors||null),_(this,yB,e.enableHighlightFloatingButton===!0),_(this,bB,e.enableUpdatedAddImage===!0),_(this,CB,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new jv),_(this,wB,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,Ov,e.mlManager||null),_(this,vB,e.enableHWA||!1),_(this,xB,e.supportsPinchToZoom!==!1),_(this,BB,e.enableAutoLinking!==!1),_(this,EB,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Nge,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i==null||i.addEventListener("abort",()=>{f(this,Kv).disconnect(),_(this,Kv,null)},{once:!0}),this.scroll=Ghe(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=zg.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),U(this,Ye,HN).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,ql).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,$l)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,ql))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,Yh)===yA.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var r;if(this._currentPageNumber===e)return t&&U(this,Ye,ON).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((r=this._pageLabels)==null?void 0:r[e-1])??null,previous:i}),t&&U(this,Ye,ON).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==aM?this._currentScale:$W}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&U(this,Ye,rc).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&U(this,Ye,rc).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!WW(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&U(this,Ye,rc).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return Rw(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,Ys)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,Xh)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let i=1,r=this.pdfDocument.numPages;i<=r;++i){if(f(this,Vv))return null;t.length=0;const s=await this.pdfDocument.getPage(i),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(ww(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,b;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(b=f(this,Ys))==null||b.destroy(),_(this,Ys,null),_(this,Ha,ss.NONE),_(this,$l,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),r=e.getOptionalContentConfig({intent:"display"}),s=f(this,wB)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,bd,new AbortController);const{signal:u}=f(this,bd);if(t>QS.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const C=this._scrollMode=Ut.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:C})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=C=>{const E=this._pages[C.pageNumber-1];E&&f(this,ql).push(E)};a._on("pagerender",d,{signal:u});const h=C=>{C.cssTransform||C.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:C.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([i,s]).then(([C,E])=>{var L;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(C),this._optionalContentConfigPromise=r;const{annotationEditorMode:x,annotationMode:I,textLayerMode:T}=U(this,Ye,DY).call(this,E);if(T!==mA.DISABLE){const H=_(this,Cd,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(x!==ss.DISABLE){const H=x;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):wG(H)?(_(this,Ys,new Uhe(this.container,l,f(this,_B),f(this,hB),f(this,Xh),f(this,Gv),a,e,o,f(this,pB),f(this,yB),f(this,bB),f(this,CB),f(this,Ov),f(this,mB),f(this,xB))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,Ys)}),H!==ss.NONE&&(U(this,Ye,KN).call(this,H),f(this,Ys).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const R=this._scrollMode===Ut.PAGE?null:l,P=this.currentScale,D=C.getViewport({scale:P*nl.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",D.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const k=new IY({container:R,eventBus:a,id:H,scale:P,defaultViewport:D.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,vB),enableAutoLinking:f(this,BB),minDurationToUpdateCanvas:f(this,EB),commentManager:f(this,Xh)});this._pages.push(k)}(L=this._pages[0])==null||L.setPdfPage(C),this._scrollMode===Ut.PAGE?U(this,Ye,lw).call(this):this._spreadMode!==Fr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,Ys)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,Ha)})},{once:!0,signal:u}),U(this,Ye,NY).call(this,u).then(async()=>{var k,K;if(e!==this.pdfDocument)return;if((k=this.findController)==null||k.setDocument(e),(K=this._scriptingManager)==null||K.setDocument(e),f(this,Cd)&&document.addEventListener("copy",U(this,Ye,LY).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>QS.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let V=2;V<=t;++V){const q=e.getPage(V).then(X=>{const ne=this._pages[V-1];ne.pdfPage||ne.setPdfPage(X),--H===0&&this._pagesCapability.resolve()},X=>{console.error(`Unable to get page ${V} to initialize viewer`,X),--H===0&&this._pagesCapability.resolve()});V%QS.PAUSE_EAGER_PAGE_INIT===0&&await q}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(C=>{console.error("Unable to initialize viewer",C),this._pagesCapability.reject(C)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let i=0,r=this._pages.length;i<r;i++)this._pages[i].setPageLabel(((t=this._pageLabels)==null?void 0:t[i])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=aM,this._currentScaleValue=null,this._pageLabels=null,_(this,ql,new Lge(yG)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=Ut.VERTICAL,this._previousScrollMode=Ut.UNKNOWN,this._spreadMode=Fr.NONE,_(this,ep,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,bd))==null||e.abort(),_(this,bd,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,Cd))==null||t.remove(),_(this,Cd,null),U(this,Ye,VN).call(this),U(this,Ye,S_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,Co)&&clearTimeout(f(this,Co)),_(this,Co,setTimeout(()=>{_(this,Co,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,b=(v?a.height:a.width)/a.scale/nl.PDF_TO_CSS_UNITS,C=(v?a.width:a.height)/a.scale/nl.PDF_TO_CSS_UNITS;let E=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],E=t[4],o=o!==null?o:0,l=l!==null?l:C;break;case"Fit":case"FitB":E="page-fit";break;case"FitH":case"FitBH":l=t[2],E="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=C);break;case"FitV":case"FitBV":o=t[2],u=b,d=C,E="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let R=GK,P=zK;this.removePageBorders&&(R=P=0),h=(this.container.clientWidth-R)/u/nl.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-P)/d/nl.PDF_TO_CSS_UNITS,E=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(r||(E&&E!==this._currentScale?this.currentScaleValue=E:this._currentScale===aM&&(this.currentScaleValue=Ohe)),E==="page-fit"&&!t[4]){U(this,Ye,E_).call(this,a);return}const x=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(x[0][0],x[1][0]),T=Math.min(x[0][1],x[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(x[1][1]-x[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(x[1][0]-x[0][0]))/2)):i||(I=Math.max(I,0),T=Math.max(T,0)),U(this,Ye,E_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${r},${u},${d}`),this._location={pageNumber:s,scale:r,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;const r=Math.max(yG,2*i+1);f(this,ql).resize(r,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,ql))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===Fr.NONE&&(this._scrollMode===Ut.PAGE||this._scrollMode===Ut.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===zg.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===zg.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===Ut.PAGE?f(this,ep).pages:this._pages,t=this._scrollMode===Ut.HORIZONTAL,i=t&&this._isContainerRtl;return qhe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==Nt.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=U(this,Ye,VY).call(this,t),r=this._spreadMode!==Fr.NONE&&this._scrollMode!==Ut.HORIZONTAL,s=f(this,jl)!==null||f(this,Co)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,i,r,s);return a?(U(this,Ye,HY).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),r=jK(i);if(e===void 0)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!$he(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>QS.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===Ut.HORIZONTAL),i.classList.toggle("scrollWrapped",t===Ut.WRAPPED),!(!this.pdfDocument||!e)&&(t===Ut.PAGE?U(this,Ye,lw).call(this):this._previousScrollMode===Ut.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,Ye,rc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!jhe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===Ut.PAGE)U(this,Ye,lw).call(this);else if(t.textContent="",this._spreadMode===Fr.NONE)for(const r of this._pages)t.append(r.div);else{const r=this._spreadMode-1;let s=null;for(let a=0,o=i.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,Ye,rc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case Ut.WRAPPED:{const{views:i}=this._getVisiblePages(),r=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of i){if(o===0||l<100)continue;let u=r.get(a);u||r.set(a,u||(u=[])),u.push(s)}for(const s of r.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case Ut.HORIZONTAL:break;case Ut.PAGE:case Ut.VERTICAL:{if(this._spreadMode===Fr.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of r)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){const a=i>0?KK:1/KK,o=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=o((s*a).toFixed(2)*10)/10;while(--i>0)}s=DQ(s,Hhe,Vhe),U(this,Ye,rc).call(this,s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,gB)||_(this,gB,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,Ys)?f(this,Ha):ss.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1,mustEnterInEditMode:r=!1,editComment:s=!1}){if(!f(this,Ys))throw new Error("The AnnotationEditor is not enabled.");if(f(this,Ha)===e)return;if(!wG(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;U(this,Ye,KN).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{U(this,Ye,S_).call(this),_(this,Ha,e),await f(this,Ys).updateMode(e,t,i,r,s),!(e!==f(this,Ha)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===ss.NONE||f(this,Ha)===ss.NONE){const u=e!==ss.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=U(this,Ye,OY).call(this);if(u&&d){U(this,Ye,S_).call(this),_(this,Jh,new AbortController);const h=AbortSignal.any([f(this,bd).signal,f(this,Jh).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,Zh,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);U(this,Ye,VN).call(this),e||this.update()}}}ql=new WeakMap,hB=new WeakMap,pB=new WeakMap,Ha=new WeakMap,Ys=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,gB=new WeakMap,mB=new WeakMap,vB=new WeakMap,yB=new WeakMap,wB=new WeakMap,bB=new WeakMap,CB=new WeakMap,BB=new WeakMap,bd=new WeakMap,EB=new WeakMap,Ov=new WeakMap,$l=new WeakMap,Co=new WeakMap,Jh=new WeakMap,Zh=new WeakMap,Hv=new WeakMap,Cd=new WeakMap,Vv=new WeakMap,SB=new WeakMap,Kv=new WeakMap,ep=new WeakMap,jl=new WeakMap,Gv=new WeakMap,xB=new WeakMap,zv=new WeakMap,_B=new WeakMap,Ye=new WeakSet,DY=function(e){const t={annotationEditorMode:f(this,Ha),annotationMode:f(this,Yh),textLayerMode:f(this,zv)};return e?(_(this,$l,e.includes(og.PRINT_HIGH_QUALITY)||e.includes(og.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,$l)}),!e.includes(og.COPY)&&f(this,zv)===mA.ENABLE&&(t.textLayerMode=mA.ENABLE_PERMISSIONS),e.includes(og.MODIFY_CONTENTS)||(t.annotationEditorMode=ss.DISABLE),!e.includes(og.MODIFY_ANNOTATIONS)&&!e.includes(og.FILL_INTERACTIVE_FORMS)&&f(this,Yh)===yA.ENABLE_FORMS&&(t.annotationMode=yA.ENABLE),t):(_(this,$l,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,$l)}),t)},NY=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,i.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()},LY=function(e,t){const i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(f(this,Cd))){if(f(this,Hv)||e===mA.ENABLE_PERMISSIONS){oN(t);return}_(this,Hv,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,Vv,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,Hv,!1),_(this,Vv,!1),o.abort(),a.remove("copyAll")}),oN(t)}},lw=function(){if(this._scrollMode!==Ut.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,ep),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===Fr.NONE&&!this.isInPresentationMode){const r=this._pages[e-1];i.append(r.div),t.pages.push(r)}else{const r=new Set,s=this._spreadMode-1;s===-1?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of r){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}i.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},E_=function(e,t=null){const{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===Ut.PAGE&&(U(this,Ye,lw).call(this),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,a=s+i.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===Ut.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}jW(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},QY=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},kN=function(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),U(this,Ye,QY).call(this,e)){r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*nl.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,jl,setTimeout(()=>{_(this,jl,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!i){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()},kY=function(){return this._spreadMode!==Fr.NONE&&this._scrollMode!==Ut.HORIZONTAL?2:1},rc=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,U(this,Ye,kN).call(this,i,e,t);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;let s=GK,a=zK;this.isInPresentationMode?(s=a=4,this._spreadMode!==Fr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===Ut.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/r.width*r.scale/f(this,Ye,kY),l=(this.container.clientHeight-a)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=l;break;case"page-fit":i=Math.min(o,l);break;case"auto":const u=jK(r)?o:Math.min(l,o);i=Math.min(Khe,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,U(this,Ye,kN).call(this,i,e,t)}},ON=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&U(this,Ye,rc).call(this,this._currentScaleValue,{noScroll:!0}),U(this,Ye,E_).call(this,e)},OY=function(){const e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(const s of r){const{view:a}=s;if(!a.hasEditableAnnotations()){i.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)},HY=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},VY=function(e){var t,i;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((i=e.last)==null?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case Ut.PAGE:return f(this,ep).scrollDown;case Ut.HORIZONTAL:return this.scroll.right}return this.scroll.down},HN=function(e=this.container.clientHeight){e!==f(this,SB)&&(_(this,SB,e),Whe.setProperty("--viewer-container-height",`${e}px`))},KY=function(e){for(const t of e)if(t.target===this.container){U(this,Ye,HN).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,gB,null);break}},VN=function(){f(this,jl)!==null&&(clearTimeout(f(this,jl)),_(this,jl,null)),f(this,Co)!==null&&(clearTimeout(f(this,Co)),_(this,Co,null))},S_=function(){var e;(e=f(this,Jh))==null||e.abort(),_(this,Jh,null),f(this,Zh)!==null&&(clearTimeout(f(this,Zh)),_(this,Zh,null))},KN=function(e){var t,i;switch(e){case ss.STAMP:(t=f(this,Ov))==null||t.loadModel("altText");break;case ss.SIGNATURE:(i=f(this,Gv))==null||i.loadSignatures();break}};class Qge extends OQ{_resetView(){super._resetView(),this._scrollMode=Ut.PAGE,this._spreadMode=Fr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:rY,DownloadManager:wpe,EventBus:kQ,FindState:ic,GenericL10n:jv,LinkTarget:pf,parseQueryString:R1,PDFFindController:vpe,PDFHistory:yge,PDFLinkService:LQ,PDFPageView:IY,PDFScriptingManager:Rge,PDFSinglePageViewer:Qge,PDFViewer:OQ,ProgressBar:Yhe,RenderingStates:Nt,ScrollMode:Ut,SimpleLinkService:QQ,SpreadMode:Fr,StructTreeLayerBuilder:BY,TextLayerBuilder:Z_,XfaLayerBuilder:TY};Wl.workerSrc=`https://unpkg.com/pdfjs-dist@${Nj}/build/pdf.worker.mjs`;const kge=({file:n,onPageChange:e,onPagesCount:t,registerGoToPage:i})=>{const r=M.useRef(null),s=M.useRef(null),a=M.useRef(null),o=M.useRef(new Map),l=M.useRef(null),{addHighlight:u,highlights:d,activeHighlightId:h,triggerSmartExplain:g,setPdfTextPages:v,pdfSearchHighlight:b,drawingMode:C,penColor:E,penWidth:x,penOpacity:I,chapterStrokes:T,addStroke:R,removeStroke:P,showAnnotations:D}=kd(),L=M.useRef(null),[H,k]=M.useState(!0),[K,V]=M.useState(null),[q,X]=M.useState(""),ne=M.useRef(null),[he,G]=M.useState([]),[$,se]=M.useState({text:"",top:0,left:0,show:!1}),ae=M.useRef(!1),be=M.useRef([]),z=M.useRef(C),J=M.useRef(E),le=M.useRef(x),ve=M.useRef(I),Ee=M.useRef(T),Fe=M.useRef(D);M.useEffect(()=>{z.current=C},[C]),M.useEffect(()=>{J.current=E},[E]),M.useEffect(()=>{le.current=x},[x]),M.useEffect(()=>{ve.current=I},[I]),M.useEffect(()=>{Ee.current=T},[T]),M.useEffect(()=>{Fe.current=D},[D]),M.useEffect(()=>{G(ce=>ce.filter(ye=>d.some(Se=>Se.id===ye.id)))},[d]),M.useEffect(()=>{if(!s.current)return;const ce=()=>{var Se;(Se=s.current)==null||Se.querySelectorAll(".textLayer span").forEach(Pe=>{const Ie=Pe;Ie.dataset.origText!==void 0&&(Ie.textContent=Ie.dataset.origText,delete Ie.dataset.origText)})};if(!b){ce();return}const ye=()=>{var We;const Se=(We=s.current)==null?void 0:We.querySelector(`.page[data-page-number="${b.page}"]`),Pe=Se==null?void 0:Se.querySelector(".textLayer");if(!Pe)return!1;ce();const Ie=b.term.trim();if(!Ie)return!1;const Ve=new RegExp(Ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");return Pe.querySelectorAll("span").forEach(xe=>{const vn=xe,Yn=vn.textContent||"",Pi=Yn.replace(Ve,Xr=>`<span class="pdf_search_hit">${Xr}</span>`);Pi!==Yn&&(vn.dataset.origText===void 0&&(vn.dataset.origText=Yn),vn.innerHTML=Pi)}),!0};if(!ye()){const Se=setTimeout(ye,250);return()=>clearTimeout(Se)}},[b]),M.useEffect(()=>{if(!h||!r.current)return;const ce=he.find(Ie=>Ie.id===h);if(!ce||ce.rects.length===0)return;const ye=ce.rects[0],Se=Math.max(0,ye.top-40),Pe=Math.max(0,ye.left-20);r.current.scrollTo({top:Se,left:Pe,behavior:"smooth"})},[h,he]),M.useEffect(()=>()=>{ne.current&&clearTimeout(ne.current)},[]),M.useEffect(()=>{if(!r.current||!s.current)return;G([]),se(xe=>({...xe,show:!1})),v([]),t==null||t(0),e==null||e(1),k(!0),V(null);const ce=new kQ,ye=new LQ({eventBus:ce}),Se=new OQ({container:r.current,viewer:s.current,eventBus:ce,linkService:ye,textLayerMode:2,annotationMode:2,removePageBorders:!0});L.current=Se;const Pe=2.1,Ie=()=>{qe(),ge(),vr(),yr()};ce.on("pagesinit",()=>{Se.currentScale=Pe,Ie()}),ce.on("pagechanging",xe=>{xe!=null&&xe.pageNumber&&(e==null||e(xe.pageNumber))}),ce.on("pagesloaded",xe=>{xe!=null&&xe.pagesCount&&(t==null||t(xe.pagesCount)),Ie()}),ce.on("pagerendered",Ie),i==null||i(xe=>{if(!L.current||!L.current.pdfDocument||!L.current.pagesCount)return;const vn=L.current.pdfDocument.numPages,Yn=Math.min(Math.max(xe,1),vn);L.current.currentPageNumber=Yn,L.current.scrollPageIntoView({pageNumber:Yn})}),ye.setViewer(Se);let Ve=!1,We=FQ(n);return We.promise.then(xe=>{if(Ve)return;k(!1),V(null),Se.setDocument(xe),ye.setDocument(xe,null),t==null||t(xe.numPages),(async()=>{const Yn=[];try{for(let Pi=1;Pi<=xe.numPages;Pi++){const No=(await(await xe.getPage(Pi)).getTextContent()).items.map(Cs=>"str"in Cs?Cs.str:"").join(" ");Yn.push({page:Pi,text:No})}Ve||v(Yn)}catch(Pi){console.error("PDF text extraction failed",Pi)}})()}).catch(xe=>{if(!Ve){if((xe==null?void 0:xe.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",xe),V((xe==null?void 0:xe.message)||"PDF  "),k(!1)}}),()=>{var xe;Ve=!0,We.destroy(),L.current=null,(xe=ce.off)==null||xe.call(ce,"pagerendered",Ie),o.current.forEach(({layer:vn})=>vn.remove()),o.current.clear(),l.current=null}},[n,e,t,i,v]);const Ce=()=>{if(!a.current)return 1;const ce=getComputedStyle(a.current).getPropertyValue("--visual-scale"),ye=parseFloat(ce);return Number.isFinite(ye)?ye:1},ht=ce=>{const Se=ce.target.closest(".page");if(!Se)return null;const Pe=Number(Se.dataset.pageNumber);return Pe?{pageEl:Se,pageNumber:Pe}:null},ie=ce=>s.current?s.current.querySelector(`.page[data-page-number="${ce}"]`):null,Le=(ce,ye,Se)=>{const Pe=ce.getBoundingClientRect(),Ie=window.devicePixelRatio||1,Ve=Ce(),We=Pe.width/Ve,xe=Pe.height/Ve;!We||!xe||[ye,Se].forEach(vn=>{vn.width=We*Ie,vn.height=xe*Ie,vn.style.width="100%",vn.style.height="100%";const Yn=vn.getContext("2d");Yn&&(Yn.setTransform(1,0,0,1,0,0),Yn.scale(Ie,Ie))})},qe=()=>{var Se;if(!s.current)return;const ce=Array.from(s.current.querySelectorAll(".page")),ye=new Set;ce.forEach(Pe=>{const Ie=Number(Pe.dataset.pageNumber);if(!Ie)return;ye.add(Ie);let Ve=Pe.querySelector(".pdf_pen_page_layer"),We=null,xe=null;Ve?(We=Ve.querySelector(".pdf_pen_page_canvas:not(.pdf_pen_page_canvas_live)"),xe=Ve.querySelector(".pdf_pen_page_canvas_live"),xe&&!xe.dataset.penBound&&(xe.addEventListener("pointerdown",ln),xe.addEventListener("pointermove",mn),xe.addEventListener("pointerup",oi),xe.addEventListener("pointerleave",oi),xe.dataset.penBound="1")):(Ve=document.createElement("div"),Ve.className="pdf_pen_page_layer",We=document.createElement("canvas"),We.className="pdf_pen_page_canvas",We.setAttribute("aria-hidden","true"),xe=document.createElement("canvas"),xe.className="pdf_pen_page_canvas pdf_pen_page_canvas_live",xe.addEventListener("pointerdown",ln),xe.addEventListener("pointermove",mn),xe.addEventListener("pointerup",oi),xe.addEventListener("pointerleave",oi),xe.dataset.penBound="1",Ve.appendChild(We),Ve.appendChild(xe),Pe.appendChild(Ve)),!(!Ve||!We||!xe)&&(o.current.set(Ie,{layer:Ve,staticCanvas:We,liveCanvas:xe}),Le(Pe,We,xe))});for(const[Pe,Ie]of o.current.entries())ye.has(Pe)||((Se=Ie.layer)==null||Se.remove(),o.current.delete(Pe))},ge=()=>{const ce=z.current!=="idle";o.current.forEach(({liveCanvas:ye})=>{ye.style.pointerEvents=ce?"auto":"none",ye.style.touchAction=ce?"none":"auto"})},Ht=(ce,ye)=>ce.pageNumber===void 0?ye===1:ce.pageNumber===ye,it=(ce,ye)=>{const Se=ye.getBoundingClientRect(),Pe=Ce(),Ie=(ce.clientX-Se.left)/Pe,Ve=(ce.clientY-Se.top)/Pe;return{x:Ie,y:Ve}},ln=ce=>{if(z.current==="idle")return;const ye=ht(ce);if(!ye)return;const{pageEl:Se,pageNumber:Pe}=ye;ce.target.setPointerCapture(ce.pointerId);const Ie=it(ce,Se);Ie&&(l.current=Pe,ae.current=!0,be.current=[Ie],yr())},mn=ce=>{var Ie;if(z.current==="idle"||ce.buttons===0&&!ae.current)return;const ye=l.current||((Ie=ht(ce))==null?void 0:Ie.pageNumber)||null;if(!ye)return;const Se=ie(ye);if(!Se)return;ce.preventDefault();const Pe=it(ce,Se);Pe&&(z.current==="pen"?(ae.current=!0,l.current=ye,be.current.length===0?be.current=[Pe]:be.current.push(Pe),yr()):z.current==="eraser"&&(Ee.current["pdf-main"]||[]).filter(We=>Ht(We,ye)).forEach(We=>{We.points.some(vn=>Math.hypot(vn.x-Pe.x,vn.y-Pe.y)<16)&&P("pdf-main",We.id)}))},oi=ce=>{var Pe;if(!ae.current&&z.current!=="eraser")return;const ye=ce.target;(Pe=ye.hasPointerCapture)!=null&&Pe.call(ye,ce.pointerId)&&ye.releasePointerCapture(ce.pointerId);const Se=l.current;if(z.current==="pen"&&Se&&be.current.length>1){const Ie={id:Date.now().toString(),points:be.current,color:J.current,width:le.current,opacity:ve.current,pageNumber:Se};R("pdf-main",Ie)}ae.current=!1,be.current=[],l.current=null,yr()},Xi=(ce,ye,Se,Pe,Ie)=>{if(!(ye.length<2)){ce.beginPath(),ce.lineWidth=Pe,ce.strokeStyle=Se,ce.lineCap="round",ce.lineJoin="round",ce.globalAlpha=Ie,ce.moveTo(ye[0].x,ye[0].y);for(let Ve=1;Ve<ye.length-1;Ve++){const We={x:(ye[Ve].x+ye[Ve+1].x)/2,y:(ye[Ve].y+ye[Ve+1].y)/2};ce.quadraticCurveTo(ye[Ve].x,ye[Ve].y,We.x,We.y)}ce.lineTo(ye[ye.length-1].x,ye[ye.length-1].y),ce.stroke(),ce.globalAlpha=1}},vr=()=>{o.current.forEach(({staticCanvas:ce},ye)=>{const Se=ce.getContext("2d");if(!Se||(Se.save(),Se.setTransform(1,0,0,1,0,0),Se.clearRect(0,0,ce.width,ce.height),Se.restore(),!Fe.current))return;(Ee.current["pdf-main"]||[]).filter(Ie=>Ht(Ie,ye)).forEach(Ie=>Xi(Se,Ie.points,Ie.color,Ie.width||3,Ie.opacity??1))})},yr=()=>{if(o.current.forEach(({liveCanvas:Pe})=>{const Ie=Pe.getContext("2d");Ie&&(Ie.save(),Ie.setTransform(1,0,0,1,0,0),Ie.clearRect(0,0,Pe.width,Pe.height),Ie.restore())}),z.current!=="pen"||be.current.length===0)return;const ce=l.current;if(!ce)return;const ye=o.current.get(ce);if(!ye)return;const Se=ye.liveCanvas.getContext("2d");if(Se){if(be.current.length===1){const Pe=be.current[0];Se.beginPath(),Se.fillStyle=J.current,Se.globalAlpha=ve.current,Se.arc(Pe.x,Pe.y,le.current/2,0,Math.PI*2),Se.fill(),Se.globalAlpha=1;return}Xi(Se,be.current,J.current,le.current,ve.current)}};M.useEffect(()=>{qe(),ge(),vr()},[C,D]),M.useEffect(()=>{vr()},[T]),M.useEffect(()=>{yr()},[C,E,x,I]),M.useEffect(()=>{const ce=new ResizeObserver(()=>{qe(),vr(),yr()});return s.current&&ce.observe(s.current),r.current&&ce.observe(r.current),()=>ce.disconnect()},[]);const Yr=async()=>{var ye;ne.current&&clearTimeout(ne.current);const ce=((ye=window.getSelection())==null?void 0:ye.toString())??"";if(!ce.trim()){X("fail"),ne.current=window.setTimeout(()=>X(""),1e3);return}try{navigator.clipboard&&navigator.clipboard.writeText?await navigator.clipboard.writeText(ce):document.execCommand("copy"),X("ok")}catch(Se){console.error("copy failed",Se),X("fail")}finally{ne.current=window.setTimeout(()=>X(""),1e3)}},Do=.5,_e=ce=>{const Se=ce.map(Ie=>({...Ie}));let Pe=!0;for(;Pe;){Pe=!1;for(let Ie=0;Ie<Se.length;Ie++){for(let Ve=Ie+1;Ve<Se.length;Ve++){const We=Se[Ie],xe=Se[Ve],vn=We.left<=xe.left+xe.width+1.5&&We.left+We.width>=xe.left-1.5,Yn=We.top<=xe.top+xe.height+1.5&&We.top+We.height>=xe.top-1.5;if(vn&&Yn){const Pi=Math.min(We.left,xe.left),Xr=Math.min(We.top,xe.top),Ai=Math.max(We.left+We.width,xe.left+xe.width),No=Math.max(We.top+We.height,xe.top+xe.height);Se[Ie]={left:Pi,top:Xr,width:Ai-Pi,height:No-Xr},Se.splice(Ve,1),Pe=!0;break}}if(Pe)break}}return Se},Z=()=>{const ce=window.getSelection();if(!ce||!ce.toString().trim()||!r.current){se(We=>({...We,show:!1}));return}if(!(r.current.contains(ce.anchorNode)&&r.current.contains(ce.focusNode))){se(We=>({...We,show:!1}));return}const Pe=ce.getRangeAt(0).getBoundingClientRect();let Ie=Pe.top-50,Ve=Pe.left+Pe.width/2-80;Ie<8&&(Ie=Pe.bottom+8),Ve<8&&(Ve=8),Ve+180>window.innerWidth&&(Ve=window.innerWidth-200),se({text:ce.toString(),top:Ie,left:Ve,show:!0})},we=()=>{C==="idle"&&setTimeout(Z,10)},Re=()=>{const ce=window.getSelection();if(!ce||!ce.toString().trim()||!r.current||!a.current){se(Ai=>({...Ai,show:!1}));return}const ye=ce.getRangeAt(0),Se=r.current.getBoundingClientRect(),Pe=r.current.scrollLeft,Ie=r.current.scrollTop,Ve=getComputedStyle(a.current).getPropertyValue("--visual-scale"),We=parseFloat(Ve)||1,xe=.5,vn=1,Yn=Array.from(ye.getClientRects()).map(Ai=>({left:(Ai.left-Se.left)/We+Pe,top:(Ai.top-Se.top)/We+Ie-xe,width:Ai.width/We,height:Math.max(Ai.height/We-vn,1)})),Pi=u(ce.toString(),void 0,"reference-doc"),Xr=_e(Yn);G(Ai=>[...Ai,{id:Pi,rects:Xr}]),se(Ai=>({...Ai,show:!1})),ce.removeAllRanges()},wt=()=>{var ce;(ce=window.getSelection())==null||ce.removeAllRanges(),se(ye=>({...ye,show:!1}))},$e=()=>{var ce;if(!$.text.trim()){se(ye=>({...ye,show:!1}));return}g($.text),se(ye=>({...ye,show:!1})),(ce=window.getSelection())==null||ce.removeAllRanges()};return Q.jsxs("div",{className:"pdf_viewer",children:[H&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_loading",children:Q.jsx("span",{className:"pdf_viewer_overlay_message",children:"PDF  ..."})}),K&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_error",children:Q.jsxs("div",{className:"pdf_viewer_error",children:[Q.jsx("div",{className:"pdf_viewer_error_title",children:"PDF  "}),Q.jsx("div",{children:K})]})}),Q.jsx("div",{className:"pdf_viewer_scale_wrapper",ref:a,style:{"--visual-scale":Do},children:Q.jsxs("div",{ref:r,className:"pdf_viewer_container",onPointerUp:we,children:[Q.jsx("div",{ref:s,className:"pdfViewer pdf_viewer_content"}),Q.jsx("div",{className:"pdf_highlight_layer",children:he.flatMap(ce=>ce.rects.map((ye,Se)=>Q.jsx("div",{className:"pdf_highlight","data-highlight-id":ce.id,style:{left:ye.left,top:ye.top,width:ye.width,height:ye.height}},`${ce.id}-${Se}`)))})]})}),$.show&&Q.jsxs("div",{className:"pdf_selection_menu",style:{top:$.top,left:$.left},children:[(q==="ok"||q==="fail")&&Q.jsx("span",{className:`pdf_selection_menu_copy_status ${q==="ok"?"pdf_viewer_copy_status_ok":"pdf_viewer_copy_status_fail"}`,children:q==="ok"?"":" "}),Q.jsx("button",{onClick:Re,children:"Highlight"}),Q.jsx("div",{className:"pdf_selection_menu_copy_block",children:Q.jsx("button",{onClick:Yr,children:"Copy"})}),Q.jsx("button",{onClick:$e,children:"AI"}),Q.jsx("button",{onClick:wt,children:"Cancel"})]})]})},Oge=({pdfPageCount:n,pdfCurrentPage:e,onPdfGoToPage:t})=>{const{chapters:i,currentChapterIndex:r,goToNextChapter:s,goToPrevChapter:a,goToChapter:o}=kd(),l=!!t&&(n||0)>0,u=l?n||1:i.length,d=l?e||1:r+1,h=d-1,[g,v]=M.useState(d.toString());M.useEffect(()=>{v(d.toString())},[d]);const b=E=>{E.preventDefault();const x=parseInt(g);if(isNaN(x)||x<1||x>u){v(d.toString());return}l?t==null||t(x):o(x-1)},C=E=>{const x=parseInt(E.target.value);l?t==null||t(x+1):o(x)};return Q.jsxs("div",{className:"navigation_inner",children:[Q.jsxs("div",{className:"prograss_bar_wrap",children:[Q.jsx("input",{type:"range",min:"0",max:Math.max(u-1,0),value:h,onChange:C,className:"prograss_max"}),Q.jsx("div",{className:"prograss_range",style:{width:`${d/u*100}%`},children:Q.jsx("div",{className:"prograss_pointer"})})]}),Q.jsxs("div",{className:"navigation_bottom_box",children:[Q.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.max(1,d-1)):a(),disabled:l?d<=1:r===0,className:`
            ${l?d<=1?"off":"on":r===0?"off":"on"}
          `,children:[Q.jsx(Ffe,{size:18}),Q.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),Q.jsxs("div",{className:"chapter_page",children:[Q.jsxs("form",{onSubmit:b,className:"",children:[Q.jsx("span",{className:"text_xs",children:"Page"}),Q.jsx("input",{type:"text",value:g,onChange:E=>v(E.target.value),className:""}),Q.jsxs("span",{className:"slash",children:["/ ",u]})]}),Q.jsx("span",{className:"chapter_name",children:l?"PDF":i[r].title.split(":")[1]||i[r].title})]}),Q.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.min(u,d+1)):s(),disabled:l?d>=u:r===i.length-1,className:`
            ${l?d>=u?"off":"on":r===i.length-1?"off":"on"}
          `,children:[Q.jsx("span",{className:"hidden sm:inline",children:"Next"}),Q.jsx(Mfe,{size:18})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GN=function(n,e){return GN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},GN(n,e)};function Po(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");GN(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zN=function(){return zN=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zN.apply(this,arguments)};function Hr(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(i.next(d))}catch(h){a(h)}}function l(d){try{u(i.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):r(d.value).then(o,l)}u((i=i.apply(n,[])).next())})}function Tr(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function kS(n,e,t){if(arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||e)}var cu=(function(){function n(e,t,i,r){this.left=e,this.top=t,this.width=i,this.height=r}return n.prototype.add=function(e,t,i,r){return new n(this.left+e,this.top+t,this.width+i,this.height+r)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(r){return r.width!==0});return i?new n(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),D1=function(n,e){return cu.fromClientRect(n,e.getBoundingClientRect())},Hge=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),r=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new cu(0,0,i,r)},N1=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},ri=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},bG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vge=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var OS=0;OS<bG.length;OS++)Vge[bG.charCodeAt(OS)]=OS;var CG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var HS=0;HS<CG.length;HS++)uw[CG.charCodeAt(HS)]=HS;var Kge=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=uw[n.charCodeAt(i)],a=uw[n.charCodeAt(i+1)],o=uw[n.charCodeAt(i+2)],l=uw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},Gge=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},zge=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},tp=5,HQ=11,dM=2,qge=HQ-tp,GY=65536>>tp,$ge=1<<tp,fM=$ge-1,jge=1024>>tp,Wge=GY+jge,Yge=Wge,Xge=32,Jge=Yge+Xge,Zge=65536>>HQ,eme=1<<qge,tme=eme-1,BG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},nme=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},ime=function(n,e){var t=Kge(n),i=Array.isArray(t)?zge(t):new Uint32Array(t),r=Array.isArray(t)?Gge(t):new Uint16Array(t),s=24,a=BG(r,s/2,i[4]/2),o=i[5]===2?BG(r,(s+i[4])/2):nme(i,Math.ceil((s+i[4])/4));return new rme(i[0],i[1],i[2],i[3],a,o)},rme=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>tp],t=(t<<dM)+(e&fM),this.data[t];if(e<=65535)return t=this.index[GY+(e-55296>>tp)],t=(t<<dM)+(e&fM),this.data[t];if(e<this.highStart)return t=Jge-Zge+(e>>HQ),t=this.index[t],t+=e>>tp&tme,t=this.index[t],t=(t<<dM)+(e&fM),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),EG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var VS=0;VS<EG.length;VS++)sme[EG.charCodeAt(VS)]=VS;var ame="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",SG=50,ome=1,zY=2,qY=3,Ame=4,lme=5,xG=7,$Y=8,_G=9,Ed=10,qN=11,TG=12,$N=13,ume=14,cw=15,jN=16,KS=17,B0=18,cme=19,IG=20,WN=21,E0=22,hM=23,Ag=24,Fs=25,dw=26,fw=27,lg=28,dme=29,wf=30,fme=31,GS=32,zS=33,YN=34,XN=35,JN=36,Lw=37,ZN=38,x_=39,__=40,pM=41,jY=42,hme=43,pme=[9001,65288],WY="!",_t="",qS="",eL=ime(ame),jA=[wf,JN],tL=[ome,zY,qY,lme],YY=[Ed,$Y],FG=[fw,dw],gme=tL.concat(YY),UG=[ZN,x_,__,YN,XN],mme=[cw,$N],vme=function(n,e){e===void 0&&(e="strict");var t=[],i=[],r=[];return n.forEach(function(s,a){var o=eL.get(s);if(o>SG?(r.push(!0),o-=SG):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return i.push(a),t.push(jN);if(o===Ame||o===qN){if(a===0)return i.push(a),t.push(wf);var l=t[a-1];return gme.indexOf(l)===-1?(i.push(i[a-1]),t.push(l)):(i.push(a),t.push(wf))}if(i.push(a),o===fme)return t.push(e==="strict"?WN:Lw);if(o===jY||o===dme)return t.push(wf);if(o===hme)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Lw):t.push(wf);t.push(o)}),[i,t,r]},gM=function(n,e,t,i){var r=i[t];if(Array.isArray(n)?n.indexOf(r)!==-1:n===r)for(var s=t;s<=i.length;){s++;var a=i[s];if(a===e)return!0;if(a!==Ed)break}if(r===Ed)for(var s=t;s>0;){s--;var o=i[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=i.length;){l++;var a=i[l];if(a===e)return!0;if(a!==Ed)break}if(o!==Ed)break}return!1},MG=function(n,e){for(var t=n;t>=0;){var i=e[t];if(i===Ed)t--;else return i}return 0},yme=function(n,e,t,i,r){if(t[i]===0)return _t;var s=i-1;if(Array.isArray(r)&&r[s]===!0)return _t;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===zY&&d===qY)return _t;if(tL.indexOf(l)!==-1)return WY;if(tL.indexOf(d)!==-1||YY.indexOf(d)!==-1)return _t;if(MG(s,e)===$Y)return qS;if(eL.get(n[s])===qN||(l===GS||l===zS)&&eL.get(n[o])===qN||l===xG||d===xG||l===_G||[Ed,$N,cw].indexOf(l)===-1&&d===_G||[KS,B0,cme,Ag,lg].indexOf(d)!==-1||MG(s,e)===E0||gM(hM,E0,s,e)||gM([KS,B0],WN,s,e)||gM(TG,TG,s,e))return _t;if(l===Ed)return qS;if(l===hM||d===hM)return _t;if(d===jN||l===jN)return qS;if([$N,cw,WN].indexOf(d)!==-1||l===ume||u===JN&&mme.indexOf(l)!==-1||l===lg&&d===JN||d===IG||jA.indexOf(d)!==-1&&l===Fs||jA.indexOf(l)!==-1&&d===Fs||l===fw&&[Lw,GS,zS].indexOf(d)!==-1||[Lw,GS,zS].indexOf(l)!==-1&&d===dw||jA.indexOf(l)!==-1&&FG.indexOf(d)!==-1||FG.indexOf(l)!==-1&&jA.indexOf(d)!==-1||[fw,dw].indexOf(l)!==-1&&(d===Fs||[E0,cw].indexOf(d)!==-1&&e[o+1]===Fs)||[E0,cw].indexOf(l)!==-1&&d===Fs||l===Fs&&[Fs,lg,Ag].indexOf(d)!==-1)return _t;if([Fs,lg,Ag,KS,B0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===Fs)return _t;if([lg,Ag].indexOf(g)!==-1)h--;else break}if([fw,dw].indexOf(d)!==-1)for(var h=[KS,B0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===Fs)return _t;if([lg,Ag].indexOf(g)!==-1)h--;else break}if(ZN===l&&[ZN,x_,YN,XN].indexOf(d)!==-1||[x_,YN].indexOf(l)!==-1&&[x_,__].indexOf(d)!==-1||[__,XN].indexOf(l)!==-1&&d===__||UG.indexOf(l)!==-1&&[IG,dw].indexOf(d)!==-1||UG.indexOf(d)!==-1&&l===fw||jA.indexOf(l)!==-1&&jA.indexOf(d)!==-1||l===Ag&&jA.indexOf(d)!==-1||jA.concat(Fs).indexOf(l)!==-1&&d===E0&&pme.indexOf(n[o])===-1||jA.concat(Fs).indexOf(d)!==-1&&l===B0)return _t;if(l===pM&&d===pM){for(var v=t[s],b=1;v>0&&(v--,e[v]===pM);)b++;if(b%2!==0)return _t}return l===GS&&d===zS?_t:qS},wme=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=vme(n,e.lineBreak),i=t[0],r=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[Fs,wf,jY].indexOf(o)!==-1?Lw:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[i,r,a]},bme=(function(){function n(e,t,i,r){this.codePoints=e,this.required=t===WY,this.start=i,this.end=r}return n.prototype.slice=function(){return ri.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),Cme=function(n,e){var t=N1(n),i=wme(t,e),r=i[0],s=i[1],a=i[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=_t;u<o&&(d=yme(t,s,r,++u,a))===_t;);if(d!==_t||u===o){var h=new bme(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},Bme=1,Eme=2,QB=4,PG=8,eT=10,RG=47,Cw=92,Sme=9,xme=32,$S=34,S0=61,_me=35,Tme=36,Ime=37,jS=39,WS=40,x0=41,Fme=95,ms=45,Ume=33,Mme=60,Pme=62,Rme=64,Dme=91,Nme=93,Lme=61,Qme=123,YS=63,kme=125,DG=124,Ome=126,Hme=128,NG=65533,mM=42,Ef=43,Vme=44,Kme=58,Gme=59,Qw=46,zme=0,qme=8,$me=11,jme=14,Wme=31,Yme=127,Ko=-1,XY=48,JY=97,ZY=101,Xme=102,Jme=117,Zme=122,eX=65,tX=69,nX=70,eve=85,tve=90,Ur=function(n){return n>=XY&&n<=57},nve=function(n){return n>=55296&&n<=57343},ug=function(n){return Ur(n)||n>=eX&&n<=nX||n>=JY&&n<=Xme},ive=function(n){return n>=JY&&n<=Zme},rve=function(n){return n>=eX&&n<=tve},sve=function(n){return ive(n)||rve(n)},ave=function(n){return n>=Hme},XS=function(n){return n===eT||n===Sme||n===xme},tT=function(n){return sve(n)||ave(n)||n===Fme},LG=function(n){return tT(n)||Ur(n)||n===ms},ove=function(n){return n>=zme&&n<=qme||n===$me||n>=jme&&n<=Wme||n===Yme},oc=function(n,e){return n!==Cw?!1:e!==eT},JS=function(n,e,t){return n===ms?tT(e)||oc(e,t):tT(n)?!0:!!(n===Cw&&oc(n,e))},vM=function(n,e,t){return n===Ef||n===ms?Ur(e)?!0:e===Qw&&Ur(t):Ur(n===Qw?e:n)},Ave=function(n){var e=0,t=1;(n[e]===Ef||n[e]===ms)&&(n[e]===ms&&(t=-1),e++);for(var i=[];Ur(n[e]);)i.push(n[e++]);var r=i.length?parseInt(ri.apply(void 0,i),10):0;n[e]===Qw&&e++;for(var s=[];Ur(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(ri.apply(void 0,s),10):0;(n[e]===tX||n[e]===ZY)&&e++;var l=1;(n[e]===Ef||n[e]===ms)&&(n[e]===ms&&(l=-1),e++);for(var u=[];Ur(n[e]);)u.push(n[e++]);var d=u.length?parseInt(ri.apply(void 0,u),10):0;return t*(r+o*Math.pow(10,-a))*Math.pow(10,l*d)},lve={type:2},uve={type:3},cve={type:4},dve={type:13},fve={type:8},hve={type:21},pve={type:9},gve={type:10},mve={type:11},vve={type:12},yve={type:14},ZS={type:23},wve={type:1},bve={type:25},Cve={type:24},Bve={type:26},Eve={type:27},Sve={type:28},xve={type:29},_ve={type:31},nL={type:32},iX=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(N1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==nL;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case $S:return this.consumeStringToken($S);case _me:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(LG(t)||oc(i,r)){var s=JS(t,i,r)?Eme:Bme,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Tme:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),dve;break;case jS:return this.consumeStringToken(jS);case WS:return lve;case x0:return uve;case mM:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),yve;break;case Ef:if(vM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Vme:return cve;case ms:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(vM(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(JS(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===ms&&u===Pme)return this.consumeCodePoint(),this.consumeCodePoint(),Cve;break;case Qw:if(vM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case RG:if(this.peekCodePoint(0)===mM)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===mM&&(d=this.consumeCodePoint(),d===RG))return this.consumeToken();if(d===Ko)return this.consumeToken()}break;case Kme:return Bve;case Gme:return Eve;case Mme:if(this.peekCodePoint(0)===Ume&&this.peekCodePoint(1)===ms&&this.peekCodePoint(2)===ms)return this.consumeCodePoint(),this.consumeCodePoint(),bve;break;case Rme:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(JS(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case Dme:return Sve;case Cw:if(oc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Nme:return xve;case Lme:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),fve;break;case Qme:return mve;case kme:return vve;case Jme:case eve:var b=this.peekCodePoint(0),C=this.peekCodePoint(1);return b===Ef&&(ug(C)||C===YS)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case DG:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),pve;if(this.peekCodePoint(0)===DG)return this.consumeCodePoint(),hve;break;case Ome:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),gve;break;case Ko:return nL}return XS(e)?(this.consumeWhiteSpace(),_ve):Ur(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):tT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ri(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();ug(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===YS&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(ri.apply(void 0,e.map(function(l){return l===YS?XY:l})),16),s=parseInt(ri.apply(void 0,e.map(function(l){return l===YS?nX:l})),16);return{type:30,start:r,end:s}}var a=parseInt(ri.apply(void 0,e),16);if(this.peekCodePoint(0)===ms&&ug(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];ug(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(ri.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===WS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===WS?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ko)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===jS||t===$S){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ko||this.peekCodePoint(0)===x0)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),ZS)}for(;;){var r=this.consumeCodePoint();if(r===Ko||r===x0)return{type:22,value:ri.apply(void 0,e)};if(XS(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ko||this.peekCodePoint(0)===x0?(this.consumeCodePoint(),{type:22,value:ri.apply(void 0,e)}):(this.consumeBadUrlRemnants(),ZS);if(r===$S||r===jS||r===WS||ove(r))return this.consumeBadUrlRemnants(),ZS;if(r===Cw)if(oc(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ZS;else e.push(r)}},n.prototype.consumeWhiteSpace=function(){for(;XS(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===x0||e===Ko)return;oc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var r=Math.min(t,e);i+=ri.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),i},n.prototype.consumeStringToken=function(e){var t="",i=0;do{var r=this._value[i];if(r===Ko||r===void 0||r===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(r===eT)return this._value.splice(0,i),wve;if(r===Cw){var s=this._value[i+1];s!==Ko&&s!==void 0&&(s===eT?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):oc(r,s)&&(t+=this.consumeStringSlice(i),t+=ri(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=QB,i=this.peekCodePoint(0);for((i===Ef||i===ms)&&e.push(this.consumeCodePoint());Ur(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===Qw&&Ur(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=PG;Ur(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((i===tX||i===ZY)&&((r===Ef||r===ms)&&Ur(s)||Ur(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=PG;Ur(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Ave(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(JS(r,s,a)){var o=this.consumeName();return{type:15,number:t,flags:i,unit:o}}return r===Ime?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ug(e)){for(var t=ri(e);ug(this.peekCodePoint(0))&&t.length<6;)t+=ri(this.consumeCodePoint());XS(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||nve(i)||i>1114111?NG:i}return e===Ko?NG:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(LG(t))e+=ri(t);else if(oc(t,this.peekCodePoint(0)))e+=ri(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),rX=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new iX;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||Ive(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?nL:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),kB=function(n){return n.type===15},hy=function(n){return n.type===17},An=function(n){return n.type===20},Tve=function(n){return n.type===0},iL=function(n,e){return An(n)&&n.value===e},sX=function(n){return n.type!==31},Wv=function(n){return n.type!==31&&n.type!==4},TA=function(n){var e=[],t=[];return n.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},Ive=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Md=function(n){return n.type===17||n.type===15},mi=function(n){return n.type===16||Md(n)},aX=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},pr={type:17,number:0,flags:QB},VQ={type:16,number:50,flags:QB},Sd={type:16,number:100,flags:QB},hw=function(n,e,t){var i=n[0],r=n[1];return[Cn(i,e),Cn(typeof r<"u"?r:i,t)]},Cn=function(n,e){if(n.type===16)return n.number/100*e;if(kB(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},oX="deg",AX="grad",lX="rad",uX="turn",L1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case oX:return Math.PI*e.number/180;case AX:return Math.PI/200*e.number;case lX:return e.number;case uX:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},cX=function(n){return n.type===15&&(n.unit===oX||n.unit===AX||n.unit===lX||n.unit===uX)},dX=function(n){var e=n.filter(An).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[pr,pr];case"to top":case"bottom":return Ga(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[pr,Sd];case"to right":case"left":return Ga(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Sd,Sd];case"to bottom":case"top":return Ga(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Sd,pr];case"to left":case"right":return Ga(270)}return 0},Ga=function(n){return Math.PI*n/180},_d={name:"color",parse:function(n,e){if(e.type===18){var t=Fve[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return xd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return xd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return xd(parseInt(i,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return xd(parseInt(i,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=ru[e.value.toUpperCase()];if(typeof o<"u")return o}return ru.TRANSPARENT}},Td=function(n){return(255&n)===0},Ni=function(n){var e=255&n,t=255&n>>8,i=255&n>>16,r=255&n>>24;return e<255?"rgba("+r+","+i+","+t+","+e/255+")":"rgb("+r+","+i+","+t+")"},xd=function(n,e,t,i){return(n<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},QG=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},kG=function(n,e){var t=e.filter(Wv);if(t.length===3){var i=t.map(QG),r=i[0],s=i[1],a=i[2];return xd(r,s,a,1)}if(t.length===4){var o=t.map(QG),r=o[0],s=o[1],a=o[2],l=o[3];return xd(r,s,a,l)}return 0};function yM(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var OG=function(n,e){var t=e.filter(Wv),i=t[0],r=t[1],s=t[2],a=t[3],o=(i.type===17?Ga(i.number):L1.parse(n,i))/(Math.PI*2),l=mi(r)?r.number/100:0,u=mi(s)?s.number/100:0,d=typeof a<"u"&&mi(a)?Cn(a,1):1;if(l===0)return xd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=yM(g,h,o+1/3),b=yM(g,h,o),C=yM(g,h,o-1/3);return xd(v*255,b*255,C*255,d)},Fve={hsl:OG,hsla:OG,rgb:kG,rgba:kG},Bw=function(n,e){return _d.parse(n,rX.create(e).parseComponentValue())},ru={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Uve={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(An(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Mve={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Q1=function(n,e){var t=_d.parse(n,e[0]),i=e[1];return i&&mi(i)?{color:t,stop:i}:{color:t,stop:null}},HG=function(n,e){var t=n[0],i=n[n.length-1];t.stop===null&&(t.stop=pr),i.stop===null&&(i.stop=Sd);for(var r=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=Cn(o,e);l>s?r.push(l):r.push(s),s=l}else r.push(null)}for(var u=null,a=0;a<r.length;a++){var d=r[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=r[u-1],v=(d-g)/(h+1),b=1;b<=h;b++)r[u+b-1]=v*b;u=null}}return n.map(function(C,E){var x=C.color;return{color:x,stop:Math.max(Math.min(1,r[E]/e),0)}})},Pve=function(n,e,t){var i=e/2,r=t/2,s=Cn(n[0],e)-i,a=r-Cn(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Rve=function(n,e,t){var i=typeof n=="number"?n:Pve(n,e,t),r=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),s=e/2,a=t/2,o=r/2,l=Math.sin(i-Math.PI/2)*o,u=Math.cos(i-Math.PI/2)*o;return[r,s-u,s+u,a-l,a+l]},oo=function(n,e){return Math.sqrt(n*n+e*e)},VG=function(n,e,t,i,r){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=oo(t-l,i-u);return(r?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Dve=function(n,e,t,i,r){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-i)),a=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(n.shape===0)s=a=Math.min(oo(e,t),oo(e,t-r),oo(e-i,t),oo(e-i,t-r));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(e),Math.abs(e-i)),l=VG(i,r,e,t,!0),u=l[0],d=l[1];s=oo(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-i)),a=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(n.shape===0)s=a=Math.max(oo(e,t),oo(e,t-r),oo(e-i,t),oo(e-i,t-r));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(e),Math.abs(e-i)),h=VG(i,r,e,t,!1),u=h[0],d=h[1];s=oo(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=Cn(n.size[0],i),a=n.size.length===2?Cn(n.size[1],r):s),[s,a]},Nve=function(n,e){var t=Ga(180),i=[];return TA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){t=dX(r);return}else if(cX(a)){t=L1.parse(n,a);return}}var o=Q1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},ex=function(n,e){var t=Ga(180),i=[];return TA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=dX(r);return}else if(cX(a)){t=(L1.parse(n,a)+Ga(270))%Ga(360);return}}var o=Q1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},Lve=function(n,e){var t=Ga(180),i=[],r=1,s=0,a=3,o=[];return TA(e).forEach(function(l,u){var d=l[0];if(u===0){if(An(d)&&d.value==="linear"){r=1;return}else if(An(d)&&d.value==="radial"){r=2;return}}if(d.type===18){if(d.name==="from"){var h=_d.parse(n,d.values[0]);i.push({stop:pr,color:h})}else if(d.name==="to"){var h=_d.parse(n,d.values[0]);i.push({stop:Sd,color:h})}else if(d.name==="color-stop"){var g=d.values.filter(Wv);if(g.length===2){var h=_d.parse(n,g[1]),v=g[0];hy(v)&&i.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),r===1?{angle:(t+Ga(180))%Ga(360),stops:i,type:r}:{size:a,shape:s,stops:i,position:o,type:r}},fX="closest-side",hX="farthest-side",pX="closest-corner",gX="farthest-corner",mX="circle",vX="ellipse",yX="cover",wX="contain",Qve=function(n,e){var t=0,i=3,r=[],s=[];return TA(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(An(g))switch(g.value){case"center":return s.push(VQ),h;case"top":case"left":return s.push(pr),h;case"right":case"bottom":return s.push(Sd),h}else(mi(g)||Md(g))&&s.push(g);else if(An(g))switch(g.value){case mX:return t=0,!1;case vX:return t=1,!1;case"at":return u=!0,!1;case fX:return i=0,!1;case yX:case hX:return i=1,!1;case wX:case pX:return i=2,!1;case gX:return i=3,!1}else if(Md(g)||mi(g))return Array.isArray(i)||(i=[]),i.push(g),!1;return h},l)}if(l){var d=Q1(n,a);r.push(d)}}),{size:i,shape:t,stops:r,position:s,type:2}},tx=function(n,e){var t=0,i=3,r=[],s=[];return TA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(An(h))switch(h.value){case"center":return s.push(VQ),!1;case"top":case"left":return s.push(pr),!1;case"right":case"bottom":return s.push(Sd),!1}else if(mi(h)||Md(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(An(h))switch(h.value){case mX:return t=0,!1;case vX:return t=1,!1;case wX:case fX:return i=0,!1;case hX:return i=1,!1;case pX:return i=2,!1;case yX:case gX:return i=3,!1}else if(Md(h)||mi(h))return Array.isArray(i)||(i=[]),i.push(h),!1;return d},l)),l){var u=Q1(n,a);r.push(u)}}),{size:i,shape:t,stops:r,position:s,type:2}},kve=function(n){return n.type===1},Ove=function(n){return n.type===2},KQ={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var i=bX[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function Hve(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!bX[n.name])}var bX={"linear-gradient":Nve,"-moz-linear-gradient":ex,"-ms-linear-gradient":ex,"-o-linear-gradient":ex,"-webkit-linear-gradient":ex,"radial-gradient":Qve,"-moz-radial-gradient":tx,"-ms-radial-gradient":tx,"-o-radial-gradient":tx,"-webkit-radial-gradient":tx,"-webkit-gradient":Lve},Vve={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return Wv(i)&&Hve(i)}).map(function(i){return KQ.parse(n,i)})}},Kve={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(An(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Gve={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return TA(e).map(function(t){return t.filter(mi)}).map(aX)}},zve={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return TA(e).map(function(t){return t.filter(An).map(function(i){return i.value}).join(" ")}).map(qve)}},qve=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},$g;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})($g||($g={}));var $ve={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return TA(e).map(function(t){return t.filter(jve)})}},jve=function(n){return An(n)||mi(n)},k1=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wve=k1("top"),Yve=k1("right"),Xve=k1("bottom"),Jve=k1("left"),O1=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return aX(t.filter(mi))}}},Zve=O1("top-left"),eye=O1("top-right"),tye=O1("bottom-right"),nye=O1("bottom-left"),H1=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},iye=H1("top"),rye=H1("right"),sye=H1("bottom"),aye=H1("left"),V1=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return kB(t)?t.number:0}}},oye=V1("top"),Aye=V1("right"),lye=V1("bottom"),uye=V1("left"),cye={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dye={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},fye={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(An).reduce(function(t,i){return t|hye(i.value)},0)}},hye=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pye={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gye={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},nT;(function(n){n.NORMAL="normal",n.STRICT="strict"})(nT||(nT={}));var mye={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return nT.STRICT;case"normal":default:return nT.NORMAL}}},vye={name:"line-height",initialValue:"normal",prefix:!1,type:4},KG=function(n,e){return An(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:mi(n)?Cn(n,e):e},yye={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:KQ.parse(n,e)}},wye={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},rL={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},K1=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},bye=K1("top"),Cye=K1("right"),Bye=K1("bottom"),Eye=K1("left"),Sye={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(An).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},xye={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},G1=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},_ye=G1("top"),Tye=G1("right"),Iye=G1("bottom"),Fye=G1("left"),Uye={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Mye={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Pye={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&iL(e[0],"none")?[]:TA(e).map(function(t){for(var i={color:ru.TRANSPARENT,offsetX:pr,offsetY:pr,blur:pr},r=0,s=0;s<t.length;s++){var a=t[s];Md(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:i.blur=a,r++):i.color=_d.parse(n,a)}return i})}},Rye={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Dye={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Qye[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Nye=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Lye=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],i=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,i,r,s,a,o]:null},Qye={matrix:Nye,matrix3d:Lye},GG={type:16,number:50,flags:QB},kye=[GG,GG],Oye={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(mi);return t.length!==2?kye:[t[0],t[1]]}},Hye={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ew;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Ew||(Ew={}));var Vye={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Ew.BREAK_ALL;case"keep-all":return Ew.KEEP_ALL;case"normal":default:return Ew.NORMAL}}},Kye={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(hy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},CX={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Gye={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return hy(e)?e.number:1}},zye={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qye={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(An).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},$ye={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],i=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},jye={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Wye={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(hy(e))return e.number;if(An(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Yye={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(An).map(function(t){return t.value})}},Xye={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},_i=function(n,e){return(n&e)!==0},Jye={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Zye={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],r=e.filter(sX),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(a.type===20){var l=o&&hy(o)?o.number:1;i.push({counter:a.value,increment:l})}}return i}},e0e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],i=e.filter(sX),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(An(s)&&s.value!=="none"){var o=a&&hy(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},t0e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(kB).map(function(t){return CX.parse(n,t)})}},n0e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],r=e.filter(Tve);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,o=r[s+1].value;i.push({open:a,close:o})}return i}},zG=function(n,e,t){if(!n)return"";var i=n[Math.min(e,n.length-1)];return i?t?i.open:i.close:""},i0e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&iL(e[0],"none")?[]:TA(e).map(function(t){for(var i={color:255,offsetX:pr,offsetY:pr,blur:pr,spread:pr,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];iL(a,"inset")?i.inset=!0:Md(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:r===2?i.blur=a:i.spread=a,r++):i.color=_d.parse(n,a)}return i})}},r0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],i=[];return e.filter(An).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},s0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},a0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return kB(e)?e.number:0}},o0e=(function(){function n(e,t){var i,r;this.animationDuration=De(e,t0e,t.animationDuration),this.backgroundClip=De(e,Uve,t.backgroundClip),this.backgroundColor=De(e,Mve,t.backgroundColor),this.backgroundImage=De(e,Vve,t.backgroundImage),this.backgroundOrigin=De(e,Kve,t.backgroundOrigin),this.backgroundPosition=De(e,Gve,t.backgroundPosition),this.backgroundRepeat=De(e,zve,t.backgroundRepeat),this.backgroundSize=De(e,$ve,t.backgroundSize),this.borderTopColor=De(e,Wve,t.borderTopColor),this.borderRightColor=De(e,Yve,t.borderRightColor),this.borderBottomColor=De(e,Xve,t.borderBottomColor),this.borderLeftColor=De(e,Jve,t.borderLeftColor),this.borderTopLeftRadius=De(e,Zve,t.borderTopLeftRadius),this.borderTopRightRadius=De(e,eye,t.borderTopRightRadius),this.borderBottomRightRadius=De(e,tye,t.borderBottomRightRadius),this.borderBottomLeftRadius=De(e,nye,t.borderBottomLeftRadius),this.borderTopStyle=De(e,iye,t.borderTopStyle),this.borderRightStyle=De(e,rye,t.borderRightStyle),this.borderBottomStyle=De(e,sye,t.borderBottomStyle),this.borderLeftStyle=De(e,aye,t.borderLeftStyle),this.borderTopWidth=De(e,oye,t.borderTopWidth),this.borderRightWidth=De(e,Aye,t.borderRightWidth),this.borderBottomWidth=De(e,lye,t.borderBottomWidth),this.borderLeftWidth=De(e,uye,t.borderLeftWidth),this.boxShadow=De(e,i0e,t.boxShadow),this.color=De(e,cye,t.color),this.direction=De(e,dye,t.direction),this.display=De(e,fye,t.display),this.float=De(e,pye,t.cssFloat),this.fontFamily=De(e,$ye,t.fontFamily),this.fontSize=De(e,jye,t.fontSize),this.fontStyle=De(e,Xye,t.fontStyle),this.fontVariant=De(e,Yye,t.fontVariant),this.fontWeight=De(e,Wye,t.fontWeight),this.letterSpacing=De(e,gye,t.letterSpacing),this.lineBreak=De(e,mye,t.lineBreak),this.lineHeight=De(e,vye,t.lineHeight),this.listStyleImage=De(e,yye,t.listStyleImage),this.listStylePosition=De(e,wye,t.listStylePosition),this.listStyleType=De(e,rL,t.listStyleType),this.marginTop=De(e,bye,t.marginTop),this.marginRight=De(e,Cye,t.marginRight),this.marginBottom=De(e,Bye,t.marginBottom),this.marginLeft=De(e,Eye,t.marginLeft),this.opacity=De(e,Gye,t.opacity);var s=De(e,Sye,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=De(e,xye,t.overflowWrap),this.paddingTop=De(e,_ye,t.paddingTop),this.paddingRight=De(e,Tye,t.paddingRight),this.paddingBottom=De(e,Iye,t.paddingBottom),this.paddingLeft=De(e,Fye,t.paddingLeft),this.paintOrder=De(e,r0e,t.paintOrder),this.position=De(e,Mye,t.position),this.textAlign=De(e,Uye,t.textAlign),this.textDecorationColor=De(e,zye,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=De(e,qye,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=De(e,Pye,t.textShadow),this.textTransform=De(e,Rye,t.textTransform),this.transform=De(e,Dye,t.transform),this.transformOrigin=De(e,Oye,t.transformOrigin),this.visibility=De(e,Hye,t.visibility),this.webkitTextStrokeColor=De(e,s0e,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=De(e,a0e,t.webkitTextStrokeWidth),this.wordBreak=De(e,Vye,t.wordBreak),this.zIndex=De(e,Kye,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Td(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return _i(this.display,4)||_i(this.display,33554432)||_i(this.display,268435456)||_i(this.display,536870912)||_i(this.display,67108864)||_i(this.display,134217728)},n})(),A0e=(function(){function n(e,t){this.content=De(e,Jye,t.content),this.quotes=De(e,n0e,t.quotes)}return n})(),qG=(function(){function n(e,t){this.counterIncrement=De(e,Zye,t.counterIncrement),this.counterReset=De(e,e0e,t.counterReset)}return n})(),De=function(n,e,t){var i=new iX,r=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(r);var s=new rX(i.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,An(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return L1.parse(n,s.parseComponentValue());case"color":return _d.parse(n,s.parseComponentValue());case"image":return KQ.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Md(o)?o:pr;case"length-percentage":var l=s.parseComponentValue();return mi(l)?l:pr;case"time":return CX.parse(n,s.parseComponentValue())}break}},l0e="data-html2canvas-debug",u0e=function(n){var e=n.getAttribute(l0e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},sL=function(n,e){var t=u0e(n);return t===1||e===t},IA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,sL(t,3))debugger;this.styles=new o0e(e,window.getComputedStyle(t,null)),AL(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=D1(this.context,t),sL(t,4)&&(this.flags|=16)}return n})(),c0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",$G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nx=0;nx<$G.length;nx++)pw[$G.charCodeAt(nx)]=nx;var d0e=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=pw[n.charCodeAt(i)],a=pw[n.charCodeAt(i+1)],o=pw[n.charCodeAt(i+2)],l=pw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},f0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},h0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},np=5,GQ=11,wM=2,p0e=GQ-np,BX=65536>>np,g0e=1<<np,bM=g0e-1,m0e=1024>>np,v0e=BX+m0e,y0e=v0e,w0e=32,b0e=y0e+w0e,C0e=65536>>GQ,B0e=1<<p0e,E0e=B0e-1,jG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},S0e=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},x0e=function(n,e){var t=d0e(n),i=Array.isArray(t)?h0e(t):new Uint32Array(t),r=Array.isArray(t)?f0e(t):new Uint16Array(t),s=24,a=jG(r,s/2,i[4]/2),o=i[5]===2?jG(r,(s+i[4])/2):S0e(i,Math.ceil((s+i[4])/4));return new _0e(i[0],i[1],i[2],i[3],a,o)},_0e=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>np],t=(t<<wM)+(e&bM),this.data[t];if(e<=65535)return t=this.index[BX+(e-55296>>np)],t=(t<<wM)+(e&bM),this.data[t];if(e<this.highStart)return t=b0e-C0e+(e>>GQ),t=this.index[t],t+=e>>np&E0e,t=this.index[t],t=(t<<wM)+(e&bM),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),WG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T0e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ix=0;ix<WG.length;ix++)T0e[WG.charCodeAt(ix)]=ix;var I0e=1,CM=2,BM=3,YG=4,XG=5,F0e=7,JG=8,EM=9,SM=10,ZG=11,ez=12,tz=13,nz=14,xM=15,U0e=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},M0e=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},P0e=x0e(c0e),Sa="",_M="",R0e=function(n){return P0e.get(n)},D0e=function(n,e,t){var i=t-2,r=e[i],s=e[t-1],a=e[t];if(s===CM&&a===BM)return Sa;if(s===CM||s===BM||s===YG||a===CM||a===BM||a===YG)return _M;if(s===JG&&[JG,EM,ZG,ez].indexOf(a)!==-1||(s===ZG||s===EM)&&(a===EM||a===SM)||(s===ez||s===SM)&&a===SM||a===tz||a===XG||a===F0e||s===I0e)return Sa;if(s===tz&&a===nz){for(;r===XG;)r=e[--i];if(r===nz)return Sa}if(s===xM&&a===xM){for(var o=0;r===xM;)o++,r=e[--i];if(o%2===0)return Sa}return _M},N0e=function(n){var e=U0e(n),t=e.length,i=0,r=0,s=e.map(R0e);return{next:function(){if(i>=t)return{done:!0,value:null};for(var a=Sa;i<t&&(a=D0e(e,s,++i))===Sa;);if(a!==Sa||i===t){var o=M0e.apply(null,e.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},L0e=function(n){for(var e=N0e(n),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},Q0e=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var i=n.createElement("boundtest");i.style.height=e+"px",i.style.display="block",n.body.appendChild(i),t.selectNode(i);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(n.body.removeChild(i),s===e)return!0}}return!1},k0e=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,r=N1(i.data).map(function(l){return ri(l)}),s=0,a={},o=r.every(function(l,u){t.setStart(i,s),t.setEnd(i,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},O0e=function(){return typeof new Image().crossOrigin<"u"},H0e=function(){return typeof new XMLHttpRequest().responseType=="string"},V0e=function(n){var e=new Image,t=n.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},iz=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},K0e=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var r=new Image,s=e.toDataURL();r.src=s;var a=aL(t,t,0,0,r);return i.fillStyle="red",i.fillRect(0,0,t,t),rz(a).then(function(o){i.drawImage(o,0,0);var l=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",iz(l)?rz(aL(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return i.drawImage(o,0,0),iz(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},aL=function(n,e,t,i,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},rz=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},ur={get SUPPORT_RANGE_BOUNDS(){var n=Q0e(document);return Object.defineProperty(ur,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=ur.SUPPORT_RANGE_BOUNDS&&k0e(document);return Object.defineProperty(ur,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=V0e(document);return Object.defineProperty(ur,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?K0e(document):Promise.resolve(!1);return Object.defineProperty(ur,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=O0e();return Object.defineProperty(ur,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=H0e();return Object.defineProperty(ur,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ur,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ur,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},Sw=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),G0e=function(n,e,t,i){var r=$0e(e,t),s=[],a=0;return r.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(ur.SUPPORT_RANGE_BOUNDS){var l=sz(i,a,o.length).getClientRects();if(l.length>1){var u=zQ(o),d=0;u.forEach(function(g){s.push(new Sw(g,cu.fromDOMRectList(n,sz(i,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new Sw(o,cu.fromDOMRectList(n,l)))}else{var h=i.splitText(o.length);s.push(new Sw(o,z0e(n,i))),i=h}else ur.SUPPORT_RANGE_BOUNDS||(i=i.splitText(o.length));a+=o.length}),s},z0e=function(n,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(i,e);var s=D1(n,i);return i.firstChild&&r.replaceChild(i.firstChild,i),s}}return cu.EMPTY},sz=function(n,e,t){var i=n.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(n,e),r.setEnd(n,e+t),r},zQ=function(n){if(ur.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return L0e(n)},q0e=function(n,e){if(ur.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(i){return i.segment})}return W0e(n,e)},$0e=function(n,e){return e.letterSpacing!==0?zQ(n):q0e(n,e)},j0e=[32,160,4961,65792,65793,4153,4241],W0e=function(n,e){for(var t=Cme(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],r,s=function(){if(r.value){var a=r.value.slice(),o=N1(a),l="";o.forEach(function(u){j0e.indexOf(u)===-1?l+=ri(u):(l.length&&i.push(l),i.push(ri(u)),l="")}),l.length&&i.push(l)}};!(r=t.next()).done;)s();return i},Y0e=(function(){function n(e,t,i){this.text=X0e(t.data,i.textTransform),this.textBounds=G0e(e,this.text,i,t)}return n})(),X0e=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(J0e,Z0e);case 2:return n.toUpperCase();default:return n}},J0e=/(^|\s|:|-|\(|\))([a-z])/g,Z0e=function(n,e,t){return n.length>0?e+t.toUpperCase():n},EX=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return e})(IA),SX=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return e})(IA),xX=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=new XMLSerializer,a=D1(t,i);return i.setAttribute("width",a.width+"px"),i.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})(IA),_X=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(IA),oL=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return e})(IA),ewe=[{type:15,flags:0,unit:"px",number:3}],twe=[{type:16,flags:0,number:50}],nwe=function(n){return n.width>n.height?new cu(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new cu(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},iwe=function(n){var e=n.type===rwe?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},iT="checkbox",rT="radio",rwe="password",az=707406591,qQ=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=iwe(i),(r.type===iT||r.type===rT)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=nwe(r.bounds)),r.type){case iT:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=ewe;break;case rT:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=twe;break}return r}return e})(IA),TX=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=i.options[i.selectedIndex||0];return r.value=s&&s.text||"",r}return e})(IA),IX=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(IA),FX=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=MX(t,i.contentWindow.document.documentElement);var s=i.contentWindow.document.documentElement?Bw(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):ru.TRANSPARENT,a=i.contentWindow.document.body?Bw(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):ru.TRANSPARENT;r.backgroundColor=Td(s)?Td(a)?r.styles.backgroundColor:a:s}}catch{}return r}return e})(IA),swe=["OL","UL","MENU"],T_=function(n,e,t,i){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,PX(r)&&r.data.trim().length>0)t.textNodes.push(new Y0e(n,r,t.styles));else if(Rg(r))if(LX(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return T_(n,o,t,i)});else{var a=UX(n,r);a.styles.isVisible()&&(awe(r,a,i)?a.flags|=4:owe(a.styles)&&(a.flags|=2),swe.indexOf(r.tagName)!==-1&&(a.flags|=8),t.elements.push(a),r.slot,r.shadowRoot?T_(n,r.shadowRoot,a,i):!sT(r)&&!RX(r)&&!aT(r)&&T_(n,r,a,i))}},UX=function(n,e){return lL(e)?new EX(n,e):DX(e)?new SX(n,e):RX(e)?new xX(n,e):Awe(e)?new _X(n,e):lwe(e)?new oL(n,e):uwe(e)?new qQ(n,e):aT(e)?new TX(n,e):sT(e)?new IX(n,e):NX(e)?new FX(n,e):new IA(n,e)},MX=function(n,e){var t=UX(n,e);return t.flags|=4,T_(n,e,t,t),t},awe=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||$Q(n)&&t.styles.isTransparent()},owe=function(n){return n.isPositioned()||n.isFloating()},PX=function(n){return n.nodeType===Node.TEXT_NODE},Rg=function(n){return n.nodeType===Node.ELEMENT_NODE},AL=function(n){return Rg(n)&&typeof n.style<"u"&&!I_(n)},I_=function(n){return typeof n.className=="object"},Awe=function(n){return n.tagName==="LI"},lwe=function(n){return n.tagName==="OL"},uwe=function(n){return n.tagName==="INPUT"},cwe=function(n){return n.tagName==="HTML"},RX=function(n){return n.tagName==="svg"},$Q=function(n){return n.tagName==="BODY"},DX=function(n){return n.tagName==="CANVAS"},oz=function(n){return n.tagName==="VIDEO"},lL=function(n){return n.tagName==="IMG"},NX=function(n){return n.tagName==="IFRAME"},Az=function(n){return n.tagName==="STYLE"},dwe=function(n){return n.tagName==="SCRIPT"},sT=function(n){return n.tagName==="TEXTAREA"},aT=function(n){return n.tagName==="SELECT"},LX=function(n){return n.tagName==="SLOT"},lz=function(n){return n.tagName.indexOf("-")>0},fwe=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},n.prototype.parse=function(e){var t=this,i=e.counterIncrement,r=e.counterReset,s=!0;i!==null&&i.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&r.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),uz={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},cz={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},cg=function(n,e,t,i,r,s){return n<e||n>t?kw(n,r,s.length>0):i.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=i.values[l];return a},"")+s},QX=function(n,e,t,i){var r="";do t||n--,r=i(n)+r,n/=e;while(n*e>=e);return r},ei=function(n,e,t,i,r){var s=t-e+1;return(n<0?"-":"")+(QX(Math.abs(n),s,i,function(a){return ri(Math.floor(a%s)+e)})+r)},cf=function(n,e,t){t===void 0&&(t=". ");var i=e.length;return QX(Math.abs(n),i,!1,function(r){return e[Math.floor(r%i)]})+t},Tg=1,sc=2,ac=4,gw=8,WA=function(n,e,t,i,r,s){if(n<-9999||n>9999)return kw(n,4,r.length>0);var a=Math.abs(n),o=r;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&_i(s,Tg)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&_i(s,sc)||u===1&&l===1&&_i(s,ac)&&n>100||u===1&&l>1&&_i(s,gw)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?i:"")+o},dz="",fz="",hz="",TM="",kw=function(n,e,t){var i=t?". ":"",r=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=ei(n,48,57,!0,i);return o.length<4?"0"+o:o;case 4:return cf(n,"",r);case 6:return cg(n,1,3999,uz,3,i).toLowerCase();case 7:return cg(n,1,3999,uz,3,i);case 8:return ei(n,945,969,!1,i);case 9:return ei(n,97,122,!1,i);case 10:return ei(n,65,90,!1,i);case 11:return ei(n,1632,1641,!0,i);case 12:case 49:return cg(n,1,9999,cz,3,i);case 35:return cg(n,1,9999,cz,3,i).toLowerCase();case 13:return ei(n,2534,2543,!0,i);case 14:case 30:return ei(n,6112,6121,!0,i);case 15:return cf(n,"",r);case 16:return cf(n,"",r);case 17:case 48:return WA(n,"",dz,"",r,sc|ac|gw);case 47:return WA(n,"",fz,"",r,Tg|sc|ac|gw);case 42:return WA(n,"",dz,"",r,sc|ac|gw);case 41:return WA(n,"",fz,"",r,Tg|sc|ac|gw);case 26:return WA(n,"","",hz,r,0);case 25:return WA(n,"","",hz,r,Tg|sc|ac);case 31:return WA(n,"","",TM,s,Tg|sc|ac);case 33:return WA(n,"","",TM,s,0);case 32:return WA(n,"","",TM,s,Tg|sc|ac);case 18:return ei(n,2406,2415,!0,i);case 20:return cg(n,1,19999,pwe,3,i);case 21:return ei(n,2790,2799,!0,i);case 22:return ei(n,2662,2671,!0,i);case 22:return cg(n,1,10999,hwe,3,i);case 23:return cf(n,"");case 24:return cf(n,"");case 27:return ei(n,3302,3311,!0,i);case 28:return cf(n,"",r);case 29:return cf(n,"",r);case 34:return ei(n,3792,3801,!0,i);case 37:return ei(n,6160,6169,!0,i);case 38:return ei(n,4160,4169,!0,i);case 39:return ei(n,2918,2927,!0,i);case 40:return ei(n,1776,1785,!0,i);case 43:return ei(n,3046,3055,!0,i);case 44:return ei(n,3174,3183,!0,i);case 45:return ei(n,3664,3673,!0,i);case 46:return ei(n,3872,3881,!0,i);case 3:default:return ei(n,48,57,!0,i)}},kX="data-html2canvas-ignore",pz=(function(){function n(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new fwe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var i=this,r=gwe(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=r.contentWindow,l=o.document,u=ywe(r).then(function(){return Hr(i,void 0,void 0,function(){var d,h;return Tr(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(Bwe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,vwe(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(bwe(document.doctype)+"<html></html>"),Cwe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(sL(e,2))debugger;if(DX(e))return this.createCanvasClone(e);if(oz(e))return this.createVideoClone(e);if(Az(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return lL(t)&&(lL(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),lz(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return IM(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=e.cloneNode(!1);return r.textContent=i,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},n.prototype.appendChildNode=function(e,t,i){(!Rg(t)||!dwe(t)&&!t.hasAttribute(kX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Rg(t)||!Az(t))&&e.appendChild(this.cloneNode(t,i))},n.prototype.cloneChildNodes=function(e,t,i){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Rg(s)&&LX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return r.appendChildNode(t,o,i)})}else this.appendChildNode(t,s,i)},n.prototype.cloneNode=function(e,t){if(PX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&Rg(e)&&(AL(e)||I_(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=i.getComputedStyle(e),a=i.getComputedStyle(e,":before"),o=i.getComputedStyle(e,":after");this.referenceElement===e&&AL(r)&&(this.clonedReferenceElement=r),$Q(r)&&xwe(r);var l=this.counters.parse(new qG(this.context,s)),u=this.resolvePseudoContent(e,r,a,xw.BEFORE);lz(e)&&(t=!0),oz(e)||this.cloneChildNodes(e,r,t),u&&r.insertBefore(u,r.firstChild);var d=this.resolvePseudoContent(e,r,o,xw.AFTER);return d&&r.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||I_(e))&&!NX(e)||t)&&IM(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(sT(e)||aT(e))&&(sT(r)||aT(r))&&(r.value=e.value),r}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,i,r){var s=this;if(i){var a=i.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||i.display==="none")){this.counters.parse(new qG(this.context,i));var l=new A0e(this.context,i),u=o.createElement("html2canvaspseudoelement");IM(i,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(An);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(Wv),C=b[0],E=b[1];if(C&&An(C)){var x=s.counters.getCounterValue(C.value),I=E&&An(E)?rL.parse(s.context,E.value):3;u.appendChild(o.createTextNode(kw(x,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter(Wv),C=T[0],R=T[1],E=T[2];if(C&&An(C)){var P=s.counters.getCounterValues(C.value),D=E&&An(E)?rL.parse(s.context,E.value):3,L=R&&R.type===0?R.value:"",H=P.map(function(V){return kw(V,D,!1)}).join(L);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(zG(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(zG(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=uL+" "+cL;var d=r===xw.BEFORE?" "+uL:" "+cL;return I_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),xw;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(xw||(xw={}));var gwe=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(kX,"true"),n.body.appendChild(t),t},mwe=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},vwe=function(n){return Promise.all([].slice.call(n.images,0).map(mwe))},ywe=function(n){return new Promise(function(e,t){var i=n.contentWindow;if(!i)return t("No window assigned for iframe");var r=i.document;i.onload=n.onload=function(){i.onload=n.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},wwe=["all","d","content"],IM=function(n,e){for(var t=n.length-1;t>=0;t--){var i=n.item(t);wwe.indexOf(i)===-1&&e.style.setProperty(i,n.getPropertyValue(i))}return e},bwe=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Cwe=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},Bwe=function(n){var e=n[0],t=n[1],i=n[2];e.scrollLeft=t,e.scrollTop=i},Ewe=":before",Swe=":after",uL="___html2canvas___pseudoelement_before",cL="___html2canvas___pseudoelement_after",gz=`{
    content: "" !important;
    display: none !important;
}`,xwe=function(n){_we(n,"."+uL+Ewe+gz+`
         .`+cL+Swe+gz)},_we=function(n,e){var t=n.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,n.appendChild(i)}},OX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),Twe=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(UM(e)||Mwe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Hr(this,void 0,void 0,function(){var t,i,r,s,a=this;return Tr(this,function(o){switch(o.label){case 0:return t=OX.isSameOrigin(e),i=!FM(e)&&this._options.useCORS===!0&&ur.SUPPORT_CORS_IMAGES&&!t,r=!FM(e)&&!t&&!UM(e)&&typeof this._options.proxy=="string"&&ur.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!FM(e)&&!UM(e)&&!r&&!i?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(Pwe(s)||i)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var o=ur.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=a;var u=i.indexOf("?")>-1?"&":"?";if(l.open("GET",""+i+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+r)}}l.send()})},n})(),Iwe=/^data:image\/svg\+xml/i,Fwe=/^data:image\/.*;base64,/i,Uwe=/^data:image\/.*/i,Mwe=function(n){return ur.SUPPORT_SVG_DRAWING||!Rwe(n)},FM=function(n){return Uwe.test(n)},Pwe=function(n){return Fwe.test(n)},UM=function(n){return n.substr(0,4)==="blob"},Rwe=function(n){return n.substr(-3).toLowerCase()==="svg"||Iwe.test(n)},Me=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),dg=function(n,e,t){return new Me(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},rx=(function(){function n(e,t,i,r){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=r}return n.prototype.subdivide=function(e,t){var i=dg(this.start,this.startControl,e),r=dg(this.startControl,this.endControl,e),s=dg(this.endControl,this.end,e),a=dg(i,r,e),o=dg(r,s,e),l=dg(a,o,e);return t?new n(this.start,i,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),Va=function(n){return n.type===1},Dwe=(function(){function n(e){var t=e.styles,i=e.bounds,r=hw(t.borderTopLeftRadius,i.width,i.height),s=r[0],a=r[1],o=hw(t.borderTopRightRadius,i.width,i.height),l=o[0],u=o[1],d=hw(t.borderBottomRightRadius,i.width,i.height),h=d[0],g=d[1],v=hw(t.borderBottomLeftRadius,i.width,i.height),b=v[0],C=v[1],E=[];E.push((s+l)/i.width),E.push((b+h)/i.width),E.push((a+C)/i.height),E.push((u+g)/i.height);var x=Math.max.apply(Math,E);x>1&&(s/=x,a/=x,l/=x,u/=x,h/=x,g/=x,b/=x,C/=x);var I=i.width-l,T=i.height-g,R=i.width-h,P=i.height-C,D=t.borderTopWidth,L=t.borderRightWidth,H=t.borderBottomWidth,k=t.borderLeftWidth,K=Cn(t.paddingTop,e.bounds.width),V=Cn(t.paddingRight,e.bounds.width),q=Cn(t.paddingBottom,e.bounds.width),X=Cn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Un(i.left+k/3,i.top+D/3,s-k/3,a-D/3,Vt.TOP_LEFT):new Me(i.left+k/3,i.top+D/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Un(i.left+I,i.top+D/3,l-L/3,u-D/3,Vt.TOP_RIGHT):new Me(i.left+i.width-L/3,i.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?Un(i.left+R,i.top+T,h-L/3,g-H/3,Vt.BOTTOM_RIGHT):new Me(i.left+i.width-L/3,i.top+i.height-H/3),this.bottomLeftBorderDoubleOuterBox=b>0||C>0?Un(i.left+k/3,i.top+P,b-k/3,C-H/3,Vt.BOTTOM_LEFT):new Me(i.left+k/3,i.top+i.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Un(i.left+k*2/3,i.top+D*2/3,s-k*2/3,a-D*2/3,Vt.TOP_LEFT):new Me(i.left+k*2/3,i.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Un(i.left+I,i.top+D*2/3,l-L*2/3,u-D*2/3,Vt.TOP_RIGHT):new Me(i.left+i.width-L*2/3,i.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?Un(i.left+R,i.top+T,h-L*2/3,g-H*2/3,Vt.BOTTOM_RIGHT):new Me(i.left+i.width-L*2/3,i.top+i.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||C>0?Un(i.left+k*2/3,i.top+P,b-k*2/3,C-H*2/3,Vt.BOTTOM_LEFT):new Me(i.left+k*2/3,i.top+i.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?Un(i.left+k/2,i.top+D/2,s-k/2,a-D/2,Vt.TOP_LEFT):new Me(i.left+k/2,i.top+D/2),this.topRightBorderStroke=s>0||a>0?Un(i.left+I,i.top+D/2,l-L/2,u-D/2,Vt.TOP_RIGHT):new Me(i.left+i.width-L/2,i.top+D/2),this.bottomRightBorderStroke=h>0||g>0?Un(i.left+R,i.top+T,h-L/2,g-H/2,Vt.BOTTOM_RIGHT):new Me(i.left+i.width-L/2,i.top+i.height-H/2),this.bottomLeftBorderStroke=b>0||C>0?Un(i.left+k/2,i.top+P,b-k/2,C-H/2,Vt.BOTTOM_LEFT):new Me(i.left+k/2,i.top+i.height-H/2),this.topLeftBorderBox=s>0||a>0?Un(i.left,i.top,s,a,Vt.TOP_LEFT):new Me(i.left,i.top),this.topRightBorderBox=l>0||u>0?Un(i.left+I,i.top,l,u,Vt.TOP_RIGHT):new Me(i.left+i.width,i.top),this.bottomRightBorderBox=h>0||g>0?Un(i.left+R,i.top+T,h,g,Vt.BOTTOM_RIGHT):new Me(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=b>0||C>0?Un(i.left,i.top+P,b,C,Vt.BOTTOM_LEFT):new Me(i.left,i.top+i.height),this.topLeftPaddingBox=s>0||a>0?Un(i.left+k,i.top+D,Math.max(0,s-k),Math.max(0,a-D),Vt.TOP_LEFT):new Me(i.left+k,i.top+D),this.topRightPaddingBox=l>0||u>0?Un(i.left+Math.min(I,i.width-L),i.top+D,I>i.width+L?0:Math.max(0,l-L),Math.max(0,u-D),Vt.TOP_RIGHT):new Me(i.left+i.width-L,i.top+D),this.bottomRightPaddingBox=h>0||g>0?Un(i.left+Math.min(R,i.width-k),i.top+Math.min(T,i.height-H),Math.max(0,h-L),Math.max(0,g-H),Vt.BOTTOM_RIGHT):new Me(i.left+i.width-L,i.top+i.height-H),this.bottomLeftPaddingBox=b>0||C>0?Un(i.left+k,i.top+Math.min(P,i.height-H),Math.max(0,b-k),Math.max(0,C-H),Vt.BOTTOM_LEFT):new Me(i.left+k,i.top+i.height-H),this.topLeftContentBox=s>0||a>0?Un(i.left+k+X,i.top+D+K,Math.max(0,s-(k+X)),Math.max(0,a-(D+K)),Vt.TOP_LEFT):new Me(i.left+k+X,i.top+D+K),this.topRightContentBox=l>0||u>0?Un(i.left+Math.min(I,i.width+k+X),i.top+D+K,I>i.width+k+X?0:l-k+X,u-(D+K),Vt.TOP_RIGHT):new Me(i.left+i.width-(L+V),i.top+D+K),this.bottomRightContentBox=h>0||g>0?Un(i.left+Math.min(R,i.width-(k+X)),i.top+Math.min(T,i.height+D+K),Math.max(0,h-(L+V)),g-(H+q),Vt.BOTTOM_RIGHT):new Me(i.left+i.width-(L+V),i.top+i.height-(H+q)),this.bottomLeftContentBox=b>0||C>0?Un(i.left+k+X,i.top+P,Math.max(0,b-(k+X)),C-(H+q),Vt.BOTTOM_LEFT):new Me(i.left+k+X,i.top+i.height-(H+q))}return n})(),Vt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Vt||(Vt={}));var Un=function(n,e,t,i,r){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=i*s,l=n+t,u=e+i;switch(r){case Vt.TOP_LEFT:return new rx(new Me(n,u),new Me(n,u-o),new Me(l-a,e),new Me(l,e));case Vt.TOP_RIGHT:return new rx(new Me(n,e),new Me(n+a,e),new Me(l,u-o),new Me(l,u));case Vt.BOTTOM_RIGHT:return new rx(new Me(l,e),new Me(l,e+o),new Me(n+a,u),new Me(n,u));case Vt.BOTTOM_LEFT:default:return new rx(new Me(l,u),new Me(l-a,u),new Me(n,e+o),new Me(n,e))}},oT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},Nwe=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},AT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},Lwe=(function(){function n(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return n})(),sx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),Qwe=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),kwe=function(n){return n.type===0},HX=function(n){return n.type===1},Owe=function(n){return n.type===2},mz=function(n,e){return n.length===e.length?n.some(function(t,i){return t===e[i]}):!1},Hwe=function(n,e,t,i,r){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+i,t);case 2:return s.add(e+i,t+r);case 3:return s.add(e,t+r)}return s})},VX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),KX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Dwe(this.container),this.container.styles.opacity<1&&this.effects.push(new Qwe(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Lwe(i,r,s))}if(this.container.styles.overflowX!==0){var a=oT(this.curves),o=AT(this.curves);mz(a,o)?this.effects.push(new sx(a,6)):(this.effects.push(new sx(a,2)),this.effects.push(new sx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var s=i.effects.filter(function(l){return!HX(l)});if(t||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,s),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var a=oT(i.curves),o=AT(i.curves);mz(a,o)||r.unshift(new sx(o,6))}}else r.unshift.apply(r,s);i=i.parent}return r.filter(function(l){return _i(l.target,e)})},n})(),dL=function(n,e,t,i){n.container.elements.forEach(function(r){var s=_i(r.flags,4),a=_i(r.flags,2),o=new KX(r,n);_i(r.styles.display,2048)&&i.push(o);var l=_i(r.flags,8)?[]:i;if(s||a){var u=s||r.styles.isPositioned()?t:e,d=new VX(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var h=r.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(b,C){return h>b.element.container.styles.zIndex.order?(g=C,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(b,C){return h>=b.element.container.styles.zIndex.order?(v=C+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else r.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);dL(o,d,s?d:t,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),dL(o,e,t,l);_i(r.flags,8)&&GX(r,l)})},GX=function(n,e){for(var t=n instanceof oL?n.start:1,i=n instanceof oL?n.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof _X&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=kw(t,s.container.styles.listStyleType,!0),t+=i?-1:1}},Vwe=function(n){var e=new KX(n,null),t=new VX(e),i=[];return dL(e,t,t,i),GX(e.container,i),t},vz=function(n,e){switch(e){case 0:return za(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return za(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return za(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return za(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},Kwe=function(n,e){switch(e){case 0:return za(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return za(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return za(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return za(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},Gwe=function(n,e){switch(e){case 0:return za(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return za(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return za(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return za(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},zwe=function(n,e){switch(e){case 0:return ax(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return ax(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return ax(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return ax(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},ax=function(n,e){var t=[];return Va(n)?t.push(n.subdivide(.5,!1)):t.push(n),Va(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},za=function(n,e,t,i){var r=[];return Va(n)?r.push(n.subdivide(.5,!1)):r.push(n),Va(t)?r.push(t.subdivide(.5,!0)):r.push(t),Va(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Va(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},zX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},lT=function(n){var e=n.styles,t=n.bounds,i=Cn(e.paddingLeft,t.width),r=Cn(e.paddingRight,t.width),s=Cn(e.paddingTop,t.width),a=Cn(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+r),-(e.borderTopWidth+e.borderBottomWidth+s+a))},qwe=function(n,e){return n===0?e.bounds:n===2?lT(e):zX(e)},$we=function(n,e){return n===0?e.bounds:n===2?lT(e):zX(e)},MM=function(n,e,t){var i=qwe(Ig(n.styles.backgroundOrigin,e),n),r=$we(Ig(n.styles.backgroundClip,e),n),s=jwe(Ig(n.styles.backgroundSize,e),t,i),a=s[0],o=s[1],l=hw(Ig(n.styles.backgroundPosition,e),i.width-a,i.height-o),u=Wwe(Ig(n.styles.backgroundRepeat,e),l,s,i,r),d=Math.round(i.left+l[0]),h=Math.round(i.top+l[1]);return[u,d,h,a,o]},fg=function(n){return An(n)&&n.value===$g.AUTO},ox=function(n){return typeof n=="number"},jwe=function(n,e,t){var i=e[0],r=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(mi(a)&&o&&mi(o))return[Cn(a,t.width),Cn(o,t.height)];var l=ox(s);if(An(a)&&(a.value===$g.CONTAIN||a.value===$g.COVER)){if(ox(s)){var u=t.width/t.height;return u<s!=(a.value===$g.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=ox(i),h=ox(r),g=d||h;if(fg(a)&&(!o||fg(o))){if(d&&h)return[i,r];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?i:r*s,b=h?r:i/s;return[v,b]}var C=d?i:t.width,E=h?r:t.height;return[C,E]}if(l){var x=0,I=0;return mi(a)?x=Cn(a,t.width):mi(o)&&(I=Cn(o,t.height)),fg(a)?x=I*s:(!o||fg(o))&&(I=x/s),[x,I]}var T=null,R=null;if(mi(a)?T=Cn(a,t.width):o&&mi(o)&&(R=Cn(o,t.height)),T!==null&&(!o||fg(o))&&(R=d&&h?T/i*r:t.height),R!==null&&fg(a)&&(T=d&&h?R/r*i:t.width),T!==null&&R!==null)return[T,R];throw new Error("Unable to calculate background-size for element")},Ig=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},Wwe=function(n,e,t,i,r){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new Me(Math.round(i.left),Math.round(i.top+a)),new Me(Math.round(i.left+i.width),Math.round(i.top+a)),new Me(Math.round(i.left+i.width),Math.round(l+i.top+a)),new Me(Math.round(i.left),Math.round(l+i.top+a))];case 3:return[new Me(Math.round(i.left+s),Math.round(i.top)),new Me(Math.round(i.left+s+o),Math.round(i.top)),new Me(Math.round(i.left+s+o),Math.round(i.height+i.top)),new Me(Math.round(i.left+s),Math.round(i.height+i.top))];case 1:return[new Me(Math.round(i.left+s),Math.round(i.top+a)),new Me(Math.round(i.left+s+o),Math.round(i.top+a)),new Me(Math.round(i.left+s+o),Math.round(i.top+a+l)),new Me(Math.round(i.left+s),Math.round(i.top+a+l))];default:return[new Me(Math.round(r.left),Math.round(r.top)),new Me(Math.round(r.left+r.width),Math.round(r.top)),new Me(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Me(Math.round(r.left),Math.round(r.height+r.top))]}},Ywe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",yz="Hidden Text",Xwe=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",a.appendChild(i),r.src=Ywe,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(yz)),i.appendChild(s),i.appendChild(r);var o=r.offsetTop-s.offsetTop+2;i.removeChild(s),i.appendChild(this._document.createTextNode(yz)),i.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-i.offsetTop+2;return a.removeChild(i),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},n})(),qX=(function(){function n(e,t){this.context=e,this.options=t}return n})(),Jwe=1e4,Zwe=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new Xwe(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return i.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),Owe(t)&&(this.ctx.globalAlpha=t.opacity),kwe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),HX(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Hr(this,void 0,void 0,function(){var i;return Tr(this,function(r){switch(r.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Hr(this,void 0,void 0,function(){return Tr(this,function(i){switch(i.label){case 0:if(_i(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,r){var s=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r);else{var a=zQ(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+r),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=rbe(t.fontFamily).join(", "),s=kB(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(t,i){return Hr(this,void 0,void 0,function(){var r,s,a,o,l,u,d,h,g=this;return Tr(this,function(v){return r=this.createFontStyle(i),s=r[0],a=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=i.paintOrder,t.textBounds.forEach(function(b){h.forEach(function(C){switch(C){case 0:g.ctx.fillStyle=Ni(i.color),g.renderTextWithLetterSpacing(b,i.letterSpacing,u);var E=i.textShadow;E.length&&b.text.trim().length&&(E.slice(0).reverse().forEach(function(x){g.ctx.shadowColor=Ni(x.color),g.ctx.shadowOffsetX=x.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=x.offsetY.number*g.options.scale,g.ctx.shadowBlur=x.blur.number,g.renderTextWithLetterSpacing(b,i.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),i.textDecorationLine.length&&(g.ctx.fillStyle=Ni(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(x){switch(x){case 1:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:g.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+d),b.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&b.text.trim().length&&(g.ctx.strokeStyle=Ni(i.webkitTextStrokeColor),g.ctx.lineWidth=i.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=lT(t),a=AT(i);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Hr(this,void 0,void 0,function(){var i,r,s,a,o,l,I,I,u,d,h,g,R,v,b,P,C,E,x,I,T,R,P;return Tr(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,r=t.curves,s=i.styles,a=0,o=i.textNodes,D.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof EX))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof SX&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof xX))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof FX&&i.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,u.render(i.tree)]):[3,14];case 13:d=D.sent(),i.width&&i.height&&this.ctx.drawImage(d,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),D.label=14;case 14:if(i instanceof qQ&&(h=Math.min(i.bounds.width,i.bounds.height),i.type===iT?i.checked&&(this.ctx.save(),this.path([new Me(i.bounds.left+h*.39363,i.bounds.top+h*.79),new Me(i.bounds.left+h*.16,i.bounds.top+h*.5549),new Me(i.bounds.left+h*.27347,i.bounds.top+h*.44071),new Me(i.bounds.left+h*.39694,i.bounds.top+h*.5649),new Me(i.bounds.left+h*.72983,i.bounds.top+h*.23),new Me(i.bounds.left+h*.84,i.bounds.top+h*.34085),new Me(i.bounds.left+h*.39363,i.bounds.top+h*.79)]),this.ctx.fillStyle=Ni(az),this.ctx.fill(),this.ctx.restore()):i.type===rT&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+h/2,i.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ni(az),this.ctx.fill(),this.ctx.restore())),ebe(i)&&i.value.length){switch(g=this.createFontStyle(s),R=g[0],v=g[1],b=this.fontMetrics.getMetrics(R,v).baseline,this.ctx.font=R,this.ctx.fillStyle=Ni(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=nbe(i.styles.textAlign),P=lT(i),C=0,i.styles.textAlign){case 1:C+=P.width/2;break;case 2:C+=P.width;break}E=P.add(C,0,0,-P.height/2+1),this.ctx.save(),this.path([new Me(P.left,P.top),new Me(P.left+P.width,P.top),new Me(P.left+P.width,P.top+P.height),new Me(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Sw(i.value,E),s.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!_i(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(x=i.styles.listStyleImage,x.type!==0)return[3,18];I=void 0,T=x.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=D.sent(),this.ctx.drawImage(I,i.bounds.left-(I.width+10),i.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=Ni(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new cu(i.bounds.left,i.bounds.top+Cn(i.styles.paddingTop,i.bounds.width),i.bounds.width,KG(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Sw(t.listValue,P),s.letterSpacing,KG(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Hr(this,void 0,void 0,function(){var i,r,x,s,a,x,o,l,x,u,d,x,h,g,x,v,b,x,C,E,x;return Tr(this,function(I){switch(I.label){case 0:if(_i(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),i=0,r=t.negativeZIndex,I.label=2;case 2:return i<r.length?(x=r[i],[4,this.renderStack(x)]):[3,5];case 3:I.sent(),I.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(x=a[s],[4,this.renderNode(x)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(x=l[o],[4,this.renderStack(x)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(x=d[u],[4,this.renderStack(x)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(x=g[h],[4,this.renderNode(x)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,b=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<b.length?(x=b[v],[4,this.renderStack(x)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:C=0,E=t.positiveZIndex,I.label=27;case 27:return C<E.length?(x=E[C],[4,this.renderStack(x)]):[3,30];case 28:I.sent(),I.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(r,s){var a=Va(r)?r.start:r;s===0?i.ctx.moveTo(a.x,a.y):i.ctx.lineTo(a.x,a.y),Va(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,i,r,s){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(t,i,r){var s;if(t.width===i&&t.height===r)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,i),o.height=Math.max(1,r);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,i,r),o},e.prototype.renderBackgroundImage=function(t){return Hr(this,void 0,void 0,function(){var i,r,s,a,o,l;return Tr(this,function(u){switch(u.label){case 0:i=t.styles.backgroundImage.length-1,r=function(d){var h,g,v,K,G,$,X,ne,H,b,K,G,$,X,ne,C,E,x,I,T,R,P,D,L,H,k,K,V,q,X,ne,he,G,$,se,ae,be,z,J,le,ve,Ee;return Tr(this,function(Fe){switch(Fe.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,Fe.label=1;case 1:return Fe.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=Fe.sent(),[3,4];case 3:return Fe.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=MM(t,i,[h.width,h.height,h.width/h.height]),K=v[0],G=v[1],$=v[2],X=v[3],ne=v[4],H=s.ctx.createPattern(s.resizeImage(h,X,ne),"repeat"),s.renderRepeat(K,H,G,$)),[3,6];case 5:kve(d)?(b=MM(t,i,[null,null,null]),K=b[0],G=b[1],$=b[2],X=b[3],ne=b[4],C=Rve(d.angle,X,ne),E=C[0],x=C[1],I=C[2],T=C[3],R=C[4],P=document.createElement("canvas"),P.width=X,P.height=ne,D=P.getContext("2d"),L=D.createLinearGradient(x,T,I,R),HG(d.stops,E).forEach(function(Ce){return L.addColorStop(Ce.stop,Ni(Ce.color))}),D.fillStyle=L,D.fillRect(0,0,X,ne),X>0&&ne>0&&(H=s.ctx.createPattern(P,"repeat"),s.renderRepeat(K,H,G,$))):Ove(d)&&(k=MM(t,i,[null,null,null]),K=k[0],V=k[1],q=k[2],X=k[3],ne=k[4],he=d.position.length===0?[VQ]:d.position,G=Cn(he[0],X),$=Cn(he[he.length-1],ne),se=Dve(d,G,$,X,ne),ae=se[0],be=se[1],ae>0&&be>0&&(z=s.ctx.createRadialGradient(V+G,q+$,0,V+G,q+$,ae),HG(d.stops,ae*2).forEach(function(Ce){return z.addColorStop(Ce.stop,Ni(Ce.color))}),s.path(K),s.ctx.fillStyle=z,ae!==be?(J=t.bounds.left+.5*t.bounds.width,le=t.bounds.top+.5*t.bounds.height,ve=be/ae,Ee=1/ve,s.ctx.save(),s.ctx.translate(J,le),s.ctx.transform(1,0,0,ve,0,0),s.ctx.translate(-J,-le),s.ctx.fillRect(V,Ee*(q-le)+le,X,ne*Ee),s.ctx.restore()):s.ctx.fill())),Fe.label=6;case 6:return i--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,r(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,r){return Hr(this,void 0,void 0,function(){return Tr(this,function(s){return this.path(vz(r,i)),this.ctx.fillStyle=Ni(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,r,s){return Hr(this,void 0,void 0,function(){var a,o;return Tr(this,function(l){switch(l.label){case 0:return i<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=Kwe(s,r),this.path(a),this.ctx.fillStyle=Ni(t),this.ctx.fill(),o=Gwe(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Hr(this,void 0,void 0,function(){var i,r,s,a,o,l,u,d,h=this;return Tr(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,r=!Td(i.backgroundColor)||i.backgroundImage.length,s=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],a=tbe(Ig(i.backgroundClip,0),t.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Td(i.backgroundColor)||(this.ctx.fillStyle=Ni(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var b=oT(t.curves),C=v.inset?0:Jwe,E=Hwe(b,-C+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(b),h.ctx.clip(),h.mask(E)):(h.mask(b),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=v.offsetX.number+C,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=Ni(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?Ni(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!Td(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,r,s,a){return Hr(this,void 0,void 0,function(){var o,l,u,d,h,g,v,b,C,E,x,I,T,R,P,D,P,D;return Tr(this,function(L){return this.ctx.save(),o=zwe(s,r),l=vz(s,r),a===2&&(this.path(l),this.ctx.clip()),Va(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),Va(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),r===0||r===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=i<3?i*3:i*2,C=i<3?i*2:i,a===3&&(b=i,C=i),E=!0,v<=b*2?E=!1:v<=b*2+C?(x=v/(2*b+C),b*=x,C*=x):(I=Math.floor((v+C)/(b+C)),T=(v-I*b)/(I-1),R=(v-(I+1)*b)/I,C=R<=0||Math.abs(C-T)<Math.abs(C-R)?T:R),E&&(a===3?this.ctx.setLineDash([0,b+C]):this.ctx.setLineDash([b,C])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=Ni(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Va(l[0])&&(P=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new Me(P.end.x,P.end.y),new Me(D.start.x,D.start.y)]),this.ctx.stroke()),Va(l[1])&&(P=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new Me(P.end.x,P.end.y),new Me(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Hr(this,void 0,void 0,function(){var i;return Tr(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ni(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=Vwe(t),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(qX),ebe=function(n){return n instanceof IX||n instanceof TX?!0:n instanceof qQ&&n.type!==rT&&n.type!==iT},tbe=function(n,e){switch(n){case 0:return oT(e);case 2:return Nwe(e);case 1:default:return AT(e)}},nbe=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ibe=["-apple-system","system-ui"],rbe=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return ibe.indexOf(e)===-1}):n},sbe=(function(n){Po(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return e.prototype.render=function(t){return Hr(this,void 0,void 0,function(){var i,r;return Tr(this,function(s){switch(s.label){case 0:return i=aL(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,abe(i)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ni(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(qX),abe=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},obe=(function(){function n(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,kS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,kS([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,kS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,kS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),Abe=(function(){function n(e,t){var i;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new obe({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new Twe(this,e)}return n.instanceCount=1,n})(),lbe=function(n,e){return e===void 0&&(e={}),ube(n,e)};typeof window<"u"&&OX.setContext(window);var ube=function(n,e){return Hr(void 0,void 0,void 0,function(){var t,i,r,s,a,o,l,u,d,h,g,v,b,C,E,x,I,T,R,P,L,D,L,H,k,K,V,q,X,ne,he,G,$,se,ae,be,z,J,le,ve;return Tr(this,function(Ee){switch(Ee.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(K=e.useCORS)!==null&&K!==void 0?K:!1},s=zN({logging:(V=e.logging)!==null&&V!==void 0?V:!0,cache:e.cache},r),a={windowWidth:(q=e.windowWidth)!==null&&q!==void 0?q:i.innerWidth,windowHeight:(X=e.windowHeight)!==null&&X!==void 0?X:i.innerHeight,scrollX:(ne=e.scrollX)!==null&&ne!==void 0?ne:i.pageXOffset,scrollY:(he=e.scrollY)!==null&&he!==void 0?he:i.pageYOffset},o=new cu(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new Abe(s,o),u=(G=e.foreignObjectRendering)!==null&&G!==void 0?G:!1,d={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new pz(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=Ee.sent(),b=$Q(g)||cwe(g)?Hge(g.ownerDocument):D1(l,g),C=b.width,E=b.height,x=b.left,I=b.top,T=cbe(l,g,e.backgroundColor),R={canvas:e.canvas,backgroundColor:T,scale:(ae=(se=e.scale)!==null&&se!==void 0?se:i.devicePixelRatio)!==null&&ae!==void 0?ae:1,x:((be=e.x)!==null&&be!==void 0?be:0)+x,y:((z=e.y)!==null&&z!==void 0?z:0)+I,width:(J=e.width)!==null&&J!==void 0?J:Math.ceil(C),height:(le=e.height)!==null&&le!==void 0?le:Math.ceil(E)},u?(l.logger.debug("Document cloned, using foreign object rendering"),L=new sbe(l,R),[4,L.render(g)]):[3,3];case 2:return P=Ee.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+I+" with size "+C+"x"+E+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=MX(l,g),T===D.styles.backgroundColor&&(D.styles.backgroundColor=ru.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),L=new Zwe(l,R),[4,L.render(D)];case 4:P=Ee.sent(),Ee.label=5;case 5:return(!((ve=e.removeContainer)!==null&&ve!==void 0)||ve)&&(pz.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,P]}})})},cbe=function(n,e,t){var i=e.ownerDocument,r=i.documentElement?Bw(n,getComputedStyle(i.documentElement).backgroundColor):ru.TRANSPARENT,s=i.body?Bw(n,getComputedStyle(i.body).backgroundColor):ru.TRANSPARENT,a=typeof t=="string"?Bw(n,t):t===null?ru.TRANSPARENT:4294967295;return e===i.documentElement?Td(r)?Td(s)?a:s:r:a};const dbe=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:i,viewMode:r,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:b,showAnnotations:C,triggerSmartExplain:E,isCaptureMode:x,setCaptureMode:I,setCapturedImage:T}=kd(),R=n||t,P=e==="main",D=M.useRef(null),L=M.useRef(null),H=M.useRef(0),[k,K]=M.useState({text:"",top:0,left:0,show:!1}),[V,q]=M.useState({show:!1,text:""}),[X,ne]=M.useState(!1),[he,G]=M.useState([]),[$,se]=M.useState(null),[ae,be]=M.useState(null);M.useEffect(()=>{if(!P)return;const _e=Z=>{Z.key==="Escape"&&x&&(I(!1),se(null),be(null))};return window.addEventListener("keydown",_e),()=>window.removeEventListener("keydown",_e)},[x,I,P]);const z=M.useMemo(()=>{let _e=R.content;return C&&[...v.filter(Re=>Re.chapterId===R.id)].sort((Re,wt)=>wt.text.length-Re.text.length).forEach(Re=>{const wt=Re.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),$e=new RegExp(wt,"g"),ce=`<mark id="hl-${Re.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${Re.note||"Highlight"}">${Re.text}</mark>`;_e=_e.replace($e,ce)}),_e},[R.content,R.id,v,C]);M.useEffect(()=>{if(b&&C){const _e=document.getElementById(`hl-${b}`);_e&&document.body.contains(_e)&&(_e.scrollIntoView({behavior:"smooth",block:"center"}),_e.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{_e.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[b,z,C]),M.useEffect(()=>{const _e=Z=>{const we=Z.target;!we.closest(`#selection-menu-${e}`)&&!we.closest(`#memo-dialog-${e}`)&&K(Re=>({...Re,show:!1}))};return document.addEventListener("mousedown",_e),()=>document.removeEventListener("mousedown",_e)},[e]);const J=()=>{var Z,we;const _e=window.getSelection();if(_e&&_e.toString().trim().length>0){if(!(((Z=D.current)==null?void 0:Z.contains(_e.anchorNode))||((we=D.current)==null?void 0:we.contains(_e.focusNode))))return;const $e=_e.getRangeAt(0).getBoundingClientRect();let ce=$e.top-60,ye=$e.left+$e.width/2-100;ce<0&&(ce=$e.bottom+10),ye<10&&(ye=10),ye+200>window.innerWidth&&(ye=window.innerWidth-220),K({text:_e.toString(),top:ce,left:ye,show:!0})}else K(Re=>({...Re,show:!1}))},le=_e=>{P&&x||a==="idle"&&setTimeout(J,10)},ve=()=>{var _e;s(k.text,void 0,R.id),K(Z=>({...Z,show:!1})),(_e=window.getSelection())==null||_e.removeAllRanges()},Ee=()=>{K(_e=>({..._e,show:!1})),q({show:!0,text:""})},Fe=()=>{var _e;V.text.trim()&&s(k.text,V.text,R.id),q({show:!1,text:""}),(_e=window.getSelection())==null||_e.removeAllRanges()},Ce=()=>{var _e;E(k.text),K(Z=>({...Z,show:!1})),(_e=window.getSelection())==null||_e.removeAllRanges()},ht=_e=>{if(!L.current)return null;const Z=L.current.getBoundingClientRect();if(Z.width===0||Z.height===0)return null;const we=L.current.width/Z.width,Re=L.current.height/Z.height;return{x:(_e.clientX-Z.left)*we,y:(_e.clientY-Z.top)*Re}},ie=_e=>{var we;if(P&&x||a==="idle")return;_e.target.setPointerCapture(_e.pointerId);const Z=ht(_e);if(Z&&(ne(!0),G([Z]),D.current&&a==="pen")){const Re=Array.from(D.current.children);let wt=0;const $e=(we=L.current)==null?void 0:we.getBoundingClientRect(),ce=_e.clientY-(($e==null?void 0:$e.top)||0);for(let ye=0;ye<Re.length;ye++){const Se=Re[ye];if(ce>=Se.offsetTop&&ce<=Se.offsetTop+Se.offsetHeight){wt=ye;break}if(ce<Se.offsetTop){wt=Math.max(0,ye-1);break}wt=ye}H.current=wt}},Le=_e=>{if(P&&x||!X||a==="idle")return;_e.preventDefault();const Z=ht(_e);if(Z){if(a==="pen")G(we=>[...we,Z]);else if(a==="eraser"){const we=d[R.id]||[],Re=D.current?Array.from(D.current.children):[];we.forEach(wt=>{let $e=wt.points;if(wt.anchorIndex!==void 0&&Re[wt.anchorIndex]){const ye=Re[wt.anchorIndex].offsetTop;$e=wt.points.map(Se=>({x:Se.x,y:Se.y+ye}))}$e.some(ye=>Math.hypot(ye.x-Z.x,ye.y-Z.y)<20)&&g(R.id,wt.id)})}}},qe=_e=>{if(!(P&&x)&&X){if(_e.target.releasePointerCapture(_e.pointerId),ne(!1),a==="pen"&&he.length>1){let Z=he,we;if(D.current){we=H.current;const wt=D.current.children;if(wt[we]){const $e=wt[we].offsetTop;Z=he.map(ce=>({x:ce.x,y:ce.y-$e}))}}const Re={id:Date.now().toString(),points:Z,color:o,width:l,opacity:u,anchorIndex:we};h(R.id,Re)}G([])}},ge=_e=>{if(!P||!x)return;const Z={x:_e.clientX,y:_e.clientY};se(Z),be(Z)},Ht=_e=>{!P||!x||!$||be({x:_e.clientX,y:_e.clientY})},it=async _e=>{if(!P||!x||!$||!ae){se(null),be(null);return}const Z=$,we={x:_e.clientX,y:_e.clientY},Re={x:Math.min(Z.x,we.x),y:Math.min(Z.y,we.y),width:Math.abs(we.x-Z.x),height:Math.abs(we.y-Z.y)};if(se(null),be(null),!(Re.width<10||Re.height<10))try{const wt=await lbe(document.body,{x:Re.x+window.scrollX,y:Re.y+window.scrollY,width:Re.width,height:Re.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:$e=>$e.classList.contains("capture-overlay-ui")});T(wt.toDataURL())}catch(wt){console.error(wt)}finally{I(!1)}};M.useEffect(()=>{const _e=L.current;if(!_e||!D.current)return;const Z=()=>{if(!_e||!D.current)return;const Re=window.devicePixelRatio||1;_e.width=D.current.offsetWidth*Re,_e.height=D.current.offsetHeight*Re;const wt=_e.getContext("2d");wt&&wt.scale(Re,Re)};Z();const we=new ResizeObserver(Z);return we.observe(D.current),()=>we.disconnect()},[R.id,r]),M.useEffect(()=>{const _e=L.current;if(!_e||!D.current)return;const Z=_e.getContext("2d");if(!Z||(Z.save(),Z.setTransform(1,0,0,1,0,0),Z.clearRect(0,0,_e.width,_e.height),Z.restore(),!C&&!X))return;const we=($e,ce,ye,Se)=>{if(!($e.length<2)){Z.beginPath(),Z.lineWidth=ye,Z.strokeStyle=ce,Z.lineCap="round",Z.lineJoin="round",Z.globalAlpha=Se,Z.moveTo($e[0].x,$e[0].y);for(let Pe=1;Pe<$e.length-1;Pe++){const Ie={x:($e[Pe].x+$e[Pe+1].x)/2,y:($e[Pe].y+$e[Pe+1].y)/2};Z.quadraticCurveTo($e[Pe].x,$e[Pe].y,Ie.x,Ie.y)}Z.lineTo($e[$e.length-1].x,$e[$e.length-1].y),Z.stroke(),Z.globalAlpha=1}},Re=Array.from(D.current.children);(d[R.id]||[]).forEach($e=>{let ce=$e.points;if($e.anchorIndex!==void 0&&Re[$e.anchorIndex]){const ye=Re[$e.anchorIndex].offsetTop;ce=$e.points.map(Se=>({x:Se.x,y:Se.y+ye}))}we(ce,$e.color,$e.width||3,$e.opacity!==void 0?$e.opacity:1)}),X&&he.length>1&&a==="pen"&&we(he,o,l,u)},[d,R.id,X,he,o,l,u,a,C]);const ln=()=>{switch(i){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},mn=P&&x&&$&&ae?{position:"fixed",left:Math.min($.x,ae.x),top:Math.min($.y,ae.y),width:Math.abs(ae.x-$.x),height:Math.abs(ae.y-$.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},oi={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},Xi=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,vr=e==="main"&&r==="double",yr=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${vr?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",Yr=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${ln()} ${vr?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,Do=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return Q.jsxs("div",{className:Do,onPointerUp:le,children:[P&&x&&Q.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:ge,onMouseMove:Ht,onMouseUp:it,children:!$&&Q.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),P&&x&&$&&ae&&Q.jsx("div",{style:mn,className:"capture-overlay-ui"}),Q.jsxs("div",{className:yr,children:[Q.jsx("div",{ref:D,className:Yr,dangerouslySetInnerHTML:{__html:z},onContextMenu:_e=>_e.preventDefault()}),Q.jsx("canvas",{ref:L,className:Xi,style:oi,onPointerDown:ie,onPointerMove:Le,onPointerUp:qe,onPointerLeave:qe})]}),k.show&&!x&&Q.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:k.top,left:k.left},children:[Q.jsxs("button",{onClick:ve,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(d_,{size:14,className:"text-yellow-400"})," High"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:Ee,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(whe,{size:14,className:"text-green-400"})," Memo"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:Ce,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(Zfe,{size:14,className:"text-blue-400"})," AI"]})]}),V.show&&Q.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:Q.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[Q.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),Q.jsx("textarea",{autoFocus:!0,value:V.text,onChange:_e=>q(Z=>({...Z,text:_e.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[Q.jsx("button",{onClick:()=>q({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),Q.jsx("button",{onClick:Fe,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},_0=({text:n,query:e})=>{if(!e||!e.trim())return Q.jsx(Q.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`(${t})`,"gi"),r=n.split(i);return Q.jsx("span",{children:r.map((s,a)=>i.test(s)?Q.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},$X=({isOpen:n,onClose:e,side:t,title:i,children:r})=>Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:` ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),Q.jsx("aside",{className:`h-full ${t==="left"?"left-0 border-r":"right-0 border-l"} ${n?"translate-x-0":t==="left"?"-translate-x-full md:translate-x-0":"translate-x-full md:translate-x-0"} w-80 md:w-full`,children:Q.jsxs("div",{className:"h-full",children:[Q.jsxs("div",{className:"hidden",children:[i&&Q.jsx("h2",{className:"font-semibold text-slate-800 dark:text-slate-200",children:i}),Q.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-500",children:Q.jsx(HW,{size:18})})]}),Q.jsx("div",{className:"flex-1 overflow-y-auto h-full",children:r})]})})]}),fbe=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:i,goToChapter:r,hasStrokes:s,bookmarks:a,goToPdfPage:o,removePdfBookmark:l,currentPdfPage:u}=kd(),[d,h]=M.useState("contents");return Q.jsx($X,{isOpen:n,onClose:e,side:"left",title:"Contents",children:Q.jsxs("div",{className:"",children:[Q.jsxs("div",{className:"chapter_favor_wrap",children:[Q.jsxs("button",{onClick:()=>h("contents"),className:`chapter ${d==="contents"?"on":"off"}`,children:[Q.jsx(jfe,{size:14})," Chapters"]}),Q.jsxs("button",{onClick:()=>h("bookmarks"),className:`favor ${d==="bookmarks"?"on":"off"}`,children:[Q.jsx(c_,{size:14})," Favorites"]})]}),Q.jsxs("div",{className:"chapter_list",children:[d==="contents"&&t.map((g,v)=>Q.jsx("button",{onClick:()=>{r(v),window.innerWidth<768&&e()},className:` ${v===i?"on":"off"}`,children:Q.jsxs("div",{className:"chapter_list_inner",children:[Q.jsxs("div",{className:"",children:[Q.jsx("span",{className:`text_xs ${v===i?"on":"off"}`,children:String(v+1).padStart(2,"0")}),Q.jsx("span",{className:"line_clamp_1",children:g.title})]}),s(g.id)&&Q.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:Q.jsx(kW,{size:10})})]})},g.id)),d==="bookmarks"&&a.map(g=>Q.jsxs("div",{className:`bookmark_item_row ${g.page===u?"active":""}`,children:[Q.jsxs("button",{onClick:()=>{o(g.page),window.innerWidth<768&&e()},className:"bookmark_item_button",children:[Q.jsxs("div",{className:"bookmark_page_badge",children:[Q.jsx(c_,{size:14}),Q.jsxs("span",{children:["Page ",g.page]})]}),Q.jsxs("div",{className:"bookmark_item_text",children:[Q.jsx("span",{className:"bookmark_label line_clamp_1",children:g.label||`Page ${g.page}`}),Q.jsxs("span",{className:"bookmark_meta",children:["Saved ",new Date(g.createdAt).toLocaleDateString()]})]})]}),Q.jsx("button",{onClick:v=>{v.stopPropagation(),l(g.id)},className:"bookmark_remove_btn",title:"Delete bookmark",children:Q.jsx(sN,{size:14})})]},g.id)),d==="bookmarks"&&a.length===0&&Q.jsxs("div",{className:"non_book_mark",children:[Q.jsx(c_,{size:24,className:"mx-auto mb-2 text-slate-400"}),Q.jsx("p",{className:"text_sm",children:"No bookmarks yet"}),Q.jsx("p",{className:"text_sm",children:"Use the bookmark icon near Search to save a page."})]})]})]})})},hbe=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:i,updateHighlight:r,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:b,chapters:C,aiChatHistory:E,addChatMessage:x,activeToolTab:I,setActiveToolTab:T,setCaptureMode:R,capturedImage:P,setCapturedImage:D,referenceDocument:L,uploadBook:H,searchQuery:k,setSearchQuery:K,performSearch:V,goToPdfPage:q,pdfSearchHighlight:X,setPdfSearchHighlight:ne}=kd(),[he,G]=M.useState(""),[$,se]=M.useState(!1),[ae,be]=M.useState(null),[z,J]=M.useState(null),[le,ve]=M.useState(""),[Ee,Fe]=M.useState(""),Ce=M.useRef(null),ht=M.useRef(null);M.useEffect(()=>{ae&&Ce.current&&Ce.current.innerHTML!==(ae.content||"")&&(Ce.current.innerHTML=ae.content||"")},[ae==null?void 0:ae.id]);const ie=()=>Ce.current?Ce.current.innerHTML:"",Le=Z=>{if(I==="notebook"&&ae){const we=ie();be(Re=>Re?{...Re,content:we}:null)}T(Z),Fe("")},qe=Z=>{J(Z.id),ve(Z.note||"")},ge=Z=>{r(Z,le),J(null),ve("")},Ht=t.filter(Z=>Z.text.toLowerCase().includes(Ee.toLowerCase())||Z.note&&Z.note.toLowerCase().includes(Ee.toLowerCase())),it=o.filter(Z=>Z.title.toLowerCase().includes(Ee.toLowerCase())||Z.content.toLowerCase().includes(Ee.toLowerCase()));M.useEffect(()=>{if(P&&ae){const Z=`<div class="capture-img-container"><img src="${P}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,we=(ae.content||"")+Z;be(Re=>Re?{...Re,content:we}:null),Ce.current&&(Ce.current.innerHTML=we),D(null)}},[P,D]);const ln=async Z=>{if(Z.preventDefault(),!he.trim())return;const we=he;x("user",we),G(""),se(!0),a();const Re=await B6(we,s.content.substring(0,1e3));x("model",Re),se(!1)},mn=()=>{if(ae){const Z=ie();ae.title&&(ae.id?u(ae.id,ae.title,Z):l(ae.title,Z),be(null))}},oi=(Z,we=void 0)=>{document.execCommand(Z,!1,we),Ce.current&&Ce.current.focus()},Xi=(Z,we,Re)=>{Z.preventDefault(),oi(we,Re)},vr=Z=>{Z.preventDefault();const we=ie();be(Re=>Re?{...Re,content:we}:null),setTimeout(()=>R(!0),50)},yr=Z=>{Z.preventDefault();const we=window.getSelection();if(we&&we.rangeCount>0){const $e=we.getRangeAt(0);Ce.current&&Ce.current.contains($e.commonAncestorContainer)?ht.current=$e.cloneRange():ht.current=null}const Re=parseInt(prompt("Rows:","2")||"0"),wt=parseInt(prompt("Columns:","2")||"0");if(Ce.current&&(Ce.current.focus(),ht.current&&(we==null||we.removeAllRanges(),we==null||we.addRange(ht.current)),Re>0&&wt>0)){let $e='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let ce=0;ce<Re;ce++){$e+="<tr>";for(let ye=0;ye<wt;ye++)$e+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';$e+="</tr>"}$e+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,$e)}},Yr=Z=>{Z.target.files&&Z.target.files[0]&&H(Z.target.files[0])},Do=()=>{const Z=ie();be(we=>we?{...we,content:Z}:null)},_e=()=>{if(!ae)return;const Z=ie(),we=window.open("","","height=600,width=800");we&&(we.document.write(`<html><head><title>${ae.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${ae.title}</h1>${Z}</body></html>`),we.document.close(),we.print())};return I==="search"&&V(k),Q.jsx($X,{isOpen:n,onClose:e,side:"right",children:Q.jsxs("div",{className:"h-full",children:[Q.jsxs("div",{className:"right_panel_menu",children:[Q.jsx("button",{onClick:()=>Le("ai"),className:`ai ${I==="ai"?"on":"off"}`,title:"AI",children:Q.jsx(rM,{size:14})}),Q.jsx("button",{onClick:()=>Le("notes"),className:`notes ${I==="notes"?"on":"off"}`,title:"Highlights",children:Q.jsx(d_,{size:14})}),Q.jsx("button",{onClick:()=>Le("notebook"),className:`notebook ${I==="notebook"?"on":"off"}`,title:"Notebook",children:Q.jsx(nN,{size:14})}),Q.jsx("button",{onClick:()=>Le("reference"),className:`reference ${I==="reference"?"on":"off"}`,title:"Reference PDF",children:Q.jsx(QK,{size:14})}),Q.jsx("button",{onClick:()=>Le("search"),className:`search ${I==="search"?"on":"off"}`,title:"Search",children:Q.jsx(f_,{size:14})})]}),Q.jsxs("div",{className:"text_area",children:[I==="ai"&&Q.jsxs("div",{className:"ai",children:[Q.jsxs("div",{className:"ai_talk",children:[E.length===0&&Q.jsxs("div",{className:"ai_talk_inner",children:[Q.jsx("div",{className:"icon",children:Q.jsx(rM,{className:"text-blue-500",size:24})}),Q.jsx("p",{className:"text_sm",children:"AI Study Companion"})]}),E.map((Z,we)=>Q.jsx("div",{className:`txt ${Z.role==="user"?"ai_user_txt":"ai_txt"}`,children:Q.jsx("div",{className:` ${Z.role==="user"?"on":"off"}`,children:Z.text})},we)),$&&Q.jsx("div",{className:"flex flex-col items-start",children:Q.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:Q.jsxs("div",{className:"flex space-x-1",children:[Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})})]}),Q.jsx("div",{className:"ai_user",children:Q.jsxs("form",{onSubmit:ln,className:"user_form",children:[Q.jsx("input",{type:"text",value:he,onChange:Z=>G(Z.target.value),placeholder:"Ask AI...",className:""}),Q.jsx("button",{type:"submit",disabled:!he.trim()||$,className:"enter",children:Q.jsx(rM,{size:16})})]})})]}),I==="notes"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Filter highlights...",value:Ee,onChange:Z=>Fe(Z.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(kK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),Q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Ht.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(d_,{size:24,className:"mx-auto mb-2"}),Q.jsx("p",{className:"text-sm",children:"No highlights"})]}),Ht.map(Z=>Q.jsxs("div",{onClick:()=>{b(C.findIndex(we=>we.id===Z.chapterId)),v(Z.id)},className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[Q.jsx("span",{children:Z.chapterId==="reference-doc"?"Reference PDF":`Chapter ${C.findIndex(we=>we.id===Z.chapterId)+1}`}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("button",{onClick:we=>{we.stopPropagation(),qe(Z)},title:"Edit Note",children:Q.jsx(Ahe,{size:12})}),Q.jsx("button",{onClick:we=>{we.stopPropagation(),i(Z.id)},title:"Delete",children:Q.jsx(sN,{size:12})})]})]}),Q.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',Q.jsx(_0,{text:Z.text,query:Ee}),'"']}),z===Z.id?Q.jsxs("div",{onClick:we=>we.stopPropagation(),className:"mt-2 animate-fade-in",children:[Q.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:le,onChange:we=>ve(we.target.value),autoFocus:!0,rows:3}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[Q.jsx("button",{onClick:()=>J(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),Q.jsx("button",{onClick:()=>ge(Z.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):Z.note?Q.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:Q.jsx(_0,{text:Z.note,query:Ee})}):Q.jsxs("button",{onClick:we=>{we.stopPropagation(),qe(Z)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[Q.jsx(rN,{size:10})," Add Note"]})]},Z.id))]})]}),I==="notebook"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:ae?Q.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[Q.jsx("button",{onClick:()=>be(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),Q.jsxs("button",{onClick:mn,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[Q.jsx(OW,{size:14})," Save"]})]}),Q.jsx("div",{className:"px-4 pt-4 pb-2",children:Q.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:ae.title||"",onChange:Z=>{const we=ie();be(Re=>Re?{...Re,title:Z.target.value,content:we}:null)}})}),Q.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[Q.jsx("button",{onMouseDown:Z=>Xi(Z,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(mfe,{size:14})}),Q.jsx("button",{onMouseDown:Z=>Xi(Z,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx("span",{className:"italic",children:"I"})}),Q.jsx("button",{onMouseDown:Z=>Xi(Z,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(d_,{size:14})}),Q.jsx("button",{onMouseDown:yr,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(Che,{size:14})}),Q.jsx("button",{onMouseDown:vr,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:Q.jsx(Tfe,{size:14})}),Q.jsx("button",{onClick:_e,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(hhe,{size:14})})]}),Q.jsx("div",{ref:Ce,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:Do},ae.id)]}):Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[Q.jsx(_he,{size:14}),Q.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:Yr})]}),Q.jsxs("button",{onClick:()=>be({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[Q.jsx(rN,{size:14})," New"]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search notes...",value:Ee,onChange:Z=>Fe(Z.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(kK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),Q.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[it.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(nN,{size:32,className:"mx-auto text-slate-300 mb-2"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),it.map(Z=>Q.jsxs("div",{onClick:()=>be(Z),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-1",children:[Q.jsx("h4",{className:"font-semibold text-sm",children:Q.jsx(_0,{text:Z.title,query:Ee})}),Q.jsx("button",{onClick:we=>{we.stopPropagation(),d(Z.id)},children:Q.jsx(sN,{size:12,"text-slate-300":!0})})]}),Q.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:Q.jsx(_0,{text:Z.content.replace(/<[^>]+>/g," "),query:Ee})})]},Z.id))]})]})}),I==="reference"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:L?Q.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:Q.jsx(dbe,{customChapter:L,variant:"side"})}):Q.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[Q.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:Q.jsx(QK,{size:32,className:"text-slate-400"})}),Q.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),Q.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",Q.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",Q.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),Q.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Q.jsx(iN,{size:16}),Q.jsx("span",{children:"Upload PDF"}),Q.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:Yr})]})]})}),I==="search"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[Q.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:k,onChange:Z=>{K(Z.target.value),ne(null)},className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),Q.jsx(f_,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),Q.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:k.length>1?I==="search"&&V(k).length>0?V(k).map(Z=>Q.jsxs("div",{onClick:()=>{if(Z.type==="note"){const we=o.find(Re=>`note-${Re.id}`===Z.id);we&&(be(we),T("notebook"))}else if(Z.type==="pdf")Z.pageNumber&&(q(Z.pageNumber),ne({page:Z.pageNumber,term:k}));else{const we=C.findIndex(Re=>Re.id===Z.chapterId);we!==-1&&(b(we),Z.type==="highlight"&&v(Z.id.replace("hl-","")))}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Q.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${Z.type==="chapter"?"bg-blue-100 text-blue-600":Z.type==="highlight"?"bg-yellow-100 text-yellow-600":Z.type==="pdf"?"bg-indigo-100 text-indigo-600":"bg-green-100 text-green-600"}`,children:Z.type}),Q.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:Z.title})]}),Q.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:Q.jsx(_0,{text:Z.contentSnippet,query:k})})]},Z.id)):Q.jsx("div",{className:"text-center py-10 opacity-50",children:Q.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',k,'"']})}):Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(f_,{size:24,className:"mx-auto mb-2 text-slate-300"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})})},pbe=()=>{const[n,e]=M.useState(!0),{isToolsOpen:t,setToolsOpen:i,registerPdfNavigator:r,setCurrentPdfPage:s}=kd(),[a,o]=M.useState(0),[l,u]=M.useState(1),d=M.useRef(),h=M.useCallback(k=>{u(k),s(k)},[s]),g=M.useCallback(k=>{o(k)},[]),v=M.useCallback(k=>{d.current=k,r(k)},[r]),[b,C]=M.useState(300),[E,x]=M.useState(350),[I,T]=M.useState(!1),[R,P]=M.useState(!1),D=M.useRef(null);M.useEffect(()=>{const k=()=>{window.innerWidth<1024?(e(!1),i(!1)):(e(!0),i(!0))};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[i]),M.useEffect(()=>{const k=V=>{if(!D.current)return;(I||R)&&V.preventDefault();const q=D.current.getBoundingClientRect();if(I){const X=V.clientX-q.left;X>200&&X<500&&C(X)}if(R){const X=q.right-V.clientX;X>280&&X<600&&x(X)}},K=()=>{T(!1),P(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(I||R)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",k),window.addEventListener("mouseup",K)),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",K),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[I,R]);const L=()=>e(!n);return Q.jsxs("div",{children:[Q.jsx(VW,{toggleSidebar:L,isSidebarOpen:n}),Q.jsxs("div",{ref:D,className:"split_container",children:[Q.jsxs("div",{className:`left_side_wrap ${n?"on":"off"}`,style:{width:n?window.innerWidth<768?"0px":`${b}px`:"0px"},children:[Q.jsx("div",{className:"left_side_inner",children:Q.jsx(fbe,{isOpen:n,onClose:()=>e(!1)})}),n&&window.innerWidth>=768&&Q.jsx("div",{className:"",onMouseDown:()=>T(!0),children:Q.jsx("div",{className:""})})]}),Q.jsxs("main",{className:"content_container",children:[Q.jsx("div",{className:"cc_top",children:Q.jsx(kge,{file:"/campusbook-viewer-ai/pdf/test2.pdf",onPageChange:h,onPagesCount:g,registerGoToPage:v})}),Q.jsx("div",{className:"cc_bottom",children:Q.jsx(Oge,{pdfPageCount:a,pdfCurrentPage:l,onPdfGoToPage:k=>{var K;return(K=d.current)==null?void 0:K.call(d,k)}})})]}),Q.jsxs("div",{className:`right_panel_wrap ${t?"on":"off"}`,style:{width:t?window.innerWidth<768?"0px":`${E}px`:"0px"},children:[t&&window.innerWidth>=768&&Q.jsx("div",{className:"separate",onMouseDown:()=>P(!0),children:Q.jsx("div",{className:""})}),Q.jsx("div",{className:"h-full w-full overflow-hidden",children:Q.jsx(hbe,{isOpen:t,onClose:()=>i(!1)})})]})]})]})};function jX(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=jX(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function In(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=jX(n))&&(i&&(i+=" "),i+=e);return i}var gbe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jQ(n){if(typeof n!="string")return!1;var e=gbe;return e.includes(n)}var mbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vbe=new Set(mbe);function WX(n){return typeof n!="string"?!1:vbe.has(n)}function YX(n){return typeof n=="string"&&n.startsWith("data-")}function Pd(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(WX(t)||YX(t))&&(e[t]=n[t]);return e}function WQ(n){if(n==null)return null;if(M.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Pd(e)}return typeof n=="object"&&!Array.isArray(n)?Pd(n):null}function Xa(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(WX(t)||YX(t)||jQ(t))&&(e[t]=n[t]);return e}var ybe=["children","width","height","viewBox","className","style","title","desc"];function fL(){return fL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fL.apply(null,arguments)}function wbe(n,e){if(n==null)return{};var t,i,r=bbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function bbe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var XX=M.forwardRef((n,e)=>{var{children:t,width:i,height:r,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=wbe(n,ybe),h=s||{width:i,height:r,x:0,y:0},g=In("recharts-surface",a);return M.createElement("svg",fL({},Xa(d),{className:g,width:i,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),M.createElement("title",null,l),M.createElement("desc",null,u),t)}),Cbe=["children","className"];function hL(){return hL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hL.apply(null,arguments)}function Bbe(n,e){if(n==null)return{};var t,i,r=Ebe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Ebe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var du=M.forwardRef((n,e)=>{var{children:t,className:i}=n,r=Bbe(n,Cbe),s=In("recharts-layer",i);return M.createElement("g",hL({className:s},Xa(r),{ref:e}),t)}),Sbe=M.createContext(null);function bn(n){return function(){return n}}const JX=Math.cos,uT=Math.sin,Ro=Math.sqrt,cT=Math.PI,z1=2*cT,pL=Math.PI,gL=2*pL,mf=1e-6,xbe=gL-mf;function ZX(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function _be(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return ZX;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class Tbe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZX:_be(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,a){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=i-e,u=r-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>mf)if(!(Math.abs(h*l-u*d)>mf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=i-a,b=r-o,C=l*l+u*u,E=v*v+b*b,x=Math.sqrt(C),I=Math.sqrt(g),T=s*Math.tan((pL-Math.acos((C+g-E)/(2*x*I)))/2),R=T/I,P=T/x;Math.abs(R-1)>mf&&this._append`L${e+R*d},${t+R*h}`,this._append`A${s},${s},0,0,${+(h*v>d*b)},${this._x1=e+P*l},${this._y1=t+P*u}`}}arc(e,t,i,r,s,a){if(e=+e,t=+t,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),u=e+o,d=t+l,h=1^a,g=a?r-s:s-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>mf||Math.abs(this._y1-d)>mf)&&this._append`L${u},${d}`,i&&(g<0&&(g=g%gL+gL),g>xbe?this._append`A${i},${i},0,1,${h},${e-o},${t-l}A${i},${i},0,1,${h},${this._x1=u},${this._y1=d}`:g>mf&&this._append`A${i},${i},0,${+(g>=pL)},${h},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function YQ(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new Tbe(e)}function XQ(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function e9(n){this._context=n}e9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function q1(n){return new e9(n)}function t9(n){return n[0]}function n9(n){return n[1]}function i9(n,e){var t=bn(!0),i=null,r=q1,s=null,a=YQ(o);n=typeof n=="function"?n:n===void 0?t9:bn(n),e=typeof e=="function"?e:e===void 0?n9:bn(e);function o(l){var u,d=(l=XQ(l)).length,h,g=!1,v;for(i==null&&(s=r(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:bn(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:bn(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:bn(!!l),o):t},o.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),o):i},o}function Ax(n,e,t){var i=null,r=bn(!0),s=null,a=q1,o=null,l=YQ(u);n=typeof n=="function"?n:n===void 0?t9:bn(+n),e=typeof e=="function"?e:bn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?n9:bn(+t);function u(h){var g,v,b,C=(h=XQ(h)).length,E,x=!1,I,T=new Array(C),R=new Array(C);for(s==null&&(o=a(I=l())),g=0;g<=C;++g){if(!(g<C&&r(E=h[g],g,h))===x)if(x=!x)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=v;--b)o.point(T[b],R[b]);o.lineEnd(),o.areaEnd()}x&&(T[g]=+n(E,g,h),R[g]=+e(E,g,h),o.point(i?+i(E,g,h):T[g],t?+t(E,g,h):R[g]))}if(I)return o=null,I+""||null}function d(){return i9().defined(r).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:bn(+h),i=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:bn(+h),u):n},u.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:bn(+h),u):i},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:bn(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:bn(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:bn(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:bn(!!h),u):r},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class r9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Ibe(n){return new r9(n,!0)}function Fbe(n){return new r9(n,!1)}const JQ={draw(n,e){const t=Ro(e/cT);n.moveTo(t,0),n.arc(0,0,t,0,z1)}},Ube={draw(n,e){const t=Ro(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},s9=Ro(1/3),Mbe=s9*2,Pbe={draw(n,e){const t=Ro(e/Mbe),i=t*s9;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},Rbe={draw(n,e){const t=Ro(e),i=-t/2;n.rect(i,i,t,t)}},Dbe=.8908130915292852,a9=uT(cT/10)/uT(7*cT/10),Nbe=uT(z1/10)*a9,Lbe=-JX(z1/10)*a9,Qbe={draw(n,e){const t=Ro(e*Dbe),i=Nbe*t,r=Lbe*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const a=z1*s/5,o=JX(a),l=uT(a);n.lineTo(l*t,-o*t),n.lineTo(o*i-l*r,l*i+o*r)}n.closePath()}},PM=Ro(3),kbe={draw(n,e){const t=-Ro(e/(PM*3));n.moveTo(0,t*2),n.lineTo(-PM*t,-t),n.lineTo(PM*t,-t),n.closePath()}},Ca=-.5,Ba=Ro(3)/2,mL=1/Ro(12),Obe=(mL/2+1)*3,Hbe={draw(n,e){const t=Ro(e/Obe),i=t/2,r=t*mL,s=i,a=t*mL+t,o=-s,l=a;n.moveTo(i,r),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(Ca*i-Ba*r,Ba*i+Ca*r),n.lineTo(Ca*s-Ba*a,Ba*s+Ca*a),n.lineTo(Ca*o-Ba*l,Ba*o+Ca*l),n.lineTo(Ca*i+Ba*r,Ca*r-Ba*i),n.lineTo(Ca*s+Ba*a,Ca*a-Ba*s),n.lineTo(Ca*o+Ba*l,Ca*l-Ba*o),n.closePath()}};function Vbe(n,e){let t=null,i=YQ(r);n=typeof n=="function"?n:bn(n||JQ),e=typeof e=="function"?e:bn(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:bn(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:bn(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function dT(){}function fT(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function o9(n){this._context=n}o9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Kbe(n){return new o9(n)}function A9(n){this._context=n}A9.prototype={areaStart:dT,areaEnd:dT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:fT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Gbe(n){return new A9(n)}function l9(n){this._context=n}l9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:fT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function zbe(n){return new l9(n)}function u9(n){this._context=n}u9.prototype={areaStart:dT,areaEnd:dT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function qbe(n){return new u9(n)}function wz(n){return n<0?-1:1}function bz(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),a=(t-n._y1)/(r||i<0&&-0),o=(s*r+a*i)/(i+r);return(wz(s)+wz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Cz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function RM(n,e,t){var i=n._x0,r=n._y0,s=n._x1,a=n._y1,o=(s-i)/3;n._context.bezierCurveTo(i+o,r+o*e,s-o,a-o*t,s,a)}function hT(n){this._context=n}hT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:RM(this,this._t0,Cz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,RM(this,Cz(this,t=bz(this,n,e)),t);break;default:RM(this,this._t0,t=bz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function c9(n){this._context=new d9(n)}(c9.prototype=Object.create(hT.prototype)).point=function(n,e){hT.prototype.point.call(this,e,n)};function d9(n){this._context=n}d9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function $be(n){return new hT(n)}function jbe(n){return new c9(n)}function f9(n){this._context=n}f9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=Bz(n),r=Bz(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Bz(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),a=new Array(t);for(r[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,a[e]-=i*a[e-1];for(r[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(a[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function Wbe(n){return new f9(n)}function $1(n,e){this._context=n,this._t=e}$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function Ybe(n){return new $1(n,.5)}function Xbe(n){return new $1(n,0)}function Jbe(n){return new $1(n,1)}function Yv(n,e){if((a=n.length)>1)for(var t=1,i,r,s=n[e[0]],a,o=s.length;t<a;++t)for(r=s,s=n[e[t]],i=0;i<o;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function vL(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Zbe(n,e){return n[e]}function eCe(n){const e=[];return e.key=n,e}function tCe(){var n=bn([]),e=vL,t=Yv,i=Zbe;function r(s){var a=Array.from(n.apply(this,arguments),eCe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+i(h,a[o].key,u,s)]).data=h;for(o=0,d=XQ(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:bn(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:bn(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?vL:typeof s=="function"?s:bn(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??Yv,r):t},r}function nCe(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,a;r<s;++r){for(a=t=0;t<i;++t)a+=n[t][r][1]||0;if(a)for(t=0;t<i;++t)n[t][r][1]/=a}Yv(n,e)}}function iCe(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var a=0,o=0;a<r;++a)o+=n[a][t][1]||0;i[t][1]+=i[t][0]=-o/2}Yv(n,e)}}function rCe(n,e){if(!(!((a=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,a;i<s;++i){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[i][1]||0,g=d[i-1][1]||0,v=(h-g)/2,b=0;b<o;++b){var C=n[e[b]],E=C[i][1]||0,x=C[i-1][1]||0;v+=E-x}l+=h,u+=v*h}r[i-1][1]+=r[i-1][0]=t,l&&(t-=u/l)}r[i-1][1]+=r[i-1][0]=t,Yv(n,e)}}var DM={},NM={},Ez;function sCe(){return Ez||(Ez=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(NM)),NM}var LM={},Sz;function h9(){return Sz||(Sz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(LM)),LM}var QM={},xz;function ZQ(){return xz||(xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;return typeof t=="string"||typeof t=="symbol"?t:Object.is((i=t==null?void 0:t.valueOf)==null?void 0:i.call(t),-0)?"-0":String(t)}n.toKey=e})(QM)),QM}var kM={},OM={},_z;function aCe(){return _z||(_z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const i=String(t);return i==="0"&&Object.is(Number(t),-0)?"-0":i}n.toString=e})(OM)),OM}var Tz;function ek(){return Tz||(Tz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=aCe(),t=ZQ();function i(r){if(Array.isArray(r))return r.map(t.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const s=[],a=r.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(r.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=r[o];u?h==="\\"&&o+1<a?(o++,l+=r[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=i})(kM)),kM}var Iz;function tk(){return Iz||(Iz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=sCe(),t=h9(),i=ZQ(),r=ek();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,r.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=i.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(DM)),DM}var HM,Fz;function oCe(){return Fz||(Fz=1,HM=tk().get),HM}var ACe=oCe();const Xv=_A(ACe);var na=n=>n===0?0:n>0?1:-1,CA=n=>typeof n=="number"&&n!=+n,fu=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,tt=n=>(typeof n=="number"||n instanceof Number)&&!CA(n),BA=n=>tt(n)||typeof n=="string",lCe=0,Ow=n=>{var e=++lCe;return"".concat(n||"").concat(e)},To=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(e)&&typeof e!="string")return i;var s;if(fu(e)){if(t==null)return i;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return CA(s)&&(s=i),r&&t!=null&&s>t&&(s=t),s},p9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},i=0;i<e;i++)if(!t[n[i]])t[n[i]]=!0;else return!0;return!1};function dr(n,e,t){return tt(n)&&tt(e)?n+t*(e-n):e}function uCe(n,e,t){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):Xv(i,e))===t)}var ji=n=>n===null||typeof n>"u",OB=n=>ji(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function cCe(n){return n!=null}function HB(){}var dCe=["type","size","sizeType"];function yL(){return yL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yL.apply(null,arguments)}function Uz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Mz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(t),!0).forEach(function(i){fCe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Uz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function fCe(n,e,t){return(e=hCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hCe(n){var e=pCe(n,"string");return typeof e=="symbol"?e:e+""}function pCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gCe(n,e){if(n==null)return{};var t,i,r=mCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function mCe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var g9={symbolCircle:JQ,symbolCross:Ube,symbolDiamond:Pbe,symbolSquare:Rbe,symbolStar:Qbe,symbolTriangle:kbe,symbolWye:Hbe},vCe=Math.PI/180,yCe=n=>{var e="symbol".concat(OB(n));return g9[e]||JQ},wCe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*vCe;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},bCe=(n,e)=>{g9["symbol".concat(OB(n))]=e},m9=n=>{var{type:e="circle",size:t=64,sizeType:i="area"}=n,r=gCe(n,dCe),s=Mz(Mz({},r),{},{type:e,size:t,sizeType:i}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=yCe(a),v=Vbe().type(g).size(wCe(t,i,a)),b=v();if(b!==null)return b},{className:l,cx:u,cy:d}=s,h=Xa(s);return tt(u)&&tt(d)&&tt(t)?M.createElement("path",yL({},h,{className:In("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};m9.registerSymbol=bCe;var v9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,CCe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(M.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var i={};return Object.keys(t).forEach(r=>{jQ(r)&&(i[r]=(s=>t[r](t,s)))}),i},BCe=(n,e,t)=>i=>(n(e,t,i),null),nk=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];jQ(r)&&typeof s=="function"&&(i||(i={}),i[r]=BCe(s,e,t))}),i};function Pz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ECe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(t),!0).forEach(function(i){SCe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Pz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SCe(n,e,t){return(e=xCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xCe(n){var e=_Ce(n,"string");return typeof e=="symbol"?e:e+""}function _Ce(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eo(n,e){var t=ECe({},n),i=e,r=Object.keys(e),s=r.reduce((a,o)=>(a[o]===void 0&&i[o]!==void 0&&(a[o]=i[o]),a),t);return s}var VM={},KM={},Rz;function TCe(){return Rz||(Rz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){const r=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=i(a);r.has(o)||r.set(o,a)}return Array.from(r.values())}n.uniqBy=e})(KM)),KM}var GM={},Dz;function y9(){return Dz||(Dz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(GM)),GM}var zM={},qM={},$M={},Nz;function ICe(){return Nz||(Nz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})($M)),$M}var Lz;function ik(){return Lz||(Lz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ICe();function t(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=t})(qM)),qM}var jM={},Qz;function FCe(){return Qz||(Qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(jM)),jM}var kz;function UCe(){return kz||(kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ik(),t=FCe();function i(r){return t.isObjectLike(r)&&e.isArrayLike(r)}n.isArrayLikeObject=i})(zM)),zM}var WM={},YM={},Oz;function MCe(){return Oz||(Oz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=tk();function t(i){return function(r){return e.get(r,i)}}n.property=t})(YM)),YM}var XM={},JM={},ZM={},eP={},Hz;function w9(){return Hz||(Hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(eP)),eP}var tP={},Vz;function b9(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(tP)),tP}var nP={},Kz;function C9(){return Kz||(Kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return t===i||Number.isNaN(t)&&Number.isNaN(i)}n.eq=e})(nP)),nP}var Gz;function PCe(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=w9(),t=b9(),i=C9();function r(d,h,g){return typeof g!="function"?r(d,h,()=>{}):s(d,h,function v(b,C,E,x,I,T){const R=g(b,C,E,x,I,T);return R!==void 0?!!R:s(b,C,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):i.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const b=Object.keys(h);if(d==null)return b.length===0;if(b.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let C=0;C<b.length;C++){const E=b[C];if(!t.isPrimitive(d)&&!(E in d)||h[E]===void 0&&d[E]!==void 0||h[E]===null&&d[E]!==null||!g(d[E],h[E],E,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,C]of h.entries()){const E=d.get(b);if(g(E,C,b,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let C=0;C<h.length;C++){const E=h[C];let x=!1;for(let I=0;I<d.length;I++){if(b.has(I))continue;const T=d[I];let R=!1;if(g(T,E,C,d,h,v)&&(R=!0),R){b.add(I),x=!0;break}}if(!x)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=r,n.isSetMatch=u})(ZM)),ZM}var zz;function B9(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=PCe();function t(i,r){return e.isMatchWith(i,r,()=>{})}n.isMatch=t})(JM)),JM}var iP={},rP={},sP={},qz;function RCe(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(i=>Object.prototype.propertyIsEnumerable.call(t,i))}n.getSymbols=e})(sP)),sP}var aP={},$z;function E9(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(aP)),aP}var oP={},jz;function S9(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",C="[object DataView]",E="[object Uint8Array]",x="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",R="[object BigUint64Array]",P="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",H="[object BigInt64Array]",k="[object Float32Array]",K="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=R,n.booleanTag=r,n.dataViewTag=C,n.dateTag=o,n.errorTag=b,n.float32ArrayTag=k,n.float64ArrayTag=K,n.functionTag=h,n.int16ArrayTag=D,n.int32ArrayTag=L,n.int8ArrayTag=P,n.mapTag=l,n.numberTag=i,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=E,n.uint8ClampedArrayTag=x})(oP)),oP}var AP={},Wz;function DCe(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(AP)),AP}var Yz;function x9(){return Yz||(Yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=RCe(),t=E9(),i=S9(),r=b9(),s=DCe();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,b=void 0){const C=b==null?void 0:b(d,h,g,v);if(C!==void 0)return C;if(r.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const E=new Array(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,b);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;v.set(d,E);for(const[x,I]of d)E.set(x,o(I,x,g,v,b));return E}if(d instanceof Set){const E=new Set;v.set(d,E);for(const x of d)E.add(o(x,void 0,g,v,b));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,b);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,E),l(E,d,g,v,b),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return v.set(d,E),l(E,d,g,v,b),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof Error){const E=new d.constructor;return v.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,l(E,d,g,v,b),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof Number){const E=new Number(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof String){const E=new String(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(typeof d=="object"&&u(d)){const E=Object.create(Object.getPrototypeOf(d));return v.set(d,E),l(E,d,g,v,b),E}return d}function l(d,h,g=d,v,b){const C=[...Object.keys(h),...e.getSymbols(h)];for(let E=0;E<C.length;E++){const x=C[E],I=Object.getOwnPropertyDescriptor(d,x);(I==null||I.writable)&&(d[x]=o(h[x],x,g,v,b))}}function u(d){switch(t.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(rP)),rP}var Xz;function NCe(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x9();function t(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=t})(iP)),iP}var Jz;function LCe(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=B9(),t=NCe();function i(r){return r=t.cloneDeep(r),s=>e.isMatch(s,r)}n.matches=i})(XM)),XM}var lP={},uP={},cP={},Zz;function QCe(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x9(),t=S9();function i(r,s){return e.cloneDeepWith(r,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new r.constructor(r==null?void 0:r.valueOf());return e.copyProperties(h,r),h}case t.argumentsTag:{const h={};return e.copyProperties(h,r),h.length=r.length,h[Symbol.iterator]=r[Symbol.iterator],h}default:return}})}n.cloneDeepWith=i})(cP)),cP}var eq;function kCe(){return eq||(eq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=QCe();function t(i){return e.cloneDeepWith(i)}n.cloneDeep=t})(uP)),uP}var dP={},fP={},tq;function _9(){return tq||(tq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=t})(fP)),fP}var hP={},nq;function OCe(){return nq||(nq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=E9();function t(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=t})(hP)),hP}var iq;function HCe(){return iq||(iq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=h9(),t=_9(),i=OCe(),r=ek();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=r.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||i.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(dP)),dP}var rq;function VCe(){return rq||(rq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=B9(),t=ZQ(),i=kCe(),r=tk(),s=HCe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=i.cloneDeep(l),function(u){const d=r.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(lP)),lP}var sq;function KCe(){return sq||(sq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=y9(),t=MCe(),i=LCe(),r=VCe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?r.matchesProperty(a[0],a[1]):i.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(WM)),WM}var aq;function GCe(){return aq||(aq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=TCe(),t=y9(),i=UCe(),r=KCe();function s(a,o=t.identity){return i.isArrayLikeObject(a)?e.uniqBy(Array.from(a),r.iteratee(o)):[]}n.uniqBy=s})(VM)),VM}var pP,oq;function zCe(){return oq||(oq=1,pP=GCe().uniqBy),pP}var qCe=zCe();const Aq=_A(qCe);function $Ce(n,e,t){return e===!0?Aq(n,t):typeof e=="function"?Aq(n,e):n}var gP={exports:{}},mP={},vP={exports:{}},yP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lq;function jCe(){if(lq)return yP;lq=1;var n=ly();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),b=i({inst:{value:v,getSnapshot:g}}),C=b[0].inst,E=b[1];return s(function(){C.value=v,C.getSnapshot=g,l(C)&&E({inst:C})},[h,v,g]),r(function(){return l(C)&&E({inst:C}),h(function(){l(C)&&E({inst:C})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return yP.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,yP}var uq;function WCe(){return uq||(uq=1,vP.exports=jCe()),vP.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cq;function YCe(){if(cq)return mP;cq=1;var n=ly(),e=WCe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return mP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var b=s(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=o(function(){function x(D){if(!I){if(I=!0,T=D,D=g(D),v!==void 0&&C.hasValue){var L=C.value;if(v(L,D))return R=L}return R=D}if(L=R,i(T,D))return L;var H=g(D);return v!==void 0&&v(L,H)?(T=D,L):(T=D,R=H)}var I=!1,T,R,P=h===void 0?null:h;return[function(){return x(d())},P===null?void 0:function(){return x(P())}]},[d,h,g,v]);var E=r(u,b[0],b[1]);return a(function(){C.hasValue=!0,C.value=E},[E]),l(E),E},mP}var dq;function XCe(){return dq||(dq=1,gP.exports=YCe()),gP.exports}var JCe=XCe(),rk=M.createContext(null),ZCe=n=>n,ai=()=>{var n=M.useContext(rk);return n?n.store.dispatch:ZCe},F_=()=>{},eBe=()=>F_,tBe=(n,e)=>n===e;function Je(n){var e=M.useContext(rk);return JCe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:eBe,e?e.store.getState:F_,e?e.store.getState:F_,e?n:F_,tBe)}function nBe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function iBe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function rBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var fq=n=>Array.isArray(n)?n:[n];function sBe(n){const e=Array.isArray(n[0])?n[0]:n;return rBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function aBe(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}var oBe=class{constructor(n){this.value=n}deref(){return this.value}},ABe=typeof WeakRef<"u"?WeakRef:oBe,lBe=0,hq=1;function lx(){return{s:lBe,v:void 0,o:null,p:null}}function T9(n,e={}){let t=lx();const{resultEqualityCheck:i}=e;let r,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let C=o.o;C===null&&(o.o=C=new WeakMap);const E=C.get(b);E===void 0?(o=lx(),C.set(b,o)):o=E}else{let C=o.p;C===null&&(o.p=C=new Map);const E=C.get(b);E===void 0?(o=lx(),C.set(b,o)):o=E}}const u=o;let d;if(o.s===hq)d=o.v;else if(d=n.apply(null,arguments),s++,i){const g=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;g!=null&&i(g,d)&&(d=g,s!==0&&s--),r=typeof d=="object"&&d!==null||typeof d=="function"?new ABe(d):d}return u.s=hq,u.v=d,d}return a.clearCache=()=>{t=lx(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function uBe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,a=0,o,l={},u=r.pop();typeof u=="object"&&(l=u,u=r.pop()),nBe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=T9,argsMemoizeOptions:b=[]}=d,C=fq(g),E=fq(b),x=sBe(r),I=h(function(){return s++,u.apply(null,arguments)},...C),T=v(function(){a++;const P=aBe(x,arguments);return o=I.apply(null,P),o},...E);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(i,{withTypes:()=>i}),i}var Ae=uBe(T9),cBe=Object.assign((n,e=Ae)=>{iBe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>cBe}),wP={},bP={},CP={},pq;function dBe(){return pq||(pq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const t=(i,r,s)=>{if(i!==r){const a=e(i),o=e(r);if(a===o&&a===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(CP)),CP}var BP={},EP={},gq;function I9(){return gq||(gq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(EP)),EP}var mq;function fBe(){return mq||(mq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=I9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=r})(BP)),BP}var vq;function hBe(){return vq||(vq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dBe(),t=fBe(),i=ek();function r(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,b)=>{let C=v;for(let E=0;E<b.length&&C!=null;++E)C=C[b[E]];return C},d=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:u(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?u(b,v):typeof b=="object"?b[v]:b,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:i.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(b=>d(b,v))})).slice().sort((v,b)=>{for(let C=0;C<h.length;C++){const E=e.compareValues(v.criteria[C],b.criteria[C],o[C]);if(E!==0)return E}return 0}).map(v=>v.original)}n.orderBy=r})(bP)),bP}var SP={},yq;function pBe(){return yq||(yq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i=1){const r=[],s=Math.floor(i),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):r.push(d)}};return a(t,0),r}n.flatten=e})(SP)),SP}var xP={},wq;function F9(){return wq||(wq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_9(),t=ik(),i=w9(),r=C9();function s(a,o,l){return i.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?r.eq(l[o],a):!1}n.isIterateeCall=s})(xP)),xP}var bq;function gBe(){return bq||(bq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=hBe(),t=pBe(),i=F9();function r(s,...a){const o=a.length;return o>1&&i.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&i.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=r})(wP)),wP}var _P,Cq;function mBe(){return Cq||(Cq=1,_P=gBe().sortBy),_P}var vBe=mBe();const j1=_A(vBe);var U9=n=>n.legend.settings,yBe=n=>n.legend.size,wBe=n=>n.legend.payload;Ae([wBe,U9],(n,e)=>{var{itemSorter:t}=e,i=n.flat(1);return t?j1(i,t):i});var ux=1;function bBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=M.useState({height:0,left:0,top:0,width:0}),i=M.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>ux||Math.abs(a.left-e.left)>ux||Math.abs(a.top-e.top)>ux||Math.abs(a.width-e.width)>ux)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function Ar(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var CBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bq=CBe,TP=()=>Math.random().toString(36).substring(7).split("").join("."),BBe={INIT:`@@redux/INIT${TP()}`,REPLACE:`@@redux/REPLACE${TP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${TP()}`},pT=BBe;function sk(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function M9(n,e,t){if(typeof n!="function")throw new Error(Ar(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ar(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ar(1));return t(M9)(n,e)}let i=n,r=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((E,x)=>{a.set(x,E)}))}function d(){if(l)throw new Error(Ar(3));return r}function h(E){if(typeof E!="function")throw new Error(Ar(4));if(l)throw new Error(Ar(5));let x=!0;u();const I=o++;return a.set(I,E),function(){if(x){if(l)throw new Error(Ar(6));x=!1,u(),a.delete(I),s=null}}}function g(E){if(!sk(E))throw new Error(Ar(7));if(typeof E.type>"u")throw new Error(Ar(8));if(typeof E.type!="string")throw new Error(Ar(17));if(l)throw new Error(Ar(9));try{l=!0,r=i(r,E)}finally{l=!1}return(s=a).forEach(I=>{I()}),E}function v(E){if(typeof E!="function")throw new Error(Ar(10));i=E,g({type:pT.REPLACE})}function b(){const E=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Ar(11));function I(){const R=x;R.next&&R.next(d())}return I(),{unsubscribe:E(I)}},[Bq](){return this}}}return g({type:pT.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[Bq]:b}}function EBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:pT.INIT})>"u")throw new Error(Ar(12));if(typeof t(void 0,{type:pT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ar(13))})}function P9(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const i=Object.keys(t);let r;try{EBe(t)}catch(s){r=s}return function(a={},o){if(r)throw r;let l=!1;const u={};for(let d=0;d<i.length;d++){const h=i[d],g=t[h],v=a[h],b=g(v,o);if(typeof b>"u")throw o&&o.type,new Error(Ar(14));u[h]=b,l=l||b!==v}return l=l||i.length!==Object.keys(a).length,l?u:a}}function gT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function SBe(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(Ar(15))};const a={getState:r.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=gT(...o)(r.dispatch),{...r,dispatch:s}}}function R9(n){return sk(n)&&"type"in n&&typeof n.type=="string"}var D9=Symbol.for("immer-nothing"),Eq=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function Bo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ia=Object,Jv=ia.getPrototypeOf,mT="constructor",W1="prototype",wL="configurable",vT="enumerable",U_="writable",Hw="value",hu=n=>!!n&&!!n[jr];function Io(n){var e;return n?N9(n)||Y1(n)||!!n[Eq]||!!((e=n[mT])!=null&&e[Eq])||X1(n)||J1(n):!1}var xBe=ia[W1][mT].toString(),Sq=new WeakMap;function N9(n){if(!n||!ak(n))return!1;const e=Jv(n);if(e===null||e===ia[W1])return!0;const t=ia.hasOwnProperty.call(e,mT)&&e[mT];if(t===Object)return!0;if(!Fg(t))return!1;let i=Sq.get(t);return i===void 0&&(i=Function.toString.call(t),Sq.set(t,i)),i===xBe}function VB(n,e,t=!0){KB(n)===0?(t?Reflect.ownKeys(n):ia.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function KB(n){const e=n[jr];return e?e.type_:Y1(n)?1:X1(n)?2:J1(n)?3:0}var xq=(n,e,t=KB(n))=>t===2?n.has(e):ia[W1].hasOwnProperty.call(n,e),bL=(n,e,t=KB(n))=>t===2?n.get(e):n[e],yT=(n,e,t,i=KB(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function _Be(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Y1=Array.isArray,X1=n=>n instanceof Map,J1=n=>n instanceof Set,ak=n=>typeof n=="object",Fg=n=>typeof n=="function",IP=n=>typeof n=="boolean",il=n=>n.copy_||n.base_,ok=n=>n.modified_?n.copy_:n.base_;function CL(n,e){if(X1(n))return new Map(n);if(J1(n))return new Set(n);if(Y1(n))return Array[W1].slice.call(n);const t=N9(n);if(e===!0||e==="class_only"&&!t){const i=ia.getOwnPropertyDescriptors(n);delete i[jr];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o[U_]===!1&&(o[U_]=!0,o[wL]=!0),(o.get||o.set)&&(i[a]={[wL]:!0,[U_]:!0,[vT]:o[vT],[Hw]:n[a]})}return ia.create(Jv(n),i)}else{const i=Jv(n);if(i!==null&&t)return{...n};const r=ia.create(i);return ia.assign(r,n)}}function Ak(n,e=!1){return Z1(n)||hu(n)||!Io(n)||(KB(n)>1&&ia.defineProperties(n,{set:cx,add:cx,clear:cx,delete:cx}),ia.freeze(n),e&&VB(n,(t,i)=>{Ak(i,!0)},!1)),n}function TBe(){Bo(2)}var cx={[Hw]:TBe};function Z1(n){return n===null||!ak(n)?!0:ia.isFrozen(n)}var wT="MapSet",BL="Patches",L9={};function Zv(n){const e=L9[n];return e||Bo(0,n),e}var IBe=n=>!!L9[n],Vw,Q9=()=>Vw,FBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:IBe(wT)?Zv(wT):void 0});function _q(n,e){e&&(n.patchPlugin_=Zv(BL),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function EL(n){SL(n),n.drafts_.forEach(UBe),n.drafts_=null}function SL(n){n===Vw&&(Vw=n.parent_)}var Tq=n=>Vw=FBe(Vw,n);function UBe(n){const e=n[jr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Iq(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[jr].modified_&&(EL(e),Bo(4)),Io(n)&&(n=Fq(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[jr].base_,n,e)}else n=Fq(e,t);return MBe(e,n,!0),EL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==D9?n:void 0}function Fq(n,e){if(Z1(e))return e;const t=e[jr];if(!t)return lk(e,n.handledSet_,n);if(!eI(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);H9(t,n)}return t.copy_}function MBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Ak(e,t)}function k9(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var eI=(n,e)=>n.scope_===e,PBe=[];function O9(n,e,t,i){const r=il(n),s=n.type_;if(i!==void 0&&bL(r,i,s)===e){yT(r,i,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;VB(r,(l,u)=>{if(hu(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??PBe;for(const o of a)yT(r,o,t,s)}function RBe(n,e,t){n.callbacks_.push(function(r){var o;const s=e;if(!s||!eI(s,r))return;(o=r.mapSetPlugin_)==null||o.fixSetContents(s);const a=ok(s);O9(n,s.draft_??s,a,t),H9(s,r)})}function H9(n,e){var i;if(n.modified_&&!n.finalized_&&(n.type_===3||(((i=n.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:r}=e;if(r){const s=r.getPath(n);s&&r.generatePatches_(n,s,e)}k9(n)}}function DBe(n,e,t){const{scope_:i}=n;if(hu(t)){const r=t[jr];eI(r,i)&&r.callbacks_.push(function(){M_(n);const a=ok(r);O9(n,t,a,e)})}else Io(t)&&n.callbacks_.push(function(){const s=il(n);bL(s,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&lk(bL(n.copy_,e,n.type_),i.handledSet_,i)})}function lk(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||hu(n)||e.has(n)||!Io(n)||Z1(n)||(e.add(n),VB(n,(i,r)=>{if(hu(r)){const s=r[jr];if(eI(s,t)){const a=ok(s);yT(n,i,a,n.type_),k9(s)}}else Io(r)&&lk(r,e,t)})),n}function NBe(n,e){const t=Y1(n),i={type_:t?1:0,scope_:e?e.scope_:Q9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=uk;t&&(r=[i],s=Kw);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,[o,i]}var uk={get(n,e){if(e===jr)return n;const t=il(n);if(!xq(t,e,n.type_))return LBe(n,t,e);const i=t[e];if(n.finalized_||!Io(i))return i;if(i===FP(n.base_,e)){M_(n);const r=n.type_===1?+e:e,s=_L(n.scope_,i,n,r);return n.copy_[r]=s}return i},has(n,e){return e in il(n)},ownKeys(n){return Reflect.ownKeys(il(n))},set(n,e,t){const i=V9(il(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=FP(il(n),e),s=r==null?void 0:r[jr];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(_Be(t,r)&&(t!==void 0||xq(n.base_,e,n.type_)))return!0;M_(n),xL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),DBe(n,e,t)),!0},deleteProperty(n,e){return M_(n),FP(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),xL(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=il(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[U_]:!0,[wL]:n.type_!==1||e!=="length",[vT]:i[vT],[Hw]:t[e]}},defineProperty(){Bo(11)},getPrototypeOf(n){return Jv(n.base_)},setPrototypeOf(){Bo(12)}},Kw={};VB(uk,(n,e)=>{Kw[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});Kw.deleteProperty=function(n,e){return Kw.set.call(this,n,e,void 0)};Kw.set=function(n,e,t){return uk.set.call(this,n[0],e,t,n[0])};function FP(n,e){const t=n[jr];return(t?il(t):n)[e]}function LBe(n,e,t){var r;const i=V9(e,t);return i?Hw in i?i[Hw]:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function V9(n,e){if(!(e in n))return;let t=Jv(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Jv(t)}}function xL(n){n.modified_||(n.modified_=!0,n.parent_&&xL(n.parent_))}function M_(n){n.copy_||(n.assigned_=new Map,n.copy_=CL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var QBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,i,r)=>{if(Fg(t)&&!Fg(i)){const a=i;i=t;const o=this;return function(u=a,...d){return o.produce(u,h=>i.call(this,h,...d))}}Fg(i)||Bo(6),r!==void 0&&!Fg(r)&&Bo(7);let s;if(Io(t)){const a=Tq(this),o=_L(a,t,void 0);let l=!0;try{s=i(o),l=!1}finally{l?EL(a):SL(a)}return _q(a,r),Iq(s,a)}else if(!t||!ak(t)){if(s=i(t),s===void 0&&(s=t),s===D9&&(s=void 0),this.autoFreeze_&&Ak(s,!0),r){const a=[],o=[];Zv(BL).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),r(a,o)}return s}else Bo(1,t)},this.produceWithPatches=(t,i)=>{if(Fg(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,s;return[this.produce(t,i,(o,l)=>{r=o,s=l}),r,s]},IP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),IP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),IP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Io(e)||Bo(8),hu(e)&&(e=_o(e));const t=Tq(this),i=_L(t,e,void 0);return i[jr].isManual_=!0,SL(t),i}finishDraft(e,t){const i=e&&e[jr];(!i||!i.isManual_)&&Bo(9);const{scope_:r}=i;return _q(r,t),Iq(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const s=t[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(t=t.slice(i+1));const r=Zv(BL).applyPatches_;return hu(e)?r(e,t):this.produce(e,s=>r(s,t))}};function _L(n,e,t,i){const[r,s]=X1(e)?Zv(wT).proxyMap_(e,t):J1(e)?Zv(wT).proxySet_(e,t):NBe(e,t);return((t==null?void 0:t.scope_)??Q9()).drafts_.push(r),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=i,t&&i!==void 0?RBe(t,s,i):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),r}function _o(n){return hu(n)||Bo(10,n),K9(n)}function K9(n){if(!Io(n)||Z1(n))return n;const e=n[jr];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=CL(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=CL(n,!0);return VB(t,(r,s)=>{yT(t,r,K9(s))},i),e&&(e.finalized_=!1),t}var kBe=new QBe,G9=kBe.produce;function z9(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var OBe=z9(),HBe=z9,VBe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gT:gT.apply(null,arguments)};function Ja(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(ra(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>R9(i)&&i.type===n,t}var q9=class mw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,mw.prototype)}static get[Symbol.species](){return mw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new mw(...e[0].concat(this)):new mw(...e.concat(this))}};function Uq(n){return Io(n)?G9(n,()=>{}):n}function dx(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function KBe(n){return typeof n=="boolean"}var GBe=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let a=new q9;return t&&(KBe(t)?a.push(OBe):a.push(HBe(t.extraArgument))),a},$9="RTK_autoBatch",Rn=()=>n=>({payload:n,meta:{[$9]:!0}}),Mq=n=>e=>{setTimeout(e,n)},j9=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Mq(10):n.type==="callback"?n.queueNotification:Mq(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const h=()=>r&&d(),g=i.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[$9]),s=!r,s&&(a||(a=!0,l(u))),i.dispatch(d)}finally{r=!0}}})},zBe=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new q9(n);return i&&r.push(j9(typeof i=="object"?i:void 0)),r};function qBe(n){const e=GBe(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(sk(t))o=P9(t);else throw new Error(ra(1));let l;typeof i=="function"?l=i(e):l=e();let u=gT;r&&(u=VBe({trace:!1,...typeof r=="object"&&r}));const d=SBe(...l),h=zBe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return M9(o,s,v)}function W9(n){const e={},t=[];let i;const r={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ra(28));if(o in e)throw new Error(ra(29));return e[o]=a,r},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),r},addMatcher(s,a){return t.push({matcher:s,reducer:a}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function $Be(n){return typeof n=="function"}function jBe(n,e){let[t,i,r]=W9(e),s;if($Be(n))s=()=>Uq(n());else{const o=Uq(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...i.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[r]),u.reduce((d,h)=>{if(h)if(hu(d)){const v=h(d,l);return v===void 0?d:v}else{if(Io(d))return G9(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var WBe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",YBe=(n=21)=>{let e="",t=n;for(;t--;)e+=WBe[Math.random()*64|0];return e},XBe=Symbol.for("rtk-slice-createasyncthunk");function JBe(n,e){return`${n}/${e}`}function ZBe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[XBe];return function(r){const{name:s,reducerPath:a=s}=r;if(!s)throw new Error(ra(11));const o=(typeof r.reducers=="function"?r.reducers(tEe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,P){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(ra(12));if(D in u.sliceCaseReducersByType)throw new Error(ra(13));return u.sliceCaseReducersByType[D]=P,d},addMatcher(R,P){return u.sliceMatchers.push({matcher:R,reducer:P}),d},exposeAction(R,P){return u.actionCreators[R]=P,d},exposeCaseReducer(R,P){return u.sliceCaseReducersByName[R]=P,d}};l.forEach(R=>{const P=o[R],D={reducerName:R,type:JBe(s,R),createNotation:typeof r.reducers=="function"};iEe(P)?sEe(D,P,d,e):nEe(D,P,d)});function h(){const[R={},P=[],D=void 0]=typeof r.extraReducers=="function"?W9(r.extraReducers):[r.extraReducers],L={...R,...u.sliceCaseReducersByType};return jBe(r.initialState,H=>{for(let k in L)H.addCase(k,L[k]);for(let k of u.sliceMatchers)H.addMatcher(k.matcher,k.reducer);for(let k of P)H.addMatcher(k.matcher,k.reducer);D&&H.addDefaultCase(D)})}const g=R=>R,v=new Map,b=new WeakMap;let C;function E(R,P){return C||(C=h()),C(R,P)}function x(){return C||(C=h()),C.getInitialState()}function I(R,P=!1){function D(H){let k=H[R];return typeof k>"u"&&P&&(k=dx(b,D,x)),k}function L(H=g){const k=dx(v,P,()=>new WeakMap);return dx(k,H,()=>{const K={};for(const[V,q]of Object.entries(r.selectors??{}))K[V]=eEe(q,H,()=>dx(b,H,x),P);return K})}return{reducerPath:R,getSelectors:L,get selectors(){return L(D)},selectSlice:D}}const T={name:s,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...I(a),injectInto(R,{reducerPath:P,...D}={}){const L=P??a;return R.inject({reducerPath:L,reducer:E},D),{...T,...I(L,!0)}}};return T}}function eEe(n,e,t,i){function r(s,...a){let o=e(s);return typeof o>"u"&&i&&(o=t()),n(o,...a)}return r.unwrapped=n,r}var bs=ZBe();function tEe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function nEe({type:n,reducerName:e,createNotation:t},i,r){let s,a;if("reducer"in i){if(t&&!rEe(i))throw new Error(ra(17));s=i.reducer,a=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?Ja(n,a):Ja(n))}function iEe(n){return n._reducerDefinitionType==="asyncThunk"}function rEe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function sEe({type:n,reducerName:e},t,i,r){if(!r)throw new Error(ra(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=r(n,s,d);i.exposeAction(e,h),a&&i.addCase(h.fulfilled,a),o&&i.addCase(h.pending,o),l&&i.addCase(h.rejected,l),u&&i.addMatcher(h.settled,u),i.exposeCaseReducer(e,{fulfilled:a||fx,pending:o||fx,rejected:l||fx,settled:u||fx})}function fx(){}var aEe="task",Y9="listener",X9="completed",ck="cancelled",oEe=`task-${ck}`,AEe=`task-${X9}`,TL=`${Y9}-${ck}`,lEe=`${Y9}-${X9}`,tI=class{constructor(n){me(this,"name","TaskAbortError");me(this,"message");this.code=n,this.message=`${aEe} ${ck} (reason: ${n})`}},dk=(n,e)=>{if(typeof n!="function")throw new TypeError(ra(32))},bT=()=>{},J9=(n,e=bT)=>(n.catch(e),n),Z9=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),ip=n=>{if(n.aborted)throw new tI(n.reason)};function eJ(n,e){let t=bT;return new Promise((i,r)=>{const s=()=>r(new tI(n.reason));if(n.aborted){s();return}t=Z9(n,s),e.finally(()=>t()).then(i,r)}).finally(()=>{t=bT})}var uEe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof tI?"cancelled":"rejected",error:t}}finally{e==null||e()}},CT=n=>e=>J9(eJ(n,e).then(t=>(ip(n),t))),tJ=n=>{const e=CT(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:jg}=Object,Pq={},nI="listenerMiddleware",cEe=(n,e)=>{const t=i=>Z9(n,()=>i.abort(n.reason));return(i,r)=>{dk(i);const s=new AbortController;t(s);const a=uEe(async()=>{ip(n),ip(s.signal);const o=await i({pause:CT(s.signal),delay:tJ(s.signal),signal:s.signal});return ip(s.signal),o},()=>s.abort(AEe));return r!=null&&r.autoJoin&&e.push(a.catch(bT)),{result:CT(n)(a),cancel(){s.abort(oEe)}}}},dEe=(n,e)=>{const t=async(i,r)=>{ip(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:i,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];r!=null&&o.push(new Promise(l=>setTimeout(l,r,null)));try{const l=await eJ(e,Promise.race(o));return ip(e),l}finally{s()}};return(i,r)=>J9(t(i,r))},nJ=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:s}=n;if(e)r=Ja(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(ra(21));return dk(s),{predicate:r,type:e,effect:s}},iJ=jg(n=>{const{type:e,predicate:t,effect:i}=nJ(n);return{id:YBe(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(ra(22))}}},{withTypes:()=>iJ}),Rq=(n,e)=>{const{type:t,effect:i,predicate:r}=nJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===r)&&s.effect===i)},IL=n=>{n.pending.forEach(e=>{e.abort(TL)})},fEe=(n,e)=>()=>{for(const t of e.keys())IL(t);n.clear()},Dq=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},rJ=jg(Ja(`${nI}/add`),{withTypes:()=>rJ}),hEe=Ja(`${nI}/removeAll`),sJ=jg(Ja(`${nI}/remove`),{withTypes:()=>sJ}),pEe=(...n)=>{console.error(`${nI}/error`,...n)},GB=(n={})=>{const e=new Map,t=new Map,i=v=>{const b=t.get(v)??0;t.set(v,b+1)},r=v=>{const b=t.get(v)??1;b===1?t.delete(v):t.set(v,b-1)},{extra:s,onError:a=pEe}=n;dk(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b!=null&&b.cancelActive&&IL(v)}),l=v=>{const b=Rq(e,v)??iJ(v);return o(b)};jg(l,{withTypes:()=>l});const u=v=>{const b=Rq(e,v);return b&&(b.unsubscribe(),v.cancelActive&&IL(b)),!!b};jg(u,{withTypes:()=>u});const d=async(v,b,C,E)=>{const x=new AbortController,I=dEe(l,x.signal),T=[];try{v.pending.add(x),i(v),await Promise.resolve(v.effect(b,jg({},C,{getOriginalState:E,condition:(R,P)=>I(R,P).then(Boolean),take:I,delay:tJ(x.signal),pause:CT(x.signal),extra:s,signal:x.signal,fork:cEe(x.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,P,D)=>{R!==x&&(R.abort(TL),D.delete(R))})},cancel:()=>{x.abort(TL),v.pending.delete(x)},throwIfCancelled:()=>{ip(x.signal)}})))}catch(R){R instanceof tI||Dq(a,R,{raisedBy:"effect"})}finally{await Promise.all(T),x.abort(lEe),r(v),v.pending.delete(x)}},h=fEe(e,t);return{middleware:v=>b=>C=>{if(!R9(C))return b(C);if(rJ.match(C))return l(C.payload);if(hEe.match(C)){h();return}if(sJ.match(C))return u(C.payload);let E=v.getState();const x=()=>{if(E===Pq)throw new Error(ra(23));return E};let I;try{if(I=b(C),e.size>0){const T=v.getState(),R=Array.from(e.values());for(const P of R){let D=!1;try{D=P.predicate(C,T,E)}catch(L){D=!1,Dq(a,L,{raisedBy:"predicate"})}D&&d(P,C,v,x)}}}finally{E=Pq}return I},startListening:l,stopListening:u,clearListeners:h}};function ra(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var gEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},aJ=bs({name:"chartLayout",initialState:gEe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,i,r,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:mEe,setLayout:vEe,setChartSize:yEe,setScale:wEe}=aJ.actions,bEe=aJ.reducer;function oJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function Nq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Dg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nq(Object(t),!0).forEach(function(i){CEe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CEe(n,e,t){return(e=BEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BEe(n){var e=EEe(n,"string");return typeof e=="symbol"?e:e+""}function EEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Pr(n,e,t){return ji(n)||ji(e)?t:BA(e)?Xv(n,e,t):typeof e=="function"?e(n):t}var SEe=(n,e,t)=>{if(e&&t){var{width:i,height:r}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&tt(n[s]))return Dg(Dg({},n),{},{[s]:n[s]+(i||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&tt(n[a]))return Dg(Dg({},n),{},{[a]:n[a]+(r||0)})}return n},yp=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",Lq=1e-4,xEe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,i=n.range(),r=Math.min(i[0],i[1])-Lq,s=Math.max(i[0],i[1])+Lq,a=n(e[0]),o=n(e[t-1]);(a<r||a>s||o<r||o>s)&&n.domain([e[0],e[t-1]])}},_Ee=(n,e)=>{if(!e||e.length!==2||!tt(e[0])||!tt(e[1]))return n;var t=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[n[0],n[1]];return(!tt(n[0])||n[0]<t)&&(r[0]=t),(!tt(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<t&&(r[1]=t),r},TEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0,a=0;a<e;++a){var o=CA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=r,n[a][t][1]=r+o,r=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},IEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0;s<e;++s){var a=CA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=r,n[s][t][1]=r+a,r=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},FEe={sign:TEe,expand:nCe,none:Yv,silhouette:iCe,wiggle:rCe,positive:IEe},UEe=(n,e,t)=>{var i=FEe[t],r=tCe().keys(e).value((s,a)=>Number(Pr(s,a,0))).order(vL).offset(i);return r(n)};function MEe(n){return n==null?void 0:String(n)}var Qq=n=>{var{axis:e,ticks:t,offset:i,bandSize:r,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+i:null;var o=Pr(s,e.dataKey,e.scale.domain()[a]);return ji(o)?null:e.scale(o)-r/2+i},PEe=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i<=0&&r>=0?0:r<0?r:i}return t[0]},REe=n=>{var e=n.flat(2).filter(tt);return[Math.min(...e),Math.max(...e)]},DEe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],NEe=(n,e,t)=>{if(n!=null)return DEe(Object.keys(n).reduce((i,r)=>{var s=n[r],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=oJ(u,e,t),h=REe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]))},kq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Oq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!t||i>0)return i}if(n&&e&&e.length>=2){for(var r=j1(e,d=>d.coordinate),s=1/0,a=1,o=r.length;a<o;a++){var l=r[a],u=r[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function Hq(n){var{tooltipEntrySettings:e,dataKey:t,payload:i,value:r,name:s}=n;return Dg(Dg({},e),{},{dataKey:t,payload:i,value:r,name:s})}function AJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var LEe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},QEe=(n,e)=>e==="centric"?n.angle:n.radius,xu=n=>n.layout.width,_u=n=>n.layout.height,kEe=n=>n.layout.scale,lJ=n=>n.layout.margin,iI=Ae(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),rI=Ae(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),OEe="data-recharts-item-index",HEe="data-recharts-item-data-key",zB=60;function Vq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vq(Object(t),!0).forEach(function(i){VEe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VEe(n,e,t){return(e=KEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KEe(n){var e=GEe(n,"string");return typeof e=="symbol"?e:e+""}function GEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var zEe=n=>n.brush.height;function qEe(n){var e=rI(n);return e.reduce((t,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:zB;return t+r}return t},0)}function $Ee(n){var e=rI(n);return e.reduce((t,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:zB;return t+r}return t},0)}function jEe(n){var e=iI(n);return e.reduce((t,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?t+i.height:t,0)}function WEe(n){var e=iI(n);return e.reduce((t,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?t+i.height:t,0)}var Wi=Ae([xu,_u,lJ,zEe,qEe,$Ee,jEe,WEe,U9,yBe],(n,e,t,i,r,s,a,o,l,u)=>{var d={left:(t.left||0)+r,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=hx(hx({},h),d),v=g.bottom;g.bottom+=i,g=SEe(g,l,u);var b=n-g.left-g.right,C=e-g.top-g.bottom;return hx(hx({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(C,0)})}),YEe=Ae(Wi,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),fk=Ae(xu,_u,(n,e)=>({x:0,y:0,width:n,height:e})),XEe=M.createContext(null),Aa=()=>M.useContext(XEe)!=null,sI=n=>n.brush,aI=Ae([sI,Wi,lJ],(n,e,t)=>({height:n.height,x:tt(n.x)?n.x:e.left,y:tt(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:tt(n.width)?n.width:e.width})),UP={},MP={},PP={},Kq;function JEe(){return Kq||(Kq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i,{signal:r,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),C()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},i)},b=()=>{g!==null&&(clearTimeout(g),g=null)},C=()=>{b(),a=void 0,o=null},E=()=>{d()},x=function(...I){if(r!=null&&r.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return x.schedule=v,x.cancel=C,x.flush=E,r==null||r.addEventListener("abort",C,{once:!0}),x}n.debounce=e})(PP)),PP}var Gq;function ZEe(){return Gq||(Gq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=JEe();function t(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...C){d=i.apply(this,C),h=null},r,{edges:u}),v=function(...C){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=i.apply(this,C),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,C),d)},b=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=b,v}n.debounce=t})(MP)),MP}var zq;function eSe(){return zq||(zq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ZEe();function t(i,r=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(i,r,{leading:a,maxWait:r,trailing:o})}n.throttle=t})(UP)),UP}var RP,qq;function tSe(){return qq||(qq=1,RP=eSe().throttle),RP}var nSe=tSe();const iSe=_A(nSe);var $q=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>r[a++]))}},uJ=(n,e,t)=>{var{width:i="100%",height:r="100%",aspect:s,maxHeight:a}=t,o=fu(i)?n:Number(i),l=fu(r)?e:Number(r);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},rSe={width:0,height:0,overflow:"visible"},sSe={width:0,overflowX:"visible"},aSe={height:0,overflowY:"visible"},oSe={},ASe=n=>{var{width:e,height:t}=n,i=fu(e),r=fu(t);return i&&r?rSe:i?sSe:r?aSe:oSe};function lSe(n){var{width:e,height:t,aspect:i}=n,r=e,s=t;return r===void 0&&s===void 0?(r="100%",s="100%"):r===void 0?r=i&&i>0?void 0:"100%":s===void 0&&(s=i&&i>0?void 0:"100%"),{width:r,height:s}}function si(n){return Number.isFinite(n)}function Rd(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function FL(){return FL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},FL.apply(null,arguments)}function jq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Wq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(t),!0).forEach(function(i){uSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uSe(n,e,t){return(e=cSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cSe(n){var e=dSe(n,"string");return typeof e=="symbol"?e:e+""}function dSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cJ=M.createContext({width:-1,height:-1});function fSe(n){return Rd(n.width)&&Rd(n.height)}function dJ(n){var{children:e,width:t,height:i}=n,r=M.useMemo(()=>({width:t,height:i}),[t,i]);return fSe(r)?M.createElement(cJ.Provider,{value:r},e):null}var hk=()=>M.useContext(cJ),hSe=M.forwardRef((n,e)=>{var{aspect:t,initialDimension:i={width:-1,height:-1},width:r,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:b={}}=n,C=M.useRef(null),E=M.useRef();E.current=v,M.useImperativeHandle(e,()=>C.current);var[x,I]=M.useState({containerWidth:i.width,containerHeight:i.height}),T=M.useCallback((H,k)=>{I(K=>{var V=Math.round(H),q=Math.round(k);return K.containerWidth===V&&K.containerHeight===q?K:{containerWidth:V,containerHeight:q}})},[]);M.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return HB;var H=q=>{var X,{width:ne,height:he}=q[0].contentRect;T(ne,he),(X=E.current)===null||X===void 0||X.call(E,ne,he)};d>0&&(H=iSe(H,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(H),{width:K,height:V}=C.current.getBoundingClientRect();return T(K,V),k.observe(C.current),()=>{k.disconnect()}},[T,d]);var{containerWidth:R,containerHeight:P}=x;$q(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:L}=uJ(R,P,{width:r,height:s,aspect:t,maxHeight:l});return $q(D!=null&&D>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,L,r,s,a,o,t),M.createElement("div",{id:h?"".concat(h):void 0,className:In("recharts-responsive-container",g),style:Wq(Wq({},b),{},{width:r,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:C},M.createElement("div",{style:ASe({width:r,height:s})},M.createElement(dJ,{width:D,height:L},u)))}),pSe=M.forwardRef((n,e)=>{var t=hk();if(Rd(t.width)&&Rd(t.height))return n.children;var{width:i,height:r}=lSe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=uJ(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return tt(s)&&tt(a)?M.createElement(dJ,{width:s,height:a},n.children):M.createElement(hSe,FL({},n,{width:i,height:r,ref:e}))});function fJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var oI=()=>{var n,e=Aa(),t=Je(YEe),i=Je(aI),r=(n=Je(sI))===null||n===void 0?void 0:n.padding;return!e||!i||!r?t:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},gSe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mSe=()=>{var n;return(n=Je(Wi))!==null&&n!==void 0?n:gSe},vSe=()=>Je(xu),ySe=()=>Je(_u),Wt=n=>n.layout.layoutType,AI=()=>Je(Wt),wSe=()=>{var n=AI();return n!==void 0},lI=n=>{var e=ai(),t=Aa(),{width:i,height:r}=n,s=hk(),a=i,o=r;return s&&(a=s.width>0?s.width:i,o=s.height>0?s.height:r),M.useEffect(()=>{!t&&Rd(a)&&Rd(o)&&e(yEe({width:a,height:o}))},[e,t,a,o]),null},hJ=Symbol.for("immer-nothing"),Yq=Symbol.for("immer-draftable"),aa=Symbol.for("immer-state");function Eo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Gw=Object.getPrototypeOf;function ey(n){return!!n&&!!n[aa]}function up(n){var e;return n?pJ(n)||Array.isArray(n)||!!n[Yq]||!!((e=n.constructor)!=null&&e[Yq])||qB(n)||cI(n):!1}var bSe=Object.prototype.constructor.toString(),Xq=new WeakMap;function pJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=Xq.get(t);return i===void 0&&(i=Function.toString.call(t),Xq.set(t,i)),i===bSe}function ET(n,e,t=!0){uI(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function uI(n){const e=n[aa];return e?e.type_:Array.isArray(n)?1:qB(n)?2:cI(n)?3:0}function UL(n,e){return uI(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function gJ(n,e,t){const i=uI(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function CSe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function qB(n){return n instanceof Map}function cI(n){return n instanceof Set}function vf(n){return n.copy_||n.base_}function ML(n,e){if(qB(n))return new Map(n);if(cI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=pJ(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[aa];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(Gw(n),i)}else{const i=Gw(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function pk(n,e=!1){return dI(n)||ey(n)||!up(n)||(uI(n)>1&&Object.defineProperties(n,{set:px,add:px,clear:px,delete:px}),Object.freeze(n),e&&Object.values(n).forEach(t=>pk(t,!0))),n}function BSe(){Eo(2)}var px={value:BSe};function dI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var ESe={};function cp(n){const e=ESe[n];return e||Eo(0,n),e}var zw;function mJ(){return zw}function SSe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jq(n,e){e&&(cp("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function PL(n){RL(n),n.drafts_.forEach(xSe),n.drafts_=null}function RL(n){n===zw&&(zw=n.parent_)}function Zq(n){return zw=SSe(zw,n)}function xSe(n){const e=n[aa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function e5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[aa].modified_&&(PL(e),Eo(4)),up(n)&&(n=ST(e,n),e.parent_||xT(e,n)),e.patches_&&cp("Patches").generateReplacementPatches_(t[aa].base_,n,e.patches_,e.inversePatches_)):n=ST(e,t,[]),PL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==hJ?n:void 0}function ST(n,e,t){if(dI(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[aa];if(!r)return ET(e,(s,a)=>t5(n,r,e,s,a,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return xT(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,o=!1;r.type_===3&&(a=new Set(s),s.clear(),o=!0),ET(a,(l,u)=>t5(n,r,s,l,u,t,o),i),xT(n,s,!1),t&&n.patches_&&cp("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function t5(n,e,t,i,r,s,a){if(r==null||typeof r!="object"&&!a)return;const o=dI(r);if(!(o&&!a)){if(ey(r)){const l=s&&e&&e.type_!==3&&!UL(e.assigned_,i)?s.concat(i):void 0,u=ST(n,r,l);if(gJ(t,i,u),ey(u))n.canAutoFreeze_=!1;else return}else a&&t.add(r);if(up(r)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&o)return;ST(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(qB(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&xT(n,r)}}}function xT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&pk(e,t)}function _Se(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:mJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=gk;t&&(r=[i],s=qw);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,o}var gk={get(n,e){if(e===aa)return n;const t=vf(n);if(!UL(t,e))return TSe(n,t,e);const i=t[e];return n.finalized_||!up(i)?i:i===DP(n.base_,e)?(NP(n),n.copy_[e]=NL(i,n)):i},has(n,e){return e in vf(n)},ownKeys(n){return Reflect.ownKeys(vf(n))},set(n,e,t){const i=vJ(vf(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=DP(vf(n),e),s=r==null?void 0:r[aa];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(CSe(t,r)&&(t!==void 0||UL(n.base_,e)))return!0;NP(n),DL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return DP(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,NP(n),DL(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=vf(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Eo(11)},getPrototypeOf(n){return Gw(n.base_)},setPrototypeOf(){Eo(12)}},qw={};ET(gk,(n,e)=>{qw[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});qw.deleteProperty=function(n,e){return qw.set.call(this,n,e,void 0)};qw.set=function(n,e,t){return gk.set.call(this,n[0],e,t,n[0])};function DP(n,e){const t=n[aa];return(t?vf(t):n)[e]}function TSe(n,e,t){var r;const i=vJ(e,t);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function vJ(n,e){if(!(e in n))return;let t=Gw(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Gw(t)}}function DL(n){n.modified_||(n.modified_=!0,n.parent_&&DL(n.parent_))}function NP(n){n.copy_||(n.copy_=ML(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var ISe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&Eo(6),i!==void 0&&typeof i!="function"&&Eo(7);let r;if(up(e)){const s=Zq(this),a=NL(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?PL(s):RL(s)}return Jq(s,i),e5(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===hJ&&(r=void 0),this.autoFreeze_&&pk(r,!0),i){const s=[],a=[];cp("Patches").generateReplacementPatches_(e,r,s,a),i(s,a)}return r}else Eo(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let i,r;return[this.produce(e,t,(a,o)=>{i=a,r=o}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){up(n)||Eo(8),ey(n)&&(n=FSe(n));const e=Zq(this),t=NL(n,void 0);return t[aa].isManual_=!0,RL(e),t}finishDraft(n,e){const t=n&&n[aa];(!t||!t.isManual_)&&Eo(9);const{scope_:i}=t;return Jq(i,e),e5(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=cp("Patches").applyPatches_;return ey(n)?i(n,e):this.produce(n,r=>i(r,e))}};function NL(n,e){const t=qB(n)?cp("MapSet").proxyMap_(n,e):cI(n)?cp("MapSet").proxySet_(n,e):_Se(n,e);return(e?e.scope_:mJ()).drafts_.push(t),t}function FSe(n){return ey(n)||Eo(10,n),yJ(n)}function yJ(n){if(!up(n)||dI(n))return n;const e=n[aa];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=ML(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=ML(n,!0);return ET(t,(r,s)=>{gJ(t,r,yJ(s))},i),e&&(e.finalized_=!1),t}var USe=new ISe;USe.produce;var MSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wJ=bs({name:"legend",initialState:MSe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:Rn()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:i}=e.payload,r=_o(n).payload.indexOf(t);r>-1&&(n.payload[r]=i)},prepare:Rn()},removeLegendPayload:{reducer(n,e){var t=_o(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:Rn()}}}),{setLegendSize:pQe,setLegendSettings:gQe,addLegendPayload:PSe,replaceLegendPayload:RSe,removeLegendPayload:DSe}=wJ.actions,NSe=wJ.reducer;function LL(){return LL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},LL.apply(null,arguments)}function n5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function LP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(t),!0).forEach(function(i){LSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function LSe(n,e,t){return(e=QSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QSe(n){var e=kSe(n,"string");return typeof e=="symbol"?e:e+""}function kSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function OSe(n){return Array.isArray(n)&&BA(n[0])&&BA(n[1])?n.join(" ~ "):n}var HSe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:i={},labelStyle:r={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var P={padding:0,margin:0},D=(o?j1(s,o):s).map((L,H)=>{if(L.type==="none")return null;var k=L.formatter||a||OSe,{value:K,name:V}=L,q=K,X=V;if(k){var ne=k(K,V,L,H,s);if(Array.isArray(ne))[q,X]=ne;else if(ne!=null)q=ne;else return null}var he=LP({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},i);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:he},BA(X)?M.createElement("span",{className:"recharts-tooltip-item-name"},X):null,BA(X)?M.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,M.createElement("span",{className:"recharts-tooltip-item-value"},q),M.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},b=LP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),C=LP({margin:0},r),E=!ji(d),x=E?d:"",I=In("recharts-default-tooltip",l),T=In("recharts-tooltip-label",u);E&&h&&s!==void 0&&s!==null&&(x=h(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",LL({className:I,style:b},R),M.createElement("p",{className:T,style:C},M.isValidElement(x)?x:"".concat(x)),v())},T0="recharts-tooltip-wrapper",VSe={visibility:"hidden"};function KSe(n){var{coordinate:e,translateX:t,translateY:i}=n;return In(T0,{["".concat(T0,"-right")]:tt(t)&&e&&tt(e.x)&&t>=e.x,["".concat(T0,"-left")]:tt(t)&&e&&tt(e.x)&&t<e.x,["".concat(T0,"-bottom")]:tt(i)&&e&&tt(e.y)&&i>=e.y,["".concat(T0,"-top")]:tt(i)&&e&&tt(e.y)&&i<e.y})}function i5(n){var{allowEscapeViewBox:e,coordinate:t,key:i,offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&tt(s[i]))return s[i];var d=t[i]-o-(r>0?r:0),h=t[i]+r;if(e[i])return a[i]?d:h;var g=l[i];if(g==null)return 0;if(a[i]){var v=d,b=g;return v<b?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var C=h+o,E=g+u;return C>E?Math.max(d,g):Math.max(h,g)}function GSe(n){var{translateX:e,translateY:t,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function zSe(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:i,position:r,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=i5({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=i5({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=GSe({translateX:d,translateY:h,useTranslate3d:o})):u=VSe,{cssProperties:u,cssClasses:KSe({translateX:d,translateY:h,coordinate:t})}}function r5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(t),!0).forEach(function(i){QL(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function QL(n,e,t){return(e=qSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qSe(n){var e=$Se(n,"string");return typeof e=="symbol"?e:e+""}function $Se(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class jSe extends M.PureComponent{constructor(){super(...arguments),QL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),QL(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&t!==void 0?t:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:i,animationEasing:r,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:C,innerRef:E,hasPortalFromProps:x}=this.props,{cssClasses:I,cssProperties:T}=zSe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:C.height,width:C.width},useTranslate3d:g,viewBox:v}),R=x?{}:gx(gx({transition:l&&e?"transform ".concat(i,"ms ").concat(r):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=gx(gx({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:P,ref:E},s)}}var bJ=()=>{var n;return(n=Je(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function kL(){return kL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kL.apply(null,arguments)}function s5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function a5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(t),!0).forEach(function(i){WSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function WSe(n,e,t){return(e=YSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YSe(n){var e=XSe(n,"string");return typeof e=="symbol"?e:e+""}function XSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var o5={curveBasisClosed:Gbe,curveBasisOpen:zbe,curveBasis:Kbe,curveBumpX:Ibe,curveBumpY:Fbe,curveLinearClosed:qbe,curveLinear:q1,curveMonotoneX:$be,curveMonotoneY:jbe,curveNatural:Wbe,curveStep:Ybe,curveStepAfter:Jbe,curveStepBefore:Xbe},_T=n=>si(n.x)&&si(n.y),A5=n=>n.base!=null&&_T(n.base)&&_T(n),I0=n=>n.x,F0=n=>n.y,JSe=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(OB(n));return(t==="curveMonotone"||t==="curveBump")&&e?o5["".concat(t).concat(e==="vertical"?"Y":"X")]:o5[t]||q1},ZSe=n=>{var{type:e="linear",points:t=[],baseLine:i,layout:r,connectNulls:s=!1}=n,a=JSe(e,r),o=s?t.filter(_T):t,l;if(Array.isArray(i)){var u=t.map((v,b)=>a5(a5({},v),{},{base:i[b]}));r==="vertical"?l=Ax().y(F0).x1(I0).x0(v=>v.base.x):l=Ax().x(I0).y1(F0).y0(v=>v.base.y);var d=l.defined(A5).curve(a),h=s?u.filter(A5):u;return d(h)}r==="vertical"&&tt(i)?l=Ax().y(F0).x1(I0).x0(i):tt(i)?l=Ax().x(I0).y1(F0).y0(i):l=i9().x(I0).y(F0);var g=l.defined(_T).curve(a);return g(o)},CJ=n=>{var{className:e,points:t,path:i,pathRef:r}=n;if((!t||!t.length)&&!i)return null;var s=t&&t.length?ZSe(n):i;return M.createElement("path",kL({},Pd(n),CCe(n),{className:In("recharts-curve",e),d:s===null?void 0:s,ref:r}))},exe=["x","y","top","left","width","height","className"];function OL(){return OL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OL.apply(null,arguments)}function l5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function txe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(t),!0).forEach(function(i){nxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function nxe(n,e,t){return(e=ixe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ixe(n){var e=rxe(n,"string");return typeof e=="symbol"?e:e+""}function rxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sxe(n,e){if(n==null)return{};var t,i,r=axe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function axe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var oxe=(n,e,t,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(t),Axe=n=>{var{x:e=0,y:t=0,top:i=0,left:r=0,width:s=0,height:a=0,className:o}=n,l=sxe(n,exe),u=txe({x:e,y:t,top:i,left:r,width:s,height:a},l);return!tt(e)||!tt(t)||!tt(s)||!tt(a)||!tt(i)||!tt(r)?null:M.createElement("path",OL({},Xa(u),{className:In("recharts-cross",o),d:oxe(e,t,s,a,i,r)}))};function lxe(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function u5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function c5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(t),!0).forEach(function(i){uxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uxe(n,e,t){return(e=cxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cxe(n){var e=dxe(n,"string");return typeof e=="symbol"?e:e+""}function dxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fxe=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),BJ=(n,e,t)=>n.map(i=>"".concat(fxe(i)," ").concat(e,"ms ").concat(t)).join(","),hxe=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,i)=>t.filter(r=>i.includes(r))),$w=(n,e)=>Object.keys(e).reduce((t,i)=>c5(c5({},t),{},{[i]:n(i,e[i])}),{});function d5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(t),!0).forEach(function(i){pxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function pxe(n,e,t){return(e=gxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gxe(n){var e=mxe(n,"string");return typeof e=="symbol"?e:e+""}function mxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var TT=(n,e,t)=>n+(e-n)*t,HL=n=>{var{from:e,to:t}=n;return e!==t},EJ=(n,e,t)=>{var i=$w((r,s)=>{if(HL(s)){var[a,o]=n(s.from,s.to,s.velocity);return xi(xi({},s),{},{from:a,velocity:o})}return s},e);return t<1?$w((r,s)=>HL(s)?xi(xi({},s),{},{velocity:TT(s.velocity,i[r].velocity,t),from:TT(s.from,i[r].from,t)}):s,e):EJ(n,i,t-1)};function vxe(n,e,t,i,r,s){var a,o=i.reduce((g,v)=>xi(xi({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>$w((g,v)=>v.from,o),u=()=>!Object.values(o).filter(HL).length,d=null,h=g=>{a||(a=g);var v=g-a,b=v/t.dt;o=EJ(t,o,b),r(xi(xi(xi({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function yxe(n,e,t,i,r,s,a){var o=null,l=r.reduce((h,g)=>xi(xi({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/i,v=$w((C,E)=>TT(...E,t(g)),l);if(s(xi(xi(xi({},n),e),v)),g<1)o=a.setTimeout(d);else{var b=$w((C,E)=>TT(...E,t(1)),l);s(xi(xi(xi({},n),e),b))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const wxe=(n,e,t,i,r,s)=>{var a=hxe(n,e);return t==null?()=>(r(xi(xi({},n),e)),()=>{}):t.isStepper===!0?vxe(n,e,t,a,r,s):yxe(n,e,t,i,a,r,s)};var IT=1e-4,SJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],xJ=(n,e)=>n.map((t,i)=>t*e**i).reduce((t,i)=>t+i),f5=(n,e)=>t=>{var i=SJ(n,e);return xJ(i,t)},bxe=(n,e)=>t=>{var i=SJ(n,e),r=[...i.map((s,a)=>s*a).slice(1),0];return xJ(r,t)},Cxe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((r=s[1])===null||r===void 0?void 0:r.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},Bxe=(n,e,t,i)=>{var r=f5(n,t),s=f5(e,i),a=bxe(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=r(h)-d,b=a(h);if(Math.abs(v-d)<IT||b<IT)return s(h);h=o(h-v/b)}return s(h)};return l.isStepper=!1,l},h5=function(){return Bxe(...Cxe(...arguments))},Exe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:i=8,dt:r=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*i,h=l+(u-d)*r/1e3,g=l*r/1e3+a;return Math.abs(g-o)<IT&&Math.abs(h)<IT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=r,s},Sxe=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return h5(n);case"spring":return Exe();default:if(n.split("(")[0]==="cubic-bezier")return h5(n)}return typeof n=="function"?n:null};function xxe(n){var e,t=()=>null,i=!1,r=null,s=a=>{if(!i){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){r=n.setTimeout(s.bind(null,u),l);return}s(l),r=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{i=!0},start:a=>{i=!1,r&&(r(),r=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class _xe{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=a=>{a-i>=t?e(a):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function Txe(){return xxe(new _xe)}var Ixe=M.createContext(Txe);function Fxe(n,e){var t=M.useContext(Ixe);return M.useMemo(()=>e??t(n),[n,e,t])}var Uxe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$B={devToolsEnabled:!1,isSsr:Uxe()},Mxe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},p5={t:0},QP={t:1};function mk(n){var e=eo(n,Mxe),{isActive:t,canBegin:i,duration:r,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!$B.isSsr:t,h=Fxe(e.animationId,e.animationManager),[g,v]=M.useState(d?p5:QP),b=M.useRef(null);return M.useEffect(()=>{d||v(QP)},[d]),M.useEffect(()=>{if(!d||!i)return HB;var C=wxe(p5,QP,Sxe(s),r,v,h.getTimeoutController()),E=()=>{b.current=C()};return h.start([l,a,E,r,o]),()=>{h.stop(),b.current&&b.current(),o()}},[d,i,r,s,a,l,o,h]),u(g.t)}function vk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=M.useRef(Ow(e)),i=M.useRef(n);return i.current!==n&&(t.current=Ow(e),i.current=n),t.current}var Pxe=["radius"],Rxe=["radius"];function g5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function m5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(t),!0).forEach(function(i){Dxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Dxe(n,e,t){return(e=Nxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nxe(n){var e=Lxe(n,"string");return typeof e=="symbol"?e:e+""}function Lxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FT(){return FT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},FT.apply(null,arguments)}function v5(n,e){if(n==null)return{};var t,i,r=Qxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Qxe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var y5=(n,e,t,i,r)=>{var s=Math.min(Math.abs(t)/2,Math.abs(i)/2),a=i>=0?1:-1,o=t>=0?1:-1,l=i>=0&&t>=0||i<0&&t<0?1:0,u;if(s>0&&r instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=r[h]>s?s:r[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+i)),u+="L ".concat(n+o*d[3],",").concat(e+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+i-a*d[3])),u+="Z"}else if(s>0&&r===+r&&r>0){var v=Math.min(s,r);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+i,`
            L `).concat(n+o*v,",").concat(e+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+i-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(i," h ").concat(-t," Z");return u},w5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_J=n=>{var e=eo(n,w5),t=M.useRef(null),[i,r]=M.useState(-1);M.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var $=t.current.getTotalLength();$&&r($)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:C}=e,E=M.useRef(o),x=M.useRef(l),I=M.useRef(s),T=M.useRef(a),R=M.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),P=vk(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var D=In("recharts-rectangle",d);if(!C){var L=Xa(e),{radius:H}=L,k=v5(L,Pxe);return M.createElement("path",FT({},k,{radius:typeof u=="number"?u:void 0,className:D,d:y5(s,a,o,l,u)}))}var K=E.current,V=x.current,q=I.current,X=T.current,ne="0px ".concat(i===-1?1:i,"px"),he="".concat(i,"px 0px"),G=BJ(["strokeDasharray"],g,typeof h=="string"?h:w5.animationEasing);return M.createElement(mk,{animationId:P,key:P,canBegin:i>0,duration:g,easing:h,isActive:C,begin:v},$=>{var se=dr(K,o,$),ae=dr(V,l,$),be=dr(q,s,$),z=dr(X,a,$);t.current&&(E.current=se,x.current=ae,I.current=be,T.current=z);var J;b?$>0?J={transition:G,strokeDasharray:he}:J={strokeDasharray:ne}:J={strokeDasharray:he};var le=Xa(e),{radius:ve}=le,Ee=v5(le,Rxe);return M.createElement("path",FT({},Ee,{radius:typeof u=="number"?u:void 0,className:D,d:y5(be,z,se,ae,u),ref:t,style:m5(m5({},J),e.style)}))})};function b5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function C5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(t),!0).forEach(function(i){kxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kxe(n,e,t){return(e=Oxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Oxe(n){var e=Hxe(n,"string");return typeof e=="symbol"?e:e+""}function Hxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var UT=Math.PI/180,Vxe=n=>n*180/Math.PI,gr=(n,e,t,i)=>({x:n+Math.cos(-UT*i)*t,y:e+Math.sin(-UT*i)*t}),Kxe=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},Gxe=(n,e)=>{var{x:t,y:i}=n,{x:r,y:s}=e;return Math.sqrt((t-r)**2+(i-s)**2)},zxe=(n,e)=>{var{x:t,y:i}=n,{cx:r,cy:s}=e,a=Gxe({x:t,y:i},{x:r,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-r)/a,l=Math.acos(o);return i>s&&(l=2*Math.PI-l),{radius:a,angle:Vxe(l),angleInRadian:l}},qxe=n=>{var{startAngle:e,endAngle:t}=n,i=Math.floor(e/360),r=Math.floor(t/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:t-s*360}},$xe=(n,e)=>{var{startAngle:t,endAngle:i}=e,r=Math.floor(t/360),s=Math.floor(i/360),a=Math.min(r,s);return n+a*360},jxe=(n,e)=>{var{chartX:t,chartY:i}=n,{radius:r,angle:s}=zxe({x:t,y:i},e),{innerRadius:a,outerRadius:o}=e;if(r<a||r>o||r===0)return null;var{startAngle:l,endAngle:u}=qxe(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?C5(C5({},e),{},{radius:r,angle:$xe(d,e)}):null};function TJ(n){var{cx:e,cy:t,radius:i,startAngle:r,endAngle:s}=n,a=gr(e,t,i,r),o=gr(e,t,i,s);return{points:[a,o],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}function VL(){return VL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},VL.apply(null,arguments)}var Wxe=(n,e)=>{var t=na(e-n),i=Math.min(Math.abs(e-n),359.999);return t*i},mx=n=>{var{cx:e,cy:t,radius:i,angle:r,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+i,d=Math.asin(o/u)/UT,h=l?r:r+s*d,g=gr(e,t,u,h),v=gr(e,t,i,h),b=l?r-s*d:r,C=gr(e,t,u*Math.cos(d*UT),b);return{center:g,circleTangency:v,lineTangency:C,theta:d}},IJ=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:a}=n,o=Wxe(s,a),l=s+o,u=gr(e,t,r,s),d=gr(e,t,r,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=gr(e,t,i,s),v=gr(e,t,i,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},Yxe=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=na(u-l),{circleTangency:h,lineTangency:g,theta:v}=mx({cx:e,cy:t,radius:r,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:C,theta:E}=mx({cx:e,cy:t,radius:r,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-v-E;if(x<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):IJ({cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var{circleTangency:T,lineTangency:R,theta:P}=mx({cx:e,cy:t,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:L,theta:H}=mx({cx:e,cy:t,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-P-H;if(k<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},Xxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FJ=n=>{var e=eo(n,Xxe),{cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<r||u===d)return null;var g=In("recharts-sector",h),v=s-r,b=To(a,v,0,!0),C;return b>0&&Math.abs(u-d)<360?C=Yxe({cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):C=IJ({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:u,endAngle:d}),M.createElement("path",VL({},Xa(e),{className:g,d:C}))};function Jxe(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(v9(e)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:a,angle:o}=e,l=gr(i,r,s,o),u=gr(i,r,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return TJ(e)}}var kP={},OP={},HP={},B5;function Zxe(){return B5||(B5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=I9();function t(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=t})(HP)),HP}var E5;function e_e(){return E5||(E5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Zxe();function t(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=t})(OP)),OP}var S5;function t_e(){return S5||(S5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=F9(),t=e_e();function i(r,s,a){a&&typeof a!="number"&&e.isIterateeCall(r,s,a)&&(s=a=void 0),r=t.toFinite(r),s===void 0?(s=r,r=0):s=t.toFinite(s),a=a===void 0?r<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-r)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=r,r+=a;return l}n.range=i})(kP)),kP}var VP,x5;function n_e(){return x5||(x5=1,VP=t_e().range),VP}var i_e=n_e();const UJ=_A(i_e);function Id(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function r_e(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function yk(n){let e,t,i;n.length!==2?(e=Id,t=(o,l)=>Id(n(o),l),i=(o,l)=>n(o)-l):(e=n===Id||n===r_e?n:s_e,t=n,i=n);function r(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=r(o,l,u,d-1);return h>u&&i(o[h-1],l)>-i(o[h],l)?h-1:h}return{left:r,center:a,right:s}}function s_e(){return 0}function MJ(n){return n===null?NaN:+n}function*a_e(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const o_e=yk(Id),jB=o_e.right;yk(MJ).center;class _5 extends Map{constructor(e,t=u_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(T5(this,e))}has(e){return super.has(T5(this,e))}set(e,t){return super.set(A_e(this,e),t)}delete(e){return super.delete(l_e(this,e))}}function T5({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function A_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function l_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function u_e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function c_e(n=Id){if(n===Id)return PJ;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function PJ(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const d_e=Math.sqrt(50),f_e=Math.sqrt(10),h_e=Math.sqrt(2);function MT(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),a=s>=d_e?10:s>=f_e?5:s>=h_e?2:1;let o,l,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?MT(n,e,t*2):[o,l,u]}function KL(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,a]=i?MT(e,n,t):MT(n,e,t);if(!(s>=r))return[];const o=s-r+1,l=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(r+u)/-a;else for(let u=0;u<o;++u)l[u]=(r+u)*a;return l}function GL(n,e,t){return e=+e,n=+n,t=+t,MT(n,e,t)[2]}function zL(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?GL(e,n,t):GL(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function I5(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function F5(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function RJ(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?PJ:c_e(r);i>t;){if(i-t>600){const l=i-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),b=Math.min(i,Math.floor(e+(l-u)*h/l+g));RJ(n,e,v,b,r)}const s=n[e];let a=t,o=i;for(U0(n,t,e),r(n[i],s)>0&&U0(n,t,i);a<o;){for(U0(n,a,o),++a,--o;r(n[a],s)<0;)++a;for(;r(n[o],s)>0;)--o}r(n[t],s)===0?U0(n,t,o):(++o,U0(n,o,i)),o<=e&&(t=o+1),e<=o&&(i=o-1)}return n}function U0(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function p_e(n,e,t){if(n=Float64Array.from(a_e(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return F5(n);if(e>=1)return I5(n);var i,r=(i-1)*e,s=Math.floor(r),a=I5(RJ(n,s).subarray(0,s+1)),o=F5(n.subarray(s+1));return a+(o-a)*(r-s)}}function g_e(n,e,t=MJ){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(r-s)}}function m_e(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function to(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Tu(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qL=Symbol("implicit");function wk(){var n=new _5,e=[],t=[],i=qL;function r(s){let a=n.get(s);if(a===void 0){if(i!==qL)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new _5;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return wk(e,t).unknown(i)},to.apply(r,arguments),r}function bk(){var n=wk().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=r<i,b=v?r:i,C=v?i:r;s=(C-b)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),b+=(C-b-s*(g-l))*d,a=s*(1-l),o&&(b=Math.round(b),a=Math.round(a));var E=m_e(g).map(function(x){return b+s*x});return t(v?E.reverse():E)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,h()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return bk(e(),[i,r]).round(o).paddingInner(l).paddingOuter(u).align(d)},to.apply(h(),arguments)}function DJ(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return DJ(e())},n}function v_e(){return DJ(bk.apply(null,arguments).paddingInner(1))}function Ck(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function NJ(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function WB(){}var jw=.7,PT=1/jw,Wg="\\s*([+-]?\\d+)\\s*",Ww="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y_e=/^#([0-9a-f]{3,8})$/,w_e=new RegExp(`^rgb\\(${Wg},${Wg},${Wg}\\)$`),b_e=new RegExp(`^rgb\\(${bA},${bA},${bA}\\)$`),C_e=new RegExp(`^rgba\\(${Wg},${Wg},${Wg},${Ww}\\)$`),B_e=new RegExp(`^rgba\\(${bA},${bA},${bA},${Ww}\\)$`),E_e=new RegExp(`^hsl\\(${Ww},${bA},${bA}\\)$`),S_e=new RegExp(`^hsla\\(${Ww},${bA},${bA},${Ww}\\)$`),U5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ck(WB,Yw,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:M5,formatHex:M5,formatHex8:x_e,formatHsl:__e,formatRgb:P5,toString:P5});function M5(){return this.rgb().formatHex()}function x_e(){return this.rgb().formatHex8()}function __e(){return LJ(this).formatHsl()}function P5(){return this.rgb().formatRgb()}function Yw(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=y_e.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?R5(e):t===3?new ys(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?vx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?vx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=w_e.exec(n))?new ys(e[1],e[2],e[3],1):(e=b_e.exec(n))?new ys(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=C_e.exec(n))?vx(e[1],e[2],e[3],e[4]):(e=B_e.exec(n))?vx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=E_e.exec(n))?L5(e[1],e[2]/100,e[3]/100,1):(e=S_e.exec(n))?L5(e[1],e[2]/100,e[3]/100,e[4]):U5.hasOwnProperty(n)?R5(U5[n]):n==="transparent"?new ys(NaN,NaN,NaN,0):null}function R5(n){return new ys(n>>16&255,n>>8&255,n&255,1)}function vx(n,e,t,i){return i<=0&&(n=e=t=NaN),new ys(n,e,t,i)}function T_e(n){return n instanceof WB||(n=Yw(n)),n?(n=n.rgb(),new ys(n.r,n.g,n.b,n.opacity)):new ys}function $L(n,e,t,i){return arguments.length===1?T_e(n):new ys(n,e,t,i??1)}function ys(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}Ck(ys,$L,NJ(WB,{brighter(n){return n=n==null?PT:Math.pow(PT,n),new ys(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?jw:Math.pow(jw,n),new ys(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ys(rp(this.r),rp(this.g),rp(this.b),RT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D5,formatHex:D5,formatHex8:I_e,formatRgb:N5,toString:N5}));function D5(){return`#${Sf(this.r)}${Sf(this.g)}${Sf(this.b)}`}function I_e(){return`#${Sf(this.r)}${Sf(this.g)}${Sf(this.b)}${Sf((isNaN(this.opacity)?1:this.opacity)*255)}`}function N5(){const n=RT(this.opacity);return`${n===1?"rgb(":"rgba("}${rp(this.r)}, ${rp(this.g)}, ${rp(this.b)}${n===1?")":`, ${n})`}`}function RT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function rp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Sf(n){return n=rp(n),(n<16?"0":"")+n.toString(16)}function L5(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new So(n,e,t,i)}function LJ(n){if(n instanceof So)return new So(n.h,n.s,n.l,n.opacity);if(n instanceof WB||(n=Yw(n)),!n)return new So;if(n instanceof So)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),a=NaN,o=s-r,l=(s+r)/2;return o?(e===s?a=(t-i)/o+(t<i)*6:t===s?a=(i-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new So(a,o,l,n.opacity)}function F_e(n,e,t,i){return arguments.length===1?LJ(n):new So(n,e,t,i??1)}function So(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}Ck(So,F_e,NJ(WB,{brighter(n){return n=n==null?PT:Math.pow(PT,n),new So(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?jw:Math.pow(jw,n),new So(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new ys(KP(n>=240?n-240:n+120,r,i),KP(n,r,i),KP(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new So(Q5(this.h),yx(this.s),yx(this.l),RT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=RT(this.opacity);return`${n===1?"hsl(":"hsla("}${Q5(this.h)}, ${yx(this.s)*100}%, ${yx(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Q5(n){return n=(n||0)%360,n<0?n+360:n}function yx(n){return Math.max(0,Math.min(1,n||0))}function KP(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Bk=n=>()=>n;function U_e(n,e){return function(t){return n+t*e}}function M_e(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function P_e(n){return(n=+n)==1?QJ:function(e,t){return t-e?M_e(e,t,n):Bk(isNaN(e)?t:e)}}function QJ(n,e){var t=e-n;return t?U_e(n,t):Bk(isNaN(n)?e:n)}const k5=(function n(e){var t=P_e(e);function i(r,s){var a=t((r=$L(r)).r,(s=$L(s)).r),o=t(r.g,s.g),l=t(r.b,s.b),u=QJ(r.opacity,s.opacity);return function(d){return r.r=a(d),r.g=o(d),r.b=l(d),r.opacity=u(d),r+""}}return i.gamma=n,i})(1);function R_e(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function D_e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function N_e(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),a;for(a=0;a<i;++a)r[a]=py(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function L_e(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function DT(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function Q_e(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=py(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var jL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,GP=new RegExp(jL.source,"g");function k_e(n){return function(){return n}}function O_e(n){return function(e){return n(e)+""}}function H_e(n,e){var t=jL.lastIndex=GP.lastIndex=0,i,r,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(i=jL.exec(n))&&(r=GP.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:DT(i,r)})),t=GP.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?O_e(l[0].x):k_e(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function py(n,e){var t=typeof e,i;return e==null||t==="boolean"?Bk(e):(t==="number"?DT:t==="string"?(i=Yw(e))?(e=i,k5):H_e:e instanceof Yw?k5:e instanceof Date?L_e:D_e(e)?R_e:Array.isArray(e)?N_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Q_e:DT)(n,e)}function Ek(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function V_e(n,e){e===void 0&&(e=n,n=py);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(a){var o=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return s[o](a-o)}}function K_e(n){return function(){return n}}function NT(n){return+n}var O5=[0,1];function zr(n){return n}function WL(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:K_e(isNaN(e)?NaN:.5)}function G_e(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function z_e(n,e,t){var i=n[0],r=n[1],s=e[0],a=e[1];return r<i?(i=WL(r,i),s=t(a,s)):(i=WL(i,r),s=t(s,a)),function(o){return s(i(o))}}function q_e(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=WL(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=jB(n,o,1,i)-1;return s[l](r[l](o))}}function YB(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function fI(){var n=O5,e=O5,t=py,i,r,s,a=zr,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==zr&&(a=G_e(n[0],n[g-1])),o=g>2?q_e:z_e,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(i),e,t)))(i(a(g)))}return h.invert=function(g){return a(r((u||(u=o(e,n.map(i),DT)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,NT),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=Ek,d()},h.clamp=function(g){return arguments.length?(a=g?!0:zr,d()):a!==zr},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return i=g,r=v,d()}}function Sk(){return fI()(zr,zr)}function $_e(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function LT(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function ty(n){return n=LT(Math.abs(n)),n?n[1]:NaN}function j_e(n,e){return function(t,i){for(var r=t.length,s=[],a=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function W_e(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var Y_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xw(n){if(!(e=Y_e.exec(n)))throw new Error("invalid format: "+n);var e;return new xk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xw.prototype=xk.prototype;function xk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}xk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function X_e(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var kJ;function J_e(n,e){var t=LT(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(kJ=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+LT(n,Math.max(0,e+s-1))[0]}function H5(n,e){var t=LT(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const V5={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:$_e,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>H5(n*100,e),r:H5,s:J_e,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function K5(n){return n}var G5=Array.prototype.map,z5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Z_e(n){var e=n.grouping===void 0||n.thousands===void 0?K5:j_e(G5.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?K5:W_e(G5.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=Xw(h);var g=h.fill,v=h.align,b=h.sign,C=h.symbol,E=h.zero,x=h.width,I=h.comma,T=h.precision,R=h.trim,P=h.type;P==="n"?(I=!0,P="g"):V5[P]||(T===void 0&&(T=12),R=!0,P="g"),(E||g==="0"&&v==="=")&&(E=!0,g="0",v="=");var D=C==="$"?t:C==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",L=C==="$"?i:/[%p]/.test(P)?a:"",H=V5[P],k=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function K(V){var q=D,X=L,ne,he,G;if(P==="c")X=H(V)+X,V="";else{V=+V;var $=V<0||1/V<0;if(V=isNaN(V)?l:H(Math.abs(V),T),R&&(V=X_e(V)),$&&+V==0&&b!=="+"&&($=!1),q=($?b==="("?b:o:b==="-"||b==="("?"":b)+q,X=(P==="s"?z5[8+kJ/3]:"")+X+($&&b==="("?")":""),k){for(ne=-1,he=V.length;++ne<he;)if(G=V.charCodeAt(ne),48>G||G>57){X=(G===46?r+V.slice(ne+1):V.slice(ne))+X,V=V.slice(0,ne);break}}}I&&!E&&(V=e(V,1/0));var se=q.length+V.length+X.length,ae=se<x?new Array(x-se+1).join(g):"";switch(I&&E&&(V=e(ae+V,ae.length?x-X.length:1/0),ae=""),v){case"<":V=q+V+X+ae;break;case"=":V=q+ae+V+X;break;case"^":V=ae.slice(0,se=ae.length>>1)+q+V+X+ae.slice(se);break;default:V=ae+q+V+X;break}return s(V)}return K.toString=function(){return h+""},K}function d(h,g){var v=u((h=Xw(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(ty(g)/3)))*3,C=Math.pow(10,-b),E=z5[8+b/3];return function(x){return v(C*x)+E}}return{format:u,formatPrefix:d}}var wx,_k,OJ;eTe({thousands:",",grouping:[3],currency:["$",""]});function eTe(n){return wx=Z_e(n),_k=wx.format,OJ=wx.formatPrefix,wx}function tTe(n){return Math.max(0,-ty(Math.abs(n)))}function nTe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ty(e)/3)))*3-ty(Math.abs(n)))}function iTe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,ty(e)-ty(n))+1}function HJ(n,e,t,i){var r=zL(n,e,t),s;switch(i=Xw(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=nTe(r,a))&&(i.precision=s),OJ(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=iTe(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=tTe(r))&&(i.precision=s-(i.type==="%")*2);break}}return _k(i)}function Od(n){var e=n.domain;return n.ticks=function(t){var i=e();return KL(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return HJ(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,a=i[r],o=i[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=r,r=s,s=u);d-- >0;){if(u=GL(a,o,t),u===l)return i[r]=a,i[s]=o,e(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function VJ(){var n=Sk();return n.copy=function(){return YB(n,VJ())},to.apply(n,arguments),Od(n)}function KJ(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,NT),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return KJ(n).unknown(e)},n=arguments.length?Array.from(n,NT):[0,1],Od(t)}function GJ(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],a;return s<r&&(a=t,t=i,i=a,a=r,r=s,s=a),n[t]=e.floor(r),n[i]=e.ceil(s),n}function q5(n){return Math.log(n)}function $5(n){return Math.exp(n)}function rTe(n){return-Math.log(-n)}function sTe(n){return-Math.exp(-n)}function aTe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function oTe(n){return n===10?aTe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function ATe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function j5(n){return(e,t)=>-n(-e,t)}function Tk(n){const e=n(q5,$5),t=e.domain;let i=10,r,s;function a(){return r=ATe(i),s=oTe(i),t()[0]<0?(r=j5(r),s=j5(s),n(rTe,sTe)):n(q5,$5),e}return e.base=function(o){return arguments.length?(i=+o,a()):i},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=r(u),v=r(d),b,C;const E=o==null?10:+o;let x=[];if(!(i%1)&&v-g<E){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(b=1;b<i;++b)if(C=g<0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;x.push(C)}}else for(;g<=v;++g)for(b=i-1;b>=1;--b)if(C=g>0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;x.push(C)}x.length*2<E&&(x=KL(u,d,E))}else x=KL(g,v,Math.min(v-g,E)).map(s);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=Xw(l)).precision==null&&(l.trim=!0),l=_k(l)),o===1/0)return l;const u=Math.max(1,i*o/e.ticks().length);return d=>{let h=d/s(Math.round(r(d)));return h*i<i-.5&&(h*=i),h<=u?l(d):""}},e.nice=()=>t(GJ(t(),{floor:o=>s(Math.floor(r(o))),ceil:o=>s(Math.ceil(r(o)))})),e}function zJ(){const n=Tk(fI()).domain([1,10]);return n.copy=()=>YB(n,zJ()).base(n.base()),to.apply(n,arguments),n}function W5(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function Y5(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Ik(n){var e=1,t=n(W5(e),Y5(e));return t.constant=function(i){return arguments.length?n(W5(e=+i),Y5(e)):e},Od(t)}function qJ(){var n=Ik(fI());return n.copy=function(){return YB(n,qJ()).constant(n.constant())},to.apply(n,arguments)}function X5(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function lTe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function uTe(n){return n<0?-n*n:n*n}function Fk(n){var e=n(zr,zr),t=1;function i(){return t===1?n(zr,zr):t===.5?n(lTe,uTe):n(X5(t),X5(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},Od(e)}function Uk(){var n=Fk(fI());return n.copy=function(){return YB(n,Uk()).exponent(n.exponent())},to.apply(n,arguments),n}function cTe(){return Uk.apply(null,arguments).exponent(.5)}function J5(n){return Math.sign(n)*n*n}function dTe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function $J(){var n=Sk(),e=[0,1],t=!1,i;function r(s){var a=dTe(n(s));return isNaN(a)?i:t?Math.round(a):a}return r.invert=function(s){return n.invert(J5(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,NT)).map(J5)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return $J(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},to.apply(r,arguments),Od(r)}function jJ(){var n=[],e=[],t=[],i;function r(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=g_e(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?i:e[jB(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(Id),r()},s.range=function(a){return arguments.length?(e=Array.from(a),r()):e.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return jJ().domain(n).range(e).unknown(i)},to.apply(s,arguments)}function WJ(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function a(l){return l!=null&&l<=l?r[jB(i,l,0,t)]:s}function o(){var l=-1;for(i=new Array(t);++l<t;)i[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(r=Array.from(l)).length-1,o()):r.slice()},a.invertExtent=function(l){var u=r.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=t?[i[t-1],e]:[i[u-1],i[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return i.slice()},a.copy=function(){return WJ().domain([n,e]).range(r).unknown(s)},to.apply(Od(a),arguments)}function YJ(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[jB(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return YJ().domain(n).range(e).unknown(t)},to.apply(r,arguments)}const zP=new Date,qP=new Date;function Ii(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),r.range=(s,a,o)=>{const l=[];if(s=r.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},r.filter=s=>Ii(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(r.count=(s,a)=>(zP.setTime(+s),qP.setTime(+a),n(zP),n(qP),Math.floor(t(zP,qP))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?a=>i(a)%s===0:a=>r.count(0,a)%s===0):r)),r}const QT=Ii(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);QT.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Ii(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):QT);QT.range;const eu=1e3,qa=eu*60,tu=qa*60,pu=tu*24,Mk=pu*7,Z5=pu*30,$P=pu*365,xf=Ii(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*eu)},(n,e)=>(e-n)/eu,n=>n.getUTCSeconds());xf.range;const Pk=Ii(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*eu)},(n,e)=>{n.setTime(+n+e*qa)},(n,e)=>(e-n)/qa,n=>n.getMinutes());Pk.range;const Rk=Ii(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*qa)},(n,e)=>(e-n)/qa,n=>n.getUTCMinutes());Rk.range;const Dk=Ii(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*eu-n.getMinutes()*qa)},(n,e)=>{n.setTime(+n+e*tu)},(n,e)=>(e-n)/tu,n=>n.getHours());Dk.range;const Nk=Ii(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*tu)},(n,e)=>(e-n)/tu,n=>n.getUTCHours());Nk.range;const XB=Ii(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*qa)/pu,n=>n.getDate()-1);XB.range;const hI=Ii(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/pu,n=>n.getUTCDate()-1);hI.range;const XJ=Ii(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/pu,n=>Math.floor(n/pu));XJ.range;function wp(n){return Ii(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qa)/Mk)}const pI=wp(0),kT=wp(1),fTe=wp(2),hTe=wp(3),ny=wp(4),pTe=wp(5),gTe=wp(6);pI.range;kT.range;fTe.range;hTe.range;ny.range;pTe.range;gTe.range;function bp(n){return Ii(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Mk)}const gI=bp(0),OT=bp(1),mTe=bp(2),vTe=bp(3),iy=bp(4),yTe=bp(5),wTe=bp(6);gI.range;OT.range;mTe.range;vTe.range;iy.range;yTe.range;wTe.range;const Lk=Ii(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());Lk.range;const Qk=Ii(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Qk.range;const gu=Ii(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());gu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ii(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});gu.range;const mu=Ii(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());mu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ii(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});mu.range;function JJ(n,e,t,i,r,s){const a=[[xf,1,eu],[xf,5,5*eu],[xf,15,15*eu],[xf,30,30*eu],[s,1,qa],[s,5,5*qa],[s,15,15*qa],[s,30,30*qa],[r,1,tu],[r,3,3*tu],[r,6,6*tu],[r,12,12*tu],[i,1,pu],[i,2,2*pu],[t,1,Mk],[e,1,Z5],[e,3,3*Z5],[n,1,$P]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),b=v?v.range(u,+d+1):[];return g?b.reverse():b}function l(u,d,h){const g=Math.abs(d-u)/h,v=yk(([,,E])=>E).right(a,g);if(v===a.length)return n.every(zL(u/$P,d/$P,h));if(v===0)return QT.every(Math.max(zL(u,d,h),1));const[b,C]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(C)}return[o,l]}const[bTe,CTe]=JJ(mu,Qk,gI,XJ,Nk,Rk),[BTe,ETe]=JJ(gu,Lk,pI,XB,Dk,Pk);function jP(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function WP(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function M0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function STe(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=P0(r),d=R0(r),h=P0(s),g=R0(s),v=P0(a),b=R0(a),C=P0(o),E=R0(o),x=P0(l),I=R0(l),T={a:$,A:se,b:ae,B:be,c:null,d:s8,e:s8,f:jTe,g:r1e,G:a1e,H:zTe,I:qTe,j:$Te,L:ZJ,m:WTe,M:YTe,p:z,q:J,Q:A8,s:l8,S:XTe,u:JTe,U:ZTe,V:e1e,w:t1e,W:n1e,x:null,X:null,y:i1e,Y:s1e,Z:o1e,"%":o8},R={a:le,A:ve,b:Ee,B:Fe,c:null,d:a8,e:a8,f:c1e,g:b1e,G:B1e,H:A1e,I:l1e,j:u1e,L:t7,m:d1e,M:f1e,p:Ce,q:ht,Q:A8,s:l8,S:h1e,u:p1e,U:g1e,V:m1e,w:v1e,W:y1e,x:null,X:null,y:w1e,Y:C1e,Z:E1e,"%":o8},P={a:K,A:V,b:q,B:X,c:ne,d:i8,e:i8,f:HTe,g:n8,G:t8,H:r8,I:r8,j:LTe,L:OTe,m:NTe,M:QTe,p:k,q:DTe,Q:KTe,s:GTe,S:kTe,u:FTe,U:UTe,V:MTe,w:ITe,W:PTe,x:he,X:G,y:n8,Y:t8,Z:RTe,"%":VTe};T.x=D(t,T),T.X=D(i,T),T.c=D(e,T),R.x=D(t,R),R.X=D(i,R),R.c=D(e,R);function D(ie,Le){return function(qe){var ge=[],Ht=-1,it=0,ln=ie.length,mn,oi,Xi;for(qe instanceof Date||(qe=new Date(+qe));++Ht<ln;)ie.charCodeAt(Ht)===37&&(ge.push(ie.slice(it,Ht)),(oi=e8[mn=ie.charAt(++Ht)])!=null?mn=ie.charAt(++Ht):oi=mn==="e"?" ":"0",(Xi=Le[mn])&&(mn=Xi(qe,oi)),ge.push(mn),it=Ht+1);return ge.push(ie.slice(it,Ht)),ge.join("")}}function L(ie,Le){return function(qe){var ge=M0(1900,void 0,1),Ht=H(ge,ie,qe+="",0),it,ln;if(Ht!=qe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Le&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(it=WP(M0(ge.y,0,1)),ln=it.getUTCDay(),it=ln>4||ln===0?OT.ceil(it):OT(it),it=hI.offset(it,(ge.V-1)*7),ge.y=it.getUTCFullYear(),ge.m=it.getUTCMonth(),ge.d=it.getUTCDate()+(ge.w+6)%7):(it=jP(M0(ge.y,0,1)),ln=it.getDay(),it=ln>4||ln===0?kT.ceil(it):kT(it),it=XB.offset(it,(ge.V-1)*7),ge.y=it.getFullYear(),ge.m=it.getMonth(),ge.d=it.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),ln="Z"in ge?WP(M0(ge.y,0,1)).getUTCDay():jP(M0(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(ln+5)%7:ge.w+ge.U*7-(ln+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,WP(ge)):jP(ge)}}function H(ie,Le,qe,ge){for(var Ht=0,it=Le.length,ln=qe.length,mn,oi;Ht<it;){if(ge>=ln)return-1;if(mn=Le.charCodeAt(Ht++),mn===37){if(mn=Le.charAt(Ht++),oi=P[mn in e8?Le.charAt(Ht++):mn],!oi||(ge=oi(ie,qe,ge))<0)return-1}else if(mn!=qe.charCodeAt(ge++))return-1}return ge}function k(ie,Le,qe){var ge=u.exec(Le.slice(qe));return ge?(ie.p=d.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function K(ie,Le,qe){var ge=v.exec(Le.slice(qe));return ge?(ie.w=b.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function V(ie,Le,qe){var ge=h.exec(Le.slice(qe));return ge?(ie.w=g.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function q(ie,Le,qe){var ge=x.exec(Le.slice(qe));return ge?(ie.m=I.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function X(ie,Le,qe){var ge=C.exec(Le.slice(qe));return ge?(ie.m=E.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function ne(ie,Le,qe){return H(ie,e,Le,qe)}function he(ie,Le,qe){return H(ie,t,Le,qe)}function G(ie,Le,qe){return H(ie,i,Le,qe)}function $(ie){return a[ie.getDay()]}function se(ie){return s[ie.getDay()]}function ae(ie){return l[ie.getMonth()]}function be(ie){return o[ie.getMonth()]}function z(ie){return r[+(ie.getHours()>=12)]}function J(ie){return 1+~~(ie.getMonth()/3)}function le(ie){return a[ie.getUTCDay()]}function ve(ie){return s[ie.getUTCDay()]}function Ee(ie){return l[ie.getUTCMonth()]}function Fe(ie){return o[ie.getUTCMonth()]}function Ce(ie){return r[+(ie.getUTCHours()>=12)]}function ht(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Le=D(ie+="",T);return Le.toString=function(){return ie},Le},parse:function(ie){var Le=L(ie+="",!1);return Le.toString=function(){return ie},Le},utcFormat:function(ie){var Le=D(ie+="",R);return Le.toString=function(){return ie},Le},utcParse:function(ie){var Le=L(ie+="",!0);return Le.toString=function(){return ie},Le}}}var e8={"-":"",_:" ",0:"0"},Yi=/^\s*\d+/,xTe=/^%/,_Te=/[\\^$*+?|[\]().{}]/g;function Qt(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function TTe(n){return n.replace(_Te,"\\$&")}function P0(n){return new RegExp("^(?:"+n.map(TTe).join("|")+")","i")}function R0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function ITe(n,e,t){var i=Yi.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function FTe(n,e,t){var i=Yi.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function UTe(n,e,t){var i=Yi.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function MTe(n,e,t){var i=Yi.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function PTe(n,e,t){var i=Yi.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function t8(n,e,t){var i=Yi.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function n8(n,e,t){var i=Yi.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function RTe(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function DTe(n,e,t){var i=Yi.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function NTe(n,e,t){var i=Yi.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function i8(n,e,t){var i=Yi.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function LTe(n,e,t){var i=Yi.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function r8(n,e,t){var i=Yi.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function QTe(n,e,t){var i=Yi.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function kTe(n,e,t){var i=Yi.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function OTe(n,e,t){var i=Yi.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function HTe(n,e,t){var i=Yi.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function VTe(n,e,t){var i=xTe.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function KTe(n,e,t){var i=Yi.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function GTe(n,e,t){var i=Yi.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function s8(n,e){return Qt(n.getDate(),e,2)}function zTe(n,e){return Qt(n.getHours(),e,2)}function qTe(n,e){return Qt(n.getHours()%12||12,e,2)}function $Te(n,e){return Qt(1+XB.count(gu(n),n),e,3)}function ZJ(n,e){return Qt(n.getMilliseconds(),e,3)}function jTe(n,e){return ZJ(n,e)+"000"}function WTe(n,e){return Qt(n.getMonth()+1,e,2)}function YTe(n,e){return Qt(n.getMinutes(),e,2)}function XTe(n,e){return Qt(n.getSeconds(),e,2)}function JTe(n){var e=n.getDay();return e===0?7:e}function ZTe(n,e){return Qt(pI.count(gu(n)-1,n),e,2)}function e7(n){var e=n.getDay();return e>=4||e===0?ny(n):ny.ceil(n)}function e1e(n,e){return n=e7(n),Qt(ny.count(gu(n),n)+(gu(n).getDay()===4),e,2)}function t1e(n){return n.getDay()}function n1e(n,e){return Qt(kT.count(gu(n)-1,n),e,2)}function i1e(n,e){return Qt(n.getFullYear()%100,e,2)}function r1e(n,e){return n=e7(n),Qt(n.getFullYear()%100,e,2)}function s1e(n,e){return Qt(n.getFullYear()%1e4,e,4)}function a1e(n,e){var t=n.getDay();return n=t>=4||t===0?ny(n):ny.ceil(n),Qt(n.getFullYear()%1e4,e,4)}function o1e(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Qt(e/60|0,"0",2)+Qt(e%60,"0",2)}function a8(n,e){return Qt(n.getUTCDate(),e,2)}function A1e(n,e){return Qt(n.getUTCHours(),e,2)}function l1e(n,e){return Qt(n.getUTCHours()%12||12,e,2)}function u1e(n,e){return Qt(1+hI.count(mu(n),n),e,3)}function t7(n,e){return Qt(n.getUTCMilliseconds(),e,3)}function c1e(n,e){return t7(n,e)+"000"}function d1e(n,e){return Qt(n.getUTCMonth()+1,e,2)}function f1e(n,e){return Qt(n.getUTCMinutes(),e,2)}function h1e(n,e){return Qt(n.getUTCSeconds(),e,2)}function p1e(n){var e=n.getUTCDay();return e===0?7:e}function g1e(n,e){return Qt(gI.count(mu(n)-1,n),e,2)}function n7(n){var e=n.getUTCDay();return e>=4||e===0?iy(n):iy.ceil(n)}function m1e(n,e){return n=n7(n),Qt(iy.count(mu(n),n)+(mu(n).getUTCDay()===4),e,2)}function v1e(n){return n.getUTCDay()}function y1e(n,e){return Qt(OT.count(mu(n)-1,n),e,2)}function w1e(n,e){return Qt(n.getUTCFullYear()%100,e,2)}function b1e(n,e){return n=n7(n),Qt(n.getUTCFullYear()%100,e,2)}function C1e(n,e){return Qt(n.getUTCFullYear()%1e4,e,4)}function B1e(n,e){var t=n.getUTCDay();return n=t>=4||t===0?iy(n):iy.ceil(n),Qt(n.getUTCFullYear()%1e4,e,4)}function E1e(){return"+0000"}function o8(){return"%"}function A8(n){return+n}function l8(n){return Math.floor(+n/1e3)}var hg,i7,r7;S1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function S1e(n){return hg=STe(n),i7=hg.format,hg.parse,r7=hg.utcFormat,hg.utcParse,hg}function x1e(n){return new Date(n)}function _1e(n){return n instanceof Date?+n:+new Date(+n)}function kk(n,e,t,i,r,s,a,o,l,u){var d=Sk(),h=d.invert,g=d.domain,v=u(".%L"),b=u(":%S"),C=u("%I:%M"),E=u("%I %p"),x=u("%a %d"),I=u("%b %d"),T=u("%B"),R=u("%Y");function P(D){return(l(D)<D?v:o(D)<D?b:a(D)<D?C:s(D)<D?E:i(D)<D?r(D)<D?x:I:t(D)<D?T:R)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?g(Array.from(D,_1e)):g().map(x1e)},d.ticks=function(D){var L=g();return n(L[0],L[L.length-1],D??10)},d.tickFormat=function(D,L){return L==null?P:u(L)},d.nice=function(D){var L=g();return(!D||typeof D.range!="function")&&(D=e(L[0],L[L.length-1],D??10)),D?g(GJ(L,D)):d},d.copy=function(){return YB(d,kk(n,e,t,i,r,s,a,o,l,u))},d}function T1e(){return to.apply(kk(BTe,ETe,gu,Lk,pI,XB,Dk,Pk,xf,i7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function I1e(){return to.apply(kk(bTe,CTe,mu,Qk,gI,hI,Nk,Rk,xf,r7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mI(){var n=0,e=1,t,i,r,s,a=zr,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(r===0?.5:(h=(s(h)-t)*r,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,b;return arguments.length?([v,b]=g,a=h(v,b),u):[a(0),a(1)]}}return u.range=d(py),u.rangeRound=d(Ek),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),i=h(e),r=t===i?0:1/(i-t),u}}function Hd(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function s7(){var n=Od(mI()(zr));return n.copy=function(){return Hd(n,s7())},Tu.apply(n,arguments)}function a7(){var n=Tk(mI()).domain([1,10]);return n.copy=function(){return Hd(n,a7()).base(n.base())},Tu.apply(n,arguments)}function o7(){var n=Ik(mI());return n.copy=function(){return Hd(n,o7()).constant(n.constant())},Tu.apply(n,arguments)}function Ok(){var n=Fk(mI());return n.copy=function(){return Hd(n,Ok()).exponent(n.exponent())},Tu.apply(n,arguments)}function F1e(){return Ok.apply(null,arguments).exponent(.5)}function A7(){var n=[],e=zr;function t(i){if(i!=null&&!isNaN(i=+i))return e((jB(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Id),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>p_e(n,s/i))},t.copy=function(){return A7(e).domain(n)},Tu.apply(t,arguments)}function vI(){var n=0,e=.5,t=1,i=1,r,s,a,o,l,u=zr,d,h=!1,g;function v(C){return isNaN(C=+C)?g:(C=.5+((C=+d(C))-s)*(i*C<i*s?o:l),u(h?Math.max(0,Math.min(1,C)):C))}v.domain=function(C){return arguments.length?([n,e,t]=C,r=d(n=+n),s=d(e=+e),a=d(t=+t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v):[n,e,t]},v.clamp=function(C){return arguments.length?(h=!!C,v):h},v.interpolator=function(C){return arguments.length?(u=C,v):u};function b(C){return function(E){var x,I,T;return arguments.length?([x,I,T]=E,u=V_e(C,[x,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=b(py),v.rangeRound=b(Ek),v.unknown=function(C){return arguments.length?(g=C,v):g},function(C){return d=C,r=C(n),s=C(e),a=C(t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v}}function l7(){var n=Od(vI()(zr));return n.copy=function(){return Hd(n,l7())},Tu.apply(n,arguments)}function u7(){var n=Tk(vI()).domain([.1,1,10]);return n.copy=function(){return Hd(n,u7()).base(n.base())},Tu.apply(n,arguments)}function c7(){var n=Ik(vI());return n.copy=function(){return Hd(n,c7()).constant(n.constant())},Tu.apply(n,arguments)}function Hk(){var n=Fk(vI());return n.copy=function(){return Hd(n,Hk()).exponent(n.exponent())},Tu.apply(n,arguments)}function U1e(){return Hk.apply(null,arguments).exponent(.5)}const vw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bk,scaleDiverging:l7,scaleDivergingLog:u7,scaleDivergingPow:Hk,scaleDivergingSqrt:U1e,scaleDivergingSymlog:c7,scaleIdentity:KJ,scaleImplicit:qL,scaleLinear:VJ,scaleLog:zJ,scaleOrdinal:wk,scalePoint:v_e,scalePow:Uk,scaleQuantile:jJ,scaleQuantize:WJ,scaleRadial:$J,scaleSequential:s7,scaleSequentialLog:a7,scaleSequentialPow:Ok,scaleSequentialQuantile:A7,scaleSequentialSqrt:F1e,scaleSequentialSymlog:o7,scaleSqrt:cTe,scaleSymlog:qJ,scaleThreshold:YJ,scaleTime:T1e,scaleUtc:I1e,tickFormat:HJ},Symbol.toStringTag,{value:"Module"}));var Vd=n=>n.chartData,M1e=Ae([Vd],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),Vk=(n,e,t,i)=>i?M1e(n):Vd(n);function Dd(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(si(e)&&si(t))return!0}return!1}function u8(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function d7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,i]=n,r,s;if(si(t))r=t;else if(typeof t=="function")return;if(si(i))s=i;else if(typeof i=="function")return;var a=[r,s];if(Dd(a))return a}}function P1e(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,t);if(Dd(i))return u8(i,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,a,o;if(r==="auto")e!=null&&(a=Math.min(...e));else if(tt(r))a=r;else if(typeof r=="function")try{e!=null&&(a=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&kq.test(r)){var l=kq.exec(r);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(tt(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&Oq.test(s)){var d=Oq.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(Dd(g))return e==null?g:u8(g,e,t)}}}var gy=1e9,R1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Gk,Dn=!0,Za="[DecimalError] ",sp=Za+"Invalid argument: ",Kk=Za+"Exponent out of range: ",my=Math.floor,yf=Math.pow,D1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ta,qi=1e7,Tn=7,f7=9007199254740991,HT=my(f7/Tn),ke={};ke.absoluteValue=ke.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};ke.comparedTo=ke.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Tn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};ke.dividedBy=ke.div=function(n){return su(this,new this.constructor(n))};ke.dividedToIntegerBy=ke.idiv=function(n){var e=this,t=e.constructor;return gn(su(e,new t(n),0,1),t.precision)};ke.equals=ke.eq=function(n){return!this.cmp(n)};ke.exponent=function(){return yi(this)};ke.greaterThan=ke.gt=function(n){return this.cmp(n)>0};ke.greaterThanOrEqualTo=ke.gte=function(n){return this.cmp(n)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(n){return this.cmp(n)<0};ke.lessThanOrEqualTo=ke.lte=function(n){return this.cmp(n)<1};ke.logarithm=ke.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(ta))throw Error(Za+"NaN");if(t.s<1)throw Error(Za+(t.s?"NaN":"-Infinity"));return t.eq(ta)?new i(0):(Dn=!1,e=su(Jw(t,s),Jw(n,s),s),Dn=!0,gn(e,r))};ke.minus=ke.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?g7(e,n):h7(e,(n.s=-n.s,n))};ke.modulo=ke.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(Za+"NaN");return t.s?(Dn=!1,e=su(t,n,0,1).times(n),Dn=!0,t.minus(e)):gn(new i(t),r)};ke.naturalExponential=ke.exp=function(){return p7(this)};ke.naturalLogarithm=ke.ln=function(){return Jw(this)};ke.negated=ke.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};ke.plus=ke.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?h7(e,n):g7(e,(n.s=-n.s,n))};ke.precision=ke.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(sp+n);if(e=yi(r)+1,i=r.d.length-1,t=i*Tn+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};ke.squareRoot=ke.sqrt=function(){var n,e,t,i,r,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Za+"NaN")}for(n=yi(o),Dn=!1,r=Math.sqrt(+o),r==0||r==1/0?(e=wA(o.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=my((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new l(e)):i=new l(r.toString()),t=l.precision,r=a=t+3;;)if(s=i,i=s.plus(su(o,s,a+2)).times(.5),wA(s.d).slice(0,a)===(e=wA(i.d)).slice(0,a)){if(e=e.slice(a-3,a+1),r==a&&e=="4999"){if(gn(s,t+1,0),s.times(s).eq(o)){i=s;break}}else if(e!="9999")break;a+=4}return Dn=!0,gn(i,t)};ke.times=ke.mul=function(n){var e,t,i,r,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,i=a;i--;)s.push(0);for(i=u;--i>=0;){for(e=0,r=l+i;r>i;)o=s[r]+v[i]*g[r-i-1]+e,s[r--]=o%qi|0,e=o/qi|0;s[r]=(s[r]+e)%qi|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,Dn?gn(n,h.precision):n};ke.toDecimalPlaces=ke.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(EA(n,0,gy),e===void 0?e=i.rounding:EA(e,0,8),gn(t,n+yi(t)+1,e))};ke.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=dp(i,!0):(EA(n,0,gy),e===void 0?e=r.rounding:EA(e,0,8),i=gn(new r(i),n+1,e),t=dp(i,!0,n+1)),t};ke.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?dp(r):(EA(n,0,gy),e===void 0?e=s.rounding:EA(e,0,8),i=gn(new s(r),n+yi(r)+1,e),t=dp(i.abs(),!1,n+yi(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};ke.toInteger=ke.toint=function(){var n=this,e=n.constructor;return gn(new e(n),yi(n)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(n){var e,t,i,r,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(ta);if(o=new l(o),!o.s){if(n.s<1)throw Error(Za+"Infinity");return o}if(o.eq(ta))return o;if(i=l.precision,n.eq(ta))return gn(o,i);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=f7){for(r=new l(ta),e=Math.ceil(i/Tn+4),Dn=!1;t%2&&(r=r.times(o),d8(r.d,e)),t=my(t/2),t!==0;)o=o.times(o),d8(o.d,e);return Dn=!0,n.s<0?new l(ta).div(r):gn(r,i)}}else if(s<0)throw Error(Za+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Dn=!1,r=n.times(Jw(o,i+u)),Dn=!0,r=p7(r),r.s=s,r};ke.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=yi(r),i=dp(r,t<=s.toExpNeg||t>=s.toExpPos)):(EA(n,1,gy),e===void 0?e=s.rounding:EA(e,0,8),r=gn(new s(r),n,e),t=yi(r),i=dp(r,n<=t||t<=s.toExpNeg,n)),i};ke.toSignificantDigits=ke.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(EA(n,1,gy),e===void 0?e=i.rounding:EA(e,0,8)),gn(new i(t),n,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=yi(n),t=n.constructor;return dp(n,e<=t.toExpNeg||e>=t.toExpPos)};function h7(n,e){var t,i,r,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),Dn?gn(e,h):e;if(l=n.d,u=e.d,a=n.e,r=e.e,l=l.slice(),s=a-r,s){for(s<0?(i=l,s=-s,o=u.length):(i=u,r=a,o=l.length),a=Math.ceil(h/Tn),o=a>o?a+1:o+1,s>o&&(s=o,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,i=u,u=l,l=i),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/qi|0,l[s]%=qi;for(t&&(l.unshift(t),++r),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=r,Dn?gn(e,h):e}function EA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(sp+n)}function wA(n){var e,t,i,r=n.length-1,s="",a=n[0];if(r>0){for(s+=a,e=1;e<r;e++)i=n[e]+"",t=Tn-i.length,t&&(s+=Ac(t)),s+=i;a=n[e],i=a+"",t=Tn-i.length,t&&(s+=Ac(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var su=(function(){function n(i,r){var s,a=0,o=i.length;for(i=i.slice();o--;)s=i[o]*r+a,i[o]=s%qi|0,a=s/qi|0;return a&&i.unshift(a),i}function e(i,r,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(i[o]!=r[o]){l=i[o]>r[o]?1:-1;break}return l}function t(i,r,s){for(var a=0;s--;)i[s]-=a,a=i[s]<r[s]?1:0,i[s]=a*qi+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,a){var o,l,u,d,h,g,v,b,C,E,x,I,T,R,P,D,L,H,k=i.constructor,K=i.s==r.s?1:-1,V=i.d,q=r.d;if(!i.s)return new k(i);if(!r.s)throw Error(Za+"Division by zero");for(l=i.e-r.e,L=q.length,P=V.length,v=new k(K),b=v.d=[],u=0;q[u]==(V[u]||0);)++u;if(q[u]>(V[u]||0)&&--l,s==null?I=s=k.precision:a?I=s+(yi(i)-yi(r))+1:I=s,I<0)return new k(0);if(I=I/Tn+2|0,u=0,L==1)for(d=0,q=q[0],I++;(u<P||d)&&I--;u++)T=d*qi+(V[u]||0),b[u]=T/q|0,d=T%q|0;else{for(d=qi/(q[0]+1)|0,d>1&&(q=n(q,d),V=n(V,d),L=q.length,P=V.length),R=L,C=V.slice(0,L),E=C.length;E<L;)C[E++]=0;H=q.slice(),H.unshift(0),D=q[0],q[1]>=qi/2&&++D;do d=0,o=e(q,C,L,E),o<0?(x=C[0],L!=E&&(x=x*qi+(C[1]||0)),d=x/D|0,d>1?(d>=qi&&(d=qi-1),h=n(q,d),g=h.length,E=C.length,o=e(h,C,g,E),o==1&&(d--,t(h,L<g?H:q,g))):(d==0&&(o=d=1),h=q.slice()),g=h.length,g<E&&h.unshift(0),t(C,h,E),o==-1&&(E=C.length,o=e(q,C,L,E),o<1&&(d++,t(C,L<E?H:q,E))),E=C.length):o===0&&(d++,C=[0]),b[u++]=d,o&&C[0]?C[E++]=V[R]||0:(C=[V[R]],E=1);while((R++<P||C[0]!==void 0)&&I--)}return b[0]||b.shift(),v.e=l,gn(v,a?s+yi(v)+1:s)}})();function p7(n,e){var t,i,r,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(yi(n)>16)throw Error(Kk+yi(n));if(!n.s)return new d(ta);for(Dn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(i=Math.log(yf(2,u))/Math.LN10*2+5|0,o+=i,t=r=s=new d(ta),d.precision=o;;){if(r=gn(r.times(n),o),t=t.times(++l),a=s.plus(su(r,t,o)),wA(a.d).slice(0,o)===wA(s.d).slice(0,o)){for(;u--;)s=gn(s.times(s),o);return d.precision=h,e==null?(Dn=!0,gn(s,h)):s}s=a}}function yi(n){for(var e=n.e*Tn,t=n.d[0];t>=10;t/=10)e++;return e}function YP(n,e,t){if(e>n.LN10.sd())throw Dn=!0,t&&(n.precision=t),Error(Za+"LN10 precision limit exceeded");return gn(new n(n.LN10),e)}function Ac(n){for(var e="";n--;)e+="0";return e}function Jw(n,e){var t,i,r,s,a,o,l,u,d,h=1,g=10,v=n,b=v.d,C=v.constructor,E=C.precision;if(v.s<1)throw Error(Za+(v.s?"NaN":"-Infinity"));if(v.eq(ta))return new C(0);if(e==null?(Dn=!1,u=E):u=e,v.eq(10))return e==null&&(Dn=!0),YP(C,u);if(u+=g,C.precision=u,t=wA(b),i=t.charAt(0),s=yi(v),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)v=v.times(n),t=wA(v.d),i=t.charAt(0),h++;s=yi(v),i>1?(v=new C("0."+t),s++):v=new C(i+"."+t.slice(1))}else return l=YP(C,u+2,E).times(s+""),v=Jw(new C(i+"."+t.slice(1)),u-g).plus(l),C.precision=E,e==null?(Dn=!0,gn(v,E)):v;for(o=a=v=su(v.minus(ta),v.plus(ta),u),d=gn(v.times(v),u),r=3;;){if(a=gn(a.times(d),u),l=o.plus(su(a,new C(r),u)),wA(l.d).slice(0,u)===wA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(YP(C,u+2,E).times(s+""))),o=su(o,new C(h),u),C.precision=E,e==null?(Dn=!0,gn(o,E)):o;o=l,r+=2}}function c8(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=my(t/Tn),n.d=[],i=(t+1)%Tn,t<0&&(i+=Tn),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=Tn;i<r;)n.d.push(+e.slice(i,i+=Tn));e=e.slice(i),i=Tn-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),Dn&&(n.e>HT||n.e<-HT))throw Error(Kk+t)}else n.s=0,n.e=0,n.d=[0];return n}function gn(n,e,t){var i,r,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(i=e-a,i<0)i+=Tn,r=e,u=h[d=0];else{if(d=Math.ceil((i+1)/Tn),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;i%=Tn,r=i-Tn+a}if(t!==void 0&&(s=yf(10,a-r-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(i>0?r>0?u/yf(10,a-r):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=yi(n),h.length=1,e=e-s-1,h[0]=yf(10,(Tn-e%Tn)%Tn),n.e=my(-e/Tn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(i==0?(h.length=d,s=1,d--):(h.length=d+1,s=yf(10,Tn-i),h[d]=r>0?(u/yf(10,a-r)%yf(10,r)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==qi&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=qi)break;h[d--]=0,s=1}for(i=h.length;h[--i]===0;)h.pop();if(Dn&&(n.e>HT||n.e<-HT))throw Error(Kk+yi(n));return n}function g7(n,e){var t,i,r,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),Dn?gn(e,v):e;if(l=n.d,h=e.d,i=e.e,u=n.e,l=l.slice(),a=u-i,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,i=u,o=l.length),r=Math.max(Math.ceil(v/Tn),o)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=l.length,o=h.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(l[r]!=h[r]){d=l[r]<h[r];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,r=h.length-o;r>0;--r)l[o++]=0;for(r=h.length;r>a;){if(l[--r]<h[r]){for(s=r;s&&l[--s]===0;)l[s]=qi-1;--l[s],l[r]+=qi}l[r]-=h[r]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--i;return l[0]?(e.d=l,e.e=i,Dn?gn(e,v):e):new g(0)}function dp(n,e,t){var i,r=yi(n),s=wA(n.d),a=s.length;return e?(t&&(i=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ac(i):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+Ac(-r-1)+s,t&&(i=t-a)>0&&(s+=Ac(i))):r>=a?(s+=Ac(r+1-a),t&&(i=t-r-1)>0&&(s=s+"."+Ac(i))):((i=r+1)<a&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-a)>0&&(r+1===a&&(s+="."),s+=Ac(i))),n.s<0?"-"+s:s}function d8(n,e){if(n.length>e)return n.length=e,!0}function m7(n){var e,t,i;function r(s){var a=this;if(!(a instanceof r))return new r(s);if(a.constructor=r,s instanceof r){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(sp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return c8(a,s.toString())}else if(typeof s!="string")throw Error(sp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,D1e.test(s))c8(a,s);else throw Error(sp+s)}if(r.prototype=ke,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=m7,r.config=r.set=N1e,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function N1e(n){if(!n||typeof n!="object")throw Error(Za+"Object expected");var e,t,i,r=["precision",1,gy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(my(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(sp+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(sp+t+": "+i);return this}var Gk=m7(R1e);ta=new Gk(1);const jt=Gk;var L1e=n=>n,v7={},y7=n=>n===v7,f8=n=>function e(){return arguments.length===0||arguments.length===1&&y7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},w7=(n,e)=>n===1?e:f8(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var s=i.filter(a=>a!==v7).length;return s>=n?e(...i):w7(n-s,f8(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=i.map(d=>y7(d)?o.shift():d);return e(...u,...o)}))}),Q1e=n=>w7(n.length,n),YL=(n,e)=>{for(var t=[],i=n;i<e;++i)t[i-n]=i;return t},k1e=Q1e((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),O1e=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return L1e;var r=t.reverse(),s=r[0],a=r.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},XL=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function b7(n){var e;return n===0?e=1:e=Math.floor(new jt(n).abs().log(10).toNumber())+1,e}function C7(n,e,t){for(var i=new jt(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var B7=n=>{var[e,t]=n,[i,r]=[e,t];return e>t&&([i,r]=[t,e]),[i,r]},E7=(n,e,t)=>{if(n.lte(0))return new jt(0);var i=b7(n.toNumber()),r=new jt(10).pow(i),s=n.div(r),a=i!==1?.05:.1,o=new jt(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(r);return e?new jt(l.toNumber()):new jt(Math.ceil(l.toNumber()))},H1e=(n,e,t)=>{var i=new jt(1),r=new jt(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new jt(10).pow(b7(n)-1),r=new jt(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new jt(Math.floor(n)))}else n===0?r=new jt(Math.floor((e-1)/2)):t||(r=new jt(Math.floor(n)));var a=Math.floor((e-1)/2),o=O1e(k1e(l=>r.add(new jt(l-a).mul(i)).toNumber()),YL);return o(0,e)},S7=function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var a=E7(new jt(t).sub(e).div(i-1),r,s),o;e<=0&&t>=0?o=new jt(0):(o=new jt(e).add(t).div(2),o=o.sub(new jt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new jt(t).sub(o).div(a).toNumber()),d=l+u+1;return d>i?S7(e,t,i,r,s+1):(d<i&&(u=t>0?u+(i-d):u,l=t>0?l:l+(i-d)),{step:a,tickMin:o.sub(new jt(l).mul(a)),tickMax:o.add(new jt(u).mul(a))})},V1e=function(e){var[t,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=B7([t,i]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...YL(0,r-1).map(()=>1/0)]:[...YL(0,r-1).map(()=>-1/0),l];return t>i?XL(u):u}if(o===l)return H1e(o,r,s);var{step:d,tickMin:h,tickMax:g}=S7(o,l,a,s,0),v=C7(h,g.add(new jt(.1).mul(d)),d);return t>i?XL(v):v},K1e=function(e,t){var[i,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=B7([i,r]);if(a===-1/0||o===1/0)return[i,r];if(a===o)return[a];var l=Math.max(t,2),u=E7(new jt(o).sub(a).div(l-1),s,0),d=[...C7(new jt(a),new jt(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),i>r?XL(d):d},x7=n=>n.rootProps.maxBarSize,G1e=n=>n.rootProps.barGap,_7=n=>n.rootProps.barCategoryGap,z1e=n=>n.rootProps.barSize,yI=n=>n.rootProps.stackOffset,T7=n=>n.rootProps.reverseStackOrder,zk=n=>n.options.chartName,qk=n=>n.rootProps.syncId,I7=n=>n.rootProps.syncMethod,$k=n=>n.options.eventEmitter,ws={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Xl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Zs={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},wI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},q1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xl.angleAxisId,includeHidden:!1,name:void 0,reversed:Xl.reversed,scale:Xl.scale,tick:Xl.tick,tickCount:void 0,ticks:void 0,type:Xl.type,unit:void 0},$1e={allowDataOverflow:Zs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zs.scale,tick:Zs.tick,tickCount:Zs.tickCount,ticks:void 0,type:Zs.type,unit:void 0},j1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xl.scale,tick:Xl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},W1e={allowDataOverflow:Zs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zs.scale,tick:Zs.tick,tickCount:Zs.tickCount,ticks:void 0,type:"category",unit:void 0},jk=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?j1e:q1e,Wk=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?W1e:$1e,bI=n=>n.polarOptions,Yk=Ae([xu,_u,Wi],Kxe),F7=Ae([bI,Yk],(n,e)=>{if(n!=null)return To(n.innerRadius,e,0)}),U7=Ae([bI,Yk],(n,e)=>{if(n!=null)return To(n.outerRadius,e,e*.8)}),Y1e=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},M7=Ae([bI],Y1e);Ae([jk,M7],wI);var P7=Ae([Yk,F7,U7],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});Ae([Wk,P7],wI);var R7=Ae([Wt,bI,F7,U7,xu,_u],(n,e,t,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||i==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:To(a,r,r/2),cy:To(o,s,s/2),innerRadius:t,outerRadius:i,startAngle:l,endAngle:u,clockWise:!1}}}),Fi=(n,e)=>e,CI=(n,e,t)=>t;function Xk(n){return n==null?void 0:n.id}function D7(n,e,t){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:i;if(!(u==null||u.length===0)){var d=Xk(o);u.forEach((h,g)=>{var v=s==null||r?g:String(Pr(h,s,null)),b=Pr(h,o.dataKey,0),C;a.has(v)?C=a.get(v):C={},Object.assign(C,{[d]:b}),a.set(v,C)})}}),Array.from(a.values())}function BI(n){return n.stackId!=null&&n.dataKey!=null}var EI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function SI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function X1e(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var Ui=n=>{var e=Wt(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},vy=n=>n.tooltip.settings.axisId;function h8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function VT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(t),!0).forEach(function(i){J1e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function J1e(n,e,t){return(e=Z1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Z1e(n){var e=eIe(n,"string");return typeof e=="symbol"?e:e+""}function eIe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var JL=[0,"auto"],Li={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},N7=(n,e)=>n.cartesianAxis.xAxis[e],Iu=(n,e)=>{var t=N7(n,e);return t??Li},Qi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:JL,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:zB},L7=(n,e)=>n.cartesianAxis.yAxis[e],Fu=(n,e)=>{var t=L7(n,e);return t??Qi},tIe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Jk=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??tIe},Wr=(n,e,t)=>{switch(e){case"xAxis":return Iu(n,t);case"yAxis":return Fu(n,t);case"zAxis":return Jk(n,t);case"angleAxis":return jk(n,t);case"radiusAxis":return Wk(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},nIe=(n,e,t)=>{switch(e){case"xAxis":return Iu(n,t);case"yAxis":return Fu(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},JB=(n,e,t)=>{switch(e){case"xAxis":return Iu(n,t);case"yAxis":return Fu(n,t);case"angleAxis":return jk(n,t);case"radiusAxis":return Wk(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},Q7=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function k7(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var Zk=n=>n.graphicalItems.cartesianItems,iIe=Ae([Fi,CI],k7),O7=(n,e,t)=>n.filter(t).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),ZB=Ae([Zk,Wr,iIe],O7,{memoizeOptions:{resultEqualityCheck:SI}}),H7=Ae([ZB],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(BI)),V7=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),rIe=Ae([ZB],V7),K7=n=>n.map(e=>e.data).filter(Boolean).flat(1),sIe=Ae([ZB],K7,{memoizeOptions:{resultEqualityCheck:SI}}),G7=(n,e)=>{var{chartData:t=[],dataStartIndex:i,dataEndIndex:r}=e;return n.length>0?n:t.slice(i,r+1)},eO=Ae([sIe,Vk],G7),z7=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(i=>({value:Pr(i,e.dataKey)})):t.length>0?t.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:Pr(r,i)}))):n.map(i=>({value:i})),xI=Ae([eO,Wr,ZB],z7);function q7(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function P_(n){if(BA(n)||n instanceof Date){var e=Number(n);if(si(e))return e}}function p8(n){if(Array.isArray(n)){var e=[P_(n[0]),P_(n[1])];return Dd(e)?e:void 0}var t=P_(n);if(t!=null)return[t,t]}function vu(n){return n.map(P_).filter(cCe)}function aIe(n,e,t){return!t||typeof e!="number"||CA(e)?[]:t.length?vu(t.flatMap(i=>{var r=Pr(n,i.dataKey),s,a;if(Array.isArray(r)?[s,a]=r:s=a=r,!(!si(s)||!si(a)))return[e-s,e+a]})):[]}var Mi=n=>{var e=Ui(n),t=vy(n);return JB(n,e,t)},eE=Ae([Mi],n=>n==null?void 0:n.dataKey),oIe=Ae([H7,Vk,Mi],D7),$7=(n,e,t,i)=>{var r={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=i?[...l].reverse():l,d=u.map(Xk);return[o,{stackedData:UEe(n,d,t),graphicalItems:u}]}))},ZL=Ae([oIe,H7,yI,T7],$7),j7=(n,e,t,i)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(i==null&&t!=="zAxis"){var a=NEe(n,r,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},AIe=Ae([Wr],n=>n.allowDataOverflow),tO=n=>{var e;if(n==null||!("domain"in n))return JL;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=vu(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:JL},W7=Ae([Wr],tO),Y7=Ae([W7,AIe],d7),lIe=Ae([ZL,Vd,Fi,Y7],j7,{memoizeOptions:{resultEqualityCheck:EI}}),nO=n=>n.errorBars,uIe=(n,e,t)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>q7(t,i)),KT=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);if(r.length!==0){var s=r.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},X7=(n,e,t,i,r)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=i[l.id])===null||u===void 0?void 0:u.filter(x=>q7(r,x)),g=Pr(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=aIe(o,g,h);if(v.length>=2){var b=Math.min(...v),C=Math.max(...v);(s==null||b<s)&&(s=b),(a==null||C>a)&&(a=C)}var E=p8(g);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),a=a==null?E[1]:Math.max(a,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=p8(Pr(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),si(s)&&si(a))return[s,a]},cIe=Ae([eO,Wr,rIe,nO,Fi],X7,{memoizeOptions:{resultEqualityCheck:EI}});function dIe(n){var{value:e}=n;if(BA(e)||e instanceof Date)return e}var fIe=(n,e,t)=>{var i=n.map(dIe).filter(r=>r!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&p9(i))?UJ(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},J7=n=>n.referenceElements.dots,yy=(n,e,t)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===t:i.yAxisId===t),hIe=Ae([J7,Fi,CI],yy),Z7=n=>n.referenceElements.areas,pIe=Ae([Z7,Fi,CI],yy),eZ=n=>n.referenceElements.lines,gIe=Ae([eZ,Fi,CI],yy),tZ=(n,e)=>{var t=vu(n.map(i=>e==="xAxis"?i.x:i.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},mIe=Ae(hIe,Fi,tZ),nZ=(n,e)=>{var t=vu(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},vIe=Ae([pIe,Fi],nZ);function yIe(n){var e;if(n.x!=null)return vu([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.x);return t==null||t.length===0?[]:vu(t)}function wIe(n){var e;if(n.y!=null)return vu([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.y);return t==null||t.length===0?[]:vu(t)}var iZ=(n,e)=>{var t=n.flatMap(i=>e==="xAxis"?yIe(i):wIe(i));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},bIe=Ae([gIe,Fi],iZ),CIe=Ae(mIe,bIe,vIe,(n,e,t)=>KT(n,t,e)),rZ=(n,e,t,i,r,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?KT(i,s,r):KT(s,r);return P1e(e,u,n.allowDataOverflow)},BIe=Ae([Wr,W7,Y7,lIe,cIe,CIe,Wt,Fi],rZ,{memoizeOptions:{resultEqualityCheck:EI}}),EIe=[0,1],sZ=(n,e,t,i,r,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=yp(e,s);if(u&&o==null){var d;return UJ(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?fIe(i,n,u):r==="expand"?EIe:a}},iO=Ae([Wr,Wt,eO,xI,yI,Fi,BIe],sZ),aZ=(n,e,t,i,r)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":a==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(OB(s));return o in vw?o:"point"}}},tE=Ae([Wr,Wt,Q7,zk,Fi],aZ);function SIe(n){if(n!=null){if(n in vw)return vw[n]();var e="scale".concat(OB(n));if(e in vw)return vw[e]()}}function rO(n,e,t,i){if(!(t==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(i);var r=SIe(e);if(r!=null){var s=r.domain(t).range(i);return xEe(s),s}}}var oZ=(n,e,t)=>{var i=tO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Dd(n))return V1e(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Dd(n))return K1e(n,e.tickCount,e.allowDecimals)}},sO=Ae([iO,JB,tE],oZ),AZ=(n,e,t,i)=>{if(i!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&Dd(e)&&Array.isArray(t)&&t.length>0){var r=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(r,s),Math.max(a,o)]}return e},xIe=Ae([Wr,iO,sO,Fi],AZ),_Ie=Ae(xI,Wr,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,i=Array.from(vu(n.map(o=>o.value))).sort((o,l)=>o-l);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var s=0;s<i.length-1;s++){var a=i[s+1]-i[s];t=Math.min(t,a)}return t/r}}),lZ=Ae(_Ie,Wt,_7,Wi,(n,e,t,i)=>i,(n,e,t,i,r)=>{if(!si(n))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var a=To(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),TIe=(n,e)=>{var t=Iu(n,e);return t==null||typeof t.padding!="string"?0:lZ(n,"xAxis",e,t.padding)},IIe=(n,e)=>{var t=Fu(n,e);return t==null||typeof t.padding!="string"?0:lZ(n,"yAxis",e,t.padding)},FIe=Ae(Iu,TIe,(n,e)=>{var t,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:e,right:e}:{left:((t=r.left)!==null&&t!==void 0?t:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),UIe=Ae(Fu,IIe,(n,e)=>{var t,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:e,bottom:e}:{top:((t=r.top)!==null&&t!==void 0?t:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),MIe=Ae([Wi,FIe,aI,sI,(n,e,t)=>t],(n,e,t,i,r)=>{var{padding:s}=i;return r?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),PIe=Ae([Wi,Wt,UIe,aI,sI,(n,e,t)=>t],(n,e,t,i,r,s)=>{var{padding:a}=r;return s?[i.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),nE=(n,e,t,i)=>{var r;switch(e){case"xAxis":return MIe(n,t,i);case"yAxis":return PIe(n,t,i);case"zAxis":return(r=Jk(n,t))===null||r===void 0?void 0:r.range;case"angleAxis":return M7(n);case"radiusAxis":return P7(n,t);default:return}},uZ=Ae([Wr,nE],wI),wy=Ae([Wr,tE,xIe,uZ],rO);Ae([ZB,nO,Fi],uIe);function cZ(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var _I=(n,e)=>e,TI=(n,e,t)=>t,RIe=Ae(iI,_I,TI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(cZ)),DIe=Ae(rI,_I,TI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(cZ)),dZ=(n,e)=>({width:n.width,height:e.height}),NIe=(n,e)=>{var t=typeof e.width=="number"?e.width:zB;return{width:t,height:n.height}},fZ=Ae(Wi,Iu,dZ),LIe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},QIe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},kIe=Ae(_u,Wi,RIe,_I,TI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=dZ(e,o);a==null&&(a=LIe(e,i,n));var u=i==="top"&&!r||i==="bottom"&&r;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),OIe=Ae(xu,Wi,DIe,_I,TI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=NIe(e,o);a==null&&(a=QIe(e,i,n));var u=i==="left"&&!r||i==="right"&&r;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),HIe=(n,e)=>{var t=Iu(n,e);if(t!=null)return kIe(n,t.orientation,t.mirror)},VIe=Ae([Wi,Iu,HIe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),KIe=(n,e)=>{var t=Fu(n,e);if(t!=null)return OIe(n,t.orientation,t.mirror)},GIe=Ae([Wi,Fu,KIe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),hZ=Ae(Wi,Fu,(n,e)=>{var t=typeof e.width=="number"?e.width:zB;return{width:t,height:n.height}}),g8=(n,e,t)=>{switch(e){case"xAxis":return fZ(n,t).width;case"yAxis":return hZ(n,t).height;default:return}},pZ=(n,e,t,i)=>{if(t!=null){var{allowDuplicatedCategory:r,type:s,dataKey:a}=t,o=yp(n,i),l=e.map(u=>u.value);if(a&&o&&s==="category"&&r&&p9(l))return l}},aO=Ae([Wt,xI,Wr,Fi],pZ),gZ=(n,e,t,i)=>{if(!(t==null||t.dataKey==null)){var{type:r,scale:s}=t,a=yp(n,i);if(a&&(r==="number"||s!=="auto"))return e.map(o=>o.value)}},oO=Ae([Wt,xI,JB,Fi],gZ);Ae([Wt,nIe,tE,wy,aO,oO,nE,sO,Fi],(n,e,t,i,r,s,a,o,l)=>{if(e!=null){var u=yp(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:r,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:i}}});var zIe=(n,e,t,i,r,s,a,o,l)=>{if(!(e==null||i==null)){var u=yp(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,b=d==="category"&&i.bandwidth?i.bandwidth()/v:0;b=l==="angleAxis"&&s!=null&&s.length>=2?na(s[0]-s[1])*2*b:b;var C=h||r;if(C){var E=C.map((x,I)=>{var T=a?a.indexOf(x):x;return{index:I,coordinate:i(T)+b,value:x,offset:b}});return E.filter(x=>si(x.coordinate))}return u&&o?o.map((x,I)=>({coordinate:i(x)+b,value:x,index:I,offset:b})).filter(x=>si(x.coordinate)):i.ticks?i.ticks(g).map(x=>({coordinate:i(x)+b,value:x,offset:b})):i.domain().map((x,I)=>({coordinate:i(x)+b,value:a?a[x]:x,index:I,offset:b}))}},mZ=Ae([Wt,JB,tE,wy,sO,nE,aO,oO,Fi],zIe),qIe=(n,e,t,i,r,s,a)=>{if(!(e==null||t==null||i==null||i[0]===i[1])){var o=yp(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(i==null?void 0:i.length)>=2?na(i[0]-i[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:r?r[d]:d,index:h,offset:u}))}},ry=Ae([Wt,JB,wy,nE,aO,oO,Fi],qIe),sy=Ae(Wr,wy,(n,e)=>{if(!(n==null||e==null))return VT(VT({},n),{},{scale:e})}),$Ie=Ae([Wr,tE,iO,uZ],rO);Ae((n,e,t)=>Jk(n,t),$Ie,(n,e)=>{if(!(n==null||e==null))return VT(VT({},n),{},{scale:e})});var jIe=Ae([Wt,iI,rI],(n,e,t)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),vZ=n=>n.options.defaultTooltipEventType,yZ=n=>n.options.validateTooltipEventTypes;function wZ(n,e,t){if(n==null)return e;var i=n?"axis":"item";return t==null?e:t.includes(i)?i:e}function AO(n,e){var t=vZ(n),i=yZ(n);return wZ(e,t,i)}function WIe(n){return Je(e=>AO(e,n))}var bZ=(n,e)=>{var t,i=Number(e);if(!(CA(i)||e==null))return i>=0?n==null||(t=n[i])===null||t===void 0?void 0:t.value:void 0},YIe=n=>n.tooltip.settings,dc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},XIe={itemInteraction:{click:dc,hover:dc},axisInteraction:{click:dc,hover:dc},keyboardInteraction:dc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CZ=bs({name:"tooltip",initialState:XIe,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:Rn()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:i}=e.payload,r=_o(n).tooltipItemPayloads.indexOf(t);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:Rn()},removeTooltipEntrySettings:{reducer(n,e){var t=_o(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:Rn()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:JIe,replaceTooltipEntrySettings:ZIe,removeTooltipEntrySettings:eFe,setTooltipSettingsState:tFe,setActiveMouseOverItemIndex:BZ,mouseLeaveItem:nFe,mouseLeaveChart:EZ,setActiveClickItemIndex:iFe,setMouseOverAxisIndex:SZ,setMouseClickAxisIndex:rFe,setSyncInteraction:eQ,setKeyboardInteraction:tQ}=CZ.actions,sFe=CZ.reducer;function m8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(t),!0).forEach(function(i){aFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function aFe(n,e,t){return(e=oFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oFe(n){var e=AFe(n,"string");return typeof e=="symbol"?e:e+""}function AFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lFe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function uFe(n){return n.index!=null}var xZ=(n,e,t,i)=>{if(e==null)return dc;var r=lFe(n,e,t);if(r==null)return dc;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(uFe(r)){if(s)return bx(bx({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return bx(bx({},dc),{},{coordinate:r.coordinate})};function cFe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function dFe(n,e){var t=cFe(n),i=e[0],r=e[1];if(t===void 0)return!1;var s=Math.min(i,r),a=Math.max(i,r);return t>=s&&t<=a}function fFe(n,e,t){if(t==null||e==null)return!0;var i=Pr(n,e);return i==null||!Dd(t)?!0:dFe(i,t)}var lO=(n,e,t,i)=>{var r=n==null?void 0:n.index;if(r==null)return null;var s=Number(r);if(!si(s))return r;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||fFe(u,t,i)?String(l):null},_Z=(n,e,t,i,r,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=r==null?void 0:r[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+n)/2,y:d.coordinate}}}},TZ=(n,e,t,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;return t==="hover"?r=n.itemInteraction.hover.dataKey:r=n.itemInteraction.click.dataKey,r==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===r})},iE=n=>n.options.tooltipPayloadSearcher,by=n=>n.tooltip;function v8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function y8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(t),!0).forEach(function(i){hFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hFe(n,e,t){return(e=pFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pFe(n){var e=gFe(n,"string");return typeof e=="symbol"?e:e+""}function gFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mFe(n,e){return n??e}var IZ=(n,e,t,i,r,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var b,{dataDefinedOnItem:C,settings:E}=v,x=mFe(C,o),I=Array.isArray(x)?oJ(x,u,d):x,T=(b=E==null?void 0:E.dataKey)!==null&&b!==void 0?b:i,R=E==null?void 0:E.nameKey,P;if(i&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?P=uCe(I,i,r):P=s(I,e,l,R),Array.isArray(P))P.forEach(L=>{var H=y8(y8({},E),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(Hq({tooltipEntrySettings:H,dataKey:L.dataKey,payload:L.payload,value:Pr(L.payload,L.dataKey),name:L.name}))});else{var D;g.push(Hq({tooltipEntrySettings:E,dataKey:T,payload:P,value:Pr(P,T),name:(D=Pr(P,R))!==null&&D!==void 0?D:E==null?void 0:E.name}))}return g},h)}},uO=Ae([Mi,Wt,Q7,zk,Ui],aZ),vFe=Ae([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),yFe=Ae([Ui,vy],k7),rE=Ae([vFe,Mi,yFe],O7,{memoizeOptions:{resultEqualityCheck:SI}}),wFe=Ae([rE],n=>n.filter(BI)),bFe=Ae([rE],K7,{memoizeOptions:{resultEqualityCheck:SI}}),Cy=Ae([bFe,Vd],G7),CFe=Ae([wFe,Vd,Mi],D7),cO=Ae([Cy,Mi,rE],z7),FZ=Ae([Mi],tO),BFe=Ae([Mi],n=>n.allowDataOverflow),UZ=Ae([FZ,BFe],d7),EFe=Ae([rE],n=>n.filter(BI)),SFe=Ae([CFe,EFe,yI,T7],$7),xFe=Ae([SFe,Vd,Ui,UZ],j7),_Fe=Ae([rE],V7),TFe=Ae([Cy,Mi,_Fe,nO,Ui],X7,{memoizeOptions:{resultEqualityCheck:EI}}),IFe=Ae([J7,Ui,vy],yy),FFe=Ae([IFe,Ui],tZ),UFe=Ae([Z7,Ui,vy],yy),MFe=Ae([UFe,Ui],nZ),PFe=Ae([eZ,Ui,vy],yy),RFe=Ae([PFe,Ui],iZ),DFe=Ae([FFe,RFe,MFe],KT),NFe=Ae([Mi,FZ,UZ,xFe,TFe,DFe,Wt,Ui],rZ),sE=Ae([Mi,Wt,Cy,cO,yI,Ui,NFe],sZ),LFe=Ae([sE,Mi,uO],oZ),QFe=Ae([Mi,sE,LFe,Ui],AZ),MZ=n=>{var e=Ui(n),t=vy(n),i=!1;return nE(n,e,t,i)},PZ=Ae([Mi,MZ],wI),RZ=Ae([Mi,uO,QFe,PZ],rO),kFe=Ae([Wt,cO,Mi,Ui],pZ),OFe=Ae([Wt,cO,Mi,Ui],gZ),HFe=(n,e,t,i,r,s,a,o)=>{if(e){var{type:l}=e,u=yp(n,o);if(i){var d=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,h=l==="category"&&i.bandwidth?i.bandwidth()/d:0;return h=o==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?na(r[0]-r[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:i(g)+h,value:g,index:v,offset:h})):i.domain().map((g,v)=>({coordinate:i(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},Uu=Ae([Wt,Mi,uO,RZ,MZ,kFe,OFe,Ui],HFe),dO=Ae([vZ,yZ,YIe],(n,e,t)=>wZ(t.shared,n,e)),DZ=n=>n.tooltip.settings.trigger,fO=n=>n.tooltip.settings.defaultIndex,aE=Ae([by,dO,DZ,fO],xZ),ay=Ae([aE,Cy,eE,sE],lO),NZ=Ae([Uu,ay],bZ),LZ=Ae([aE],n=>{if(n)return n.dataKey});Ae([aE],n=>{if(n)return n.graphicalItemId});var QZ=Ae([by,dO,DZ,fO],TZ),VFe=Ae([xu,_u,Wt,Wi,Uu,fO,QZ,iE],_Z),KFe=Ae([aE,VFe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),GFe=Ae([aE],n=>n.active),zFe=Ae([QZ,ay,Vd,eE,NZ,iE,dO],IZ);Ae([zFe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function w8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function b8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(t),!0).forEach(function(i){qFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function qFe(n,e,t){return(e=$Fe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $Fe(n){var e=jFe(n,"string");return typeof e=="symbol"?e:e+""}function jFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var WFe=()=>Je(Mi),YFe=()=>{var n=WFe(),e=Je(Uu),t=Je(RZ);return BT(!n||!t?void 0:b8(b8({},n),{},{scale:t}),e)};function C8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(t),!0).forEach(function(i){XFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function XFe(n,e,t){return(e=JFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JFe(n){var e=ZFe(n,"string");return typeof e=="symbol"?e:e+""}function ZFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var eUe=(n,e,t,i)=>{var r=e.find(s=>s&&s.index===t);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},tUe=(n,e,t,i)=>{var r=e.find(u=>u&&u.index===t);if(r){if(n==="centric"){var s=r.coordinate,{radius:a}=i;return pg(pg(pg({},i),gr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var o=r.coordinate,{angle:l}=i;return pg(pg(pg({},i),gr(i.cx,i.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nUe(n,e){var{chartX:t,chartY:i}=n;return t>=e.left&&t<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var kZ=(n,e,t,i,r)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if(na(d-u)!==na(h-d)){var v=[];if(na(h-d)===na(r[1]-r[0])){g=h;var b=d+r[1]-r[0];v[0]=Math.min(b,(b+u)/2),v[1]=Math.max(b,(b+u)/2)}else{g=u;var C=h+r[1]-r[0];v[0]=Math.min(d,(C+d)/2),v[1]=Math.max(d,(C+d)/2)}var E=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>E[0]&&n<=E[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var x=Math.min(u,h),I=Math.max(u,h);if(n>(x+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},iUe=()=>Je(zk),hO=(n,e)=>e,OZ=(n,e,t)=>t,pO=(n,e,t,i)=>i,rUe=Ae(Uu,n=>j1(n,e=>e.coordinate)),gO=Ae([by,hO,OZ,pO],xZ),mO=Ae([gO,Cy,eE,sE],lO),sUe=(n,e,t)=>{if(e!=null){var i=by(n);return e==="axis"?t==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:t==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},HZ=Ae([by,hO,OZ,pO],TZ),GT=Ae([xu,_u,Wt,Wi,Uu,pO,HZ,iE],_Z),aUe=Ae([gO,GT],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),VZ=Ae([Uu,mO],bZ),oUe=Ae([HZ,mO,Vd,eE,VZ,iE,hO],IZ),AUe=Ae([gO,mO],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),lUe=(n,e,t,i,r,s,a)=>{if(!(!n||!t||!i||!r)&&nUe(n,a)){var o=LEe(n,e),l=kZ(o,s,r,t,i),u=eUe(e,r,l,n);return{activeIndex:String(l),activeCoordinate:u}}},uUe=(n,e,t,i,r,s,a)=>{if(!(!n||!i||!r||!s||!t)){var o=jxe(n,t);if(o){var l=QEe(o,e),u=kZ(l,a,s,i,r),d=tUe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},cUe=(n,e,t,i,r,s,a,o)=>{if(!(!n||!e||!i||!r||!s))return e==="horizontal"||e==="vertical"?lUe(n,e,i,r,s,a,o):uUe(n,e,t,i,r,s,a)},dUe=Ae(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var i=n[e];if(i!=null)return t?i.panoramaElementId:i.elementId}}),fUe=Ae(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(ws)),t=Array.from(new Set(e));return t.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:X1e}});function B8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function E8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(t),!0).forEach(function(i){hUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hUe(n,e,t){return(e=pUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pUe(n){var e=gUe(n,"string");return typeof e=="symbol"?e:e+""}function gUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var mUe={},vUe={zIndexMap:Object.values(ws).reduce((n,e)=>E8(E8({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),mUe)},yUe=new Set(Object.values(ws));function wUe(n){return yUe.has(n)}var KZ=bs({name:"zIndex",initialState:vUe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Rn()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!wUe(t)&&delete n.zIndexMap[t])},prepare:Rn()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:i,isPanorama:r}=e.payload;n.zIndexMap[t]?r?n.zIndexMap[t].panoramaElementId=i:n.zIndexMap[t].elementId=i:n.zIndexMap[t]={consumers:0,elementId:r?void 0:i,panoramaElementId:r?i:void 0}},prepare:Rn()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:Rn()}}}),{registerZIndexPortal:bUe,unregisterZIndexPortal:CUe,registerZIndexPortalId:BUe,unregisterZIndexPortalId:EUe}=KZ.actions,SUe=KZ.reducer;function Kd(n){var{zIndex:e,children:t}=n,i=wSe(),r=i&&e!==void 0&&e!==0,s=Aa(),a=ai();M.useLayoutEffect(()=>r?(a(bUe({zIndex:e})),()=>{a(CUe({zIndex:e}))}):HB,[a,e,r]);var o=Je(u=>dUe(u,e,s));if(!r)return t;if(!o)return null;var l=document.getElementById(o);return l?j$.createPortal(t,l):null}function nQ(){return nQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nQ.apply(null,arguments)}function S8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Cx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(t),!0).forEach(function(i){xUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xUe(n,e,t){return(e=_Ue(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Ue(n){var e=TUe(n,"string");return typeof e=="symbol"?e:e+""}function TUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function IUe(n){var{cursor:e,cursorComp:t,cursorProps:i}=n;return M.isValidElement(e)?M.cloneElement(e,i):M.createElement(t,i)}function FUe(n){var e,{coordinate:t,payload:i,index:r,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=i,v=r;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var b,C,E;if(d==="ScatterChart")b=h,C=Axe,E=ws.cursorLine;else if(d==="BarChart")b=lxe(o,h,s,a),C=_J,E=ws.cursorRectangle;else if(o==="radial"&&v9(h)){var{cx:x,cy:I,radius:T,startAngle:R,endAngle:P}=TJ(h);b={cx:x,cy:I,startAngle:R,endAngle:P,innerRadius:T,outerRadius:T},C=FJ,E=ws.cursorLine}else b={points:Jxe(o,h,s)},C=CJ,E=ws.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,L=Cx(Cx(Cx(Cx({stroke:"#ccc",pointerEvents:"none"},s),b),WQ(l)),{},{payload:g,payloadIndex:v,className:In("recharts-tooltip-cursor",D)});return M.createElement(Kd,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:E},M.createElement(IUe,{cursor:l,cursorComp:C,cursorProps:L}))}function UUe(n){var e=YFe(),t=mSe(),i=AI(),r=iUe();return e==null||t==null||i==null||r==null?null:M.createElement(FUe,nQ({},n,{offset:t,layout:i,tooltipAxisBandSize:e,chartName:r}))}var GZ=M.createContext(null),MUe=()=>M.useContext(GZ),XP={exports:{}},x8;function PUe(){return x8||(x8=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new r(d,h||l,g),b=t?t+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],v]:l._events[b].push(v):(l._events[b]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,b=new Array(v);g<v;g++)b[g]=h[g].fn;return b},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,b){var C=t?t+u:u;if(!this._events[C])return!1;var E=this._events[C],x=arguments.length,I,T;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,g),!0;case 5:return E.fn.call(E.context,d,h,g,v),!0;case 6:return E.fn.call(E.context,d,h,g,v,b),!0}for(T=1,I=new Array(x-1);T<x;T++)I[T-1]=arguments[T];E.fn.apply(E.context,I)}else{var R=E.length,P;for(T=0;T<R;T++)switch(E[T].once&&this.removeListener(u,E[T].fn,void 0,!0),x){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,d);break;case 3:E[T].fn.call(E[T].context,d,h);break;case 4:E[T].fn.call(E[T].context,d,h,g);break;default:if(!I)for(P=1,I=new Array(x-1);P<x;P++)I[P-1]=arguments[P];E[T].fn.apply(E[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===d&&(!g||b.once)&&(!h||b.context===h)&&a(this,v);else{for(var C=0,E=[],x=b.length;C<x;C++)(b[C].fn!==d||g&&!b[C].once||h&&b[C].context!==h)&&E.push(b[C]);E.length?this._events[v]=E.length===1?E[0]:E:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(XP)),XP.exports}var RUe=PUe();const DUe=_A(RUe);var Zw=new DUe,iQ="recharts.syncEvent.tooltip",_8="recharts.syncEvent.brush";function NUe(n,e){if(e){var t=Number.parseInt(e,10);if(!CA(t))return n==null?void 0:n[t]}}var LUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zZ=bs({name:"options",initialState:LUe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),QUe=zZ.reducer,{createEventEmitter:kUe}=zZ.actions;function OUe(n){return n.tooltip.syncInteraction}var HUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},qZ=bs({name:"chartData",initialState:HUe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:i}=e.payload;t!=null&&(n.dataStartIndex=t),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:T8,setDataStartEndIndexes:VUe,setComputedData:mQe}=qZ.actions,KUe=qZ.reducer,GUe=["x","y"];function I8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(t),!0).forEach(function(i){zUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function zUe(n,e,t){return(e=qUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qUe(n){var e=$Ue(n,"string");return typeof e=="symbol"?e:e+""}function $Ue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jUe(n,e){if(n==null)return{};var t,i,r=WUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function WUe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function YUe(){var n=Je(qk),e=Je($k),t=ai(),i=Je(I7),r=Je(Uu),s=AI(),a=oI(),o=Je(l=>l.rootProps.className);M.useEffect(()=>{if(n==null)return HB;var l=(u,d,h)=>{if(e!==h&&n===u){if(i==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:b,y:C}=v,E=jUe(v,GUe),{x,y:I,width:T,height:R}=d.payload.sourceViewBox,P=gg(gg({},E),{},{x:a.x+(T?(b-x)/T:0)*a.width,y:a.y+(R?(C-I)/R:0)*a.height});t(gg(gg({},d),{},{payload:gg(gg({},d.payload),{},{coordinate:P})}))}else t(d);return}if(r!=null){var D;if(typeof i=="function"){var L={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=i(r,L);D=r[H]}else i==="value"&&(D=r.find(G=>String(G.value)===d.payload.label));var{coordinate:k}=d.payload;if(D==null||d.payload.active===!1||k==null||a==null){t(eQ({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:V}=k,q=Math.min(K,a.x+a.width),X=Math.min(V,a.y+a.height),ne={x:s==="horizontal"?D.coordinate:q,y:s==="horizontal"?X:D.coordinate},he=eQ({active:d.payload.active,coordinate:ne,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(he)}}};return Zw.on(iQ,l),()=>{Zw.off(iQ,l)}},[o,t,e,n,i,r,s,a])}function XUe(){var n=Je(qk),e=Je($k),t=ai();M.useEffect(()=>{if(n==null)return HB;var i=(r,s,a)=>{e!==a&&n===r&&t(VUe(s))};return Zw.on(_8,i),()=>{Zw.off(_8,i)}},[t,e,n])}function JUe(){var n=ai();M.useEffect(()=>{n(kUe())},[n]),YUe(),XUe()}function ZUe(n,e,t,i,r,s){var a=Je(v=>sUe(v,n,e)),o=Je($k),l=Je(qk),u=Je(I7),d=Je(OUe),h=d==null?void 0:d.active,g=oI();M.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=eQ({active:s,coordinate:t,dataKey:a,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});Zw.emit(iQ,l,v,o)}},[h,t,a,r,i,o,l,u,s,g])}function F8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function U8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(t),!0).forEach(function(i){eMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function eMe(n,e,t){return(e=tMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tMe(n){var e=nMe(n,"string");return typeof e=="symbol"?e:e+""}function nMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iMe(n){return n.dataKey}function rMe(n,e){return M.isValidElement(n)?M.cloneElement(n,e):typeof n=="function"?M.createElement(n,e):M.createElement(HSe,e)}var M8=[],sMe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function aMe(n){var e,t,i=eo(n,sMe),{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:b,useTranslate3d:C,wrapperStyle:E,cursor:x,shared:I,trigger:T,defaultIndex:R,portal:P,axisId:D}=i,L=ai(),H=typeof R=="number"?String(R):R;M.useEffect(()=>{L(tFe({shared:I,trigger:T,axisId:D,active:r,defaultIndex:H}))},[L,I,T,D,r,H]);var k=oI(),K=bJ(),V=WIe(I),{activeIndex:q,isActive:X}=(e=Je(Ce=>AUe(Ce,V,T,H)))!==null&&e!==void 0?e:{},ne=Je(Ce=>oUe(Ce,V,T,H)),he=Je(Ce=>VZ(Ce,V,T,H)),G=Je(Ce=>aUe(Ce,V,T,H)),$=ne,se=MUe(),ae=(t=r??X)!==null&&t!==void 0?t:!1,[be,z]=bBe([$,ae]),J=V==="axis"?he:void 0;ZUe(V,T,G,J,q,ae);var le=P??se;if(le==null||k==null||V==null)return null;var ve=$??M8;ae||(ve=M8),u&&ve.length&&(ve=$Ce(ve.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||i.includeHidden)),g,iMe));var Ee=ve.length>0,Fe=M.createElement(jSe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:ae,coordinate:G,hasPayload:Ee,offset:h,position:v,reverseDirection:b,useTranslate3d:C,viewBox:k,wrapperStyle:E,lastBoundingBox:be,innerRef:z,hasPortalFromProps:!!P},rMe(l,U8(U8({},i),{},{payload:ve,label:J,active:ae,activeIndex:q,coordinate:G,accessibilityLayer:K})));return M.createElement(M.Fragment,null,j$.createPortal(Fe,le),ae&&M.createElement(UUe,{cursor:x,tooltipEventType:V,coordinate:G,payload:ve,index:q}))}var vO=n=>null;vO.displayName="Cell";function oMe(n,e,t){return(e=AMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AMe(n){var e=lMe(n,"string");return typeof e=="symbol"?e:e+""}function lMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class uMe{constructor(e){oMe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function P8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cMe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(t),!0).forEach(function(i){dMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dMe(n,e,t){return(e=fMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fMe(n){var e=hMe(n,"string");return typeof e=="symbol"?e:e+""}function hMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var pMe={cacheSize:2e3,enableCache:!0},$Z=cMe({},pMe),R8=new uMe($Z.cacheSize),gMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},D8="recharts_measurement_span";function mMe(n,e){var t=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(o)}var N8=(n,e)=>{try{var t=document.getElementById(D8);t||(t=document.createElement("span"),t.setAttribute("id",D8),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,gMe,e),t.textContent="".concat(n);var i=t.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},_w=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$B.isSsr)return{width:0,height:0};if(!$Z.enableCache)return N8(e,t);var i=mMe(e,t),r=R8.get(i);if(r)return r;var s=N8(e,t);return R8.set(i,s),s},L8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wMe=Object.keys(jZ),Ng="NaN";function bMe(n,e){return n*jZ[e]}class gs{static parse(e){var t,[,i,r]=(t=yMe.exec(e))!==null&&t!==void 0?t:[];return new gs(parseFloat(i),r??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,CA(e)&&(this.unit=""),t!==""&&!vMe.test(t)&&(this.num=NaN,this.unit=""),wMe.includes(t)&&(this.num=bMe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new gs(NaN,""):new gs(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new gs(NaN,""):new gs(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gs(NaN,""):new gs(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gs(NaN,""):new gs(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return CA(this.num)}}function WZ(n){if(n.includes(Ng))return Ng;for(var e=n;e.includes("*")||e.includes("/");){var t,[,i,r,s]=(t=L8.exec(e))!==null&&t!==void 0?t:[],a=gs.parse(i??""),o=gs.parse(s??""),l=r==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Ng;e=e.replace(L8,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=Q8.exec(e))!==null&&u!==void 0?u:[],v=gs.parse(d??""),b=gs.parse(g??""),C=h==="+"?v.add(b):v.subtract(b);if(C.isNaN())return Ng;e=e.replace(Q8,C.toString())}return e}var k8=/\(([^()]*)\)/;function CMe(n){for(var e=n,t;(t=k8.exec(e))!=null;){var[,i]=t;e=e.replace(k8,WZ(i))}return e}function BMe(n){var e=n.replace(/\s+/g,"");return e=CMe(e),e=WZ(e),e}function EMe(n){try{return BMe(n)}catch{return Ng}}function JP(n){var e=EMe(n.slice(5,-1));return e===Ng?"":e}var SMe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xMe=["dx","dy","angle","className","breakAll"];function rQ(){return rQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rQ.apply(null,arguments)}function O8(n,e){if(n==null)return{};var t,i,r=_Me(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function _Me(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var YZ=/[ \f\n\r\t\v\u2028\u2029]+/,XZ=n=>{var{children:e,breakAll:t,style:i}=n;try{var r=[];ji(e)||(t?r=e.toString().split(""):r=e.toString().split(YZ));var s=r.map(o=>({word:o,width:_w(o,i).width})),a=t?0:_w("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function TMe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var JZ=(n,e,t,i)=>n.reduce((r,s)=>{var{word:a,width:o}=s,l=r[r.length-1];if(l&&o!=null&&(e==null||i||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};r.push(u)}return r},[]),ZZ=n=>n.reduce((e,t)=>e.width>t.width?e:t),IMe="",H8=(n,e,t,i,r,s,a,o)=>{var l=n.slice(0,e),u=XZ({breakAll:t,style:i,children:l+IMe});if(!u)return[!1,[]];var d=JZ(u.wordsWithComputedWidth,s,a,o),h=d.length>r||ZZ(d).width>Number(s);return[h,d]},FMe=(n,e,t,i,r)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=tt(s),d=String(a),h=JZ(e,i,t,r);if(!u||r)return h;var g=h.length>s||ZZ(h).width>Number(i);if(!g)return h;for(var v=0,b=d.length-1,C=0,E;v<=b&&C<=d.length-1;){var x=Math.floor((v+b)/2),I=x-1,[T,R]=H8(d,I,l,o,s,i,t,r),[P]=H8(d,x,l,o,s,i,t,r);if(!T&&!P&&(v=x+1),T&&P&&(b=x-1),!T&&P){E=R;break}C++}return E||h},V8=n=>{var e=ji(n)?[]:n.toString().split(YZ);return[{words:e,width:void 0}]},UMe=n=>{var{width:e,scaleToFit:t,children:i,style:r,breakAll:s,maxLines:a}=n;if((e||t)&&!$B.isSsr){var o,l,u=XZ({breakAll:s,children:i,style:r});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return V8(i);return FMe({breakAll:s,children:i,maxLines:a,style:r},o,l,e,!!t)}return V8(i)},eee="#808080",MMe={angle:0,breakAll:!1,capHeight:"0.71em",fill:eee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},yO=M.forwardRef((n,e)=>{var t=eo(n,MMe),{x:i,y:r,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=O8(t,SMe),g=M.useMemo(()=>UMe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:b,angle:C,className:E,breakAll:x}=h,I=O8(h,xMe);if(!BA(i)||!BA(r)||g.length===0)return null;var T=Number(i)+(tt(v)?v:0),R=Number(r)+(tt(b)?b:0);if(!si(T)||!si(R))return null;var P;switch(d){case"start":P=JP("calc(".concat(a,")"));break;case"middle":P=JP("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:P=JP("calc(".concat(g.length-1," * -").concat(s,")"));break}var D=[];if(l){var L=g[0].width,{width:H}=h;D.push("scale(".concat(tt(H)&&tt(L)?H/L:1,")"))}return C&&D.push("rotate(".concat(C,", ").concat(T,", ").concat(R,")")),D.length&&(I.transform=D.join(" ")),M.createElement("text",rQ({},Xa(I),{ref:e,x:T,y:R,className:In("recharts-text",E),textAnchor:u,fill:o.includes("url")?eee:o}),g.map((k,K)=>{var V=k.words.join(x?"":" ");return M.createElement("tspan",{x:T,dy:K===0?P:s,key:"".concat(V,"-").concat(K)},V)}))});yO.displayName="Text";var PMe=["labelRef"];function RMe(n,e){if(n==null)return{};var t,i,r=DMe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function DMe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function K8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ti(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(t),!0).forEach(function(i){NMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):K8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NMe(n,e,t){return(e=LMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LMe(n){var e=QMe(n,"string");return typeof e=="symbol"?e:e+""}function QMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jl.apply(null,arguments)}var tee=M.createContext(null),kMe=n=>{var{x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a,children:o}=n,l=M.useMemo(()=>({x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a}),[e,t,i,r,s,a]);return M.createElement(tee.Provider,{value:l},o)},nee=()=>{var n=M.useContext(tee),e=oI();return n||fJ(e)},OMe=M.createContext(null),HMe=()=>{var n=M.useContext(OMe),e=Je(R7);return n||e},VMe=n=>{var{value:e,formatter:t}=n,i=ji(n.children)?e:n.children;return typeof t=="function"?t(i):i},wO=n=>n!=null&&typeof n=="function",KMe=(n,e)=>{var t=na(e-n),i=Math.min(Math.abs(e-n),360);return t*i},GMe=(n,e,t,i,r)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=r,b=(u+d)/2,C=KMe(h,g),E=C>=0?1:-1,x,I;switch(e){case"insideStart":x=h+E*s,I=v;break;case"insideEnd":x=g-E*s,I=!v;break;case"end":x=g+E*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=C<=0?I:!I;var T=gr(o,l,b,x),R=gr(o,l,b,x+(I?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),D=ji(n.id)?Ow("recharts-radial-line-"):n.id;return M.createElement("text",Jl({},i,{dominantBaseline:"central",className:In("recharts-radial-bar-label",a)}),M.createElement("defs",null,M.createElement("path",{id:D,d:P})),M.createElement("textPath",{xlinkHref:"#".concat(D)},t))},zMe=(n,e,t)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=gr(i,r,a+e,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:b}=gr(i,r,g,u);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},sQ=n=>"cx"in n&&tt(n.cx),qMe=(n,e)=>{var{parentViewBox:t,offset:i,position:r}=n,s;t!=null&&!sQ(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,b=(l+u)/2,C=h+l/2,E=d>=0?1:-1,x=E*i,I=E>0?"end":"start",T=E>0?"start":"end",R=l>=0?1:-1,P=R*i,D=R>0?"end":"start",L=R>0?"start":"end";if(r==="top"){var H={x:h+l/2,y:o-x,textAnchor:"middle",verticalAnchor:I};return ti(ti({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(r==="bottom"){var k={x:g+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:T};return ti(ti({},k),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(r==="left"){var K={x:v-P,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return ti(ti({},K),s?{width:Math.max(K.x-s.x,0),height:d}:{})}if(r==="right"){var V={x:v+b+P,y:o+d/2,textAnchor:L,verticalAnchor:"middle"};return ti(ti({},V),s?{width:Math.max(s.x+s.width-V.x,0),height:d}:{})}var q=s?{width:b,height:d}:{};return r==="insideLeft"?ti({x:v+P,y:o+d/2,textAnchor:L,verticalAnchor:"middle"},q):r==="insideRight"?ti({x:v+b-P,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},q):r==="insideTop"?ti({x:h+l/2,y:o+x,textAnchor:"middle",verticalAnchor:T},q):r==="insideBottom"?ti({x:g+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:I},q):r==="insideTopLeft"?ti({x:h+P,y:o+x,textAnchor:L,verticalAnchor:T},q):r==="insideTopRight"?ti({x:h+l-P,y:o+x,textAnchor:D,verticalAnchor:T},q):r==="insideBottomLeft"?ti({x:g+P,y:o+d-x,textAnchor:L,verticalAnchor:I},q):r==="insideBottomRight"?ti({x:g+u-P,y:o+d-x,textAnchor:D,verticalAnchor:I},q):r&&typeof r=="object"&&(tt(r.x)||fu(r.x))&&(tt(r.y)||fu(r.y))?ti({x:a+To(r.x,b),y:o+To(r.y,d),textAnchor:"end",verticalAnchor:"end"},q):ti({x:C,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},q)},$Me={angle:0,offset:5,zIndex:ws.label,position:"middle",textBreakAll:!1};function lc(n){var e=eo(n,$Me),{viewBox:t,position:i,value:r,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=HMe(),h=nee(),g=i==="center"?h:d??h,v,b,C;if(t==null?v=g:sQ(t)?v=t:v=fJ(t),!v||ji(r)&&ji(s)&&!M.isValidElement(a)&&typeof a!="function")return null;var E=ti(ti({},e),{},{viewBox:v});if(M.isValidElement(a)){var{labelRef:x}=E,I=RMe(E,PMe);return M.cloneElement(a,I)}if(typeof a=="function"){if(b=M.createElement(a,E),M.isValidElement(b))return b}else b=VMe(e);var T=Xa(e);if(sQ(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return GMe(e,i,b,T,v);C=zMe(v,e.offset,e.position)}else C=qMe(e,v);return M.createElement(Kd,{zIndex:e.zIndex},M.createElement(yO,Jl({ref:u,className:In("recharts-label",o)},T,C,{textAnchor:TMe(T.textAnchor)?T.textAnchor:C.textAnchor,breakAll:l}),b))}lc.displayName="Label";var jMe=(n,e,t)=>{if(!n)return null;var i={viewBox:e,labelRef:t};return n===!0?M.createElement(lc,Jl({key:"label-implicit"},i)):BA(n)?M.createElement(lc,Jl({key:"label-implicit",value:n},i)):M.isValidElement(n)?n.type===lc?M.cloneElement(n,ti({key:"label-implicit"},i)):M.createElement(lc,Jl({key:"label-implicit",content:n},i)):wO(n)?M.createElement(lc,Jl({key:"label-implicit",content:n},i)):n&&typeof n=="object"?M.createElement(lc,Jl({},n,{key:"label-implicit"},i)):null};function WMe(n){var{label:e,labelRef:t}=n,i=nee();return jMe(e,i,t)||null}var ZP={},eR={},G8;function YMe(){return G8||(G8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(eR)),eR}var tR={},z8;function XMe(){return z8||(z8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(tR)),tR}var q8;function JMe(){return q8||(q8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=YMe(),t=XMe(),i=ik();function r(s){if(i.isArrayLike(s))return e.last(t.toArray(s))}n.last=r})(ZP)),ZP}var nR,$8;function ZMe(){return $8||($8=1,nR=JMe().last),nR}var ePe=ZMe();const tPe=_A(ePe);var nPe=["valueAccessor"],iPe=["dataKey","clockWise","id","textBreakAll","zIndex"];function zT(){return zT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zT.apply(null,arguments)}function j8(n,e){if(n==null)return{};var t,i,r=rPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function rPe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var sPe=n=>Array.isArray(n.value)?tPe(n.value):n.value,iee=M.createContext(void 0),aPe=iee.Provider,ree=M.createContext(void 0);ree.Provider;function oPe(){return M.useContext(iee)}function APe(){return M.useContext(ree)}function R_(n){var{valueAccessor:e=sPe}=n,t=j8(n,nPe),{dataKey:i,clockWise:r,id:s,textBreakAll:a,zIndex:o}=t,l=j8(t,iPe),u=oPe(),d=APe(),h=u||d;return!h||!h.length?null:M.createElement(Kd,{zIndex:o??ws.label},M.createElement(du,{className:"recharts-label-list"},h.map((g,v)=>{var b,C=ji(i)?e(g,v):Pr(g&&g.payload,i),E=ji(s)?{}:{id:"".concat(s,"-").concat(v)};return M.createElement(lc,zT({key:"label-".concat(v)},Xa(g),l,E,{fill:(b=t.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:C,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}R_.displayName="LabelList";function lPe(n){var{label:e}=n;return e?e===!0?M.createElement(R_,{key:"labelList-implicit"}):M.isValidElement(e)||wO(e)?M.createElement(R_,{key:"labelList-implicit",content:e}):typeof e=="object"?M.createElement(R_,zT({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var uPe={radiusAxis:{},angleAxis:{}},see=bs({name:"polarAxis",initialState:uPe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:vQe,removeRadiusAxis:yQe,addAngleAxis:wQe,removeAngleAxis:bQe}=see.actions,cPe=see.reducer,iR={exports:{}},en={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W8;function dPe(){if(W8)return en;W8=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(C){if(typeof C=="object"&&C!==null){var E=C.$$typeof;switch(E){case n:switch(C=C.type,C){case t:case r:case i:case l:case u:case g:return C;default:switch(C=C&&C.$$typeof,C){case a:case o:case h:case d:return C;case s:return C;default:return E}}case e:return E}}}return en.ContextConsumer=s,en.ContextProvider=a,en.Element=n,en.ForwardRef=o,en.Fragment=t,en.Lazy=h,en.Memo=d,en.Portal=e,en.Profiler=r,en.StrictMode=i,en.Suspense=l,en.SuspenseList=u,en.isContextConsumer=function(C){return b(C)===s},en.isContextProvider=function(C){return b(C)===a},en.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},en.isForwardRef=function(C){return b(C)===o},en.isFragment=function(C){return b(C)===t},en.isLazy=function(C){return b(C)===h},en.isMemo=function(C){return b(C)===d},en.isPortal=function(C){return b(C)===e},en.isProfiler=function(C){return b(C)===r},en.isStrictMode=function(C){return b(C)===i},en.isSuspense=function(C){return b(C)===l},en.isSuspenseList=function(C){return b(C)===u},en.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===r||C===i||C===l||C===u||typeof C=="object"&&C!==null&&(C.$$typeof===h||C.$$typeof===d||C.$$typeof===a||C.$$typeof===s||C.$$typeof===o||C.$$typeof===v||C.getModuleId!==void 0)},en.typeOf=b,en}var Y8;function fPe(){return Y8||(Y8=1,iR.exports=dPe()),iR.exports}var hPe=fPe(),X8=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",J8=null,rR=null,aee=n=>{if(n===J8&&Array.isArray(rR))return rR;var e=[];return M.Children.forEach(n,t=>{ji(t)||(hPe.isFragment(t)?e=e.concat(aee(t.props.children)):e.push(t))}),rR=e,J8=n,e};function pPe(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(r=>X8(r)):i=[X8(e)],aee(n).forEach(r=>{var s=Xv(r,"type.displayName")||Xv(r,"type.name");s&&i.indexOf(s)!==-1&&t.push(r)}),t}var sR={},Z8;function gPe(){return Z8||(Z8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${s}]`}let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i}n.isPlainObject=e})(sR)),sR}var aR,e$;function mPe(){return e$||(e$=1,aR=gPe().isPlainObject),aR}var vPe=mPe();const yPe=_A(vPe);function t$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function n$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(t),!0).forEach(function(i){wPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):t$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wPe(n,e,t){return(e=bPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bPe(n){var e=CPe(n,"string");return typeof e=="symbol"?e:e+""}function CPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qT(){return qT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qT.apply(null,arguments)}var i$=(n,e,t,i,r)=>{var s=t-i,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+r),a+="L ".concat(n+t-s/2-i,",").concat(e+r),a+="L ".concat(n,",").concat(e," Z"),a},BPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EPe=n=>{var e=eo(n,BPe),{x:t,y:i,upperWidth:r,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=M.useRef(null),[v,b]=M.useState(-1),C=M.useRef(r),E=M.useRef(s),x=M.useRef(a),I=M.useRef(t),T=M.useRef(i),R=vk(n,"trapezoid-");if(M.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ne=g.current.getTotalLength();ne&&b(ne)}catch{}},[]),t!==+t||i!==+i||r!==+r||s!==+s||a!==+a||r===0&&s===0||a===0)return null;var P=In("recharts-trapezoid",o);if(!h)return M.createElement("g",null,M.createElement("path",qT({},Xa(e),{className:P,d:i$(t,i,r,s,a)})));var D=C.current,L=E.current,H=x.current,k=I.current,K=T.current,V="0px ".concat(v===-1?1:v,"px"),q="".concat(v,"px 0px"),X=BJ(["strokeDasharray"],u,l);return M.createElement(mk,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},ne=>{var he=dr(D,r,ne),G=dr(L,s,ne),$=dr(H,a,ne),se=dr(k,t,ne),ae=dr(K,i,ne);g.current&&(C.current=he,E.current=G,x.current=$,I.current=se,T.current=ae);var be=ne>0?{transition:X,strokeDasharray:q}:{strokeDasharray:V};return M.createElement("path",qT({},Xa(e),{className:P,d:i$(se,ae,he,G,$),ref:g,style:n$(n$({},be),e.style)}))})},SPe=["option","shapeType","propTransformer","activeClassName"];function xPe(n,e){if(n==null)return{};var t,i,r=_Pe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function _Pe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function r$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $T(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(t),!0).forEach(function(i){TPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TPe(n,e,t){return(e=IPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IPe(n){var e=FPe(n,"string");return typeof e=="symbol"?e:e+""}function FPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UPe(n,e){return $T($T({},e),n)}function MPe(n,e){return n==="symbols"}function s$(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return M.createElement(_J,t);case"trapezoid":return M.createElement(EPe,t);case"sector":return M.createElement(FJ,t);case"symbols":if(MPe(e))return M.createElement(m9,t);break;case"curve":return M.createElement(CJ,t);default:return null}}function PPe(n){return M.isValidElement(n)?n.props:n}function RPe(n){var{option:e,shapeType:t,propTransformer:i=UPe,activeClassName:r="recharts-active-shape"}=n,s=xPe(n,SPe),a;if(M.isValidElement(e))a=M.cloneElement(e,$T($T({},s),PPe(e)));else if(typeof e=="function")a=e(s,s.index);else if(yPe(e)&&typeof e!="boolean"){var o=i(e,s);a=M.createElement(s$,{shapeType:t,elementProps:o})}else{var l=s;a=M.createElement(s$,{shapeType:t,elementProps:l})}return s.isActive?M.createElement(du,{className:r},a):a}var oee=(n,e,t)=>{var i=ai();return(r,s)=>a=>{n==null||n(r,s,a),i(BZ({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}},Aee=n=>{var e=ai();return(t,i)=>r=>{n==null||n(t,i,r),e(nFe())}},lee=(n,e,t)=>{var i=ai();return(r,s)=>a=>{n==null||n(r,s,a),i(iFe({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}};function DPe(n){var{tooltipEntrySettings:e}=n,t=ai(),i=Aa(),r=M.useRef(null);return M.useLayoutEffect(()=>{i||(r.current===null?t(JIe(e)):r.current!==e&&t(ZIe({prev:r.current,next:e})),r.current=e)},[e,t,i]),M.useLayoutEffect(()=>()=>{r.current&&(t(eFe(r.current)),r.current=null)},[t]),null}function NPe(n){var{legendPayload:e}=n,t=ai(),i=Aa(),r=M.useRef(null);return M.useLayoutEffect(()=>{i||(r.current===null?t(PSe(e)):r.current!==e&&t(RSe({prev:r.current,next:e})),r.current=e)},[t,i,e]),M.useLayoutEffect(()=>()=>{r.current&&(t(DSe(r.current)),r.current=null)},[t]),null}var oR,LPe=()=>{var[n]=M.useState(()=>Ow("uid-"));return n},QPe=(oR=Jne.useId)!==null&&oR!==void 0?oR:LPe;function uee(n,e){var t=QPe();return e||(n?"".concat(n,"-").concat(t):t)}var kPe=M.createContext(void 0),OPe=n=>{var{id:e,type:t,children:i}=n,r=uee("recharts-".concat(t),e);return M.createElement(kPe.Provider,{value:r},i(r))},HPe={cartesianItems:[],polarItems:[]},cee=bs({name:"graphicalItems",initialState:HPe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:Rn()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:i}=e.payload,r=_o(n).cartesianItems.indexOf(t);r>-1&&(n.cartesianItems[r]=i)},prepare:Rn()},removeCartesianGraphicalItem:{reducer(n,e){var t=_o(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:Rn()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:Rn()},removePolarGraphicalItem:{reducer(n,e){var t=_o(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:Rn()}}}),{addCartesianGraphicalItem:VPe,replaceCartesianGraphicalItem:KPe,removeCartesianGraphicalItem:GPe,addPolarGraphicalItem:CQe,removePolarGraphicalItem:BQe}=cee.actions,zPe=cee.reducer,qPe=n=>{var e=ai(),t=M.useRef(null);return M.useLayoutEffect(()=>{t.current===null?e(VPe(n)):t.current!==n&&e(KPe({prev:t.current,next:n})),t.current=n},[e,n]),M.useLayoutEffect(()=>()=>{t.current&&(e(GPe(t.current)),t.current=null)},[e]),null},$Pe=M.memo(qPe);function a$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function o$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a$(Object(t),!0).forEach(function(i){jPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jPe(n,e,t){return(e=WPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WPe(n){var e=YPe(n,"string");return typeof e=="symbol"?e:e+""}function YPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var XPe={xAxis:{},yAxis:{},zAxis:{}},dee=bs({name:"cartesianAxis",initialState:XPe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:Rn()},replaceXAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.xAxis[t.id],n.xAxis[i.id]=i)},prepare:Rn()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:Rn()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:Rn()},replaceYAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.yAxis[t.id],n.yAxis[i.id]=i)},prepare:Rn()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:Rn()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:Rn()},replaceZAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.zAxis[t.id],n.zAxis[i.id]=i)},prepare:Rn()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:Rn()},updateYAxisWidth(n,e){var{id:t,width:i}=e.payload,r=n.yAxis[t];if(r){var s=r.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==r.width&&Math.abs(i-s[0])<=1)return;var a=[...s,i].slice(-3);n.yAxis[t]=o$(o$({},n.yAxis[t]),{},{width:i,widthHistory:a})}}}}),{addXAxis:JPe,replaceXAxis:ZPe,removeXAxis:eRe,addYAxis:tRe,replaceYAxis:nRe,removeYAxis:iRe,addZAxis:EQe,replaceZAxis:SQe,removeZAxis:xQe,updateYAxisWidth:rRe}=dee.actions,sRe=dee.reducer,aRe=Ae([Wi],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),oRe=Ae([aRe,xu,_u],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),fee=()=>Je(oRe),ARe="Invariant failed";function lRe(n,e){throw new Error(ARe)}var uRe=["x","y"];function aQ(){return aQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},aQ.apply(null,arguments)}function A$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function D0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(t),!0).forEach(function(i){cRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cRe(n,e,t){return(e=dRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dRe(n){var e=fRe(n,"string");return typeof e=="symbol"?e:e+""}function fRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hRe(n,e){if(n==null)return{};var t,i,r=pRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function pRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function gRe(n,e){var{x:t,y:i}=n,r=hRe(n,uRe),s="".concat(t),a=parseInt(s,10),o="".concat(i),l=parseInt(o,10),u="".concat(e.height||r.height),d=parseInt(u,10),h="".concat(e.width||r.width),g=parseInt(h,10);return D0(D0(D0(D0(D0({},e),r),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function jT(n){return M.createElement(RPe,aQ({shapeType:"rectangle",propTransformer:gRe,activeClassName:"recharts-active-bar"},n))}var mRe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(tt(e))return e;var s=tt(i)||ji(i);return s?e(i,r):(s||lRe(),t)}},vRe={},hee=bs({name:"errorBars",initialState:vRe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]||(n[t]=[]),n[t].push(i)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:i,next:r}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]&&(n[t]=n[t].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:_Qe,replaceErrorBar:TQe,removeErrorBar:IQe}=hee.actions,yRe=hee.reducer,wRe=["children"];function bRe(n,e){if(n==null)return{};var t,i,r=CRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function CRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var BRe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ERe=M.createContext(BRe);function SRe(n){var{children:e}=n,t=bRe(n,wRe);return M.createElement(ERe.Provider,{value:t},e)}function pee(n,e){var t,i,r=Je(u=>Iu(u,n)),s=Je(u=>Fu(u,e)),a=(t=r==null?void 0:r.allowDataOverflow)!==null&&t!==void 0?t:Li.allowDataOverflow,o=(i=s==null?void 0:s.allowDataOverflow)!==null&&i!==void 0?i:Qi.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function xRe(n){var{xAxisId:e,yAxisId:t,clipPathId:i}=n,r=fee(),{needClipX:s,needClipY:a,needClip:o}=pee(e,t);if(!o||!r)return null;var{x:l,y:u,width:d,height:h}=r;return M.createElement("clipPath",{id:"clipPath-".concat(i)},M.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function _Re(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&si(n.zIndex)?n.zIndex:e}var AR={exports:{}},lR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$;function TRe(){if(l$)return lR;l$=1;var n=ly();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return lR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=r(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function E(P){if(!x){if(x=!0,I=P,P=h(P),g!==void 0&&b.hasValue){var D=b.value;if(g(D,P))return T=D}return T=P}if(D=T,t(I,P))return D;var L=h(P);return g!==void 0&&g(D,L)?(I=P,D):(I=P,T=L)}var x=!1,I,T,R=d===void 0?null:d;return[function(){return E(u())},R===null?void 0:function(){return E(R())}]},[u,d,h,g]);var C=i(l,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=C},[C]),o(C),C},lR}var u$;function IRe(){return u$||(u$=1,AR.exports=TRe()),AR.exports}IRe();function FRe(n){n()}function URe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){FRe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var c$={notify(){},get:()=>[]};function MRe(n,e){let t,i=c$,r=0,s=!1;function a(C){d();const E=i.subscribe(C);let x=!1;return()=>{x||(x=!0,E(),h())}}function o(){i.notify()}function l(){b.onStateChange&&b.onStateChange()}function u(){return s}function d(){r++,t||(t=n.subscribe(l),i=URe())}function h(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=c$)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>i};return b}var PRe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RRe=PRe(),DRe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",NRe=DRe(),LRe=()=>RRe||NRe?M.useLayoutEffect:M.useEffect,QRe=LRe();function d$(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function kRe(n,e){if(d$(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!d$(n[t[r]],e[t[r]]))return!1;return!0}var uR=Symbol.for("react-redux-context"),cR=typeof globalThis<"u"?globalThis:{};function ORe(){if(!M.createContext)return{};const n=cR[uR]??(cR[uR]=new Map);let e=n.get(M.createContext);return e||(e=M.createContext(null),n.set(M.createContext,e)),e}var HRe=ORe();function VRe(n){const{children:e,context:t,serverState:i,store:r}=n,s=M.useMemo(()=>{const l=MRe(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),a=M.useMemo(()=>r.getState(),[r]);QRe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||HRe;return M.createElement(o.Provider,{value:s},e)}var KRe=VRe,GRe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function zRe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function bO(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var i of t)if(GRe.has(i)){if(n[i]==null&&e[i]==null)continue;if(!kRe(n[i],e[i]))return!1}else if(!zRe(n[i],e[i]))return!1;return!0}var qRe=["onMouseEnter","onMouseLeave","onClick"],$Re=["value","background","tooltipPosition"],jRe=["id"],WRe=["onMouseEnter","onClick","onMouseLeave"];function yu(){return yu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yu.apply(null,arguments)}function f$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(t),!0).forEach(function(i){YRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function YRe(n,e,t){return(e=XRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XRe(n){var e=JRe(n,"string");return typeof e=="symbol"?e:e+""}function JRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function WT(n,e){if(n==null)return{};var t,i,r=ZRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ZRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var eDe=n=>{var{dataKey:e,name:t,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:e,type:r,color:i,value:AJ(t,e),payload:n}]},tDe=M.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:i,fill:r,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:AJ(s,e),hide:a,type:l,color:r,unit:o}};return M.createElement(DPe,{tooltipEntrySettings:u})});function nDe(n){var e=Je(ay),{data:t,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=WT(s,qRe),d=oee(a,i),h=Aee(o),g=lee(l,i);if(!r||t==null)return null;var v=WQ(r);return M.createElement(Kd,{zIndex:_Re(r,ws.barBackground)},t.map((b,C)=>{var{value:E,background:x,tooltipPosition:I}=b,T=WT(b,$Re);if(!x)return null;var R=d(b,C),P=h(b,C),D=g(b,C),L=Gr(Gr(Gr(Gr(Gr({option:r,isActive:String(C)===e},T),{},{fill:"#eee"},x),v),nk(u,b,C)),{},{onMouseEnter:R,onMouseLeave:P,onClick:D,dataKey:i,index:C,className:"recharts-bar-background-rectangle"});return M.createElement(jT,yu({key:"background-bar-".concat(C)},L))}))}function iDe(n){var{showLabels:e,children:t,rects:i}=n,r=i==null?void 0:i.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Gr(Gr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return M.createElement(aPe,{value:e?r:void 0},t)}function rDe(n){var{shape:e,activeBar:t,baseProps:i,entry:r,index:s,dataKey:a}=n,o=Je(ay),l=Je(LZ),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?M.createElement(Kd,{zIndex:ws.activeBar},M.createElement(jT,yu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))):M.createElement(jT,yu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))}function sDe(n){var{shape:e,baseProps:t,entry:i,index:r,dataKey:s}=n;return M.createElement(jT,yu({},t,{name:String(t.name)},i,{isActive:!1,option:e,index:r,dataKey:s}))}function aDe(n){var e,{data:t,props:i}=n,r=(e=Pd(i))!==null&&e!==void 0?e:{},{id:s}=r,a=WT(r,jRe),{shape:o,dataKey:l,activeBar:u}=i,{onMouseEnter:d,onClick:h,onMouseLeave:g}=i,v=WT(i,WRe),b=oee(d,l),C=Aee(g),E=lee(h,l);return t?M.createElement(M.Fragment,null,t.map((x,I)=>M.createElement(du,yu({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(I),className:"recharts-bar-rectangle"},nk(v,x,I),{onMouseEnter:b(x,I),onMouseLeave:C(x,I),onClick:E(x,I)}),u?M.createElement(rDe,{shape:o,activeBar:u,baseProps:a,entry:x,index:I,dataKey:l}):M.createElement(sDe,{shape:o,baseProps:a,entry:x,index:I,dataKey:l})))):null}function oDe(n){var{props:e,previousRectanglesRef:t}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=vk(e,"recharts-bar-"),[v,b]=M.useState(!1),C=!v,E=M.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),x=M.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return M.createElement(iDe,{showLabels:C,rects:i},M.createElement(mk,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:E,onAnimationStart:x,key:g},I=>{var T=I===1?i:i==null?void 0:i.map((R,P)=>{var D=h&&h[P];if(D)return Gr(Gr({},R),{},{x:dr(D.x,R.x,I),y:dr(D.y,R.y,I),width:dr(D.width,R.width,I),height:dr(D.height,R.height,I)});if(r==="horizontal"){var L=dr(0,R.height,I),H=dr(R.stackedBarStart,R.y,I);return Gr(Gr({},R),{},{y:H,height:L})}var k=dr(0,R.width,I),K=dr(R.stackedBarStart,R.x,I);return Gr(Gr({},R),{},{width:k,x:K})});return I>0&&(t.current=T??null),T==null?null:M.createElement(du,null,M.createElement(aDe,{props:e,data:T}))}),M.createElement(lPe,{label:e.label}),e.children)}function ADe(n){var e=M.useRef(null);return M.createElement(oDe,{previousRectanglesRef:e,props:n})}var gee=0,lDe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Pr(n,e)}};class uDe extends M.PureComponent{render(){var{hide:e,data:t,dataKey:i,className:r,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=In("recharts-bar",r),h=u;return M.createElement(du,{className:d,id:u},o&&M.createElement("defs",null,M.createElement(xRe,{clipPathId:h,xAxisId:s,yAxisId:a})),M.createElement(du,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},M.createElement(nDe,{data:t,dataKey:i,background:l,allOtherBarProps:this.props}),M.createElement(ADe,this.props)))}}var cDe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:gee,xAxisId:0,yAxisId:0,zIndex:ws.bar};function dDe(n){var{xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=pee(e,t),g=AI(),v=Aa(),b=pPe(n.children,vO),C=Je(I=>ODe(I,e,t,v,n.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var E,x=C==null?void 0:C[0];return x==null||x.height==null||x.width==null?E=0:E=g==="vertical"?x.height/2:x.width/2,M.createElement(SRe,{xAxisId:e,yAxisId:t,data:C,dataPointFormatter:lDe,errorBarOffset:E},M.createElement(uDe,yu({},n,{layout:g,needClip:h,data:C,xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function fDe(n){var{layout:e,barSettings:{dataKey:t,minPointSize:i},pos:r,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:b,dataStartIndex:C}=n,E=e==="horizontal"?o:a,x=d?E.scale.domain():null,I=PEe({numericAxis:E}),T=E.scale(I);return h.map((R,P)=>{var D,L,H,k,K,V;d?D=_Ee(d[P+C],x):(D=Pr(R,t),Array.isArray(D)||(D=[I,D]));var q=mRe(i,gee)(D[1],P);if(e==="horizontal"){var X,[ne,he]=[o.scale(D[0]),o.scale(D[1])];L=Qq({axis:a,ticks:l,bandSize:s,offset:r.offset,entry:R,index:P}),H=(X=he??ne)!==null&&X!==void 0?X:void 0,k=r.size;var G=ne-he;if(K=CA(G)?0:G,V={x:L,y:g.top,width:k,height:g.height},Math.abs(q)>0&&Math.abs(K)<Math.abs(q)){var $=na(K||q)*(Math.abs(q)-Math.abs(K));H-=$,K+=$}}else{var[se,ae]=[a.scale(D[0]),a.scale(D[1])];if(L=se,H=Qq({axis:o,ticks:u,bandSize:s,offset:r.offset,entry:R,index:P}),k=ae-se,K=r.size,V={x:g.left,y:H,width:g.width,height:K},Math.abs(q)>0&&Math.abs(k)<Math.abs(q)){var be=na(k||q)*(Math.abs(q)-Math.abs(k));k+=be}}if(L==null||H==null||k==null||K==null)return null;var z=Gr(Gr({},R),{},{stackedBarStart:T,x:L,y:H,width:k,height:K,value:d?D:D[1],payload:R,background:V,tooltipPosition:{x:L+k/2,y:H+K/2},parentViewBox:b},v&&v[P]&&v[P].props);return z}).filter(Boolean)}function hDe(n){var e=eo(n,cDe),t=Aa();return M.createElement(OPe,{id:e.id,type:"bar"},i=>M.createElement(M.Fragment,null,M.createElement(NPe,{legendPayload:eDe(e)}),M.createElement(tDe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),M.createElement($Pe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:MEe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),M.createElement(Kd,{zIndex:e.zIndex},M.createElement(dDe,yu({},e,{id:i})))))}var mee=M.memo(hDe,bO);mee.displayName="Bar";function h$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Bx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(t),!0).forEach(function(i){pDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function pDe(n,e,t){return(e=gDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gDe(n){var e=mDe(n,"string");return typeof e=="symbol"?e:e+""}function mDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vDe=(n,e)=>e,yDe=(n,e,t)=>t,wDe=(n,e,t,i)=>i,bDe=(n,e,t,i,r)=>r,oE=Ae([Zk,bDe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),CDe=Ae([oE],n=>n==null?void 0:n.maxBarSize),BDe=(n,e,t,i,r,s)=>s,p$=(n,e,t)=>{var i=t??n;if(!ji(i))return To(i,e,0)},EDe=Ae([Wt,Zk,vDe,yDe,wDe],(n,e,t,i,r)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),SDe=(n,e,t,i)=>{var r=Wt(n);return r==="horizontal"?ZL(n,"yAxis",t,i):ZL(n,"xAxis",e,i)},xDe=(n,e,t)=>{var i=Wt(n);return i==="horizontal"?g8(n,"xAxis",e):g8(n,"yAxis",t)},_De=(n,e,t)=>{var i={},r=n.filter(BI),s=n.filter(u=>u.stackId==null),a=r.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),i),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(b=>b.dataKey),v=p$(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=p$(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},TDe=Ae([EDe,z1e,xDe],_De),IDe=(n,e,t,i,r)=>{var s,a,o=oE(n,e,t,i,r);if(o!=null){var l=Wt(n),u=x7(n),{maxBarSize:d}=o,h=ji(d)?u:d,g,v;return l==="horizontal"?(g=sy(n,"xAxis",e,i),v=ry(n,"xAxis",e,i)):(g=sy(n,"yAxis",t,i),v=ry(n,"yAxis",t,i)),(s=(a=BT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},vee=(n,e,t,i)=>{var r=Wt(n),s,a;return r==="horizontal"?(s=sy(n,"xAxis",e,i),a=ry(n,"xAxis",e,i)):(s=sy(n,"yAxis",t,i),a=ry(n,"yAxis",t,i)),BT(s,a)};function FDe(n,e,t,i,r){var s=i.length;if(!(s<1)){var a=To(n,t,0,!0),o,l=[];if(si(i[0].barSize)){var u=!1,d=t/s,h=i.reduce((x,I)=>x+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=i.reduce((x,I)=>{var T,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},P=[...x,R];return v=P[P.length-1].position,P},l)}else{var b=To(e,t,0,!0);t-2*b-(s-1)*a<=0&&(a=0);var C=(t-2*b-(s-1)*a)/s;C>1&&(C>>=0);var E=si(r)?Math.min(C,r):C;o=i.reduce((x,I,T)=>[...x,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b+(C+a)*T+(C-E)/2,size:E}}],l)}return o}}var UDe=(n,e,t,i,r,s,a)=>{var o=ji(a)?e:a,l=FDe(t,i,r!==s?r:s,n,o);return r!==s&&l!=null&&(l=l.map(u=>Bx(Bx({},u),{},{position:Bx(Bx({},u.position),{},{offset:u.position.offset-r/2})}))),l},MDe=Ae([TDe,x7,G1e,_7,IDe,vee,CDe],UDe),PDe=(n,e,t,i)=>sy(n,"xAxis",e,i),RDe=(n,e,t,i)=>sy(n,"yAxis",t,i),DDe=(n,e,t,i)=>ry(n,"xAxis",e,i),NDe=(n,e,t,i)=>ry(n,"yAxis",t,i),LDe=Ae([MDe,oE],(n,e)=>{if(!(n==null||e==null)){var t=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),QDe=(n,e)=>{var t=Xk(e);if(!(!n||t==null||e==null)){var{stackId:i}=e;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(a=>a.key===t)}}}},kDe=Ae([SDe,oE],QDe),ODe=Ae([Wi,fk,PDe,RDe,DDe,NDe,LDe,Wt,Vk,vee,kDe,oE,BDe],(n,e,t,i,r,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:C}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||i==null||r==null||s==null||u==null)){var{data:E}=h,x;if(E!=null&&E.length>0?x=E:x=v==null?void 0:v.slice(b,C+1),x!=null)return fDe({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:d,displayedData:x,offset:n,cells:g,dataStartIndex:b})}}),HDe=n=>{var{chartData:e}=n,t=ai(),i=Aa();return M.useEffect(()=>i?()=>{}:(t(T8(e)),()=>{t(T8(void 0))}),[e,t,i]),null},g$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yee=bs({name:"brush",initialState:g$,reducers:{setBrushSettings(n,e){return e.payload==null?g$:e.payload}}}),{setBrushSettings:FQe}=yee.actions,VDe=yee.reducer;function KDe(n,e,t){return(e=GDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GDe(n){var e=zDe(n,"string");return typeof e=="symbol"?e:e+""}function zDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class CO{static create(e){return new CO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),i=t[0],r=t[t.length-1];return i<=r?e>=i&&e<=r:e>=r&&e<=i}}KDe(CO,"EPS",1e-4);function qDe(n){return(n%180+180)%180}var $De=function(e){var{width:t,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=qDe(r),a=s*Math.PI/180,o=Math.atan(i/t),l=a>o&&a<Math.PI-o?i/Math.sin(a):t/Math.cos(a);return Math.abs(l)},jDe={dots:[],areas:[],lines:[]},wee=bs({name:"referenceElements",initialState:jDe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=_o(n).dots.findIndex(i=>i===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=_o(n).areas.findIndex(i=>i===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=_o(n).lines.findIndex(i=>i===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:UQe,removeDot:MQe,addArea:PQe,removeArea:RQe,addLine:DQe,removeLine:NQe}=wee.actions,WDe=wee.reducer,YDe=M.createContext(void 0),XDe=n=>{var{children:e}=n,[t]=M.useState("".concat(Ow("recharts"),"-clip")),i=fee();if(i==null)return null;var{x:r,y:s,width:a,height:o}=i;return M.createElement(YDe.Provider,{value:t},M.createElement("defs",null,M.createElement("clipPath",{id:t},M.createElement("rect",{x:r,y:s,height:o,width:a}))),e)};function bee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],i=0;i<n.length;i+=e)t.push(n[i]);return t}function JDe(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return $De(i,t)}function ZDe(n,e,t){var i=t==="width",{x:r,y:s,width:a,height:o}=n;return e===1?{start:i?r:s,end:i?r+a:s+o}:{start:i?r+a:s+o,end:i?r:s}}function YT(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function eNe(n,e){return bee(n,e+1)}function tNe(n,e,t,i,r){for(var s=(i||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var b=i==null?void 0:i[l];if(b===void 0)return{v:bee(i,u)};var C=l,E,x=()=>(E===void 0&&(E=t(b,C)),E),I=b.coordinate,T=l===0||YT(n,I,x,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(x()/2+r),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function m$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ir(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(t),!0).forEach(function(i){nNe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function nNe(n,e,t){return(e=iNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iNe(n){var e=rNe(n,"string");return typeof e=="symbol"?e:e+""}function rNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sNe(n,e,t,i,r){for(var s=(i||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],b,C=()=>(b===void 0&&(b=t(v,g)),b);if(g===a-1){var E=n*(v.coordinate+n*C()/2-l);s[g]=v=Ir(Ir({},v),{},{tickCoord:E>0?v.coordinate-E*n:v.coordinate})}else s[g]=v=Ir(Ir({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var x=YT(n,v.tickCoord,C,o,l);x&&(l=v.tickCoord-n*(C()/2+r),s[g]=Ir(Ir({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function aNe(n,e,t,i,r,s){var a=(i||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=i[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=Ir(Ir({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=YT(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+r),a[o-1]=Ir(Ir({},d),{},{isShow:!0}))}}for(var b=s?o-1:o,C=function(I){var T=a[I],R,P=()=>(R===void 0&&(R=t(T,I)),R);if(I===0){var D=n*(T.coordinate-n*P()/2-l);a[I]=T=Ir(Ir({},T),{},{tickCoord:D<0?T.coordinate-D*n:T.coordinate})}else a[I]=T=Ir(Ir({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var L=YT(n,T.tickCoord,P,l,u);L&&(l=T.tickCoord+n*(P()/2+r),a[I]=Ir(Ir({},T),{},{isShow:!0}))}},E=0;E<b;E++)C(E);return a}function oNe(n,e,t){var{tick:i,ticks:r,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!r||!r.length||!i)return[];if(tt(l)||$B.isSsr){var g;return(g=eNe(r,tt(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],b=o==="top"||o==="bottom"?"width":"height",C=d&&b==="width"?_w(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},E=(T,R)=>{var P=typeof u=="function"?u(T.value,R):T.value;return b==="width"?JDe(_w(P,{fontSize:e,letterSpacing:t}),C,h):_w(P,{fontSize:e,letterSpacing:t})[b]},x=r.length>=2?na(r[1].coordinate-r[0].coordinate):1,I=ZDe(s,x,b);return l==="equidistantPreserveStart"?tNe(x,I,E,r,a):(l==="preserveStart"||l==="preserveStartEnd"?v=aNe(x,I,E,r,a,l==="preserveStartEnd"):v=sNe(x,I,E,r,a),v.filter(T=>T.isShow))}var ANe=n=>{var{ticks:e,label:t,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=r+s,u=a+l+o+(t?i:0);return Math.round(u)}return 0},lNe=["axisLine","width","height","className","hide","ticks","axisType"];function uNe(n,e){if(n==null)return{};var t,i,r=cNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function cNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function fp(){return fp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fp.apply(null,arguments)}function v$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(t),!0).forEach(function(i){dNe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dNe(n,e,t){return(e=fNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fNe(n){var e=hNe(n,"string");return typeof e=="symbol"?e:e+""}function hNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ap={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ws.axis};function pNe(n){var{x:e,y:t,width:i,height:r,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=gi(gi(gi({},l),Pd(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=gi(gi({},u),{},{x1:e,y1:t+d*r,x2:e+i,y2:t+d*r})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=gi(gi({},u),{},{x1:e+h*i,y1:t,x2:e+h*i,y2:t+r})}return M.createElement("line",fp({},u,{className:In("recharts-cartesian-axis-line",Xv(o,"className"))}))}function gNe(n,e,t,i,r,s,a,o,l){var u,d,h,g,v,b,C=o?-1:1,E=n.tickSize||a,x=tt(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*r,h=g-C*E,b=h-C*l,v=x;break;case"left":h=g=n.coordinate,d=e+ +!o*i,u=d-C*E,v=u-C*l,b=x;break;case"right":h=g=n.coordinate,d=e+ +o*i,u=d+C*E,v=u+C*l,b=x;break;default:u=d=n.coordinate,g=t+ +o*r,h=g+C*E,b=h+C*l,v=x;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:b}}}function mNe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function vNe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function yNe(n){var{option:e,tickProps:t,value:i}=n,r,s=In(t.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(e))r=M.cloneElement(e,gi(gi({},t),{},{className:s}));else if(typeof e=="function")r=e(gi(gi({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=In(a,e==null?void 0:e.className)),r=M.createElement(yO,fp({},t,{className:a}),i)}return r}var wNe=M.forwardRef((n,e)=>{var{ticks:t=[],tick:i,tickLine:r,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:b,height:C,tickSize:E,tickMargin:x,fontSize:I,letterSpacing:T,getTicksConfig:R,events:P,axisType:D}=n,L=oNe(gi(gi({},R),{},{ticks:t}),I,T),H=mNe(d,h),k=vNe(d,h),K=Pd(R),V=WQ(i),q={};typeof r=="object"&&(q=r);var X=gi(gi({},K),{},{fill:"none"},q),ne=L.map($=>gi({entry:$},gNe($,g,v,b,C,d,E,h,x))),he=ne.map($=>{var{entry:se,line:ae}=$;return M.createElement(du,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},r&&M.createElement("line",fp({},X,ae,{className:In("recharts-cartesian-axis-tick-line",Xv(r,"className"))})))}),G=ne.map(($,se)=>{var{entry:ae,tick:be}=$,z=gi(gi(gi(gi({textAnchor:H,verticalAnchor:k},K),{},{stroke:"none",fill:s},V),be),{},{index:se,payload:ae,visibleTicksCount:L.length,tickFormatter:a,padding:l},u);return M.createElement(du,fp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},nk(P,ae,se)),i&&M.createElement(yNe,{option:i,tickProps:z,value:"".concat(typeof a=="function"?a(ae.value,se):ae.value).concat(o||"")}))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},G.length>0&&M.createElement(Kd,{zIndex:ws.label},M.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},G)),he.length>0&&M.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},he))}),bNe=M.forwardRef((n,e)=>{var{axisLine:t,width:i,height:r,className:s,hide:a,ticks:o,axisType:l}=n,u=uNe(n,lNe),[d,h]=M.useState(""),[g,v]=M.useState(""),b=M.useRef(null);M.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return ANe({ticks:b.current,label:(E=n.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var C=M.useCallback(E=>{if(E){var x=E.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=x;var I=x[0];if(I){var T=window.getComputedStyle(I),R=T.fontSize,P=T.letterSpacing;(R!==d||P!==g)&&(h(R),v(P))}}},[d,g]);return a||i!=null&&i<=0||r!=null&&r<=0?null:M.createElement(Kd,{zIndex:n.zIndex},M.createElement(du,{className:In("recharts-cartesian-axis",s)},M.createElement(pNe,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Pd(n)}),M.createElement(wNe,{ref:C,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),M.createElement(kMe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},M.createElement(WMe,{label:n.label,labelRef:n.labelRef}),n.children)))}),BO=M.forwardRef((n,e)=>{var t=eo(n,ap);return M.createElement(bNe,fp({},t,{ref:e}))});BO.displayName="CartesianAxis";var CNe=["domain","range"],BNe=["domain","range"];function y$(n,e){if(n==null)return{};var t,i,r=ENe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ENe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function w$(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function Cee(n,e){if(n===e)return!0;var{domain:t,range:i}=n,r=y$(n,CNe),{domain:s,range:a}=e,o=y$(e,BNe);return!w$(t,s)||!w$(i,a)?!1:bO(r,o)}var SNe=["dangerouslySetInnerHTML","ticks"],xNe=["id"];function oQ(){return oQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oQ.apply(null,arguments)}function b$(n,e){if(n==null)return{};var t,i,r=_Ne(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function _Ne(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function TNe(n){var e=ai(),t=M.useRef(null);return M.useLayoutEffect(()=>{t.current===null?e(JPe(n)):t.current!==n&&e(ZPe({prev:t.current,next:n})),t.current=n},[n,e]),M.useLayoutEffect(()=>()=>{t.current&&(e(eRe(t.current)),t.current=null)},[e]),null}var INe=n=>{var{xAxisId:e,className:t}=n,i=Je(fk),r=Aa(),s="xAxis",a=Je(E=>wy(E,s,e,r)),o=Je(E=>mZ(E,s,e,r)),l=Je(E=>fZ(E,e)),u=Je(E=>VIe(E,e)),d=Je(E=>N7(E,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=b$(n,SNe),{id:b}=d,C=b$(d,xNe);return M.createElement(BO,oQ({},v,C,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:In("recharts-".concat(s," ").concat(s),t),viewBox:i,ticks:o,axisType:s}))},FNe={allowDataOverflow:Li.allowDataOverflow,allowDecimals:Li.allowDecimals,allowDuplicatedCategory:Li.allowDuplicatedCategory,angle:Li.angle,axisLine:ap.axisLine,height:Li.height,hide:!1,includeHidden:Li.includeHidden,interval:Li.interval,minTickGap:Li.minTickGap,mirror:Li.mirror,orientation:Li.orientation,padding:Li.padding,reversed:Li.reversed,scale:Li.scale,tick:Li.tick,tickCount:Li.tickCount,tickLine:ap.tickLine,tickSize:ap.tickSize,type:Li.type,xAxisId:0},UNe=n=>{var e=eo(n,FNe);return M.createElement(M.Fragment,null,M.createElement(TNe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),M.createElement(INe,e))},Bee=M.memo(UNe,Cee);Bee.displayName="XAxis";var MNe=["dangerouslySetInnerHTML","ticks"],PNe=["id"];function AQ(){return AQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},AQ.apply(null,arguments)}function C$(n,e){if(n==null)return{};var t,i,r=RNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function RNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function DNe(n){var e=ai(),t=M.useRef(null);return M.useLayoutEffect(()=>{t.current===null?e(tRe(n)):t.current!==n&&e(nRe({prev:t.current,next:n})),t.current=n},[n,e]),M.useLayoutEffect(()=>()=>{t.current&&(e(iRe(t.current)),t.current=null)},[e]),null}var NNe=n=>{var{yAxisId:e,className:t,width:i,label:r}=n,s=M.useRef(null),a=M.useRef(null),o=Je(fk),l=Aa(),u=ai(),d="yAxis",h=Je(P=>wy(P,d,e,l)),g=Je(P=>hZ(P,e)),v=Je(P=>GIe(P,e)),b=Je(P=>mZ(P,d,e,l)),C=Je(P=>L7(P,e));if(M.useLayoutEffect(()=>{if(!(i!=="auto"||!g||wO(r)||M.isValidElement(r)||C==null)){var P=s.current;if(P){var D=P.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&u(rRe({id:e,width:D}))}}},[b,g,u,r,e,i,C]),g==null||v==null||C==null)return null;var{dangerouslySetInnerHTML:E,ticks:x}=n,I=C$(n,MNe),{id:T}=C,R=C$(C,PNe);return M.createElement(BO,AQ({},I,R,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:In("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:b,axisType:d}))},LNe={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:Qi.allowDecimals,allowDuplicatedCategory:Qi.allowDuplicatedCategory,angle:Qi.angle,axisLine:ap.axisLine,hide:!1,includeHidden:Qi.includeHidden,interval:Qi.interval,minTickGap:Qi.minTickGap,mirror:Qi.mirror,orientation:Qi.orientation,padding:Qi.padding,reversed:Qi.reversed,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,tickLine:ap.tickLine,tickSize:ap.tickSize,type:Qi.type,width:Qi.width,yAxisId:0},QNe=n=>{var e=eo(n,LNe);return M.createElement(M.Fragment,null,M.createElement(DNe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),M.createElement(NNe,e))},Eee=M.memo(QNe,Cee);Eee.displayName="YAxis";var kNe=(n,e)=>e,EO=Ae([kNe,Wt,R7,Ui,PZ,Uu,rUe,Wi],cUe),SO=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/i)}},See=Ja("mouseClick"),xee=GB();xee.startListening({actionCreator:See,effect:(n,e)=>{var t=n.payload,i=EO(e.getState(),SO(t));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(rFe({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var lQ=Ja("mouseMove"),_ee=GB(),Ex=null;_ee.startListening({actionCreator:lQ,effect:(n,e)=>{var t=n.payload;Ex!==null&&cancelAnimationFrame(Ex);var i=SO(t);Ex=requestAnimationFrame(()=>{var r=e.getState(),s=AO(r,r.tooltip.settings.shared);if(s==="axis"){var a=EO(r,i);(a==null?void 0:a.activeIndex)!=null?e.dispatch(SZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(EZ())}Ex=null})}});var B$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Tee=bs({name:"rootProps",initialState:B$,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:B$.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),ONe=Tee.reducer,{updateOptions:HNe}=Tee.actions,Iee=bs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:LQe}=Iee.actions,VNe=Iee.reducer,Fee=Ja("keyDown"),Uee=Ja("focus"),xO=GB();xO.startListening({actionCreator:Fee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=lO(r,Cy(t),eE(t),sE(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Uu(t);if(s==="Enter"){var u=GT(t,"axis","hover",String(r.index));e.dispatch(tQ({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:u}));return}var d=jIe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var b=GT(t,"axis","hover",String(v));e.dispatch(tQ({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}}});xO.startListening({actionCreator:Uee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip;if(!r.active&&r.index==null){var s="0",a=GT(t,"axis","hover",String(s));e.dispatch(tQ({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Ea=Ja("externalEvent"),Mee=GB(),dR=new Map;Mee.startListening({actionCreator:Ea,effect:(n,e)=>{var{handler:t,reactEvent:i}=n.payload;if(t!=null){i.persist();var r=i.type,s=dR.get(r);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:KFe(o),activeDataKey:LZ(o),activeIndex:ay(o),activeLabel:NZ(o),activeTooltipIndex:ay(o),isTooltipActive:GFe(o)};t(l,i)}finally{dR.delete(r)}});dR.set(r,a)}}});var KNe=Ae([by],n=>n.tooltipItemPayloads),GNe=Ae([KNe,iE,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,i)=>{var r=n.find(o=>o.settings.dataKey===i);if(r!=null){var{positions:s}=r;if(s!=null){var a=e(s,t);return a}}}),Pee=Ja("touchMove"),Ree=GB();Ree.startListening({actionCreator:Pee,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var i=e.getState(),r=AO(i,i.tooltip.settings.shared);if(r==="axis"){var s=EO(i,SO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(SZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(OEe),d=(a=l.getAttribute(HEe))!==null&&a!==void 0?a:void 0,h=GNe(e.getState(),u,d);e.dispatch(BZ({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var zNe=P9({brush:VDe,cartesianAxis:sRe,chartData:KUe,errorBars:yRe,graphicalItems:zPe,layout:bEe,legend:NSe,options:QUe,polarAxis:cPe,polarOptions:VNe,referenceElements:WDe,rootProps:ONe,tooltip:sFe,zIndex:SUe}),qNe=function(e){return qBe({reducer:zNe,preloadedState:e,middleware:t=>{var i;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([xee.middleware,_ee.middleware,xO.middleware,Mee.middleware,Ree.middleware])},enhancers:t=>{var i=t;return typeof t=="function"&&(i=t()),i.concat(j9({type:"raf"}))},devTools:$B.devToolsEnabled})};function $Ne(n){var{preloadedState:e,children:t,reduxStoreName:i}=n,r=Aa(),s=M.useRef(null);if(r)return t;s.current==null&&(s.current=qNe(e));var a=rk;return M.createElement(KRe,{context:a,store:s.current},t)}function jNe(n){var{layout:e,margin:t}=n,i=ai(),r=Aa();return M.useEffect(()=>{r||(i(vEe(e)),i(mEe(t)))},[i,r,e,t]),null}var WNe=M.memo(jNe,bO);function YNe(n){var e=ai();return M.useEffect(()=>{e(HNe(n))},[e,n]),null}function E$(n){var{zIndex:e,isPanorama:t}=n,i=t?"recharts-zindex-panorama-":"recharts-zindex-",r=uee("".concat(i).concat(e)),s=ai();return M.useLayoutEffect(()=>(s(BUe({zIndex:e,elementId:r,isPanorama:t})),()=>{s(EUe({zIndex:e,isPanorama:t}))}),[s,e,r,t]),M.createElement("g",{tabIndex:-1,id:r})}function S$(n){var{children:e,isPanorama:t}=n,i=Je(fUe);if(!i||i.length===0)return e;var r=i.filter(a=>a<0),s=i.filter(a=>a>0);return M.createElement(M.Fragment,null,r.map(a=>M.createElement(E$,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>M.createElement(E$,{key:a,zIndex:a,isPanorama:t})))}var XNe=["children"];function JNe(n,e){if(n==null)return{};var t,i,r=ZNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ZNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function XT(){return XT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XT.apply(null,arguments)}var eLe={width:"100%",height:"100%",display:"block"},tLe=M.forwardRef((n,e)=>{var t=vSe(),i=ySe(),r=bJ();if(!Rd(t)||!Rd(i))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=r?0:void 0,typeof a.role=="string"?d=a.role:d=r?"application":void 0),M.createElement(XX,XT({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:i,style:eLe,ref:e}),s)}),nLe=n=>{var{children:e}=n,t=Je(aI);if(!t)return null;var{width:i,height:r,y:s,x:a}=t;return M.createElement(XX,{width:i,height:r,x:a,y:s},e)},x$=M.forwardRef((n,e)=>{var{children:t}=n,i=JNe(n,XNe),r=Aa();return r?M.createElement(nLe,null,M.createElement(S$,{isPanorama:!0},t)):M.createElement(tLe,XT({ref:e},i),M.createElement(S$,{isPanorama:!1},t))});function iLe(){var n=ai(),[e,t]=M.useState(null),i=Je(kEe);return M.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;si(s)&&s!==i&&n(wEe(s))}},[e,n,i]),t}function _$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rLe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(t),!0).forEach(function(i){sLe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function sLe(n,e,t){return(e=aLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aLe(n){var e=oLe(n,"string");return typeof e=="symbol"?e:e+""}function oLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hp(){return hp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hp.apply(null,arguments)}var ALe=()=>(JUe(),null);function JT(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var lLe=M.forwardRef((n,e)=>{var t,i,r=M.useRef(null),[s,a]=M.useState({containerWidth:JT((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:JT((i=n.style)===null||i===void 0?void 0:i.height)}),o=M.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=M.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=b=>{var{width:C,height:E}=b[0].contentRect;o(C,E)},v=new ResizeObserver(g);v.observe(u),r.current=v}},[e,o]);return M.useEffect(()=>()=>{var u=r.current;u!=null&&u.disconnect()},[o]),M.createElement(M.Fragment,null,M.createElement(lI,{width:s.containerWidth,height:s.containerHeight}),M.createElement("div",hp({ref:l},n)))}),uLe=M.forwardRef((n,e)=>{var{width:t,height:i}=n,[r,s]=M.useState({containerWidth:JT(t),containerHeight:JT(i)}),a=M.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=M.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return M.createElement(M.Fragment,null,M.createElement(lI,{width:r.containerWidth,height:r.containerHeight}),M.createElement("div",hp({ref:o},n)))}),cLe=M.forwardRef((n,e)=>{var{width:t,height:i}=n;return M.createElement(M.Fragment,null,M.createElement(lI,{width:t,height:i}),M.createElement("div",hp({ref:e},n)))}),dLe=M.forwardRef((n,e)=>{var{width:t,height:i}=n;return fu(t)||fu(i)?M.createElement(uLe,hp({},n,{ref:e})):M.createElement(cLe,hp({},n,{ref:e}))});function fLe(n){return n===!0?lLe:dLe}var hLe=M.forwardRef((n,e)=>{var{children:t,className:i,height:r,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:C,style:E,width:x,responsive:I,dispatchTouchEvents:T=!0}=n,R=M.useRef(null),P=ai(),[D,L]=M.useState(null),[H,k]=M.useState(null),K=iLe(),V=hk(),q=(V==null?void 0:V.width)>0?V.width:x,X=(V==null?void 0:V.height)>0?V.height:r,ne=M.useCallback(ie=>{K(ie),typeof e=="function"&&e(ie),L(ie),k(ie),ie!=null&&(R.current=ie)},[K,e,L,k]),he=M.useCallback(ie=>{P(See(ie)),P(Ea({handler:s,reactEvent:ie}))},[P,s]),G=M.useCallback(ie=>{P(lQ(ie)),P(Ea({handler:u,reactEvent:ie}))},[P,u]),$=M.useCallback(ie=>{P(EZ()),P(Ea({handler:d,reactEvent:ie}))},[P,d]),se=M.useCallback(ie=>{P(lQ(ie)),P(Ea({handler:h,reactEvent:ie}))},[P,h]),ae=M.useCallback(()=>{P(Uee())},[P]),be=M.useCallback(ie=>{P(Fee(ie.key))},[P]),z=M.useCallback(ie=>{P(Ea({handler:a,reactEvent:ie}))},[P,a]),J=M.useCallback(ie=>{P(Ea({handler:o,reactEvent:ie}))},[P,o]),le=M.useCallback(ie=>{P(Ea({handler:l,reactEvent:ie}))},[P,l]),ve=M.useCallback(ie=>{P(Ea({handler:g,reactEvent:ie}))},[P,g]),Ee=M.useCallback(ie=>{P(Ea({handler:C,reactEvent:ie}))},[P,C]),Fe=M.useCallback(ie=>{T&&P(Pee(ie)),P(Ea({handler:b,reactEvent:ie}))},[P,T,b]),Ce=M.useCallback(ie=>{P(Ea({handler:v,reactEvent:ie}))},[P,v]),ht=fLe(I);return M.createElement(GZ.Provider,{value:D},M.createElement(Sbe.Provider,{value:H},M.createElement(ht,{width:q??(E==null?void 0:E.width),height:X??(E==null?void 0:E.height),className:In("recharts-wrapper",i),style:rLe({position:"relative",cursor:"default",width:q,height:X},E),onClick:he,onContextMenu:z,onDoubleClick:J,onFocus:ae,onKeyDown:be,onMouseDown:le,onMouseEnter:G,onMouseLeave:$,onMouseMove:se,onMouseUp:ve,onTouchEnd:Ce,onTouchMove:Fe,onTouchStart:Ee,ref:ne},M.createElement(ALe,null),t)))}),pLe=["width","height","responsive","children","className","style","compact","title","desc"];function gLe(n,e){if(n==null)return{};var t,i,r=mLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function mLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var vLe=M.forwardRef((n,e)=>{var{width:t,height:i,responsive:r,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=gLe(n,pLe),g=Pd(h);return l?M.createElement(M.Fragment,null,M.createElement(lI,{width:t,height:i}),M.createElement(x$,{otherAttributes:g,title:u,desc:d},s)):M.createElement(hLe,{className:a,style:o,width:t,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},M.createElement(x$,{otherAttributes:g,title:u,desc:d,ref:e},M.createElement(XDe,null,s)))});function uQ(){return uQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uQ.apply(null,arguments)}var yLe={top:5,right:5,bottom:5,left:5},wLe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:yLe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},bLe=M.forwardRef(function(e,t){var i,r=eo(e.categoricalChartProps,wLe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return M.createElement($Ne,{preloadedState:{options:d},reduxStoreName:(i=u.id)!==null&&i!==void 0?i:s},M.createElement(HDe,{chartData:u.data}),M.createElement(WNe,{layout:r.layout,margin:r.margin}),M.createElement(YNe,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),M.createElement(vLe,uQ({},r,{ref:t})))}),CLe=["axis","item"],BLe=M.forwardRef((n,e)=>M.createElement(bLe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:CLe,tooltipPayloadSearcher:NUe,categoricalChartProps:n,ref:e}));const ELe=()=>{const{stats:n,highlights:e}=kd(),t=Object.entries(n.chapterVisits).map(([r,s])=>({name:r==="ch1"?"Ch 1":r==="ch2"?"Ch 2":"Ch 3",visits:s})),i=r=>`${Math.floor(r/60)}m ${r%60}s`;return Q.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[Q.jsx(VW,{toggleSidebar:()=>{},toggleNotes:()=>{}}),Q.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[Q.jsxs("div",{className:"mb-8",children:[Q.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),Q.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),Q.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[Q.jsx(Sx,{icon:Q.jsx(Rfe,{className:"text-blue-500"}),label:"Reading Time",value:i(n.totalReadingTime)}),Q.jsx(Sx,{icon:Q.jsx(yfe,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),Q.jsx(Sx,{icon:Q.jsx(kW,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),Q.jsx(Sx,{icon:Q.jsx(LK,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),Q.jsx("div",{className:"h-64 w-full",children:Q.jsx(pSe,{width:"100%",height:"100%",children:Q.jsxs(BLe,{data:t,children:[Q.jsx(Bee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),Q.jsx(Eee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),Q.jsx(aMe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),Q.jsx(mee,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((r,s)=>Q.jsx(vO,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),Q.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[Q.jsx(LK,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[Q.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),Q.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((r,s)=>Q.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:r.text},s)),e.length===0&&Q.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),Q.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:Q.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},Sx=({icon:n,label:e,value:t})=>Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[Q.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),Q.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),Q.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),SLe=()=>Q.jsx(wre,{children:Q.jsx(ufe,{children:Q.jsxs(Xie,{children:[Q.jsx(gR,{path:"/",element:Q.jsx(pbe,{})}),Q.jsx(gR,{path:"/report",element:Q.jsx(ELe,{})})]})})}),Dee=document.getElementById("root");if(!Dee)throw new Error("Could not find root element to mount to");const xLe=sie.createRoot(Dee);xLe.render(Q.jsx(D_.StrictMode,{children:Q.jsx(SLe,{})}));
