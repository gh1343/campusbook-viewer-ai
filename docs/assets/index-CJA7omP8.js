var Wne=Object.defineProperty;var xV=n=>{throw TypeError(n)};var Yne=(n,e,t)=>e in n?Wne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ge=(n,e,t)=>Yne(n,typeof e!="symbol"?e+"":e,t),$M=(n,e,t)=>e.has(n)||xV("Cannot "+t);var f=(n,e,t)=>($M(n,e,"read from private field"),t?t.call(n):e.get(n)),F=(n,e,t)=>e.has(n)?xV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,i)=>($M(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),U=(n,e,t)=>($M(n,e,"access private method"),t);var ci=(n,e,t,i)=>({set _(r){_(n,e,r,t)},get _(){return f(n,e,i)}});function Xne(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function zA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jM={exports:{}},E0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _V;function Jne(){if(_V)return E0;_V=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return E0.Fragment=e,E0.jsx=t,E0.jsxs=t,E0}var TV;function Zne(){return TV||(TV=1,jM.exports=Jne()),jM.exports}var L=Zne(),WM={exports:{}},lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV;function eie(){if(IV)return lt;IV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function x(q,Y,le){this.props=q,this.context=Y,this.refs=E,this.updater=le||b}x.prototype.isReactComponent={},x.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=x.prototype;function T(q,Y,le){this.props=q,this.context=Y,this.refs=E,this.updater=le||b}var R=T.prototype=new I;R.constructor=T,C(R,x.prototype),R.isPureReactComponent=!0;var P=Array.isArray;function D(){}var Q={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k(q,Y,le){var ye=le.ref;return{$$typeof:n,type:q,key:Y,ref:ye!==void 0?ye:null,props:le}}function K(q,Y){return k(q.type,Y,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function z(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(le){return Y[le]})}var Z=/\/+/g;function ne(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):Y.toString(36)}function de(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(Y){q.status==="pending"&&(q.status="fulfilled",q.value=Y)},function(Y){q.status==="pending"&&(q.status="rejected",q.reason=Y)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,Y,le,ye,Be){var _e=typeof q;(_e==="undefined"||_e==="boolean")&&(q=null);var we=!1;if(q===null)we=!0;else switch(_e){case"bigint":case"string":case"number":we=!0;break;case"object":switch(q.$$typeof){case n:case e:we=!0;break;case d:return we=q._init,G(we(q._payload),Y,le,ye,Be)}}if(we)return Be=Be(q),we=ye===""?"."+ne(q,0):ye,P(Be)?(le="",we!=null&&(le=we.replace(Z,"$&/")+"/"),G(Be,Y,le,"",function(Ne){return Ne})):Be!=null&&(V(Be)&&(Be=K(Be,le+(Be.key==null||q&&q.key===Be.key?"":(""+Be.key).replace(Z,"$&/")+"/")+we)),Y.push(Be)),1;we=0;var at=ye===""?".":ye+":";if(P(q))for(var se=0;se<q.length;se++)ye=q[se],_e=at+ne(ye,se),we+=G(ye,Y,le,_e,Be);else if(se=v(q),typeof se=="function")for(q=se.call(q),se=0;!(ye=q.next()).done;)ye=ye.value,_e=at+ne(ye,se++),we+=G(ye,Y,le,_e,Be);else if(_e==="object"){if(typeof q.then=="function")return G(de(q),Y,le,ye,Be);throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(q,Y,le){if(q==null)return q;var ye=[],Be=0;return G(q,ye,"","",function(_e){return Y.call(le,_e,Be++)}),ye}function re(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(le){(q._status===0||q._status===-1)&&(q._status=1,q._result=le)},function(le){(q._status===0||q._status===-1)&&(q._status=2,q._result=le)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var ae=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Ee={map:$,forEach:function(q,Y,le){$(q,function(){Y.apply(this,arguments)},le)},count:function(q){var Y=0;return $(q,function(){Y++}),Y},toArray:function(q){return $(q,function(Y){return Y})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return lt.Activity=h,lt.Children=Ee,lt.Component=x,lt.Fragment=t,lt.Profiler=r,lt.PureComponent=T,lt.StrictMode=i,lt.Suspense=l,lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,lt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return Q.H.useMemoCache(q)}},lt.cache=function(q){return function(){return q.apply(null,arguments)}},lt.cacheSignal=function(){return null},lt.cloneElement=function(q,Y,le){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ye=C({},q.props),Be=q.key;if(Y!=null)for(_e in Y.key!==void 0&&(Be=""+Y.key),Y)!H.call(Y,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Y.ref===void 0||(ye[_e]=Y[_e]);var _e=arguments.length-2;if(_e===1)ye.children=le;else if(1<_e){for(var we=Array(_e),at=0;at<_e;at++)we[at]=arguments[at+2];ye.children=we}return k(q.type,Be,ye)},lt.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},lt.createElement=function(q,Y,le){var ye,Be={},_e=null;if(Y!=null)for(ye in Y.key!==void 0&&(_e=""+Y.key),Y)H.call(Y,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Be[ye]=Y[ye]);var we=arguments.length-2;if(we===1)Be.children=le;else if(1<we){for(var at=Array(we),se=0;se<we;se++)at[se]=arguments[se+2];Be.children=at}if(q&&q.defaultProps)for(ye in we=q.defaultProps,we)Be[ye]===void 0&&(Be[ye]=we[ye]);return k(q,_e,Be)},lt.createRef=function(){return{current:null}},lt.forwardRef=function(q){return{$$typeof:o,render:q}},lt.isValidElement=V,lt.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:re}},lt.memo=function(q,Y){return{$$typeof:u,type:q,compare:Y===void 0?null:Y}},lt.startTransition=function(q){var Y=Q.T,le={};Q.T=le;try{var ye=q(),Be=Q.S;Be!==null&&Be(le,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(D,ae)}catch(_e){ae(_e)}finally{Y!==null&&le.types!==null&&(Y.types=le.types),Q.T=Y}},lt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},lt.use=function(q){return Q.H.use(q)},lt.useActionState=function(q,Y,le){return Q.H.useActionState(q,Y,le)},lt.useCallback=function(q,Y){return Q.H.useCallback(q,Y)},lt.useContext=function(q){return Q.H.useContext(q)},lt.useDebugValue=function(){},lt.useDeferredValue=function(q,Y){return Q.H.useDeferredValue(q,Y)},lt.useEffect=function(q,Y){return Q.H.useEffect(q,Y)},lt.useEffectEvent=function(q){return Q.H.useEffectEvent(q)},lt.useId=function(){return Q.H.useId()},lt.useImperativeHandle=function(q,Y,le){return Q.H.useImperativeHandle(q,Y,le)},lt.useInsertionEffect=function(q,Y){return Q.H.useInsertionEffect(q,Y)},lt.useLayoutEffect=function(q,Y){return Q.H.useLayoutEffect(q,Y)},lt.useMemo=function(q,Y){return Q.H.useMemo(q,Y)},lt.useOptimistic=function(q,Y){return Q.H.useOptimistic(q,Y)},lt.useReducer=function(q,Y,le){return Q.H.useReducer(q,Y,le)},lt.useRef=function(q){return Q.H.useRef(q)},lt.useState=function(q){return Q.H.useState(q)},lt.useSyncExternalStore=function(q,Y,le){return Q.H.useSyncExternalStore(q,Y,le)},lt.useTransition=function(){return Q.H.useTransition()},lt.version="19.2.1",lt}var FV;function by(){return FV||(FV=1,WM.exports=eie()),WM.exports}var M=by();const Fw=zA(M),tie=Xne({__proto__:null,default:Fw},[M]);var YM={exports:{}},S0={},XM={exports:{}},JM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV;function nie(){return MV||(MV=1,(function(n){function e(G,$){var re=G.length;G.push($);e:for(;0<re;){var ae=re-1>>>1,Ee=G[ae];if(0<r(Ee,$))G[ae]=$,G[re]=Ee,re=ae;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var $=G[0],re=G.pop();if(re!==$){G[0]=re;e:for(var ae=0,Ee=G.length,q=Ee>>>1;ae<q;){var Y=2*(ae+1)-1,le=G[Y],ye=Y+1,Be=G[ye];if(0>r(le,re))ye<Ee&&0>r(Be,le)?(G[ae]=Be,G[ye]=re,ae=ye):(G[ae]=le,G[Y]=re,ae=Y);else if(ye<Ee&&0>r(Be,re))G[ae]=Be,G[ye]=re,ae=ye;else break e}}return $}function r(G,$){var re=G.sortIndex-$.sortIndex;return re!==0?re:G.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,b=!1,C=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(G){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=G)i(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function P(G){if(C=!1,R(G),!b)if(t(l)!==null)b=!0,D||(D=!0,z());else{var $=t(u);$!==null&&de(P,$.startTime-G)}}var D=!1,Q=-1,H=5,k=-1;function K(){return E?!0:!(n.unstable_now()-k<H)}function V(){if(E=!1,D){var G=n.unstable_now();k=G;var $=!0;try{e:{b=!1,C&&(C=!1,I(Q),Q=-1),v=!0;var re=g;try{t:{for(R(G),h=t(l);h!==null&&!(h.expirationTime>G&&K());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,g=h.priorityLevel;var Ee=ae(h.expirationTime<=G);if(G=n.unstable_now(),typeof Ee=="function"){h.callback=Ee,R(G),$=!0;break t}h===t(l)&&i(l),R(G)}else i(l);h=t(l)}if(h!==null)$=!0;else{var q=t(u);q!==null&&de(P,q.startTime-G),$=!1}}break e}finally{h=null,g=re,v=!1}$=void 0}}finally{$?z():D=!1}}}var z;if(typeof T=="function")z=function(){T(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ne=Z.port2;Z.port1.onmessage=V,z=function(){ne.postMessage(null)}}else z=function(){x(V,0)};function de(G,$){Q=x(function(){G(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(G){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var re=g;g=$;try{return G()}finally{g=re}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=g;g=G;try{return $()}finally{g=re}},n.unstable_scheduleCallback=function(G,$,re){var ae=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ae+re:ae):re=ae,G){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=re+Ee,G={id:d++,callback:$,priorityLevel:G,startTime:re,expirationTime:Ee,sortIndex:-1},re>ae?(G.sortIndex=re,e(u,G),t(l)===null&&G===t(u)&&(C?(I(Q),Q=-1):C=!0,de(P,re-ae))):(G.sortIndex=Ee,e(l,G),b||v||(b=!0,D||(D=!0,z()))),G},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(G){var $=g;return function(){var re=g;g=$;try{return G.apply(this,arguments)}finally{g=re}}}})(JM)),JM}var UV;function iie(){return UV||(UV=1,XM.exports=nie()),XM.exports}var ZM={exports:{}},Nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PV;function rie(){if(PV)return Nr;PV=1;var n=by();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Nr.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},Nr.flushSync=function(l){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=d,i.d.f()}},Nr.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},Nr.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Nr.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&i.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Nr.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},Nr.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);i.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Nr.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},Nr.requestFormReset=function(l){i.d.r(l)},Nr.unstable_batchedUpdates=function(l,u){return l(u)},Nr.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},Nr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Nr.version="19.2.1",Nr}var RV;function N$(){if(RV)return ZM.exports;RV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ZM.exports=rie(),ZM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DV;function sie(){if(DV)return S0;DV=1;var n=iie(),e=by(),t=N$();function i(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(i(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(i(188));return c!==A?null:A}for(var p=A,m=c;;){var B=p.return;if(B===null)break;var S=B.alternate;if(S===null){if(m=B.return,m!==null){p=m;continue}break}if(B.child===S.child){for(S=B.child;S;){if(S===p)return l(B),A;if(S===m)return l(B),c;S=S.sibling}throw Error(i(188))}if(p.return!==m.return)p=B,m=S;else{for(var N=!1,O=B.child;O;){if(O===p){N=!0,p=B,m=S;break}if(O===m){N=!0,m=B,p=S;break}O=O.sibling}if(!N){for(O=S.child;O;){if(O===p){N=!0,p=S,m=B;break}if(O===m){N=!0,m=S,p=B;break}O=O.sibling}if(!N)throw Error(i(189))}}if(p.alternate!==m)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(A){return A===null||typeof A!="object"?null:(A=V&&A[V]||A["@@iterator"],typeof A=="function"?A:null)}var Z=Symbol.for("react.client.reference");function ne(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===Z?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case C:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case b:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case R:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case Q:return c=A.displayName||null,c!==null?c:ne(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return ne(A(c))}catch{}}return null}var de=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ae=[],Ee=-1;function q(A){return{current:A}}function Y(A){0>Ee||(A.current=ae[Ee],ae[Ee]=null,Ee--)}function le(A,c){Ee++,ae[Ee]=A.current,A.current=c}var ye=q(null),Be=q(null),_e=q(null),we=q(null);function at(A,c){switch(le(_e,c),le(Be,A),le(ye,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?W4(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=W4(c),A=Y4(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}Y(ye),le(ye,A)}function se(){Y(ye),Y(Be),Y(_e)}function Ne(A){A.memoizedState!==null&&le(we,A);var c=ye.current,p=Y4(c,A.type);c!==p&&(le(Be,A),le(ye,p))}function $e(A){Be.current===A&&(Y(ye),Y(Be)),we.current===A&&(Y(we),w0._currentValue=re)}var me,Nt;function Xe(A){if(me===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);me=c&&c[1]||"",Nt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+A+Nt}var Xt=!1;function kt(A,c){if(!A||Xt)return"";Xt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var ie=oe}Reflect.construct(A,[],pe)}else{try{pe.call()}catch(oe){ie=oe}A.call(pe.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(pe=A())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),N=S[0],O=S[1];if(N&&O){var j=N.split(`
`),te=O.split(`
`);for(B=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;B<te.length&&!te[B].includes("DetermineComponentFrameRoot");)B++;if(m===j.length||B===te.length)for(m=j.length-1,B=te.length-1;1<=m&&0<=B&&j[m]!==te[B];)B--;for(;1<=m&&0<=B;m--,B--)if(j[m]!==te[B]){if(m!==1||B!==1)do if(m--,B--,0>B||j[m]!==te[B]){var ce=`
`+j[m].replace(" at new "," at ");return A.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",A.displayName)),ce}while(1<=m&&0<=B);break}}}finally{Xt=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?Xe(p):""}function si(A,c){switch(A.tag){case 26:case 27:case 5:return Xe(A.type);case 16:return Xe("Lazy");case 13:return A.child!==c&&c!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return kt(A.type,!1);case 11:return kt(A.type.render,!1);case 1:return kt(A.type,!0);case 31:return Xe("Activity");default:return""}}function ot(A){try{var c="",p=null;do c+=si(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ai=Object.prototype.hasOwnProperty,Yr=n.unstable_scheduleCallback,Jt=n.unstable_cancelCallback,Os=n.unstable_shouldYield,xe=n.unstable_requestPaint,J=n.unstable_now,be=n.unstable_getCurrentPriorityLevel,Me=n.unstable_ImmediatePriority,Bt=n.unstable_UserBlockingPriority,Le=n.unstable_NormalPriority,vn=n.unstable_LowPriority,qt=n.unstable_IdlePriority,Yi=n.log,ps=n.unstable_setDisableYieldValue,Xr=null,yi=null;function Ta(A){if(typeof Yi=="function"&&ps(A),yi&&typeof yi.setStrictMode=="function")try{yi.setStrictMode(Xr,A)}catch{}}var wi=Math.clz32?Math.clz32:ke,ve=Math.log,Ce=Math.LN2;function ke(A){return A>>>=0,A===0?32:31-(ve(A)/Ce|0)|0}var Ue=256,ze=262144,qe=4194304;function et(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function tt(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var B=0,S=A.suspendedLanes,N=A.pingedLanes;A=A.warmLanes;var O=m&134217727;return O!==0?(m=O&~S,m!==0?B=et(m):(N&=O,N!==0?B=et(N):p||(p=O&~A,p!==0&&(B=et(p))))):(O=m&~S,O!==0?B=et(O):N!==0?B=et(N):p||(p=m&~A,p!==0&&(B=et(p)))),B===0?0:c!==0&&c!==B&&(c&S)===0&&(S=B&-B,p=c&-c,S>=p||S===32&&(p&4194048)!==0)?c:B}function ht(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function Se(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(){var A=qe;return qe<<=1,(qe&62914560)===0&&(qe=4194304),A}function Ot(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function Zt(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function bi(A,c,p,m,B,S){var N=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var O=A.entanglements,j=A.expirationTimes,te=A.hiddenUpdates;for(p=N&~p;0<p;){var ce=31-wi(p),pe=1<<ce;O[ce]=0,j[ce]=-1;var ie=te[ce];if(ie!==null)for(te[ce]=null,ce=0;ce<ie.length;ce++){var oe=ie[ce];oe!==null&&(oe.lane&=-536870913)}p&=~pe}m!==0&&Xi(A,m,0),S!==0&&B===0&&A.tag!==0&&(A.suspendedLanes|=S&~(N&~c))}function Xi(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-wi(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function oi(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-wi(p),B=1<<m;B&c|A[m]&c&&(A[m]|=c),p&=~B}}function Ci(A,c){var p=c&-c;return p=(p&42)!==0?1:Hs(p),(p&(A.suspendedLanes|c))!==0?0:p}function Hs(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Bi(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function bE(){var A=$.p;return A!==0?A:(A=window.event,A===void 0?32:yV(A.type))}function CE(A,c){var p=$.p;try{return $.p=A,c()}finally{$.p=p}}var Zo=Math.random().toString(36).slice(2),Li="__reactFiber$"+Zo,Dr="__reactProps$"+Zo,Yu="__reactContainer$"+Zo,Dy="__reactEvents$"+Zo,BE="__reactListeners$"+Zo,kI="__reactHandles$"+Zo,EE="__reactResources$"+Zo,uf="__reactMarker$"+Zo;function Ny(A){delete A[Li],delete A[Dr],delete A[Dy],delete A[BE],delete A[kI]}function eA(A){var c=A[Li];if(c)return c;for(var p=A.parentNode;p;){if(c=p[Yu]||p[Li]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=iV(A);A!==null;){if(p=A[Li])return p;A=iV(A)}return c}A=p,p=A.parentNode}return null}function Xu(A){if(A=A[Li]||A[Yu]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function cf(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(i(33))}function jA(A){var c=A[EE];return c||(c=A[EE]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ei(A){A[uf]=!0}var SE=new Set,xE={};function he(A,c){Pe(A,c),Pe(A+"Capture",c)}function Pe(A,c){for(xE[A]=c,A=0;A<c.length;A++)SE.add(c[A])}var He=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ge={},St={};function Gn(A){return ai.call(St,A)?!0:ai.call(Ge,A)?!1:He.test(A)?St[A]=!0:(Ge[A]=!0,!1)}function Ai(A,c,p){if(Gn(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function yn(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function hr(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function Jr(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function HO(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Vee(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var B=m.get,S=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return B.call(this)},set:function(N){p=""+N,S.call(this,N)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function OI(A){if(!A._valueTracker){var c=HO(A)?"checked":"value";A._valueTracker=Vee(A,c,""+A[c])}}function VO(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=HO(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function _E(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Kee=/[\n"\\]/g;function Ia(A){return A.replace(Kee,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function HI(A,c,p,m,B,S,N,O){A.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?A.type=N:A.removeAttribute("type"),c!=null?N==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+Jr(c)):A.value!==""+Jr(c)&&(A.value=""+Jr(c)):N!=="submit"&&N!=="reset"||A.removeAttribute("value"),c!=null?VI(A,N,Jr(c)):p!=null?VI(A,N,Jr(p)):m!=null&&A.removeAttribute("value"),B==null&&S!=null&&(A.defaultChecked=!!S),B!=null&&(A.checked=B&&typeof B!="function"&&typeof B!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?A.name=""+Jr(O):A.removeAttribute("name")}function KO(A,c,p,m,B,S,N,O){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(A.type=S),c!=null||p!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){OI(A);return}p=p!=null?""+Jr(p):"",c=c!=null?""+Jr(c):p,O||c===A.value||(A.value=c),A.defaultValue=c}m=m??B,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=O?A.checked:!!m,A.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(A.name=N),OI(A)}function VI(A,c,p){c==="number"&&_E(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function kp(A,c,p,m){if(A=A.options,c){c={};for(var B=0;B<p.length;B++)c["$"+p[B]]=!0;for(p=0;p<A.length;p++)B=c.hasOwnProperty("$"+A[p].value),A[p].selected!==B&&(A[p].selected=B),B&&m&&(A[p].defaultSelected=!0)}else{for(p=""+Jr(p),c=null,B=0;B<A.length;B++){if(A[B].value===p){A[B].selected=!0,m&&(A[B].defaultSelected=!0);return}c!==null||A[B].disabled||(c=A[B])}c!==null&&(c.selected=!0)}}function GO(A,c,p){if(c!=null&&(c=""+Jr(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+Jr(p):""}function zO(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(i(92));if(de(m)){if(1<m.length)throw Error(i(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=Jr(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),OI(A)}function Op(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var Gee=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qO(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||Gee.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function $O(A,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var B in c)m=c[B],c.hasOwnProperty(B)&&p[B]!==m&&qO(A,B,m)}else for(var S in c)c.hasOwnProperty(S)&&qO(A,S,c[S])}function KI(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function TE(A){return qee.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function WA(){}var GI=null;function zI(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Hp=null,Vp=null;function jO(A){var c=Xu(A);if(c&&(A=c.stateNode)){var p=A[Dr]||null;e:switch(A=c.stateNode,c.type){case"input":if(HI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ia(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var B=m[Dr]||null;if(!B)throw Error(i(90));HI(m,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&VO(m)}break e;case"textarea":GO(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&kp(A,!!p.multiple,c,!1)}}}var qI=!1;function WO(A,c,p){if(qI)return A(c,p);qI=!0;try{var m=A(c);return m}finally{if(qI=!1,(Hp!==null||Vp!==null)&&(pS(),Hp&&(c=Hp,A=Vp,Vp=Hp=null,jO(c),A)))for(c=0;c<A.length;c++)jO(A[c])}}function Ly(A,c){var p=A.stateNode;if(p===null)return null;var m=p[Dr]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var YA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$I=!1;if(YA)try{var Qy={};Object.defineProperty(Qy,"passive",{get:function(){$I=!0}}),window.addEventListener("test",Qy,Qy),window.removeEventListener("test",Qy,Qy)}catch{$I=!1}var Ju=null,jI=null,IE=null;function YO(){if(IE)return IE;var A,c=jI,p=c.length,m,B="value"in Ju?Ju.value:Ju.textContent,S=B.length;for(A=0;A<p&&c[A]===B[A];A++);var N=p-A;for(m=1;m<=N&&c[p-m]===B[S-m];m++);return IE=B.slice(A,1<m?1-m:void 0)}function FE(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function ME(){return!0}function XO(){return!1}function gs(A){function c(p,m,B,S,N){this._reactName=p,this._targetInst=B,this.type=m,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var O in A)A.hasOwnProperty(O)&&(p=A[O],this[O]=p?p(S):S[O]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ME:XO,this.isPropagationStopped=XO,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ME)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ME)},persist:function(){},isPersistent:ME}),c}var df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UE=gs(df),ky=h({},df,{view:0,detail:0}),$ee=gs(ky),WI,YI,Oy,PE=h({},ky,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JI,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Oy&&(Oy&&A.type==="mousemove"?(WI=A.screenX-Oy.screenX,YI=A.screenY-Oy.screenY):YI=WI=0,Oy=A),WI)},movementY:function(A){return"movementY"in A?A.movementY:YI}}),JO=gs(PE),jee=h({},PE,{dataTransfer:0}),Wee=gs(jee),Yee=h({},ky,{relatedTarget:0}),XI=gs(Yee),Xee=h({},df,{animationName:0,elapsedTime:0,pseudoElement:0}),Jee=gs(Xee),Zee=h({},df,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),ete=gs(Zee),tte=h({},df,{data:0}),ZO=gs(tte),nte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ite={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ste(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=rte[A])?!!c[A]:!1}function JI(){return ste}var ate=h({},ky,{key:function(A){if(A.key){var c=nte[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=FE(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?ite[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JI,charCode:function(A){return A.type==="keypress"?FE(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?FE(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),ote=gs(ate),Ate=h({},PE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e2=gs(Ate),lte=h({},ky,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JI}),ute=gs(lte),cte=h({},df,{propertyName:0,elapsedTime:0,pseudoElement:0}),dte=gs(cte),fte=h({},PE,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),hte=gs(fte),pte=h({},df,{newState:0,oldState:0}),gte=gs(pte),mte=[9,13,27,32],ZI=YA&&"CompositionEvent"in window,Hy=null;YA&&"documentMode"in document&&(Hy=document.documentMode);var vte=YA&&"TextEvent"in window&&!Hy,t2=YA&&(!ZI||Hy&&8<Hy&&11>=Hy),n2=" ",i2=!1;function r2(A,c){switch(A){case"keyup":return mte.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s2(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Kp=!1;function yte(A,c){switch(A){case"compositionend":return s2(c);case"keypress":return c.which!==32?null:(i2=!0,n2);case"textInput":return A=c.data,A===n2&&i2?null:A;default:return null}}function wte(A,c){if(Kp)return A==="compositionend"||!ZI&&r2(A,c)?(A=YO(),IE=jI=Ju=null,Kp=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return t2&&c.locale!=="ko"?null:c.data;default:return null}}var bte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a2(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!bte[A.type]:c==="textarea"}function o2(A,c,p,m){Hp?Vp?Vp.push(m):Vp=[m]:Hp=m,c=CS(c,"onChange"),0<c.length&&(p=new UE("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var Vy=null,Ky=null;function Cte(A){K4(A,0)}function RE(A){var c=cf(A);if(VO(c))return A}function A2(A,c){if(A==="change")return c}var l2=!1;if(YA){var eF;if(YA){var tF="oninput"in document;if(!tF){var u2=document.createElement("div");u2.setAttribute("oninput","return;"),tF=typeof u2.oninput=="function"}eF=tF}else eF=!1;l2=eF&&(!document.documentMode||9<document.documentMode)}function c2(){Vy&&(Vy.detachEvent("onpropertychange",d2),Ky=Vy=null)}function d2(A){if(A.propertyName==="value"&&RE(Ky)){var c=[];o2(c,Ky,A,zI(A)),WO(Cte,c)}}function Bte(A,c,p){A==="focusin"?(c2(),Vy=c,Ky=p,Vy.attachEvent("onpropertychange",d2)):A==="focusout"&&c2()}function Ete(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return RE(Ky)}function Ste(A,c){if(A==="click")return RE(c)}function xte(A,c){if(A==="input"||A==="change")return RE(c)}function _te(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var Vs=typeof Object.is=="function"?Object.is:_te;function Gy(A,c){if(Vs(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var B=p[m];if(!ai.call(c,B)||!Vs(A[B],c[B]))return!1}return!0}function f2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function h2(A,c){var p=f2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=f2(p)}}function p2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?p2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function g2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=_E(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=_E(A.document)}return c}function nF(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var Tte=YA&&"documentMode"in document&&11>=document.documentMode,Gp=null,iF=null,zy=null,rF=!1;function m2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;rF||Gp==null||Gp!==_E(m)||(m=Gp,"selectionStart"in m&&nF(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),zy&&Gy(zy,m)||(zy=m,m=CS(iF,"onSelect"),0<m.length&&(c=new UE("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=Gp)))}function ff(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var zp={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionrun:ff("Transition","TransitionRun"),transitionstart:ff("Transition","TransitionStart"),transitioncancel:ff("Transition","TransitionCancel"),transitionend:ff("Transition","TransitionEnd")},sF={},v2={};YA&&(v2=document.createElement("div").style,"AnimationEvent"in window||(delete zp.animationend.animation,delete zp.animationiteration.animation,delete zp.animationstart.animation),"TransitionEvent"in window||delete zp.transitionend.transition);function hf(A){if(sF[A])return sF[A];if(!zp[A])return A;var c=zp[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in v2)return sF[A]=c[p];return A}var y2=hf("animationend"),w2=hf("animationiteration"),b2=hf("animationstart"),Ite=hf("transitionrun"),Fte=hf("transitionstart"),Mte=hf("transitioncancel"),C2=hf("transitionend"),B2=new Map,aF="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");aF.push("scrollEnd");function bo(A,c){B2.set(A,c),he(c,[A])}var DE=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Fa=[],qp=0,oF=0;function NE(){for(var A=qp,c=oF=qp=0;c<A;){var p=Fa[c];Fa[c++]=null;var m=Fa[c];Fa[c++]=null;var B=Fa[c];Fa[c++]=null;var S=Fa[c];if(Fa[c++]=null,m!==null&&B!==null){var N=m.pending;N===null?B.next=B:(B.next=N.next,N.next=B),m.pending=B}S!==0&&E2(p,B,S)}}function LE(A,c,p,m){Fa[qp++]=A,Fa[qp++]=c,Fa[qp++]=p,Fa[qp++]=m,oF|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function AF(A,c,p,m){return LE(A,c,p,m),QE(A)}function pf(A,c){return LE(A,null,null,c),QE(A)}function E2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var B=!1,S=A.return;S!==null;)S.childLanes|=p,m=S.alternate,m!==null&&(m.childLanes|=p),S.tag===22&&(A=S.stateNode,A===null||A._visibility&1||(B=!0)),A=S,S=S.return;return A.tag===3?(S=A.stateNode,B&&c!==null&&(B=31-wi(p),A=S.hiddenUpdates,m=A[B],m===null?A[B]=[c]:m.push(c),c.lane=p|536870912),S):null}function QE(A){if(50<f0)throw f0=0,mM=null,Error(i(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var $p={};function Ute(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(A,c,p,m){return new Ute(A,c,p,m)}function lF(A){return A=A.prototype,!(!A||!A.isReactComponent)}function XA(A,c){var p=A.alternate;return p===null?(p=Ks(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function S2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function kE(A,c,p,m,B,S){var N=0;if(m=A,typeof A=="function")lF(A)&&(N=1);else if(typeof A=="string")N=Lne(A,p,ye.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=Ks(31,p,c,B),A.elementType=k,A.lanes=S,A;case C:return gf(p.children,B,S,c);case E:N=8,B|=24;break;case x:return A=Ks(12,p,c,B|2),A.elementType=x,A.lanes=S,A;case P:return A=Ks(13,p,c,B),A.elementType=P,A.lanes=S,A;case D:return A=Ks(19,p,c,B),A.elementType=D,A.lanes=S,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:N=10;break e;case I:N=9;break e;case R:N=11;break e;case Q:N=14;break e;case H:N=16,m=null;break e}N=29,p=Error(i(130,A===null?"null":typeof A,"")),m=null}return c=Ks(N,p,c,B),c.elementType=A,c.type=m,c.lanes=S,c}function gf(A,c,p,m){return A=Ks(7,A,m,c),A.lanes=p,A}function uF(A,c,p){return A=Ks(6,A,null,c),A.lanes=p,A}function x2(A){var c=Ks(18,null,null,0);return c.stateNode=A,c}function cF(A,c,p){return c=Ks(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var _2=new WeakMap;function Ma(A,c){if(typeof A=="object"&&A!==null){var p=_2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:ot(c)},_2.set(A,c),c)}return{value:A,source:c,stack:ot(c)}}var jp=[],Wp=0,OE=null,qy=0,Ua=[],Pa=0,Zu=null,tA=1,nA="";function JA(A,c){jp[Wp++]=qy,jp[Wp++]=OE,OE=A,qy=c}function T2(A,c,p){Ua[Pa++]=tA,Ua[Pa++]=nA,Ua[Pa++]=Zu,Zu=A;var m=tA;A=nA;var B=32-wi(m)-1;m&=~(1<<B),p+=1;var S=32-wi(c)+B;if(30<S){var N=B-B%5;S=(m&(1<<N)-1).toString(32),m>>=N,B-=N,tA=1<<32-wi(c)+B|p<<B|m,nA=S+A}else tA=1<<S|p<<B|m,nA=A}function dF(A){A.return!==null&&(JA(A,1),T2(A,1,0))}function fF(A){for(;A===OE;)OE=jp[--Wp],jp[Wp]=null,qy=jp[--Wp],jp[Wp]=null;for(;A===Zu;)Zu=Ua[--Pa],Ua[Pa]=null,nA=Ua[--Pa],Ua[Pa]=null,tA=Ua[--Pa],Ua[Pa]=null}function I2(A,c){Ua[Pa++]=tA,Ua[Pa++]=nA,Ua[Pa++]=Zu,tA=c.id,nA=c.overflow,Zu=A}var pr=null,Un=null,Ut=!1,ec=null,Ra=!1,hF=Error(i(519));function tc(A){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $y(Ma(c,A)),hF}function F2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[Li]=A,c[Dr]=m,p){case"dialog":_t("cancel",c),_t("close",c);break;case"iframe":case"object":case"embed":_t("load",c);break;case"video":case"audio":for(p=0;p<p0.length;p++)_t(p0[p],c);break;case"source":_t("error",c);break;case"img":case"image":case"link":_t("error",c),_t("load",c);break;case"details":_t("toggle",c);break;case"input":_t("invalid",c),KO(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":_t("invalid",c);break;case"textarea":_t("invalid",c),zO(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||$4(c.textContent,p)?(m.popover!=null&&(_t("beforetoggle",c),_t("toggle",c)),m.onScroll!=null&&_t("scroll",c),m.onScrollEnd!=null&&_t("scrollend",c),m.onClick!=null&&(c.onclick=WA),c=!0):c=!1,c||tc(A,!0)}function M2(A){for(pr=A.return;pr;)switch(pr.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:pr=pr.return}}function Yp(A){if(A!==pr)return!1;if(!Ut)return M2(A),Ut=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||UM(A.type,A.memoizedProps)),p=!p),p&&Un&&tc(A),M2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));Un=nV(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));Un=nV(A)}else c===27?(c=Un,pc(A.type)?(A=LM,LM=null,Un=A):Un=c):Un=pr?Na(A.stateNode.nextSibling):null;return!0}function mf(){Un=pr=null,Ut=!1}function pF(){var A=ec;return A!==null&&(ws===null?ws=A:ws.push.apply(ws,A),ec=null),A}function $y(A){ec===null?ec=[A]:ec.push(A)}var gF=q(null),vf=null,ZA=null;function nc(A,c,p){le(gF,c._currentValue),c._currentValue=p}function el(A){A._currentValue=gF.current,Y(gF)}function mF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function vF(A,c,p,m){var B=A.child;for(B!==null&&(B.return=A);B!==null;){var S=B.dependencies;if(S!==null){var N=B.child;S=S.firstContext;e:for(;S!==null;){var O=S;S=B;for(var j=0;j<c.length;j++)if(O.context===c[j]){S.lanes|=p,O=S.alternate,O!==null&&(O.lanes|=p),mF(S.return,p,A),m||(N=null);break e}S=O.next}}else if(B.tag===18){if(N=B.return,N===null)throw Error(i(341));N.lanes|=p,S=N.alternate,S!==null&&(S.lanes|=p),mF(N,p,A),N=null}else N=B.child;if(N!==null)N.return=B;else for(N=B;N!==null;){if(N===A){N=null;break}if(B=N.sibling,B!==null){B.return=N.return,N=B;break}N=N.return}B=N}}function Xp(A,c,p,m){A=null;for(var B=c,S=!1;B!==null;){if(!S){if((B.flags&524288)!==0)S=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var N=B.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var O=B.type;Vs(B.pendingProps.value,N.value)||(A!==null?A.push(O):A=[O])}}else if(B===we.current){if(N=B.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(A!==null?A.push(w0):A=[w0])}B=B.return}A!==null&&vF(c,A,p,m),c.flags|=262144}function HE(A){for(A=A.firstContext;A!==null;){if(!Vs(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function yf(A){vf=A,ZA=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function gr(A){return U2(vf,A)}function VE(A,c){return vf===null&&yf(A),U2(A,c)}function U2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},ZA===null){if(A===null)throw Error(i(308));ZA=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else ZA=ZA.next=c;return p}var Pte=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},Rte=n.unstable_scheduleCallback,Dte=n.unstable_NormalPriority,Si={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yF(){return{controller:new Pte,data:new Map,refCount:0}}function jy(A){A.refCount--,A.refCount===0&&Rte(Dte,function(){A.controller.abort()})}var Wy=null,wF=0,Jp=0,Zp=null;function Nte(A,c){if(Wy===null){var p=Wy=[];wF=0,Jp=BM(),Zp={status:"pending",value:void 0,then:function(m){p.push(m)}}}return wF++,c.then(P2,P2),c}function P2(){if(--wF===0&&Wy!==null){Zp!==null&&(Zp.status="fulfilled");var A=Wy;Wy=null,Jp=0,Zp=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function Lte(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(B){p.push(B)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var B=0;B<p.length;B++)(0,p[B])(c)},function(B){for(m.status="rejected",m.reason=B,B=0;B<p.length;B++)(0,p[B])(void 0)}),m}var R2=G.S;G.S=function(A,c){m4=J(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Nte(A,c),R2!==null&&R2(A,c)};var wf=q(null);function bF(){var A=wf.current;return A!==null?A:wn.pooledCache}function KE(A,c){c===null?le(wf,wf.current):le(wf,c.pool)}function D2(){var A=bF();return A===null?null:{parent:Si._currentValue,pool:A}}var eg=Error(i(460)),CF=Error(i(474)),GE=Error(i(542)),zE={then:function(){}};function N2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function L2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then(WA,WA),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,k2(A),A;default:if(typeof c.status=="string")c.then(WA,WA);else{if(A=wn,A!==null&&100<A.shellSuspendCounter)throw Error(i(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var B=c;B.status="fulfilled",B.value=m}},function(m){if(c.status==="pending"){var B=c;B.status="rejected",B.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,k2(A),A}throw Cf=c,eg}}function bf(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Cf=p,eg):p}}var Cf=null;function Q2(){if(Cf===null)throw Error(i(459));var A=Cf;return Cf=null,A}function k2(A){if(A===eg||A===GE)throw Error(i(483))}var tg=null,Yy=0;function qE(A){var c=Yy;return Yy+=1,tg===null&&(tg=[]),L2(tg,A,c)}function Xy(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function $E(A,c){throw c.$$typeof===g?Error(i(525)):(A=Object.prototype.toString.call(c),Error(i(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function O2(A){function c(X,W){if(A){var ee=X.deletions;ee===null?(X.deletions=[W],X.flags|=16):ee.push(W)}}function p(X,W){if(!A)return null;for(;W!==null;)c(X,W),W=W.sibling;return null}function m(X){for(var W=new Map;X!==null;)X.key!==null?W.set(X.key,X):W.set(X.index,X),X=X.sibling;return W}function B(X,W){return X=XA(X,W),X.index=0,X.sibling=null,X}function S(X,W,ee){return X.index=ee,A?(ee=X.alternate,ee!==null?(ee=ee.index,ee<W?(X.flags|=67108866,W):ee):(X.flags|=67108866,W)):(X.flags|=1048576,W)}function N(X){return A&&X.alternate===null&&(X.flags|=67108866),X}function O(X,W,ee,fe){return W===null||W.tag!==6?(W=uF(ee,X.mode,fe),W.return=X,W):(W=B(W,ee),W.return=X,W)}function j(X,W,ee,fe){var Ze=ee.type;return Ze===C?ce(X,W,ee.props.children,fe,ee.key):W!==null&&(W.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===H&&bf(Ze)===W.type)?(W=B(W,ee.props),Xy(W,ee),W.return=X,W):(W=kE(ee.type,ee.key,ee.props,null,X.mode,fe),Xy(W,ee),W.return=X,W)}function te(X,W,ee,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=cF(ee,X.mode,fe),W.return=X,W):(W=B(W,ee.children||[]),W.return=X,W)}function ce(X,W,ee,fe,Ze){return W===null||W.tag!==7?(W=gf(ee,X.mode,fe,Ze),W.return=X,W):(W=B(W,ee),W.return=X,W)}function pe(X,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=uF(""+W,X.mode,ee),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return ee=kE(W.type,W.key,W.props,null,X.mode,ee),Xy(ee,W),ee.return=X,ee;case b:return W=cF(W,X.mode,ee),W.return=X,W;case H:return W=bf(W),pe(X,W,ee)}if(de(W)||z(W))return W=gf(W,X.mode,ee,null),W.return=X,W;if(typeof W.then=="function")return pe(X,qE(W),ee);if(W.$$typeof===T)return pe(X,VE(X,W),ee);$E(X,W)}return null}function ie(X,W,ee,fe){var Ze=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ze!==null?null:O(X,W,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ee.key===Ze?j(X,W,ee,fe):null;case b:return ee.key===Ze?te(X,W,ee,fe):null;case H:return ee=bf(ee),ie(X,W,ee,fe)}if(de(ee)||z(ee))return Ze!==null?null:ce(X,W,ee,fe,null);if(typeof ee.then=="function")return ie(X,W,qE(ee),fe);if(ee.$$typeof===T)return ie(X,W,VE(X,ee),fe);$E(X,ee)}return null}function oe(X,W,ee,fe,Ze){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(ee)||null,O(W,X,""+fe,Ze);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return X=X.get(fe.key===null?ee:fe.key)||null,j(W,X,fe,Ze);case b:return X=X.get(fe.key===null?ee:fe.key)||null,te(W,X,fe,Ze);case H:return fe=bf(fe),oe(X,W,ee,fe,Ze)}if(de(fe)||z(fe))return X=X.get(ee)||null,ce(W,X,fe,Ze,null);if(typeof fe.then=="function")return oe(X,W,ee,qE(fe),Ze);if(fe.$$typeof===T)return oe(X,W,ee,VE(W,fe),Ze);$E(W,fe)}return null}function Ve(X,W,ee,fe){for(var Ze=null,Ht=null,je=W,vt=W=0,It=null;je!==null&&vt<ee.length;vt++){je.index>vt?(It=je,je=null):It=je.sibling;var Vt=ie(X,je,ee[vt],fe);if(Vt===null){je===null&&(je=It);break}A&&je&&Vt.alternate===null&&c(X,je),W=S(Vt,W,vt),Ht===null?Ze=Vt:Ht.sibling=Vt,Ht=Vt,je=It}if(vt===ee.length)return p(X,je),Ut&&JA(X,vt),Ze;if(je===null){for(;vt<ee.length;vt++)je=pe(X,ee[vt],fe),je!==null&&(W=S(je,W,vt),Ht===null?Ze=je:Ht.sibling=je,Ht=je);return Ut&&JA(X,vt),Ze}for(je=m(je);vt<ee.length;vt++)It=oe(je,X,vt,ee[vt],fe),It!==null&&(A&&It.alternate!==null&&je.delete(It.key===null?vt:It.key),W=S(It,W,vt),Ht===null?Ze=It:Ht.sibling=It,Ht=It);return A&&je.forEach(function(wc){return c(X,wc)}),Ut&&JA(X,vt),Ze}function it(X,W,ee,fe){if(ee==null)throw Error(i(151));for(var Ze=null,Ht=null,je=W,vt=W=0,It=null,Vt=ee.next();je!==null&&!Vt.done;vt++,Vt=ee.next()){je.index>vt?(It=je,je=null):It=je.sibling;var wc=ie(X,je,Vt.value,fe);if(wc===null){je===null&&(je=It);break}A&&je&&wc.alternate===null&&c(X,je),W=S(wc,W,vt),Ht===null?Ze=wc:Ht.sibling=wc,Ht=wc,je=It}if(Vt.done)return p(X,je),Ut&&JA(X,vt),Ze;if(je===null){for(;!Vt.done;vt++,Vt=ee.next())Vt=pe(X,Vt.value,fe),Vt!==null&&(W=S(Vt,W,vt),Ht===null?Ze=Vt:Ht.sibling=Vt,Ht=Vt);return Ut&&JA(X,vt),Ze}for(je=m(je);!Vt.done;vt++,Vt=ee.next())Vt=oe(je,X,vt,Vt.value,fe),Vt!==null&&(A&&Vt.alternate!==null&&je.delete(Vt.key===null?vt:Vt.key),W=S(Vt,W,vt),Ht===null?Ze=Vt:Ht.sibling=Vt,Ht=Vt);return A&&je.forEach(function(jne){return c(X,jne)}),Ut&&JA(X,vt),Ze}function ln(X,W,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===C&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:e:{for(var Ze=ee.key;W!==null;){if(W.key===Ze){if(Ze=ee.type,Ze===C){if(W.tag===7){p(X,W.sibling),fe=B(W,ee.props.children),fe.return=X,X=fe;break e}}else if(W.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===H&&bf(Ze)===W.type){p(X,W.sibling),fe=B(W,ee.props),Xy(fe,ee),fe.return=X,X=fe;break e}p(X,W);break}else c(X,W);W=W.sibling}ee.type===C?(fe=gf(ee.props.children,X.mode,fe,ee.key),fe.return=X,X=fe):(fe=kE(ee.type,ee.key,ee.props,null,X.mode,fe),Xy(fe,ee),fe.return=X,X=fe)}return N(X);case b:e:{for(Ze=ee.key;W!==null;){if(W.key===Ze)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){p(X,W.sibling),fe=B(W,ee.children||[]),fe.return=X,X=fe;break e}else{p(X,W);break}else c(X,W);W=W.sibling}fe=cF(ee,X.mode,fe),fe.return=X,X=fe}return N(X);case H:return ee=bf(ee),ln(X,W,ee,fe)}if(de(ee))return Ve(X,W,ee,fe);if(z(ee)){if(Ze=z(ee),typeof Ze!="function")throw Error(i(150));return ee=Ze.call(ee),it(X,W,ee,fe)}if(typeof ee.then=="function")return ln(X,W,qE(ee),fe);if(ee.$$typeof===T)return ln(X,W,VE(X,ee),fe);$E(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(p(X,W.sibling),fe=B(W,ee),fe.return=X,X=fe):(p(X,W),fe=uF(ee,X.mode,fe),fe.return=X,X=fe),N(X)):p(X,W)}return function(X,W,ee,fe){try{Yy=0;var Ze=ln(X,W,ee,fe);return tg=null,Ze}catch(je){if(je===eg||je===GE)throw je;var Ht=Ks(29,je,null,X.mode);return Ht.lanes=fe,Ht.return=X,Ht}finally{}}}var Bf=O2(!0),H2=O2(!1),ic=!1;function BF(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function EF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function rc(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function sc(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,($t&2)!==0){var B=m.pending;return B===null?c.next=c:(c.next=B.next,B.next=c),m.pending=c,c=QE(A),E2(A,null,p),c}return LE(A,m,c,p),QE(A)}function Jy(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,oi(A,p)}}function SF(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var B=null,S=null;if(p=p.firstBaseUpdate,p!==null){do{var N={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};S===null?B=S=N:S=S.next=N,p=p.next}while(p!==null);S===null?B=S=c:S=S.next=c}else B=S=c;p={baseState:m.baseState,firstBaseUpdate:B,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var xF=!1;function Zy(){if(xF){var A=Zp;if(A!==null)throw A}}function e0(A,c,p,m){xF=!1;var B=A.updateQueue;ic=!1;var S=B.firstBaseUpdate,N=B.lastBaseUpdate,O=B.shared.pending;if(O!==null){B.shared.pending=null;var j=O,te=j.next;j.next=null,N===null?S=te:N.next=te,N=j;var ce=A.alternate;ce!==null&&(ce=ce.updateQueue,O=ce.lastBaseUpdate,O!==N&&(O===null?ce.firstBaseUpdate=te:O.next=te,ce.lastBaseUpdate=j))}if(S!==null){var pe=B.baseState;N=0,ce=te=j=null,O=S;do{var ie=O.lane&-536870913,oe=ie!==O.lane;if(oe?(Tt&ie)===ie:(m&ie)===ie){ie!==0&&ie===Jp&&(xF=!0),ce!==null&&(ce=ce.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ve=A,it=O;ie=c;var ln=p;switch(it.tag){case 1:if(Ve=it.payload,typeof Ve=="function"){pe=Ve.call(ln,pe,ie);break e}pe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=it.payload,ie=typeof Ve=="function"?Ve.call(ln,pe,ie):Ve,ie==null)break e;pe=h({},pe,ie);break e;case 2:ic=!0}}ie=O.callback,ie!==null&&(A.flags|=64,oe&&(A.flags|=8192),oe=B.callbacks,oe===null?B.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ce===null?(te=ce=oe,j=pe):ce=ce.next=oe,N|=ie;if(O=O.next,O===null){if(O=B.shared.pending,O===null)break;oe=O,O=oe.next,oe.next=null,B.lastBaseUpdate=oe,B.shared.pending=null}}while(!0);ce===null&&(j=pe),B.baseState=j,B.firstBaseUpdate=te,B.lastBaseUpdate=ce,S===null&&(B.shared.lanes=0),uc|=N,A.lanes=N,A.memoizedState=pe}}function V2(A,c){if(typeof A!="function")throw Error(i(191,A));A.call(c)}function K2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)V2(p[A],c)}var ng=q(null),jE=q(0);function G2(A,c){A=ll,le(jE,A),le(ng,c),ll=A|c.baseLanes}function _F(){le(jE,ll),le(ng,ng.current)}function TF(){ll=jE.current,Y(ng),Y(jE)}var Gs=q(null),Da=null;function ac(A){var c=A.alternate;le(li,li.current&1),le(Gs,A),Da===null&&(c===null||ng.current!==null||c.memoizedState!==null)&&(Da=A)}function IF(A){le(li,li.current),le(Gs,A),Da===null&&(Da=A)}function z2(A){A.tag===22?(le(li,li.current),le(Gs,A),Da===null&&(Da=A)):oc()}function oc(){le(li,li.current),le(Gs,Gs.current)}function zs(A){Y(Gs),Da===A&&(Da=null),Y(li)}var li=q(0);function WE(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||DM(p)||NM(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var tl=0,pt=null,on=null,xi=null,YE=!1,ig=!1,Ef=!1,XE=0,t0=0,rg=null,Qte=0;function Wn(){throw Error(i(321))}function FF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!Vs(A[p],c[p]))return!1;return!0}function MF(A,c,p,m,B,S){return tl=S,pt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=A===null||A.memoizedState===null?TH:qF,Ef=!1,S=p(m,B),Ef=!1,ig&&(S=$2(c,p,m,B)),q2(A),S}function q2(A){G.H=r0;var c=on!==null&&on.next!==null;if(tl=0,xi=on=pt=null,YE=!1,t0=0,rg=null,c)throw Error(i(300));A===null||_i||(A=A.dependencies,A!==null&&HE(A)&&(_i=!0))}function $2(A,c,p,m){pt=A;var B=0;do{if(ig&&(rg=null),t0=0,ig=!1,25<=B)throw Error(i(301));if(B+=1,xi=on=null,A.updateQueue!=null){var S=A.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=IH,S=c(p,m)}while(ig);return S}function kte(){var A=G.H,c=A.useState()[0];return c=typeof c.then=="function"?n0(c):c,A=A.useState()[0],(on!==null?on.memoizedState:null)!==A&&(pt.flags|=1024),c}function UF(){var A=XE!==0;return XE=0,A}function PF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function RF(A){if(YE){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}YE=!1}tl=0,xi=on=pt=null,ig=!1,t0=XE=0,rg=null}function Zr(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?pt.memoizedState=xi=A:xi=xi.next=A,xi}function ui(){if(on===null){var A=pt.alternate;A=A!==null?A.memoizedState:null}else A=on.next;var c=xi===null?pt.memoizedState:xi.next;if(c!==null)xi=c,on=A;else{if(A===null)throw pt.alternate===null?Error(i(467)):Error(i(310));on=A,A={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},xi===null?pt.memoizedState=xi=A:xi=xi.next=A}return xi}function JE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function n0(A){var c=t0;return t0+=1,rg===null&&(rg=[]),A=L2(rg,A,c),c=pt,(xi===null?c.memoizedState:xi.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?TH:qF),A}function ZE(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return n0(A);if(A.$$typeof===T)return gr(A)}throw Error(i(438,String(A)))}function DF(A){var c=null,p=pt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=pt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(B){return B.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=JE(),pt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=K;return c.index++,p}function nl(A,c){return typeof c=="function"?c(A):c}function eS(A){var c=ui();return NF(c,on,A)}function NF(A,c,p){var m=A.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=p;var B=A.baseQueue,S=m.pending;if(S!==null){if(B!==null){var N=B.next;B.next=S.next,S.next=N}c.baseQueue=B=S,m.pending=null}if(S=A.baseState,B===null)A.memoizedState=S;else{c=B.next;var O=N=null,j=null,te=c,ce=!1;do{var pe=te.lane&-536870913;if(pe!==te.lane?(Tt&pe)===pe:(tl&pe)===pe){var ie=te.revertLane;if(ie===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),pe===Jp&&(ce=!0);else if((tl&ie)===ie){te=te.next,ie===Jp&&(ce=!0);continue}else pe={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(O=j=pe,N=S):j=j.next=pe,pt.lanes|=ie,uc|=ie;pe=te.action,Ef&&p(S,pe),S=te.hasEagerState?te.eagerState:p(S,pe)}else ie={lane:pe,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(O=j=ie,N=S):j=j.next=ie,pt.lanes|=pe,uc|=pe;te=te.next}while(te!==null&&te!==c);if(j===null?N=S:j.next=O,!Vs(S,A.memoizedState)&&(_i=!0,ce&&(p=Zp,p!==null)))throw p;A.memoizedState=S,A.baseState=N,A.baseQueue=j,m.lastRenderedState=S}return B===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function LF(A){var c=ui(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=A;var m=p.dispatch,B=p.pending,S=c.memoizedState;if(B!==null){p.pending=null;var N=B=B.next;do S=A(S,N.action),N=N.next;while(N!==B);Vs(S,c.memoizedState)||(_i=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),p.lastRenderedState=S}return[S,m]}function j2(A,c,p){var m=pt,B=ui(),S=Ut;if(S){if(p===void 0)throw Error(i(407));p=p()}else p=c();var N=!Vs((on||B).memoizedState,p);if(N&&(B.memoizedState=p,_i=!0),B=B.queue,OF(X2.bind(null,m,B,A),[A]),B.getSnapshot!==c||N||xi!==null&&xi.memoizedState.tag&1){if(m.flags|=2048,sg(9,{destroy:void 0},Y2.bind(null,m,B,p,c),null),wn===null)throw Error(i(349));S||(tl&127)!==0||W2(m,c,p)}return p}function W2(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=pt.updateQueue,c===null?(c=JE(),pt.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function Y2(A,c,p,m){c.value=p,c.getSnapshot=m,J2(c)&&Z2(A)}function X2(A,c,p){return p(function(){J2(c)&&Z2(A)})}function J2(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!Vs(A,p)}catch{return!0}}function Z2(A){var c=pf(A,2);c!==null&&bs(c,A,2)}function QF(A){var c=Zr();if(typeof A=="function"){var p=A;if(A=p(),Ef){Ta(!0);try{p()}finally{Ta(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:A},c}function eH(A,c,p,m){return A.baseState=p,NF(A,on,typeof m=="function"?m:nl)}function Ote(A,c,p,m,B){if(iS(A))throw Error(i(485));if(A=c.action,A!==null){var S={payload:B,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};G.T!==null?p(!0):S.isTransition=!1,m(S),p=c.pending,p===null?(S.next=c.pending=S,tH(c,S)):(S.next=p.next,c.pending=p.next=S)}}function tH(A,c){var p=c.action,m=c.payload,B=A.state;if(c.isTransition){var S=G.T,N={};G.T=N;try{var O=p(B,m),j=G.S;j!==null&&j(N,O),nH(A,c,O)}catch(te){kF(A,c,te)}finally{S!==null&&N.types!==null&&(S.types=N.types),G.T=S}}else try{S=p(B,m),nH(A,c,S)}catch(te){kF(A,c,te)}}function nH(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){iH(A,c,m)},function(m){return kF(A,c,m)}):iH(A,c,p)}function iH(A,c,p){c.status="fulfilled",c.value=p,rH(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,tH(A,p)))}function kF(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,rH(c),c=c.next;while(c!==m)}A.action=null}function rH(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function sH(A,c){return c}function aH(A,c){if(Ut){var p=wn.formState;if(p!==null){e:{var m=pt;if(Ut){if(Un){t:{for(var B=Un,S=Ra;B.nodeType!==8;){if(!S){B=null;break t}if(B=Na(B.nextSibling),B===null){B=null;break t}}S=B.data,B=S==="F!"||S==="F"?B:null}if(B){Un=Na(B.nextSibling),m=B.data==="F!";break e}}tc(m)}m=!1}m&&(c=p[0])}}return p=Zr(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sH,lastRenderedState:c},p.queue=m,p=SH.bind(null,pt,m),m.dispatch=p,m=QF(!1),S=zF.bind(null,pt,!1,m.queue),m=Zr(),B={state:c,dispatch:null,action:A,pending:null},m.queue=B,p=Ote.bind(null,pt,B,S,p),B.dispatch=p,m.memoizedState=A,[c,p,!1]}function oH(A){var c=ui();return AH(c,on,A)}function AH(A,c,p){if(c=NF(A,c,sH)[0],A=eS(nl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=n0(c)}catch(N){throw N===eg?GE:N}else m=c;c=ui();var B=c.queue,S=B.dispatch;return p!==c.memoizedState&&(pt.flags|=2048,sg(9,{destroy:void 0},Hte.bind(null,B,p),null)),[m,S,A]}function Hte(A,c){A.action=c}function lH(A){var c=ui(),p=on;if(p!==null)return AH(c,p,A);ui(),c=c.memoizedState,p=ui();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function sg(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=pt.updateQueue,c===null&&(c=JE(),pt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function uH(){return ui().memoizedState}function tS(A,c,p,m){var B=Zr();pt.flags|=A,B.memoizedState=sg(1|c,{destroy:void 0},p,m===void 0?null:m)}function nS(A,c,p,m){var B=ui();m=m===void 0?null:m;var S=B.memoizedState.inst;on!==null&&m!==null&&FF(m,on.memoizedState.deps)?B.memoizedState=sg(c,S,p,m):(pt.flags|=A,B.memoizedState=sg(1|c,S,p,m))}function cH(A,c){tS(8390656,8,A,c)}function OF(A,c){nS(2048,8,A,c)}function Vte(A){pt.flags|=4;var c=pt.updateQueue;if(c===null)c=JE(),pt.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function dH(A){var c=ui().memoizedState;return Vte({ref:c,nextImpl:A}),function(){if(($t&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function fH(A,c){return nS(4,2,A,c)}function hH(A,c){return nS(4,4,A,c)}function pH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function gH(A,c,p){p=p!=null?p.concat([A]):null,nS(4,4,pH.bind(null,c,A),p)}function HF(){}function mH(A,c){var p=ui();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&FF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function vH(A,c){var p=ui();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&FF(c,m[1]))return m[0];if(m=A(),Ef){Ta(!0);try{A()}finally{Ta(!1)}}return p.memoizedState=[m,c],m}function VF(A,c,p){return p===void 0||(tl&1073741824)!==0&&(Tt&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=y4(),pt.lanes|=A,uc|=A,p)}function yH(A,c,p,m){return Vs(p,c)?p:ng.current!==null?(A=VF(A,p,m),Vs(A,c)||(_i=!0),A):(tl&42)===0||(tl&1073741824)!==0&&(Tt&261930)===0?(_i=!0,A.memoizedState=p):(A=y4(),pt.lanes|=A,uc|=A,c)}function wH(A,c,p,m,B){var S=$.p;$.p=S!==0&&8>S?S:8;var N=G.T,O={};G.T=O,zF(A,!1,c,p);try{var j=B(),te=G.S;if(te!==null&&te(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ce=Lte(j,m);i0(A,c,ce,js(A))}else i0(A,c,m,js(A))}catch(pe){i0(A,c,{then:function(){},status:"rejected",reason:pe},js())}finally{$.p=S,N!==null&&O.types!==null&&(N.types=O.types),G.T=N}}function Kte(){}function KF(A,c,p,m){if(A.tag!==5)throw Error(i(476));var B=bH(A).queue;wH(A,B,c,re,p===null?Kte:function(){return CH(A),p(m)})}function bH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:re},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function CH(A){var c=bH(A);c.next===null&&(c=A.alternate.memoizedState),i0(A,c.next.queue,{},js())}function GF(){return gr(w0)}function BH(){return ui().memoizedState}function EH(){return ui().memoizedState}function Gte(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=js();A=rc(p);var m=sc(c,A,p);m!==null&&(bs(m,c,p),Jy(m,c,p)),c={cache:yF()},A.payload=c;return}c=c.return}}function zte(A,c,p){var m=js();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},iS(A)?xH(c,p):(p=AF(A,c,p,m),p!==null&&(bs(p,A,m),_H(p,c,m)))}function SH(A,c,p){var m=js();i0(A,c,p,m)}function i0(A,c,p,m){var B={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(iS(A))xH(c,B);else{var S=A.alternate;if(A.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var N=c.lastRenderedState,O=S(N,p);if(B.hasEagerState=!0,B.eagerState=O,Vs(O,N))return LE(A,c,B,0),wn===null&&NE(),!1}catch{}finally{}if(p=AF(A,c,B,m),p!==null)return bs(p,A,m),_H(p,c,m),!0}return!1}function zF(A,c,p,m){if(m={lane:2,revertLane:BM(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},iS(A)){if(c)throw Error(i(479))}else c=AF(A,p,m,2),c!==null&&bs(c,A,2)}function iS(A){var c=A.alternate;return A===pt||c!==null&&c===pt}function xH(A,c){ig=YE=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function _H(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,oi(A,p)}}var r0={readContext:gr,use:ZE,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn,useHostTransitionStatus:Wn,useFormState:Wn,useActionState:Wn,useOptimistic:Wn,useMemoCache:Wn,useCacheRefresh:Wn};r0.useEffectEvent=Wn;var TH={readContext:gr,use:ZE,useCallback:function(A,c){return Zr().memoizedState=[A,c===void 0?null:c],A},useContext:gr,useEffect:cH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,tS(4194308,4,pH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return tS(4194308,4,A,c)},useInsertionEffect:function(A,c){tS(4,2,A,c)},useMemo:function(A,c){var p=Zr();c=c===void 0?null:c;var m=A();if(Ef){Ta(!0);try{A()}finally{Ta(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=Zr();if(p!==void 0){var B=p(c);if(Ef){Ta(!0);try{p(c)}finally{Ta(!1)}}}else B=c;return m.memoizedState=m.baseState=B,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:B},m.queue=A,A=A.dispatch=zte.bind(null,pt,A),[m.memoizedState,A]},useRef:function(A){var c=Zr();return A={current:A},c.memoizedState=A},useState:function(A){A=QF(A);var c=A.queue,p=SH.bind(null,pt,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:HF,useDeferredValue:function(A,c){var p=Zr();return VF(p,A,c)},useTransition:function(){var A=QF(!1);return A=wH.bind(null,pt,A.queue,!0,!1),Zr().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=pt,B=Zr();if(Ut){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),wn===null)throw Error(i(349));(Tt&127)!==0||W2(m,c,p)}B.memoizedState=p;var S={value:p,getSnapshot:c};return B.queue=S,cH(X2.bind(null,m,S,A),[A]),m.flags|=2048,sg(9,{destroy:void 0},Y2.bind(null,m,S,p,c),null),p},useId:function(){var A=Zr(),c=wn.identifierPrefix;if(Ut){var p=nA,m=tA;p=(m&~(1<<32-wi(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=XE++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Qte++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:GF,useFormState:aH,useActionState:aH,useOptimistic:function(A){var c=Zr();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=zF.bind(null,pt,!0,p),p.dispatch=c,[A,c]},useMemoCache:DF,useCacheRefresh:function(){return Zr().memoizedState=Gte.bind(null,pt)},useEffectEvent:function(A){var c=Zr(),p={impl:A};return c.memoizedState=p,function(){if(($t&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}},qF={readContext:gr,use:ZE,useCallback:mH,useContext:gr,useEffect:OF,useImperativeHandle:gH,useInsertionEffect:fH,useLayoutEffect:hH,useMemo:vH,useReducer:eS,useRef:uH,useState:function(){return eS(nl)},useDebugValue:HF,useDeferredValue:function(A,c){var p=ui();return yH(p,on.memoizedState,A,c)},useTransition:function(){var A=eS(nl)[0],c=ui().memoizedState;return[typeof A=="boolean"?A:n0(A),c]},useSyncExternalStore:j2,useId:BH,useHostTransitionStatus:GF,useFormState:oH,useActionState:oH,useOptimistic:function(A,c){var p=ui();return eH(p,on,A,c)},useMemoCache:DF,useCacheRefresh:EH};qF.useEffectEvent=dH;var IH={readContext:gr,use:ZE,useCallback:mH,useContext:gr,useEffect:OF,useImperativeHandle:gH,useInsertionEffect:fH,useLayoutEffect:hH,useMemo:vH,useReducer:LF,useRef:uH,useState:function(){return LF(nl)},useDebugValue:HF,useDeferredValue:function(A,c){var p=ui();return on===null?VF(p,A,c):yH(p,on.memoizedState,A,c)},useTransition:function(){var A=LF(nl)[0],c=ui().memoizedState;return[typeof A=="boolean"?A:n0(A),c]},useSyncExternalStore:j2,useId:BH,useHostTransitionStatus:GF,useFormState:lH,useActionState:lH,useOptimistic:function(A,c){var p=ui();return on!==null?eH(p,on,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:DF,useCacheRefresh:EH};IH.useEffectEvent=dH;function $F(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var jF={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=js(),B=rc(m);B.payload=c,p!=null&&(B.callback=p),c=sc(A,B,m),c!==null&&(bs(c,A,m),Jy(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=js(),B=rc(m);B.tag=1,B.payload=c,p!=null&&(B.callback=p),c=sc(A,B,m),c!==null&&(bs(c,A,m),Jy(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=js(),m=rc(p);m.tag=2,c!=null&&(m.callback=c),c=sc(A,m,p),c!==null&&(bs(c,A,p),Jy(c,A,p))}};function FH(A,c,p,m,B,S,N){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,S,N):c.prototype&&c.prototype.isPureReactComponent?!Gy(p,m)||!Gy(B,S):!0}function MH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&jF.enqueueReplaceState(c,c.state,null)}function Sf(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var B in A)p[B]===void 0&&(p[B]=A[B])}return p}function UH(A){DE(A)}function PH(A){console.error(A)}function RH(A){DE(A)}function rS(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function DH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function WF(A,c,p){return p=rc(p),p.tag=3,p.payload={element:null},p.callback=function(){rS(A,c)},p}function NH(A){return A=rc(A),A.tag=3,A}function LH(A,c,p,m){var B=p.type.getDerivedStateFromError;if(typeof B=="function"){var S=m.value;A.payload=function(){return B(S)},A.callback=function(){DH(c,p,m)}}var N=p.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){DH(c,p,m),typeof B!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function qte(A,c,p,m,B){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&Xp(c,p,B,!0),p=Gs.current,p!==null){switch(p.tag){case 31:case 13:return Da===null?gS():p.alternate===null&&Yn===0&&(Yn=3),p.flags&=-257,p.flags|=65536,p.lanes=B,m===zE?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),wM(A,m,B)),!1;case 22:return p.flags|=65536,m===zE?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),wM(A,m,B)),!1}throw Error(i(435,p.tag))}return wM(A,m,B),gS(),!1}if(Ut)return c=Gs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=B,m!==hF&&(A=Error(i(422),{cause:m}),$y(Ma(A,p)))):(m!==hF&&(c=Error(i(423),{cause:m}),$y(Ma(c,p))),A=A.current.alternate,A.flags|=65536,B&=-B,A.lanes|=B,m=Ma(m,p),B=WF(A.stateNode,m,B),SF(A,B),Yn!==4&&(Yn=2)),!1;var S=Error(i(520),{cause:m});if(S=Ma(S,p),d0===null?d0=[S]:d0.push(S),Yn!==4&&(Yn=2),c===null)return!0;m=Ma(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=B&-B,p.lanes|=A,A=WF(p.stateNode,m,A),SF(p,A),!1;case 1:if(c=p.type,S=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(cc===null||!cc.has(S))))return p.flags|=65536,B&=-B,p.lanes|=B,B=NH(B),LH(B,A,p,m),SF(p,B),!1}p=p.return}while(p!==null);return!1}var YF=Error(i(461)),_i=!1;function mr(A,c,p,m){c.child=A===null?H2(c,null,p,m):Bf(c,A.child,p,m)}function QH(A,c,p,m,B){p=p.render;var S=c.ref;if("ref"in m){var N={};for(var O in m)O!=="ref"&&(N[O]=m[O])}else N=m;return yf(c),m=MF(A,c,p,N,S,B),O=UF(),A!==null&&!_i?(PF(A,c,B),il(A,c,B)):(Ut&&O&&dF(c),c.flags|=1,mr(A,c,m,B),c.child)}function kH(A,c,p,m,B){if(A===null){var S=p.type;return typeof S=="function"&&!lF(S)&&S.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=S,OH(A,c,S,m,B)):(A=kE(p.type,null,m,c,c.mode,B),A.ref=c.ref,A.return=c,c.child=A)}if(S=A.child,!rM(A,B)){var N=S.memoizedProps;if(p=p.compare,p=p!==null?p:Gy,p(N,m)&&A.ref===c.ref)return il(A,c,B)}return c.flags|=1,A=XA(S,m),A.ref=c.ref,A.return=c,c.child=A}function OH(A,c,p,m,B){if(A!==null){var S=A.memoizedProps;if(Gy(S,m)&&A.ref===c.ref)if(_i=!1,c.pendingProps=m=S,rM(A,B))(A.flags&131072)!==0&&(_i=!0);else return c.lanes=A.lanes,il(A,c,B)}return XF(A,c,p,m,B)}function HH(A,c,p,m){var B=m.children,S=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|p:p,A!==null){for(m=c.child=A.child,B=0;m!==null;)B=B|m.lanes|m.childLanes,m=m.sibling;m=B&~S}else m=0,c.child=null;return VH(A,c,S,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&KE(c,S!==null?S.cachePool:null),S!==null?G2(c,S):_F(),z2(c);else return m=c.lanes=536870912,VH(A,c,S!==null?S.baseLanes|p:p,p,m)}else S!==null?(KE(c,S.cachePool),G2(c,S),oc(),c.memoizedState=null):(A!==null&&KE(c,null),_F(),oc());return mr(A,c,B,p),c.child}function s0(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function VH(A,c,p,m,B){var S=bF();return S=S===null?null:{parent:Si._currentValue,pool:S},c.memoizedState={baseLanes:p,cachePool:S},A!==null&&KE(c,null),_F(),z2(c),A!==null&&Xp(A,c,m,!0),c.childLanes=B,null}function sS(A,c){return c=oS({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function KH(A,c,p){return Bf(c,A.child,null,p),A=sS(c,c.pendingProps),A.flags|=2,zs(c),c.memoizedState=null,A}function $te(A,c,p){var m=c.pendingProps,B=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(Ut){if(m.mode==="hidden")return A=sS(c,m),c.lanes=536870912,s0(null,A);if(IF(c),(A=Un)?(A=tV(A,Ra),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Zu!==null?{id:tA,overflow:nA}:null,retryLane:536870912,hydrationErrors:null},p=x2(A),p.return=c,c.child=p,pr=c,Un=null)):A=null,A===null)throw tc(c);return c.lanes=536870912,null}return sS(c,m)}var S=A.memoizedState;if(S!==null){var N=S.dehydrated;if(IF(c),B)if(c.flags&256)c.flags&=-257,c=KH(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(i(558));else if(_i||Xp(A,c,p,!1),B=(p&A.childLanes)!==0,_i||B){if(m=wn,m!==null&&(N=Ci(m,p),N!==0&&N!==S.retryLane))throw S.retryLane=N,pf(A,N),bs(m,A,N),YF;gS(),c=KH(A,c,p)}else A=S.treeContext,Un=Na(N.nextSibling),pr=c,Ut=!0,ec=null,Ra=!1,A!==null&&I2(c,A),c=sS(c,m),c.flags|=4096;return c}return A=XA(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function aS(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function XF(A,c,p,m,B){return yf(c),p=MF(A,c,p,m,void 0,B),m=UF(),A!==null&&!_i?(PF(A,c,B),il(A,c,B)):(Ut&&m&&dF(c),c.flags|=1,mr(A,c,p,B),c.child)}function GH(A,c,p,m,B,S){return yf(c),c.updateQueue=null,p=$2(c,m,p,B),q2(A),m=UF(),A!==null&&!_i?(PF(A,c,S),il(A,c,S)):(Ut&&m&&dF(c),c.flags|=1,mr(A,c,p,S),c.child)}function zH(A,c,p,m,B){if(yf(c),c.stateNode===null){var S=$p,N=p.contextType;typeof N=="object"&&N!==null&&(S=gr(N)),S=new p(m,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=jF,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=m,S.state=c.memoizedState,S.refs={},BF(c),N=p.contextType,S.context=typeof N=="object"&&N!==null?gr(N):$p,S.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&($F(c,p,N,m),S.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&jF.enqueueReplaceState(S,S.state,null),e0(c,m,S,B),Zy(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){S=c.stateNode;var O=c.memoizedProps,j=Sf(p,O);S.props=j;var te=S.context,ce=p.contextType;N=$p,typeof ce=="object"&&ce!==null&&(N=gr(ce));var pe=p.getDerivedStateFromProps;ce=typeof pe=="function"||typeof S.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O||te!==N)&&MH(c,S,m,N),ic=!1;var ie=c.memoizedState;S.state=ie,e0(c,m,S,B),Zy(),te=c.memoizedState,O||ie!==te||ic?(typeof pe=="function"&&($F(c,p,pe,m),te=c.memoizedState),(j=ic||FH(c,p,j,m,ie,te,N))?(ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=te),S.props=m,S.state=te,S.context=N,m=j):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{S=c.stateNode,EF(A,c),N=c.memoizedProps,ce=Sf(p,N),S.props=ce,pe=c.pendingProps,ie=S.context,te=p.contextType,j=$p,typeof te=="object"&&te!==null&&(j=gr(te)),O=p.getDerivedStateFromProps,(te=typeof O=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==pe||ie!==j)&&MH(c,S,m,j),ic=!1,ie=c.memoizedState,S.state=ie,e0(c,m,S,B),Zy();var oe=c.memoizedState;N!==pe||ie!==oe||ic||A!==null&&A.dependencies!==null&&HE(A.dependencies)?(typeof O=="function"&&($F(c,p,O,m),oe=c.memoizedState),(ce=ic||FH(c,p,ce,m,ie,oe,j)||A!==null&&A.dependencies!==null&&HE(A.dependencies))?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,oe,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,oe,j)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&ie===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ie===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=oe),S.props=m,S.state=oe,S.context=j,m=ce):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&ie===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ie===A.memoizedState||(c.flags|=1024),m=!1)}return S=m,aS(A,c),m=(c.flags&128)!==0,S||m?(S=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,A!==null&&m?(c.child=Bf(c,A.child,null,B),c.child=Bf(c,null,p,B)):mr(A,c,p,B),c.memoizedState=S.state,A=c.child):A=il(A,c,B),A}function qH(A,c,p,m){return mf(),c.flags|=256,mr(A,c,p,m),c.child}var JF={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ZF(A){return{baseLanes:A,cachePool:D2()}}function eM(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=$s),A}function $H(A,c,p){var m=c.pendingProps,B=!1,S=(c.flags&128)!==0,N;if((N=S)||(N=A!==null&&A.memoizedState===null?!1:(li.current&2)!==0),N&&(B=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,A===null){if(Ut){if(B?ac(c):oc(),(A=Un)?(A=tV(A,Ra),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Zu!==null?{id:tA,overflow:nA}:null,retryLane:536870912,hydrationErrors:null},p=x2(A),p.return=c,c.child=p,pr=c,Un=null)):A=null,A===null)throw tc(c);return NM(A)?c.lanes=32:c.lanes=536870912,null}var O=m.children;return m=m.fallback,B?(oc(),B=c.mode,O=oS({mode:"hidden",children:O},B),m=gf(m,B,p,null),O.return=c,m.return=c,O.sibling=m,c.child=O,m=c.child,m.memoizedState=ZF(p),m.childLanes=eM(A,N,p),c.memoizedState=JF,s0(null,m)):(ac(c),tM(c,O))}var j=A.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(S)c.flags&256?(ac(c),c.flags&=-257,c=nM(A,c,p)):c.memoizedState!==null?(oc(),c.child=A.child,c.flags|=128,c=null):(oc(),O=m.fallback,B=c.mode,m=oS({mode:"visible",children:m.children},B),O=gf(O,B,p,null),O.flags|=2,m.return=c,O.return=c,m.sibling=O,c.child=m,Bf(c,A.child,null,p),m=c.child,m.memoizedState=ZF(p),m.childLanes=eM(A,N,p),c.memoizedState=JF,c=s0(null,m));else if(ac(c),NM(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var te=N.dgst;N=te,m=Error(i(419)),m.stack="",m.digest=N,$y({value:m,source:null,stack:null}),c=nM(A,c,p)}else if(_i||Xp(A,c,p,!1),N=(p&A.childLanes)!==0,_i||N){if(N=wn,N!==null&&(m=Ci(N,p),m!==0&&m!==j.retryLane))throw j.retryLane=m,pf(A,m),bs(N,A,m),YF;DM(O)||gS(),c=nM(A,c,p)}else DM(O)?(c.flags|=192,c.child=A.child,c=null):(A=j.treeContext,Un=Na(O.nextSibling),pr=c,Ut=!0,ec=null,Ra=!1,A!==null&&I2(c,A),c=tM(c,m.children),c.flags|=4096);return c}return B?(oc(),O=m.fallback,B=c.mode,j=A.child,te=j.sibling,m=XA(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,te!==null?O=XA(te,O):(O=gf(O,B,p,null),O.flags|=2),O.return=c,m.return=c,m.sibling=O,c.child=m,s0(null,m),m=c.child,O=A.child.memoizedState,O===null?O=ZF(p):(B=O.cachePool,B!==null?(j=Si._currentValue,B=B.parent!==j?{parent:j,pool:j}:B):B=D2(),O={baseLanes:O.baseLanes|p,cachePool:B}),m.memoizedState=O,m.childLanes=eM(A,N,p),c.memoizedState=JF,s0(A.child,m)):(ac(c),p=A.child,A=p.sibling,p=XA(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(N=c.deletions,N===null?(c.deletions=[A],c.flags|=16):N.push(A)),c.child=p,c.memoizedState=null,p)}function tM(A,c){return c=oS({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function oS(A,c){return A=Ks(22,A,null,c),A.lanes=0,A}function nM(A,c,p){return Bf(c,A.child,null,p),A=tM(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function jH(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),mF(A.return,c,p)}function iM(A,c,p,m,B,S){var N=A.memoizedState;N===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:B,treeForkCount:S}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=p,N.tailMode=B,N.treeForkCount=S)}function WH(A,c,p){var m=c.pendingProps,B=m.revealOrder,S=m.tail;m=m.children;var N=li.current,O=(N&2)!==0;if(O?(N=N&1|2,c.flags|=128):N&=1,le(li,N),mr(A,c,m,p),m=Ut?qy:0,!O&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&jH(A,p,c);else if(A.tag===19)jH(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(B){case"forwards":for(p=c.child,B=null;p!==null;)A=p.alternate,A!==null&&WE(A)===null&&(B=p),p=p.sibling;p=B,p===null?(B=c.child,c.child=null):(B=p.sibling,p.sibling=null),iM(c,!1,B,p,S,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,B=c.child,c.child=null;B!==null;){if(A=B.alternate,A!==null&&WE(A)===null){c.child=B;break}A=B.sibling,B.sibling=p,p=B,B=A}iM(c,!0,p,null,S,m);break;case"together":iM(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function il(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),uc|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(Xp(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(i(153));if(c.child!==null){for(A=c.child,p=XA(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=XA(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function rM(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&HE(A)))}function jte(A,c,p){switch(c.tag){case 3:at(c,c.stateNode.containerInfo),nc(c,Si,A.memoizedState.cache),mf();break;case 27:case 5:Ne(c);break;case 4:at(c,c.stateNode.containerInfo);break;case 10:nc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,IF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(ac(c),c.flags|=128,null):(p&c.child.childLanes)!==0?$H(A,c,p):(ac(c),A=il(A,c,p),A!==null?A.sibling:null);ac(c);break;case 19:var B=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(Xp(A,c,p,!1),m=(p&c.childLanes)!==0),B){if(m)return WH(A,c,p);c.flags|=128}if(B=c.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),le(li,li.current),m)break;return null;case 22:return c.lanes=0,HH(A,c,p,c.pendingProps);case 24:nc(c,Si,A.memoizedState.cache)}return il(A,c,p)}function YH(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)_i=!0;else{if(!rM(A,p)&&(c.flags&128)===0)return _i=!1,jte(A,c,p);_i=(A.flags&131072)!==0}else _i=!1,Ut&&(c.flags&1048576)!==0&&T2(c,qy,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=bf(c.elementType),c.type=A,typeof A=="function")lF(A)?(m=Sf(A,m),c.tag=1,c=zH(null,c,A,m,p)):(c.tag=0,c=XF(null,c,A,m,p));else{if(A!=null){var B=A.$$typeof;if(B===R){c.tag=11,c=QH(null,c,A,m,p);break e}else if(B===Q){c.tag=14,c=kH(null,c,A,m,p);break e}}throw c=ne(A)||A,Error(i(306,c,""))}}return c;case 0:return XF(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,B=Sf(m,c.pendingProps),zH(A,c,m,B,p);case 3:e:{if(at(c,c.stateNode.containerInfo),A===null)throw Error(i(387));m=c.pendingProps;var S=c.memoizedState;B=S.element,EF(A,c),e0(c,m,null,p);var N=c.memoizedState;if(m=N.cache,nc(c,Si,m),m!==S.cache&&vF(c,[Si],p,!0),Zy(),m=N.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=qH(A,c,m,p);break e}else if(m!==B){B=Ma(Error(i(424)),c),$y(B),c=qH(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(Un=Na(A.firstChild),pr=c,Ut=!0,ec=null,Ra=!0,p=H2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(mf(),m===B){c=il(A,c,p);break e}mr(A,c,m,p)}c=c.child}return c;case 26:return aS(A,c),A===null?(p=oV(c.type,null,c.pendingProps,null))?c.memoizedState=p:Ut||(p=c.type,A=c.pendingProps,m=BS(_e.current).createElement(p),m[Li]=c,m[Dr]=A,vr(m,p,A),Ei(m),c.stateNode=m):c.memoizedState=oV(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Ne(c),A===null&&Ut&&(m=c.stateNode=rV(c.type,c.pendingProps,_e.current),pr=c,Ra=!0,B=Un,pc(c.type)?(LM=B,Un=Na(m.firstChild)):Un=B),mr(A,c,c.pendingProps.children,p),aS(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&Ut&&((B=m=Un)&&(m=Ene(m,c.type,c.pendingProps,Ra),m!==null?(c.stateNode=m,pr=c,Un=Na(m.firstChild),Ra=!1,B=!0):B=!1),B||tc(c)),Ne(c),B=c.type,S=c.pendingProps,N=A!==null?A.memoizedProps:null,m=S.children,UM(B,S)?m=null:N!==null&&UM(B,N)&&(c.flags|=32),c.memoizedState!==null&&(B=MF(A,c,kte,null,null,p),w0._currentValue=B),aS(A,c),mr(A,c,m,p),c.child;case 6:return A===null&&Ut&&((A=p=Un)&&(p=Sne(p,c.pendingProps,Ra),p!==null?(c.stateNode=p,pr=c,Un=null,A=!0):A=!1),A||tc(c)),null;case 13:return $H(A,c,p);case 4:return at(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=Bf(c,null,m,p):mr(A,c,m,p),c.child;case 11:return QH(A,c,c.type,c.pendingProps,p);case 7:return mr(A,c,c.pendingProps,p),c.child;case 8:return mr(A,c,c.pendingProps.children,p),c.child;case 12:return mr(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,nc(c,c.type,m.value),mr(A,c,m.children,p),c.child;case 9:return B=c.type._context,m=c.pendingProps.children,yf(c),B=gr(B),m=m(B),c.flags|=1,mr(A,c,m,p),c.child;case 14:return kH(A,c,c.type,c.pendingProps,p);case 15:return OH(A,c,c.type,c.pendingProps,p);case 19:return WH(A,c,p);case 31:return $te(A,c,p);case 22:return HH(A,c,p,c.pendingProps);case 24:return yf(c),m=gr(Si),A===null?(B=bF(),B===null&&(B=wn,S=yF(),B.pooledCache=S,S.refCount++,S!==null&&(B.pooledCacheLanes|=p),B=S),c.memoizedState={parent:m,cache:B},BF(c),nc(c,Si,B)):((A.lanes&p)!==0&&(EF(A,c),e0(c,null,null,p),Zy()),B=A.memoizedState,S=c.memoizedState,B.parent!==m?(B={parent:m,cache:m},c.memoizedState=B,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=B),nc(c,Si,m)):(m=S.cache,nc(c,Si,m),m!==B.cache&&vF(c,[Si],p,!0))),mr(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function rl(A){A.flags|=4}function sM(A,c,p,m,B){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(B&335544128)===B)if(A.stateNode.complete)A.flags|=8192;else if(B4())A.flags|=8192;else throw Cf=zE,CF}else A.flags&=-16777217}function XH(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!dV(c))if(B4())A.flags|=8192;else throw Cf=zE,CF}function AS(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?Ct():536870912,A.lanes|=c,lg|=c)}function a0(A,c){if(!Ut)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function Pn(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags&65011712,m|=B.flags&65011712,B.return=A,B=B.sibling;else for(B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags,m|=B.flags,B.return=A,B=B.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function Wte(A,c,p){var m=c.pendingProps;switch(fF(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(c),null;case 1:return Pn(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),el(Si),se(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(Yp(c)?rl(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,pF())),Pn(c),null;case 26:var B=c.type,S=c.memoizedState;return A===null?(rl(c),S!==null?(Pn(c),XH(c,S)):(Pn(c),sM(c,B,null,m,p))):S?S!==A.memoizedState?(rl(c),Pn(c),XH(c,S)):(Pn(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&rl(c),Pn(c),sM(c,B,A,m,p)),null;case 27:if($e(c),p=_e.current,B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&rl(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Pn(c),null}A=ye.current,Yp(c)?F2(c):(A=rV(B,m,p),c.stateNode=A,rl(c))}return Pn(c),null;case 5:if($e(c),B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&rl(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Pn(c),null}if(S=ye.current,Yp(c))F2(c);else{var N=BS(_e.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?N.createElement(B,{is:m.is}):N.createElement(B)}}S[Li]=c,S[Dr]=m;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=S;e:switch(vr(S,B,m),B){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&rl(c)}}return Pn(c),sM(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&rl(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(A=_e.current,Yp(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,B=pr,B!==null)switch(B.tag){case 27:case 5:m=B.memoizedProps}A[Li]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||$4(A.nodeValue,p)),A||tc(c,!0)}else A=BS(A).createTextNode(m),A[Li]=c,c.stateNode=A}return Pn(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=Yp(c),p!==null){if(A===null){if(!m)throw Error(i(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(557));A[Li]=c}else mf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Pn(c),A=!1}else p=pF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(zs(c),c):(zs(c),null);if((c.flags&128)!==0)throw Error(i(558))}return Pn(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(B=Yp(c),m!==null&&m.dehydrated!==null){if(A===null){if(!B)throw Error(i(318));if(B=c.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(i(317));B[Li]=c}else mf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Pn(c),B=!1}else B=pF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=B),B=!0;if(!B)return c.flags&256?(zs(c),c):(zs(c),null)}return zs(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,B=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(B=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==B&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),AS(c,c.updateQueue),Pn(c),null);case 4:return se(),A===null&&_M(c.stateNode.containerInfo),Pn(c),null;case 10:return el(c.type),Pn(c),null;case 19:if(Y(li),m=c.memoizedState,m===null)return Pn(c),null;if(B=(c.flags&128)!==0,S=m.rendering,S===null)if(B)a0(m,!1);else{if(Yn!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(S=WE(A),S!==null){for(c.flags|=128,a0(m,!1),A=S.updateQueue,c.updateQueue=A,AS(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)S2(p,A),p=p.sibling;return le(li,li.current&1|2),Ut&&JA(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&J()>fS&&(c.flags|=128,B=!0,a0(m,!1),c.lanes=4194304)}else{if(!B)if(A=WE(S),A!==null){if(c.flags|=128,B=!0,A=A.updateQueue,c.updateQueue=A,AS(c,A),a0(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Ut)return Pn(c),null}else 2*J()-m.renderingStartTime>fS&&p!==536870912&&(c.flags|=128,B=!0,a0(m,!1),c.lanes=4194304);m.isBackwards?(S.sibling=c.child,c.child=S):(A=m.last,A!==null?A.sibling=S:c.child=S,m.last=S)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=J(),A.sibling=null,p=li.current,le(li,B?p&1|2:p&1),Ut&&JA(c,m.treeForkCount),A):(Pn(c),null);case 22:case 23:return zs(c),TF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(Pn(c),c.subtreeFlags&6&&(c.flags|=8192)):Pn(c),p=c.updateQueue,p!==null&&AS(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&Y(wf),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),el(Si),Pn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function Yte(A,c){switch(fF(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return el(Si),se(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return $e(c),null;case 31:if(c.memoizedState!==null){if(zs(c),c.alternate===null)throw Error(i(340));mf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(zs(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(i(340));mf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return Y(li),null;case 4:return se(),null;case 10:return el(c.type),null;case 22:case 23:return zs(c),TF(),A!==null&&Y(wf),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return el(Si),null;case 25:return null;default:return null}}function JH(A,c){switch(fF(c),c.tag){case 3:el(Si),se();break;case 26:case 27:case 5:$e(c);break;case 4:se();break;case 31:c.memoizedState!==null&&zs(c);break;case 13:zs(c);break;case 19:Y(li);break;case 10:el(c.type);break;case 22:case 23:zs(c),TF(),A!==null&&Y(wf);break;case 24:el(Si)}}function o0(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var B=m.next;p=B;do{if((p.tag&A)===A){m=void 0;var S=p.create,N=p.inst;m=S(),N.destroy=m}p=p.next}while(p!==B)}}catch(O){tn(c,c.return,O)}}function Ac(A,c,p){try{var m=c.updateQueue,B=m!==null?m.lastEffect:null;if(B!==null){var S=B.next;m=S;do{if((m.tag&A)===A){var N=m.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,B=c;var j=p,te=O;try{te()}catch(ce){tn(B,j,ce)}}}m=m.next}while(m!==S)}}catch(ce){tn(c,c.return,ce)}}function ZH(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{K2(c,p)}catch(m){tn(A,A.return,m)}}}function e4(A,c,p){p.props=Sf(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){tn(A,c,m)}}function A0(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(B){tn(A,c,B)}}function iA(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(B){tn(A,c,B)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(B){tn(A,c,B)}else p.current=null}function t4(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(B){tn(A,A.return,B)}}function aM(A,c,p){try{var m=A.stateNode;vne(m,A.type,p,c),m[Dr]=c}catch(B){tn(A,A.return,B)}}function n4(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&pc(A.type)||A.tag===4}function oM(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||n4(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&pc(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function AM(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=WA));else if(m!==4&&(m===27&&pc(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for(AM(A,c,p),A=A.sibling;A!==null;)AM(A,c,p),A=A.sibling}function lS(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&pc(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(lS(A,c,p),A=A.sibling;A!==null;)lS(A,c,p),A=A.sibling}function i4(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);vr(c,m,p),c[Li]=A,c[Dr]=p}catch(S){tn(A,A.return,S)}}var sl=!1,Ti=!1,lM=!1,r4=typeof WeakSet=="function"?WeakSet:Set,Ji=null;function Xte(A,c){if(A=A.containerInfo,FM=FS,A=g2(A),nF(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var B=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{p.nodeType,S.nodeType}catch{p=null;break e}var N=0,O=-1,j=-1,te=0,ce=0,pe=A,ie=null;t:for(;;){for(var oe;pe!==p||B!==0&&pe.nodeType!==3||(O=N+B),pe!==S||m!==0&&pe.nodeType!==3||(j=N+m),pe.nodeType===3&&(N+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)ie=pe,pe=oe;for(;;){if(pe===A)break t;if(ie===p&&++te===B&&(O=N),ie===S&&++ce===m&&(j=N),(oe=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=oe}p=O===-1||j===-1?null:{start:O,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for(MM={focusedElem:A,selectionRange:p},FS=!1,Ji=c;Ji!==null;)if(c=Ji,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,Ji=A;else for(;Ji!==null;){switch(c=Ji,S=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)B=A[p],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&S!==null){A=void 0,p=c,B=S.memoizedProps,S=S.memoizedState,m=p.stateNode;try{var Ve=Sf(p.type,B);A=m.getSnapshotBeforeUpdate(Ve,S),m.__reactInternalSnapshotBeforeUpdate=A}catch(it){tn(p,p.return,it)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)RM(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":RM(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(i(163))}if(A=c.sibling,A!==null){A.return=c.return,Ji=A;break}Ji=c.return}}function s4(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:ol(A,p),m&4&&o0(5,p);break;case 1:if(ol(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(N){tn(p,p.return,N)}else{var B=Sf(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(B,c,A.__reactInternalSnapshotBeforeUpdate)}catch(N){tn(p,p.return,N)}}m&64&&ZH(p),m&512&&A0(p,p.return);break;case 3:if(ol(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{K2(A,c)}catch(N){tn(p,p.return,N)}}break;case 27:c===null&&m&4&&i4(p);case 26:case 5:ol(A,p),c===null&&m&4&&t4(p),m&512&&A0(p,p.return);break;case 12:ol(A,p);break;case 31:ol(A,p),m&4&&A4(A,p);break;case 13:ol(A,p),m&4&&l4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=ane.bind(null,p),xne(A,p))));break;case 22:if(m=p.memoizedState!==null||sl,!m){c=c!==null&&c.memoizedState!==null||Ti,B=sl;var S=Ti;sl=m,(Ti=c)&&!S?Al(A,p,(p.subtreeFlags&8772)!==0):ol(A,p),sl=B,Ti=S}break;case 30:break;default:ol(A,p)}}function a4(A){var c=A.alternate;c!==null&&(A.alternate=null,a4(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&Ny(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Qn=null,ms=!1;function al(A,c,p){for(p=p.child;p!==null;)o4(A,c,p),p=p.sibling}function o4(A,c,p){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(Xr,p)}catch{}switch(p.tag){case 26:Ti||iA(p,c),al(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ti||iA(p,c);var m=Qn,B=ms;pc(p.type)&&(Qn=p.stateNode,ms=!1),al(A,c,p),m0(p.stateNode),Qn=m,ms=B;break;case 5:Ti||iA(p,c);case 6:if(m=Qn,B=ms,Qn=null,al(A,c,p),Qn=m,ms=B,Qn!==null)if(ms)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(p.stateNode)}catch(S){tn(p,c,S)}else try{Qn.removeChild(p.stateNode)}catch(S){tn(p,c,S)}break;case 18:Qn!==null&&(ms?(A=Qn,Z4(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),mg(A)):Z4(Qn,p.stateNode));break;case 4:m=Qn,B=ms,Qn=p.stateNode.containerInfo,ms=!0,al(A,c,p),Qn=m,ms=B;break;case 0:case 11:case 14:case 15:Ac(2,p,c),Ti||Ac(4,p,c),al(A,c,p);break;case 1:Ti||(iA(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&e4(p,c,m)),al(A,c,p);break;case 21:al(A,c,p);break;case 22:Ti=(m=Ti)||p.memoizedState!==null,al(A,c,p),Ti=m;break;default:al(A,c,p)}}function A4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{mg(A)}catch(p){tn(c,c.return,p)}}}function l4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{mg(A)}catch(p){tn(c,c.return,p)}}function Jte(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new r4),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new r4),c;default:throw Error(i(435,A.tag))}}function uS(A,c){var p=Jte(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var B=one.bind(null,A,m);m.then(B,B)}})}function vs(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var B=p[m],S=A,N=c,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(pc(O.type)){Qn=O.stateNode,ms=!1;break e}break;case 5:Qn=O.stateNode,ms=!1;break e;case 3:case 4:Qn=O.stateNode.containerInfo,ms=!0;break e}O=O.return}if(Qn===null)throw Error(i(160));o4(S,N,B),Qn=null,ms=!1,S=B.alternate,S!==null&&(S.return=null),B.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)u4(c,A),c=c.sibling}var Co=null;function u4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:vs(c,A),ys(A),m&4&&(Ac(3,A,A.return),o0(3,A),Ac(5,A,A.return));break;case 1:vs(c,A),ys(A),m&512&&(Ti||p===null||iA(p,p.return)),m&64&&sl&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var B=Co;if(vs(c,A),ys(A),m&512&&(Ti||p===null||iA(p,p.return)),m&4){var S=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,B=B.ownerDocument||B;t:switch(m){case"title":S=B.getElementsByTagName("title")[0],(!S||S[uf]||S[Li]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=B.createElement(m),B.head.insertBefore(S,B.querySelector("head > title"))),vr(S,m,p),S[Li]=A,Ei(S),m=S;break e;case"link":var N=uV("link","href",B).get(m+(p.href||""));if(N){for(var O=0;O<N.length;O++)if(S=N[O],S.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&S.getAttribute("rel")===(p.rel==null?null:p.rel)&&S.getAttribute("title")===(p.title==null?null:p.title)&&S.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){N.splice(O,1);break t}}S=B.createElement(m),vr(S,m,p),B.head.appendChild(S);break;case"meta":if(N=uV("meta","content",B).get(m+(p.content||""))){for(O=0;O<N.length;O++)if(S=N[O],S.getAttribute("content")===(p.content==null?null:""+p.content)&&S.getAttribute("name")===(p.name==null?null:p.name)&&S.getAttribute("property")===(p.property==null?null:p.property)&&S.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&S.getAttribute("charset")===(p.charSet==null?null:p.charSet)){N.splice(O,1);break t}}S=B.createElement(m),vr(S,m,p),B.head.appendChild(S);break;default:throw Error(i(468,m))}S[Li]=A,Ei(S),m=S}A.stateNode=m}else cV(B,A.type,A.stateNode);else A.stateNode=lV(B,m,A.memoizedProps);else S!==m?(S===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):S.count--,m===null?cV(B,A.type,A.stateNode):lV(B,m,A.memoizedProps)):m===null&&A.stateNode!==null&&aM(A,A.memoizedProps,p.memoizedProps)}break;case 27:vs(c,A),ys(A),m&512&&(Ti||p===null||iA(p,p.return)),p!==null&&m&4&&aM(A,A.memoizedProps,p.memoizedProps);break;case 5:if(vs(c,A),ys(A),m&512&&(Ti||p===null||iA(p,p.return)),A.flags&32){B=A.stateNode;try{Op(B,"")}catch(Ve){tn(A,A.return,Ve)}}m&4&&A.stateNode!=null&&(B=A.memoizedProps,aM(A,B,p!==null?p.memoizedProps:B)),m&1024&&(lM=!0);break;case 6:if(vs(c,A),ys(A),m&4){if(A.stateNode===null)throw Error(i(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(Ve){tn(A,A.return,Ve)}}break;case 3:if(xS=null,B=Co,Co=ES(c.containerInfo),vs(c,A),Co=B,ys(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{mg(c.containerInfo)}catch(Ve){tn(A,A.return,Ve)}lM&&(lM=!1,c4(A));break;case 4:m=Co,Co=ES(A.stateNode.containerInfo),vs(c,A),ys(A),Co=m;break;case 12:vs(c,A),ys(A);break;case 31:vs(c,A),ys(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,uS(A,m)));break;case 13:vs(c,A),ys(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(dS=J()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,uS(A,m)));break;case 22:B=A.memoizedState!==null;var j=p!==null&&p.memoizedState!==null,te=sl,ce=Ti;if(sl=te||B,Ti=ce||j,vs(c,A),Ti=ce,sl=te,ys(A),m&8192)e:for(c=A.stateNode,c._visibility=B?c._visibility&-2:c._visibility|1,B&&(p===null||j||sl||Ti||xf(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){j=p=c;try{if(S=j.stateNode,B)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=j.stateNode;var pe=j.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;O.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ve){tn(j,j.return,Ve)}}}else if(c.tag===6){if(p===null){j=c;try{j.stateNode.nodeValue=B?"":j.memoizedProps}catch(Ve){tn(j,j.return,Ve)}}}else if(c.tag===18){if(p===null){j=c;try{var oe=j.stateNode;B?eV(oe,!0):eV(j.stateNode,!1)}catch(Ve){tn(j,j.return,Ve)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,uS(A,p))));break;case 19:vs(c,A),ys(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,uS(A,m)));break;case 30:break;case 21:break;default:vs(c,A),ys(A)}}function ys(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if(n4(m)){p=m;break}m=m.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var B=p.stateNode,S=oM(A);lS(A,S,B);break;case 5:var N=p.stateNode;p.flags&32&&(Op(N,""),p.flags&=-33);var O=oM(A);lS(A,O,N);break;case 3:case 4:var j=p.stateNode.containerInfo,te=oM(A);AM(A,te,j);break;default:throw Error(i(161))}}catch(ce){tn(A,A.return,ce)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function c4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;c4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function ol(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)s4(A,c.alternate,c),c=c.sibling}function xf(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:Ac(4,c,c.return),xf(c);break;case 1:iA(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&e4(c,c.return,p),xf(c);break;case 27:m0(c.stateNode);case 26:case 5:iA(c,c.return),xf(c);break;case 22:c.memoizedState===null&&xf(c);break;case 30:xf(c);break;default:xf(c)}A=A.sibling}}function Al(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,B=A,S=c,N=S.flags;switch(S.tag){case 0:case 11:case 15:Al(B,S,p),o0(4,S);break;case 1:if(Al(B,S,p),m=S,B=m.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(te){tn(m,m.return,te)}if(m=S,B=m.updateQueue,B!==null){var O=m.stateNode;try{var j=B.shared.hiddenCallbacks;if(j!==null)for(B.shared.hiddenCallbacks=null,B=0;B<j.length;B++)V2(j[B],O)}catch(te){tn(m,m.return,te)}}p&&N&64&&ZH(S),A0(S,S.return);break;case 27:i4(S);case 26:case 5:Al(B,S,p),p&&m===null&&N&4&&t4(S),A0(S,S.return);break;case 12:Al(B,S,p);break;case 31:Al(B,S,p),p&&N&4&&A4(B,S);break;case 13:Al(B,S,p),p&&N&4&&l4(B,S);break;case 22:S.memoizedState===null&&Al(B,S,p),A0(S,S.return);break;case 30:break;default:Al(B,S,p)}c=c.sibling}}function uM(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&jy(p))}function cM(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&jy(A))}function Bo(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)d4(A,c,p,m),c=c.sibling}function d4(A,c,p,m){var B=c.flags;switch(c.tag){case 0:case 11:case 15:Bo(A,c,p,m),B&2048&&o0(9,c);break;case 1:Bo(A,c,p,m);break;case 3:Bo(A,c,p,m),B&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&jy(A)));break;case 12:if(B&2048){Bo(A,c,p,m),A=c.stateNode;try{var S=c.memoizedProps,N=S.id,O=S.onPostCommit;typeof O=="function"&&O(N,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(j){tn(c,c.return,j)}}else Bo(A,c,p,m);break;case 31:Bo(A,c,p,m);break;case 13:Bo(A,c,p,m);break;case 23:break;case 22:S=c.stateNode,N=c.alternate,c.memoizedState!==null?S._visibility&2?Bo(A,c,p,m):l0(A,c):S._visibility&2?Bo(A,c,p,m):(S._visibility|=2,ag(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),B&2048&&uM(N,c);break;case 24:Bo(A,c,p,m),B&2048&&cM(c.alternate,c);break;default:Bo(A,c,p,m)}}function ag(A,c,p,m,B){for(B=B&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=A,N=c,O=p,j=m,te=N.flags;switch(N.tag){case 0:case 11:case 15:ag(S,N,O,j,B),o0(8,N);break;case 23:break;case 22:var ce=N.stateNode;N.memoizedState!==null?ce._visibility&2?ag(S,N,O,j,B):l0(S,N):(ce._visibility|=2,ag(S,N,O,j,B)),B&&te&2048&&uM(N.alternate,N);break;case 24:ag(S,N,O,j,B),B&&te&2048&&cM(N.alternate,N);break;default:ag(S,N,O,j,B)}c=c.sibling}}function l0(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,B=m.flags;switch(m.tag){case 22:l0(p,m),B&2048&&uM(m.alternate,m);break;case 24:l0(p,m),B&2048&&cM(m.alternate,m);break;default:l0(p,m)}c=c.sibling}}var u0=8192;function og(A,c,p){if(A.subtreeFlags&u0)for(A=A.child;A!==null;)f4(A,c,p),A=A.sibling}function f4(A,c,p){switch(A.tag){case 26:og(A,c,p),A.flags&u0&&A.memoizedState!==null&&Qne(p,Co,A.memoizedState,A.memoizedProps);break;case 5:og(A,c,p);break;case 3:case 4:var m=Co;Co=ES(A.stateNode.containerInfo),og(A,c,p),Co=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=u0,u0=16777216,og(A,c,p),u0=m):og(A,c,p));break;default:og(A,c,p)}}function h4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function c0(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Ji=m,g4(m,A)}h4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)p4(A),A=A.sibling}function p4(A){switch(A.tag){case 0:case 11:case 15:c0(A),A.flags&2048&&Ac(9,A,A.return);break;case 3:c0(A);break;case 12:c0(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,cS(A)):c0(A);break;default:c0(A)}}function cS(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Ji=m,g4(m,A)}h4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:Ac(8,c,c.return),cS(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,cS(c));break;default:cS(c)}A=A.sibling}}function g4(A,c){for(;Ji!==null;){var p=Ji;switch(p.tag){case 0:case 11:case 15:Ac(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:jy(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,Ji=m;else e:for(p=A;Ji!==null;){m=Ji;var B=m.sibling,S=m.return;if(a4(m),m===p){Ji=null;break e}if(B!==null){B.return=S,Ji=B;break e}Ji=S}}}var Zte={getCacheForType:function(A){var c=gr(Si),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return gr(Si).controller.signal}},ene=typeof WeakMap=="function"?WeakMap:Map,$t=0,wn=null,xt=null,Tt=0,en=0,qs=null,lc=!1,Ag=!1,dM=!1,ll=0,Yn=0,uc=0,_f=0,fM=0,$s=0,lg=0,d0=null,ws=null,hM=!1,dS=0,m4=0,fS=1/0,hS=null,cc=null,Qi=0,dc=null,ug=null,ul=0,pM=0,gM=null,v4=null,f0=0,mM=null;function js(){return($t&2)!==0&&Tt!==0?Tt&-Tt:G.T!==null?BM():bE()}function y4(){if($s===0)if((Tt&536870912)===0||Ut){var A=ze;ze<<=1,(ze&3932160)===0&&(ze=262144),$s=A}else $s=536870912;return A=Gs.current,A!==null&&(A.flags|=32),$s}function bs(A,c,p){(A===wn&&(en===2||en===9)||A.cancelPendingCommit!==null)&&(cg(A,0),fc(A,Tt,$s,!1)),Zt(A,p),(($t&2)===0||A!==wn)&&(A===wn&&(($t&2)===0&&(_f|=p),Yn===4&&fc(A,Tt,$s,!1)),rA(A))}function w4(A,c,p){if(($t&6)!==0)throw Error(i(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||ht(A,c),B=m?ine(A,c):yM(A,c,!0),S=m;do{if(B===0){Ag&&!m&&fc(A,c,0,!1);break}else{if(p=A.current.alternate,S&&!tne(p)){B=yM(A,c,!1),S=!1;continue}if(B===2){if(S=c,A.errorRecoveryDisabledLanes&S)var N=0;else N=A.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var O=A;B=d0;var j=O.current.memoizedState.isDehydrated;if(j&&(cg(O,N).flags|=256),N=yM(O,N,!1),N!==2){if(dM&&!j){O.errorRecoveryDisabledLanes|=S,_f|=S,B=4;break e}S=ws,ws=B,S!==null&&(ws===null?ws=S:ws.push.apply(ws,S))}B=N}if(S=!1,B!==2)continue}}if(B===1){cg(A,0),fc(A,c,0,!0);break}e:{switch(m=A,S=B,S){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:fc(m,c,$s,!lc);break e;case 2:ws=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(B=dS+300-J(),10<B)){if(fc(m,c,$s,!lc),tt(m,0,!0)!==0)break e;ul=c,m.timeoutHandle=X4(b4.bind(null,m,p,ws,hS,hM,c,$s,_f,lg,lc,S,"Throttled",-0,0),B);break e}b4(m,p,ws,hS,hM,c,$s,_f,lg,lc,S,null,-0,0)}}break}while(!0);rA(A)}function b4(A,c,p,m,B,S,N,O,j,te,ce,pe,ie,oe){if(A.timeoutHandle=-1,pe=c.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:WA},f4(c,S,pe);var Ve=(S&62914560)===S?dS-J():(S&4194048)===S?m4-J():0;if(Ve=kne(pe,Ve),Ve!==null){ul=S,A.cancelPendingCommit=Ve(I4.bind(null,A,c,S,p,m,B,N,O,j,ce,pe,null,ie,oe)),fc(A,S,N,!te);return}}I4(A,c,S,p,m,B,N,O,j)}function tne(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var B=p[m],S=B.getSnapshot;B=B.value;try{if(!Vs(S(),B))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function fc(A,c,p,m){c&=~fM,c&=~_f,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var B=c;0<B;){var S=31-wi(B),N=1<<S;m[S]=-1,B&=~N}p!==0&&Xi(A,p,c)}function pS(){return($t&6)===0?(h0(0),!1):!0}function vM(){if(xt!==null){if(en===0)var A=xt.return;else A=xt,ZA=vf=null,RF(A),tg=null,Yy=0,A=xt;for(;A!==null;)JH(A.alternate,A),A=A.return;xt=null}}function cg(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,bne(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),ul=0,vM(),wn=A,xt=p=XA(A.current,null),Tt=c,en=0,qs=null,lc=!1,Ag=ht(A,c),dM=!1,lg=$s=fM=_f=uc=Yn=0,ws=d0=null,hM=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var B=31-wi(m),S=1<<B;c|=A[B],m&=~S}return ll=c,NE(),p}function C4(A,c){pt=null,G.H=r0,c===eg||c===GE?(c=Q2(),en=3):c===CF?(c=Q2(),en=4):en=c===YF?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,qs=c,xt===null&&(Yn=1,rS(A,Ma(c,A.current)))}function B4(){var A=Gs.current;return A===null?!0:(Tt&4194048)===Tt?Da===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?A===Da:!1}function E4(){var A=G.H;return G.H=r0,A===null?r0:A}function S4(){var A=G.A;return G.A=Zte,A}function gS(){Yn=4,lc||(Tt&4194048)!==Tt&&Gs.current!==null||(Ag=!0),(uc&134217727)===0&&(_f&134217727)===0||wn===null||fc(wn,Tt,$s,!1)}function yM(A,c,p){var m=$t;$t|=2;var B=E4(),S=S4();(wn!==A||Tt!==c)&&(hS=null,cg(A,c)),c=!1;var N=Yn;e:do try{if(en!==0&&xt!==null){var O=xt,j=qs;switch(en){case 8:vM(),N=6;break e;case 3:case 2:case 9:case 6:Gs.current===null&&(c=!0);var te=en;if(en=0,qs=null,dg(A,O,j,te),p&&Ag){N=0;break e}break;default:te=en,en=0,qs=null,dg(A,O,j,te)}}nne(),N=Yn;break}catch(ce){C4(A,ce)}while(!0);return c&&A.shellSuspendCounter++,ZA=vf=null,$t=m,G.H=B,G.A=S,xt===null&&(wn=null,Tt=0,NE()),N}function nne(){for(;xt!==null;)x4(xt)}function ine(A,c){var p=$t;$t|=2;var m=E4(),B=S4();wn!==A||Tt!==c?(hS=null,fS=J()+500,cg(A,c)):Ag=ht(A,c);e:do try{if(en!==0&&xt!==null){c=xt;var S=qs;t:switch(en){case 1:en=0,qs=null,dg(A,c,S,1);break;case 2:case 9:if(N2(S)){en=0,qs=null,_4(c);break}c=function(){en!==2&&en!==9||wn!==A||(en=7),rA(A)},S.then(c,c);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:N2(S)?(en=0,qs=null,_4(c)):(en=0,qs=null,dg(A,c,S,7));break;case 5:var N=null;switch(xt.tag){case 26:N=xt.memoizedState;case 5:case 27:var O=xt;if(N?dV(N):O.stateNode.complete){en=0,qs=null;var j=O.sibling;if(j!==null)xt=j;else{var te=O.return;te!==null?(xt=te,mS(te)):xt=null}break t}}en=0,qs=null,dg(A,c,S,5);break;case 6:en=0,qs=null,dg(A,c,S,6);break;case 8:vM(),Yn=6;break e;default:throw Error(i(462))}}rne();break}catch(ce){C4(A,ce)}while(!0);return ZA=vf=null,G.H=m,G.A=B,$t=p,xt!==null?0:(wn=null,Tt=0,NE(),Yn)}function rne(){for(;xt!==null&&!Os();)x4(xt)}function x4(A){var c=YH(A.alternate,A,ll);A.memoizedProps=A.pendingProps,c===null?mS(A):xt=c}function _4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=GH(p,c,c.pendingProps,c.type,void 0,Tt);break;case 11:c=GH(p,c,c.pendingProps,c.type.render,c.ref,Tt);break;case 5:RF(c);default:JH(p,c),c=xt=S2(c,ll),c=YH(p,c,ll)}A.memoizedProps=A.pendingProps,c===null?mS(A):xt=c}function dg(A,c,p,m){ZA=vf=null,RF(c),tg=null,Yy=0;var B=c.return;try{if(qte(A,B,c,p,Tt)){Yn=1,rS(A,Ma(p,A.current)),xt=null;return}}catch(S){if(B!==null)throw xt=B,S;Yn=1,rS(A,Ma(p,A.current)),xt=null;return}c.flags&32768?(Ut||m===1?A=!0:Ag||(Tt&536870912)!==0?A=!1:(lc=A=!0,(m===2||m===9||m===3||m===6)&&(m=Gs.current,m!==null&&m.tag===13&&(m.flags|=16384))),T4(c,A)):mS(c)}function mS(A){var c=A;do{if((c.flags&32768)!==0){T4(c,lc);return}A=c.return;var p=Wte(c.alternate,c,ll);if(p!==null){xt=p;return}if(c=c.sibling,c!==null){xt=c;return}xt=c=A}while(c!==null);Yn===0&&(Yn=5)}function T4(A,c){do{var p=Yte(A.alternate,A);if(p!==null){p.flags&=32767,xt=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){xt=A;return}xt=A=p}while(A!==null);Yn=6,xt=null}function I4(A,c,p,m,B,S,N,O,j){A.cancelPendingCommit=null;do vS();while(Qi!==0);if(($t&6)!==0)throw Error(i(327));if(c!==null){if(c===A.current)throw Error(i(177));if(S=c.lanes|c.childLanes,S|=oF,bi(A,p,S,N,O,j),A===wn&&(xt=wn=null,Tt=0),ug=c,dc=A,ul=p,pM=S,gM=B,v4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,Ane(Le,function(){return R4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,B=$.p,$.p=2,N=$t,$t|=4;try{Xte(A,c,p)}finally{$t=N,$.p=B,G.T=m}}Qi=1,F4(),M4(),U4()}}function F4(){if(Qi===1){Qi=0;var A=dc,c=ug,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=G.T,G.T=null;var m=$.p;$.p=2;var B=$t;$t|=4;try{u4(c,A);var S=MM,N=g2(A.containerInfo),O=S.focusedElem,j=S.selectionRange;if(N!==O&&O&&O.ownerDocument&&p2(O.ownerDocument.documentElement,O)){if(j!==null&&nF(O)){var te=j.start,ce=j.end;if(ce===void 0&&(ce=te),"selectionStart"in O)O.selectionStart=te,O.selectionEnd=Math.min(ce,O.value.length);else{var pe=O.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Ve=O.textContent.length,it=Math.min(j.start,Ve),ln=j.end===void 0?it:Math.min(j.end,Ve);!oe.extend&&it>ln&&(N=ln,ln=it,it=N);var X=h2(O,it),W=h2(O,ln);if(X&&W&&(oe.rangeCount!==1||oe.anchorNode!==X.node||oe.anchorOffset!==X.offset||oe.focusNode!==W.node||oe.focusOffset!==W.offset)){var ee=pe.createRange();ee.setStart(X.node,X.offset),oe.removeAllRanges(),it>ln?(oe.addRange(ee),oe.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),oe.addRange(ee))}}}}for(pe=[],oe=O;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<pe.length;O++){var fe=pe[O];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}FS=!!FM,MM=FM=null}finally{$t=B,$.p=m,G.T=p}}A.current=c,Qi=2}}function M4(){if(Qi===2){Qi=0;var A=dc,c=ug,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=G.T,G.T=null;var m=$.p;$.p=2;var B=$t;$t|=4;try{s4(A,c.alternate,c)}finally{$t=B,$.p=m,G.T=p}}Qi=3}}function U4(){if(Qi===4||Qi===3){Qi=0,xe();var A=dc,c=ug,p=ul,m=v4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Qi=5:(Qi=0,ug=dc=null,P4(A,A.pendingLanes));var B=A.pendingLanes;if(B===0&&(cc=null),Bi(p),c=c.stateNode,yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(Xr,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=G.T,B=$.p,$.p=2,G.T=null;try{for(var S=A.onRecoverableError,N=0;N<m.length;N++){var O=m[N];S(O.value,{componentStack:O.stack})}}finally{G.T=c,$.p=B}}(ul&3)!==0&&vS(),rA(A),B=A.pendingLanes,(p&261930)!==0&&(B&42)!==0?A===mM?f0++:(f0=0,mM=A):f0=0,h0(0)}}function P4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,jy(c)))}function vS(){return F4(),M4(),U4(),R4()}function R4(){if(Qi!==5)return!1;var A=dc,c=pM;pM=0;var p=Bi(ul),m=G.T,B=$.p;try{$.p=32>p?32:p,G.T=null,p=gM,gM=null;var S=dc,N=ul;if(Qi=0,ug=dc=null,ul=0,($t&6)!==0)throw Error(i(331));var O=$t;if($t|=4,p4(S.current),d4(S,S.current,N,p),$t=O,h0(0,!1),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(Xr,S)}catch{}return!0}finally{$.p=B,G.T=m,P4(A,c)}}function D4(A,c,p){c=Ma(p,c),c=WF(A.stateNode,c,2),A=sc(A,c,2),A!==null&&(Zt(A,2),rA(A))}function tn(A,c,p){if(A.tag===3)D4(A,A,p);else for(;c!==null;){if(c.tag===3){D4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(cc===null||!cc.has(m))){A=Ma(p,A),p=NH(2),m=sc(c,p,2),m!==null&&(LH(p,m,c,A),Zt(m,2),rA(m));break}}c=c.return}}function wM(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new ene;var B=new Set;m.set(c,B)}else B=m.get(c),B===void 0&&(B=new Set,m.set(c,B));B.has(p)||(dM=!0,B.add(p),A=sne.bind(null,A,c,p),c.then(A,A))}function sne(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,wn===A&&(Tt&p)===p&&(Yn===4||Yn===3&&(Tt&62914560)===Tt&&300>J()-dS?($t&2)===0&&cg(A,0):fM|=p,lg===Tt&&(lg=0)),rA(A)}function N4(A,c){c===0&&(c=Ct()),A=pf(A,c),A!==null&&(Zt(A,c),rA(A))}function ane(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),N4(A,p)}function one(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,B=A.memoizedState;B!==null&&(p=B.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),N4(A,p)}function Ane(A,c){return Yr(A,c)}var yS=null,fg=null,bM=!1,wS=!1,CM=!1,hc=0;function rA(A){A!==fg&&A.next===null&&(fg===null?yS=fg=A:fg=fg.next=A),wS=!0,bM||(bM=!0,une())}function h0(A,c){if(!CM&&wS){CM=!0;do for(var p=!1,m=yS;m!==null;){if(A!==0){var B=m.pendingLanes;if(B===0)var S=0;else{var N=m.suspendedLanes,O=m.pingedLanes;S=(1<<31-wi(42|A)+1)-1,S&=B&~(N&~O),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(p=!0,O4(m,S))}else S=Tt,S=tt(m,m===wn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||ht(m,S)||(p=!0,O4(m,S));m=m.next}while(p);CM=!1}}function lne(){L4()}function L4(){wS=bM=!1;var A=0;hc!==0&&wne()&&(A=hc);for(var c=J(),p=null,m=yS;m!==null;){var B=m.next,S=Q4(m,c);S===0?(m.next=null,p===null?yS=B:p.next=B,B===null&&(fg=p)):(p=m,(A!==0||(S&3)!==0)&&(wS=!0)),m=B}Qi!==0&&Qi!==5||h0(A),hc!==0&&(hc=0)}function Q4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,B=A.expirationTimes,S=A.pendingLanes&-62914561;0<S;){var N=31-wi(S),O=1<<N,j=B[N];j===-1?((O&p)===0||(O&m)!==0)&&(B[N]=Se(O,c)):j<=c&&(A.expiredLanes|=O),S&=~O}if(c=wn,p=Tt,p=tt(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(en===2||en===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&Jt(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||ht(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&Jt(m),Bi(p)){case 2:case 8:p=Bt;break;case 32:p=Le;break;case 268435456:p=qt;break;default:p=Le}return m=k4.bind(null,A),p=Yr(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&Jt(m),A.callbackPriority=2,A.callbackNode=null,2}function k4(A,c){if(Qi!==0&&Qi!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(vS()&&A.callbackNode!==p)return null;var m=Tt;return m=tt(A,A===wn?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(w4(A,m,c),Q4(A,J()),A.callbackNode!=null&&A.callbackNode===p?k4.bind(null,A):null)}function O4(A,c){if(vS())return null;w4(A,c,!0)}function une(){Cne(function(){($t&6)!==0?Yr(Me,lne):L4()})}function BM(){if(hc===0){var A=Jp;A===0&&(A=Ue,Ue<<=1,(Ue&261888)===0&&(Ue=256)),hc=A}return hc}function H4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:TE(""+A)}function V4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function cne(A,c,p,m,B){if(c==="submit"&&p&&p.stateNode===B){var S=H4((B[Dr]||null).action),N=m.submitter;N&&(c=(c=N[Dr]||null)?H4(c.formAction):N.getAttribute("formAction"),c!==null&&(S=c,N=null));var O=new UE("action","action",null,m,B);A.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(hc!==0){var j=N?V4(B,N):new FormData(B);KF(p,{pending:!0,data:j,method:B.method,action:S},null,j)}}else typeof S=="function"&&(O.preventDefault(),j=N?V4(B,N):new FormData(B),KF(p,{pending:!0,data:j,method:B.method,action:S},S,j))},currentTarget:B}]})}}for(var EM=0;EM<aF.length;EM++){var SM=aF[EM],dne=SM.toLowerCase(),fne=SM[0].toUpperCase()+SM.slice(1);bo(dne,"on"+fne)}bo(y2,"onAnimationEnd"),bo(w2,"onAnimationIteration"),bo(b2,"onAnimationStart"),bo("dblclick","onDoubleClick"),bo("focusin","onFocus"),bo("focusout","onBlur"),bo(Ite,"onTransitionRun"),bo(Fte,"onTransitionStart"),bo(Mte,"onTransitionCancel"),bo(C2,"onTransitionEnd"),Pe("onMouseEnter",["mouseout","mouseover"]),Pe("onMouseLeave",["mouseout","mouseover"]),Pe("onPointerEnter",["pointerout","pointerover"]),Pe("onPointerLeave",["pointerout","pointerover"]),he("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),he("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),he("onBeforeInput",["compositionend","keypress","textInput","paste"]),he("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(p0));function K4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],B=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var N=m.length-1;0<=N;N--){var O=m[N],j=O.instance,te=O.currentTarget;if(O=O.listener,j!==S&&B.isPropagationStopped())break e;S=O,B.currentTarget=te;try{S(B)}catch(ce){DE(ce)}B.currentTarget=null,S=j}else for(N=0;N<m.length;N++){if(O=m[N],j=O.instance,te=O.currentTarget,O=O.listener,j!==S&&B.isPropagationStopped())break e;S=O,B.currentTarget=te;try{S(B)}catch(ce){DE(ce)}B.currentTarget=null,S=j}}}}function _t(A,c){var p=c[Dy];p===void 0&&(p=c[Dy]=new Set);var m=A+"__bubble";p.has(m)||(G4(c,A,2,!1),p.add(m))}function xM(A,c,p){var m=0;c&&(m|=4),G4(p,A,m,c)}var bS="_reactListening"+Math.random().toString(36).slice(2);function _M(A){if(!A[bS]){A[bS]=!0,SE.forEach(function(p){p!=="selectionchange"&&(hne.has(p)||xM(p,!1,A),xM(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[bS]||(c[bS]=!0,xM("selectionchange",!1,c))}}function G4(A,c,p,m){switch(yV(c)){case 2:var B=Vne;break;case 8:B=Kne;break;default:B=VM}p=B.bind(null,c,p,A),B=void 0,!$I||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(B=!0),m?B!==void 0?A.addEventListener(c,p,{capture:!0,passive:B}):A.addEventListener(c,p,!0):B!==void 0?A.addEventListener(c,p,{passive:B}):A.addEventListener(c,p,!1)}function TM(A,c,p,m,B){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var O=m.stateNode.containerInfo;if(O===B)break;if(N===4)for(N=m.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===B)return;N=N.return}for(;O!==null;){if(N=eA(O),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){m=S=N;continue e}O=O.parentNode}}m=m.return}WO(function(){var te=S,ce=zI(p),pe=[];e:{var ie=B2.get(A);if(ie!==void 0){var oe=UE,Ve=A;switch(A){case"keypress":if(FE(p)===0)break e;case"keydown":case"keyup":oe=ote;break;case"focusin":Ve="focus",oe=XI;break;case"focusout":Ve="blur",oe=XI;break;case"beforeblur":case"afterblur":oe=XI;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=JO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Wee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=ute;break;case y2:case w2:case b2:oe=Jee;break;case C2:oe=dte;break;case"scroll":case"scrollend":oe=$ee;break;case"wheel":oe=hte;break;case"copy":case"cut":case"paste":oe=ete;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=e2;break;case"toggle":case"beforetoggle":oe=gte}var it=(c&4)!==0,ln=!it&&(A==="scroll"||A==="scrollend"),X=it?ie!==null?ie+"Capture":null:ie;it=[];for(var W=te,ee;W!==null;){var fe=W;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||X===null||(fe=Ly(W,X),fe!=null&&it.push(g0(W,fe,ee))),ln)break;W=W.return}0<it.length&&(ie=new oe(ie,Ve,null,p,ce),pe.push({event:ie,listeners:it}))}}if((c&7)===0){e:{if(ie=A==="mouseover"||A==="pointerover",oe=A==="mouseout"||A==="pointerout",ie&&p!==GI&&(Ve=p.relatedTarget||p.fromElement)&&(eA(Ve)||Ve[Yu]))break e;if((oe||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Ve=p.relatedTarget||p.toElement,oe=te,Ve=Ve?eA(Ve):null,Ve!==null&&(ln=s(Ve),it=Ve.tag,Ve!==ln||it!==5&&it!==27&&it!==6)&&(Ve=null)):(oe=null,Ve=te),oe!==Ve)){if(it=JO,fe="onMouseLeave",X="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(it=e2,fe="onPointerLeave",X="onPointerEnter",W="pointer"),ln=oe==null?ie:cf(oe),ee=Ve==null?ie:cf(Ve),ie=new it(fe,W+"leave",oe,p,ce),ie.target=ln,ie.relatedTarget=ee,fe=null,eA(ce)===te&&(it=new it(X,W+"enter",Ve,p,ce),it.target=ee,it.relatedTarget=ln,fe=it),ln=fe,oe&&Ve)t:{for(it=pne,X=oe,W=Ve,ee=0,fe=X;fe;fe=it(fe))ee++;fe=0;for(var Ze=W;Ze;Ze=it(Ze))fe++;for(;0<ee-fe;)X=it(X),ee--;for(;0<fe-ee;)W=it(W),fe--;for(;ee--;){if(X===W||W!==null&&X===W.alternate){it=X;break t}X=it(X),W=it(W)}it=null}else it=null;oe!==null&&z4(pe,ie,oe,it,!1),Ve!==null&&ln!==null&&z4(pe,ln,Ve,it,!0)}}e:{if(ie=te?cf(te):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var Ht=A2;else if(a2(ie))if(l2)Ht=xte;else{Ht=Ete;var je=Bte}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&KI(te.elementType)&&(Ht=A2):Ht=Ste;if(Ht&&(Ht=Ht(A,te))){o2(pe,Ht,p,ce);break e}je&&je(A,ie,te),A==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&VI(ie,"number",ie.value)}switch(je=te?cf(te):window,A){case"focusin":(a2(je)||je.contentEditable==="true")&&(Gp=je,iF=te,zy=null);break;case"focusout":zy=iF=Gp=null;break;case"mousedown":rF=!0;break;case"contextmenu":case"mouseup":case"dragend":rF=!1,m2(pe,p,ce);break;case"selectionchange":if(Tte)break;case"keydown":case"keyup":m2(pe,p,ce)}var vt;if(ZI)e:{switch(A){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Kp?r2(A,p)&&(It="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(It="onCompositionStart");It&&(t2&&p.locale!=="ko"&&(Kp||It!=="onCompositionStart"?It==="onCompositionEnd"&&Kp&&(vt=YO()):(Ju=ce,jI="value"in Ju?Ju.value:Ju.textContent,Kp=!0)),je=CS(te,It),0<je.length&&(It=new ZO(It,A,null,p,ce),pe.push({event:It,listeners:je}),vt?It.data=vt:(vt=s2(p),vt!==null&&(It.data=vt)))),(vt=vte?yte(A,p):wte(A,p))&&(It=CS(te,"onBeforeInput"),0<It.length&&(je=new ZO("onBeforeInput","beforeinput",null,p,ce),pe.push({event:je,listeners:It}),je.data=vt)),cne(pe,A,te,p,ce)}K4(pe,c)})}function g0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function CS(A,c){for(var p=c+"Capture",m=[];A!==null;){var B=A,S=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||S===null||(B=Ly(A,p),B!=null&&m.unshift(g0(A,B,S)),B=Ly(A,c),B!=null&&m.push(g0(A,B,S))),A.tag===3)return m;A=A.return}return[]}function pne(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function z4(A,c,p,m,B){for(var S=c._reactName,N=[];p!==null&&p!==m;){var O=p,j=O.alternate,te=O.stateNode;if(O=O.tag,j!==null&&j===m)break;O!==5&&O!==26&&O!==27||te===null||(j=te,B?(te=Ly(p,S),te!=null&&N.unshift(g0(p,te,j))):B||(te=Ly(p,S),te!=null&&N.push(g0(p,te,j)))),p=p.return}N.length!==0&&A.push({event:c,listeners:N})}var gne=/\r\n?/g,mne=/\u0000|\uFFFD/g;function q4(A){return(typeof A=="string"?A:""+A).replace(gne,`
`).replace(mne,"")}function $4(A,c){return c=q4(c),q4(A)===c}function An(A,c,p,m,B,S){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Op(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Op(A,""+m);break;case"className":yn(A,"class",m);break;case"tabIndex":yn(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(A,p,m);break;case"style":$O(A,m,S);break;case"data":if(c!=="object"){yn(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=TE(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(p==="formAction"?(c!=="input"&&An(A,c,"name",B.name,B,null),An(A,c,"formEncType",B.formEncType,B,null),An(A,c,"formMethod",B.formMethod,B,null),An(A,c,"formTarget",B.formTarget,B,null)):(An(A,c,"encType",B.encType,B,null),An(A,c,"method",B.method,B,null),An(A,c,"target",B.target,B,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=TE(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=WA);break;case"onScroll":m!=null&&_t("scroll",A);break;case"onScrollEnd":m!=null&&_t("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=TE(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":_t("beforetoggle",A),_t("toggle",A),Ai(A,"popover",m);break;case"xlinkActuate":hr(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":hr(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":hr(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":hr(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":hr(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":hr(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":hr(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":hr(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":hr(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ai(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=zee.get(p)||p,Ai(A,p,m))}}function IM(A,c,p,m,B,S){switch(p){case"style":$O(A,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"children":typeof m=="string"?Op(A,m):(typeof m=="number"||typeof m=="bigint")&&Op(A,""+m);break;case"onScroll":m!=null&&_t("scroll",A);break;case"onScrollEnd":m!=null&&_t("scrollend",A);break;case"onClick":m!=null&&(A.onclick=WA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xE.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(B=p.endsWith("Capture"),c=p.slice(2,B?p.length-7:void 0),S=A[Dr]||null,S=S!=null?S[p]:null,typeof S=="function"&&A.removeEventListener(c,S,B),typeof m=="function")){typeof S!="function"&&S!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,B);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):Ai(A,p,m)}}}function vr(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",A),_t("load",A);var m=!1,B=!1,S;for(S in p)if(p.hasOwnProperty(S)){var N=p[S];if(N!=null)switch(S){case"src":m=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:An(A,c,S,N,p,null)}}B&&An(A,c,"srcSet",p.srcSet,p,null),m&&An(A,c,"src",p.src,p,null);return;case"input":_t("invalid",A);var O=S=N=B=null,j=null,te=null;for(m in p)if(p.hasOwnProperty(m)){var ce=p[m];if(ce!=null)switch(m){case"name":B=ce;break;case"type":N=ce;break;case"checked":j=ce;break;case"defaultChecked":te=ce;break;case"value":S=ce;break;case"defaultValue":O=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,c));break;default:An(A,c,m,ce,p,null)}}KO(A,S,O,j,te,N,B,!1);return;case"select":_t("invalid",A),m=N=S=null;for(B in p)if(p.hasOwnProperty(B)&&(O=p[B],O!=null))switch(B){case"value":S=O;break;case"defaultValue":N=O;break;case"multiple":m=O;default:An(A,c,B,O,p,null)}c=S,p=N,A.multiple=!!m,c!=null?kp(A,!!m,c,!1):p!=null&&kp(A,!!m,p,!0);return;case"textarea":_t("invalid",A),S=B=m=null;for(N in p)if(p.hasOwnProperty(N)&&(O=p[N],O!=null))switch(N){case"value":m=O;break;case"defaultValue":B=O;break;case"children":S=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:An(A,c,N,O,p,null)}zO(A,m,B,S);return;case"option":for(j in p)if(p.hasOwnProperty(j)&&(m=p[j],m!=null))switch(j){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:An(A,c,j,m,p,null)}return;case"dialog":_t("beforetoggle",A),_t("toggle",A),_t("cancel",A),_t("close",A);break;case"iframe":case"object":_t("load",A);break;case"video":case"audio":for(m=0;m<p0.length;m++)_t(p0[m],A);break;case"image":_t("error",A),_t("load",A);break;case"details":_t("toggle",A);break;case"embed":case"source":case"link":_t("error",A),_t("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in p)if(p.hasOwnProperty(te)&&(m=p[te],m!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:An(A,c,te,m,p,null)}return;default:if(KI(c)){for(ce in p)p.hasOwnProperty(ce)&&(m=p[ce],m!==void 0&&IM(A,c,ce,m,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(m=p[O],m!=null&&An(A,c,O,m,p,null))}function vne(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,S=null,N=null,O=null,j=null,te=null,ce=null;for(oe in p){var pe=p[oe];if(p.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":j=pe;default:m.hasOwnProperty(oe)||An(A,c,oe,null,m,pe)}}for(var ie in m){var oe=m[ie];if(pe=p[ie],m.hasOwnProperty(ie)&&(oe!=null||pe!=null))switch(ie){case"type":S=oe;break;case"name":B=oe;break;case"checked":te=oe;break;case"defaultChecked":ce=oe;break;case"value":N=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,c));break;default:oe!==pe&&An(A,c,ie,oe,m,pe)}}HI(A,N,O,j,te,ce,S,B);return;case"select":oe=N=O=ie=null;for(S in p)if(j=p[S],p.hasOwnProperty(S)&&j!=null)switch(S){case"value":break;case"multiple":oe=j;default:m.hasOwnProperty(S)||An(A,c,S,null,m,j)}for(B in m)if(S=m[B],j=p[B],m.hasOwnProperty(B)&&(S!=null||j!=null))switch(B){case"value":ie=S;break;case"defaultValue":O=S;break;case"multiple":N=S;default:S!==j&&An(A,c,B,S,m,j)}c=O,p=N,m=oe,ie!=null?kp(A,!!p,ie,!1):!!m!=!!p&&(c!=null?kp(A,!!p,c,!0):kp(A,!!p,p?[]:"",!1));return;case"textarea":oe=ie=null;for(O in p)if(B=p[O],p.hasOwnProperty(O)&&B!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:An(A,c,O,null,m,B)}for(N in m)if(B=m[N],S=p[N],m.hasOwnProperty(N)&&(B!=null||S!=null))switch(N){case"value":ie=B;break;case"defaultValue":oe=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:B!==S&&An(A,c,N,B,m,S)}GO(A,ie,oe);return;case"option":for(var Ve in p)if(ie=p[Ve],p.hasOwnProperty(Ve)&&ie!=null&&!m.hasOwnProperty(Ve))switch(Ve){case"selected":A.selected=!1;break;default:An(A,c,Ve,null,m,ie)}for(j in m)if(ie=m[j],oe=p[j],m.hasOwnProperty(j)&&ie!==oe&&(ie!=null||oe!=null))switch(j){case"selected":A.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:An(A,c,j,ie,m,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in p)ie=p[it],p.hasOwnProperty(it)&&ie!=null&&!m.hasOwnProperty(it)&&An(A,c,it,null,m,ie);for(te in m)if(ie=m[te],oe=p[te],m.hasOwnProperty(te)&&ie!==oe&&(ie!=null||oe!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,c));break;default:An(A,c,te,ie,m,oe)}return;default:if(KI(c)){for(var ln in p)ie=p[ln],p.hasOwnProperty(ln)&&ie!==void 0&&!m.hasOwnProperty(ln)&&IM(A,c,ln,void 0,m,ie);for(ce in m)ie=m[ce],oe=p[ce],!m.hasOwnProperty(ce)||ie===oe||ie===void 0&&oe===void 0||IM(A,c,ce,ie,m,oe);return}}for(var X in p)ie=p[X],p.hasOwnProperty(X)&&ie!=null&&!m.hasOwnProperty(X)&&An(A,c,X,null,m,ie);for(pe in m)ie=m[pe],oe=p[pe],!m.hasOwnProperty(pe)||ie===oe||ie==null&&oe==null||An(A,c,pe,ie,m,oe)}function j4(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yne(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var B=p[m],S=B.transferSize,N=B.initiatorType,O=B.duration;if(S&&O&&j4(N)){for(N=0,O=B.responseEnd,m+=1;m<p.length;m++){var j=p[m],te=j.startTime;if(te>O)break;var ce=j.transferSize,pe=j.initiatorType;ce&&j4(pe)&&(j=j.responseEnd,N+=ce*(j<O?1:(O-te)/(j-te)))}if(--m,c+=8*(S+N)/(B.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var FM=null,MM=null;function BS(A){return A.nodeType===9?A:A.ownerDocument}function W4(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y4(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function UM(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var PM=null;function wne(){var A=window.event;return A&&A.type==="popstate"?A===PM?!1:(PM=A,!0):(PM=null,!1)}var X4=typeof setTimeout=="function"?setTimeout:void 0,bne=typeof clearTimeout=="function"?clearTimeout:void 0,J4=typeof Promise=="function"?Promise:void 0,Cne=typeof queueMicrotask=="function"?queueMicrotask:typeof J4<"u"?function(A){return J4.resolve(null).then(A).catch(Bne)}:X4;function Bne(A){setTimeout(function(){throw A})}function pc(A){return A==="head"}function Z4(A,c){var p=c,m=0;do{var B=p.nextSibling;if(A.removeChild(p),B&&B.nodeType===8)if(p=B.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(B),mg(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")m0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,m0(p);for(var S=p.firstChild;S;){var N=S.nextSibling,O=S.nodeName;S[uf]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||p.removeChild(S),S=N}}else p==="body"&&m0(A.ownerDocument.body);p=B}while(p);mg(c)}function eV(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function RM(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":RM(p),Ny(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function Ene(A,c,p,m){for(;A.nodeType===1;){var B=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[uf])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(S=A.getAttribute("rel"),S==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(S!==B.rel||A.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||A.getAttribute("title")!==(B.title==null?null:B.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(S=A.getAttribute("src"),(S!==(B.src==null?null:B.src)||A.getAttribute("type")!==(B.type==null?null:B.type)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&S&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var S=B.name==null?null:""+B.name;if(B.type==="hidden"&&A.getAttribute("name")===S)return A}else return A;if(A=Na(A.nextSibling),A===null)break}return null}function Sne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=Na(A.nextSibling),A===null))return null;return A}function tV(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=Na(A.nextSibling),A===null))return null;return A}function DM(A){return A.data==="$?"||A.data==="$~"}function NM(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function xne(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function Na(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var LM=null;function nV(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return Na(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function iV(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function rV(A,c,p){switch(c=BS(p),A){case"html":if(A=c.documentElement,!A)throw Error(i(452));return A;case"head":if(A=c.head,!A)throw Error(i(453));return A;case"body":if(A=c.body,!A)throw Error(i(454));return A;default:throw Error(i(451))}}function m0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);Ny(A)}var La=new Map,sV=new Set;function ES(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var cl=$.d;$.d={f:_ne,r:Tne,D:Ine,C:Fne,L:Mne,m:Une,X:Rne,S:Pne,M:Dne};function _ne(){var A=cl.f(),c=pS();return A||c}function Tne(A){var c=Xu(A);c!==null&&c.tag===5&&c.type==="form"?CH(c):cl.r(A)}var hg=typeof document>"u"?null:document;function aV(A,c,p){var m=hg;if(m&&typeof c=="string"&&c){var B=Ia(c);B='link[rel="'+A+'"][href="'+B+'"]',typeof p=="string"&&(B+='[crossorigin="'+p+'"]'),sV.has(B)||(sV.add(B),A={rel:A,crossOrigin:p,href:c},m.querySelector(B)===null&&(c=m.createElement("link"),vr(c,"link",A),Ei(c),m.head.appendChild(c)))}}function Ine(A){cl.D(A),aV("dns-prefetch",A,null)}function Fne(A,c){cl.C(A,c),aV("preconnect",A,c)}function Mne(A,c,p){cl.L(A,c,p);var m=hg;if(m&&A&&c){var B='link[rel="preload"][as="'+Ia(c)+'"]';c==="image"&&p&&p.imageSrcSet?(B+='[imagesrcset="'+Ia(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(B+='[imagesizes="'+Ia(p.imageSizes)+'"]')):B+='[href="'+Ia(A)+'"]';var S=B;switch(c){case"style":S=pg(A);break;case"script":S=gg(A)}La.has(S)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),La.set(S,A),m.querySelector(B)!==null||c==="style"&&m.querySelector(v0(S))||c==="script"&&m.querySelector(y0(S))||(c=m.createElement("link"),vr(c,"link",A),Ei(c),m.head.appendChild(c)))}}function Une(A,c){cl.m(A,c);var p=hg;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",B='link[rel="modulepreload"][as="'+Ia(m)+'"][href="'+Ia(A)+'"]',S=B;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=gg(A)}if(!La.has(S)&&(A=h({rel:"modulepreload",href:A},c),La.set(S,A),p.querySelector(B)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(y0(S)))return}m=p.createElement("link"),vr(m,"link",A),Ei(m),p.head.appendChild(m)}}}function Pne(A,c,p){cl.S(A,c,p);var m=hg;if(m&&A){var B=jA(m).hoistableStyles,S=pg(A);c=c||"default";var N=B.get(S);if(!N){var O={loading:0,preload:null};if(N=m.querySelector(v0(S)))O.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=La.get(S))&&QM(A,p);var j=N=m.createElement("link");Ei(j),vr(j,"link",A),j._p=new Promise(function(te,ce){j.onload=te,j.onerror=ce}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,SS(N,c,m)}N={type:"stylesheet",instance:N,count:1,state:O},B.set(S,N)}}}function Rne(A,c){cl.X(A,c);var p=hg;if(p&&A){var m=jA(p).hoistableScripts,B=gg(A),S=m.get(B);S||(S=p.querySelector(y0(B)),S||(A=h({src:A,async:!0},c),(c=La.get(B))&&kM(A,c),S=p.createElement("script"),Ei(S),vr(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function Dne(A,c){cl.M(A,c);var p=hg;if(p&&A){var m=jA(p).hoistableScripts,B=gg(A),S=m.get(B);S||(S=p.querySelector(y0(B)),S||(A=h({src:A,async:!0,type:"module"},c),(c=La.get(B))&&kM(A,c),S=p.createElement("script"),Ei(S),vr(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function oV(A,c,p,m){var B=(B=_e.current)?ES(B):null;if(!B)throw Error(i(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=pg(p.href),p=jA(B).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=pg(p.href);var S=jA(B).hoistableStyles,N=S.get(A);if(N||(B=B.ownerDocument||B,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(A,N),(S=B.querySelector(v0(A)))&&!S._p&&(N.instance=S,N.state.loading=5),La.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},La.set(A,p),S||Nne(B,A,p,N.state))),c&&m===null)throw Error(i(528,""));return N}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=gg(p),p=jA(B).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,A))}}function pg(A){return'href="'+Ia(A)+'"'}function v0(A){return'link[rel="stylesheet"]['+A+"]"}function AV(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Nne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),vr(c,"link",p),Ei(c),A.head.appendChild(c))}function gg(A){return'[src="'+Ia(A)+'"]'}function y0(A){return"script[async]"+A}function lV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+Ia(p.href)+'"]');if(m)return c.instance=m,Ei(m),m;var B=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),Ei(m),vr(m,"style",B),SS(m,p.precedence,A),c.instance=m;case"stylesheet":B=pg(p.href);var S=A.querySelector(v0(B));if(S)return c.state.loading|=4,c.instance=S,Ei(S),S;m=AV(p),(B=La.get(B))&&QM(m,B),S=(A.ownerDocument||A).createElement("link"),Ei(S);var N=S;return N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),vr(S,"link",m),c.state.loading|=4,SS(S,p.precedence,A),c.instance=S;case"script":return S=gg(p.src),(B=A.querySelector(y0(S)))?(c.instance=B,Ei(B),B):(m=p,(B=La.get(S))&&(m=h({},p),kM(m,B)),A=A.ownerDocument||A,B=A.createElement("script"),Ei(B),vr(B,"link",m),A.head.appendChild(B),c.instance=B);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,SS(m,p.precedence,A));return c.instance}function SS(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=m.length?m[m.length-1]:null,S=B,N=0;N<m.length;N++){var O=m[N];if(O.dataset.precedence===c)S=O;else if(S!==B)break}S?S.parentNode.insertBefore(A,S.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function QM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function kM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var xS=null;function uV(A,c,p){if(xS===null){var m=new Map,B=xS=new Map;B.set(p,m)}else B=xS,m=B.get(p),m||(m=new Map,B.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),B=0;B<p.length;B++){var S=p[B];if(!(S[uf]||S[Li]||A==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(c)||"";N=A+N;var O=m.get(N);O?O.push(S):m.set(N,[S])}}return m}function cV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function Lne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function dV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function Qne(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var B=pg(m.href),S=c.querySelector(v0(B));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=_S.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=S,Ei(S);return}S=c.ownerDocument||c,m=AV(m),(B=La.get(B))&&QM(m,B),S=S.createElement("link"),Ei(S);var N=S;N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),vr(S,"link",m),p.instance=S}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=_S.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var OM=0;function kne(A,c){return A.stylesheets&&A.count===0&&IS(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&IS(A,A.stylesheets),A.unsuspend){var S=A.unsuspend;A.unsuspend=null,S()}},6e4+c);0<A.imgBytes&&OM===0&&(OM=62500*yne());var B=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&IS(A,A.stylesheets),A.unsuspend)){var S=A.unsuspend;A.unsuspend=null,S()}},(A.imgBytes>OM?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(B)}}:null}function _S(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)IS(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var TS=null;function IS(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,TS=new Map,c.forEach(One,A),TS=null,_S.call(A))}function One(A,c){if(!(c.state.loading&4)){var p=TS.get(A);if(p)var m=p.get(null);else{p=new Map,TS.set(A,p);for(var B=A.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<B.length;S++){var N=B[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(p.set(N.dataset.precedence,N),m=N)}m&&p.set(null,m)}B=c.instance,N=B.getAttribute("data-precedence"),S=p.get(N)||m,S===m&&p.set(null,B),p.set(N,B),this.count++,m=_S.bind(this),B.addEventListener("load",m),B.addEventListener("error",m),S?S.parentNode.insertBefore(B,S.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(B,A.firstChild)),c.state.loading|=4}}var w0={$$typeof:T,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Hne(A,c,p,m,B,S,N,O,j){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.hiddenUpdates=Ot(null),this.identifierPrefix=m,this.onUncaughtError=B,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function fV(A,c,p,m,B,S,N,O,j,te,ce,pe){return A=new Hne(A,c,p,N,j,te,ce,pe,O),c=1,S===!0&&(c|=24),S=Ks(3,null,null,c),A.current=S,S.stateNode=A,c=yF(),c.refCount++,A.pooledCache=c,c.refCount++,S.memoizedState={element:m,isDehydrated:p,cache:c},BF(S),A}function hV(A){return A?(A=$p,A):$p}function pV(A,c,p,m,B,S){B=hV(B),m.context===null?m.context=B:m.pendingContext=B,m=rc(c),m.payload={element:p},S=S===void 0?null:S,S!==null&&(m.callback=S),p=sc(A,m,c),p!==null&&(bs(p,A,c),Jy(p,A,c))}function gV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function HM(A,c){gV(A,c),(A=A.alternate)&&gV(A,c)}function mV(A){if(A.tag===13||A.tag===31){var c=pf(A,67108864);c!==null&&bs(c,A,67108864),HM(A,67108864)}}function vV(A){if(A.tag===13||A.tag===31){var c=js();c=Hs(c);var p=pf(A,c);p!==null&&bs(p,A,c),HM(A,c)}}var FS=!0;function Vne(A,c,p,m){var B=G.T;G.T=null;var S=$.p;try{$.p=2,VM(A,c,p,m)}finally{$.p=S,G.T=B}}function Kne(A,c,p,m){var B=G.T;G.T=null;var S=$.p;try{$.p=8,VM(A,c,p,m)}finally{$.p=S,G.T=B}}function VM(A,c,p,m){if(FS){var B=KM(m);if(B===null)TM(A,c,m,MS,p),wV(A,m);else if(zne(B,A,c,p,m))m.stopPropagation();else if(wV(A,m),c&4&&-1<Gne.indexOf(A)){for(;B!==null;){var S=Xu(B);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=et(S.pendingLanes);if(N!==0){var O=S;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var j=1<<31-wi(N);O.entanglements[1]|=j,N&=~j}rA(S),($t&6)===0&&(fS=J()+500,h0(0))}}break;case 31:case 13:O=pf(S,2),O!==null&&bs(O,S,2),pS(),HM(S,2)}if(S=KM(m),S===null&&TM(A,c,m,MS,p),S===B)break;B=S}B!==null&&m.stopPropagation()}else TM(A,c,m,null,p)}}function KM(A){return A=zI(A),GM(A)}var MS=null;function GM(A){if(MS=null,A=eA(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return MS=A,null}function yV(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Me:return 2;case Bt:return 8;case Le:case vn:return 32;case qt:return 268435456;default:return 32}default:return 32}}var zM=!1,gc=null,mc=null,vc=null,b0=new Map,C0=new Map,yc=[],Gne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wV(A,c){switch(A){case"focusin":case"focusout":gc=null;break;case"dragenter":case"dragleave":mc=null;break;case"mouseover":case"mouseout":vc=null;break;case"pointerover":case"pointerout":b0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":C0.delete(c.pointerId)}}function B0(A,c,p,m,B,S){return A===null||A.nativeEvent!==S?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:S,targetContainers:[B]},c!==null&&(c=Xu(c),c!==null&&mV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,B!==null&&c.indexOf(B)===-1&&c.push(B),A)}function zne(A,c,p,m,B){switch(c){case"focusin":return gc=B0(gc,A,c,p,m,B),!0;case"dragenter":return mc=B0(mc,A,c,p,m,B),!0;case"mouseover":return vc=B0(vc,A,c,p,m,B),!0;case"pointerover":var S=B.pointerId;return b0.set(S,B0(b0.get(S)||null,A,c,p,m,B)),!0;case"gotpointercapture":return S=B.pointerId,C0.set(S,B0(C0.get(S)||null,A,c,p,m,B)),!0}return!1}function bV(A){var c=eA(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,CE(A.priority,function(){vV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,CE(A.priority,function(){vV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function US(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=KM(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);GI=m,p.target.dispatchEvent(m),GI=null}else return c=Xu(p),c!==null&&mV(c),A.blockedOn=p,!1;c.shift()}return!0}function CV(A,c,p){US(A)&&p.delete(c)}function qne(){zM=!1,gc!==null&&US(gc)&&(gc=null),mc!==null&&US(mc)&&(mc=null),vc!==null&&US(vc)&&(vc=null),b0.forEach(CV),C0.forEach(CV)}function PS(A,c){A.blockedOn===c&&(A.blockedOn=null,zM||(zM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qne)))}var RS=null;function BV(A){RS!==A&&(RS=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){RS===A&&(RS=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],B=A[c+2];if(typeof m!="function"){if(GM(m||p)===null)continue;break}var S=Xu(p);S!==null&&(A.splice(c,3),c-=3,KF(S,{pending:!0,data:B,method:p.method,action:m},m,B))}}))}function mg(A){function c(j){return PS(j,A)}gc!==null&&PS(gc,A),mc!==null&&PS(mc,A),vc!==null&&PS(vc,A),b0.forEach(c),C0.forEach(c);for(var p=0;p<yc.length;p++){var m=yc[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<yc.length&&(p=yc[0],p.blockedOn===null);)bV(p),p.blockedOn===null&&yc.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var B=p[m],S=p[m+1],N=B[Dr]||null;if(typeof S=="function")N||BV(p);else if(N){var O=null;if(S&&S.hasAttribute("formAction")){if(B=S,N=S[Dr]||null)O=N.formAction;else if(GM(B)!==null)continue}else O=N.action;typeof O=="function"?p[m+1]=O:(p.splice(m,3),m-=3),BV(p)}}}function EV(){function A(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return B=N})},focusReset:"manual",scroll:"manual"})}function c(){B!==null&&(B(),B=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,B=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),B!==null&&(B(),B=null)}}}function qM(A){this._internalRoot=A}DS.prototype.render=qM.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,m=js();pV(p,m,A,c,null,null)},DS.prototype.unmount=qM.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;pV(A.current,2,null,A,null,null),pS(),c[Yu]=null}};function DS(A){this._internalRoot=A}DS.prototype.unstable_scheduleHydration=function(A){if(A){var c=bE();A={blockedOn:null,target:A,priority:c};for(var p=0;p<yc.length&&c!==0&&c<yc[p].priority;p++);yc.splice(p,0,A),p===0&&bV(A)}};var SV=e.version;if(SV!=="19.2.1")throw Error(i(527,SV,"19.2.1"));$.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(i(188)):(A=Object.keys(A).join(","),Error(i(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var $ne={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var NS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!NS.isDisabled&&NS.supportsFiber)try{Xr=NS.inject($ne),yi=NS}catch{}}return S0.createRoot=function(A,c){if(!r(A))throw Error(i(299));var p=!1,m="",B=UH,S=PH,N=RH;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(B=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=fV(A,1,!1,null,null,p,m,null,B,S,N,EV),A[Yu]=c.current,_M(A),new qM(c)},S0.hydrateRoot=function(A,c,p){if(!r(A))throw Error(i(299));var m=!1,B="",S=UH,N=PH,O=RH,j=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(B=p.identifierPrefix),p.onUncaughtError!==void 0&&(S=p.onUncaughtError),p.onCaughtError!==void 0&&(N=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.formState!==void 0&&(j=p.formState)),c=fV(A,1,!0,c,p??null,m,B,j,S,N,O,EV),c.context=hV(null),p=c.current,m=js(),m=Hs(m),B=rc(m),B.callback=null,sc(p,B,m),p=m,c.current.lanes=p,Zt(c,p),rA(c),A[Yu]=c.current,_M(A),new DS(c)},S0.version="19.2.1",S0}var NV;function aie(){if(NV)return YM.exports;NV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),YM.exports=sie(),YM.exports}var oie=aie();const Aie=zA(oie);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LV="popstate";function lie(n={}){function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=Up(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),BR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:Vw(s))}function i(r,s){ho(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return cie(e,t,i,n)}function $n(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ho(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uie(){return Math.random().toString(36).substring(2,10)}function QV(n,e){return{usr:n.state,key:n.key,idx:e}}function BR(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Up(e):e,state:t,key:e&&e.key||i||uie()}}function Vw({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Up(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function cie(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let E=d(),x=E==null?null:E-u;u=E,l&&l({action:o,location:C.location,delta:x})}function g(E,x){o="PUSH";let I=BR(C.location,E,x);t&&t(I,E),u=d()+1;let T=QV(I,u),R=C.createHref(I);try{a.pushState(T,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(R)}s&&l&&l({action:o,location:C.location,delta:1})}function v(E,x){o="REPLACE";let I=BR(C.location,E,x);t&&t(I,E),u=d();let T=QV(I,u),R=C.createHref(I);a.replaceState(T,"",R),s&&l&&l({action:o,location:C.location,delta:0})}function b(E){return die(E)}let C={get action(){return o},get location(){return n(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(LV,h),l=E,()=>{r.removeEventListener(LV,h),l=null}},createHref(E){return e(r,E)},createURL:b,encodeLocation(E){let x=b(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(E){return a.go(E)}};return C}function die(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$n(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Vw(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function L$(n,e,t="/"){return fie(n,e,t,!1)}function fie(n,e,t,i){let r=typeof e=="string"?Up(e):e,s=_u(r.pathname||"/",t);if(s==null)return null;let a=Q$(n);hie(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Sie(s);o=Bie(a[l],u,i)}return o}function Q$(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&l)return;$n(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let h=wu([i,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&($n(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Q$(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:bie(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of k$(a.path))s(a,o,!0,u)}),e}function k$(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=k$(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function hie(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Cie(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var pie=/^:[\w-]+$/,gie=3,mie=2,vie=1,yie=10,wie=-2,kV=n=>n==="*";function bie(n,e){let t=n.split("/"),i=t.length;return t.some(kV)&&(i+=wie),e&&(i+=mie),t.filter(r=>!kV(r)).reduce((r,s)=>r+(pie.test(s)?gie:s===""?vie:yie),i)}function Cie(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Bie(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!i[i.length-1].route.index&&(h=q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:wu([s,h.pathname]),pathnameBase:Fie(wu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=wu([s,h.pathnameBase]))}return a}function q_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Eie(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function Eie(n,e=!1,t=!0){ho(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Sie(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ho(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _u(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var xie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_ie=n=>xie.test(n);function Tie(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Up(n):n,s;if(t)if(_ie(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),ho(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=OV(t.substring(1),"/"):s=OV(t,e)}else s=e;return{pathname:s,search:Mie(i),hash:Uie(r)}}function OV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function eU(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Iie(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function O$(n){let e=Iie(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function H$(n,e,t,i=!1){let r;typeof n=="string"?r=Up(n):(r={...n},$n(!r.pathname||!r.pathname.includes("?"),eU("?","pathname","search",r)),$n(!r.pathname||!r.pathname.includes("#"),eU("#","pathname","hash",r)),$n(!r.search||!r.search.includes("#"),eU("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;r.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=Tie(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var wu=n=>n.join("/").replace(/\/\/+/g,"/"),Fie=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Mie=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Uie=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Pie(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Rie(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var V$=["POST","PUT","PATCH","DELETE"];new Set(V$);var Die=["GET",...V$];new Set(Die);var Cy=M.createContext(null);Cy.displayName="DataRouter";var U1=M.createContext(null);U1.displayName="DataRouterState";M.createContext(!1);var K$=M.createContext({isTransitioning:!1});K$.displayName="ViewTransition";var Nie=M.createContext(new Map);Nie.displayName="Fetchers";var Lie=M.createContext(null);Lie.displayName="Await";var Wo=M.createContext(null);Wo.displayName="Navigation";var HB=M.createContext(null);HB.displayName="Location";var Hu=M.createContext({outlet:null,matches:[],isDataRoute:!1});Hu.displayName="Route";var CQ=M.createContext(null);CQ.displayName="RouteError";function Qie(n,{relative:e}={}){$n(VB(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(Wo),{hash:r,pathname:s,search:a}=KB(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:wu([t,s])),i.createHref({pathname:o,search:a,hash:r})}function VB(){return M.useContext(HB)!=null}function nf(){return $n(VB(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(HB).location}var G$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z$(n){M.useContext(Wo).static||M.useLayoutEffect(n)}function q$(){let{isDataRoute:n}=M.useContext(Hu);return n?Xie():kie()}function kie(){$n(VB(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(Cy),{basename:e,navigator:t}=M.useContext(Wo),{matches:i}=M.useContext(Hu),{pathname:r}=nf(),s=JSON.stringify(O$(i)),a=M.useRef(!1);return z$(()=>{a.current=!0}),M.useCallback((l,u={})=>{if(ho(a.current,G$),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=H$(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:wu([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,r,n])}M.createContext(null);function KB(n,{relative:e}={}){let{matches:t}=M.useContext(Hu),{pathname:i}=nf(),r=JSON.stringify(O$(t));return M.useMemo(()=>H$(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Oie(n,e){return $$(n,e)}function $$(n,e,t,i,r){var I;$n(VB(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(Wo),{matches:a}=M.useContext(Hu),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";j$(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=nf(),v;if(e){let T=typeof e=="string"?Up(e):e;$n(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let b=v.pathname||"/",C=b;if(d!=="/"){let T=d.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=L$(n,{pathname:C});ho(h||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ho(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=zie(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:wu([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:wu([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,i,r);return e&&x?M.createElement(HB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function Hie(){let n=Yie(),e=Pie(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:r},t):null,a)}var Vie=M.createElement(Hie,null),Kie=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?M.createElement(Hu.Provider,{value:this.props.routeContext},M.createElement(CQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Gie({routeContext:n,match:e,children:t}){let i=M.useContext(Cy);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Hu.Provider,{value:n},t)}function zie(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);$n(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||b){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&i?(d,h)=>{var g,v;i(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:Rie(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,b=!1,C=null,E=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,C=h.route.errorElement||Vie,o&&(l<0&&g===0?(j$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):l===g&&(b=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=C:b?T=E:h.route.Component?T=M.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,M.createElement(Gie,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?M.createElement(Kie,{location:t.location,revalidation:t.revalidation,component:C,error:v,children:I(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):I()},null)}function BQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qie(n){let e=M.useContext(Cy);return $n(e,BQ(n)),e}function $ie(n){let e=M.useContext(U1);return $n(e,BQ(n)),e}function jie(n){let e=M.useContext(Hu);return $n(e,BQ(n)),e}function EQ(n){let e=jie(n),t=e.matches[e.matches.length-1];return $n(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Wie(){return EQ("useRouteId")}function Yie(){var i;let n=M.useContext(CQ),e=$ie("useRouteError"),t=EQ("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Xie(){let{router:n}=qie("useNavigate"),e=EQ("useNavigate"),t=M.useRef(!1);return z$(()=>{t.current=!0}),M.useCallback(async(r,s={})=>{ho(t.current,G$),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var HV={};function j$(n,e,t){!e&&!HV[n]&&(HV[n]=!0,ho(!1,t))}M.memo(Jie);function Jie({routes:n,future:e,state:t,unstable_onError:i}){return $$(n,void 0,t,i,e)}function ER(n){$n(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zie({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){$n(!VB(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=M.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=Up(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,b=M.useMemo(()=>{let C=_u(u,o);return C==null?null:{location:{pathname:C,search:d,hash:h,state:g,key:v},navigationType:i}},[o,u,d,h,g,v,i]);return ho(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(Wo.Provider,{value:l},M.createElement(HB.Provider,{children:e,value:b}))}function ere({children:n,location:e}){return Oie(SR(n),e)}function SR(n,e=[]){let t=[];return M.Children.forEach(n,(i,r)=>{if(!M.isValidElement(i))return;let s=[...e,r];if(i.type===M.Fragment){t.push.apply(t,SR(i.props.children,s));return}$n(i.type===ER,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$n(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=SR(i.props.children,s)),t.push(a)}),t}var Ox="get",Hx="application/x-www-form-urlencoded";function P1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function tre(n){return P1(n)&&n.tagName.toLowerCase()==="button"}function nre(n){return P1(n)&&n.tagName.toLowerCase()==="form"}function ire(n){return P1(n)&&n.tagName.toLowerCase()==="input"}function rre(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sre(n,e){return n.button===0&&(!e||e==="_self")&&!rre(n)}var LS=null;function are(){if(LS===null)try{new FormData(document.createElement("form"),0),LS=!1}catch{LS=!0}return LS}var ore=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tU(n){return n!=null&&!ore.has(n)?(ho(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hx}"`),null):n}function Are(n,e){let t,i,r,s,a;if(nre(n)){let o=n.getAttribute("action");i=o?_u(o,e):null,t=n.getAttribute("method")||Ox,r=tU(n.getAttribute("enctype"))||Hx,s=new FormData(n)}else if(tre(n)||ire(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?_u(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Ox,r=tU(n.getAttribute("formenctype"))||tU(o.getAttribute("enctype"))||Hx,s=new FormData(o,n),!are()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(P1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ox,i=null,r=Hx,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function SQ(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function lre(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&_u(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function ure(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cre(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dre(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await ure(s,t);return a.links?a.links():[]}return[]}));return gre(i.flat(1).filter(cre).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function VV(n,e,t,i,r,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function fre(n,e,{includeHydrateFallback:t}={}){return hre(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function hre(n){return[...new Set(n)]}function pre(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function gre(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(pre(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function W$(){let n=M.useContext(Cy);return SQ(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mre(){let n=M.useContext(U1);return SQ(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xQ=M.createContext(void 0);xQ.displayName="FrameworkContext";function Y$(){let n=M.useContext(xQ);return SQ(n,"You must render this element inside a <HydratedRouter> element"),n}function vre(n,e){let t=M.useContext(xQ),[i,r]=M.useState(!1),[s,a]=M.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=M.useRef(null);M.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let C=x=>{x.forEach(I=>{a(I.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),M.useEffect(()=>{if(i){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[i]);let v=()=>{r(!0)},b=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:x0(o,v),onBlur:x0(l,b),onMouseEnter:x0(u,v),onMouseLeave:x0(d,b),onTouchStart:x0(h,v)}]:[!1,g,{}]}function x0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function yre({page:n,...e}){let{router:t}=W$(),i=M.useMemo(()=>L$(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?M.createElement(bre,{page:n,matches:i,...e}):null}function wre(n){let{manifest:e,routeModules:t}=Y$(),[i,r]=M.useState([]);return M.useEffect(()=>{let s=!1;return dre(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function bre({page:n,matches:e,...t}){let i=nf(),{manifest:r,routeModules:s}=Y$(),{basename:a}=W$(),{loaderData:o,matches:l}=mre(),u=M.useMemo(()=>VV(n,e,l,r,i,"data"),[n,e,l,r,i]),d=M.useMemo(()=>VV(n,e,l,r,i,"assets"),[n,e,l,r,i]),h=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,C=!1;if(e.forEach(x=>{var T;let I=r.routes[x.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===x.route.id)&&x.route.id in o&&((T=s[x.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?C=!0:b.add(x.route.id))}),b.size===0)return[];let E=lre(n,a,"data");return C&&b.size>0&&E.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),g=M.useMemo(()=>fre(d,r),[d,r]),v=wre(d);return M.createElement(M.Fragment,null,h.map(b=>M.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>M.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:C})=>M.createElement("link",{key:b,nonce:t.nonce,...C})))}function Cre(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var X$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X$&&(window.__reactRouterVersion="7.10.1")}catch{}function Bre({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=M.useRef();r.current==null&&(r.current=lie({window:i,v5Compat:!0}));let s=r.current,[a,o]=M.useState({action:s.action,location:s.location}),l=M.useCallback(u=>{t===!1?o(u):M.startTransition(()=>o(u))},[t]);return M.useLayoutEffect(()=>s.listen(l),[s,l]),M.createElement(Zie,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var J$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$_=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:b,unstable_useTransitions:C}=M.useContext(Wo),E=typeof u=="string"&&J$.test(u),x,I=!1;if(typeof u=="string"&&E&&(x=u,X$))try{let K=new URL(window.location.href),V=u.startsWith("//")?new URL(K.protocol+u):new URL(u),z=_u(V.pathname,b);V.origin===K.origin&&z!=null?u=z+V.search+V.hash:I=!0}catch{ho(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Qie(u,{relative:r}),[R,P,D]=vre(i,g),Q=_re(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:h,unstable_useTransitions:C});function H(K){e&&e(K),K.defaultPrevented||Q(K)}let k=M.createElement("a",{...g,...D,href:x||T,onClick:I||s?e:H,ref:Cre(v,P),target:l,"data-discover":!E&&t==="render"?"true":void 0});return R&&!E?M.createElement(M.Fragment,null,k,M.createElement(yre,{page:T})):k});$_.displayName="Link";var Ere=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=KB(a,{relative:u.relative}),g=nf(),v=M.useContext(U1),{navigator:b,basename:C}=M.useContext(Wo),E=v!=null&&Ure(h)&&o===!0,x=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&C&&(T=_u(T,C)||T);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=I===x||!r&&I.startsWith(x)&&I.charAt(R)==="/",D=T!=null&&(T===x||!r&&T.startsWith(x)&&T.charAt(x.length)==="/"),Q={isActive:P,isPending:D,isTransitioning:E},H=P?e:void 0,k;typeof i=="function"?k=i(Q):k=[i,P?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(Q):s;return M.createElement($_,{...u,"aria-current":H,className:k,ref:d,style:K,to:a,viewTransition:o},typeof l=="function"?l(Q):l)});Ere.displayName="NavLink";var Sre=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=Ox,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:b}=M.useContext(Wo),C=Fre(),E=Mre(o,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&J$.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||a,Q=()=>C(P||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:h});b&&t!==!1?M.startTransition(()=>Q()):Q()};return M.createElement("form",{ref:v,method:x,action:E,onSubmit:i?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});Sre.displayName="Form";function xre(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z$(n){let e=M.useContext(Cy);return $n(e,xre(n)),e}function _re(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=q$(),u=nf(),d=KB(n,{relative:s});return M.useCallback(h=>{if(sre(h,e)){h.preventDefault();let g=t!==void 0?t:Vw(u)===Vw(d),v=()=>l(n,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a});o?M.startTransition(()=>v()):v()}},[u,l,d,t,i,e,n,r,s,a,o])}var Tre=0,Ire=()=>`__${String(++Tre)}__`;function Fre(){let{router:n}=Z$("useSubmit"),{basename:e}=M.useContext(Wo),t=Wie(),i=n.fetch,r=n.navigate;return M.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=Are(s,e);if(a.navigate===!1){let g=a.fetcherKey||Ire();await i(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function Mre(n,{relative:e}={}){let{basename:t}=M.useContext(Wo),i=M.useContext(Hu);$n(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...KB(n||".",{relative:e})},a=nf();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:wu([t,s.pathname])),Vw(s)}function Ure(n,{relative:e}={}){let t=M.useContext(K$);$n(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Z$("useViewTransitionState"),r=KB(n,{relative:e});if(!t.isTransitioning)return!1;let s=_u(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=_u(t.nextLocation.pathname,i)||t.nextLocation.pathname;return q_(r.pathname,a)!=null||q_(r.pathname,s)!=null}var e6=N$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Pre,Rre;function Dre(){return{geminiUrl:Pre,vertexUrl:Rre}}function Nre(n,e,t,i){var r,s;if(!(n!=null&&n.baseUrl)){const a=Dre();return e?(r=a.vertexUrl)!==null&&r!==void 0?r:t:(s=a.geminiUrl)!==null&&s!==void 0?s:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vu{}function Ie(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function Lre(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),s=i.split("."),a=new Set;let o=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}xR(n,r,s,0,a)}}function xR(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])xR(l,e,t,i+1,r)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(i))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&xR(a[s],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _Q(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qre(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const i=y(n,["resourceName"]);return i!=null&&w(e,["_url","resourceName"],i),e}function kre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],Hre(a)),e}function Ore(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Vre(a)),e}function Hre(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Kre(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function Vre(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Gre(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function Kre(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],Yre(t)),e}function Gre(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],Xre(t)),e}function zre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function qre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function $re(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],jre(a)),e}function jre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function t6(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Wre(a)),e}function Wre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function Yre(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],_Q(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function Xre(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],_Q(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KV;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(KV||(KV={}));var GV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(GV||(GV={}));var zV;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(zV||(zV={}));var Vd;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Vd||(Vd={}));var qV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(qV||(qV={}));var $V;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})($V||($V={}));var jV;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(jV||(jV={}));var WV;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(WV||(WV={}));var YV;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(YV||(YV={}));var XV;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(XV||(XV={}));var JV;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(JV||(JV={}));var ZV;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(ZV||(ZV={}));var e3;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(e3||(e3={}));var t3;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(t3||(t3={}));var n3;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(n3||(n3={}));var i3;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(i3||(i3={}));var r3;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(r3||(r3={}));var s3;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(s3||(s3={}));var a3;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(a3||(a3={}));var j_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(j_||(j_={}));var o3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(o3||(o3={}));var A3;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(A3||(A3={}));var l3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(l3||(l3={}));var _R;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_R||(_R={}));var u3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(u3||(u3={}));var c3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(c3||(c3={}));var d3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(d3||(d3={}));var f3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(f3||(f3={}));var h3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(h3||(h3={}));var p3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(p3||(p3={}));var g3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(g3||(g3={}));var m3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(m3||(m3={}));var v3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(v3||(v3={}));var y3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(y3||(y3={}));var w3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(w3||(w3={}));var b3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(b3||(b3={}));var C3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(C3||(C3={}));var B3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(B3||(B3={}));var E3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(E3||(E3={}));var S3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(S3||(S3={}));var x3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(x3||(x3={}));var _3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(_3||(_3={}));var T3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(T3||(T3={}));var I3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(I3||(I3={}));var F3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(F3||(F3={}));var M3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(M3||(M3={}));var U3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(U3||(U3={}));var P3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(P3||(P3={}));var R3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(R3||(R3={}));var D3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(D3||(D3={}));var N3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(N3||(N3={}));var L3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(L3||(L3={}));var Q3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Q3||(Q3={}));var k3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(k3||(k3={}));var Kg;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Kg||(Kg={}));class TR{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class _0{get text(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,b]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(b!==null||b!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class O3{}class H3{}class Jre{}class Zre{}class ese{}class tse{}class V3{}class K3{}class G3{}class nse{}class W_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new W_;let r;const s=e;return t?r=Ore(s):r=kre(s),Object.assign(i,r),i}}class z3{}class q3{}class $3{}class j3{}class ise{}class rse{}class sse{}class TQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new TQ,s=$re(e);return Object.assign(i,s),i}}class ase{}class ose{}class Ase{}class W3{}class lse{get text(){var e,t,i;let r="",s=!1;const a=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,r+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const a of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class use{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class IQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new IQ,s=t6(e);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function n6(n,e){const t=Gt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function i6(n){return Array.isArray(n)?n.map(e=>Y_(e)):[Y_(n)]}function Y_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function r6(n){const e=Y_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function s6(n){const e=Y_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Y3(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function a6(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Y3(e)):[Y3(n)]}function IR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function X3(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function J3(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function jr(n){if(n==null)throw new Error("ContentUnion is required");return IR(n)?n:{role:"user",parts:a6(n)}}function FQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=jr(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=jr(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>jr(t)):[jr(e)]}function co(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(X3(n)||J3(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jr(n)]}const e=[],t=[],i=IR(n[0]);for(const r of n){const s=IR(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(X3(r)||J3(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:a6(t)}),e}function cse(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Vd).includes(t[0].toUpperCase())?t[0].toUpperCase():Vd.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Vd).includes(i.toUpperCase())?i.toUpperCase():Vd.TYPE_UNSPECIFIED})}}function Zg(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&cse(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Vd).includes(o.toUpperCase())?o.toUpperCase():Vd.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Zg(o);else if(i.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(Zg(u))}e[a]=l}else if(r.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=Zg(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function MQ(n){return Zg(n)}function UQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function PQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function By(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Zg(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Zg(e.response));return n}function Ey(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function dse(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Ku(n,e){if(typeof e!="string")throw new Error("name must be a string");return dse(n,e,"cachedContents")}function o6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function rf(n){return _Q(n)}function fse(n){return n!=null&&typeof n=="object"&&"name"in n}function hse(n){return n!=null&&typeof n=="object"&&"video"in n}function pse(n){return n!=null&&typeof n=="object"&&"uri"in n}function A6(n){var e;let t;if(fse(n)&&(t=n.name),!(pse(n)&&(t=n.uri,t===void 0))&&!(hse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function l6(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function u6(n){for(const e of["models","tunedModels","publisherModels"])if(gse(n,e))return n[e];return[]}function gse(n,e){return n!==null&&typeof n=="object"&&e in n}function mse(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function vse(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const a=mse(r,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function c6(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function yse(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function d6(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let s=!1;for(const a of r){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Sy(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function f6(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const i=y(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>eae(a))),w(e,["inlinedResponses"],s)}const r=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function bse(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsDestination","outputUriPrefix"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigqueryDestination","outputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function Cse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsDestination","outputUriPrefix"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigqueryDestination","outputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vx(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata","displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["metadata","state"]);r!=null&&w(e,["state"],f6(r));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],wse(d6(u))),e}function FR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["state"]);r!=null&&w(e,["state"],f6(r));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],Bse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],bse(d6(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function Bse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsSource","uris"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigquerySource","inputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function Ese(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=y(e,["fileName"]);i!=null&&w(t,["fileName"],i);const r=y(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Zse(n,a))),w(t,["requests","requests"],s)}return t}function Sse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsSource","uris"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigquerySource","inputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function xse(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function _se(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Sy(n,i)),t}function Tse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Sy(n,i)),t}function Ise(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],Fse(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Fse(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function h6(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>oae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Mse(n,e){const t={},i=y(n,["displayName"]);if(e!==void 0&&i!=null&&w(e,["batch","displayName"],i),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Use(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["dest"]);return e!==void 0&&r!=null&&w(e,["outputConfig"],Cse(yse(r))),t}function Z3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],Ese(n,c6(n,r)));const s=y(e,["config"]);return s!=null&&Mse(s,t),t}function Pse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],Gt(n,i));const r=y(e,["src"]);r!=null&&w(t,["inputConfig"],Sse(c6(n,r)));const s=y(e,["config"]);return s!=null&&Use(s,t),t}function Rse(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["batch","displayName"],i),t}function Dse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],Vse(n,r));const s=y(e,["config"]);return s!=null&&Rse(s,t),t}function Nse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Sy(n,i)),t}function Lse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Sy(n,i)),t}function Qse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function kse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Ose(n,e){const t={},i=y(e,["contents"]);if(i!=null){let s=FQ(n,i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const r=y(e,["config"]);return r!=null&&(w(t,["_self"],Hse(r,t)),Lre(t,{"requests[].*":"requests[].request.*"})),t}function Hse(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Vse(n,e){const t={},i=y(e,["fileName"]);i!=null&&w(t,["file_name"],i);const r=y(e,["inlinedRequests"]);return r!=null&&w(t,["requests"],Ose(n,r)),t}function Kse(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Gse(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zse(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qse(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],h6(jr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],MQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(Z=>Aae(Z))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=Ey(R);Array.isArray(z)&&(z=z.map(Z=>uae(By(Z)))),w(t,["tools"],z)}const P=y(e,["toolConfig"]);if(t!==void 0&&P!=null&&w(t,["toolConfig"],lae(P)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Ku(n,D));const Q=y(e,["responseModalities"]);Q!=null&&w(i,["responseModalities"],Q);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],UQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],Jse(V)),i}function $se(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Ise(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function jse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Sy(n,i)),t}function Wse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Sy(n,i)),t}function Yse(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Xse(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Jse(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Zse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["request","model"],Gt(n,i));const r=y(e,["contents"]);if(r!=null){let o=co(r);Array.isArray(o)&&(o=o.map(l=>h6(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],qse(n,a,y(t,["request"],{}))),t}function eae(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],$se(t));const i=y(n,["error"]);return i!=null&&w(e,["error"],i),e}function tae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);if(e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function nae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);e!==void 0&&r!=null&&w(e,["_query","pageToken"],r);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function iae(n){const e={},t=y(n,["config"]);return t!=null&&tae(t,e),e}function rae(n){const e={},t=y(n,["config"]);return t!=null&&nae(t,e),e}function sae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Vx(a))),w(e,["batchJobs"],s)}return e}function aae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>FR(a))),w(e,["batchJobs"],s)}return e}function oae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Kse(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Gse(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],xse(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Aae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function lae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],zse(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function uae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Yse(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Xse(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tu;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Tu||(Tu={}));class Pp{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cae extends Vu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pp(Tu.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=Z3(this.apiClient,e),i=t._url,r=Ie("{model}:batchGenerateContent",i),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(a)i.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Pse(this.apiClient,e);return o=Ie("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>FR(d))}else{const u=Z3(this.apiClient,e);return o=Ie("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Vx(d))}}async createEmbeddingsInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Dse(this.apiClient,e);return s=Ie("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>Vx(l))}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Wse(this.apiClient,e);return o=Ie("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>FR(d))}else{const u=jse(this.apiClient,e);return o=Ie("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Vx(d))}}async cancel(e){var t,i,r,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Tse(this.apiClient,e);a=Ie("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=_se(this.apiClient,e);a=Ie("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=rae(e);return o=Ie("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=aae(d),g=new W3;return Object.assign(g,h),g})}else{const u=iae(e);return o=Ie("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sae(d),g=new W3;return Object.assign(g,h),g})}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Lse(this.apiClient,e);return o=Ie("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>kse(d))}else{const u=Nse(this.apiClient,e);return o=Ie("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Qse(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eK(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>Dae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function fae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=co(a);Array.isArray(d)&&(d=d.map(h=>eK(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],eK(jr(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Lae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],Nae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function hae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=co(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],jr(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Qae(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function pae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],n6(n,i));const r=y(e,["config"]);return r!=null&&fae(r,t),t}function gae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],n6(n,i));const r=y(e,["config"]);return r!=null&&hae(r,t),t}function mae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Ku(n,i)),t}function vae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Ku(n,i)),t}function yae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function wae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function bae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Cae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Bae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Eae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Sae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Ku(n,i)),t}function xae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Ku(n,i)),t}function _ae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Tae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Iae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Fae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Mae(n){const e={},t=y(n,["config"]);return t!=null&&Iae(t,e),e}function Uae(n){const e={},t=y(n,["config"]);return t!=null&&Fae(t,e),e}function Pae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Rae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Dae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],bae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Cae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],dae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Nae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Bae(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function Lae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],_ae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Tae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Qae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Eae(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function kae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Oae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Hae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],Ku(n,i));const r=y(e,["config"]);return r!=null&&kae(r,t),t}function Vae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],Ku(n,i));const r=y(e,["config"]);return r!=null&&Oae(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kae extends Vu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pp(Tu.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=gae(this.apiClient,e);return o=Ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=pae(this.apiClient,e);return o=Ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=xae(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Sae(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=vae(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=wae(d),g=new $3;return Object.assign(g,h),g})}else{const u=mae(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=yae(d),g=new $3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Vae(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Hae(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Uae(e);return o=Ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Rae(d),g=new j3;return Object.assign(g,h),g})}else{const u=Mae(e);return o=Ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Pae(d),g=new j3;return Object.assign(g,h),g})}}}function tK(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dn(n){return this instanceof Dn?(this.v=n,this):new Dn(n)}function em(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(v){return function(b){return Promise.resolve(b).then(v,h)}}function o(v,b){i[v]&&(r[v]=function(C){return new Promise(function(E,x){s.push([v,C,E,x])>1||l(v,C)})},b&&(r[v]=b(r[v])))}function l(v,b){try{u(i[v](b))}catch(C){g(s[0][3],C)}}function u(v){v.value instanceof Dn?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,b){v(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Mw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tK=="function"?tK(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),r(o,l,a.done,a.value)})}}function r(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gae(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:p6(t)}function p6(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function zae(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function nK(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!p6(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class qae{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new $ae(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class $ae{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),zae(s)}async sendMessage(e){var t;await this.sendPromise;const i=jr(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await r,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(i,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=jr(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?nK(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return em(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=Mw(e),v;v=yield Dn(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const b=u;if(Gae(b)){const C=(r=(i=b.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;C!==void 0&&d.push(C)}yield yield Dn(b)}}catch(b){o={error:b}}finally{try{!h&&!a&&(l=g.return)&&(yield Dn(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...nK(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,R1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jae(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function Wae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Yae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],A6(t)),e}function Xae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Jae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],A6(t)),e}function Zae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function eoe(n){const e={},t=y(n,["config"]);return t!=null&&Zae(t,e),e}function toe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class noe extends Vu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pp(Tu.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=eoe(e);return s=Ie("files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=toe(l),d=new ase;return Object.assign(d,u),d})}}async createInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jae(e);return s=Ie("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Wae(l),d=new ose;return Object.assign(d,u),d})}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Jae(e);return s=Ie("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Yae(e);return s=Ie("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Xae(l),d=new Ase;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kx(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function ioe(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>yoe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function roe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function soe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aoe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function ooe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],g6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const P=y(n,["thinkingConfig"]);P!=null&&w(e,["thinkingConfig"],P);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const Q=y(n,["topP"]);if(Q!=null&&w(e,["topP"],Q),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Aoe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function loe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function uoe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],PQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],ioe(jr(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=Ey(C);Array.isArray(D)&&(D=D.map(Q=>boe(By(Q)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],woe(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function coe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],ooe(i));const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],g6(PQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],jr(b));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=Ey(C);Array.isArray(D)&&(D=D.map(Q=>Coe(By(Q)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],E);const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function doe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Gt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],uoe(r,t)),t}function foe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Gt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],coe(r,t)),t}function hoe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function poe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["weightedPrompts"],i)}return e}function goe(n){const e={},t=y(n,["media"]);if(t!=null){let u=i6(t);Array.isArray(u)&&(u=u.map(d=>Kx(d))),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],Kx(s6(i)));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],Kx(r6(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function moe(n){const e={},t=y(n,["media"]);if(t!=null){let u=i6(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],s6(i));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],r6(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function voe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const i=y(n,["serverContent"]);i!=null&&w(e,["serverContent"],i);const r=y(n,["toolCall"]);r!=null&&w(e,["toolCall"],r);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],Boe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function yoe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],roe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],soe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Kx(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function woe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function g6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function boe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Aoe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],loe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Coe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>aoe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Boe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const i=y(n,["cachedContentTokenCount"]);i!=null&&w(e,["cachedContentTokenCount"],i);const r=y(n,["candidatesTokenCount"]);r!=null&&w(e,["responseTokenCount"],r);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eoe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Soe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],xoe(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function xoe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function _oe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["contents"]);if(r!=null){let s=co(r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function Toe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["tokensInfo"],r)}return e}function Ioe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const i=y(n,["statistics"]);return i!=null&&w(e,["statistics"],Foe(i)),e}function Foe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const i=y(n,["token_count"]);return i!=null&&w(e,["tokenCount"],i),e}function D1(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>kAe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Moe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const i=y(n,["enableControlImageComputation"]);return i!=null&&w(e,["computeControl"],i),e}function Uoe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Poe(n,e){const t={},i=y(n,["systemInstruction"]);e!==void 0&&i!=null&&w(e,["systemInstruction"],jr(i));const r=y(n,["tools"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>b6(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],EAe(s)),t}function Roe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["contents"]);if(r!=null){let a=co(r);Array.isArray(a)&&(a=a.map(o=>D1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Uoe(s),t}function Doe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["contents"]);if(r!=null){let a=co(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Poe(s,t),t}function Noe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);i!=null&&w(e,["totalTokens"],i);const r=y(n,["cachedContentTokenCount"]);return r!=null&&w(e,["cachedContentTokenCount"],r),e}function Loe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);return i!=null&&w(e,["totalTokens"],i),e}function Qoe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Gt(n,i)),t}function koe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Gt(n,i)),t}function Ooe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Hoe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Voe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function Koe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>zAe(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&Voe(a,t),t}function Goe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>N1(s))),w(e,["generatedImages"],r)}return e}function zoe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function qoe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["instances[]","task_type"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["instances[]","title"],r);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function $oe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["contents"]);if(r!=null){let o=FQ(n,r);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&zoe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],Gt(n,a)),t}function joe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["contents"]);if(r!=null){let a=FQ(n,r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&qoe(s,t),t}function Woe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function Yoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Ioe(a))),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function Xoe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const i=y(n,["deployedModelId"]);return i!=null&&w(e,["deployedModelId"],i),e}function Joe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Zoe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eAe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tAe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function nAe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],D1(jr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],MQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(Z=>qAe(Z))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=Ey(R);Array.isArray(z)&&(z=z.map(Z=>ZAe(By(Z)))),w(t,["tools"],z)}const P=y(e,["toolConfig"]);if(t!==void 0&&P!=null&&w(t,["toolConfig"],JAe(P)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Ku(n,D));const Q=y(e,["responseModalities"]);Q!=null&&w(i,["responseModalities"],Q);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],UQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],IAe(V)),i}function iAe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],jr(r));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],MQ(x));const I=y(e,["responseJsonSchema"]);I!=null&&w(i,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(i,["routingConfig"],T);const R=y(e,["modelSelectionConfig"]);R!=null&&w(i,["modelConfig"],R);const P=y(e,["safetySettings"]);if(t!==void 0&&P!=null){let G=P;Array.isArray(G)&&(G=G.map($=>$)),w(t,["safetySettings"],G)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let G=Ey(D);Array.isArray(G)&&(G=G.map($=>b6(By($)))),w(t,["tools"],G)}const Q=y(e,["toolConfig"]);t!==void 0&&Q!=null&&w(t,["toolConfig"],Q);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const k=y(e,["cachedContent"]);t!==void 0&&k!=null&&w(t,["cachedContent"],Ku(n,k));const K=y(e,["responseModalities"]);K!=null&&w(i,["responseModalities"],K);const V=y(e,["mediaResolution"]);V!=null&&w(i,["mediaResolution"],V);const z=y(e,["speechConfig"]);z!=null&&w(i,["speechConfig"],w6(UQ(z)));const Z=y(e,["audioTimestamp"]);Z!=null&&w(i,["audioTimestamp"],Z);const ne=y(e,["thinkingConfig"]);ne!=null&&w(i,["thinkingConfig"],ne);const de=y(e,["imageConfig"]);return de!=null&&w(i,["imageConfig"],FAe(de)),i}function iK(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["contents"]);if(r!=null){let a=co(r);Array.isArray(a)&&(a=a.map(o=>D1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],nAe(n,s,t)),t}function rK(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["contents"]);if(r!=null){let a=co(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],iAe(n,s,t)),t}function sK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Soe(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function aK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function rAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["aspectRatio"]);e!==void 0&&r!=null&&w(e,["parameters","aspectRatio"],r);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function sAe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function aAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&rAe(s,t),t}function oAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&sAe(s,t),t}function AAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>wAe(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],v6(r)),e}function lAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>N1(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],y6(r)),e}function uAe(n,e){const t={},i=y(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=y(n,["durationSeconds"]);if(e!==void 0&&r!=null&&w(e,["parameters","durationSeconds"],r),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],L1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>dle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function cAe(n,e){const t={},i=y(n,["numberOfVideos"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const b=y(n,["generateAudio"]);e!==void 0&&b!=null&&w(e,["parameters","generateAudio"],b);const C=y(n,["lastFrame"]);e!==void 0&&C!=null&&w(e,["instances[0]","lastFrame"],Yo(C));const E=y(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(R=>fle(R))),w(e,["instances[0]","referenceImages"],T)}const x=y(n,["mask"]);e!==void 0&&x!=null&&w(e,["instances[0]","mask"],cle(x));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function dAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],gAe(a)),e}function fAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],mAe(a)),e}function hAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],L1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],C6(a));const o=y(e,["source"]);o!=null&&vAe(o,t);const l=y(e,["config"]);return l!=null&&uAe(l,t),t}function pAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],Yo(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],B6(a));const o=y(e,["source"]);o!=null&&yAe(o,t);const l=y(e,["config"]);return l!=null&&cAe(l,t),t}function gAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>CAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function mAe(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>BAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function vAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],L1(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],C6(s)),t}function yAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Yo(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],B6(s)),t}function wAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],MAe(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);return r!=null&&w(e,["safetyAttributes"],v6(r)),e}function N1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],m6(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);r!=null&&w(e,["safetyAttributes"],y6(r));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function bAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],m6(t));const i=y(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["labels"],r)}return e}function CAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],lle(t)),e}function BAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],ule(t)),e}function EAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],w6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const P=y(n,["thinkingConfig"]);P!=null&&w(e,["thinkingConfig"],P);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const Q=y(n,["topP"]);if(Q!=null&&w(e,["topP"],Q),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function SAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Gt(n,i)),t}function xAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Gt(n,i)),t}function _Ae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function TAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function IAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function FAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);i!=null&&w(e,["imageSize"],i);const r=y(n,["outputMimeType"]);r!=null&&w(e,["imageOutputOptions","mimeType"],r);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function MAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],rf(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function m6(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["imageBytes"],rf(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function L1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],rf(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Yo(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["imageBytes"]);i!=null&&w(e,["bytesBase64Encoded"],rf(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function UAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],l6(n,o)),i}function PAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],l6(n,o)),i}function RAe(n,e){const t={},i=y(e,["config"]);return i!=null&&UAe(n,i,t),t}function DAe(n,e){const t={},i=y(e,["config"]);return i!=null&&PAe(n,i,t),t}function NAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=u6(r);Array.isArray(s)&&(s=s.map(a=>MR(a))),w(e,["models"],s)}return e}function LAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=u6(r);Array.isArray(s)&&(s=s.map(a=>UR(a))),w(e,["models"],s)}return e}function QAe(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const i=y(n,["segmentationClasses"]);i!=null&&w(e,["maskClasses"],i);const r=y(n,["maskDilation"]);return r!=null&&w(e,["dilation"],r),e}function MR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],ele(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const b=y(n,["thinking"]);return b!=null&&w(e,["thinking"],b),e}function UR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>Xoe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],tle(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function kAe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Joe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Zoe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Eoe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function OAe(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],Yo(t)),e}function HAe(n,e){const t={},i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["baseSteps"]);e!==void 0&&r!=null&&w(e,["parameters","baseSteps"],r);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function VAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["source"]);r!=null&&GAe(r,t);const s=y(e,["config"]);return s!=null&&HAe(s,t),t}function KAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>N1(r))),w(e,["generatedImages"],i)}return e}function GAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["personImage"]);e!==void 0&&r!=null&&w(e,["instances[0]","personImage","image"],Yo(r));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>OAe(o))),w(e,["instances[0]","productImages"],a)}return t}function zAe(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Yo(t));const i=y(n,["referenceId"]);i!=null&&w(e,["referenceId"],i);const r=y(n,["referenceType"]);r!=null&&w(e,["referenceType"],r);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],QAe(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],Moe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function v6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function y6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function qAe(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function $Ae(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],Yo(t)),e}function jAe(n,e){const t={},i=y(n,["mode"]);e!==void 0&&i!=null&&w(e,["parameters","mode"],i);const r=y(n,["maxPredictions"]);e!==void 0&&r!=null&&w(e,["parameters","maxPredictions"],r);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function WAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["source"]);r!=null&&XAe(r,t);const s=y(e,["config"]);return s!=null&&jAe(s,t),t}function YAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>bAe(r))),w(e,["generatedMasks"],i)}return e}function XAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Yo(r));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],$Ae(s)),t}function w6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function JAe(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],eAe(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function ZAe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],_Ae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],TAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function b6(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>tAe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function ele(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function tle(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function nle(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function ile(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function rle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","name"],Gt(n,i));const r=y(e,["config"]);return r!=null&&nle(r,t),t}function sle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["config"]);return r!=null&&ile(r,t),t}function ale(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&w(e,["parameters","safetySetting"],r);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function ole(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Gt(n,i));const r=y(e,["image"]);r!=null&&w(t,["instances[0]","image"],Yo(r));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&ale(a,t),t}function Ale(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>N1(s))),w(e,["generatedImages"],r)}return e}function lle(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],rf(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function ule(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],rf(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function cle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],Yo(t));const i=y(n,["maskMode"]);return i!=null&&w(e,["maskMode"],i),e}function dle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],L1(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function fle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],Yo(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function C6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["encodedVideo"],rf(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["encoding"],r),e}function B6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["bytesBase64Encoded"],rf(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hle(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["displayName"],i),t}function ple(n){const e={},t=y(n,["config"]);return t!=null&&hle(t,e),e}function gle(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function mle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&gle(i,e),e}function vle(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function yle(n,e){const t={},i=y(n,["customMetadata"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const r=y(n,["chunkingConfig"]);return e!==void 0&&r!=null&&w(e,["chunkingConfig"],r),t}function wle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Cle(a)),e}function ble(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["fileName"]);i!=null&&w(e,["fileName"],i);const r=y(n,["config"]);return r!=null&&yle(r,e),e}function Cle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function Ble(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Ele(n){const e={},t=y(n,["config"]);return t!=null&&Ble(t,e),e}function Sle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function E6(n,e){const t={},i=y(n,["mimeType"]);e!==void 0&&i!=null&&w(e,["mimeType"],i);const r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function xle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["config"]);return i!=null&&E6(i,e),e}function _le(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tle="Content-Type",Ile="X-Server-Timeout",Fle="User-Agent",PR="x-goog-api-client",Mle="1.31.0",Ule=`google-genai-sdk/${Mle}`,Ple="v1beta1",Rle="v1beta",oK=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Dle{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Ple,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Rle,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))r.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&Nle(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await AK(r),new TR(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await AK(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return em(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield Dn(r.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,b=g.code,C=`got status: ${v}. ${JSON.stringify(h)}`;if(b>=400&&b<600)throw new R1({message:C,status:b})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(oK);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Dn(new TR(g)),a=a.slice(d[0].length),d=a.match(oK)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=Ule+" "+this.clientOptions.userAgentExtra;return e[Fle]=t,e[PR]=t,e[Tle]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))i.append(r,s);e.timeout&&e.timeout>0&&i.append(Ile,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);r.sizeBytes=String(a.size);const o=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=o;const l={file:r},u=this.getFileName(e),d=Ie("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,i){var r;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};i!=null&&E6(i,h);const g=await this.fetchUploadUrl(u,o,l,d,h,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function AK(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new R1({message:r,status:t}):new Error(r)}}function Nle(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=i(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lle="mcp_used/unknown";let Qle=!1;function S6(n){for(const e of n)if(kle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Qle}function x6(n){var e;const t=(e=n[PR])!==null&&e!==void 0?e:"";n[PR]=(t+` ${Lle}`).trimStart()}function kle(n){return n!==null&&typeof n=="object"&&n instanceof RQ}function Ole(n,e=100){return em(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield Dn(n.listTools({cursor:i}));for(const a of s.tools)yield yield Dn(a),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class RQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new RQ(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,Mw(Ole(d))),u;u=await l.next(),e=u.done,!e;o=!0){r=u.value,o=!1;const h=r;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),vse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await r.callTool({name:i.name,arguments:i.args},void 0,s);t.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Hle(n,e,t){const i=new use;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class Vle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=zle(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,b={onopen:g,onmessage:T=>{Hle(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(T){}},C=this.webSocketFactory.create(l,Gle(a),b);C.connect(),await d;const I={setup:{model:Gt(this.apiClient,e.model)}};return C.send(JSON.stringify(I)),new Kle(C,this.apiClient)}}class Kle{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=poe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=hoe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Kg.PLAY)}pause(){this.sendPlaybackControl(Kg.PAUSE)}stop(){this.sendPlaybackControl(Kg.STOP)}resetContext(){this.sendPlaybackControl(Kg.RESET_CONTEXT)}close(){this.conn.close()}}function Gle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function zle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $le(n,e,t){const i=new lse;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const s=JSON.parse(r);if(n.isVertexAI()){const a=voe(s);Object.assign(i,a)}else Object.assign(i,s);e(i)}class jle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new Vle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&S6(e.config.tools)&&x6(h);const g=Jle(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let K="BidiGenerateContent",V="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",V="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${K}?${V}=${k}`}let v=()=>{};const b=new Promise(k=>{v=k}),C=e.callbacks,E=function(){var k;(k=C==null?void 0:C.onopen)===null||k===void 0||k.call(C),v({})},x=this.apiClient,I={onopen:E,onmessage:k=>{$le(x,C.onmessage,k)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(k){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(k){}},T=this.webSocketFactory.create(d,Xle(g),I);T.connect(),await b;let R=Gt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const k=this.apiClient.getProject(),K=this.apiClient.getLocation();R=`projects/${k}/locations/${K}/`+R}let P={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[j_.AUDIO]}:e.config.responseModalities=[j_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],Q=[];for(const k of D)if(this.isCallableTool(k)){const K=k;Q.push(await K.tool())}else Q.push(k);Q.length>0&&(e.config.tools=Q);const H={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?P=foe(this.apiClient,H):P=doe(this.apiClient,H),delete P.config,T.send(JSON.stringify(P)),new Yle(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Wle={turnComplete:!0};class Yle{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=co(t.turns),e.isVertexAI()||(i=i.map(r=>D1(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(qle)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Wle),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:moe(e)}:t={realtimeInput:goe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Xle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Jle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lK=10;function uK(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(tm(a)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function tm(n){return"callTool"in n&&typeof n.callTool=="function"}function Zle(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>tm(r)))!==null&&i!==void 0?i:!1}function cK(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(tm(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(r)}),t}function dK(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eue extends Vu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Zle(t)||uK(t.config))return await this.generateContentInternal(l);const u=cK(t);if(u.length>0){const C=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let d,h;const g=co(l.contents),v=(s=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:lK;let b=0;for(;b<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,E=[];for(const x of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(tm(x)){const T=await x.callTool(d.functionCalls);E.push(...T)}b++,h={role:"user",parts:E},l.contents=co(l.contents),l.contents.push(C),l.contents.push(h),dK(l.config)&&(g.push(C),g.push(h))}return dK(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var i,r,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),uK(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=cK(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const a=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},o}),this.list=async t=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Pp(Tu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>tm(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&S6(e.config.tools)){const l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),x6(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const a of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(tm(a)){const o=a,l=await o.tool();for(const u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:lK;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return em(this,arguments,function*(){for(var b,C,E,x;o<s;){a&&(o++,a=!1);const P=yield Dn(u.processParamsMaybeAddMcpUsage(h)),D=yield Dn(u.generateContentStreamInternal(P)),Q=[],H=[];try{for(var I=!0,T=(C=void 0,Mw(D)),R;R=yield Dn(T.next()),b=R.done,!b;I=!0){x=R.value,I=!1;const k=x;if(yield yield Dn(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){H.push(k.candidates[0].content);for(const K of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(K.functionCall.name)){const V=yield Dn(d.get(K.functionCall.name).callTool([K.functionCall]));Q.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(k){C={error:k}}finally{try{!I&&!b&&(E=T.return)&&(yield Dn(E.call(T)))}finally{if(C)throw C.error}}if(Q.length>0){a=!0;const k=new _0;k.candidates=[{content:{role:"user",parts:Q}}],yield yield Dn(k);const K=[];K.push(...H),K.push({role:"user",parts:Q});const V=co(h.contents).concat(K);h.contents=V}else break}})})(this,l,e)}async generateContentInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=rK(this.apiClient,e);return o=Ie("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=aK(d),g=new _0;return Object.assign(g,h),g})}else{const u=iK(this.apiClient,e);return o=Ie("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sK(d),g=new _0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=rK(this.apiClient,e);return o=Ie("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(h){return em(this,arguments,function*(){var g,v,b,C;try{for(var E=!0,x=Mw(h),I;I=yield Dn(x.next()),g=I.done,!g;E=!0){C=I.value,E=!1;const T=C,R=aK(yield Dn(T.json()));R.sdkHttpResponse={headers:T.headers};const P=new _0;Object.assign(P,R),yield yield Dn(P)}}catch(T){v={error:T}}finally{try{!E&&!g&&(b=x.return)&&(yield Dn(b.call(x)))}finally{if(v)throw v.error}}})})}else{const u=iK(this.apiClient,e);return o=Ie("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return em(this,arguments,function*(){var g,v,b,C;try{for(var E=!0,x=Mw(h),I;I=yield Dn(x.next()),g=I.done,!g;E=!0){C=I.value,E=!1;const T=C,R=sK(yield Dn(T.json()));R.sdkHttpResponse={headers:T.headers};const P=new _0;Object.assign(P,R),yield yield Dn(P)}}catch(T){v={error:T}}finally{try{!E&&!g&&(b=x.return)&&(yield Dn(b.call(x)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=joe(this.apiClient,e);return o=Ie("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Yoe(d),g=new O3;return Object.assign(g,h),g})}else{const u=$oe(this.apiClient,e);return o=Ie("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Woe(d),g=new O3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=oAe(this.apiClient,e);return o=Ie("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=lAe(d),g=new H3;return Object.assign(g,h),g})}else{const u=aAe(this.apiClient,e);return o=Ie("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=AAe(d),g=new H3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Koe(this.apiClient,e);return s=Ie("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Goe(l),d=new Jre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=ole(this.apiClient,e);return s=Ie("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Ale(l),d=new Zre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=VAe(this.apiClient,e);return s=Ie("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=KAe(l),d=new ese;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=WAe(this.apiClient,e);return s=Ie("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=YAe(l),d=new tse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=xAe(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>UR(d))}else{const u=SAe(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>MR(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=DAe(this.apiClient,e);return o=Ie("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=LAe(d),g=new V3;return Object.assign(g,h),g})}else{const u=RAe(this.apiClient,e);return o=Ie("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=NAe(d),g=new V3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=sle(this.apiClient,e);return o=Ie("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>UR(d))}else{const u=rle(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>MR(d))}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=koe(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Hoe(d),g=new K3;return Object.assign(g,h),g})}else{const u=Qoe(this.apiClient,e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Ooe(d),g=new K3;return Object.assign(g,h),g})}}async countTokens(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Doe(this.apiClient,e);return o=Ie("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Loe(d),g=new G3;return Object.assign(g,h),g})}else{const u=Roe(this.apiClient,e);return o=Ie("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Noe(d),g=new G3;return Object.assign(g,h),g})}}async computeTokens(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=_oe(this.apiClient,e);return s=Ie("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Toe(l),d=new nse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=pAe(this.apiClient,e);return o=Ie("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const h=fAe(d),g=new W_;return Object.assign(g,h),g})}else{const u=hAe(this.apiClient,e);return o=Ie("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=dAe(d),g=new W_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tue extends Vu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=qre(e);return o=Ie("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}else{const u=zre(e);return o=Ie("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Qre(e);return s=Ie("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nue(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function iue(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>due(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function rue(n,e,t){const i={},r=y(e,["expireTime"]);t!==void 0&&r!=null&&w(t,["expireTime"],r);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],cue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),i}function sue(n,e){const t={},i=y(e,["config"]);return i!=null&&w(t,["config"],rue(n,i,t)),t}function aue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function oue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Aue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function lue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function uue(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],PQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],iue(jr(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=Ey(C);Array.isArray(D)&&(D=D.map(Q=>hue(By(Q)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],fue(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function cue(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Gt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],uue(r,t)),t}function due(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],aue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],oue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],nue(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function fue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Aue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],lue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pue(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function gue(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=pue(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];r.length>0&&(o=r.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class mue extends Vu{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=sue(this.apiClient,e);s=Ie("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=gue(o,e.config);return r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vue(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function yue(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&vue(i,e),e}function wue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function bue(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Cue(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const i=y(n,["config"]);return i!=null&&bue(i,e),e}function Bue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eue extends Vu{constructor(e){super(),this.apiClient=e,this.list=async t=>new Pp(Tu.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wue(e);return s=Ie("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yue(e);r=Ie("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cue(e);return s=Ie("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Bue(l),d=new ise;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sue extends Vu{constructor(e,t=new Eue(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new Pp(Tu.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ple(e);return s=Ie("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vle(e);return s=Ie("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=mle(e);r=Ie("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ele(e);return s=Ie("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Sle(l),d=new rse;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=xle(e);return s=Ie("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=_le(l),d=new sse;return Object.assign(d,u),d})}}async importFile(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ble(e);return s=Ie("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=wle(l),d=new TQ;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function _ue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Tue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function Iue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function Fue(n,e,t){const i={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=y(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&w(e,["displayName"],r),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Mue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],fK(v))}else if(r==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],fK(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),i}function Uue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&Kue(s);const a=y(n,["config"]);return a!=null&&Fue(a,t),t}function Pue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&Gue(s,t,e);const a=y(n,["config"]);return a!=null&&Mue(a,t,e),t}function Rue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Due(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Nue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Lue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Que(n,e){const t={},i=y(n,["config"]);return i!=null&&Nue(i,t),t}function kue(n,e){const t={},i=y(n,["config"]);return i!=null&&Lue(i,t),t}function Oue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>_6(o))),w(t,["tuningJobs"],a)}return t}function Hue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>RR(o))),w(t,["tuningJobs"],a)}return t}function Vue(n,e){const t={},i=y(n,["name"]);i!=null&&w(t,["model"],i);const r=y(n,["name"]);return r!=null&&w(t,["endpoint"],r),t}function Kue(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=y(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(t,["examples","examples"],r)}return t}function Gue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(r==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function _6(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],o6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],Vue(g)),t}function RR(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],o6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const b=y(n,["preTunedModel"]);b!=null&&w(t,["preTunedModel"],b);const C=y(n,["supervisedTuningSpec"]);C!=null&&w(t,["supervisedTuningSpec"],C);const E=y(n,["preferenceOptimizationSpec"]);E!=null&&w(t,["preferenceOptimizationSpec"],E);const x=y(n,["tuningDataStats"]);x!=null&&w(t,["tuningDataStats"],x);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const R=y(n,["customBaseModel"]);R!=null&&w(t,["customBaseModel"],R);const P=y(n,["experiment"]);P!=null&&w(t,["experiment"],P);const D=y(n,["labels"]);D!=null&&w(t,["labels"],D);const Q=y(n,["outputUri"]);Q!=null&&w(t,["outputUri"],Q);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const k=y(n,["serviceAccount"]);k!=null&&w(t,["serviceAccount"],k);const K=y(n,["tunedModelDisplayName"]);K!=null&&w(t,["tunedModelDisplayName"],K);const V=y(n,["veoTuningSpec"]);return V!=null&&w(t,["veoTuningSpec"],V),t}function zue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function fK(n,e){const t={},i=y(n,["gcsUri"]);i!=null&&w(t,["validationDatasetUri"],i);const r=y(n,["vertexDatasetResource"]);return r!=null&&w(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class que extends Vu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Pp(Tu.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),s=await this.tuneMldevInternal(r);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:_R.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Due(e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>RR(d))}else{const u=Rue(e);return o=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>_6(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=kue(e);return o=Ie("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Hue(d),g=new z3;return Object.assign(g,h),g})}else{const u=Que(e);return o=Ie("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Oue(d),g=new z3;return Object.assign(g,h),g})}}async cancel(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=_ue(e);return o=Ie("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Iue(d),g=new q3;return Object.assign(g,h),g})}else{const u=xue(e);return o=Ie("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Tue(d),g=new q3;return Object.assign(g,h),g})}}async tuneInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Pue(e,e);return s=Ie("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>RR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Uue(e);return s=Ie("tunedModels",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>zue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $ue{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const jue=1024*1024*8,Wue=3,Yue=1e3,Xue=2,X_="x-goog-upload-status";async function Jue(n,e,t){var i;const r=await T6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[X_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Zue(n,e,t){var i;const r=await T6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[X_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=t6(s),o=new IQ;return Object.assign(o,a),o}async function T6(n,e,t){var i,r;let s=0,a=0,o=new TR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(jue,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=Yue;for(;h<Wue&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((i=o==null?void 0:o.headers)===null||i===void 0)&&i[X_]));)h++,await tce(g),g=g*Xue;if(a+=u,((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[X_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function ece(n){return{size:n.size,type:n.type}}function tce(n){return new Promise(e=>setTimeout(e,n))}class nce{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Jue(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Zue(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ece(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ice{create(e,t,i){return new rce(e,t,i)}}class rce{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hK="x-goog-api-key";class sce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(hK)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hK,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ace="gl-node/";class oce{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=Nre(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new sce(this.apiKey);this.apiClient=new Dle({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ace+"web",uploader:new nce,downloader:new $ue}),this.models=new eue(this.apiClient),this.live=new jle(this.apiClient,r,new ice),this.batches=new cae(this.apiClient),this.chats=new qae(this.models,this.apiClient),this.caches=new Kae(this.apiClient),this.files=new noe(this.apiClient),this.operations=new tue(this.apiClient),this.authTokens=new mue(this.apiClient),this.tunings=new que(this.apiClient),this.fileSearchStores=new Sue(this.apiClient)}}const Ace="AIzaSyCsuOQli4AjSdQxo1VCTf5d_0JO5EW_ecQ",lce=new oce({apiKey:Ace}),uce="gemini-2.5-flash",I6=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
      Language: Respond in Korean.
    `;return(await lce.models.generateContent({model:uce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},os=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),DR=[.001,0,0,.001,0,0],nU=1.35,ga={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Fc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Kw="pdfjs_internal_editor_",ft={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},cce={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},NR={TRIANGLES:1,LATTICE:2},yr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Gx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Fi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ig={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Q1={ERRORS:0,WARNINGS:1,INFOS:5},Gw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},T0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},dce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let k1=Q1.WARNINGS;function fce(n){Number.isInteger(n)&&(k1=n)}function hce(){return k1}function O1(n){k1>=Q1.INFOS&&console.info(`Info: ${n}`)}function ut(n){k1>=Q1.WARNINGS&&console.warn(`Warning: ${n}`)}function Sn(n){throw new Error(n)}function Rt(n,e){n||Sn(e)}function pce(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function F6(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=wce(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return pce(i)?i:null}function M6(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&F6(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ct(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Rp=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class pK extends Rp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class iU extends Rp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let LR=class extends Rp{constructor(e){super(e,"InvalidPDFException")}},J_=class extends Rp{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}};class gce extends Rp{constructor(e){super(e,"FormatError")}}let Wd=class extends Rp{constructor(e){super(e,"AbortException")}};function U6(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Sn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function GB(n){typeof n!="string"&&Sn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function mce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function vce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function yce(){try{return new Function(""),!0}catch{return!1}}class Rr{static get isLittleEndian(){return ct(this,"isLittleEndian",vce())}static get isEvalSupported(){return ct(this,"isEvalSupported",yce())}static get isOffscreenCanvasSupported(){return ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ct(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return ct(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return ct(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return ct(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ct(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const rU=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Eu,bR,zx,QR;let Ke=(bR=class{static makeHexColor(e,t,i){return`#${rU[e]}${rU[t]}${rU[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[i+d],g=e[i+d+1];e[i+d]=h*r+g*a+l,e[i+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let b=r*d+l,C=b,E=r*g+l,x=E,I=o*h+u,T=I,R=o*v+u,P=R;if(s!==0||a!==0){const D=s*d,Q=s*g,H=a*h,k=a*v;b+=H,x+=H,E+=k,C+=k,I+=D,P+=D,R+=Q,T+=Q}i[0]=Math.min(i[0],b,E,C,x),i[1]=Math.min(i[1],I,R,T,P),i[2]=Math.max(i[2],b,E,C,x),i[3]=Math.max(i[3],I,R,T,P)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],a=e[3],o=i**2+r**2,l=i*s+r*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),U(this,Eu,QR).call(this,e,i,s,o,t,r,a,l,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),u),U(this,Eu,QR).call(this,e,i,s,o,t,r,a,l,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),u)}},Eu=new WeakSet,zx=function(e,t,i,r,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,b=h*(h*(h*e+3*u*t)+3*g*i)+v*r,C=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],b),d[1]=Math.min(d[1],C),d[2]=Math.max(d[2],b),d[3]=Math.max(d[3],C)},QR=function(e,t,i,r,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&U(this,Eu,zx).call(this,e,t,i,r,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const b=Math.sqrt(v),C=2*u;U(this,Eu,zx).call(this,e,t,i,r,s,a,o,l,(-d+b)/C,g),U(this,Eu,zx).call(this,e,t,i,r,s,a,o,l,(-d-b)/C,g)},F(bR,Eu),bR);function wce(n){return decodeURIComponent(escape(n))}let sU=null,gK=null;function bce(n){return sU||(sU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gK=new Map([["","t"]])),n.replaceAll(sU,(e,t,i)=>t?t.normalize("NFKC"):gK.get(i))}function P6(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),U6(n)}const Gg="pdfjs_internal_id_";function Cce(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function As(n,e,t){return Math.min(Math.max(n,e),t)}function R6(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(U6(n))}function Bce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):GB(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class zw{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(zw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let D6=class{static setupStorage(e,t,i,r,s){const a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var h,g;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);a.append(v),o&&zw.shouldBuildText(r.name)&&u.push(v)}return{textDivs:u}}const d=[[r,-1,a]];for(;d.length>0;){const[v,b,C]=d.at(-1);if(b+1===v.children.length){d.pop();continue}const E=v.children[++d.at(-1)[1]];if(E===null)continue;const{name:x}=E;if(x==="#text"){const T=document.createTextNode(E.value);u.push(T),C.append(T);continue}const I=(h=E==null?void 0:E.attributes)!=null&&h.xmlns?document.createElementNS(E.attributes.xmlns,x):document.createElement(x);if(C.append(I),E.attributes&&this.setAttributes({html:I,element:E,storage:t,intent:s,linkService:i}),((g=E.children)==null?void 0:g.length)>0)d.push([E,-1,I]);else if(E.value){const T=document.createTextNode(E.value);o&&zw.shouldBuildText(x)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const hl="http://www.w3.org/2000/svg";var NA;let ry=(NA=class{},ge(NA,"CSS",96),ge(NA,"PDF",72),ge(NA,"PDF_TO_CSS_UNITS",NA.CSS/NA.PDF),NA);async function zB(n,e="text"){if(j0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class qB{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=a,i*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let b,C,E,x;d===0?(b=Math.abs(u-e[1])*i+s,C=Math.abs(l-e[0])*i+a,E=(e[3]-e[1])*i,x=(e[2]-e[0])*i):(b=Math.abs(l-e[0])*i+s,C=Math.abs(u-e[1])*i+a,E=(e[2]-e[0])*i,x=(e[3]-e[1])*i),this.transform=[d*i,h*i,g*i,v*i,b-d*i*l-g*i*u,C-h*i*l-v*i*u],this.width=E,this.height=x}get rawDims(){const e=this.viewBox;return ct(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new qB({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return Ke.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];Ke.applyTransform(t,this.transform);const i=[e[2],e[3]];return Ke.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return Ke.applyInverseTransform(i,this.transform),i}}let DQ=class extends Rp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function H1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function NQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Ece(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Sce(n,e="document.pdf"){if(typeof n!="string")return e;if(H1(n))return ut('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(s.test(a))return r(a);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const u of o)if(s.test(u))return r(u);const l=Array.from(i.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return r(u)}if(i.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(l)return r(l[0])}return e}class mK{constructor(){ge(this,"started",Object.create(null));ge(this,"times",[])}time(e){e in this.started&&ut(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ut(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function j0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function po(n){n.preventDefault()}function ri(n){n.preventDefault(),n.stopPropagation()}function xce(n){console.log("Deprecated API usage: "+n)}var CR,fb;let kR=(CR=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,fb)||_(this,fb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,fb).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(i,r,s,a,o,l))}},fb=new WeakMap,F(CR,fb),CR);function _ce(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new qB({viewBox:s,userUnit:1,scale:e,rotation:t})}function $B(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ut(`Not a valid color format: "${n}"`),[0,0,0])}function Tce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,$B(i))}e.remove()}function qn(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function sA(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function Ep(n,e,t=!1,i=!0){if(e instanceof qB){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=Rr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}let Sp=class OR{constructor(){const{pixelRatio:e}=OR;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let a=1/0,o=1/0,l=1/0;i=OR.capPixels(i,s),i>0&&(a=Math.sqrt(i/(e*t))),r!==-1&&(o=r/e,l=r/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}};const HR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Ice{static get isDarkMode(){var e;return ct(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let Fce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),ct(this,"commentForegroundColor",$B(i))}};function Mce(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function vK(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),a=Math.min(t,i,r),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((i-r)/l+(i<r?6:0))*60;break;case i:e[0]=((r-t)/l+2)*60;break;case r:e[0]=((t-i)/l+4)*60;break}}e[2]=o}function VR(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,a=s*(1-Math.abs(t/60%2-1)),o=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function yK(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function wK(n,e,t){VR(n,t),t.map(yK);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];VR(e,t),t.map(yK);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const bK=new Map;function Uce(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=bK.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),a=r.subarray(3,6);vK(n,a);const o=r.subarray(6,9);vK(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),wK(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===wK(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return VR(a,s),i=Ke.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),bK.set(t,i),i}function N6({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}r.append(s)}else D6.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function L6(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case T0.moveTo:e.moveTo(n[t++],n[t++]);break;case T0.lineTo:e.lineTo(n[t++],n[t++]);break;case T0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case T0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case T0.closePath:e.closePath();break;default:ut(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Uc,Pc,Ga,za,hb,Rc,Am,lm,pb,l1,Q6,Mr,k6,O6,Fg,W0;const vl=class vl{constructor(e){F(this,Mr);F(this,Uc,null);F(this,Pc,null);F(this,Ga);F(this,za,null);F(this,hb,null);F(this,Rc,null);F(this,Am,null);F(this,lm,null);_(this,Ga,e),f(vl,pb)||_(vl,pb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,Uc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,Ga)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",po,{signal:t}),e.addEventListener("pointerdown",U(vl,l1,Q6),{signal:t}));const i=_(this,za,document.createElement("div"));i.className="buttons",e.append(i);const r=f(this,Ga).toolbarPosition;if(r){const{style:s}=e,a=f(this,Ga)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,Uc)}hide(){var e;f(this,Uc).classList.add("hidden"),(e=f(this,Pc))==null||e.hideDropdown()}show(){var e,t;f(this,Uc).classList.remove("hidden"),(e=f(this,hb))==null||e.shown(),(t=f(this,Rc))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,Ga),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",f(vl,pb)[e]),U(this,Mr,Fg).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),f(this,za).append(i)}async addAltText(e){const t=await e.render();U(this,Mr,Fg).call(this,t),f(this,za).append(t,f(this,Mr,W0)),_(this,hb,e)}addComment(e,t=null){if(f(this,Rc))return;const i=e.renderForToolbar();if(!i)return;U(this,Mr,Fg).call(this,i);const r=_(this,Am,f(this,Mr,W0));t?(f(this,za).insertBefore(i,t),f(this,za).insertBefore(r,t)):f(this,za).append(i,r),_(this,Rc,e),e.toolbar=this}addColorPicker(e){if(f(this,Pc))return;_(this,Pc,e);const t=e.renderButton();U(this,Mr,Fg).call(this,t),f(this,za).append(t,f(this,Mr,W0))}async addEditSignatureButton(e){const t=_(this,lm,await e.renderEditButton(f(this,Ga)));U(this,Mr,Fg).call(this,t),f(this,za).append(t,f(this,Mr,W0))}removeButton(e){var t,i;switch(e){case"comment":(t=f(this,Rc))==null||t.removeToolbarCommentButton(),_(this,Rc,null),(i=f(this,Am))==null||i.remove(),_(this,Am,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=f(this,za).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){f(this,lm)&&(f(this,lm).title=e)}remove(){var e;f(this,Uc).remove(),(e=f(this,Pc))==null||e.destroy(),_(this,Pc,null)}};Uc=new WeakMap,Pc=new WeakMap,Ga=new WeakMap,za=new WeakMap,hb=new WeakMap,Rc=new WeakMap,Am=new WeakMap,lm=new WeakMap,pb=new WeakMap,l1=new WeakSet,Q6=function(e){e.stopPropagation()},Mr=new WeakSet,k6=function(e){f(this,Ga)._focusEventsAllowed=!1,ri(e)},O6=function(e){f(this,Ga)._focusEventsAllowed=!0,ri(e)},Fg=function(e){const t=f(this,Ga)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",U(this,Mr,k6).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",U(this,Mr,O6).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",po,{signal:t}),!0)},W0=function(){const e=document.createElement("div");return e.className="divider",e},F(vl,l1),F(vl,pb,null);let KR=vl;var gb,Gf,Cl,Qu,H6,V6,GR;class Pce{constructor(e){F(this,Qu);F(this,gb,null);F(this,Gf,null);F(this,Cl);_(this,Cl,e)}show(e,t,i){const[r,s]=U(this,Qu,V6).call(this,t,i),{style:a}=f(this,Gf)||_(this,Gf,U(this,Qu,H6).call(this));e.append(f(this,Gf)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,Gf).remove()}}gb=new WeakMap,Gf=new WeakMap,Cl=new WeakMap,Qu=new WeakSet,H6=function(){const e=_(this,Gf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,Cl)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",po,{signal:t});const i=_(this,gb,document.createElement("div"));return i.className="buttons",e.append(i),f(this,Cl).hasCommentManager()&&U(this,Qu,GR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,Cl).commentSelection("floating_button")}),U(this,Qu,GR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,Cl).highlightSelection("floating_button")}),e},V6=function(e,t){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]},GR=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const o=f(this,Cl)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",po,{signal:o}),s.addEventListener("click",r,{signal:o})),f(this,gb).append(s)};function K6(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var zf,qf,um,$f;const cn=class cn{static initializeAndAddPointerId(e){(f(cn,qf)||_(cn,qf,new Set)).add(e)}static setPointer(e,t){f(cn,zf)||_(cn,zf,t),f(cn,$f)??_(cn,$f,e)}static setTimeStamp(e){_(cn,um,e)}static isSamePointerId(e){return f(cn,zf)===e}static isSamePointerIdOrRemove(e){var t;return f(cn,zf)===e?!0:((t=f(cn,qf))==null||t.delete(e),!1)}static isSamePointerType(e){return f(cn,$f)===e}static isInitializedAndDifferentPointerType(e){return f(cn,$f)!==null&&!cn.isSamePointerType(e)}static isSameTimeStamp(e){return f(cn,um)===e}static isUsingMultiplePointers(){var e;return((e=f(cn,qf))==null?void 0:e.size)>=1}static clearPointerType(){_(cn,$f,null)}static clearPointerIds(){_(cn,zf,NaN),_(cn,qf,null)}static clearTimeStamp(){_(cn,um,NaN)}};zf=new WeakMap,qf=new WeakMap,um=new WeakMap,$f=new WeakMap,F(cn,zf,NaN),F(cn,qf,null),F(cn,um,NaN),F(cn,$f,null);let Qr=cn;var u1;class Rce{constructor(){F(this,u1,0)}get id(){return`${Kw}${ci(this,u1)._++}`}}u1=new WeakMap;var cm,mb,kr,dm,qx;const LO=class LO{constructor(){F(this,dm);F(this,cm,P6());F(this,mb,0);F(this,kr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ct(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return U(this,dm,qx).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return U(this,dm,qx).call(this,e,e)}async getFromBlob(e,t){const i=await t;return U(this,dm,qx).call(this,e,i)}async getFromId(e){f(this,kr)||_(this,kr,new Map);const t=f(this,kr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,kr)||_(this,kr,new Map);let i=f(this,kr).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${f(this,cm)}_${ci(this,mb)._++}`,refCounter:1,isSvg:!1},f(this,kr).set(e,i),f(this,kr).set(i.id,i),i}getSvgUrl(e){const t=f(this,kr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;f(this,kr)||_(this,kr,new Map);const t=f(this,kr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,cm)}_`)}};cm=new WeakMap,mb=new WeakMap,kr=new WeakMap,dm=new WeakSet,qx=async function(e,t){f(this,kr)||_(this,kr,new Map);let i=f(this,kr).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${f(this,cm)}_${ci(this,mb)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await zB(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=LO._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},a.onload=async()=>{const h=i.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){ut(r),i=null}return f(this,kr).set(e,i),i&&f(this,kr).set(i.id,i),i};let zR=LO;var hi,Dc,vb,zn;class Dce{constructor(e=128){F(this,hi,[]);F(this,Dc,!1);F(this,vb);F(this,zn,-1);_(this,vb,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),f(this,Dc))return;const l={cmd:e,undo:t,post:i,type:s};if(f(this,zn)===-1){f(this,hi).length>0&&(f(this,hi).length=0),_(this,zn,0),f(this,hi).push(l);return}if(a&&f(this,hi)[f(this,zn)].type===s){o&&(l.undo=f(this,hi)[f(this,zn)].undo),f(this,hi)[f(this,zn)]=l;return}const u=f(this,zn)+1;u===f(this,vb)?f(this,hi).splice(0,1):(_(this,zn,u),u<f(this,hi).length&&f(this,hi).splice(u)),f(this,hi).push(l)}undo(){if(f(this,zn)===-1)return;_(this,Dc,!0);const{undo:e,post:t}=f(this,hi)[f(this,zn)];e(),t==null||t(),_(this,Dc,!1),_(this,zn,f(this,zn)-1)}redo(){if(f(this,zn)<f(this,hi).length-1){_(this,zn,f(this,zn)+1),_(this,Dc,!0);const{cmd:e,post:t}=f(this,hi)[f(this,zn)];e(),t==null||t(),_(this,Dc,!1)}}hasSomethingToUndo(){return f(this,zn)!==-1}hasSomethingToRedo(){return f(this,zn)<f(this,hi).length-1}cleanType(e){if(f(this,zn)!==-1){for(let t=f(this,zn);t>=0;t--)if(f(this,hi)[t].type!==e){f(this,hi).splice(t+1,f(this,zn)-t),_(this,zn,t);return}f(this,hi).length=0,_(this,zn,-1)}}destroy(){_(this,hi,null)}}hi=new WeakMap,Dc=new WeakMap,vb=new WeakMap,zn=new WeakMap;var c1,G6;class jB{constructor(e){F(this,c1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Rr.platform;for(const[i,r,s={}]of e)for(const a of i){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(U(this,c1,G6).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||ri(t))}}c1=new WeakSet,G6=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const d1=class d1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Tce(e),ct(this,"_colors",e)}convert(e){const t=$B(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return d1._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Ke.makeHexColor(...t):e}};ge(d1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let qR=d1;var fm,Xs,hm,Xn,ki,pm,qa,gm,$a,Or,Nc,Lc,mm,Qc,uA,ja,jf,yb,wb,vm,bb,cA,kc,ym,Oc,dA,f1,Hc,wm,Cb,Vc,Wf,bm,Kc,Bb,Mi,nn,Bl,Gc,zc,Eb,Cm,Sb,qc,fA,El,xb,_b,Wa,mu,Te,$x,$R,z6,q6,Y0,$6,j6,W6,jR,Y6,X6,J6,Z6,es,pl,ej,tj,WR,nj,X0,YR;let qw=(mu=class{constructor(e,t,i,r,s,a,o,l,u,d,h,g,v,b,C,E){F(this,Te);F(this,fm,new AbortController);F(this,Xs,null);F(this,hm,null);F(this,Xn,new Map);F(this,ki,new Map);F(this,pm,null);F(this,qa,null);F(this,gm,null);F(this,$a,new Dce);F(this,Or,null);F(this,Nc,null);F(this,Lc,null);F(this,mm,0);F(this,Qc,new Set);F(this,uA,null);F(this,ja,null);F(this,jf,new Set);ge(this,"_editorUndoBar",null);F(this,yb,!1);F(this,wb,!1);F(this,vm,!1);F(this,bb,null);F(this,cA,null);F(this,kc,null);F(this,ym,null);F(this,Oc,!1);F(this,dA,null);F(this,f1,new Rce);F(this,Hc,!1);F(this,wm,!1);F(this,Cb,!1);F(this,Vc,null);F(this,Wf,null);F(this,bm,null);F(this,Kc,null);F(this,Bb,null);F(this,Mi,ft.NONE);F(this,nn,new Set);F(this,Bl,null);F(this,Gc,null);F(this,zc,null);F(this,Eb,null);F(this,Cm,null);F(this,Sb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});F(this,qc,[0,0]);F(this,fA,null);F(this,El,null);F(this,xb,null);F(this,_b,null);F(this,Wa,null);const x=this._signal=f(this,fm).signal;_(this,El,e),_(this,xb,t),_(this,_b,i),_(this,pm,r),_(this,Or,s),_(this,Gc,a),_(this,Cm,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:x}),window.addEventListener("pointerdown",()=>{_(this,wm,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{_(this,wm,!1)},{capture:!0,signal:x}),U(this,Te,$6).call(this),U(this,Te,Z6).call(this),U(this,Te,jR).call(this),_(this,qa,l.annotationStorage),_(this,bb,l.filterFactory),_(this,zc,u),_(this,ym,d||null),_(this,yb,h),_(this,wb,g),_(this,vm,v),_(this,Bb,b||null),this.viewParameters={realScale:ry.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=C||null,this._supportsPinchToZoom=E!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=mu.prototype,t=a=>f(a,El).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ct(this,"_keyboardManager",new jB([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,El).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,El).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,a,o,l,u;(e=f(this,Wa))==null||e.resolve(),_(this,Wa,null),(t=f(this,fm))==null||t.abort(),_(this,fm,null),this._signal=null;for(const d of f(this,ki).values())d.destroy();f(this,ki).clear(),f(this,Xn).clear(),f(this,jf).clear(),(i=f(this,Kc))==null||i.clear(),_(this,Xs,null),f(this,nn).clear(),f(this,$a).destroy(),(r=f(this,pm))==null||r.destroy(),(s=f(this,Or))==null||s.destroy(),(a=f(this,Gc))==null||a.destroy(),(o=f(this,dA))==null||o.hide(),_(this,dA,null),(l=f(this,bm))==null||l.destroy(),_(this,bm,null),_(this,hm,null),f(this,cA)&&(clearTimeout(f(this,cA)),_(this,cA,null)),f(this,fA)&&(clearTimeout(f(this,fA)),_(this,fA,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,Cm,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,Bb)}get useNewAltTextFlow(){return f(this,wb)}get useNewAltTextWhenAddingImage(){return f(this,vm)}get hcmFilter(){return ct(this,"hcmFilter",f(this,zc)?f(this,bb).addHCMFilter(f(this,zc).foreground,f(this,zc).background):"none")}get direction(){return ct(this,"direction",getComputedStyle(f(this,El)).direction)}get _highlightColors(){return ct(this,"_highlightColors",f(this,ym)?new Map(f(this,ym).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return ct(this,"highlightColors",null);const t=new Map,i=!!f(this,zc);for(const[r,s]of e){const a=r.endsWith("_HCM");if(i&&a){t.set(r.replace("_HCM",""),s);continue}!i&&!a&&t.set(r,s)}return ct(this,"highlightColors",t)}get highlightColorNames(){return ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,Lc,e)}setMainHighlightColorPicker(e){_(this,bm,e)}editAltText(e,t=!1){var i;(i=f(this,pm))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!f(this,Or)}editComment(e,t,i,r){var s;(s=f(this,Or))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=f(this,ki).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,Or))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,Or))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,Or))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=f(this,Or))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=f(this,Or))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,Or))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,ki).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=f(this,Gc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,Gc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,vm,t);break}}onPageChanging({pageNumber:e}){_(this,mm,e-1)}focusMainContainer(){f(this,El).focus()}findParent(e,t){for(const i of f(this,ki).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return i}return null}disableUserSelect(e=!1){f(this,xb).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,jf).add(e)}removeShouldRescale(e){f(this,jf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*ry.PDF_TO_CSS_UNITS;for(const i of f(this,jf))i.onScaleChanging();(t=f(this,Lc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=i,l=i.toString(),d=U(this,Te,$x).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();const g=U(this,Te,$R).call(this,d),v=f(this,Mi)===ft.NONE,b=()=>{const C=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(C==null||C.editComment())};if(v){this.switchToMode(ft.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,qa))return null;const t=`${Kw}${e}`,i=f(this,qa).getRawValue(t);return i&&f(this,qa).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&f(this,qa)&&!f(this,qa).has(e.id)&&f(this,qa).setValue(e.id,e)}a11yAlert(e,t=null){const i=f(this,_b);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,Oc)&&(_(this,Oc,!1),U(this,Te,Y0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,nn))if(t.div.contains(e)){_(this,Wf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Wf))return;const[e,t]=f(this,Wf);_(this,Wf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){U(this,Te,jR).call(this),this.setEditingState(!0)}removeEditListeners(){U(this,Te,Y6).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of f(this,ja))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of f(this,ja))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=f(this,Xs))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of f(this,nn)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,ja))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ut(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=await r.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)U(this,Te,WR).call(this,l);U(this,Te,YR).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){ut(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,Mi)!==ft.NONE&&!this.isEditorHandlingKeyboard&&mu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Oc)&&(_(this,Oc,!1),U(this,Te,Y0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(U(this,Te,j6).call(this),U(this,Te,X6).call(this),U(this,Te,es).call(this,{isEditing:f(this,Mi)!==ft.NONE,isEmpty:U(this,Te,X0).call(this),hasSomethingToUndo:f(this,$a).hasSomethingToUndo(),hasSomethingToRedo:f(this,$a).hasSomethingToRedo(),hasSelectedEditor:!1})):(U(this,Te,W6).call(this),U(this,Te,J6).call(this),U(this,Te,es).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,ja)){_(this,ja,e);for(const t of f(this,ja))U(this,Te,pl).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,f1).id}get currentLayer(){return f(this,ki).get(f(this,mm))}getLayer(e){return f(this,ki).get(e)}get currentPageIndex(){return f(this,mm)}addLayer(e){f(this,ki).set(e.pageIndex,e),f(this,Hc)?e.enable():e.disable()}removeLayer(e){f(this,ki).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){var a,o,l,u,d,h;if(f(this,Mi)!==e&&!(f(this,Wa)&&(await f(this,Wa).promise,!f(this,Wa)))){if(_(this,Wa,Promise.withResolvers()),(a=f(this,Lc))==null||a.commitOrRemove(),f(this,Mi)===ft.POPUP&&((o=f(this,Or))==null||o.hideSidebar()),(l=f(this,Or))==null||l.destroyPopup(),_(this,Mi,e),e===ft.NONE){this.setEditingState(!1),U(this,Te,tj).call(this);for(const g of f(this,Xn).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,Wa).resolve();return}for(const g of f(this,Xn).values())g.addStandaloneCommentButton();e===ft.SIGNATURE&&await((d=f(this,Gc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await U(this,Te,ej).call(this),this.unselectAll();for(const g of f(this,ki).values())g.updateMode(e);if(e===ft.POPUP){f(this,hm)||_(this,hm,await f(this,Cm).getAnnotationsByType(new Set(f(this,ja).map(b=>b._editorType))));const g=new Set,v=[];for(const b of f(this,Xn).values()){const{annotationElementId:C,hasComment:E,deleted:x}=b;C&&g.add(C),E&&!x&&v.push(b.getData())}for(const b of f(this,hm)){const{id:C,popupRef:E,contentsObj:x}=b;E&&(x!=null&&x.str)&&!g.has(C)&&!f(this,Qc).has(C)&&v.push(b)}(h=f(this,Or))==null||h.showSidebar(v)}if(!t){i&&this.addNewEditorFromKeyboard(),f(this,Wa).resolve();return}for(const g of f(this,Xn).values())g.uid===t?(this.setSelected(g),s?g.editComment():r?g.enterInEditMode():g.focus()):g.unselect();f(this,Wa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,Mi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,ja)){switch(e){case Pt.CREATE:this.currentLayer.addNewEditor(t);return;case Pt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Eb)||_(this,Eb,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of f(this,nn))i.updateParams(e,t);else for(const i of f(this,ja))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const a of f(this,Xn).values())a.editorType===e&&a.show(t);(((s=f(this,Eb))==null?void 0:s.get(Pt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&U(this,Te,pl).call(this,[[Pt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,Cb)!==e){_(this,Cb,e);for(const t of f(this,ki).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,Xn).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,Xn).get(e)}addEditor(e){f(this,Xn).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(f(this,cA)&&clearTimeout(f(this,cA)),_(this,cA,setTimeout(()=>{this.focusMainContainer(),_(this,cA,null)},0))),f(this,Xn).delete(e.id),e.annotationElementId&&((t=f(this,Kc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,Qc).has(e.annotationElementId))&&((i=f(this,qa))==null||i.remove(e.id))}addDeletedAnnotationElement(e){f(this,Qc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,Qc).has(e)}removeDeletedAnnotationElement(e){f(this,Qc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Xs)!==e&&(_(this,Xs,e),e&&U(this,Te,pl).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Te,nj)===e&&U(this,Te,pl).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){U(this,Te,pl).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,nn).has(e)){f(this,nn).delete(e),e.unselect(),U(this,Te,es).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,nn).add(e),e.select(),U(this,Te,pl).call(this,e.propertiesToUpdate),U(this,Te,es).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,Lc))==null||t.commitOrRemove();for(const i of f(this,nn))i!==e&&i.unselect();f(this,nn).clear(),f(this,nn).add(e),e.select(),U(this,Te,pl).call(this,e.propertiesToUpdate),U(this,Te,es).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,nn).has(e)}get firstSelectedEditor(){return f(this,nn).values().next().value}unselect(e){e.unselect(),f(this,nn).delete(e),U(this,Te,es).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,nn).size!==0}get isEnterHandled(){return f(this,nn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,$a).undo(),U(this,Te,es).call(this,{hasSomethingToUndo:f(this,$a).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:U(this,Te,X0).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,$a).redo(),U(this,Te,es).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,$a).hasSomethingToRedo(),isEmpty:U(this,Te,X0).call(this)})}addCommands(e){f(this,$a).add(e),U(this,Te,es).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:U(this,Te,X0).call(this)})}cleanUndoStack(e){f(this,$a).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,nn)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},r=()=>{for(const a of t)U(this,Te,WR).call(this,a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Xs))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Xs)||this.hasSelection}selectAll(){for(const e of f(this,nn))e.commit();U(this,Te,YR).call(this,f(this,Xn).values())}unselectAll(){var e;if(!(f(this,Xs)&&(f(this,Xs).commitOrRemove(),f(this,Mi)!==ft.NONE))&&!((e=f(this,Lc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,nn))t.unselect();f(this,nn).clear(),U(this,Te,es).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;f(this,qc)[0]+=e,f(this,qc)[1]+=t;const[r,s]=f(this,qc),a=[...f(this,nn)],o=1e3;f(this,fA)&&clearTimeout(f(this,fA)),_(this,fA,setTimeout(()=>{_(this,fA,null),f(this,qc)[0]=f(this,qc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,Xn).has(l.id)&&(l.translateInPage(r,s),l.translationDone())},undo:()=>{for(const l of a)f(this,Xn).has(l.id)&&(l.translateInPage(-r,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,uA,new Map);for(const e of f(this,nn))f(this,uA).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,uA))return!1;this.disableUserSelect(!1);const e=f(this,uA);_(this,uA,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const i=(r,s,a,o)=>{if(f(this,Xn).has(r.id)){const l=f(this,ki).get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,uA))for(const i of f(this,uA).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,nn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Xs)===e}getActive(){return f(this,Xs)}getMode(){return f(this,Mi)}isEditingMode(){return f(this,Mi)!==ft.NONE}get imageManager(){return ct(this,"imageManager",new zR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-r)/a,y:1-(u+h-i)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-i)/s,y:1-(d+g-r)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-r)/a,y:(u-i)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-i)/s,y:(d-r)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:b,height:C}of h.getClientRects())b===0||C===0||l.push(o(g,v,b,C))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,gm)||_(this,gm,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,gm))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=f(this,gm))==null?void 0:r.get(e.data.id);if(!t)return;const i=f(this,qa).getRawValue(t);i&&(f(this,Mi)===ft.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=f(this,Kc))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),f(this,Kc).delete(e))}addMissingCanvas(e,t){(f(this,Kc)||_(this,Kc,new Map)).set(e,t)}},fm=new WeakMap,Xs=new WeakMap,hm=new WeakMap,Xn=new WeakMap,ki=new WeakMap,pm=new WeakMap,qa=new WeakMap,gm=new WeakMap,$a=new WeakMap,Or=new WeakMap,Nc=new WeakMap,Lc=new WeakMap,mm=new WeakMap,Qc=new WeakMap,uA=new WeakMap,ja=new WeakMap,jf=new WeakMap,yb=new WeakMap,wb=new WeakMap,vm=new WeakMap,bb=new WeakMap,cA=new WeakMap,kc=new WeakMap,ym=new WeakMap,Oc=new WeakMap,dA=new WeakMap,f1=new WeakMap,Hc=new WeakMap,wm=new WeakMap,Cb=new WeakMap,Vc=new WeakMap,Wf=new WeakMap,bm=new WeakMap,Kc=new WeakMap,Bb=new WeakMap,Mi=new WeakMap,nn=new WeakMap,Bl=new WeakMap,Gc=new WeakMap,zc=new WeakMap,Eb=new WeakMap,Cm=new WeakMap,Sb=new WeakMap,qc=new WeakMap,fA=new WeakMap,El=new WeakMap,xb=new WeakMap,_b=new WeakMap,Wa=new WeakMap,Te=new WeakSet,$x=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},$R=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of f(this,ki).values())if(i.hasTextLayer(e))return i;return null},z6=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=U(this,Te,$x).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(f(this,dA)||_(this,dA,new Pce(this)),f(this,dA).show(i,r,this.direction==="ltr"))},q6=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,Bl)&&((s=f(this,dA))==null||s.hide(),_(this,Bl,null),U(this,Te,es).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,Bl))return;const r=U(this,Te,$x).call(this,e).closest(".textLayer");if(!r){f(this,Bl)&&((a=f(this,dA))==null||a.hide(),_(this,Bl,null),U(this,Te,es).call(this,{hasSelectedText:!1}));return}if((o=f(this,dA))==null||o.hide(),_(this,Bl,t),U(this,Te,es).call(this,{hasSelectedText:!0}),!(f(this,Mi)!==ft.HIGHLIGHT&&f(this,Mi)!==ft.NONE)&&(f(this,Mi)===ft.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Oc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,Mi)===ft.HIGHLIGHT?U(this,Te,$R).call(this,r):null;if(l==null||l.toggleDrawing(),f(this,wm)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&U(this,Te,Y0).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),U(this,Te,Y0).call(this,"main_toolbar")}},Y0=function(e=""){f(this,Mi)===ft.HIGHLIGHT?this.highlightSelection(e):f(this,yb)&&U(this,Te,z6).call(this)},$6=function(){document.addEventListener("selectionchange",U(this,Te,q6).bind(this),{signal:this._signal})},j6=function(){if(f(this,kc))return;_(this,kc,new AbortController);const e=this.combinedSignal(f(this,kc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},W6=function(){var e;(e=f(this,kc))==null||e.abort(),_(this,kc,null)},jR=function(){if(f(this,Vc))return;_(this,Vc,new AbortController);const e=this.combinedSignal(f(this,Vc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Y6=function(){var e;(e=f(this,Vc))==null||e.abort(),_(this,Vc,null)},X6=function(){if(f(this,Nc))return;_(this,Nc,new AbortController);const e=this.combinedSignal(f(this,Nc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},J6=function(){var e;(e=f(this,Nc))==null||e.abort(),_(this,Nc,null)},Z6=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},es=function(e){Object.entries(e).some(([i,r])=>f(this,Sb)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,Sb),e)}),f(this,Mi)===ft.HIGHLIGHT&&e.hasSelectedEditor===!1&&U(this,Te,pl).call(this,[[Pt.HIGHLIGHT_FREE,!0]]))},pl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},ej=async function(){if(!f(this,Hc)){_(this,Hc,!0);const e=[];for(const t of f(this,ki).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,Xn).values())t.enable()}},tj=function(){if(this.unselectAll(),f(this,Hc)){_(this,Hc,!1);for(const e of f(this,ki).values())e.disable();for(const e of f(this,Xn).values())e.disable()}},WR=function(e){const t=f(this,ki).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},nj=function(){let e=null;for(e of f(this,nn));return e},X0=function(){if(f(this,Xn).size===0)return!0;if(f(this,Xn).size===1)for(const e of f(this,Xn).values())return e.isEmpty();return!1},YR=function(e){for(const t of f(this,nn))t.unselect();f(this,nn).clear();for(const t of e)t.isEmpty()||(f(this,nn).add(t),t.select());U(this,Te,es).call(this,{hasSelectedEditor:this.hasSelection})},ge(mu,"TRANSLATE_SMALL",1),ge(mu,"TRANSLATE_BIG",10),mu);var nr,hA,_o,Bm,pA,Js,Em,gA,Es,Sl,Yf,mA,$c,Go,J0,jx;const ts=class ts{constructor(e){F(this,Go);F(this,nr,null);F(this,hA,!1);F(this,_o,null);F(this,Bm,null);F(this,pA,null);F(this,Js,null);F(this,Em,!1);F(this,gA,null);F(this,Es,null);F(this,Sl,null);F(this,Yf,null);F(this,mA,!1);_(this,Es,e),_(this,mA,e._uiManager.useNewAltTextFlow),f(ts,$c)||_(ts,$c,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ts._l10n??(ts._l10n=e)}async render(){const e=_(this,_o,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,Bm,document.createElement("span"));e.append(t),f(this,mA)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(ts,$c).missing),t.setAttribute("data-l10n-id",f(ts,$c)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=f(this,Es)._uiManager._signal;e.addEventListener("contextmenu",po,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),f(this,Es)._uiManager.editAltText(f(this,Es)),f(this,mA)&&f(this,Es)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Go,J0)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Em,!0),r(s))},{signal:i}),await U(this,Go,jx).call(this),e}finish(){f(this,_o)&&(f(this,_o).focus({focusVisible:f(this,Em)}),_(this,Em,!1))}isEmpty(){return f(this,mA)?f(this,nr)===null:!f(this,nr)&&!f(this,hA)}hasData(){return f(this,mA)?f(this,nr)!==null||!!f(this,Sl):this.isEmpty()}get guessedText(){return f(this,Sl)}async setGuessedText(e){f(this,nr)===null&&(_(this,Sl,e),_(this,Yf,await ts._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),U(this,Go,jx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,mA)||f(this,nr)){(t=f(this,gA))==null||t.remove(),_(this,gA,null);return}if(!f(this,gA)){const i=_(this,gA,document.createElement("div"));i.className="noAltTextBadge",f(this,Es).div.append(i)}f(this,gA).classList.toggle("hidden",!e)}serialize(e){let t=f(this,nr);return!e&&f(this,Sl)===t&&(t=f(this,Yf)),{altText:t,decorative:f(this,hA),guessedText:f(this,Sl),textWithDisclaimer:f(this,Yf)}}get data(){return{altText:f(this,nr),decorative:f(this,hA)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(_(this,Sl,i),_(this,Yf,r)),!(f(this,nr)===e&&f(this,hA)===t)&&(s||(_(this,nr,e),_(this,hA,t)),U(this,Go,jx).call(this))}toggle(e=!1){f(this,_o)&&(!e&&f(this,Js)&&(clearTimeout(f(this,Js)),_(this,Js,null)),f(this,_o).disabled=!e)}shown(){f(this,Es)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Go,J0)}})}destroy(){var e,t;(e=f(this,_o))==null||e.remove(),_(this,_o,null),_(this,Bm,null),_(this,pA,null),(t=f(this,gA))==null||t.remove(),_(this,gA,null)}};nr=new WeakMap,hA=new WeakMap,_o=new WeakMap,Bm=new WeakMap,pA=new WeakMap,Js=new WeakMap,Em=new WeakMap,gA=new WeakMap,Es=new WeakMap,Sl=new WeakMap,Yf=new WeakMap,mA=new WeakMap,$c=new WeakMap,Go=new WeakSet,J0=function(){return f(this,nr)&&"added"||f(this,nr)===null&&this.guessedText&&"review"||"missing"},jx=async function(){var r,s,a;const e=f(this,_o);if(!e)return;if(f(this,mA)){if(e.classList.toggle("done",!!f(this,nr)),e.setAttribute("data-l10n-id",f(ts,$c)[f(this,Go,J0)]),(r=f(this,Bm))==null||r.setAttribute("data-l10n-id",f(ts,$c)[`${f(this,Go,J0)}-label`]),!f(this,nr)){(s=f(this,pA))==null||s.remove();return}}else{if(!f(this,nr)&&!f(this,hA)){e.classList.remove("done"),(a=f(this,pA))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,pA);if(!t){_(this,pA,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,Es).id}`;const o=100,l=f(this,Es)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Js)),_(this,Js,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,Js,setTimeout(()=>{_(this,Js,null),f(this,pA).classList.add("show"),f(this,Es)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,Js)&&(clearTimeout(f(this,Js)),_(this,Js,null)),(u=f(this,pA))==null||u.classList.remove("show")},{signal:l})}f(this,hA)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,nr)),t.parentNode||e.append(t);const i=f(this,Es).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},F(ts,$c,null),ge(ts,"_l10n",null);let Z_=ts;var wr,Ya,Xf,Tn,Tb,Jf,To,Zf,eh,th,Ib,XR;class QS{constructor(e){F(this,Ib);F(this,wr,null);F(this,Ya,null);F(this,Xf,!1);F(this,Tn,null);F(this,Tb,null);F(this,Jf,null);F(this,To,null);F(this,Zf,null);F(this,eh,!1);F(this,th,null);_(this,Tn,e)}renderForToolbar(){const e=_(this,Ya,document.createElement("button"));return e.className="comment",U(this,Ib,XR).call(this,e,!1)}renderForStandalone(){const e=_(this,wr,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,Tn).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(f(this,Tn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=f(this,Tn).commentButtonColor;r&&(i.backgroundColor=r)}return U(this,Ib,XR).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,wr)??f(this,Ya))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,wr))return;const e=f(this,Tn).commentButtonColor;e&&(f(this,wr).style.backgroundColor=e),f(this,Tn)._uiManager.updatePopupColor(f(this,Tn))}get commentButtonWidth(){var e;return(((e=f(this,wr))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,Tn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,th))return f(this,th);if(!f(this,wr))return null;const{x:e,y:t,height:i}=f(this,wr).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,Tn).parent.boundingClientRect;return[(e-r)/a,(t+i-s)/o]}set commentPopupPositionInLayer(e){_(this,th,e)}hasDefaultPopupPosition(){return f(this,th)===null}removeStandaloneCommentButton(){var e;(e=f(this,wr))==null||e.remove(),_(this,wr,null)}removeToolbarCommentButton(){var e;(e=f(this,Ya))==null||e.remove(),_(this,Ya,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,wr)&&(f(this,wr).classList.toggle("selected",e),f(this,wr).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=f(this,Tn).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,Tn);i=g+i*d,r=v+r*h}const s=f(this,Tn).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,Tn)._uiManager.editComment(f(this,Tn),a+i*l,o+r*u,{...e,parentDimensions:s})}finish(){f(this,Ya)&&(f(this,Ya).focus({focusVisible:f(this,Xf)}),_(this,Xf,!1))}isDeleted(){return f(this,eh)||f(this,To)===""}isEmpty(){return f(this,To)===null}hasBeenEdited(){return this.isDeleted()||f(this,To)!==f(this,Tb)}serialize(){return this.data}get data(){return{text:f(this,To),richText:f(this,Jf),date:f(this,Zf),deleted:this.isDeleted()}}set data(e){if(e!==f(this,To)&&_(this,Jf,null),e===null){_(this,To,""),_(this,eh,!0);return}_(this,To,e),_(this,Zf,new Date),_(this,eh,!1)}setInitialText(e,t=null){_(this,Tb,e),this.data=e,_(this,Zf,null),_(this,Jf,t)}shown(){}destroy(){var e,t;(e=f(this,Ya))==null||e.remove(),_(this,Ya,null),(t=f(this,wr))==null||t.remove(),_(this,wr,null),_(this,To,""),_(this,Jf,null),_(this,Zf,null),_(this,Tn,null),_(this,Xf,!1),_(this,eh,!1)}}wr=new WeakMap,Ya=new WeakMap,Xf=new WeakMap,Tn=new WeakMap,Tb=new WeakMap,Jf=new WeakMap,To=new WeakMap,Zf=new WeakMap,eh=new WeakMap,th=new WeakMap,Ib=new WeakSet,XR=function(e,t){if(!f(this,Tn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,Tn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=f(this,Tn)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",po,{signal:i}),t&&(e.addEventListener("focusin",s=>{f(this,Tn)._focusEventsAllowed=!1,ri(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{f(this,Tn)._focusEventsAllowed=!0,ri(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===f(this,Ya)?this.edit():f(this,Tn).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Xf,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{f(this,Tn).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{f(this,Tn).toggleComment(!1,!1)},{signal:i}),e};var Sm,nh,Fb,Mb,Ub,Pb,Rb,xl,ih,_l,rh,Tl,tf,rj,sj,aj,xm;let ij=(xm=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){F(this,tf);F(this,Sm);F(this,nh,!1);F(this,Fb,null);F(this,Mb);F(this,Ub);F(this,Pb);F(this,Rb);F(this,xl,null);F(this,ih);F(this,_l,null);F(this,rh);F(this,Tl,null);_(this,Sm,e),_(this,Fb,i),_(this,Mb,t),_(this,Ub,r),_(this,Pb,s),_(this,Rb,a),_(this,rh,new AbortController),_(this,ih,AbortSignal.any([o,f(this,rh).signal])),e.addEventListener("touchstart",U(this,tf,rj).bind(this),{passive:!1,signal:f(this,ih)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Sp.pixelRatio}destroy(){var e,t;(e=f(this,rh))==null||e.abort(),_(this,rh,null),(t=f(this,xl))==null||t.abort(),_(this,xl,null)}},Sm=new WeakMap,nh=new WeakMap,Fb=new WeakMap,Mb=new WeakMap,Ub=new WeakMap,Pb=new WeakMap,Rb=new WeakMap,xl=new WeakMap,ih=new WeakMap,_l=new WeakMap,rh=new WeakMap,Tl=new WeakMap,tf=new WeakSet,rj=function(e){var r,s,a;if((r=f(this,Mb))!=null&&r.call(this))return;if(e.touches.length===1){if(f(this,xl))return;const o=_(this,xl,new AbortController),l=AbortSignal.any([f(this,ih),o.signal]),u=f(this,Sm),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,xl))==null||v.abort(),_(this,xl,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(ri(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,Tl)){_(this,Tl,new AbortController);const o=AbortSignal.any([f(this,ih),f(this,Tl).signal]),l=f(this,Sm),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",U(this,tf,sj).bind(this),u);const d=U(this,tf,aj).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",ri,u),l.addEventListener("pointermove",ri,u),l.addEventListener("pointercancel",ri,u),l.addEventListener("pointerup",ri,u),(s=f(this,Ub))==null||s.call(this)}if(ri(e),e.touches.length!==2||(a=f(this,Fb))!=null&&a.call(this)){_(this,_l,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),_(this,_l,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},sj=function(e){var R;if(!f(this,_l)||e.touches.length!==2)return;ri(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:a,screenY:o}=i,l=f(this,_l),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,b=g-d,C=a-r,E=o-s,x=Math.hypot(C,E)||1,I=Math.hypot(v,b)||1;if(!f(this,nh)&&Math.abs(I-x)<=xm.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,nh)){_(this,nh,!0);return}const T=[(r+a)/2,(s+o)/2];(R=f(this,Pb))==null||R.call(this,T,I,x)},aj=function(e){var t;e.touches.length>=2||(f(this,Tl)&&(f(this,Tl).abort(),_(this,Tl,null),(t=f(this,Rb))==null||t.call(this)),f(this,_l)&&(ri(e),_(this,_l,null),_(this,nh,!1)))},xm);var sh,Io,On,bn,Il,_m,jc,Db,br,ah,Fl,Xa,Wc,Nb,oh,Zs,Lb,Ah,Ml,vA,Tm,Im,Ja,lh,Qb,h1,st,JR,kb,ZR,Wx,oj,Aj,eD,Yx,tD,lj,uj,cj,nD,dj,iD,fj,hj,pj,rD,Z0;const dt=class dt{constructor(e){F(this,st);F(this,sh,null);F(this,Io,null);F(this,On,null);F(this,bn,null);F(this,Il,null);F(this,_m,!1);F(this,jc,null);F(this,Db,"");F(this,br,null);F(this,ah,null);F(this,Fl,null);F(this,Xa,null);F(this,Wc,null);F(this,Nb,"");F(this,oh,!1);F(this,Zs,null);F(this,Lb,!1);F(this,Ah,!1);F(this,Ml,!1);F(this,vA,null);F(this,Tm,0);F(this,Im,0);F(this,Ja,null);F(this,lh,null);ge(this,"isSelected",!1);ge(this,"_isCopy",!1);ge(this,"_editToolbar",null);ge(this,"_initialOptions",Object.create(null));ge(this,"_initialData",null);ge(this,"_isVisible",!0);ge(this,"_uiManager",null);ge(this,"_focusEventsAllowed",!0);F(this,Qb,!1);F(this,h1,dt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=dt.prototype._resizeWithKeyboard,t=qw.TRANSLATE_SMALL,i=qw.TRANSLATE_BIG;return ct(this,"_resizerKeyboardManager",new jB([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],dt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Nce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(dt._l10n??(dt._l10n=e),dt._l10nResizer||(dt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),dt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);dt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Sn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Qb)}set _isDraggable(e){var t;_(this,Qb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,h1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(U(this,st,Z0).call(this),(t=f(this,Xa))==null||t.remove(),_(this,Xa,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,oh)?_(this,oh,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){U(this,st,JR).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,Zs)||_(this,Zs,[this.x,this.y,this.width,this.height]),U(this,st,JR).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,Zs)||_(this,Zs,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=i;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,Zs)&&(f(this,Zs)[0]!==this.x||f(this,Zs)[1]!==this.y)}get _hasBeenResized(){return!!f(this,Zs)&&(f(this,Zs)[2]!==this.width||f(this,Zs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=dt,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=i,l*=r,s*=i,a*=r,this._mustFixPosition)switch(e){case 0:s=As(s,0,i-o),a=As(a,0,r-l);break;case 90:s=As(s,0,i-l),a=As(a,o,r);break;case 180:s=As(s,o,i),a=As(a,l,r);break;case 270:s=As(s,l,i),a=As(a,0,r-o);break}this.x=s/=i,this.y=a/=r;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return U(i=dt,kb,ZR).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return U(i=dt,kb,ZR).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,On))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,Ah))return this._editToolbar;this._editToolbar=new KR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,On))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,On)||(Z_.initialize(dt._l10n),_(this,On,new Z_(this)),f(this,sh)&&(f(this,On).data=f(this,sh),_(this,sh,null))),f(this,On)}get altTextData(){var e;return(e=f(this,On))==null?void 0:e.data}set altTextData(e){f(this,On)&&(f(this,On).data=e)}get guessedAltText(){var e;return(e=f(this,On))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,On))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,On))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,On)&&!f(this,On).isEmpty()}hasAltTextData(){var e;return((e=f(this,On))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,bn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,bn)||_(this,bn,new QS(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,Il)){this._uiManager.isEditingMode()&&f(this,Il).classList.remove("hidden");return}this.hasComment&&(_(this,Il,f(this,bn).renderForStandalone()),this.div.append(f(this,Il)))}}removeStandaloneCommentButton(){f(this,bn).removeStandaloneCommentButton(),_(this,Il,null)}hideStandaloneCommentButton(){var e;(e=f(this,Il))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=f(this,bn);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,bn)||_(this,bn,new QS(this)),f(this,bn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(f(this,bn)||_(this,bn,new QS(this)),f(this,bn).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=f(this,bn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,bn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,bn)&&!f(this,bn).isEmpty()&&!f(this,bn).isDeleted()}async editComment(e){f(this,bn)||_(this,bn,new QS(this)),f(this,bn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,bn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=r-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,bn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,_m)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),U(this,st,iD).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),K6(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,lh)||_(this,lh,new ij({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:U(this,st,lj).bind(this),onPinching:U(this,st,uj).bind(this),onPinchEnd:U(this,st,cj).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Rr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,oh,!0),this._isDraggable){U(this,st,dj).call(this,e);return}U(this,st,nD).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,vA)&&clearTimeout(f(this,vA)),_(this,vA,setTimeout(()=>{var e;_(this,vA,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/r,d=t/r,h=this.x*s,g=this.y*a,v=this.width*s,b=this.height*a;switch(i){case 0:return[h+u+o,a-g-d-b+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+b+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+b+l];case 270:return[h-d-b+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,a]=e,o=s-i,l=a-r;switch(this.rotation){case 0:return[i,t-a,o,l];case 90:return[i,t-r,l,o];case 180:return[s,t-r,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&dt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,bn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:i||d,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,Ah,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,Ah,!1),!0):!1}isInEditMode(){return f(this,Ah)}shouldGetKeyboardEvents(){return f(this,Ml)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&r>0&&e<s&&i>0}rebuild(){U(this,st,iD).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,_(r,sh,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,a]=r.pageDimensions,[o,l,u,d]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=l/a,r.width=u/s,r.height=d/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,i;if((e=f(this,Wc))==null||e.abort(),_(this,Wc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,vA)&&(clearTimeout(f(this,vA)),_(this,vA,null)),U(this,st,Z0).call(this),this.removeEditToolbar(),f(this,Ja)){for(const r of f(this,Ja).values())clearTimeout(r);_(this,Ja,null)}this.parent=null,(t=f(this,lh))==null||t.destroy(),_(this,lh,null),(i=f(this,Xa))==null||i.remove(),_(this,Xa,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(U(this,st,oj).call(this),f(this,br).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,a]=this.getPDFRect();return[dt._round(i+(s-i)*e),dt._round(r+(a-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,bn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,bn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,bn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,bn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,bn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,Fl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,br).children;if(!f(this,Io)){_(this,Io,Array.from(t));const a=U(this,st,fj).bind(this),o=U(this,st,hj).bind(this),l=this._uiManager._signal;for(const u of f(this,Io)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",U(this,st,pj).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",dt._l10nResizer[d])}}const i=f(this,Io)[0];let r=0;for(const a of t){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,Io).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)f(this,br).append(f(this,br).firstElementChild);else if(s>r)for(let o=0;o<s-r;o++)f(this,br).firstElementChild.before(f(this,br).lastElementChild);let a=0;for(const o of t){const u=f(this,Io)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",dt._l10nResizer[u])}}U(this,st,rD).call(this,0),_(this,Ml,!0),f(this,br).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,Ml)&&U(this,st,tD).call(this,f(this,Nb),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){U(this,st,Z0).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=f(this,On))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=f(this,br))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=f(this,On))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,Lb)}set isEditing(e){_(this,Lb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,Ja)||_(this,Ja,new Map);const{action:i}=e;let r=f(this,Ja).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),f(this,Ja).delete(i),f(this,Ja).size===0&&_(this,Ja,null)},dt._telemetryTimeout),f(this,Ja).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,_m,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,_m,!0)}updateFakeAnnotationElement(e){if(!f(this,Xa)&&!this.deleted){_(this,Xa,e.addFakeAnnotation(this));return}if(this.deleted){f(this,Xa).remove(),_(this,Xa,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,Xa).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};sh=new WeakMap,Io=new WeakMap,On=new WeakMap,bn=new WeakMap,Il=new WeakMap,_m=new WeakMap,jc=new WeakMap,Db=new WeakMap,br=new WeakMap,ah=new WeakMap,Fl=new WeakMap,Xa=new WeakMap,Wc=new WeakMap,Nb=new WeakMap,oh=new WeakMap,Zs=new WeakMap,Lb=new WeakMap,Ah=new WeakMap,Ml=new WeakMap,vA=new WeakMap,Tm=new WeakMap,Im=new WeakMap,Ja=new WeakMap,lh=new WeakMap,Qb=new WeakMap,h1=new WeakMap,st=new WeakSet,JR=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},kb=new WeakSet,ZR=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Wx=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},oj=function(){if(f(this,br))return;_(this,br,document.createElement("div")),f(this,br).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");f(this,br).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",U(this,st,Aj).bind(this,i),{signal:t}),r.addEventListener("contextmenu",po,{signal:t}),r.tabIndex=-1}this.div.prepend(f(this,br))},Aj=function(e,t){var d;t.preventDefault();const{isMac:i}=Rr.platform;if(t.button!==0||t.ctrlKey&&i)return;(d=f(this,On))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,_(this,ah,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",U(this,st,tD).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",ri,{passive:!1,signal:a}),window.addEventListener("contextmenu",po,{signal:a}),_(this,Fl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,On))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,U(this,st,Yx).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},eD=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Yx=function(){if(!f(this,Fl))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=f(this,Fl);_(this,Fl,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===i&&l===r||this.addCommands({cmd:U(this,st,eD).bind(this,s,a,o,l),undo:U(this,st,eD).bind(this,e,t,i,r),mustExec:!0})},tD=function(e,t){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=dt.MIN_SIZE/i,d=dt.MIN_SIZE/r,h=U(this,st,Wx).call(this,this.rotation),g=(G,$)=>[h[0]*G+h[2]*$,h[1]*G+h[3]*$],v=U(this,st,Wx).call(this,360-this.rotation),b=(G,$)=>[v[0]*G+v[2]*$,v[1]*G+v[3]*$];let C,E,x=!1,I=!1;switch(e){case"topLeft":x=!0,C=(G,$)=>[0,0],E=(G,$)=>[G,$];break;case"topMiddle":C=(G,$)=>[G/2,0],E=(G,$)=>[G/2,$];break;case"topRight":x=!0,C=(G,$)=>[G,0],E=(G,$)=>[0,$];break;case"middleRight":I=!0,C=(G,$)=>[G,$/2],E=(G,$)=>[0,$/2];break;case"bottomRight":x=!0,C=(G,$)=>[G,$],E=(G,$)=>[0,0];break;case"bottomMiddle":C=(G,$)=>[G/2,$],E=(G,$)=>[G/2,0];break;case"bottomLeft":x=!0,C=(G,$)=>[0,$],E=(G,$)=>[G,0];break;case"middleLeft":I=!0,C=(G,$)=>[0,$/2],E=(G,$)=>[G,$/2];break}const T=C(o,l),R=E(o,l);let P=g(...R);const D=dt._round(s+P[0]),Q=dt._round(a+P[1]);let H=1,k=1,K,V;if(t.fromKeyboard)({deltaX:K,deltaY:V}=t);else{const{screenX:G,screenY:$}=t,[re,ae]=f(this,ah);[K,V]=this.screenToPageTranslation(G-re,$-ae),f(this,ah)[0]=G,f(this,ah)[1]=$}if([K,V]=b(K/i,V/r),x){const G=Math.hypot(o,l);H=k=Math.max(Math.min(Math.hypot(R[0]-T[0]-K,R[1]-T[1]-V)/G,1/o,1/l),u/o,d/l)}else I?H=As(Math.abs(R[0]-T[0]-K),u,1)/o:k=As(Math.abs(R[1]-T[1]-V),d,1)/l;const z=dt._round(o*H),Z=dt._round(l*k);P=g(...E(z,Z));const ne=D-P[0],de=Q-P[1];f(this,Zs)||_(this,Zs,[this.x,this.y,this.width,this.height]),this.width=z,this.height=Z,this.x=ne,this.y=de,this.setDims(),this.fixAndSetPosition(),this._onResizing()},lj=function(){var e;_(this,Fl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,On))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},uj=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const a=U(this,st,Wx).call(this,this.rotation),o=(D,Q)=>[a[0]*D+a[2]*Q,a[1]*D+a[3]*Q],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,b=dt.MIN_SIZE/l,C=dt.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),b/g,C/v);const E=dt._round(g*s),x=dt._round(v*s);if(E===g&&x===v)return;f(this,Zs)||_(this,Zs,[d,h,g,v]);const I=o(g/2,v/2),T=dt._round(d+I[0]),R=dt._round(h+I[1]),P=o(E/2,x/2);this.x=T-P[0],this.y=R-P[1],this.width=E,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},cj=function(){var e;(e=f(this,On))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),U(this,st,Yx).call(this)},nD=function(e){const{isMac:t}=Rr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},dj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=u=>{r.abort(),_(this,jc,null),_(this,oh,!1),this._uiManager.endDragSession()||U(this,st,nD).call(this,u),i&&this._onStopDragging()};t&&(_(this,Tm,e.clientX),_(this,Im,e.clientY),_(this,jc,e.pointerId),_(this,Db,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,jc)){ri(u);return}const[v,b]=this.screenToPageTranslation(d-f(this,Tm),h-f(this,Im));_(this,Tm,d),_(this,Im,h),this._uiManager.dragSelectedEditors(v,b)},a),window.addEventListener("touchmove",ri,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,Db)&&(f(this,lh)||u.isPrimary)&&o(u),ri(u)},a));const l=u=>{if(!f(this,jc)||f(this,jc)===u.pointerId){o(u);return}ri(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},iD=function(){if(f(this,Wc)||!this.div)return;_(this,Wc,new AbortController);const e=this._uiManager.combinedSignal(f(this,Wc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},fj=function(e){dt._resizerKeyboardManager.exec(this,e)},hj=function(e){var t;f(this,Ml)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,br)&&U(this,st,Z0).call(this)},pj=function(e){_(this,Nb,f(this,Ml)?e:"")},rD=function(e){if(f(this,Io))for(const t of f(this,Io))t.tabIndex=e},Z0=function(){_(this,Ml,!1),U(this,st,rD).call(this,-1),U(this,st,Yx).call(this)},F(dt,kb),ge(dt,"_l10n",null),ge(dt,"_l10nResizer",null),ge(dt,"_borderLineWidth",-1),ge(dt,"_colorManager",new qR),ge(dt,"_zIndex",1),ge(dt,"_telemetryTimeout",1e3);let Mn=dt;class Nce extends Mn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const CK=3285377520,Qa=4294901760,aA=65535;class gj{constructor(e){this.h1=e?e&4294967295:CK,this.h2=e?e&4294967295:CK}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let C=0,E=e.length;C<E;C++){const x=e.charCodeAt(C);x<=255?t[i++]=x:(t[i++]=x>>>8,t[i++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&aA,b=g&aA;for(let C=0;C<r;C++)C&1?(o=a[C],o=o*h&Qa|o*v&aA,o=o<<15|o>>>17,o=o*g&Qa|o*b&aA,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[C],l=l*h&Qa|l*v&aA,l=l<<15|l>>>17,l=l*g&Qa|l*b&aA,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*h&Qa|o*v&aA,o=o<<15|o>>>17,o=o*g&Qa|o*b&aA,r&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Qa|e*36045&aA,t=t*4283543511&Qa|((t<<16|e>>>16)*2950163797&Qa)>>>16,e^=t>>>1,e=e*444984403&Qa|e*60499&aA,t=t*3301882366&Qa|((t<<16|e>>>16)*3120437893&Qa)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const sD=Object.freeze({map:null,hash:"",transfer:void 0});var uh,ch,Ul,Cr,p1,mj;class LQ{constructor(){F(this,p1);F(this,uh,!1);F(this,ch,null);F(this,Ul,null);F(this,Cr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=f(this,Cr).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return f(this,Cr).get(e)}remove(e){const t=f(this,Cr).get(e);if(t!==void 0&&(t instanceof Mn&&f(this,Ul).delete(t.annotationElementId),f(this,Cr).delete(e),f(this,Cr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of f(this,Cr).values())if(i instanceof Mn)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=f(this,Cr).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,f(this,Cr).set(e,t);r&&U(this,p1,mj).call(this),t instanceof Mn&&((f(this,Ul)||_(this,Ul,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,Cr).has(e)}get size(){return f(this,Cr).size}resetModified(){f(this,uh)&&(_(this,uh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new vj(this)}get serializable(){if(f(this,Cr).size===0)return sD;const e=new Map,t=new gj,i=[],r=Object.create(null);let s=!1;for(const[a,o]of f(this,Cr)){const l=o instanceof Mn?o.serialize(!1,r):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:sD}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of f(this,Cr).values()){if(!(s instanceof Mn)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,ch,null)}updateEditor(e,t){var r;const i=(r=f(this,Ul))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,Ul))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,ch))return f(this,ch);const e=[];if(f(this,Ul))for(const t of f(this,Ul).values())t.serialize()&&e.push(t.annotationElementId);return _(this,ch,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,Cr).entries()}}uh=new WeakMap,ch=new WeakMap,Ul=new WeakMap,Cr=new WeakMap,p1=new WeakSet,mj=function(){f(this,uh)||(_(this,uh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Ob;class vj extends LQ{constructor(t){super();F(this,Ob);const{map:i,hash:r,transfer:s}=t.serializable,a=structuredClone(i,s?{transfer:s}:null);_(this,Ob,{map:a,hash:r,transfer:s})}get print(){Sn("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,Ob)}get modifiedIds(){return ct(this,"modifiedIds",{ids:new Set,hash:""})}}Ob=new WeakMap;var Fm;class Lce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){F(this,Fm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,Fm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||f(this,Fm).has(e.loadedName))){if(Rt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=e,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,Fm).add(r),i==null||i(e)}catch{ut(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Sn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ut(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ct(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ct(this,"isSyncFontLoadingSupported",os||Rr.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Rt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ct(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(R,P){return R.charCodeAt(P)<<24|R.charCodeAt(P+1)<<16|R.charCodeAt(P+2)<<8|R.charCodeAt(P+3)&255}function r(R,P,D,Q){const H=R.substring(0,P),k=R.substring(P+D);return H+Q+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(R,P){if(++u>30){ut("Load test font never loaded."),P();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(d.bind(null,R,P))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,h.length,h);const b=16,C=1482184792;let E=i(g,b);for(s=0,a=h.length-3;s<a;s+=4)E=E-C+i(h,s)|0;s<h.length&&(E=E-C+i(h+"XXX",s)|0),g=r(g,b,4,mce(E));const x=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,h]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=R,T.append(P)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}Fm=new WeakMap;var dn;class Qce{constructor(e,t=null,i,r){F(this,dn);this.compiledGlyphs=Object.create(null),_(this,dn,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${R6(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(a){ut(`getPathGenerator - ignoring character: "${a}".`)}const s=L6(r);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return f(this,dn).black}get bold(){return f(this,dn).bold}get disableFontFace(){return f(this,dn).disableFontFace??!1}set disableFontFace(e){ct(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,dn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,dn).isInvalidPDFjsFont}get isType3Font(){return f(this,dn).isType3Font}get italic(){return f(this,dn).italic}get missingFile(){return f(this,dn).missingFile}get remeasure(){return f(this,dn).remeasure}get vertical(){return f(this,dn).vertical}get ascent(){return f(this,dn).ascent}get defaultWidth(){return f(this,dn).defaultWidth}get descent(){return f(this,dn).descent}get bbox(){return f(this,dn).bbox}set bbox(e){ct(this,"bbox",e)}get fontMatrix(){return f(this,dn).fontMatrix}get fallbackName(){return f(this,dn).fallbackName}get loadedName(){return f(this,dn).loadedName}get mimetype(){return f(this,dn).mimetype}get name(){return f(this,dn).name}get data(){return f(this,dn).data}clearData(){f(this,dn).clearData()}get cssFontInfo(){return f(this,dn).cssFontInfo}get systemFontInfo(){return f(this,dn).systemFontInfo}get defaultVMetrics(){return f(this,dn).defaultVMetrics}}dn=new WeakMap;var Mm,Um,Hb,Pm,Xx;const Wg=class Wg{constructor(e){F(this,Pm);F(this,Mm);F(this,Um);F(this,Hb);_(this,Mm,e),_(this,Um,new DataView(f(this,Mm))),_(this,Hb,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const u of Wg.strings){const d=t.encode(e[u]);i[u]=d,r+=4+d.length}const s=new ArrayBuffer(r),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of Wg.strings){const d=i[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Rt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return U(this,Pm,Xx).call(this,0)}get fontWeight(){return U(this,Pm,Xx).call(this,1)}get italicAngle(){return U(this,Pm,Xx).call(this,2)}};Mm=new WeakMap,Um=new WeakMap,Hb=new WeakMap,Pm=new WeakSet,Xx=function(e){Rt(e<Wg.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=f(this,Um).getUint32(t)+4;const i=f(this,Um).getUint32(t);return f(this,Hb).decode(new Uint8Array(f(this,Mm),t+4,i))},ge(Wg,"strings",["fontFamily","fontWeight","italicAngle"]);let eT=Wg;var Yc,yA,dh,fh,ew;const Yg=class Yg{constructor(e){F(this,fh);F(this,Yc);F(this,yA);F(this,dh);_(this,Yc,e),_(this,yA,new DataView(f(this,Yc))),_(this,dh,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const g of Yg.strings){const v=t.encode(e[g]);i[g]=v,r+=4+v.length}r+=4;let s,a,o=1+r;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,r=0;for(const g of Yg.strings){const v=i[g],b=v.length;r+=4+b,d.setUint32(h,b),u.set(v,h+4),h+=4+b}return d.setUint32(h-r-4,r),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),Rt(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,yA).getUint8(0)!==0}get css(){return U(this,fh,ew).call(this,0)}get loadedName(){return U(this,fh,ew).call(this,1)}get baseFontName(){return U(this,fh,ew).call(this,2)}get src(){return U(this,fh,ew).call(this,3)}get style(){let e=1;e+=4+f(this,yA).getUint32(e);const t=f(this,yA).getUint32(e),i=f(this,dh).decode(new Uint8Array(f(this,Yc),e+4,t));e+=4+t;const r=f(this,yA).getUint32(e),s=f(this,dh).decode(new Uint8Array(f(this,Yc),e+4,r));return{style:i,weight:s}}};Yc=new WeakMap,yA=new WeakMap,dh=new WeakMap,fh=new WeakSet,ew=function(e){Rt(e<Yg.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=f(this,yA).getUint32(t)+4;const i=f(this,yA).getUint32(t);return f(this,dh).decode(new Uint8Array(f(this,Yc),t+4,i))},ge(Yg,"strings",["css","loadedName","baseFontName","src"]);let tT=Yg;var Rm,Dm,Nm,Lm,ea,wA,Vb,fn,ii,So,Jx,tw;const gt=class gt{constructor({data:e,extra:t}){F(this,ii);F(this,wA);F(this,Vb);F(this,fn);_(this,wA,e),_(this,Vb,new TextDecoder),_(this,fn,new DataView(f(this,wA))),t&&Object.assign(this,t)}get black(){return U(this,ii,So).call(this,0)}get bold(){return U(this,ii,So).call(this,1)}get disableFontFace(){return U(this,ii,So).call(this,2)}get fontExtraProperties(){return U(this,ii,So).call(this,3)}get isInvalidPDFjsFont(){return U(this,ii,So).call(this,4)}get isType3Font(){return U(this,ii,So).call(this,5)}get italic(){return U(this,ii,So).call(this,6)}get missingFile(){return U(this,ii,So).call(this,7)}get remeasure(){return U(this,ii,So).call(this,8)}get vertical(){return U(this,ii,So).call(this,9)}get ascent(){return U(this,ii,Jx).call(this,0)}get defaultWidth(){return U(this,ii,Jx).call(this,1)}get descent(){return U(this,ii,Jx).call(this,2)}get bbox(){let e=f(gt,Dm);if(f(this,fn).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(f(this,fn).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=f(gt,Nm);if(f(this,fn).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(f(this,fn).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=f(gt,Lm);if(f(this,fn).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(f(this,fn).getInt16(e,!0)),e+=2;return i}get fallbackName(){return U(this,ii,tw).call(this,0)}get loadedName(){return U(this,ii,tw).call(this,1)}get mimetype(){return U(this,ii,tw).call(this,2)}get name(){return U(this,ii,tw).call(this,3)}get data(){let e=f(gt,ea);const t=f(this,fn).getUint32(e);e+=4+t;const i=f(this,fn).getUint32(e);e+=4+i;const r=f(this,fn).getUint32(e);e+=4+r;const s=f(this,fn).getUint32(e);if(s!==0)return new Uint8Array(f(this,wA),e+4,s)}clearData(){let e=f(gt,ea);const t=f(this,fn).getUint32(e);e+=4+t;const i=f(this,fn).getUint32(e);e+=4+i;const r=f(this,fn).getUint32(e);e+=4+r;const s=f(this,fn).getUint32(e);new Uint8Array(f(this,wA),e+4,s).fill(0),f(this,fn).setUint32(e,0)}get cssFontInfo(){let e=f(gt,ea);const t=f(this,fn).getUint32(e);e+=4+t;const i=f(this,fn).getUint32(e);e+=4+i;const r=f(this,fn).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(f(this,wA),e+4,r)),new eT(s.buffer)}get systemFontInfo(){let e=f(gt,ea);const t=f(this,fn).getUint32(e);e+=4+t;const i=f(this,fn).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(f(this,wA),e+4,i)),new tT(r.buffer)}static write(e){const t=e.systemFontInfo?tT.write(e.systemFontInfo):null,i=e.cssFontInfo?eT.write(e.cssFontInfo):null,r=new TextEncoder,s={};let a=0;for(const C of gt.strings)s[C]=r.encode(e[C]),a+=4+s[C].length;const o=f(gt,ea)+4+a+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=gt.bools.length;let v=0,b=0;for(let C=0;C<g;C++){const E=e[gt.bools[C]];v|=(E===void 0?0:E?2:1)<<b,b+=2,(b===8||C===g-1)&&(d.setUint8(h++,v),v=0,b=0)}Rt(h===f(gt,Rm),"FontInfo.write: Boolean properties offset mismatch");for(const C of gt.numbers)d.setFloat64(h,e[C]),h+=8;if(Rt(h===f(gt,Dm),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const C of e.bbox)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Rt(h===f(gt,Nm),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const C of e.fontMatrix)d.setFloat64(h,C,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Rt(h===f(gt,Lm),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const C of e.defaultVMetrics)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=6;Rt(h===f(gt,ea),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(gt,ea),0),h+=4;for(const C of gt.strings){const E=s[C],x=E.length;d.setUint32(h,x),u.set(E,h+4),h+=4+x}if(d.setUint32(f(gt,ea),h-f(gt,ea)-4),!t)d.setUint32(h,0),h+=4;else{const C=t.byteLength;d.setUint32(h,C),Rt(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+C}if(!i)d.setUint32(h,0),h+=4;else{const C=i.byteLength;d.setUint32(h,C),Rt(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(i),h+4),h+=4+C}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Rt(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};Rm=new WeakMap,Dm=new WeakMap,Nm=new WeakMap,Lm=new WeakMap,ea=new WeakMap,wA=new WeakMap,Vb=new WeakMap,fn=new WeakMap,ii=new WeakSet,So=function(e){Rt(e<gt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=f(this,fn).getUint8(t)>>i&3;return r===0?void 0:r===2},Jx=function(e){return Rt(e<gt.numbers.length,"Invalid number index"),f(this,fn).getFloat64(f(gt,Rm)+e*8)},tw=function(e){Rt(e<gt.strings.length,"Invalid string index");let t=f(gt,ea)+4;for(let s=0;s<e;s++)t+=f(this,fn).getUint32(t)+4;const i=f(this,fn).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(f(this,wA),t+4,i)),f(this,Vb).decode(r)},ge(gt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),ge(gt,"numbers",["ascent","defaultWidth","descent"]),ge(gt,"strings",["fallbackName","loadedName","mimetype","name"]),F(gt,Rm,Math.ceil(gt.bools.length*2/8)),F(gt,Dm,f(gt,Rm)+gt.numbers.length*8),F(gt,Nm,f(gt,Dm)+1+8),F(gt,Lm,f(gt,Nm)+1+48),F(gt,ea,f(gt,Lm)+1+6);let aD=gt;var Kb,Gb,zb,qb,$b,jb,Wb,Yb;const _n=class _n{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],a=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],r=e[2],s=e[3],o=e[4]||[],i=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(r.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let b=0;for(const P of o)b+=1,b=Math.ceil(b/4)*4,b+=4+P.coords.length*4,b+=4+P.colors.length*4,P.verticesPerRow!==void 0&&(b+=4);const C=20+d*8+h*3+g*8+(i?16:0)+(u?3:0)+b,E=new ArrayBuffer(C),x=new DataView(E),I=new Uint8Array(E);x.setUint8(f(_n,Kb),t),x.setUint8(f(_n,Gb),i?1:0),x.setUint8(f(_n,zb),u?1:0),x.setUint8(f(_n,qb),l),x.setUint32(f(_n,$b),d,!0),x.setUint32(f(_n,jb),h,!0),x.setUint32(f(_n,Wb),g,!0),x.setUint32(f(_n,Yb),v,!0);let T=20;new Float32Array(E,T,d*2).set(r),T+=d*8,I.set(s,T),T+=h*3;for(const[P,D]of a)x.setFloat32(T,P,!0),T+=4,x.setUint32(T,parseInt(D.slice(1),16),!0),T+=4;if(i)for(const P of i)x.setFloat32(T,P,!0),T+=4;u&&(I.set(u,T),T+=3);for(let P=0;P<o.length;P++){const D=o[P];x.setUint8(T,D.type),T+=1,T=Math.ceil(T/4)*4,x.setUint32(T,D.coords.length,!0),T+=4,new Int32Array(E,T,D.coords.length).set(D.coords),T+=D.coords.length*4,x.setUint32(T,D.colors.length,!0),T+=4,new Int32Array(E,T,D.colors.length).set(D.colors),T+=D.colors.length*4,D.verticesPerRow!==void 0&&(x.setUint32(T,D.verticesPerRow,!0),T+=4)}return E}getIR(){const e=this.view,t=this.data[f(_n,Kb)],i=!!this.data[f(_n,Gb)],r=!!this.data[f(_n,zb)],s=e.getUint32(f(_n,$b),!0),a=e.getUint32(f(_n,jb),!0),o=e.getUint32(f(_n,Wb),!0),l=e.getUint32(f(_n,Yb),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let E=0;E<o;++E){const x=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([x,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(i){v=[];for(let E=0;E<4;++E)v.push(e.getFloat32(u,!0)),u+=4}let b=null;r&&(b=new Uint8Array(this.buffer,u,3),u+=3);const C=[];for(let E=0;E<l;++E){const x=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const R=e.getUint32(u,!0);u+=4;const P=new Int32Array(this.buffer,u,R);u+=R*4;const D={type:x,coords:T,colors:P};x===NR.LATTICE&&(D.verticesPerRow=e.getUint32(u,!0),u+=4),C.push(D)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const E=this.data[f(_n,qb)];let x=null;if(d.length>0){let I=d[0],T=d[0],R=d[1],P=d[1];for(let D=0;D<d.length;D+=2){const Q=d[D],H=d[D+1];I=I>Q?Q:I,R=R>H?H:R,T=T<Q?Q:T,P=P<H?H:P}x=[I,R,T,P]}return["Mesh",E,d,h,C,x,v,b]}throw new Error(`Unsupported pattern kind: ${t}`)}};Kb=new WeakMap,Gb=new WeakMap,zb=new WeakMap,qb=new WeakMap,$b=new WeakMap,jb=new WeakMap,Wb=new WeakMap,Yb=new WeakMap,F(_n,Kb,0),F(_n,Gb,1),F(_n,zb,2),F(_n,qb,3),F(_n,$b,4),F(_n,jb,8),F(_n,Wb,12),F(_n,Yb,16);let oD=_n;function kce(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(os)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Oce(n){if(os&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return GB(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function kS(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const AD=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Hce=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",Vce=Cce.bind(null,AD,Hce);var Pl,g1;class Kce{constructor(){F(this,Pl,new Map);F(this,g1,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};f(this,g1).then(()=>{for(const[r]of f(this,Pl))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){ut("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,Pl).set(t,r)}removeEventListener(e,t){const i=f(this,Pl).get(t);i==null||i(),f(this,Pl).delete(t)}terminate(){for(const[,e]of f(this,Pl))e==null||e();f(this,Pl).clear()}}Pl=new WeakMap,g1=new WeakMap;const OS={DATA:1,ERROR:2},Ii={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function BK(){}function Cs(n){if(n instanceof Wd||n instanceof LR||n instanceof pK||n instanceof J_||n instanceof iU)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Sn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Wd(n.message);case"InvalidPDFException":return new LR(n.message);case"PasswordException":return new pK(n.message,n.code);case"ResponseException":return new J_(n.message,n.status,n.missing);case"UnknownErrorException":return new iU(n.message,n.details)}return new iU(n.message,n.toString())}var Qm,fo,yj,wj,bj,Zx;class nw{constructor(e,t,i){F(this,fo);F(this,Qm,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",U(this,fo,yj).bind(this),{signal:f(this,Qm).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Ii.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Rt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Ii.CANCEL,streamId:s,reason:Cs(u)}),d.promise}},i)}destroy(){var e;(e=f(this,Qm))==null||e.abort(),_(this,Qm,null)}}Qm=new WeakMap,fo=new WeakSet,yj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){U(this,fo,bj).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===OS.DATA)r.resolve(e.data);else if(e.callback===OS.ERROR)r.reject(Cs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:OS.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:OS.ERROR,callbackId:e.callbackId,reason:Cs(a)})});return}if(e.streamId){U(this,fo,wj).call(this,e);return}t(e.data)},wj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Ii.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Ii.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Rt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Ii.ERROR,streamId:t,reason:Cs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Ii.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:Ii.START_COMPLETE,streamId:t,reason:Cs(u)})})},bj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Ii.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Cs(e.reason));break;case Ii.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Cs(e.reason));break;case Ii.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:Ii.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||BK).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Ii.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:Ii.PULL_COMPLETE,streamId:t,reason:Cs(u)})});break;case Ii.ENQUEUE:if(Rt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Ii.CLOSE:if(Rt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),U(this,fo,Zx).call(this,a,t);break;case Ii.ERROR:Rt(a,"error should have stream controller"),a.controller.error(Cs(e.reason)),U(this,fo,Zx).call(this,a,t);break;case Ii.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Cs(e.reason)),U(this,fo,Zx).call(this,a,t);break;case Ii.CANCEL:if(!o)break;const l=Cs(e.reason);Promise.try(o.onCancel||BK,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Ii.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:Ii.CANCEL_COMPLETE,streamId:t,reason:Cs(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Zx=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Xb;class Cj{constructor({enableHWA:e=!1}){F(this,Xb,!1);_(this,Xb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!f(this,Xb)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Sn("Abstract method `_createCanvas` called.")}}Xb=new WeakMap;class Gce extends Cj{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class Bj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Sn("Abstract method `_fetch` called.")}}class EK extends Bj{async _fetch(e){const t=await zB(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):GB(t)}}class Ej{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var hh,km,Rl,Dl,Hr,ph,gh,De,Lr,iw,Mg,e_,Ug,Sj,lD,Pg,rw,sw,uD,aw;class zce extends Ej{constructor({docId:t,ownerDocument:i=globalThis.document}){super();F(this,De);F(this,hh);F(this,km);F(this,Rl);F(this,Dl);F(this,Hr);F(this,ph);F(this,gh,0);_(this,Dl,t),_(this,Hr,i)}addFilter(t){if(!t)return"none";let i=f(this,De,Lr).get(t);if(i)return i;const[r,s,a]=U(this,De,e_).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(i=f(this,De,Lr).get(o),i)return f(this,De,Lr).set(t,i),i;const l=`g_${f(this,Dl)}_transfer_map_${ci(this,gh)._++}`,u=U(this,De,Ug).call(this,l);f(this,De,Lr).set(t,u),f(this,De,Lr).set(o,u);const d=U(this,De,Pg).call(this,l);return U(this,De,sw).call(this,r,s,a,d),u}addHCMFilter(t,i){var b;const r=`${t}-${i}`,s="base";let a=f(this,De,iw).get(s);if((a==null?void 0:a.key)===r||(a?((b=a.filter)==null||b.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},f(this,De,iw).set(s,a)),!t||!i))return a.url;const o=U(this,De,aw).call(this,t);t=Ke.makeHexColor(...o);const l=U(this,De,aw).call(this,i);if(i=Ke.makeHexColor(...l),f(this,De,Mg).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const u=new Array(256);for(let C=0;C<=255;C++){const E=C/255;u[C]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,Dl)}_hcm_filter`,g=a.filter=U(this,De,Pg).call(this,h);U(this,De,sw).call(this,d,d,d,g),U(this,De,lD).call(this,g);const v=(C,E)=>{const x=o[C]/255,I=l[C]/255,T=new Array(E+1);for(let R=0;R<=E;R++)T[R]=x+R/E*(I-x);return T.join(",")};return U(this,De,sw).call(this,v(0,5),v(1,5),v(2,5),g),a.url=U(this,De,Ug).call(this,h),a.url}addAlphaFilter(t){let i=f(this,De,Lr).get(t);if(i)return i;const[r]=U(this,De,e_).call(this,[t]),s=`alpha_${r}`;if(i=f(this,De,Lr).get(s),i)return f(this,De,Lr).set(t,i),i;const a=`g_${f(this,Dl)}_alpha_map_${ci(this,gh)._++}`,o=U(this,De,Ug).call(this,a);f(this,De,Lr).set(t,o),f(this,De,Lr).set(s,o);const l=U(this,De,Pg).call(this,a);return U(this,De,uD).call(this,r,l),o}addLuminosityFilter(t){let i=f(this,De,Lr).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=U(this,De,e_).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=f(this,De,Lr).get(s),i)return f(this,De,Lr).set(t,i),i;const a=`g_${f(this,Dl)}_luminosity_map_${ci(this,gh)._++}`,o=U(this,De,Ug).call(this,a);f(this,De,Lr).set(t,o),f(this,De,Lr).set(s,o);const l=U(this,De,Pg).call(this,a);return U(this,De,Sj).call(this,l),t&&U(this,De,uD).call(this,r,l),o}addHighlightHCMFilter(t,i,r,s,a){var I;const o=`${i}-${r}-${s}-${a}`;let l=f(this,De,iw).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,De,iw).set(t,l)),!i||!r))return l.url;const[u,d]=[i,r].map(U(this,De,aw).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,b]=[s,a].map(U(this,De,aw).bind(this));g<h&&([h,g,v,b]=[g,h,b,v]),f(this,De,Mg).style.color="";const C=(T,R,P)=>{const D=new Array(256),Q=(g-h)/P,H=T/255,k=(R-T)/(255*P);let K=0;for(let V=0;V<=P;V++){const z=Math.round(h+V*Q),Z=H+V*k;for(let ne=K;ne<=z;ne++)D[ne]=Z;K=z+1}for(let V=K;V<256;V++)D[V]=D[K-1];return D.join(",")},E=`g_${f(this,Dl)}_hcm_${t}_filter`,x=l.filter=U(this,De,Pg).call(this,E);return U(this,De,lD).call(this,x),U(this,De,sw).call(this,C(v[0],b[0],5),C(v[1],b[1],5),C(v[2],b[2],5),x),l.url=U(this,De,Ug).call(this,E),l.url}destroy(t=!1){var i,r,s,a;t&&((i=f(this,ph))!=null&&i.size)||((r=f(this,Rl))==null||r.parentNode.parentNode.remove(),_(this,Rl,null),(s=f(this,km))==null||s.clear(),_(this,km,null),(a=f(this,ph))==null||a.clear(),_(this,ph,null),_(this,gh,0))}}hh=new WeakMap,km=new WeakMap,Rl=new WeakMap,Dl=new WeakMap,Hr=new WeakMap,ph=new WeakMap,gh=new WeakMap,De=new WeakSet,Lr=function(){return f(this,km)||_(this,km,new Map)},iw=function(){return f(this,ph)||_(this,ph,new Map)},Mg=function(){if(!f(this,Rl)){const t=f(this,Hr).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=f(this,Hr).createElementNS(hl,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,Rl,f(this,Hr).createElementNS(hl,"defs")),t.append(r),r.append(f(this,Rl)),f(this,Hr).body.append(t)}return f(this,Rl)},e_=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[i,r,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=i[u]/255,o[u]=r[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Ug=function(t){if(f(this,hh)===void 0){_(this,hh,"");const i=f(this,Hr).URL;i!==f(this,Hr).baseURI&&(H1(i)?ut('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,hh,M6(i,"")))}return`url(${f(this,hh)}#${t})`},Sj=function(t){const i=f(this,Hr).createElementNS(hl,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},lD=function(t){const i=f(this,Hr).createElementNS(hl,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Pg=function(t){const i=f(this,Hr).createElementNS(hl,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),f(this,De,Mg).append(i),i},rw=function(t,i,r){const s=f(this,Hr).createElementNS(hl,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},sw=function(t,i,r,s){const a=f(this,Hr).createElementNS(hl,"feComponentTransfer");s.append(a),U(this,De,rw).call(this,a,"feFuncR",t),U(this,De,rw).call(this,a,"feFuncG",i),U(this,De,rw).call(this,a,"feFuncB",r)},uD=function(t,i){const r=f(this,Hr).createElementNS(hl,"feComponentTransfer");i.append(r),U(this,De,rw).call(this,r,"feFuncA",t)},aw=function(t){return f(this,De,Mg).style.color=t,$B(getComputedStyle(f(this,De,Mg)).getPropertyValue("color"))};class xj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Sn("Abstract method `_fetch` called.")}}class SK extends xj{async _fetch(e){const t=await zB(e,"arraybuffer");return new Uint8Array(t)}}class _j{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Sn("Abstract method `_fetch` called.")}}class xK extends _j{async _fetch(e){const t=await zB(e,"arraybuffer");return new Uint8Array(t)}}os&&ut("Please use the `legacy` build in Node.js environments.");async function QQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class qce extends Ej{}class $ce extends Cj{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class jce extends Bj{async _fetch(e){return QQ(e)}}class Wce extends xj{async _fetch(e){return QQ(e)}}class Yce extends _j{async _fetch(e){return QQ(e)}}const vg="__forcedDependency",{floor:_K,ceil:TK}=Math;function HS(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const cD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Om,Xc;class Xce{constructor(e,t){F(this,Om);F(this,Xc);_(this,Om,e),_(this,Xc,t)}get length(){return f(this,Om).length}isEmpty(e){return f(this,Om)[e]===cD}minX(e){return f(this,Xc)[e*4+0]/256}minY(e){return f(this,Xc)[e*4+1]/256}maxX(e){return(f(this,Xc)[e*4+2]+1)/256}maxY(e){return(f(this,Xc)[e*4+3]+1)/256}}Om=new WeakMap,Xc=new WeakMap;const VS=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Ss,xs,mh,Fo,vh,Nl,rn,hn,Ll,_s,Jb,Hm,yh,wh,Ql,Vr,bA,Zb,dD;class Jce{constructor(e,t,i=!1){F(this,Zb);F(this,Ss,{__proto__:null});F(this,xs,{__proto__:null,transform:[],moveText:[],sameLineText:[],[vg]:[]});F(this,mh,new Map);F(this,Fo,[]);F(this,vh,[]);F(this,Nl,[[1,0,0,1,0,0]]);F(this,rn,[-1/0,-1/0,1/0,1/0]);F(this,hn,new Float64Array([1/0,1/0,-1/0,-1/0]));F(this,Ll,-1);F(this,_s,new Set);F(this,Jb,new Map);F(this,Hm,new Map);F(this,yh);F(this,wh);F(this,Ql);F(this,Vr);F(this,bA);_(this,yh,e.width),_(this,wh,e.height),U(this,Zb,dD).call(this,t),i&&_(this,bA,new Map)}growOperationsCount(e){e>=f(this,Vr).length&&U(this,Zb,dD).call(this,e,f(this,Vr))}save(e){return _(this,Ss,{__proto__:f(this,Ss)}),_(this,xs,{__proto__:f(this,xs),transform:{__proto__:f(this,xs).transform},moveText:{__proto__:f(this,xs).moveText},sameLineText:{__proto__:f(this,xs).sameLineText},[vg]:{__proto__:f(this,xs)[vg]}}),_(this,rn,{__proto__:f(this,rn)}),f(this,Fo).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(f(this,Ss));if(t===null)return this;_(this,Ss,t),_(this,xs,Object.getPrototypeOf(f(this,xs))),_(this,rn,Object.getPrototypeOf(f(this,rn)));const i=f(this,Fo).pop();return i!==void 0&&((r=VS(f(this,bA),e))==null||r.dependencies.add(i),f(this,Vr)[e]=f(this,Vr)[i]),this}recordOpenMarker(e){return f(this,Fo).push(e),this}getOpenMarker(){return f(this,Fo).length===0?null:f(this,Fo).at(-1)}recordCloseMarker(e){var i;const t=f(this,Fo).pop();return t!==void 0&&((i=VS(f(this,bA),e))==null||i.dependencies.add(t),f(this,Vr)[e]=f(this,Vr)[t]),this}beginMarkedContent(e){return f(this,vh).push(e),this}endMarkedContent(e){var i;const t=f(this,vh).pop();return t!==void 0&&((i=VS(f(this,bA),e))==null||i.dependencies.add(t),f(this,Vr)[e]=f(this,Vr)[t]),this}pushBaseTransform(e){return f(this,Nl).push(Ke.multiplyByDOMMatrix(f(this,Nl).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,Nl).length>1&&f(this,Nl).pop(),this}recordSimpleData(e,t){return f(this,Ss)[e]=t,this}recordIncrementalData(e,t){return f(this,xs)[e].push(t),this}resetIncrementalData(e,t){return f(this,xs)[e].length=0,this}recordNamedData(e,t){return f(this,mh).set(e,t),this}recordSimpleDataFromNamed(e,t,i){f(this,Ss)[e]=f(this,mh).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(vg,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,Ss)&&this.recordFutureForcedDependency(t,f(this,Ss)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,_s))this.recordFutureForcedDependency(vg,e);return this}resetBBox(e){return f(this,Ll)!==e&&(_(this,Ll,e),f(this,hn)[0]=1/0,f(this,hn)[1]=1/0,f(this,hn)[2]=-1/0,f(this,hn)[3]=-1/0),this}recordClipBox(e,t,i,r,s,a){const o=Ke.multiplyByDOMMatrix(f(this,Nl).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ke.axialAlignedBoundingBox([i,s,r,a],o,l);const u=Ke.intersect(f(this,rn),l);return u?(f(this,rn)[0]=u[0],f(this,rn)[1]=u[1],f(this,rn)[2]=u[2],f(this,rn)[3]=u[3]):(f(this,rn)[0]=f(this,rn)[1]=1/0,f(this,rn)[2]=f(this,rn)[3]=-1/0),this}recordBBox(e,t,i,r,s,a){const o=f(this,rn);if(o[0]===1/0)return this;const l=Ke.multiplyByDOMMatrix(f(this,Nl).at(-1),t.getTransform());if(o[0]===-1/0)return Ke.axialAlignedBoundingBox([i,s,r,a],l,f(this,hn)),this;const u=[1/0,1/0,-1/0,-1/0];return Ke.axialAlignedBoundingBox([i,s,r,a],l,u),f(this,hn)[0]=Math.min(f(this,hn)[0],Math.max(u[0],o[0])),f(this,hn)[1]=Math.min(f(this,hn)[1],Math.max(u[1],o[1])),f(this,hn)[2]=Math.max(f(this,hn)[2],Math.min(u[2],o[2])),f(this,hn)[3]=Math.max(f(this,hn)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,a=0,o){const l=i.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,Hm).get(i),u!==!1&&(d=[0,0,0,0],Ke.axialAlignedBoundingBox(l,i.fontMatrix,d),(r!==1||s!==0||a!==0)&&Ke.scaleMinMax([r,0,0,-r,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,Hm).set(i,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,hn)[0]=Math.max(0,f(this,rn)[0]),f(this,hn)[1]=Math.max(0,f(this,rn)[1]),f(this,hn)[2]=Math.min(f(this,yh),f(this,rn)[2]),f(this,hn)[3]=Math.min(f(this,wh),f(this,rn)[3]),this}getSimpleIndex(e){return f(this,Ss)[e]}recordDependencies(e,t){const i=f(this,_s),r=f(this,Ss),s=f(this,xs);for(const a of t)a in f(this,Ss)?i.add(r[a]):a in s&&s[a].forEach(i.add,i);return this}recordNamedDependency(e,t){return f(this,mh).has(t)&&f(this,_s).add(f(this,mh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[vg]),f(this,bA)){const i=VS(f(this,bA),e),{dependencies:r}=i;f(this,_s).forEach(r.add,r),f(this,Fo).forEach(r.add,r),f(this,vh).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(f(this,Ll)===e){const i=_K(f(this,hn)[0]*256/f(this,yh)),r=_K(f(this,hn)[1]*256/f(this,wh)),s=TK(f(this,hn)[2]*256/f(this,yh)),a=TK(f(this,hn)[3]*256/f(this,wh));HS(f(this,Ql),e,i,r,s,a);for(const o of f(this,_s))o!==e&&HS(f(this,Ql),o,i,r,s,a);for(const o of f(this,Fo))o!==e&&HS(f(this,Ql),o,i,r,s,a);for(const o of f(this,vh))o!==e&&HS(f(this,Ql),o,i,r,s,a);t||(f(this,_s).clear(),_(this,Ll,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(f(this,_s));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,Ll)===e&&(_(this,Ll,-1),f(this,rn)[0]=Math.max(f(this,rn)[0],f(this,hn)[0]),f(this,rn)[1]=Math.max(f(this,rn)[1],f(this,hn)[1]),f(this,rn)[2]=Math.min(f(this,rn)[2],f(this,hn)[2]),f(this,rn)[3]=Math.min(f(this,rn)[3],f(this,hn)[3]),t||f(this,_s).clear()),this}_takePendingDependencies(){const e=f(this,_s);return _(this,_s,new Set),e}_extractOperation(e){const t=f(this,Jb).get(e);return f(this,Jb).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,_s).add(t)}take(){return f(this,Hm).clear(),new Xce(f(this,Vr),f(this,Ql))}takeDebugMetadata(){return f(this,bA)}}Ss=new WeakMap,xs=new WeakMap,mh=new WeakMap,Fo=new WeakMap,vh=new WeakMap,Nl=new WeakMap,rn=new WeakMap,hn=new WeakMap,Ll=new WeakMap,_s=new WeakMap,Jb=new WeakMap,Hm=new WeakMap,yh=new WeakMap,wh=new WeakMap,Ql=new WeakMap,Vr=new WeakMap,bA=new WeakMap,Zb=new WeakSet,dD=function(e,t){const i=new ArrayBuffer(e*4);_(this,Ql,new Uint8ClampedArray(i)),_(this,Vr,new Uint32Array(i)),t&&t.length>0?(f(this,Vr).set(t),f(this,Vr).fill(cD,t.length)):f(this,Vr).fill(cD)};var Cn,Jn,Mo,Vm,Km;const QO=class QO{constructor(e,t,i){F(this,Cn);F(this,Jn);F(this,Mo);F(this,Vm,0);F(this,Km,0);if(e instanceof QO&&f(e,Mo)===!!i)return e;_(this,Cn,e),_(this,Jn,t),_(this,Mo,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ci(this,Km)._++,f(this,Cn).save(f(this,Jn)),this}restore(e){return f(this,Km)>0&&(f(this,Cn).restore(f(this,Jn)),ci(this,Km)._--),this}recordOpenMarker(e){return ci(this,Vm)._++,this}getOpenMarker(){return f(this,Vm)>0?f(this,Jn):f(this,Cn).getOpenMarker()}recordCloseMarker(e){return ci(this,Vm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,Cn).pushBaseTransform(e),this}popBaseTransform(){return f(this,Cn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,Cn).recordSimpleData(e,f(this,Jn)),this}recordIncrementalData(e,t){return f(this,Cn).recordIncrementalData(e,f(this,Jn)),this}resetIncrementalData(e,t){return f(this,Cn).resetIncrementalData(e,f(this,Jn)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return f(this,Cn).recordSimpleDataFromNamed(e,t,f(this,Jn)),this}recordFutureForcedDependency(e,t){return f(this,Cn).recordFutureForcedDependency(e,f(this,Jn)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,Cn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,Cn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,Mo)||f(this,Cn).resetBBox(f(this,Jn)),this}recordClipBox(e,t,i,r,s,a){return f(this,Mo)||f(this,Cn).recordClipBox(f(this,Jn),t,i,r,s,a),this}recordBBox(e,t,i,r,s,a){return f(this,Mo)||f(this,Cn).recordBBox(f(this,Jn),t,i,r,s,a),this}recordCharacterBBox(e,t,i,r,s,a,o){return f(this,Mo)||f(this,Cn).recordCharacterBBox(f(this,Jn),t,i,r,s,a,o),this}recordFullPageBBox(e){return f(this,Mo)||f(this,Cn).recordFullPageBBox(f(this,Jn)),this}getSimpleIndex(e){return f(this,Cn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,Cn).recordDependencies(f(this,Jn),t),this}recordNamedDependency(e,t){return f(this,Cn).recordNamedDependency(f(this,Jn),t),this}recordOperation(e){return f(this,Cn).recordOperation(f(this,Jn),!0),this}recordShowTextOperation(e){return f(this,Cn).recordShowTextOperation(f(this,Jn),!0),this}bboxToClipBoxDropOperation(e){return f(this,Mo)||f(this,Cn).bboxToClipBoxDropOperation(f(this,Jn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Cn=new WeakMap,Jn=new WeakMap,Mo=new WeakMap,Vm=new WeakMap,Km=new WeakMap;let nT=QO;const ka={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Tr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function fD(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class kQ{isModifyingCurrentTransform(){return!1}getPattern(){Sn("Abstract method `getPattern` called.")}}class Zce extends kQ{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===Tr.STROKE||r===Tr.FILL){const a=t.current.getClippedPathBoundingBox(r,qn(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),i=Ke.transform(i,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),fD(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else fD(e,this._bbox),s=this._createGradient(e);return s}}function aU(n,e,t,i,r,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g),l[i+1]>l[r+1]&&(g=i,i=r,r=g,g=a,a=o,o=g),l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,C=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY,x=(l[r]+e.offsetX)*e.scaleX,I=(l[r+1]+e.offsetY)*e.scaleY;if(b>=I)return;const T=u[s],R=u[s+1],P=u[s+2],D=u[a],Q=u[a+1],H=u[a+2],k=u[o],K=u[o+1],V=u[o+2],z=Math.round(b),Z=Math.round(I);let ne,de,G,$,re,ae,Ee,q;for(let Y=z;Y<=Z;Y++){if(Y<E){const we=Y<b?0:(b-Y)/(b-E);ne=v-(v-C)*we,de=T-(T-D)*we,G=R-(R-Q)*we,$=P-(P-H)*we}else{let we;Y>I?we=1:E===I?we=0:we=(E-Y)/(E-I),ne=C-(C-x)*we,de=D-(D-k)*we,G=Q-(Q-K)*we,$=H-(H-V)*we}let le;Y<b?le=0:Y>I?le=1:le=(b-Y)/(b-I),re=v-(v-x)*le,ae=T-(T-k)*le,Ee=R-(R-K)*le,q=P-(P-V)*le;const ye=Math.round(Math.min(ne,re)),Be=Math.round(Math.max(ne,re));let _e=h*Y+ye*4;for(let we=ye;we<=Be;we++)le=(ne-we)/(ne-re),le<0?le=0:le>1&&(le=1),d[_e++]=de-(de-ae)*le|0,d[_e++]=G-(G-Ee)*le|0,d[_e++]=$-($-q)*le|0,d[_e++]=255}}function ede(n,e,t){const i=e.coords,r=e.colors;let s,a;switch(e.type){case NR.LATTICE:const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)aU(n,t,i[d],i[d+1],i[d+o],r[d],r[d+1],r[d+o]),aU(n,t,i[d+o+1],i[d+1],i[d+o],r[d+o+1],r[d+1],r[d+o])}break;case NR.TRIANGLES:for(s=0,a=i.length;s<a;s+=3)aU(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class tde extends kQ{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,b=d/g,C={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/b},E=h+4,x=g+4,I=i.getCanvas("mesh",E,x),T=I.context,R=T.createImageData(h,g);if(t){const D=R.data;for(let Q=0,H=D.length;Q<H;Q+=4)D[Q]=t[0],D[Q+1]=t[1],D[Q+2]=t[2],D[Q+3]=255}for(const D of this._figures)ede(R,D,C);return T.putImageData(R,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){fD(e,this._bbox);const s=new Float32Array(2);if(r===Tr.SHADING)Ke.singularValueDecompose2dScale(qn(e),s);else if(this.matrix){Ke.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Ke.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Ke.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,r===Tr.SHADING?null:this._background,t.cachedCanvases);return r!==Tr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class nde extends kQ{getPattern(){return"hotpink"}}function ide(n){switch(n[0]){case"RadialAxial":return new Zce(n);case"Mesh":return new tde(n);case"Dummy":return new nde}throw new Error(`Unknown IR type: ${n[0]}`)}const IK={COLORED:1,UNCOLORED:2},m1=class m1{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var ae,Ee;const{bbox:i,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),O1("TilingType: "+a);const h=i[0],g=i[1],v=i[2],b=i[3],C=v-h,E=b-g,x=new Float32Array(2);Ke.singularValueDecompose2dScale(this.matrix,x);const[I,T]=x;Ke.singularValueDecompose2dScale(this.baseTransform,x);const R=I*x[0],P=T*x[1];let D=C,Q=E,H=!1,k=!1;const K=Math.ceil(u*R),V=Math.ceil(d*P),z=Math.ceil(C*R),Z=Math.ceil(E*P);K>=z?D=u:H=!0,V>=Z?Q=d:k=!0;const ne=this.getSizeAndScale(D,this.ctx.canvas.width,R),de=this.getSizeAndScale(Q,this.ctx.canvas.height,P),G=e.cachedCanvases.getCanvas("pattern",ne.size,de.size),$=G.context,re=l.createCanvasGraphics($,t);if(re.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(re,s,o),$.translate(-ne.scale*h,-de.scale*g),re.transform(0,ne.scale,0,0,de.scale,0,0),$.save(),(ae=re.dependencyTracker)==null||ae.save(),this.clipBbox(re,h,g,v,b),re.baseTransform=qn(re.ctx),re.executeOperatorList(r),re.endDrawing(),(Ee=re.dependencyTracker)==null||Ee.restore(),$.restore(),H||k){const q=G.canvas;H&&(D=u),k&&(Q=d);const Y=this.getSizeAndScale(D,this.ctx.canvas.width,R),le=this.getSizeAndScale(Q,this.ctx.canvas.height,P),ye=Y.size,Be=le.size,_e=e.cachedCanvases.getCanvas("pattern-workaround",ye,Be),we=_e.context,at=H?Math.floor(C/u):0,se=k?Math.floor(E/d):0;for(let Ne=0;Ne<=at;Ne++)for(let $e=0;$e<=se;$e++)we.drawImage(q,ye*Ne,Be*$e,ye,Be,0,0,ye,Be);return{canvas:_e.canvas,scaleX:Y.scale,scaleY:le.scale,offsetX:h,offsetY:g}}return{canvas:G.canvas,scaleX:ne.scale,scaleY:de.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(m1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const a=r-t,o=s-i;e.ctx.rect(t,i,a,o),Ke.axialAlignedBoundingBox([t,i,r,s],qn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case IK.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case IK.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new gce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let a=i;r!==Tr.SHADING&&(a=Ke.transform(a,t.baseTransform),this.matrix&&(a=Ke.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};ge(m1,"MAX_PATTERN_SIZE",3e3);let hD=m1;function rde({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Rr.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=i>>3,h=i&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let b=0;b<r;b++){for(const E=e+d;e<E;e++){const x=e<g?n[e]:255;t[v++]=x&128?u:l,t[v++]=x&64?u:l,t[v++]=x&32?u:l,t[v++]=x&16?u:l,t[v++]=x&8?u:l,t[v++]=x&4?u:l,t[v++]=x&2?u:l,t[v++]=x&1?u:l}if(h===0)continue;const C=e<g?n[e++]:255;for(let E=0;E<h;E++)t[v++]=C&1<<7-E?u:l}return{srcPos:e,destPos:v}}const FK=16,MK=100,sde=15,UK=10,Ps=16,oU=new DOMMatrix,ma=new Float32Array(2),zg=new Float32Array([1/0,1/0,-1/0,-1/0]);function ade(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,a,o){e.transform(t,i,r,s,a,o),this.__originalTransform(t,i,r,s,a,o)},n.setTransform=function(t,i,r,s,a,o){e.setTransform(t,i,r,s,a,o),this.__originalSetTransform(t,i,r,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class ode{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function KS(n,e,t,i,r,s,a,o,l,u){const[d,h,g,v,b,C]=qn(n);if(h===0&&g===0){const I=a*d+b,T=Math.round(I),R=o*v+C,P=Math.round(R),D=(a+l)*d+b,Q=Math.abs(Math.round(D)-T)||1,H=(o+u)*v+C,k=Math.abs(Math.round(H)-P)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,P),n.drawImage(e,t,i,r,s,0,0,Q,k),n.setTransform(d,h,g,v,b,C),[Q,k]}if(d===0&&v===0){const I=o*g+b,T=Math.round(I),R=a*h+C,P=Math.round(R),D=(o+u)*g+b,Q=Math.abs(Math.round(D)-T)||1,H=(a+l)*h+C,k=Math.abs(Math.round(H)-P)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,P),n.drawImage(e,t,i,r,s,0,0,k,Q),n.setTransform(d,h,g,v,b,C),[k,Q]}n.drawImage(e,t,i,r,s,a,o,l,u);const E=Math.hypot(d,h),x=Math.hypot(g,v);return[E*l,x*u]}class PK{constructor(e,t,i){ge(this,"alphaIsShape",!1);ge(this,"fontSize",0);ge(this,"fontSizeScale",1);ge(this,"textMatrix",null);ge(this,"textMatrixScale",1);ge(this,"fontMatrix",DR);ge(this,"leading",0);ge(this,"x",0);ge(this,"y",0);ge(this,"lineX",0);ge(this,"lineY",0);ge(this,"charSpacing",0);ge(this,"wordSpacing",0);ge(this,"textHScale",1);ge(this,"textRenderingMode",yr.FILL);ge(this,"textRise",0);ge(this,"fillColor","#000000");ge(this,"strokeColor","#000000");ge(this,"patternFill",!1);ge(this,"patternStroke",!1);ge(this,"fillAlpha",1);ge(this,"strokeAlpha",1);ge(this,"lineWidth",1);ge(this,"activeSMask",null);ge(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=zg.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Tr.FILL,t=null){const i=this.minMax.slice();if(e===Tr.STROKE){t||Sn("Stroke bounding box must include transform."),Ke.singularValueDecompose2dScale(t,ma);const r=ma[0]*this.lineWidth/2,s=ma[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=Ke.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(zg,0)}getClippedPathBoundingBox(e=Tr.FILL,t=null){return Ke.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function RK(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Ps,s=(t-r)/Ps,a=r===0?s:s+1,o=n.createImageData(i,Ps);let l=0,u;const d=e.data,h=o.data;let g,v,b,C;if(e.kind===Gx.GRAYSCALE_1BPP){const E=d.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),I=x.length,T=i+7>>3,R=4294967295,P=Rr.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?Ps:r,u=0,v=0;v<b;v++){const D=E-l;let Q=0;const H=D>T?i:D*8-7,k=H&-8;let K=0,V=0;for(;Q<k;Q+=8)V=d[l++],x[u++]=V&128?R:P,x[u++]=V&64?R:P,x[u++]=V&32?R:P,x[u++]=V&16?R:P,x[u++]=V&8?R:P,x[u++]=V&4?R:P,x[u++]=V&2?R:P,x[u++]=V&1?R:P;for(;Q<H;Q++)K===0&&(V=d[l++],K=128),x[u++]=V&K?R:P,K>>=1}for(;u<I;)x[u++]=0;n.putImageData(o,0,g*Ps)}}else if(e.kind===Gx.RGBA_32BPP){for(v=0,C=i*Ps*4,g=0;g<s;g++)h.set(d.subarray(l,l+C)),l+=C,n.putImageData(o,0,v),v+=Ps;g<a&&(C=i*r*4,h.set(d.subarray(l,l+C)),n.putImageData(o,0,v))}else if(e.kind===Gx.RGB_24BPP)for(b=Ps,C=i*b,g=0;g<a;g++){for(g>=s&&(b=r,C=i*b),u=0,v=C;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*Ps)}else throw new Error(`bad image kind: ${e.kind}`)}function DK(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Ps,s=(t-r)/Ps,a=r===0?s:s+1,o=n.createImageData(i,Ps);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?Ps:r;({srcPos:l}=rde({src:u,srcPos:l,dest:d,width:i,height:g,nonBlackColor:0})),n.putImageData(o,0,h*Ps)}}function I0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function GS(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function NK(n,e){if(e)return!0;Ke.singularValueDecompose2dScale(n,ma);const t=Math.fround(Sp.pixelRatio*ry.PDF_TO_CSS_UNITS);return ma[0]<=t&&ma[1]<=t}const Ade=["butt","round","square"],lde=["miter","round","bevel"],ude={},LK={};var jo,pD,gD,mD;const kO=class kO{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){F(this,jo);this.ctx=e,this.current=new PK(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new ode(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...qn(this.compositeCtx))}this.ctx.save(),GS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=qn(this.ctx)}executeOperatorList(e,t,i,r,s){var x;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>UK&&typeof i=="function",h=d?Date.now()+sde:0;let g=0;const v=this.commonObjs,b=this.objs;let C,E;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,i),l;if(!s||s(l))if(C=o[l],E=a[l]??null,C!==Gw.dependency)E===null?this[C](l):this[C](l,...E);else for(const I of E){(x=this.dependencyTracker)==null||x.recordNamedData(I,l);const T=I.startsWith("g_")?v:b;if(!T.has(I))return T.get(I,i),l}if(l++,l===u)return l;if(d&&++g>UK){if(Date.now()>h)return i(),l;g=0}}}endDrawing(){U(this,jo,pD).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),U(this,jo,gD).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,l=r,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var K,V;const i=this.ctx,{width:r,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=qn(i);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const Z=u.get(d);if(Z&&!o){const ne=Math.round(Math.min(l[0],l[2])+l[4]),de=Math.round(Math.min(l[1],l[3])+l[5]);return(K=this.dependencyTracker)==null||K.recordDependencies(e,ka.transformAndFill),{canvas:Z,offsetX:ne,offsetY:de}}h=Z}h||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),DK(g.context,t));let v=Ke.transform(l,[1/r,0,0,-1/s,0,0]);v=Ke.transform(v,[1,0,0,1,0,-s]);const b=zg.slice();Ke.axialAlignedBoundingBox([0,0,r,s],v,b);const[C,E,x,I]=b,T=Math.round(x-C)||1,R=Math.round(I-E)||1,P=this.cachedCanvases.getCanvas("fillCanvas",T,R),D=P.context,Q=C,H=E;D.translate(-Q,-H),D.transform(...v),h||(h=this._scaleImage(g.canvas,sA(D)),h=h.img,u&&o&&u.set(d,h)),D.imageSmoothingEnabled=NK(qn(D),t.interpolate),KS(D,h,0,0,h.width,h.height,0,0,r,s),D.globalCompositeOperation="source-in";const k=Ke.transform(sA(D),[1,0,0,1,-Q,-H]);return D.fillStyle=o?a.getPattern(i,this,k,Tr.FILL,e):a,D.fillRect(0,0,r,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,P.canvas)),(V=this.dependencyTracker)==null||V.recordDependencies(e,ka.transformAndFill),{canvas:P.canvas,offsetX:Math.round(Q),offsetY:Math.round(H)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=Ade[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=lde[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),I0(this.suspendedCtx,a),ade(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),I0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,i,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,b=u-h;if(a)if(v<0||b<0||v+i>g.width||b+r>g.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),x=E.context;x.drawImage(g,-v,-b),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,i,r),x.globalCompositeOperation="source-over",g=E.canvas,v=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(v,b,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,b,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const C=new Path2D;C.rect(l,u,i,r),t.clip(C),t.globalCompositeOperation="destination-in",t.drawImage(g,v,b,i,r,l,u,i,r),t.restore()}save(e){var i;this.inSMaskMode&&I0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&I0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Gw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=L6(s)),Ke.axialAlignedBoundingBox(r,qn(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var a;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,sA(r),Tr.STROKE,e),o){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,ka.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Tr.STROKE,qn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var u,d,h;const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?r.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),r.save(),r.fillStyle=s.getPattern(r,this,sA(r),Tr.FILL,e),g){const v=new Path2D;v.addPath(t,r.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,ka.fill),o&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,ka.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=ude}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=LK}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&r.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||DR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ut("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((g=r.systemFontInfo)==null?void 0:g.css)||`"${a}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const u=r.italic?"italic":"normal";let d=i;i<FK?d=FK:i>MK&&(d=MK),this.current.fontSizeScale=i/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,a){var x,I,T,R;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&yr.FILL_STROKE_MASK,v=!!(d&yr.ADD_TO_PATH_FLAG),b=l.patternFill&&!u.missingFile,C=l.patternStroke&&!u.missingFile;let E;if((u.disableFontFace||v||b||C)&&!u.missingFile&&(E=u.getPathGenerator(this.commonObjs,t)),E&&(u.disableFontFace||b||C)){o.save(),o.translate(i,r),o.scale(h,-h),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,u);let P;if(g===yr.FILL||g===yr.FILL_STROKE)if(s){P=o.getTransform(),o.setTransform(...s);const D=U(this,jo,mD).call(this,E,P,s);o.fill(D)}else o.fill(E);if(g===yr.STROKE||g===yr.FILL_STROKE)if(a){P||(P=o.getTransform()),o.setTransform(...a);const{a:D,b:Q,c:H,d:k}=P,K=Ke.inverseTransform(a),V=Ke.transform([D,Q,H,k,0,0],K);Ke.singularValueDecompose2dScale(V,ma),o.lineWidth*=Math.max(ma[0],ma[1])/h,o.stroke(U(this,jo,mD).call(this,E,P,a))}else o.lineWidth/=h,o.stroke(E);o.restore()}else(g===yr.FILL||g===yr.FILL_STROKE)&&(o.fillText(t,i,r),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t))),(g===yr.STROKE||g===yr.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t)).recordDependencies(e,ka.stroke)),o.strokeText(t,i,r));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:qn(o),x:i,y:r,fontSize:h,path:E}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,u,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return ct(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var H,k,K,V;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ka.showText).resetBBox(e),this.current.textRenderingMode&yr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(k=this.dependencyTracker)==null||k.recordOperation(e);return}const a=this.ctx,o=i.fontSizeScale,l=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,h=i.textHScale*d,g=t.length,v=r.vertical,b=v?1:-1,C=r.defaultVMetrics,E=s*i.fontMatrix[0],x=i.textRenderingMode===yr.FILL&&!r.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(i.patternFill){a.save();const z=i.fillColor.getPattern(a,this,sA(a),Tr.FILL,e);I=qn(a),a.restore(),a.fillStyle=z}if(i.patternStroke){a.save();const z=i.strokeColor.getPattern(a,this,sA(a),Tr.STROKE,e);T=qn(a),a.restore(),a.strokeStyle=z}let R=i.lineWidth;const P=i.textMatrixScale;if(P===0||R===0){const z=i.textRenderingMode&yr.FILL_STROKE_MASK;(z===yr.STROKE||z===yr.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=P;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,r.isInvalidPDFjsFont){const z=[];let Z=0;for(const de of t)z.push(de.unicode),Z+=de.width;const ne=z.join("");if(a.fillText(ne,0,0),this.dependencyTracker!==null){const de=a.measureText(ne);this.dependencyTracker.recordBBox(e,this.ctx,-de.actualBoundingBoxLeft,de.actualBoundingBoxRight,-de.actualBoundingBoxAscent,de.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=Z*E*h,a.restore(),this.compose();return}let D=0,Q;for(Q=0;Q<g;++Q){const z=t[Q];if(typeof z=="number"){D+=b*z*s/1e3;continue}let Z=!1;const ne=(z.isSpace?u:0)+l,de=z.fontChar,G=z.accent;let $,re,ae=z.width;if(v){const Y=z.vmetric||C,le=-(z.vmetric?Y[1]:ae*.5)*E,ye=Y[2]*E;ae=Y?-Y[0]:ae,$=le/o,re=(D+ye)/o}else $=D/o,re=0;let Ee;if(r.remeasure&&ae>0){Ee=a.measureText(de);const Y=Ee.width*1e3/s*o;if(ae<Y&&this.isFontSubpixelAAEnabled){const le=ae/Y;Z=!0,a.save(),a.scale(le,1),$/=le}else ae!==Y&&($+=(ae-Y)/2e3*s/o)}if(this.contentVisible&&(z.isInFont||r.missingFile)){if(x&&!G)a.fillText(de,$,re),(K=this.dependencyTracker)==null||K.recordCharacterBBox(e,a,Ee?{bbox:null}:r,s/o,$,re,()=>Ee??a.measureText(de));else if(this.paintChar(e,de,$,re,I,T),G){const Y=$+s*G.offset.x/o,le=re-s*G.offset.y/o;this.paintChar(e,G.fontChar,Y,le,I,T)}}const q=v?ae*E-ne*d:ae*E+ne*d;D+=q,Z&&a.restore()}v?i.y-=D:i.x+=D*h,a.restore(),this.compose(),(V=this.dependencyTracker)==null||V.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,l=s.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,g=r.fontMatrix||DR,v=t.length,b=r.textRenderingMode===yr.INVISIBLE;let C,E,x,I;if(b||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new nT(T,e):null,C=0;C<v;++C){if(E=t[C],typeof E=="number"){I=l*E*a/1e3,this.ctx.translate(I,0),r.x+=I*h;continue}const R=(E.isSpace?d:0)+u,P=s.charProcOperatorList[E.operatorListId];P?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...g),this.executeOperatorList(P),this.restore()):ut(`Type3 character "${E.operatorListId}" is not available.`);const D=[E.width,0];Ke.applyTransform(D,g),x=D[0]*a+R,i.translate(x,0),r.x+=x*h}i.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,a,o){var u;const l=new Path2D;l.rect(r,s,a-r,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,r,a,s,o).recordClipBox(e,this.ctx,r,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||qn(this.ctx),s={createCanvasGraphics:(a,o)=>new kO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new nT(this.dependencyTracker,o,!0):null)};i=new hD(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=ide(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,sA(i),Tr.SHADING,e);const s=sA(i);if(s){const{width:o,height:l}=i.canvas,u=zg.slice();Ke.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ka.transform).recordDependencies(e,ka.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Sn("Should not call beginInlineImage")}beginImageData(){Sn("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=qn(this.ctx),i)){Ke.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,a,o,l]=i,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||O1("TODO: Support non-isolated groups."),t.knockout&&ut("Knockout groups not supported.");const r=qn(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=zg.slice();Ke.axialAlignedBoundingBox(t.bbox,qn(i),s);const a=[0,0,i.canvas.width,i.canvas.height];s=Ke.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...r);let b=new Path2D;const[C,E,x,I]=t.bbox;if(b.rect(C,E,x-C,I-E),t.matrix){const R=new Path2D;R.addPath(b,new DOMMatrix(t.matrix)),b=R}v.clip(b),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),I0(i,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=qn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=zg.slice();Ke.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,r,s,a){if(U(this,jo,pD).call(this),GS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const o=i[2]-i[0],l=i[3]-i[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=o,i[3]=l,Ke.singularValueDecompose2dScale(qn(this.ctx),ma);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(ma[0],0,0,-ma[1],0,l*ma[1]),GS(this.ctx)}else{GS(this.ctx),this.endPath(e);const u=new Path2D;u.rect(i[0],i[1],o,l),this.ctx.clip(u)}}this.current=new PK(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),U(this,jo,gD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=qn(l);l.transform(i,r,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let b=0,C=o.length;b<C;b+=2){const E=Ke.transform(u,[i,r,s,a,o[b],o[b+1]]);l.drawImage(d.canvas,E[4],E[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,E[4],E[4]+d.canvas.width,E[5],E[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,ka.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,b=this.cachedCanvases.getCanvas("maskCanvas",h,g),C=b.context;C.save();const E=this.getObject(e,d,u);DK(C,E),C.globalCompositeOperation="source-in",C.fillStyle=s?r.getPattern(C,this,sA(i),Tr.FILL,e):r,C.fillRect(0,0,h,g),C.restore(),i.save(),i.transform(...v),i.scale(1,-1),KS(i,b.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,h,0,g),i.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){ut("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){ut("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[i,0,0,r,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/i,-1/r);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;RK(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,sA(s));s.imageSmoothingEnabled=NK(qn(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,ka.imageXObject).recordOperation(e),KS(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var a,o,l;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;RK(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of i)r.save(),r.transform(...u.transform),r.scale(1,-1),KS(r,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,1,-1,0),r.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ka.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var a,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===LK?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=qn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),d=Math.hypot(r,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){i.lineWidth=(r||1)*s,i.stroke(e);return}const o=i.getLineDash();t&&i.save(),i.scale(s,a),oU.a=1/s,oU.d=1/a;const l=new Path2D;if(l.addPath(e,oU),o.length>0){const u=Math.max(s,a);i.setLineDash(o.map(d=>d/u)),i.lineDashOffset/=u}i.lineWidth=r||1,i.stroke(l),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};jo=new WeakSet,pD=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},gD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},mD=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let nm=kO;for(const n in Gw)nm.prototype[n]!==void 0&&(nm.prototype[Gw[n]]=nm.prototype[n]);var kx,eC,tC;let fu=(kx=class{static get workerPort(){return f(this,eC)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,eC,e)}static get workerSrc(){return f(this,tC)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,tC,e)}},eC=new WeakMap,tC=new WeakMap,F(kx,eC,null),F(kx,tC,""),kx);var Gm,nC;class cde{constructor({parsedData:e,rawData:t}){F(this,Gm);F(this,nC);_(this,Gm,e),_(this,nC,t)}getRaw(){return f(this,nC)}get(e){return f(this,Gm).get(e)??null}[Symbol.iterator](){return f(this,Gm).entries()}}Gm=new WeakMap,nC=new WeakMap;const Rg=Symbol("INTERNAL");var iC,rC,sC,zm;class dde{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){F(this,iC,!1);F(this,rC,!1);F(this,sC,!1);F(this,zm,!0);_(this,iC,!!(e&ga.DISPLAY)),_(this,rC,!!(e&ga.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(f(this,sC))return f(this,zm);if(!f(this,zm))return!1;const{print:e,view:t}=this.usage;return f(this,iC)?(t==null?void 0:t.viewState)!=="OFF":f(this,rC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Rg&&Sn("Internal method `_setVisible` called."),_(this,sC,i),_(this,zm,t)}}iC=new WeakMap,rC=new WeakMap,sC=new WeakMap,zm=new WeakMap;var Jc,pn,qm,$m,aC,vD;class fde{constructor(e,t=ga.DISPLAY){F(this,aC);F(this,Jc,null);F(this,pn,new Map);F(this,qm,null);F(this,$m,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,$m,e.order);for(const i of e.groups)f(this,pn).set(i.id,new dde(t,i));if(e.baseState==="OFF")for(const i of f(this,pn).values())i._setVisible(Rg,!1);for(const i of e.on)f(this,pn).get(i)._setVisible(Rg,!0);for(const i of e.off)f(this,pn).get(i)._setVisible(Rg,!1);_(this,qm,this.getHash())}}isVisible(e){if(f(this,pn).size===0)return!0;if(!e)return O1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,pn).has(e.id)?f(this,pn).get(e.id).visible:(ut(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return U(this,aC,vD).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,pn).has(t))return ut(`Optional content group not found: ${t}`),!0;if(f(this,pn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,pn).has(t))return ut(`Optional content group not found: ${t}`),!0;if(!f(this,pn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,pn).has(t))return ut(`Optional content group not found: ${t}`),!0;if(!f(this,pn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,pn).has(t))return ut(`Optional content group not found: ${t}`),!0;if(f(this,pn).get(t).visible)return!1}return!0}return ut(`Unknown optional content policy ${e.policy}.`),!0}return ut(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=f(this,pn).get(e);if(!r){ut(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((s=f(this,pn).get(o))==null||s._setVisible(Rg,!1,!0));r._setVisible(Rg,!!t,!0),_(this,Jc,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=f(this,pn).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}_(this,Jc,null)}get hasInitialVisibility(){return f(this,qm)===null||this.getHash()===f(this,qm)}getOrder(){return f(this,pn).size?f(this,$m)?f(this,$m).slice():[...f(this,pn).keys()]:null}getGroup(e){return f(this,pn).get(e)||null}getHash(){if(f(this,Jc)!==null)return f(this,Jc);const e=new gj;for(const[t,i]of f(this,pn))e.update(`${t}:${i.visible}`);return _(this,Jc,e.hexdigest())}[Symbol.iterator](){return f(this,pn).entries()}}Jc=new WeakMap,pn=new WeakMap,qm=new WeakMap,$m=new WeakMap,aC=new WeakSet,vD=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=U(this,aC,vD).call(this,s);else if(f(this,pn).has(s))a=f(this,pn).get(s).visible;else return ut(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class hde{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Rt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Rt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Rt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new pde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new gde(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class pde{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=NQ(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class gde{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function mde(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=GB(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,C,E,x]=g;if(C=parseInt(C,10),C in h){if(C===0)break;continue}h[C]=[E,x]}const b=[];for(let C=0;C<h.length&&C in h;++C){let[E,x]=h[C];x=o(x),E&&(x=unescape(x),C===0&&(x=l(x))),b.push(x)}return b.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),b=d.slice(h+1).replace(/^[^']*'/,"");return r(g,b)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,E){return String.fromCharCode(parseInt(E,16))}),r(g,b);try{b=atob(b)}catch{}return r(g,b)})}return""}function Tj(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function V1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function Ij({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Fj(n){const e=n.get("Content-Disposition");if(e){let t=mde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(NQ(t))return t}return null}function WB(n,e){return new J_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Mj(n){return n===200||n===206}function Uj(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Pj(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ut(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class vde{constructor(e){ge(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Tj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new yde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new wde(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class yde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,Uj(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=V1(s.url),!Mj(s.status))throw WB(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=Ij({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Fj(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Wd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Pj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class wde{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const a=r.url;fetch(a,Uj(s,this._withCredentials,this._abortController)).then(o=>{const l=V1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!Mj(o.status))throw WB(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:Pj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const AU=200,lU=206;function bde(n){const e=n.response;return typeof e!="string"?e:GB(e).buffer}class Cde{constructor({url:e,httpHeaders:t,withCredentials:i}){ge(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Tj(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=lU):r.expectedStatus=AU,t.responseType="arraybuffer",Rt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||AU;if(!(s===AU&&i.expectedStatus===lU)&&s!==i.expectedStatus){i.onError(r.status);return}const o=bde(r);if(s===lU){const l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?i.onDone({begin:parseInt(u[1],10),chunk:o}):(ut('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Bde{constructor(e){this._source=e,this._manager=new Cde(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Rt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ede(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new Sde(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Ede{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=V1(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=Ij({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Fj(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=WB(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Sde{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=V1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=WB(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const xde=/^[a-z][a-z0-9\-+.]+:/i;function _de(n){if(xde.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Tde{constructor(e){this.source=e,this.url=_de(e.url),Rt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Ide(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Fde(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Ide{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=WB(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Wd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Fde{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const F0=Symbol("INITIAL_DATA");var ta,oC,yD;class Rj{constructor(){F(this,oC);F(this,ta,Object.create(null))}get(e,t=null){if(t){const r=U(this,oC,yD).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=f(this,ta)[e];if(!i||i.data===F0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=f(this,ta)[e];return!!t&&t.data!==F0}delete(e){const t=f(this,ta)[e];return!t||t.data===F0?!1:(delete f(this,ta)[e],!0)}resolve(e,t=null){const i=U(this,oC,yD).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in f(this,ta)){const{data:i}=f(this,ta)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}_(this,ta,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,ta)){const{data:t}=f(this,ta)[e];t!==F0&&(yield[e,t])}}}ta=new WeakMap,oC=new WeakSet,yD=function(e){var t;return(t=f(this,ta))[e]||(t[e]={...Promise.withResolvers(),data:F0})};const Mde=1e5,QK=30;var R$,Zc,Ts,AC,lC,bh,kl,uC,cC,Ch,jm,Wm,ed,Ym,dC,Xm,Bh,fC,hC,ni,Jm,Eh,pC,td,Zm,ku,Dj,Nj,bD,Ea,t_,CD,Lj,Qj;let wD=(ni=class{constructor({textContentSource:e,container:t,viewport:i}){F(this,ku);F(this,Zc,Promise.withResolvers());F(this,Ts,null);F(this,AC,!1);F(this,lC,!!((R$=globalThis.FontInspector)!=null&&R$.enabled));F(this,bh,null);F(this,kl,null);F(this,uC,0);F(this,cC,0);F(this,Ch,null);F(this,jm,null);F(this,Wm,0);F(this,ed,0);F(this,Ym,Object.create(null));F(this,dC,[]);F(this,Xm,null);F(this,Bh,[]);F(this,fC,new WeakMap);F(this,hC,null);var l;if(e instanceof ReadableStream)_(this,Xm,e);else if(typeof e=="object")_(this,Xm,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,Ts,_(this,jm,t)),_(this,ed,i.scale*Sp.pixelRatio),_(this,Wm,i.rotation),_(this,kl,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;_(this,hC,[1,0,0,-1,-a,o+s]),_(this,cC,r),_(this,uC,s),U(l=ni,Ea,Lj).call(l),Ep(t,i),f(this,Zc).promise.finally(()=>{f(ni,Zm).delete(this),_(this,kl,null),_(this,Ym,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Rr.platform;return ct(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,Ch).read().then(({value:t,done:i})=>{if(i){f(this,Zc).resolve();return}f(this,bh)??_(this,bh,t.lang),Object.assign(f(this,Ym),t.styles),U(this,ku,Dj).call(this,t.items),e()},f(this,Zc).reject)};return _(this,Ch,f(this,Xm).getReader()),f(ni,Zm).add(this),e(),f(this,Zc).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*Sp.pixelRatio,r=e.rotation;if(r!==f(this,Wm)&&(t==null||t(),_(this,Wm,r),Ep(f(this,jm),{rotation:r})),i!==f(this,ed)){t==null||t(),_(this,ed,i);const a={div:null,properties:null,ctx:U(s=ni,Ea,t_).call(s,f(this,bh))};for(const o of f(this,Bh))a.properties=f(this,fC).get(o),a.div=o,U(this,ku,bD).call(this,a)}}cancel(){var t;const e=new Wd("TextLayer task cancelled.");(t=f(this,Ch))==null||t.cancel(e).catch(()=>{}),_(this,Ch,null),f(this,Zc).reject(e)}get textDivs(){return f(this,Bh)}get textContentItemsStr(){return f(this,dC)}static cleanup(){if(!(f(this,Zm).size>0)){f(this,Jm).clear();for(const{canvas:e}of f(this,Eh).values())e.remove();f(this,Eh).clear()}}},Zc=new WeakMap,Ts=new WeakMap,AC=new WeakMap,lC=new WeakMap,bh=new WeakMap,kl=new WeakMap,uC=new WeakMap,cC=new WeakMap,Ch=new WeakMap,jm=new WeakMap,Wm=new WeakMap,ed=new WeakMap,Ym=new WeakMap,dC=new WeakMap,Xm=new WeakMap,Bh=new WeakMap,fC=new WeakMap,hC=new WeakMap,Jm=new WeakMap,Eh=new WeakMap,pC=new WeakMap,td=new WeakMap,Zm=new WeakMap,ku=new WeakSet,Dj=function(e){var r,s;if(f(this,AC))return;(s=f(this,kl)).ctx??(s.ctx=U(r=ni,Ea,t_).call(r,f(this,bh)));const t=f(this,Bh),i=f(this,dC);for(const a of e){if(t.length>Mde){ut("Ignoring additional textDivs for performance reasons."),_(this,AC,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,Ts);_(this,Ts,document.createElement("span")),f(this,Ts).classList.add("markedContent"),a.id&&f(this,Ts).setAttribute("id",`${a.id}`),o.append(f(this,Ts))}else a.type==="endMarkedContent"&&_(this,Ts,f(this,Ts).parentNode);continue}i.push(a.str),U(this,ku,Nj).call(this,a)}},Nj=function(e){var C;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,Bh).push(t);const r=Ke.transform(f(this,hC),e.transform);let s=Math.atan2(r[1],r[0]);const a=f(this,Ym)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,lC)&&a.fontSubstitution||a.fontFamily;o=ni.fontFamilyMap.get(o)||o;const l=Math.hypot(r[2],r[3]),u=l*U(C=ni,Ea,Qj).call(C,o,a,f(this,bh));let d,h;s===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(s),h=r[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,Ts)===f(this,jm)?(v.left=`${(100*d/f(this,cC)).toFixed(2)}%`,v.top=`${(100*h/f(this,uC)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f(ni,td)*l).toFixed(2)}px)`,v.fontFamily=o,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,lC)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(b=!0)}if(b&&(i.canvasWidth=a.vertical?e.height:e.width),f(this,fC).set(t,i),f(this,kl).div=t,f(this,kl).properties=i,U(this,ku,bD).call(this,f(this,kl)),i.hasText&&f(this,Ts).append(t),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),f(this,Ts).append(E)}},bD=function(e){var o;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let a="";if(f(ni,td)>1&&(a=`scale(${1/f(ni,td)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=i;U(o=ni,Ea,CD).call(o,r,d*f(this,ed),l);const{width:h}=r.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,ed)/h}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Ea=new WeakSet,t_=function(e=null){let t=f(this,Eh).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Eh).set(e,t),f(this,pC).set(t,{size:0,family:""})}return t},CD=function(e,t,i){const r=f(this,pC).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},Lj=function(){if(f(this,td)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,td,e.getBoundingClientRect().height),e.remove()},Qj=function(e,t,i){const r=f(this,Jm).get(e);if(r)return r;const s=U(this,Ea,t_).call(this,i);s.canvas.width=s.canvas.height=QK,U(this,Ea,CD).call(this,s,QK,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(Rr.platform.isFirefox&&ut("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,Jm).set(e,u),u},F(ni,Ea),F(ni,Jm,new Map),F(ni,Eh,new Map),F(ni,pC,new WeakMap),F(ni,td,null),F(ni,Zm,new Set),ni);const Ude=100;function OQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new BD,{docId:t}=e,i=n.url?kce(n.url):null,r=n.data?Oce(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof kj?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof ED?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!H1(n.docBaseUrl)?n.docBaseUrl:null,v=kS(n.cMapUrl),b=n.cMapPacked!==!1,C=n.CMapReaderFactory||(os?jce:EK),E=kS(n.iccUrl),x=kS(n.standardFontDataUrl),I=n.StandardFontDataFactory||(os?Wce:SK),T=kS(n.wasmUrl),R=n.WasmFactory||(os?Yce:xK),P=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,Q=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!os,k=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!os&&(Rr.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,V=typeof n.disableFontFace=="boolean"?n.disableFontFace:os,z=n.fontExtraProperties===!0,Z=n.enableXfa===!0,ne=n.ownerDocument||globalThis.document,de=n.disableRange===!0,G=n.disableStream===!0,$=n.disableAutoFetch===!0,re=n.pdfBug===!0,ae=n.CanvasFactory||(os?$ce:Gce),Ee=n.FilterFactory||(os?qce:zce),q=n.enableHWA===!0,Y=n.useWasm!==!1,le=l?l.length:n.length??NaN,ye=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!os&&!V,Be=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(C===EK&&I===SK&&R===xK&&v&&x&&T&&j0(v,document.baseURI)&&j0(x,document.baseURI)&&j0(T,document.baseURI)),_e=null;fce(h);const we={canvasFactory:new ae({ownerDocument:ne,enableHWA:q}),filterFactory:new Ee({docId:t,ownerDocument:ne}),cMapReaderFactory:Be?null:new C({baseUrl:v,isCompressed:b}),standardFontDataFactory:Be?null:new I({baseUrl:x}),wasmFactory:Be?null:new R({baseUrl:T})};d||(d=ED.create({verbosity:h,port:fu.workerPort}),e._worker=d);const at={docId:t,apiVersion:"5.4.449",data:r,password:o,disableAutoFetch:$,rangeChunkSize:u,length:le,docBaseUrl:g,enableXfa:Z,evaluatorOptions:{maxImageSize:D,disableFontFace:V,ignoreErrors:P,isEvalSupported:Q,isOffscreenCanvasSupported:H,isImageDecoderSupported:k,canvasMaxAreaInBytes:K,fontExtraProperties:z,useSystemFonts:ye,useWasm:Y,useWorkerFetch:Be,cMapUrl:v,iccUrl:E,standardFontDataUrl:x,wasmUrl:T}},se={ownerDocument:ne,pdfBug:re,styleElement:_e,loadingParams:{disableAutoFetch:$,enableXfa:Z}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ne=d.messageHandler.sendWithPromise("GetDocRequest",at,r?[r.buffer]:null);let $e;if(l)$e=new hde(l,{disableRange:de,disableStream:G});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const me=j0(i)?vde:os?Tde:Bde;$e=new me({url:i,length:le,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:de,disableStream:G})}return Ne.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Nt=new nw(t,me,d.port),Xe=new Dde(Nt,e,$e,se,we,q);e._transport=Xe,Nt.send("Ready",null)})}).catch(e._capability.reject),e}var v1;const y1=class y1{constructor(){ge(this,"_capability",Promise.withResolvers());ge(this,"_transport",null);ge(this,"_worker",null);ge(this,"docId",`d${ci(y1,v1)._++}`);ge(this,"destroyed",!1);ge(this,"onPassword",null);ge(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};v1=new WeakMap,F(y1,v1,0);let BD=y1;var Sh,gC,mC,vC,yC,D$;let kj=(D$=class{constructor(e,t,i=!1,r=null){F(this,Sh,Promise.withResolvers());F(this,gC,[]);F(this,mC,[]);F(this,vC,[]);F(this,yC,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){f(this,yC).push(e)}addProgressListener(e){f(this,vC).push(e)}addProgressiveReadListener(e){f(this,mC).push(e)}addProgressiveDoneListener(e){f(this,gC).push(e)}onDataRange(e,t){for(const i of f(this,yC))i(e,t)}onDataProgress(e,t){f(this,Sh).promise.then(()=>{for(const i of f(this,vC))i(e,t)})}onDataProgressiveRead(e){f(this,Sh).promise.then(()=>{for(const t of f(this,mC))t(e)})}onDataProgressiveDone(){f(this,Sh).promise.then(()=>{for(const e of f(this,gC))e()})}transportReady(){f(this,Sh).resolve()}requestDataRange(e,t){Sn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Sh=new WeakMap,gC=new WeakMap,mC=new WeakMap,vC=new WeakMap,yC=new WeakMap,D$);class Pde{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ol,xh,ow;class Rde{constructor(e,t,i,r=!1){F(this,xh);F(this,Ol,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new mK:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new Rj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new qB({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=Fc.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:b=null}){var k,K,V;(k=this._stats)==null||k.time("Overall");const C=this._transport.getRenderingIntent(r,s,h,g),{renderingIntent:E,cacheKey:x}=C;_(this,Ol,!1),l||(l=this._transport.getOptionalContentConfig(E));let I=this._intentStates.get(x);I||(I=Object.create(null),this._intentStates.set(x,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(E&ga.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(C));const R=!!(this._pdfBug&&((V=globalThis.StepperManager)!=null&&V.enabled)),P=!this.recordedBBoxes&&(v||R),D=z=>{var Z,ne;if(I.renderTasks.delete(Q),P){const de=(Z=Q.gfx)==null?void 0:Z.dependencyTracker.take();de&&(Q.stepper&&Q.stepper.setOperatorBBoxes(de,Q.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=de))}T&&_(this,Ol,!0),U(this,xh,ow).call(this),z?(Q.capability.reject(z),this._abortOperatorList({intentState:I,reason:z instanceof Error?z:new Error(z)})):Q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ne=globalThis.Stats)!=null&&ne.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Q=new SD({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:P?new Jce(t,I.operatorList.length,R):null,viewport:i,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:b});(I.renderTasks||(I.renderTasks=new Set)).add(Q);const H=Q.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([z,Z])=>{var ne;if(this.destroyed){D();return}if((ne=this._stats)==null||ne.time("Rendering"),!(Z.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Q.initializeGraphics({transparency:z,optionalContentConfig:Z}),Q.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:t=Fc.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,i,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>zw.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:l,done:u}){if(u){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),_(this,Ol,!1),Promise.all(e)}cleanup(e=!1){_(this,Ol,!0);const t=U(this,xh,ow).call(this);return e&&t&&this._stats&&(this._stats=new mK),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&U(this,xh,ow).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:a}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();U(this,xh,ow).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof DQ){let r=Ude;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Wd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Ol=new WeakMap,xh=new WeakSet,ow=function(){if(!f(this,Ol)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Ol,!1),!0};var nd,Uo,Hl,_h,Bn,w1,Th,Ih,cs,n_,Oj,Hj,Aw,ev,i_;let ED=(Bn=class{constructor({name:e=null,port:t=null,verbosity:i=hce()}={}){F(this,cs);F(this,nd,Promise.withResolvers());F(this,Uo,null);F(this,Hl,null);F(this,_h,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(f(Bn,Ih).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(Bn,Ih).set(t,this),U(this,cs,Oj).call(this,t)}else U(this,cs,Hj).call(this)}get promise(){return f(this,nd).promise}get port(){return f(this,Hl)}get messageHandler(){return f(this,Uo)}destroy(){var e,t;this.destroyed=!0,(e=f(this,_h))==null||e.terminate(),_(this,_h,null),f(Bn,Ih).delete(f(this,Hl)),_(this,Hl,null),(t=f(this,Uo))==null||t.destroy(),_(this,Uo,null)}static create(e){const t=f(this,Ih).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Bn(e)}static get workerSrc(){if(fu.workerSrc)return fu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ct(this,"_setupFakeWorkerGlobal",(async()=>f(this,ev,i_)?f(this,ev,i_):(await import(this.workerSrc)).WorkerMessageHandler)())}},nd=new WeakMap,Uo=new WeakMap,Hl=new WeakMap,_h=new WeakMap,w1=new WeakMap,Th=new WeakMap,Ih=new WeakMap,cs=new WeakSet,n_=function(){f(this,nd).resolve(),f(this,Uo).send("configure",{verbosity:this.verbosity})},Oj=function(e){_(this,Hl,e),_(this,Uo,new nw("main","worker",e)),f(this,Uo).on("ready",()=>{}),U(this,cs,n_).call(this)},Hj=function(){if(f(Bn,Th)||f(Bn,ev,i_)){U(this,cs,Aw).call(this);return}let{workerSrc:e}=Bn;try{Bn._isSameOrigin(window.location,e)||(e=Bn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new nw("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?f(this,nd).reject(new Error("Worker was destroyed")):U(this,cs,Aw).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,_h)||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}_(this,Uo,i),_(this,Hl,t),_(this,_h,t),U(this,cs,n_).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{U(this,cs,Aw).call(this)}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{O1("The worker has been disabled.")}U(this,cs,Aw).call(this)},Aw=function(){f(Bn,Th)||(ut("Setting up fake worker."),_(Bn,Th,!0)),Bn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,nd).reject(new Error("Worker was destroyed"));return}const t=new Kce;_(this,Hl,t);const i=`fake${ci(Bn,w1)._++}`,r=new nw(i+"_worker",i,t);e.setup(r,t),_(this,Uo,new nw(i,i+"_worker",t)),U(this,cs,n_).call(this)}).catch(e=>{f(this,nd).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},ev=new WeakSet,i_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},F(Bn,ev),F(Bn,w1,0),F(Bn,Th,!1),F(Bn,Ih,new WeakMap),os&&(_(Bn,Th,!0),fu.workerSrc||(fu.workerSrc="./pdf.worker.mjs")),Bn._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},Bn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Bn.fromPort=e=>{if(xce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Bn.create(e)},Bn);var Vl,CA,tv,nv,Kl,Fh,lw;class Dde{constructor(e,t,i,r,s,a){F(this,Fh);F(this,Vl,new Map);F(this,CA,new Map);F(this,tv,new Map);F(this,nv,new Map);F(this,Kl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Rj,this.fontLoader=new Lce({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return ct(this,"annotationStorage",new LQ)}getRenderingIntent(e,t=Fc.ENABLE,i=null,r=!1,s=!1){let a=ga.DISPLAY,o=sD;switch(e){case"any":a=ga.ANY;break;case"display":break;case"print":a=ga.PRINT;break;default:ut(`getRenderingIntent - invalid intent: ${e}`)}const l=a&ga.PRINT&&i instanceof vj?i:this.annotationStorage;switch(t){case Fc.DISABLE:a+=ga.ANNOTATIONS_DISABLE;break;case Fc.ENABLE:break;case Fc.ENABLE_FORMS:a+=ga.ANNOTATIONS_FORMS;break;case Fc.ENABLE_STORAGE:a+=ga.ANNOTATIONS_STORAGE,o=l.serializable;break;default:ut(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=ga.IS_EDITING),s&&(a+=ga.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=f(this,Kl))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of f(this,CA).values())e.push(r._destroy());f(this,CA).clear(),f(this,tv).clear(),f(this,nv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Vl).clear(),this.filterFactory.destroy(),wD.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Wd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Rt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Rt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(i,r)=>{Rt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Rt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Pde(i,this))}),e.on("DocException",i=>{t._capability.reject(Cs(i))}),e.on("PasswordRequest",i=>{_(this,Kl,Promise.withResolvers());try{if(!t.onPassword)throw Cs(i);const r=s=>{s instanceof Error?f(this,Kl).reject(s):f(this,Kl).resolve({password:s})};t.onPassword(r,i.code)}catch(r){f(this,Kl).reject(r)}return f(this,Kl).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;f(this,CA).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const g=s.error;ut(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const o=new aD(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new Qce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Rt(d,"The imageRef must be defined.");for(const g of f(this,CA).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(i,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new oD(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var l;if(this.destroyed)return;const o=f(this,CA).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ut("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=f(this,tv).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,nv).set(s.refStr,e);const a=new Rde(t,s,this,this._params.pdfBug);return f(this,CA).set(t,a),a});return f(this,tv).set(t,r),r}getPageIndex(e){return AD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return U(this,Fh,lw).call(this,"GetFieldObjects")}hasJSActions(){return U(this,Fh,lw).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return U(this,Fh,lw).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return U(this,Fh,lw).call(this,"GetOptionalContentConfig").then(t=>new fde(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,Vl).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new cde(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:r[2]}});return f(this,Vl).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,CA).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Vl).clear(),this.filterFactory.destroy(!0),wD.cleanup()}}cachedPageNumber(e){if(!AD(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,nv).get(t)??null}}Vl=new WeakMap,CA=new WeakMap,tv=new WeakMap,nv=new WeakMap,Kl=new WeakMap,Fh=new WeakSet,lw=function(e,t=null){const i=f(this,Vl).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return f(this,Vl).set(e,r),r};var id;class Nde{constructor(e){F(this,id,null);ge(this,"onContinue",null);ge(this,"onError",null);_(this,id,e)}get promise(){return f(this,id).capability.promise}cancel(e=0){f(this,id).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,id).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,id);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}id=new WeakMap;var rd,Mh;const Qf=class Qf{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:b=null}){F(this,rd,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Nde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(Qf,Mh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Qf,Mh).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new nm(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),f(this,rd)&&(window.cancelAnimationFrame(f(this,rd)),_(this,rd,null)),f(Qf,Mh).delete(this._canvas),e||(e=new DQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,rd,window.requestAnimationFrame(()=>{_(this,rd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Qf,Mh).delete(this._canvas),this.callback())))}};rd=new WeakMap,Mh=new WeakMap,F(Qf,Mh,new WeakSet);let SD=Qf;const Vj="5.4.449",Lde="f44e5f0e6";var na,Uh,iv,Oi,wC,rv,Gl,bC,sd,Po,xr,CC,gn,xD,_D,TD,If,Gj,bc;let Kj=(xr=class{constructor({editor:e=null,uiManager:t=null}){F(this,gn);F(this,na,null);F(this,Uh,null);F(this,iv);F(this,Oi,null);F(this,wC,!1);F(this,rv,!1);F(this,Gl,null);F(this,bC);F(this,sd,null);F(this,Po,null);var i,r;e?(_(this,rv,!1),_(this,Gl,e)):_(this,rv,!0),_(this,Po,(e==null?void 0:e._uiManager)||t),_(this,bC,f(this,Po)._eventBus),_(this,iv,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=f(this,Po))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),f(xr,CC)||_(xr,CC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ct(this,"_keyboardManager",new jB([[["Escape","mac+Escape"],xr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xr.prototype._moveToPrevious],[["Home","mac+Home"],xr.prototype._moveToBeginning],[["End","mac+End"],xr.prototype._moveToEnd]]))}renderButton(){const e=_(this,na,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,Gl)&&(e.ariaControls=`${f(this,Gl).id}_colorpicker_dropdown`);const t=f(this,Po)._signal;e.addEventListener("click",U(this,gn,If).bind(this),{signal:t}),e.addEventListener("keydown",U(this,gn,TD).bind(this),{signal:t});const i=_(this,Uh,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=f(this,iv),e.append(i),e}renderMainDropdown(){const e=_(this,Oi,U(this,gn,xD).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,na)){U(this,gn,If).call(this,e);return}const t=e.target.getAttribute("data-color");t&&U(this,gn,_D).call(this,t,e)}_moveToNext(e){var t,i;if(!f(this,gn,bc)){U(this,gn,If).call(this,e);return}if(e.target===f(this,na)){(t=f(this,Oi).firstElementChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=f(this,Oi))==null?void 0:t.firstElementChild)||e.target===f(this,na)){f(this,gn,bc)&&this._hideDropdownFromKeyboard();return}f(this,gn,bc)||U(this,gn,If).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!f(this,gn,bc)){U(this,gn,If).call(this,e);return}(t=f(this,Oi).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,gn,bc)){U(this,gn,If).call(this,e);return}(t=f(this,Oi).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Oi))==null||e.classList.add("hidden"),f(this,na).ariaExpanded="false",(t=f(this,sd))==null||t.abort(),_(this,sd,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,rv)){if(!f(this,gn,bc)){(e=f(this,Gl))==null||e.unselect();return}this.hideDropdown(),f(this,na).focus({preventScroll:!0,focusVisible:f(this,wC)})}}updateColor(e){if(f(this,Uh)&&(f(this,Uh).style.backgroundColor=e),!f(this,Oi))return;const t=f(this,Po).highlightColors.values();for(const i of f(this,Oi).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,na))==null||e.remove(),_(this,na,null),_(this,Uh,null),(t=f(this,Oi))==null||t.remove(),_(this,Oi,null)}},na=new WeakMap,Uh=new WeakMap,iv=new WeakMap,Oi=new WeakMap,wC=new WeakMap,rv=new WeakMap,Gl=new WeakMap,bC=new WeakMap,sd=new WeakMap,Po=new WeakMap,CC=new WeakMap,gn=new WeakSet,xD=function(){const e=document.createElement("div"),t=f(this,Po)._signal;e.addEventListener("contextmenu",po,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,Gl)&&(e.id=`${f(this,Gl).id}_colorpicker_dropdown`);for(const[i,r]of f(this,Po).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",f(xr,CC)[i]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===f(this,iv),s.addEventListener("click",U(this,gn,_D).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",U(this,gn,TD).bind(this),{signal:t}),e},_D=function(e,t){t.stopPropagation(),f(this,bC).dispatch("switchannotationeditorparams",{source:this,type:Pt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},TD=function(e){xr._keyboardManager.exec(this,e)},If=function(e){if(f(this,gn,bc)){this.hideDropdown();return}if(_(this,wC,e.detail===0),f(this,sd)||(_(this,sd,new AbortController),window.addEventListener("pointerdown",U(this,gn,Gj).bind(this),{signal:f(this,Po).combinedSignal(f(this,sd))})),f(this,na).ariaExpanded="true",f(this,Oi)){f(this,Oi).classList.remove("hidden");return}const t=_(this,Oi,U(this,gn,xD).call(this));f(this,na).append(t)},Gj=function(e){var t;(t=f(this,Oi))!=null&&t.contains(e.target)||this.hideDropdown()},bc=function(){return f(this,Oi)&&!f(this,Oi).classList.contains("hidden")},F(xr,CC,null),xr);var BA,BC,sv,EC;const kf=class kf{constructor(e){F(this,BA,null);F(this,BC,null);F(this,sv,null);_(this,BC,e),_(this,sv,e._uiManager),f(kf,EC)||_(kf,EC,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,BA))return f(this,BA);const{editorType:e,colorType:t,color:i}=f(this,BC),r=_(this,BA,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",f(kf,EC)[e]),r.addEventListener("input",()=>{f(this,sv).updateParams(t,r.value)},{signal:f(this,sv)._signal}),r}update(e){f(this,BA)&&(f(this,BA).value=e)}destroy(){var e;(e=f(this,BA))==null||e.remove(),_(this,BA,null)}hideDropdown(){}};BA=new WeakMap,BC=new WeakMap,sv=new WeakMap,EC=new WeakMap,F(kf,EC,null);let iT=kf;function kK(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function M0(n){return Math.max(0,Math.min(255,255*n))}class OK{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=M0(e),[e,e,e]}static G_HTML([e]){const t=kK(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(M0)}static RGB_HTML(e){return`#${e.map(kK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[M0(1-Math.min(1,e+r)),M0(1-Math.min(1,i+r)),M0(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class Qde{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Sn("Abstract method `_createSVG` called.")}}let rT=class extends Qde{_createSVG(e){return document.createElementNS(hl,e)}};const kde=9,xp=new WeakSet,Ode=new Date().getTimezoneOffset()*60*1e3;class uU{static create(e){switch(e.data.annotationType){case Fi.LINK:return new HQ(e);case Fi.TEXT:return new Vde(e);case Fi.WIDGET:switch(e.data.fieldType){case"Tx":return new Kde(e);case"Btn":return e.data.radioButton?new $j(e):e.data.checkBox?new zde(e):new qde(e);case"Ch":return new $de(e);case"Sig":return new Gde(e)}return new Dp(e);case Fi.POPUP:return new FD(e);case Fi.FREETEXT:return new Jj(e);case Fi.LINE:return new Wde(e);case Fi.SQUARE:return new Yde(e);case Fi.CIRCLE:return new Xde(e);case Fi.POLYLINE:return new Zj(e);case Fi.CARET:return new Zde(e);case Fi.INK:return new VQ(e);case Fi.POLYGON:return new Jde(e);case Fi.HIGHLIGHT:return new eW(e);case Fi.UNDERLINE:return new efe(e);case Fi.SQUIGGLY:return new tfe(e);case Fi.STRIKEOUT:return new nfe(e);case Fi.STAMP:return new tW(e);case Fi.FILEATTACHMENT:return new ife(e);default:return new jn(e)}}}var Ph,av,Za,SC,ID;const OO=class OO{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){F(this,SC);F(this,Ph,null);F(this,av,!1);F(this,Za,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return OO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((i==null?void 0:i.length)>=1){for(const l of i)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-a)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${Kw}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${Kw}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,Za))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,Za,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,Ph)||_(this,Ph,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&U(this,SC,ID).call(this,t);let r=((s=f(this,Za))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=f(this,Za).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),_(this,Za,null),this.popup=null))}resetEdited(){var e;f(this,Ph)&&(U(this,SC,ID).call(this,f(this,Ph).rect),(e=f(this,Za))==null||e.popup.resetEdited(),_(this,Ph,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Dp)&&!(this instanceof HQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof FD){const{rotation:C}=t;return!t.hasOwnCanvas&&C!==0&&this.setRotation(C,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const C=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(C>0||E>0){const I=`calc(${C}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof $j){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case Ig.SOLID:a.borderStyle="solid";break;case Ig.DASHED:a.borderStyle="dashed";break;case Ig.BEVELED:ut("Unimplemented border style: beveled");break;case Ig.INSET:ut("Unimplemented border style: inset");break;case Ig.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(_(this,av,!0),a.borderColor=Ke.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const u=Ke.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=r.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*a/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=OK[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:OK[`${a}_rgb`](o)})};return ct(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const a=i[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,E,x,I]=e.subarray(2,6);if(r===C&&s===E&&t===x&&i===I)return}const{style:a}=this.container;let o;if(f(this,av)){const{borderColor:C,borderWidth:E}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let C=2,E=e.length;C<E;C+=8){const x=e[C],I=e[C+1],T=e[C+2],R=e[C+3],P=d.createElement("rect"),D=(T-t)/l,Q=(s-I)/u,H=(x-T)/l,k=(I-R)/u;P.setAttribute("x",D),P.setAttribute("y",Q),P.setAttribute("width",H),P.setAttribute("height",k),v.append(P),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${Q}" width="${H}" height="${k}"/>`)}f(this,av)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),_(this,Za,new FD({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,Za)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,Za)}render(){Sn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!xp.has(u)){ut(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&xp.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Ph=new WeakMap,av=new WeakMap,Za=new WeakMap,SC=new WeakSet,ID=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(r)};let jn=OO;class Hde extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var ya,Ff,zj,qj;class HQ extends jn{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});F(this,ya);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(U(this,ya,zj).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(U(this,ya,qj).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&U(this,ya,Ff).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),U(this,ya,Ff).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),U(this,ya,Ff).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),U(this,ya,Ff).call(this),!this._fieldObjects){ut('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:a,include:o}=i,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const b=this._fieldObjects[v]||[];for(const{id:C}of b)g.add(C)}for(const v of Object.values(this._fieldObjects))for(const b of v)g.has(b.id)===o&&l.push(b)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}case"checkbox":case"radiobutton":{const C=g.defaultValue===g.exportValues;u.setValue(v,{value:C});break}case"combobox":case"listbox":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}default:continue}const b=document.querySelector(`[data-element-id="${v}"]`);if(b){if(!xp.has(b)){ut(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}ya=new WeakSet,Ff=function(){this.container.setAttribute("data-internal-link","")},zj=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},U(this,ya,Ff).call(this)},qj=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),U(this,ya,Ff).call(this)};class Vde extends jn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Dp extends jn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Rr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,i,r){var s,a,o;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ke.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||kde,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(nU*r))||1,h=u/d;a=Math.min(r,l(h/nU))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(u/nU))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Ke.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Kde extends Dp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),xp.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,b=!!g&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",E=>{e.setValue(t,{value:E.target.value}),this.setPropertyOnSiblings(i,"value",E.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",E=>{const x=this.data.defaultFieldValue??"";i.value=d.userValue=x,d.formattedValue=null});let C=E=>{const{formattedValue:x}=d;x!=null&&(E.target.value=x),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",x=>{var T;if(d.focused)return;const{target:I}=x;if(b&&(I.type=g,v&&(I.step=v)),d.userValue){const R=d.userValue;if(b)if(g==="time"){const P=new Date(R),D=[P.getHours(),P.getMinutes(),P.getSeconds()];I.value=D.map(Q=>Q.toString().padStart(2,"0")).join(":")}else I.value=new Date(R-Ode).toISOString().split(g==="date"?"T":".",1)[0];else I.value=R}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const I={value(T){d.userValue=T.detail.value??"",b||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:R}=T.detail;d.formattedValue=R,R!=null&&T.target!==document.activeElement&&(T.target.value=R);const P={formattedValue:R};b&&(P.value=R),e.setValue(t,P)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var Q;const{charLimit:R}=T.detail,{target:P}=T;if(R===0){P.removeAttribute("maxLength");return}P.setAttribute("maxLength",R);let D=d.userValue;!D||D.length<=R||(D=D.slice(0,R),P.value=d.userValue=D,e.setValue(t,{value:D}),(Q=this.linkService.eventBus)==null||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:P.selectionStart,selEnd:P.selectionEnd}}))}};this._dispatchEventFromSandbox(I,x)}),i.addEventListener("keydown",x=>{var R;d.commitKey=1;let I=-1;if(x.key==="Escape"?I=0:x.key==="Enter"&&!this.data.multiLine?I=2:x.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=x.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const E=C;C=null,i.addEventListener("blur",x=>{var R,P;if(!d.focused||!x.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(d.focused=!1);const{target:I}=x;let{value:T}=I;if(b){if(T&&g==="time"){const D=T.split(":").map(Q=>parseInt(Q,10));T=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),E(x)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",x=>{var k;d.lastCommittedValue=null;const{data:I,target:T}=x,{value:R,selectionStart:P,selectionEnd:D}=T;let Q=P,H=D;switch(x.inputType){case"deleteWordBackward":{const K=R.substring(0,P).match(/\w*[^\w]*$/);K&&(Q-=K[0].length);break}case"deleteWordForward":{const K=R.substring(P).match(/^[^\w]*\w*/);K&&(H+=K[0].length);break}case"deleteContentBackward":P===D&&(Q-=1);break;case"deleteContentForward":P===D&&(H+=1);break}x.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:I||"",willCommit:!1,selStart:Q,selEnd:H}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(C&&i.addEventListener("blur",C),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Gde extends Dp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class zde extends Dp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return xp.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class $j extends Dp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(xp.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===i;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class qde extends HQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class $de extends Dp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");xp.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=r;return v?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const C of r.options)C.selected=b.has(C.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){r.multiple=!0},remove(g){const v=r.options,b=g.detail.remove;v[b].selected=!1,r.remove(b),v.length>0&&Array.prototype.findIndex.call(v,E=>E.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:b,exportValue:C}=g.detail.insert,E=r.children[v],x=document.createElement("option");x.textContent=b,x.value=C,E?E.before(x):r.append(x),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;r.length!==0;)r.remove(0);for(const b of v){const{displayValue:C,exportValue:E}=b,x=document.createElement("option");x.textContent=C,x.value=E,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const b of g.target.options)b.selected=v.has(b.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var xC,MD;class FD extends jn{constructor(t){const{data:i,elements:r,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&jn._hasPopupData(i)});F(this,xC);if(this.elements=r,a&&jn._hasPopupData(i)){const o=this.popup=U(this,xC,MD).call(this);for(const l of r)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=U(this,xC,MD).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${Gg}${s}`).join(",")),this.container}}xC=new WeakSet,MD=function(){return new jde({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var ia,ad,b1,C1,ov,Av,Zn,EA,od,Rh,lv,uv,SA,ra,zl,ql,ei,$l,Ad,_C,jl,cv,Dh,ld,ir,ud,bt,r_,UD,PD,RD,s_,DD,jj,Wj,Yj,Xj,a_,o_,ND;class jde{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){F(this,bt);F(this,ia,null);F(this,ad,U(this,bt,Yj).bind(this));F(this,b1,U(this,bt,ND).bind(this));F(this,C1,U(this,bt,o_).bind(this));F(this,ov,U(this,bt,a_).bind(this));F(this,Av,null);F(this,Zn,null);F(this,EA,null);F(this,od,null);F(this,Rh,null);F(this,lv,null);F(this,uv,null);F(this,SA,!1);F(this,ra,null);F(this,zl,null);F(this,ql,null);F(this,ei,null);F(this,$l,null);F(this,Ad,null);F(this,_C,null);F(this,jl,null);F(this,cv,null);F(this,Dh,null);F(this,ld,!1);F(this,ir,null);F(this,ud,null);_(this,Zn,e),_(this,cv,r),_(this,EA,a),_(this,jl,o),_(this,lv,l),_(this,Av,t),_(this,_C,u),_(this,uv,d),_(this,Rh,i),_(this,ia,g),_(this,ir,i[0]),_(this,od,kR.toDateObject(s)),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),g||(U(this,bt,r_).call(this),f(this,Zn).hidden=!0,h&&U(this,bt,a_).call(this))}renderCommentButton(){if(f(this,ei)){f(this,ei).parentNode||f(this,ir).container.after(f(this,ei));return}if(f(this,$l)||U(this,bt,UD).call(this),!f(this,$l))return;const{signal:e}=_(this,zl,new AbortController),t=f(this,ir).hasOwnCommentButton,i=()=>{f(this,ia).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{f(this,ia).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,ia).toggleCommentPopup(this,!1,!1)};if(t){_(this,ei,f(this,ir).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,ad),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,ei,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,ir).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),U(this,bt,RD).call(this),U(this,bt,PD).call(this),a.addEventListener("keydown",f(this,ad),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,ir).commentData;return e?f(this,lv)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,ei))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=f(this,ir).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return f(this,ei)}get comment(){return f(this,ud)||_(this,ud,f(this,ir).commentText),f(this,ud)}set comment(e){e!==this.comment&&(f(this,ir).commentText=_(this,ud,e))}focus(){var e;(e=f(this,ir).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,ir).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,ei)&&(f(this,ei).classList.toggle("selected",e),f(this,ei).ariaExpanded=t)}setSelectedCommentButton(e){f(this,ei).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,Ad))return f(this,Ad);const{x:e,y:t,height:i}=f(this,ei).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,ir).layer.getBoundingClientRect();return[(e-r)/a,(t+i-s)/o]}set commentPopupPosition(e){_(this,Ad,e)}hasDefaultPopupPosition(){return f(this,Ad)===null}get commentButtonPosition(){return f(this,$l)}get commentButtonWidth(){return f(this,ei).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=f(this,Ad)||this.commentButtonPosition.map(u=>u/100),r=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=r;f(this,ia).showDialog(null,this,s+t*o,a+i*l,{...e,parentDimensions:r})}render(){var i,r;if(f(this,ra))return;const e=_(this,ra,document.createElement("div"));if(e.className="popup",f(this,Av)){const s=e.style.outlineColor=Ke.makeHexColor(...f(this,Av));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=f(this,cv))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,cv)}if(e.append(t),f(this,od)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,od).valueOf()})),s.dateTime=f(this,od).toISOString(),t.append(s)}N6({html:f(this,bt,s_)||f(this,EA).str,dir:(r=f(this,EA))==null?void 0:r.dir,className:"popupContent"},e),f(this,Zn).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(f(this,ia)){i?(this.remove(),_(this,ud,null)):t&&(t.deleted?this.remove():(U(this,bt,RD).call(this),_(this,ud,t.text))),e&&(_(this,$l,null),U(this,bt,UD).call(this),U(this,bt,PD).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}U(this,bt,r_).call(this),f(this,Dh)||_(this,Dh,{contentsObj:f(this,EA),richText:f(this,jl)}),e&&_(this,ql,null),t&&t.text&&(_(this,jl,U(this,bt,Wj).call(this,t.text)),_(this,od,kR.toDateObject(t.date)),_(this,EA,null)),(r=f(this,ra))==null||r.remove(),_(this,ra,null)}resetEdited(){var e;f(this,Dh)&&({contentsObj:ci(this,EA)._,richText:ci(this,jl)._}=f(this,Dh),_(this,Dh,null),(e=f(this,ra))==null||e.remove(),_(this,ra,null),_(this,ql,null))}remove(){var e,t,i;if((e=f(this,zl))==null||e.abort(),_(this,zl,null),(t=f(this,ra))==null||t.remove(),_(this,ra,null),_(this,ld,!1),_(this,SA,!1),(i=f(this,ei))==null||i.remove(),_(this,ei,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){_(this,ld,this.isVisible),f(this,ld)&&(f(this,Zn).hidden=!0)}maybeShow(){f(this,ia)||(U(this,bt,r_).call(this),f(this,ld)&&(f(this,ra)||U(this,bt,o_).call(this),_(this,ld,!1),f(this,Zn).hidden=!1))}get isVisible(){return f(this,ia)?!1:f(this,Zn).hidden===!1}}ia=new WeakMap,ad=new WeakMap,b1=new WeakMap,C1=new WeakMap,ov=new WeakMap,Av=new WeakMap,Zn=new WeakMap,EA=new WeakMap,od=new WeakMap,Rh=new WeakMap,lv=new WeakMap,uv=new WeakMap,SA=new WeakMap,ra=new WeakMap,zl=new WeakMap,ql=new WeakMap,ei=new WeakMap,$l=new WeakMap,Ad=new WeakMap,_C=new WeakMap,jl=new WeakMap,cv=new WeakMap,Dh=new WeakMap,ld=new WeakMap,ir=new WeakMap,ud=new WeakMap,bt=new WeakSet,r_=function(){var t;if(f(this,zl))return;_(this,zl,new AbortController);const{signal:e}=f(this,zl);for(const i of this.trigger)i.addEventListener("click",f(this,ov),{signal:e}),i.addEventListener("pointerenter",f(this,C1),{signal:e}),i.addEventListener("pointerleave",f(this,b1),{signal:e}),i.classList.add("popupTriggerArea");for(const i of f(this,Rh))(t=i.container)==null||t.addEventListener("keydown",f(this,ad),{signal:e})},UD=function(){const e=f(this,Rh).find(t=>t.hasCommentButton);e&&_(this,$l,e._normalizePoint(e.commentButtonPosition))},PD=function(){if(f(this,ir).extraPopupElement&&!f(this,ir).editor)return;f(this,ei)||this.renderCommentButton();const[e,t]=f(this,$l),{style:i}=f(this,ei);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},RD=function(){f(this,ir).extraPopupElement||(f(this,ei)||this.renderCommentButton(),f(this,ei).style.backgroundColor=this.commentButtonColor||"")},s_=function(){const e=f(this,jl),t=f(this,EA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,jl).html||null},DD=function(){var e,t,i;return((i=(t=(e=f(this,bt,s_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},jj=function(){var e,t,i;return((i=(t=(e=f(this,bt,s_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},Wj=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:f(this,bt,jj),fontSize:f(this,bt,DD)?`calc(${f(this,bt,DD)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},Yj=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,SA))&&U(this,bt,a_).call(this)},Xj=function(){if(f(this,ql)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=f(this,lv);let a=!!f(this,uv),o=a?f(this,uv):f(this,_C);for(const b of f(this,Rh))if(!o||Ke.intersect(b.data.rect,o)!==null){o=b.data.rect,a=!0;break}const l=Ke.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,ql,[100*(h-r)/t,100*(g-s)/i]);const{style:v}=f(this,Zn);v.left=`${f(this,ql)[0]}%`,v.top=`${f(this,ql)[1]}%`},a_=function(){if(f(this,ia)){f(this,ia).toggleCommentPopup(this,!1);return}_(this,SA,!f(this,SA)),f(this,SA)?(U(this,bt,o_).call(this),f(this,Zn).addEventListener("click",f(this,ov)),f(this,Zn).addEventListener("keydown",f(this,ad))):(U(this,bt,ND).call(this),f(this,Zn).removeEventListener("click",f(this,ov)),f(this,Zn).removeEventListener("keydown",f(this,ad)))},o_=function(){f(this,ra)||this.render(),this.isVisible?f(this,SA)&&f(this,Zn).classList.add("focused"):(U(this,bt,Xj).call(this),f(this,Zn).hidden=!1,f(this,Zn).style.zIndex=parseInt(f(this,Zn).style.zIndex)+1e3)},ND=function(){f(this,Zn).classList.remove("focused"),!(f(this,SA)||!this.isVisible)&&(f(this,Zn).hidden=!0,f(this,Zn).style.zIndex=parseInt(f(this,Zn).style.zIndex)-1e3)};class Jj extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ft.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var TC;class Wde extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,TC,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=_(this,TC,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,TC)}addHighlightArea(){this.container.classList.add("highlightArea")}}TC=new WeakMap;var IC;class Yde extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,IC,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,IC,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,IC)}addHighlightArea(){this.container.classList.add("highlightArea")}}IC=new WeakMap;var FC;class Xde extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,FC,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,FC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,FC)}addHighlightArea(){this.container.classList.add("highlightArea")}}FC=new WeakMap;var MC;class Zj extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,MC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:a,height:o}=this;if(!i)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=i.length;h<g;h+=2){const v=i[h]-t[0],b=t[3]-i[h+1];u.push(`${v},${b}`)}u=u.join(" ");const d=_(this,MC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,MC)}addHighlightArea(){this.container.classList.add("highlightArea")}}MC=new WeakMap;class Jde extends Zj{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Zde extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var UC,Nh,PC,LD;class VQ extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,PC);F(this,UC,null);F(this,Nh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ft.HIGHLIGHT:ft.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=U(this,PC,LD).call(this,i,t),d=this.svgFactory.create(l,u,!0),h=_(this,UC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=r.length;g<v;g++){const b=this.svgFactory.createElement(this.svgElementName);f(this,Nh).push(b),b.setAttribute("points",r[g].join(",")),h.append(b)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,a=f(this,UC);if(i>=0&&a.setAttribute("stroke-width",i||1),r)for(let o=0,l=f(this,Nh).length;o<l;o++)f(this,Nh)[o].setAttribute("points",r[o].join(","));if(s){const{transform:o,width:l,height:u}=U(this,PC,LD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,Nh)}addHighlightArea(){this.container.classList.add("highlightArea")}}UC=new WeakMap,Nh=new WeakMap,PC=new WeakSet,LD=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class eW extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ft.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class efe extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class tfe extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class nfe extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class tW extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ft.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var RC,DC,QD;class ife extends jn{constructor(t){var r;super(t,{isRenderable:!0});F(this,DC);F(this,RC,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",U(this,DC,QD).bind(this)),_(this,RC,r);const{isMac:s}=Rr.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&U(this,DC,QD).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return f(this,RC)}addHighlightArea(){this.container.classList.add("highlightArea")}}RC=new WeakMap,DC=new WeakSet,QD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Lh,Qh,dv,cd,NC,kh,sa,LC,Su,A_,kD,fv;let rfe=(fv=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){F(this,Su);F(this,Lh,null);F(this,Qh,null);F(this,dv,null);F(this,cd,new Map);F(this,NC,null);F(this,kh,null);F(this,sa,[]);F(this,LC,!1);this.div=e,_(this,Lh,t),_(this,Qh,i),_(this,NC,o||null),_(this,kh,u||null),_(this,dv,d||new LQ),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=l||null}hasEditableAnnotations(){return f(this,cd).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;Ep(i,this.viewport);const r=new Map,s=[],a={data:null,layer:i,linkService:f(this,kh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new rT,annotationStorage:f(this,dv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Fi.POPUP;if(u){const g=r.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=uU.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,sa).push(d),l.popupRef)){const g=r.get(l.popupRef);g?g.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,cd).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await U(this,Su,A_).call(this);for(const l of s){const u=a.elements=r.get(l.id);a.data=l;const d=uU.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Gg}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}U(this,Su,kD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,kh),svgFactory:new rT,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=fv._defaultBorderStyle),t.data=i;const r=uU.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${Gg}${i.id}`,f(this,sa).push(r))}await U(this,Su,A_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Ep(t,{rotation:e.rotation}),U(this,Su,kD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,cd).values())}getEditableAnnotation(e){return f(this,cd).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new Hde({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,kh),annotationStorage:f(this,dv)});return s.render(),s.contentElement.id=`${Gg}${i}`,s.createOrUpdatePopup(),f(this,sa).push(s),s}removeAnnotation(e){var r;const t=f(this,sa).findIndex(s=>s.data.id===e);if(t<0)return;const[i]=f(this,sa).splice(t,1);(r=f(this,Lh))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);U(this,Su,A_).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return ct(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ig.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Lh=new WeakMap,Qh=new WeakMap,dv=new WeakMap,cd=new WeakMap,NC=new WeakMap,kh=new WeakMap,sa=new WeakMap,LC=new WeakMap,Su=new WeakSet,A_=async function(){var i,r,s;if(f(this,sa).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,LC)){_(this,LC,!0);for(const{contentElement:a,data:{id:o}}of f(this,sa)){const l=a.id=`${Gg}${o}`;e.push((i=f(this,NC))==null?void 0:i.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,sa).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const b=u,C=o,E=(o+u)/2,x=v,I=h,T=(h+v)/2;if(E>=x&&T<=C)return-1;if(T>=b&&E<=I)return 1;const R=(a+l)/2,P=(d+g)/2;return R-P});const t=document.createDocumentFragment();for(const a of f(this,sa))t.append(a.container),this._commentManager?(s=((r=a.extraPopupElement)==null?void 0:r.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,Lh))for(const a of f(this,sa))f(this,Lh).addPointerInTextLayer(a.contentElement,!1)},kD=function(){var t;if(!f(this,Qh))return;const e=this.div;for(const[i,r]of f(this,Qh)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r);const o=f(this,cd).get(i);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),o._hasNoCanvas=!1):o.canvas=r)}f(this,Qh).clear()},fv);const zS=/\r\n?|\n/g;var aa,QC,Oh,oa,Ni,nW,iW,rW,l_,xu,u_,c_,sW,HD,aW;const Rn=class Rn extends Mn{constructor(t){super({...t,name:"freeTextEditor"});F(this,Ni);F(this,aa,"");F(this,QC,`${this.id}-editor`);F(this,Oh,null);F(this,oa);ge(this,"_colorPicker",null);this.color=t.color||Rn._defaultColor||Mn._defaultLineColor,_(this,oa,t.fontSize||Rn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Rn.prototype,i=a=>a.isEmpty(),r=qw.TRANSLATE_SMALL,s=qw.TRANSLATE_BIG;return ct(this,"_keyboardManager",new jB([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Mn.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Pt.FREETEXT_SIZE:Rn._defaultFontSize=i;break;case Pt.FREETEXT_COLOR:Rn._defaultColor=i;break}}updateParams(t,i){switch(t){case Pt.FREETEXT_SIZE:U(this,Ni,nW).call(this,i);break;case Pt.FREETEXT_COLOR:U(this,Ni,iW).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pt.FREETEXT_SIZE,Rn._defaultFontSize],[Pt.FREETEXT_COLOR,Rn._defaultColor||Mn._defaultLineColor]]}get propertiesToUpdate(){return[[Pt.FREETEXT_SIZE,f(this,oa)],[Pt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new iT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Pt.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Rn._internalPadding*t,-(Rn._internalPadding+f(this,oa))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Oh,new AbortController);const t=this._uiManager.combinedSignal(f(this,Oh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,QC)),this._isDraggable=!0,(t=f(this,Oh))==null||t.abort(),_(this,Oh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,aa),i=_(this,aa,U(this,Ni,rW).call(this).trimEnd());if(t===i)return;const r=s=>{if(_(this,aa,s),!s){this.remove();return}U(this,Ni,c_).call(this),this._uiManager.rebuild(this),U(this,Ni,l_).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),U(this,Ni,l_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Rn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,QC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${f(this,oa)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let b,C;switch(this.rotation){case 0:b=t+(o[0]-g)/d,C=i+this.height-(o[1]-v)/h;break;case 90:b=t+(o[0]-g)/d,C=i-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:b=t-this.width+(o[0]-g)/d,C=i-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:b=t+(o[0]-g-this.height*h)/d,C=i+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(b*s,C*a,l,u)}else this._moveAfterPaste(t,i);U(this,Ni,c_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,C,E;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=U(b=Rn,xu,HD).call(b,i.getData("text")||"").replaceAll(zS,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(zS,"")),x!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===x){I=h;continue}I.push(U(C=Rn,xu,u_).call(C,T))}}d.push(l.nodeValue.slice(0,u).replaceAll(zS,""))}else if(l===this.editorDiv){let x=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(x=h),x.push(U(E=Rn,xu,u_).call(E,T))}_(this,aa,`${d.join(`
`)}${s}${h.join(`
`)}`),U(this,Ni,c_).call(this);const g=new Range;let v=Math.sumPrecise(d.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const I=x.nodeValue.length;if(v<=I){g.setStart(x,v),g.setEnd(x,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Rn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var o;let s=null;if(t instanceof Jj){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:b,contentsObj:C,creationDate:E,modificationDate:x},textContent:I,textPosition:T,parent:{page:{pageNumber:R}}}=t;if(!I||I.length===0)return null;s=t={annotationType:ft.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:R-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(C==null?void 0:C.str)||null,richText:b,creationDate:E,modificationDate:x}}const a=await super.deserialize(t,i,r);return _(a,oa,t.fontSize),a.color=Ke.makeHexColor(...t.color),_(a,aa,U(o=Rn,xu,HD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Mn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:f(this,oa),value:U(this,Ni,sW).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!U(this,Ni,aW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${f(this,oa)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of f(this,aa).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),i.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,aa)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};aa=new WeakMap,QC=new WeakMap,Oh=new WeakMap,oa=new WeakMap,Ni=new WeakSet,nW=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,oa))*this.parentScale),_(this,oa,s),U(this,Ni,l_).call(this)},r=f(this,oa);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},iW=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rW=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(U(r=Rn,xu,u_).call(r,s)),i=s);return t.join(`
`)},l_=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},xu=new WeakSet,u_=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(zS,"")},c_=function(){if(this.editorDiv.replaceChildren(),!!f(this,aa))for(const t of f(this,aa).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},sW=function(){return f(this,aa).replaceAll(""," ")},HD=function(t){return t.replaceAll(" ","")},aW=function(t){const{value:i,fontSize:r,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},F(Rn,xu),ge(Rn,"_freeTextDefaultContent",""),ge(Rn,"_internalPadding",0),ge(Rn,"_defaultColor",null),ge(Rn,"_defaultFontSize",10),ge(Rn,"_type","freetext"),ge(Rn,"_editorType",ft.FREETEXT);let OD=Rn;class Qe{toSVGPath(){Sn("Abstract method `toSVGPath` must be implemented.")}get box(){Sn("Abstract getter `box` must be implemented.")}serialize(e,t){Sn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*r,a[o+1]=i+e[o+1]*s;return a}static _rescaleAndSwap(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*r,a[o+1]=i+e[o]*s;return a}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,a){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+a)/6,(i+s)/2,(r+a)/2]}}ge(Qe,"PRECISION",1e-4);var Aa,Ro,hv,pv,xA,Et,Hh,Vh,kC,OC,gv,mv,dd,HC,B1,E1,zi,uw,oW,AW,lW,uW,cW,dW;const yl=class yl{constructor({x:e,y:t},i,r,s,a,o=0){F(this,zi);F(this,Aa);F(this,Ro,[]);F(this,hv);F(this,pv);F(this,xA,[]);F(this,Et,new Float32Array(18));F(this,Hh);F(this,Vh);F(this,kC);F(this,OC);F(this,gv);F(this,mv);F(this,dd,[]);_(this,Aa,i),_(this,mv,s*r),_(this,pv,a),f(this,Et).set([NaN,NaN,NaN,NaN,e,t],6),_(this,hv,o),_(this,OC,f(yl,HC)*r),_(this,kC,f(yl,E1)*r),_(this,gv,r),f(this,dd).push(e,t)}isEmpty(){return isNaN(f(this,Et)[8])}add({x:e,y:t}){var k;_(this,Hh,e),_(this,Vh,t);const[i,r,s,a]=f(this,Aa);let[o,l,u,d]=f(this,Et).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,kC))return!1;const b=v-f(this,OC),C=b/v,E=C*h,x=C*g;let I=o,T=l;o=u,l=d,u+=E,d+=x,(k=f(this,dd))==null||k.push(e,t);const R=-x/b,P=E/b,D=R*f(this,mv),Q=P*f(this,mv);return f(this,Et).set(f(this,Et).subarray(2,8),0),f(this,Et).set([u+D,d+Q],4),f(this,Et).set(f(this,Et).subarray(14,18),12),f(this,Et).set([u-D,d-Q],16),isNaN(f(this,Et)[6])?(f(this,xA).length===0&&(f(this,Et).set([o+D,l+Q],2),f(this,xA).push(NaN,NaN,NaN,NaN,(o+D-i)/s,(l+Q-r)/a),f(this,Et).set([o-D,l-Q],14),f(this,Ro).push(NaN,NaN,NaN,NaN,(o-D-i)/s,(l-Q-r)/a)),f(this,Et).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,Et).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(x,E))<Math.PI/2?([o,l,u,d]=f(this,Et).subarray(2,6),f(this,xA).push(NaN,NaN,NaN,NaN,((o+u)/2-i)/s,((l+d)/2-r)/a),[o,l,I,T]=f(this,Et).subarray(14,18),f(this,Ro).push(NaN,NaN,NaN,NaN,((I+o)/2-i)/s,((T+l)/2-r)/a),!0):([I,T,o,l,u,d]=f(this,Et).subarray(0,6),f(this,xA).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),[u,d,o,l,I,T]=f(this,Et).subarray(12,18),f(this,Ro).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,xA),t=f(this,Ro);if(isNaN(f(this,Et)[6])&&!this.isEmpty())return U(this,zi,oW).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);U(this,zi,lW).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return U(this,zi,AW).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,a){return new fW(e,t,i,r,s,a)}getOutlines(){var h;const e=f(this,xA),t=f(this,Ro),i=f(this,Et),[r,s,a,o]=f(this,Aa),l=new Float32Array((((h=f(this,dd))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,dd)[g]-r)/a,l[g+1]=(f(this,dd)[g+1]-s)/o;if(l[l.length-2]=(f(this,Hh)-r)/a,l[l.length-1]=(f(this,Vh)-s)/o,isNaN(i[6])&&!this.isEmpty())return U(this,zi,uW).call(this,l);const u=new Float32Array(f(this,xA).length+24+f(this,Ro).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=U(this,zi,dW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return U(this,zi,cW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,Aa),f(this,gv),f(this,hv),f(this,pv))}};Aa=new WeakMap,Ro=new WeakMap,hv=new WeakMap,pv=new WeakMap,xA=new WeakMap,Et=new WeakMap,Hh=new WeakMap,Vh=new WeakMap,kC=new WeakMap,OC=new WeakMap,gv=new WeakMap,mv=new WeakMap,dd=new WeakMap,HC=new WeakMap,B1=new WeakMap,E1=new WeakMap,zi=new WeakSet,uw=function(){const e=f(this,Et).subarray(4,6),t=f(this,Et).subarray(16,18),[i,r,s,a]=f(this,Aa);return[(f(this,Hh)+(e[0]-t[0])/2-i)/s,(f(this,Vh)+(e[1]-t[1])/2-r)/a,(f(this,Hh)+(t[0]-e[0])/2-i)/s,(f(this,Vh)+(t[1]-e[1])/2-r)/a]},oW=function(){const[e,t,i,r]=f(this,Aa),[s,a,o,l]=U(this,zi,uw).call(this);return`M${(f(this,Et)[2]-e)/i} ${(f(this,Et)[3]-t)/r} L${(f(this,Et)[4]-e)/i} ${(f(this,Et)[5]-t)/r} L${s} ${a} L${o} ${l} L${(f(this,Et)[16]-e)/i} ${(f(this,Et)[17]-t)/r} L${(f(this,Et)[14]-e)/i} ${(f(this,Et)[15]-t)/r} Z`},AW=function(e){const t=f(this,Ro);e.push(`L${t[4]} ${t[5]} Z`)},lW=function(e){const[t,i,r,s]=f(this,Aa),a=f(this,Et).subarray(4,6),o=f(this,Et).subarray(16,18),[l,u,d,h]=U(this,zi,uw).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-i)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/r} ${(o[1]-i)/s}`)},uW=function(e){const t=f(this,Et),[i,r,s,a]=f(this,Aa),[o,l,u,d]=U(this,zi,uw).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(h,e,f(this,Aa),f(this,gv),f(this,hv),f(this,pv))},cW=function(e,t){const i=f(this,Ro);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},dW=function(e,t){const i=f(this,Et).subarray(4,6),r=f(this,Et).subarray(16,18),[s,a,o,l]=f(this,Aa),[u,d,h,g]=U(this,zi,uw).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l],t),t+=24},F(yl,HC,8),F(yl,B1,2),F(yl,E1,f(yl,HC)+f(yl,B1));let sT=yl;var vv,Kh,Wl,VC,la,KC,pi,S1,hW;class fW extends Qe{constructor(t,i,r,s,a,o){super();F(this,S1);F(this,vv);F(this,Kh,new Float32Array(4));F(this,Wl);F(this,VC);F(this,la);F(this,KC);F(this,pi);_(this,pi,t),_(this,la,i),_(this,vv,r),_(this,KC,s),_(this,Wl,a),_(this,VC,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],U(this,S1,hW).call(this,o);const[l,u,d,h]=f(this,Kh);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=i.length;g<v;g+=2)i[g]=(i[g]-l)/d,i[g+1]=(i[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,pi)[4]} ${f(this,pi)[5]}`];for(let i=6,r=f(this,pi).length;i<r;i+=6){if(isNaN(f(this,pi)[i])){t.push(`L${f(this,pi)[i+4]} ${f(this,pi)[i+5]}`);continue}t.push(`C${f(this,pi)[i]} ${f(this,pi)[i+1]} ${f(this,pi)[i+2]} ${f(this,pi)[i+3]} ${f(this,pi)[i+4]} ${f(this,pi)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],a){const o=r-t,l=s-i;let u,d;switch(a){case 0:u=Qe._rescale(f(this,pi),t,s,o,-l),d=Qe._rescale(f(this,la),t,s,o,-l);break;case 90:u=Qe._rescaleAndSwap(f(this,pi),t,i,o,l),d=Qe._rescaleAndSwap(f(this,la),t,i,o,l);break;case 180:u=Qe._rescale(f(this,pi),r,i,-o,l),d=Qe._rescale(f(this,la),r,i,-o,l);break;case 270:u=Qe._rescaleAndSwap(f(this,pi),r,s,-o,-l),d=Qe._rescaleAndSwap(f(this,la),r,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,Kh)}newOutliner(t,i,r,s,a,o=0){return new sT(t,i,r,s,a,o)}getNewOutline(t,i){const[r,s,a,o]=f(this,Kh),[l,u,d,h]=f(this,vv),g=a*d,v=o*h,b=r*d+l,C=s*h+u,E=this.newOutliner({x:f(this,la)[0]*g+b,y:f(this,la)[1]*v+C},f(this,vv),f(this,KC),t,f(this,VC),i??f(this,Wl));for(let x=2;x<f(this,la).length;x+=2)E.add({x:f(this,la)[x]*g+b,y:f(this,la)[x+1]*v+C});return E.getOutlines()}}vv=new WeakMap,Kh=new WeakMap,Wl=new WeakMap,VC=new WeakMap,la=new WeakMap,KC=new WeakMap,pi=new WeakMap,S1=new WeakSet,hW=function(t){const i=f(this,pi);let r=i[4],s=i[5];const a=[r,s,r,s];let o=r,l=s,u=r,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let b=6,C=i.length;b<C;b+=6){const E=i[b+4],x=i[b+5];isNaN(i[b])?(Ke.pointBoundingBox(E,x,a),l>x?(o=E,l=x):l===x&&(o=h(o,E)),d<x?(u=E,d=x):d===x&&(u=h(u,E))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Ke.bezierBoundingBox(r,s,...i.slice(b,b+6),g),Ke.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),r=E,s=x}const v=f(this,Kh);v[0]=a[0]-f(this,Wl),v[1]=a[1]-f(this,Wl),v[2]=a[2]-a[0]+2*f(this,Wl),v[3]=a[3]-a[1]+2*f(this,Wl),this.firstPoint=[o,l],this.lastPoint=[u,d]};var GC,zC,qC,fd,Do,ds,pW,d_,gW,mW,KD;class VD{constructor(e,t=0,i=0,r=!0){F(this,ds);F(this,GC);F(this,zC);F(this,qC);F(this,fd,[]);F(this,Do,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:C,y:E,width:x,height:I}of e){const T=Math.floor((C-t)/a)*a,R=Math.ceil((C+x+t)/a)*a,P=Math.floor((E-t)/a)*a,D=Math.ceil((E+I+t)/a)*a,Q=[T,P,D,!0],H=[R,P,D,!1];f(this,fd).push(Q,H),Ke.rectBoundingBox(T,P,R,D,s)}const o=s[2]-s[0]+2*i,l=s[3]-s[1]+2*i,u=s[0]-i,d=s[1]-i;let h=r?-1/0:1/0,g=1/0;const v=f(this,fd).at(r?-1:-2),b=[v[0],v[2]];for(const C of f(this,fd)){const[E,x,I,T]=C;!T&&r?x<g?(g=x,h=E):x===g&&(h=Math.max(h,E)):T&&!r&&(x<g?(g=x,h=E):x===g&&(h=Math.min(h,E))),C[0]=(E-u)/o,C[1]=(x-d)/l,C[2]=(I-d)/l}_(this,GC,new Float32Array([u,d,o,l])),_(this,zC,[h,g]),_(this,qC,b)}getOutlines(){f(this,fd).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of f(this,fd))t[3]?(e.push(...U(this,ds,KD).call(this,t)),U(this,ds,gW).call(this,t)):(U(this,ds,mW).call(this,t),e.push(...U(this,ds,KD).call(this,t)));return U(this,ds,pW).call(this,e)}}GC=new WeakMap,zC=new WeakMap,qC=new WeakMap,fd=new WeakMap,Do=new WeakMap,ds=new WeakSet,pW=function(e){const t=[],i=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,l,u,d,h]=a;i.delete(a);let g=o,v=l;for(s=[o,u],r.push(s);;){let b;if(i.has(d))b=d;else if(i.has(h))b=h;else break;i.delete(b),[o,l,u,d,h]=b,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new sfe(r,f(this,GC),f(this,zC),f(this,qC))},d_=function(e){const t=f(this,Do);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},gW=function([,e,t]){const i=U(this,ds,d_).call(this,e);f(this,Do).splice(i,0,[e,t])},mW=function([,e,t]){const i=U(this,ds,d_).call(this,e);for(let r=i;r<f(this,Do).length;r++){const[s,a]=f(this,Do)[r];if(s!==e)break;if(s===e&&a===t){f(this,Do).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=f(this,Do)[r];if(s!==e)break;if(s===e&&a===t){f(this,Do).splice(r,1);return}}},KD=function(e){const[t,i,r]=e,s=[[t,i,r]],a=U(this,ds,d_).call(this,r);for(let o=0;o<a;o++){const[l,u]=f(this,Do)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var $C,yv;class sfe extends Qe{constructor(t,i,r,s){super();F(this,$C);F(this,yv);_(this,yv,t),_(this,$C,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of f(this,yv)){let[r,s]=i;t.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],l=i[a+1];o===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],a){const o=[],l=r-t,u=s-i;for(const d of f(this,yv)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,$C)}get classNamesForOutlining(){return["highlightOutline"]}}$C=new WeakMap,yv=new WeakMap;class GD extends sT{newFreeDrawOutline(e,t,i,r,s,a){return new afe(e,t,i,r,s,a)}}class afe extends fW{newOutliner(e,t,i,r,s,a=0){return new GD(e,t,i,r,s,a)}}var wv,jC,Yl,Gh,WC,Is,YC,XC,zh,ua,ca,Br,bv,Cv,Kr,Bv,eo,JC,yt,zD,f_,vW,yW,wW,qD,Mf,oo,Dg,bW,h_,p_,CW,BW,EW,SW,xW;const jt=class jt extends Mn{constructor(t){super({...t,name:"highlightEditor"});F(this,yt);F(this,wv,null);F(this,jC,0);F(this,Yl);F(this,Gh,null);F(this,WC,null);F(this,Is,null);F(this,YC,null);F(this,XC,0);F(this,zh,null);F(this,ua,null);F(this,ca,null);F(this,Br,!1);F(this,bv,null);F(this,Cv,null);F(this,Kr,null);F(this,Bv,"");F(this,eo);F(this,JC,"");this.color=t.color||jt._defaultColor,_(this,eo,t.thickness||jt._defaultThickness),this.opacity=t.opacity||jt._defaultOpacity,_(this,Yl,t.boxes||null),_(this,JC,t.methodOfCreation||""),_(this,Bv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,Br,!0),U(this,yt,f_).call(this,t),U(this,yt,Mf).call(this)):f(this,Yl)&&(_(this,wv,t.anchorNode),_(this,jC,t.anchorOffset),_(this,YC,t.focusNode),_(this,XC,t.focusOffset),U(this,yt,zD).call(this),U(this,yt,Mf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=jt.prototype;return ct(this,"_keyboardManager",new jB([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,Br)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,eo),methodOfCreation:f(this,JC)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Mn.initialize(t,i),jt._defaultColor||(jt._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Pt.HIGHLIGHT_COLOR:jt._defaultColor=i;break;case Pt.HIGHLIGHT_THICKNESS:jt._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return f(this,Cv)}get commentButtonPosition(){return f(this,bv)}updateParams(t,i){switch(t){case Pt.HIGHLIGHT_COLOR:U(this,yt,vW).call(this,i);break;case Pt.HIGHLIGHT_THICKNESS:U(this,yt,yW).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pt.HIGHLIGHT_COLOR,jt._defaultColor],[Pt.HIGHLIGHT_THICKNESS,jt._defaultThickness]]}get propertiesToUpdate(){return[[Pt.HIGHLIGHT_COLOR,this.color||jt._defaultColor],[Pt.HIGHLIGHT_THICKNESS,f(this,eo)||jt._defaultThickness],[Pt.HIGHLIGHT_FREE,f(this,Br)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ca),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=f(this,WC))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,WC,new Kj({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(U(this,yt,p_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,U(this,yt,p_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){U(this,yt,qD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,yt,Mf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?U(this,yt,qD).call(this):t&&(U(this,yt,Mf).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,a,o;const{drawLayer:i}=this.parent;let r;f(this,Br)?(t=(t-this.rotation+360)%360,r=U(s=jt,oo,Dg).call(s,f(this,ua).box,t)):r=U(a=jt,oo,Dg).call(a,[this.x,this.y,this.width,this.height],t),i.updateProperties(f(this,ca),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(f(this,Kr),{bbox:U(o=jt,oo,Dg).call(o,f(this,Is).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,Bv)&&(t.setAttribute("aria-label",f(this,Bv)),t.setAttribute("role","mark")),f(this,Br)?t.classList.add("free"):this.div.addEventListener("keydown",U(this,yt,bW).bind(this),{signal:this._uiManager._signal});const i=_(this,zh,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=f(this,Gh),this.setDims(),K6(this,f(this,zh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Kr),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Kr),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:U(this,yt,h_).call(this,!0);break;case 1:case 3:U(this,yt,h_).call(this,!1);break}}select(){var t;super.select(),f(this,Kr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Kr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,Kr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Kr),{rootClass:{selected:!1}}),f(this,Br)||U(this,yt,h_).call(this,!1))}get _mustFixPosition(){return!f(this,Br)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,ca),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,Kr),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:a}){const{x:o,y:l,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=b=>{h.abort(),U(this,oo,SW).call(this,t,b)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",ri,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",po,{signal:g}),r.addEventListener("pointermove",U(this,oo,EW).bind(this,t),{signal:g}),this._freeHighlight=new GD({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var C,E,x,I;let s=null;if(t instanceof eW){const{data:{quadPoints:T,rect:R,rotation:P,id:D,color:Q,opacity:H,popupRef:k,richText:K,contentsObj:V,creationDate:z,modificationDate:Z},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:ft.HIGHLIGHT,color:Array.from(Q),opacity:H,quadPoints:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:P,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:z,modificationDate:Z}}else if(t instanceof VQ){const{data:{inkLists:T,rect:R,rotation:P,id:D,color:Q,borderStyle:{rawWidth:H},popupRef:k,richText:K,contentsObj:V,creationDate:z,modificationDate:Z},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:ft.HIGHLIGHT,color:Array.from(Q),thickness:H,inkLists:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:P,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:z,modificationDate:Z}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,i,r);d.color=Ke.makeHexColor(...a),d.opacity=u||1,l&&_(d,eo,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,b]=d.pageTranslation;if(o){const T=_(d,Yl,[]);for(let R=0;R<o.length;R+=8)T.push({x:(o[R]-v)/h,y:1-(o[R+1]-b)/g,width:(o[R+2]-o[R])/h,height:(o[R+1]-o[R+5])/g});U(C=d,yt,zD).call(C),U(E=d,yt,Mf).call(E),d.rotate(d.rotation)}else if(l){_(d,Br,!0);const T=l[0],R={x:T[0]-v,y:g-(T[1]-b)},P=new GD(R,[0,0,h,g],1,f(d,eo)/2,!0,.001);for(let H=0,k=T.length;H<k;H+=2)R.x=T[H]-v,R.y=g-(T[H+1]-b),P.add(R);const{id:D,clipPathId:Q}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);U(x=d,yt,f_).call(x,{highlightOutlines:P.getOutlines(),highlightId:D,clipPathId:Q}),U(I=d,yt,Mf).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=Mn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:f(this,eo),quadPoints:U(this,yt,CW).call(this),outlines:U(this,yt,BW).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!U(this,yt,xW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};wv=new WeakMap,jC=new WeakMap,Yl=new WeakMap,Gh=new WeakMap,WC=new WeakMap,Is=new WeakMap,YC=new WeakMap,XC=new WeakMap,zh=new WeakMap,ua=new WeakMap,ca=new WeakMap,Br=new WeakMap,bv=new WeakMap,Cv=new WeakMap,Kr=new WeakMap,Bv=new WeakMap,eo=new WeakMap,JC=new WeakMap,yt=new WeakSet,zD=function(){const t=new VD(f(this,Yl),.001);_(this,ua,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,ua).box;const i=new VD(f(this,Yl),.0025,.001,this._uiManager.direction==="ltr");_(this,Is,i.getOutlines());const{firstPoint:r}=f(this,ua);_(this,bv,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=f(this,Is);_(this,Cv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},f_=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var g,v;if(_(this,ua,t),_(this,Is,t.getNewOutline(f(this,eo)/2+1.5,.0025)),i>=0)_(this,ca,i),_(this,Gh,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,Kr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,Is).box,path:{d:f(this,Is).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,ca),{bbox:U(g=jt,oo,Dg).call(g,f(this,ua).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,Kr),{bbox:U(v=jt,oo,Dg).call(v,f(this,Is).box,b),path:{d:f(this,Is).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[b,C]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*C/b,this.height=u*b/C;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[b,C]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*C/b,this.height=u*b/C;break}}const{firstPoint:d}=t;_(this,bv,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,Is);_(this,Cv,[(h[0]-a)/l,(h[1]-o)/u])},vW=function(t){const i=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,jt._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},yW=function(t){const i=f(this,eo),r=s=>{_(this,eo,s),U(this,yt,wW).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},wW=function(t){f(this,Br)&&(U(this,yt,f_).call(this,{highlightOutlines:f(this,ua).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},qD=function(){f(this,ca)===null||!this.parent||(this.parent.drawLayer.remove(f(this,ca)),_(this,ca,null),this.parent.drawLayer.remove(f(this,Kr)),_(this,Kr,null))},Mf=function(t=this.parent){f(this,ca)===null&&({id:ci(this,ca)._,clipPathId:ci(this,Gh)._}=t.drawLayer.draw({bbox:f(this,ua).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,Br)},path:{d:f(this,ua).toSVGPath()}},!1,!0),_(this,Kr,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,Br)},bbox:f(this,Is).box,path:{d:f(this,Is).toSVGPath()}},f(this,Br))),f(this,zh)&&(f(this,zh).style.clipPath=f(this,Gh)))},oo=new WeakSet,Dg=function([t,i,r,s],a){switch(a){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},bW=function(t){jt._keyboardManager.exec(this,t)},h_=function(t){if(!f(this,wv))return;const i=window.getSelection();t?i.setPosition(f(this,wv),f(this,jC)):i.setPosition(f(this,YC),f(this,XC))},p_=function(){return f(this,Br)?this.rotation:0},CW=function(){if(f(this,Br))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,a=f(this,Yl),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+r,b=(1-d)*i+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=b,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=b-g*i,l+=8}return o},BW=function(t){return f(this,ua).serialize(t,U(this,yt,p_).call(this))},EW=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},SW=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},xW=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},F(jt,oo),ge(jt,"_defaultColor",null),ge(jt,"_defaultOpacity",1),ge(jt,"_defaultThickness",12),ge(jt,"_type","highlight"),ge(jt,"_editorType",ft.HIGHLIGHT),ge(jt,"_freeHighlightId",-1),ge(jt,"_freeHighlight",null),ge(jt,"_freeHighlightClipId","");let aT=jt;var qh;class _W{constructor(){F(this,qh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){f(this,qh)[e]=t}toSVGProperties(){const e=f(this,qh);return _(this,qh,Object.create(null)),{root:e}}reset(){_(this,qh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Sn("Not implemented")}}qh=new WeakMap;var da,Ev,rr,$h,jh,Lt,$D,jD,WD,cw,TW,g_,dw,Ng;const Ft=class Ft extends Mn{constructor(t){super(t);F(this,Lt);F(this,da,null);F(this,Ev);ge(this,"_colorPicker",null);ge(this,"_drawId",null);_(this,Ev,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(U(this,Lt,$D).call(this,t),U(this,Lt,cw).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,a]of Object.entries(i))r.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Sn("Not implemented")}static get typesMap(){Sn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(f(Ft,rr).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,a=s[i],o=l=>{var d;s.updateProperty(i,l);const u=f(this,da).updateProperty(i,l);u&&U(this,Lt,dw).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(f(this,da).getPathResizingSVGProperties(U(this,Lt,g_).call(this)),{bbox:U(this,Lt,Ng).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(f(this,da).getPathResizedSVGProperties(U(this,Lt,g_).call(this)),{bbox:U(this,Lt,Ng).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:U(this,Lt,Ng).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(f(this,da).getPathTranslatedSVGProperties(U(this,Lt,g_).call(this),this.parentDimensions),{bbox:U(this,Lt,Ng).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,Ev)&&(_(this,Ev,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){U(this,Lt,WD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,Lt,cw).call(this),U(this,Lt,dw).call(this,f(this,da).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),U(this,Lt,WD).call(this)):t&&(this._uiManager.addShouldRescale(this),U(this,Lt,cw).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties({bbox:U(this,Lt,Ng).call(this)},f(this,da).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&U(this,Lt,dw).call(this,f(this,da).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,a){Sn("Not implemented")}static startDrawing(t,i,r,s){var E;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(Qr.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),b=_(Ft,$h,new AbortController),C=t.combinedSignal(b);if(Qr.setPointer(d,u),window.addEventListener("pointerup",x=>{Qr.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:C}),window.addEventListener("pointercancel",x=>{Qr.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:C}),window.addEventListener("pointerdown",x=>{Qr.isSamePointerType(x.pointerType)&&(Qr.initializeAndAddPointerId(x.pointerId),f(Ft,rr).isCancellable()&&(f(Ft,rr).removeLastElement(),f(Ft,rr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:C}),window.addEventListener("contextmenu",po,{signal:C}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:C}),a.addEventListener("touchmove",x=>{Qr.isSameTimeStamp(x.timeStamp)&&ri(x)},{signal:C}),t.toggleDrawing(),(E=i._editorUndoBar)==null||E.hide(),f(Ft,rr)){t.drawLayer.updateProperties(this._currentDrawId,f(Ft,rr).startNew(o,l,g,v,h));return}i.updateUIForDefaultProperties(this),_(Ft,rr,this.createDrawerInstance(o,l,g,v,h)),_(Ft,jh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(Ft,jh).toSVGProperties(),f(Ft,rr).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Qr.isSameTimeStamp(t.timeStamp),!f(Ft,rr))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(Qr.isSamePointerId(s)){if(Qr.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(Ft,rr).add(i,r)),Qr.setTimeStamp(t.timeStamp),ri(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(Ft,rr,null),_(Ft,jh,null),Qr.clearPointerType(),Qr.clearTimeStamp()),f(Ft,$h)&&(f(Ft,$h).abort(),_(Ft,$h,null),Qr.clearPointerIds())}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,f(Ft,rr).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=f(Ft,rr),s=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:Pt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Pt.DRAW_STEP),!f(Ft,rr).isEmpty()){const{pageDimensions:[r,s],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(Ft,rr).getOutlines(r*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(Ft,jh),mustBeCommitted:!t});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,a,o){Sn("Not implemented")}static async deserialize(t,i,r){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=i.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,i,r);return d.createDrawingOptions(t),U(h=d,Lt,$D).call(h,{drawOutlines:u}),U(g=d,Lt,cw).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[i,r]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,da).serialize([i,r,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};da=new WeakMap,Ev=new WeakMap,rr=new WeakMap,$h=new WeakMap,jh=new WeakMap,Lt=new WeakSet,$D=function({drawOutlines:t,drawId:i,drawingOptions:r}){_(this,da,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=U(this,Lt,jD).call(this,t,this.parent),U(this,Lt,dw).call(this,t.box)},jD=function(t,i){const{id:r}=i.drawLayer.draw(Ft._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},WD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},cw=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=U(this,Lt,jD).call(this,f(this,da),t)}},TW=function([t,i,r,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[i,1-t,r*(o/a),s*(a/o)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(o/a),s*(a/o)];default:return[t,i,r,s]}},g_=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-i,t,r*(a/o),s*(o/a)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(a/o),s*(o/a)];default:return[t,i,r,s]}},dw=function(t){[this.x,this.y,this.width,this.height]=U(this,Lt,TW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Ng=function(){const{x:t,y:i,width:r,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(l/u),s*(u/l),r*(l/u)];case 5:return[1-i,t,r*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-i,s*(u/l),r*(l/u)];case 7:return[i-r*(l/u),1-t-s*(u/l),r*(l/u),s*(u/l)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(u/l),i,s*(u/l),r*(l/u)];case 13:return[1-i-r*(l/u),t-s*(u/l),r*(l/u),s*(u/l)];case 14:return[1-t,1-i-r*(l/u),s*(u/l),r*(l/u)];case 15:return[i,1-t,r*(l/u),s*(u/l)];default:return[t,i,r,s]}},ge(Ft,"_currentDrawId",-1),ge(Ft,"_currentParent",null),F(Ft,rr,null),F(Ft,$h,null),F(Ft,jh,null),ge(Ft,"_INNER_MARGIN",3);let oT=Ft;var _A,sr,ar,Wh,Sv,ns,Er,to,Yh,Xh,Jh,xv,m_;class ofe{constructor(e,t,i,r,s,a){F(this,xv);F(this,_A,new Float64Array(6));F(this,sr);F(this,ar);F(this,Wh);F(this,Sv);F(this,ns);F(this,Er,"");F(this,to,0);F(this,Yh,new YB);F(this,Xh);F(this,Jh);_(this,Xh,i),_(this,Jh,r),_(this,Wh,s),_(this,Sv,a),[e,t]=U(this,xv,m_).call(this,e,t);const o=_(this,sr,[NaN,NaN,NaN,NaN,e,t]);_(this,ns,[e,t]),_(this,ar,[{line:o,points:f(this,ns)}]),f(this,_A).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,Sv,t)}isEmpty(){return!f(this,ar)||f(this,ar).length===0}isCancellable(){return f(this,ns).length<=10}add(e,t){[e,t]=U(this,xv,m_).call(this,e,t);const[i,r,s,a]=f(this,_A).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,Xh)*o,f(this,Jh)*l)<=2?null:(f(this,ns).push(e,t),isNaN(i)?(f(this,_A).set([s,a,e,t],2),f(this,sr).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,_A)[0])&&f(this,sr).splice(6,6),f(this,_A).set([i,r,s,a,e,t],0),f(this,sr).push(...Qe.createBezierPoints(i,r,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(f(this,ns).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){_(this,Xh,i),_(this,Jh,r),_(this,Wh,s),[e,t]=U(this,xv,m_).call(this,e,t);const a=_(this,sr,[NaN,NaN,NaN,NaN,e,t]);_(this,ns,[e,t]);const o=f(this,ar).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,ar).push({line:a,points:f(this,ns)}),f(this,_A).set(a,0),_(this,to,0),this.toSVGPath(),null}getLastElement(){return f(this,ar).at(-1)}setLastElement(e){return f(this,ar)?(f(this,ar).push(e),_(this,sr,e.line),_(this,ns,e.points),_(this,to,0),{path:{d:this.toSVGPath()}}):f(this,Yh).setLastElement(e)}removeLastElement(){if(!f(this,ar))return f(this,Yh).removeLastElement();f(this,ar).pop(),_(this,Er,"");for(let e=0,t=f(this,ar).length;e<t;e++){const{line:i,points:r}=f(this,ar)[e];_(this,sr,i),_(this,ns,r),_(this,to,0),this.toSVGPath()}return{path:{d:f(this,Er)}}}toSVGPath(){const e=Qe.svgRound(f(this,sr)[4]),t=Qe.svgRound(f(this,sr)[5]);if(f(this,ns).length===2)return _(this,Er,`${f(this,Er)} M ${e} ${t} Z`),f(this,Er);if(f(this,ns).length<=6){const r=f(this,Er).lastIndexOf("M");_(this,Er,`${f(this,Er).slice(0,r)} M ${e} ${t}`),_(this,to,6)}if(f(this,ns).length===4){const r=Qe.svgRound(f(this,sr)[10]),s=Qe.svgRound(f(this,sr)[11]);return _(this,Er,`${f(this,Er)} L ${r} ${s}`),_(this,to,12),f(this,Er)}const i=[];f(this,to)===0&&(i.push(`M ${e} ${t}`),_(this,to,6));for(let r=f(this,to),s=f(this,sr).length;r<s;r+=6){const[a,o,l,u,d,h]=f(this,sr).slice(r,r+6).map(Qe.svgRound);i.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,Er,f(this,Er)+i.join(" ")),_(this,to,f(this,sr).length),f(this,Er)}getOutlines(e,t,i,r){const s=f(this,ar).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Yh).build(f(this,ar),e,t,i,f(this,Wh),f(this,Sv),r),_(this,_A,null),_(this,sr,null),_(this,ar,null),_(this,Er,null),f(this,Yh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}_A=new WeakMap,sr=new WeakMap,ar=new WeakMap,Wh=new WeakMap,Sv=new WeakMap,ns=new WeakMap,Er=new WeakMap,to=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,Jh=new WeakMap,xv=new WeakSet,m_=function(e,t){return Qe._normalizePoint(e,t,f(this,Xh),f(this,Jh),f(this,Wh))};var is,ZC,eB,fa,TA,IA,_v,Tv,Zh,Fr,gl,IW,FW,MW;class YB extends Qe{constructor(){super(...arguments);F(this,Fr);F(this,is);F(this,ZC,0);F(this,eB);F(this,fa);F(this,TA);F(this,IA);F(this,_v);F(this,Tv);F(this,Zh)}build(t,i,r,s,a,o,l){_(this,TA,i),_(this,IA,r),_(this,_v,s),_(this,Tv,a),_(this,Zh,o),_(this,eB,l??0),_(this,fa,t),U(this,Fr,FW).call(this)}get thickness(){return f(this,Zh)}setLastElement(t){return f(this,fa).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,fa).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of f(this,fa)){if(t.push(`M${Qe.svgRound(i[4])} ${Qe.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Qe.svgRound(i[10])} ${Qe.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[a,o,l,u,d,h]=i.subarray(r,r+6).map(Qe.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,i,r,s],a){const o=[],l=[],[u,d,h,g]=U(this,Fr,IW).call(this);let v,b,C,E,x,I,T,R,P;switch(f(this,Tv)){case 0:P=Qe._rescale,v=t,b=i+s,C=r,E=-s,x=t+u*r,I=i+(1-d-g)*s,T=t+(u+h)*r,R=i+(1-d)*s;break;case 90:P=Qe._rescaleAndSwap,v=t,b=i,C=r,E=s,x=t+d*r,I=i+u*s,T=t+(d+g)*r,R=i+(u+h)*s;break;case 180:P=Qe._rescale,v=t+r,b=i,C=-r,E=s,x=t+(1-u-h)*r,I=i+d*s,T=t+(1-u)*r,R=i+(d+g)*s;break;case 270:P=Qe._rescaleAndSwap,v=t+r,b=i+s,C=-r,E=-s,x=t+(1-d-g)*r,I=i+(1-u-h)*s,T=t+(1-d)*r,R=i+(1-u)*s;break}for(const{line:D,points:Q}of f(this,fa))o.push(P(D,v,b,C,E,a?new Array(D.length):null)),l.push(P(Q,v,b,C,E,a?new Array(Q.length):null));return{lines:o,points:l,rect:[x,I,T,R]}}static deserialize(t,i,r,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,b,C,E;switch(u){case 0:E=Qe._rescale,g=-t/r,v=i/s+1,b=1/r,C=-1/s;break;case 90:E=Qe._rescaleAndSwap,g=-i/s,v=-t/r,b=1/s,C=1/r;break;case 180:E=Qe._rescale,g=t/r+1,v=-i/s,b=-1/r,C=1/s;break;case 270:E=Qe._rescaleAndSwap,g=i/s+1,v=t/r+1,b=-1/s,C=-1/r;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const R=new Float32Array(3*(T-2));o.push(R);let[P,D,Q,H]=I.subarray(0,4);R.set([NaN,NaN,NaN,NaN,P,D],0);for(let k=4;k<T;k+=2){const K=I[k],V=I[k+1];R.set(Qe.createBezierPoints(P,D,Q,H,K,V),(k-2)*3),[P,D,Q,H]=[Q,H,K,V]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:E(o[I].map(R=>R??NaN),g,v,b,C),points:E(l[I].map(R=>R??NaN),g,v,b,C)});const x=new this.prototype.constructor;return x.build(h,r,s,1,u,d,a),x}get box(){return f(this,is)}updateProperty(t,i){return t==="stroke-width"?U(this,Fr,MW).call(this,i):null}updateParentDimensions([t,i],r){const[s,a]=U(this,Fr,gl).call(this);_(this,TA,t),_(this,IA,i),_(this,_v,r);const[o,l]=U(this,Fr,gl).call(this),u=o-s,d=l-a,h=f(this,is);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,ZC,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,is).map(Qe.svgRound).join(" ")}get defaultProperties(){const[t,i]=f(this,is);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=f(this,is);let r=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,ZC)){case 90:s=i/t,a=-t/i,l=t;break;case 180:r=-1,o=-1,l=t,u=i;break;case 270:s=-i/t,a=t/i,u=i;break;default:return""}return`matrix(${r} ${s} ${a} ${o} ${Qe.svgRound(l)} ${Qe.svgRound(u)})`}getPathResizingSVGProperties([t,i,r,s]){const[a,o]=U(this,Fr,gl).call(this),[l,u,d,h]=f(this,is);if(Math.abs(d-a)<=Qe.PRECISION||Math.abs(h-o)<=Qe.PRECISION){const E=t+r/2-(l+d/2),x=i+s/2-(u+h/2);return{path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`,transform:`${this.rotationTransform} translate(${E} ${x})`}}}const g=(r-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),b=d/r,C=h/s;return{path:{"transform-origin":`${Qe.svgRound(l)} ${Qe.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${C}) translate(${Qe.svgRound(a)} ${Qe.svgRound(o)}) scale(${g} ${v}) translate(${Qe.svgRound(-a)} ${Qe.svgRound(-o)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[a,o]=U(this,Fr,gl).call(this),l=f(this,is),[u,d,h,g]=l;if(l[0]=t,l[1]=i,l[2]=r,l[3]=s,Math.abs(h-a)<=Qe.PRECISION||Math.abs(g-o)<=Qe.PRECISION){const x=t+r/2-(u+h/2),I=i+s/2-(d+g/2);for(const{line:T,points:R}of f(this,fa))Qe._translate(T,x,I,T),Qe._translate(R,x,I,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(r-2*a)/(h-2*a),b=(s-2*o)/(g-2*o),C=-v*(u+a)+t+a,E=-b*(d+o)+i+o;if(v!==1||b!==1||C!==0||E!==0)for(const{line:x,points:I}of f(this,fa))Qe._rescale(x,C,E,v,b,x),Qe._rescale(I,C,E,v,b,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,a]=r,o=f(this,is),l=t-o[0],u=i-o[1];if(f(this,TA)===s&&f(this,IA)===a)for(const{line:d,points:h}of f(this,fa))Qe._translate(d,l,u,d),Qe._translate(h,l,u,h);else{const d=f(this,TA)/s,h=f(this,IA)/a;_(this,TA,s),_(this,IA,a);for(const{line:g,points:v}of f(this,fa))Qe._rescale(g,l,u,d,h,g),Qe._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`}}}get defaultSVGProperties(){const t=f(this,is);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(t[0])} ${Qe.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}is=new WeakMap,ZC=new WeakMap,eB=new WeakMap,fa=new WeakMap,TA=new WeakMap,IA=new WeakMap,_v=new WeakMap,Tv=new WeakMap,Zh=new WeakMap,Fr=new WeakSet,gl=function(t=f(this,Zh)){const i=f(this,eB)+t/2*f(this,_v);return f(this,Tv)%180===0?[i/f(this,TA),i/f(this,IA)]:[i/f(this,IA),i/f(this,TA)]},IW=function(){const[t,i,r,s]=f(this,is),[a,o]=U(this,Fr,gl).call(this,0);return[t+a,i+o,r-2*a,s-2*o]},FW=function(){const t=_(this,is,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,fa)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Ke.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,b,C]=s.subarray(l,l+6);Ke.bezierBoundingBox(a,o,d,h,g,v,b,C,t),a=b,o=C}}const[i,r]=U(this,Fr,gl).call(this);t[0]=As(t[0]-i,0,1),t[1]=As(t[1]-r,0,1),t[2]=As(t[2]+i,0,1),t[3]=As(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},MW=function(t){const[i,r]=U(this,Fr,gl).call(this);_(this,Zh,t);const[s,a]=U(this,Fr,gl).call(this),[o,l]=[s-i,a-r],u=f(this,is);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class K1 extends _W{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Mn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new K1(this._viewParameters);return e.updateAll(this),e}}var x1,UW;const Xg=class Xg extends oT{constructor(t){super({...t,name:"inkEditor"});F(this,x1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){Mn.initialize(t,i),this._defaultDrawingOptions=new K1(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return ct(this,"typesMap",new Map([[Pt.INK_THICKNESS,"stroke-width"],[Pt.INK_COLOR,"stroke"],[Pt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,a){return new ofe(t,i,r,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,a,o){return YB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){let s=null;if(t instanceof VQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:b,richText:C,contentsObj:E,creationDate:x,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:ft.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:b,richText:C,comment:(E==null?void 0:E.str)||null,creationDate:x,modificationDate:I}}const a=await super.deserialize(t,i,r);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new iT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Pt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=Xg.getDefaultDrawingOptions({stroke:Ke.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Mn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:i,points:r}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!U(this,x1,UW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};x1=new WeakSet,UW=function(t){const{color:i,thickness:r,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==i[l])||t.thickness!==r||t.opacity!==s||t.pageIndex!==a},ge(Xg,"_type","ink"),ge(Xg,"_editorType",ft.INK),ge(Xg,"_defaultDrawingOptions",null);let YD=Xg;class XD extends YB{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const qS=8,U0=3;var $0,ep,Yt,JD,No,PW,RW,ZD,v_,DW,NW,LW,eN,tN,QW;let Lg=($0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${i} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:C,actualBoundingBoxDescent:E,fontBoundingBoxAscent:x,fontBoundingBoxDescent:I,width:T}=d.measureText(e),R=1.5,P=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,T)*R),D=Math.ceil(Math.max(Math.abs(C)+Math.abs(E)||h,Math.abs(x)+Math.abs(I)||h)*R);u=new OffscreenCanvas(P,D),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,P,D),d.fillStyle="black",d.fillText(e,P*(R-1)/2,D*(3-R)/2);const Q=U(this,Yt,eN).call(this,d.getImageData(0,0,P,D).data),H=U(this,Yt,LW).call(this,Q),k=U(this,Yt,tN).call(this,H),K=U(this,Yt,ZD).call(this,Q,P,D,k);return this.processDrawnLines({lines:{curves:K,width:P,height:D},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[a,o,l]=U(this,Yt,QW).call(this,e),[u,d]=U(this,Yt,NW).call(this,a,o,l,Math.hypot(o,l)*f(this,ep).sigmaSFactor,f(this,ep).sigmaR,f(this,ep).kernelSize),h=U(this,Yt,tN).call(this,d),g=U(this,Yt,ZD).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([t,i]=[i,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,i/d),b=v/t,C=v/i,E=[];for(const{points:I}of l){const T=a?U(this,Yt,DW).call(this,I):I;if(!T)continue;E.push(T);const R=T.length,P=new Float32Array(R),D=new Float32Array(3*(R===2?2:R-2));if(g.push({line:D,points:P}),R===2){P[0]=T[0]*b,P[1]=T[1]*C,D.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[Q,H,k,K]=T;Q*=b,H*=C,k*=b,K*=C,P.set([Q,H,k,K],0),D.set([NaN,NaN,NaN,NaN,Q,H],0);for(let V=4;V<R;V+=2){const z=P[V]=T[V]*b,Z=P[V+1]=T[V+1]*C;D.set(Qe.createBezierPoints(Q,H,k,K,z,Z),(V-2)*3),[Q,H,k,K]=[k,K,z,Z]}}if(g.length===0)return null;const x=o?new XD:new YB;return x.build(g,t,i,1,r,o?0:h,s),{outline:x,newCurves:E,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let R=2,P=T.length;R<P;R++){const D=T[R]-T[R-2];a=Math.min(a,D),o=Math.max(o,D)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=qS+U0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=r,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(i??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const b=new CompressionStream("deflate-raw"),C=b.writable.getWriter();await C.ready,C.write(g);const E=u.prototype.constructor;for(const T of e){const R=new E(T.length-2);for(let P=2,D=T.length;P<D;P++)R[P-2]=T[P]-T[P-2];C.write(R)}C.close();const x=await new Response(b.readable).arrayBuffer(),I=new Uint8Array(x);return R6(I)}static async decompressSignature(e){try{const t=Bce(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of i)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],b=l[6],C=l[7],E=[],x=(qS+U0*b)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(C){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,x);break}o=0;for(let T=0;T<b;T++){const R=l[U0*T+qS],P=new Float32Array(R+2);E.push(P);for(let D=0;D<U0-1;D++)P[D]=l[U0*T+qS+D+1];for(let D=0;D<R;D++)P[D+2]=P[D]+I[o++]}return{areContours:g,thickness:v,outlines:E,width:d,height:h}}catch(t){return ut(`decompressSignature: ${t}`),null}}},ep=new WeakMap,Yt=new WeakSet,JD=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},No=new WeakMap,PW=function(e,t,i,r,s,a,o){const l=U(this,Yt,JD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,No)[2*d],g=f(this,No)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},RW=function(e,t,i,r,s,a,o){const l=U(this,Yt,JD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,No)[2*d],g=f(this,No)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},ZD=function(e,t,i,r){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=r?1:0;for(let d=1;d<i-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*i-1-d]=0;let o=1,l;const u=[];for(let d=1;d<i-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let b=d,C=h;if(v===1&&a[g-1]===0)o+=1,C-=1;else if(v>=1&&a[g+1]===0)o+=1,C+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const E=[h,d],x=C===h+1,I={isHole:x,points:E,id:o,parent:0};u.push(I);let T;for(const V of u)if(V.id===l){T=V;break}T?T.isHole?I.parent=x?T.parent:l:I.parent=x?l:T.parent:I.parent=x?l:0;const R=U(this,Yt,PW).call(this,a,t,d,h,b,C,0);if(R===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let P=f(this,No)[2*R],D=f(this,No)[2*R+1];const Q=d+P,H=h+D;b=Q,C=H;let k=d,K=h;for(;;){const V=U(this,Yt,RW).call(this,a,t,k,K,b,C,1);P=f(this,No)[2*V],D=f(this,No)[2*V+1];const z=k+P,Z=K+D;E.push(Z,z);const ne=k*t+K;if(a[ne+1]===0?a[ne]=-o:a[ne]===1&&(a[ne]=o),z===d&&Z===h&&k===Q&&K===H){a[g]!==1&&(l=Math.abs(a[g]));break}else b=k,C=K,k=z,K=Z}}}return u},v_=function(e,t,i,r){if(i-t<=4){for(let Q=t;Q<i-2;Q+=2)r.push(e[Q],e[Q+1]);return}const s=e[t],a=e[t+1],o=e[i-4]-s,l=e[i-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,b=1/u,C=Math.atan(v),E=Math.cos(C),x=Math.sin(C),I=b*(Math.abs(E)+Math.abs(x)),T=b*(1-I+I**2),R=Math.max(Math.atan(Math.abs(x+E)*T),Math.atan(Math.abs(x-E)*T));let P=0,D=t;for(let Q=t+2;Q<i-2;Q+=2){const H=Math.abs(g-d*e[Q+1]+h*e[Q]);H>P&&(D=Q,P=H)}P>(u*R)**2?(U(this,Yt,v_).call(this,e,t,D+2,r),U(this,Yt,v_).call(this,e,D,i,r)):r.push(s,a)},DW=function(e){const t=[],i=e.length;return U(this,Yt,v_).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},NW=function(e,t,i,r,s,a){const o=new Float32Array(a**2),l=-2*r**2,u=a>>1;for(let C=0;C<a;C++){const E=(C-u)**2;for(let x=0;x<a;x++)o[C*a+x]=Math.exp((E+(x-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let C=0;C<256;C++)d[C]=Math.exp(C**2/h);const g=e.length,v=new Uint8Array(g),b=new Uint32Array(256);for(let C=0;C<i;C++)for(let E=0;E<t;E++){const x=C*t+E,I=e[x];let T=0,R=0;for(let D=0;D<a;D++){const Q=C+D-u;if(!(Q<0||Q>=i))for(let H=0;H<a;H++){const k=E+H-u;if(k<0||k>=t)continue;const K=e[Q*t+k],V=o[D*a+H]*d[Math.abs(K-I)];T+=K*V,R+=V}}const P=v[x]=Math.round(T/R);b[P]++}return[v,b]},LW=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},eN=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let o=0,l=i.length;o<l;o++){const u=i[o]=e[o<<2];r=Math.max(r,u),s=Math.min(s,u)}const a=255/(r-s);for(let o=0,l=i.length;o<l;o++)i[o]=(i[o]-s)*a;return i},tN=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>i&&(t-a>r&&(r=t-a,o=t-1),i=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},QW=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=f(this,ep);let a=i,o=r;if(i>s||r>s){let g=i,v=r,b=Math.log2(Math.max(i,r)/s);const C=Math.floor(b);b=b===C?C-1:C;for(let x=0;x<b;x++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const E=Math.min(s/a,s/o);a=Math.round(a*E),o=Math.round(o*E)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[U(this,Yt,eN).call(this,d),a,o]},F($0,Yt),F($0,ep,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),F($0,No,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),$0);class KQ extends _W{constructor(){super(),super.updateProperties({fill:Mn._defaultLineColor,"stroke-width":0})}clone(){const e=new KQ;return e.updateAll(this),e}}class GQ extends K1{constructor(e){super(e),super.updateProperties({stroke:Mn._defaultLineColor,"stroke-width":1})}clone(){const e=new GQ(this._viewParameters);return e.updateAll(this),e}}var hd,FA,pd,tp;const Ys=class Ys extends oT{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});F(this,hd,!1);F(this,FA,null);F(this,pd,null);F(this,tp,null);this._willKeepAspectRatio=!0,_(this,pd,t.signatureData||null),_(this,FA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){Mn.initialize(t,i),this._defaultDrawingOptions=new KQ,this._defaultDrawnSignatureOptions=new GQ(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return ct(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,FA)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(f(this,pd)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,pd),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,b=Lg.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:Ys._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(b,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,FA)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){_(this,tp,t),this.addEditToolbar()}getUuid(){return f(this,tp)}get description(){return f(this,FA)}set description(t){_(this,FA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:a}=f(this,pd),o=Math.max(s,a),l=Lg.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:a,y:o}=this,{outline:l}=_(this,pd,t);_(this,hd,l instanceof XD),this.description=r;let u;f(this,hd)?u=Ys.getDefaultDrawingOptions():(u=Ys._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=i/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Lg.process(t,i,r,s,Ys._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:a}=this.parent.viewport;return Lg.extractContoursFromText(t,i,r,s,a,Ys._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Lg.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:Ys._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=Ys.getDefaultDrawingOptions():(this._drawingOptions=Ys._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,hd),color:[0,0,0],thickness:f(this,hd)?0:s});return this.addComment(a),t?(a.paths={lines:i,points:r},a.uuid=f(this,tp),a.isCopy=!0):a.lines=i,f(this,FA)&&(a.accessibilityData={type:"Figure",alt:f(this,FA)}),a}static deserializeDraw(t,i,r,s,a,o){return o.areContours?XD.deserialize(t,i,r,s,a,o):YB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){var a;const s=await super.deserialize(t,i,r);return _(s,hd,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,tp,t.uuid),s}};hd=new WeakMap,FA=new WeakMap,pd=new WeakMap,tp=new WeakMap,ge(Ys,"_type","signature"),ge(Ys,"_editorType",ft.SIGNATURE),ge(Ys,"_defaultDrawingOptions",null);let nN=Ys;var Hn,or,gd,Xl,md,Iv,Jl,np,MA,ha,Fv,Qt,fw,hw,y_,w_,b_,rN,C_,kW;class iN extends Mn{constructor(t){super({...t,name:"stampEditor"});F(this,Qt);F(this,Hn,null);F(this,or,null);F(this,gd,null);F(this,Xl,null);F(this,md,null);F(this,Iv,"");F(this,Jl,null);F(this,np,!1);F(this,MA,null);F(this,ha,!1);F(this,Fv,!1);_(this,Xl,t.bitmapUrl),_(this,md,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){Mn.initialize(t,i)}static isHandlingMimeForPasting(t){return HR.includes(t)}static paste(t,i){i.pasteEditor({mode:ft.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,or)&&(_(this,Hn,null),this._uiManager.imageManager.deleteId(f(this,or)),(t=f(this,Jl))==null||t.remove(),_(this,Jl,null),f(this,MA)&&(clearTimeout(f(this,MA)),_(this,MA,null))),super.remove()}rebuild(){if(!this.parent){f(this,or)&&U(this,Qt,y_).call(this);return}super.rebuild(),this.div!==null&&(f(this,or)&&f(this,Jl)===null&&U(this,Qt,y_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,gd)||f(this,Hn)||f(this,Xl)||f(this,md)||f(this,or)||f(this,np))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,np)||(f(this,Hn)?U(this,Qt,w_).call(this):U(this,Qt,y_).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(_(this,or,r),s&&_(this,Hn,s),_(this,np,!1),U(this,Qt,w_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,MA)!==null&&clearTimeout(f(this,MA)),_(this,MA,setTimeout(()=>{_(this,MA,null),U(this,Qt,rN).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:a}=f(this,Hn),o=new Sp;let l=f(this,Hn),u=s,d=a,h=null;if(i){if(s>i||a>i){const Q=Math.min(i/s,i/a);u=Math.floor(s*Q),d=Math.floor(a*Q)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),b=h.height=Math.ceil(d*o.sy);f(this,ha)||(l=U(this,Qt,b_).call(this,v,b));const C=h.getContext("2d");C.filter=this._uiManager.hcmFilter;let E="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":Ice.isDarkMode&&(E="#8f8f9d",x="#42414d");const I=15,T=I*o.sx,R=I*o.sy,P=new OffscreenCanvas(T*2,R*2),D=P.getContext("2d");D.fillStyle=E,D.fillRect(0,0,T*2,R*2),D.fillStyle=x,D.fillRect(0,0,T,R),D.fillRect(T,R,T,R),C.fillStyle=C.createPattern(P,"repeat"),C.fillRect(0,0,v,b),C.drawImage(l,0,0,l.width,l.height,0,0,v,b)}let g=null;if(r){let v,b;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,b=l.height;else if(l=f(this,Hn),s>t||a>t){const x=Math.min(t/s,t/a);v=Math.floor(s*x),b=Math.floor(a*x),f(this,ha)||(l=U(this,Qt,b_).call(this,v,b))}const E=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});E.drawImage(l,0,0,l.width,l.height,0,0,v,b),g={width:v,height:b,data:E.getImageData(0,0,v,b).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,i,r){var E;let s=null,a=!1;if(t instanceof tW){const{data:{rect:x,rotation:I,id:T,structParent:R,popupRef:P,richText:D,contentsObj:Q,creationDate:H,modificationDate:k},container:K,parent:{page:{pageNumber:V}},canvas:z}=t;let Z,ne;z?(delete t.canvas,{id:Z,bitmap:ne}=r.imageManager.getFromCanvas(K.id,z),z.remove()):(a=!0,t._hasNoCanvas=!0);const de=((E=await i._structTree.getAriaAttributes(`${Gg}${T}`))==null?void 0:E.get("aria-label"))||"";s=t={annotationType:ft.STAMP,bitmapId:Z,bitmap:ne,pageIndex:V-1,rect:x.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:de},isSvg:!1,structParent:R,popupRef:P,richText:D,comment:(Q==null?void 0:Q.str)||null,creationDate:H,modificationDate:k}}const o=await super.deserialize(t,i,r),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(r.addMissingCanvas(t.id,o),_(o,np,!0)):h&&r.imageManager.isValidId(h)?(_(o,or,h),u&&_(o,Hn,u)):_(o,Xl,d),_(o,ha,g);const[b,C]=o.pageDimensions;return o.width=(l[2]-l[0])/b,o.height=(l[3]-l[1])/C,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,Fv,!!s),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:f(this,or),isSvg:f(this,ha)});if(this.addComment(r),t)return r.bitmapUrl=U(this,Qt,C_).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=U(this,Qt,kW).call(this,r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const o=f(this,ha)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(f(this,or)))i.stamps.set(f(this,or),{area:o,serialized:r}),r.bitmap=U(this,Qt,C_).call(this,!1);else if(f(this,ha)){const l=i.stamps.get(f(this,or));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=U(this,Qt,C_).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Hn=new WeakMap,or=new WeakMap,gd=new WeakMap,Xl=new WeakMap,md=new WeakMap,Iv=new WeakMap,Jl=new WeakMap,np=new WeakMap,MA=new WeakMap,ha=new WeakMap,Fv=new WeakMap,Qt=new WeakSet,fw=function(t,i=!1){if(!t){this.remove();return}_(this,Hn,t.bitmap),i||(_(this,or,t.id),_(this,ha,t.isSvg)),t.file&&_(this,Iv,t.file.name),U(this,Qt,w_).call(this)},hw=function(){if(_(this,gd,null),this._uiManager.enableWaiting(!1),!!f(this,Jl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Hn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Hn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},y_=function(){if(f(this,or)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,or)).then(r=>U(this,Qt,fw).call(this,r,!0)).finally(()=>U(this,Qt,hw).call(this));return}if(f(this,Xl)){const r=f(this,Xl);_(this,Xl,null),this._uiManager.enableWaiting(!0),_(this,gd,this._uiManager.imageManager.getFromUrl(r).then(s=>U(this,Qt,fw).call(this,s)).finally(()=>U(this,Qt,hw).call(this)));return}if(f(this,md)){const r=f(this,md);_(this,md,null),this._uiManager.enableWaiting(!0),_(this,gd,this._uiManager.imageManager.getFromFile(r).then(s=>U(this,Qt,fw).call(this,s)).finally(()=>U(this,Qt,hw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=HR.join(",");const i=this._uiManager._signal;_(this,gd,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),U(this,Qt,fw).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>U(this,Qt,hw).call(this))),t.click()},w_=function(){var u;const{div:t}=this;let{width:i,height:r}=f(this,Hn);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const d=Math.min(o*s/i,o*a/r);i*=d,r*=d}this._uiManager.enableWaiting(!1);const l=_(this,Jl,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=i/s,this.height=r/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),U(this,Qt,rN).call(this),f(this,Fv)||(this.parent.addUndoableEditor(this),_(this,Fv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,Iv)&&this.div.setAttribute("aria-description",f(this,Iv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},b_=function(t,i){const{width:r,height:s}=f(this,Hn);let a=r,o=s,l=f(this,Hn);for(;a>2*t||o>2*i;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},rN=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,a=new Sp,o=Math.ceil(r*t*a.sx),l=Math.ceil(s*i*a.sy),u=f(this,Jl);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,ha)?f(this,Hn):U(this,Qt,b_).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},C_=function(t){if(t){if(f(this,ha)){const s=this._uiManager.imageManager.getSvgUrl(f(this,or));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=f(this,Hn),i.getContext("2d").drawImage(f(this,Hn),0,0),i.toDataURL()}if(f(this,ha)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*ry.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*ry.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,Hn),0,0,f(this,Hn).width,f(this,Hn).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,Hn))},kW=function(t){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},ge(iN,"_type","stamp"),ge(iN,"_editorType",ft.STAMP);var ip,Mv,vd,yd,Zl,Fs,wd,Uv,Pv,Lo,eu,Ar,tu,bd,Rv,We,Ns,Cd,En,sN,OW,AA,aN,oN,B_;let Afe=(Ns=class{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){F(this,En);F(this,ip);F(this,Mv,!1);F(this,vd,null);F(this,yd,null);F(this,Zl,null);F(this,Fs,new Map);F(this,wd,!1);F(this,Uv,!1);F(this,Pv,!1);F(this,Lo,null);F(this,eu,null);F(this,Ar,null);F(this,tu,null);F(this,bd,null);F(this,Rv,-1);F(this,We);const h=[...f(Ns,Cd).values()];if(!Ns._initialized){Ns._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,We,e),this.pageIndex=t,this.div=i,_(this,ip,s),_(this,vd,a),this.viewport=u,_(this,Ar,l),this.drawLayer=o,this._structTree=r,f(this,We).addLayer(this)}get isEmpty(){return f(this,Fs).size===0}get isInvisible(){return this.isEmpty&&f(this,We).getMode()===ft.NONE}updateToolbar(e){f(this,We).updateToolbar(e)}updateMode(e=f(this,We).getMode()){switch(U(this,En,B_).call(this),e){case ft.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ft.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ft.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ft.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of f(Ns,Cd).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,Ar))==null?void 0:t.div)}setEditingState(e){f(this,We).setEditingState(e)}addCommands(e){f(this,We).addCommands(e)}cleanUndoStack(e){f(this,We).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,vd))==null||t.togglePointerEvents(e)}async enable(){var i;_(this,Pv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=f(this,bd))==null||i.abort(),_(this,bd,null);const e=new Set;for(const r of f(this,En,sN))r.enableEditing(),r.show(!0),r.annotationElementId&&(f(this,We).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=f(this,vd);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),f(this,We).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,Pv,!1),f(this,We)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(_(this,Uv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,Ar)&&!f(this,bd)){_(this,bd,new AbortController);const s=f(this,We).combinedSignal(f(this,bd));f(this,Ar).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,Rv);if(d-h>500){_(this,Rv,d);return}_(this,Rv,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let b;const C=new RegExp(`^${Kw}[0-9]+$`);for(const x of v)if(C.test(x.id)){b=x.id;break}if(!b)return;const E=f(this,Fs).get(b);(E==null?void 0:E.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),E.dblclick(a))},{signal:s,capture:!0})}const e=f(this,vd),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,En,sN)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,We).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,We).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}U(this,En,B_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of f(Ns,Cd).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,Uv,!1)}getEditableAnnotation(e){var t;return((t=f(this,vd))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,We).getActive()!==e&&f(this,We).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,Ar))!=null&&e.div&&!f(this,tu)){_(this,tu,new AbortController);const t=f(this,We).combinedSignal(f(this,tu));f(this,Ar).div.addEventListener("pointerdown",U(this,En,OW).bind(this),{signal:t}),f(this,Ar).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,Ar))!=null&&e.div&&f(this,tu)&&(f(this,tu).abort(),_(this,tu,null),f(this,Ar).div.classList.remove("highlighting"))}enableClick(){if(f(this,yd))return;_(this,yd,new AbortController);const e=f(this,We).combinedSignal(f(this,yd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,yd))==null||e.abort(),_(this,yd,null)}attach(e){f(this,Fs).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,We).isDeletedAnnotationElement(t)&&f(this,We).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,Fs).delete(e.id),(t=f(this,ip))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Uv)&&e.annotationElementId&&f(this,We).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,We).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,We).addDeletedAnnotationElement(e),Mn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,We).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,Pv)),f(this,We).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Zl)&&(e._focusEventsAllowed=!1,_(this,Zl,setTimeout(()=>{_(this,Zl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,We)._signal}),t.focus())},0))),e._structTreeParentId=(i=f(this,ip))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of f(this,Fs).values())if(t.uid===e)return t;return null}getNextId(){return f(this,We).getId()}combinedSignal(e){return f(this,We).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,En,AA))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,We).updateMode(e.mode);const{offsetX:i,offsetY:r}=U(this,En,oN).call(this),s=this.getNextId(),a=U(this,En,aN).call(this,{parent:this,id:s,x:i,y:r,uiManager:f(this,We),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(Ns,Cd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,We)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=U(this,En,aN).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:f(this,We),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(U(this,En,oN).call(this),!0,e)}setSelected(e){f(this,We).setSelected(e)}toggleSelected(e){f(this,We).toggleSelected(e)}unselect(e){f(this,We).unselect(e)}pointerup(e){var r;const{isMac:t}=Rr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,wd)||(_(this,wd,!1),(r=f(this,En,AA))!=null&&r.isDrawer&&f(this,En,AA).supportMultipleDrawings))return;if(!f(this,Mv)){_(this,Mv,!0);return}const i=f(this,We).getMode();if(i===ft.STAMP||i===ft.SIGNATURE){f(this,We).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(f(this,We).getMode()===ft.HIGHLIGHT&&this.enableTextSelection(),f(this,wd)){_(this,wd,!1);return}const{isMac:t}=Rr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,wd,!0),(r=f(this,En,AA))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=f(this,We).getActive();_(this,Mv,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,Lo)){f(this,En,AA).startDrawing(this,f(this,We),!1,e);return}f(this,We).setCurrentDrawingSession(this),_(this,Lo,new AbortController);const t=f(this,We).combinedSignal(f(this,Lo));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(_(this,eu,null),this.commitOrRemove())},{signal:t}),f(this,En,AA).startDrawing(this,f(this,We),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,eu,t);return}f(this,eu)&&setTimeout(()=>{var t;(t=f(this,eu))==null||t.focus(),_(this,eu,null)},0)}endDrawingSession(e=!1){return f(this,Lo)?(f(this,We).setCurrentDrawingSession(null),f(this,Lo).abort(),_(this,Lo,null),_(this,eu,null),f(this,En,AA).endDrawing(e)):null}findNewParent(e,t,i){const r=f(this,We).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return f(this,Lo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,Lo)&&f(this,En,AA).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,We).getActive())==null?void 0:e.parent)===this&&(f(this,We).commitOrRemove(),f(this,We).setActiveEditor(null)),f(this,Zl)&&(clearTimeout(f(this,Zl)),_(this,Zl,null));for(const i of f(this,Fs).values())(t=f(this,ip))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,f(this,Fs).clear(),f(this,We).removeLayer(this)}render({viewport:e}){this.viewport=e,Ep(this.div,e);for(const t of f(this,We).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,We).commitOrRemove(),U(this,En,B_).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Ep(this.div,{rotation:i}),t!==i)for(const r of f(this,Fs).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,We).viewParameters.realScale}},ip=new WeakMap,Mv=new WeakMap,vd=new WeakMap,yd=new WeakMap,Zl=new WeakMap,Fs=new WeakMap,wd=new WeakMap,Uv=new WeakMap,Pv=new WeakMap,Lo=new WeakMap,eu=new WeakMap,Ar=new WeakMap,tu=new WeakMap,bd=new WeakMap,Rv=new WeakMap,We=new WeakMap,Cd=new WeakMap,En=new WeakSet,sN=function(){return f(this,Fs).size!==0?f(this,Fs).values():f(this,We).getEditors(this.pageIndex)},OW=function(e){f(this,We).unselectAll();const{target:t}=e;if(t===f(this,Ar).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,Ar).div.contains(t)){const{isMac:i}=Rr.platform;if(e.button!==0||e.ctrlKey&&i)return;f(this,We).showAllEditors("highlight",!0,!0),f(this,Ar).div.classList.add("free"),this.toggleDrawing(),aT.startHighlighting(this,f(this,We).direction==="ltr",{target:f(this,Ar).div,x:e.x,y:e.y}),f(this,Ar).div.addEventListener("pointerup",()=>{f(this,Ar).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,We)._signal}),e.preventDefault()}},AA=function(){return f(Ns,Cd).get(f(this,We).getMode())},aN=function(e){const t=f(this,En,AA);return t?new t.prototype.constructor(e):null},oN=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},B_=function(){for(const e of f(this,Fs).values())e.isEmpty()&&e.remove()},ge(Ns,"_initialized",!1),F(Ns,Cd,new Map([OD,YD,iN,aT,nN].map(e=>[e._editorType,e]))),Ns);var Qo,rs,rp,ti,tB,_1,HW,KA,AN,VW,lN;let lfe=(ti=class{constructor({pageIndex:e}){F(this,KA);F(this,Qo,null);F(this,rs,new Map);F(this,rp,new Map);this.pageIndex=e}setParent(e){if(!f(this,Qo)){_(this,Qo,e);return}if(f(this,Qo)!==e){if(f(this,rs).size>0)for(const t of f(this,rs).values())t.remove(),e.append(t);_(this,Qo,e)}}static get _svgFactory(){return ct(this,"_svgFactory",new rT)}draw(e,t=!1,i=!1){const r=ci(ti,tB)._++,s=U(this,KA,AN).call(this),a=ti._svgFactory.createElement("defs");s.append(a);const o=ti._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,rp).set(r,o);const u=i?U(this,KA,VW).call(this,a,l):null,d=ti._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,rs).set(r,s),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const i=ci(ti,tB)._++,r=U(this,KA,AN).call(this),s=ti._svgFactory.createElement("defs");r.append(s);const a=ti._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=ti._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=ti._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=ti._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=ti._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),f(this,rs).set(i,r),i}finalizeDraw(e,t){f(this,rp).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:i,bbox:r,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,rs).get(e):e;if(o){if(i&&U(this,KA,lN).call(this,o,i),r&&U(l=ti,_1,HW).call(l,o,r),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;U(this,KA,lN).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const i=f(this,rs).get(e);i&&(f(t,Qo).append(i),f(this,rs).delete(e),f(t,rs).set(e,i))}remove(e){f(this,rp).delete(e),f(this,Qo)!==null&&(f(this,rs).get(e).remove(),f(this,rs).delete(e))}destroy(){_(this,Qo,null);for(const e of f(this,rs).values())e.remove();f(this,rs).clear(),f(this,rp).clear()}},Qo=new WeakMap,rs=new WeakMap,rp=new WeakMap,tB=new WeakMap,_1=new WeakSet,HW=function(e,[t,i,r,s]){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},KA=new WeakSet,AN=function(){const e=ti._svgFactory.create(1,1,!0);return f(this,Qo).append(e),e.setAttribute("aria-hidden",!0),e},VW=function(e,t){const i=ti._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=ti._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},lN=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},F(ti,_1),F(ti,tB,0),ti);globalThis._pdfjsTestingUtils={HighlightOutliner:VD};globalThis.pdfjsLib={AbortException:Wd,AnnotationEditorLayer:Afe,AnnotationEditorParamsType:Pt,AnnotationEditorType:ft,AnnotationEditorUIManager:qw,AnnotationLayer:rfe,AnnotationMode:Fc,AnnotationType:Fi,applyOpacity:Mce,build:Lde,ColorPicker:Kj,createValidAbsoluteUrl:F6,CSSConstants:Fce,DOMSVGFactory:rT,DrawLayer:lfe,FeatureTest:Rr,fetchData:zB,findContrastColor:Uce,getDocument:OQ,getFilenameFromUrl:Ece,getPdfFilenameFromUrl:Sce,getRGB:$B,getUuid:P6,getXfaPageViewport:_ce,GlobalWorkerOptions:fu,ImageKind:Gx,InvalidPDFException:LR,isDataScheme:H1,isPdfFile:NQ,isValidExplicitDest:Vce,MathClamp:As,noContextMenu:po,normalizeUnicode:bce,OPS:Gw,OutputScale:Sp,PasswordResponses:dce,PDFDataRangeTransport:kj,PDFDateString:kR,PDFWorker:ED,PermissionFlag:cce,PixelsPerInch:ry,RenderingCancelledException:DQ,renderRichText:N6,ResponseException:J_,setLayerDimensions:Ep,shadow:ct,SignatureExtractor:Lg,stopEvent:ri,SupportedImageMimeTypes:HR,TextLayer:wD,TouchManager:ij,updateUrlHash:M6,Util:Ke,VerbosityLevel:Q1,version:Vj,XfaLayer:D6};fu.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const ufe=async n=>{try{const e=await n.arrayBuffer(),t=await OQ({data:e}).promise;let i="",r=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");i+=h+" ",h.trim().length>0&&r.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:r}}catch(e){throw console.error("PDF Processing Error:",e),e}},cfe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},Uw=n=>{var i,r,s;const e=typeof import.meta<"u"&&((r=(i=import.meta)==null?void 0:i.env)==null?void 0:r[n]),t=typeof process<"u"&&((s=process==null?void 0:process.env)==null?void 0:s[n]);return(e||t||"").toString().trim()},dfe=()=>{const n=Uw("GEMINI_API_KEY")||Uw("VITE_API_KEY"),e=Uw("API_KEY");return n||e},HK=n=>n?n.startsWith("models/")?n:`models/${n}`:"",KW=HK(Uw("GEMINI_TTS_MODEL"))||HK(Uw("VITE_GEMINI_TTS_MODEL"))||"models/gemini-2.0-flash",ffe=`https://generativelanguage.googleapis.com/v1beta/${KW}:generateContent`,hfe=async(n,e)=>{var C,E,x,I,T,R;const t=KW,i=/-tts\b/.test(t),r=dfe();if(!r)throw new Error("API key is missing. Set GEMINI_API_KEY (or VITE_API_KEY/API_KEY).");const s=i?{responseMimeType:"audio/pcm"}:{responseModalities:["AUDIO"]};e!=null&&e.voiceName&&(s.speechConfig={voiceConfig:{prebuiltVoiceConfig:{voiceName:e.voiceName}}});const a={contents:[{role:"user",parts:[{text:n}]}],generationConfig:s},o=await fetch(`${ffe}?key=${encodeURIComponent(r)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const P=await o.text();throw new Error(`Gemini TTS request failed: ${o.status} ${P}`)}const l=await o.json(),u=((I=(x=(E=(C=l==null?void 0:l.candidates)==null?void 0:C[0])==null?void 0:E.content)==null?void 0:x.parts)==null?void 0:I.find(P=>{var D;return(D=P.inlineData)==null?void 0:D.data}))||null,d=(T=u==null?void 0:u.inlineData)==null?void 0:T.data,h=((R=u==null?void 0:u.inlineData)==null?void 0:R.mimeType)||"audio/mp3";if(!d)throw new Error("Gemini TTS response missing audio data.");const g=Uint8Array.from(atob(d),P=>P.charCodeAt(0)),v=new Blob([g],{type:h});return{audioUrl:URL.createObjectURL(v),mimeType:h}},pfe=`<?xml version="1.0" encoding="utf-8"?>\r
<!DOCTYPE html>\r
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="ko" xml:lang="ko">\r
<head>\r
  <title>QT-25031709039769561</title>\r
  <meta charset="utf-8"/>\r
</head>\r
\r
<body>\r
  <h1>QT-25031709039769561</h1>\r
  <nav epub:type="toc" id="toc">\r
    <h2></h2>\r
    <ol>\r
    <li><a href="p0007_s.xhtml"></a></li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0019_s.xhtml">UNIT 1 </a>\r
      <ol>\r
      <li><a href="p0021_s.xhtml">CHAPTER 01   </a></li>\r
      <li><a href="p0035_s.xhtml">CHAPTER 02   </a></li>\r
      <li><a href="p0065_s.xhtml">CHAPTER 03   ,  -   </a></li>\r
      <li><a href="p0119_s.xhtml">CHAPTER 04   </a></li>\r
      <li><a href="p0149_s.xhtml">CHAPTER 05   </a></li>\r
      <li><a href="p0173_s.xhtml">CHAPTER 06   </a></li>\r
      <li><a href="p0221_s.xhtml">CHAPTER 07   </a></li>\r
      <li><a href="p0245_s.xhtml">CHAPTER 08   </a></li>\r
      <li><a href="p0287_s.xhtml">CHAPTER 09 </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0301_s.xhtml">UNIT 2  </a>\r
      <ol>\r
      <li><a href="p0303_s.xhtml">CHAPTER 10  </a></li>\r
      <li><a href="p0325_s.xhtml">CHAPTER 11    </a></li>\r
      <li><a href="p0391_s.xhtml">CHAPTER 12  </a></li>\r
      <li><a href="p0401_s.xhtml">CHAPTER 13   </a></li>\r
      <li><a href="p0449_s.xhtml">CHAPTER 14   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0475_s.xhtml">UNIT 3  </a>\r
      <ol>\r
      <li><a href="p0477_s.xhtml">CHAPTER 15  </a></li>\r
      <li><a href="p0503_s.xhtml">CHAPTER 16   </a></li>\r
      <li><a href="p0519_s.xhtml">CHAPTER 17   </a></li>\r
      <li><a href="p0531_s.xhtml">CHAPTER 18    </a></li>\r
      <li><a href="p0543_s.xhtml">CHAPTER 19    </a></li>\r
      <li><a href="p0553_s.xhtml">CHAPTER 20   </a></li>\r
      <li><a href="p0567_s.xhtml">CHAPTER 21  </a></li>\r
      <li><a href="p0577_s.xhtml">CHAPTER 22   </a></li>\r
      <li><a href="p0587_s.xhtml">CHAPTER 23   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0601_s.xhtml">UNIT 4  </a>\r
      <ol>\r
      <li><a href="p0603_s.xhtml">CHAPTER 24  </a></li>\r
      <li><a href="p0627_s.xhtml">CHAPTER 25   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0663_s.xhtml">UNIT 5  </a>\r
      <ol>\r
      <li><a href="p0665_s.xhtml">CHAPTER 26  </a></li>\r
      <li><a href="p0685_s.xhtml">CHAPTER 27    </a></li>\r
      <li><a href="p0697_s.xhtml">CHAPTER 28   </a></li>\r
      <li><a href="p0709_s.xhtml">CHAPTER 29   </a></li>\r
      <li><a href="p0725_s.xhtml">CHAPTER 30   </a></li>\r
      <li><a href="p0747_s.xhtml">CHAPTER 31   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0757_s.xhtml"></a></li>\r
    </ol>\r
\r
  </nav>\r
</body>\r
</html>\r
`,gfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],mfe=n=>{if(typeof window>"u")return{chapters:[],pageMap:{}};try{const t=new DOMParser().parseFromString(n,"application/xhtml+xml"),i=t.querySelector("nav#toc")||t.querySelector('nav[epub\\:type="toc"]');if(!i)return{chapters:[],pageMap:{}};const r=new Set,s=Array.from(i.querySelectorAll("a")),a={};return{chapters:s.map((l,u)=>{const d=(l.textContent||"").replace(/\s+/g," ").trim();if(!d)return null;const h=l.getAttribute("href")||`toc-${u+1}`,v=h.replace(/[^a-zA-Z0-9_-]+/g,"-").replace(/^-+|-+$/g,"")||`toc-${u+1}`;let b=v,C=1;for(;r.has(b);)b=`${v}-${C++}`;r.add(b);const E=h.match(/p0*([0-9]+)_/i)||h.match(/p0*([0-9]+)/i);if(E&&E[1]){const x=parseInt(E[1],10);Number.isFinite(x)&&(a[b]=x)}return{id:b,title:d,content:""}}).filter(Boolean),pageMap:a}}catch(e){return console.error("Failed to parse nav.xhtml",e),{chapters:[],pageMap:{}}}},GW=M.createContext(void 0),vfe=({children:n})=>{const[e,t]=M.useState(gfe),[i,r]=M.useState(null),[s,a]=M.useState([]),[o,l]=M.useState(!1),[u,d]=M.useState(0),[h,g]=M.useState("medium"),[v,b]=M.useState("light"),[C,E]=M.useState("single"),[x,I]=M.useState(!0),[T,R]=M.useState(()=>{if(typeof window>"u")return[];try{const he=localStorage.getItem("pdfBookmarks");if(!he)return[];const Pe=JSON.parse(he);if(Array.isArray(Pe))return Pe.map(He=>He&&typeof He=="object"&&"page"in He?He:typeof He=="number"?{id:`migrated-${He}`,page:He,label:`Page ${He}`,createdAt:Date.now()}:null).filter(Boolean)}catch(he){console.error("Failed to parse stored pdfBookmarks",he)}return[]}),[P,D]=M.useState([]),[Q,H]=M.useState(null),[k,K]=M.useState("idle"),[V,z]=M.useState("#ef4444"),[Z,ne]=M.useState(3),[de,G]=M.useState(1),[$,re]=M.useState({}),[ae,Ee]=M.useState([]),[q,Y]=M.useState(!1),[le,ye]=M.useState(null),[Be,_e]=M.useState([]),[we,at]=M.useState(!0),[se,Ne]=M.useState("ai"),[$e,me]=M.useState(""),[Nt,Xe]=M.useState(!1),[Xt,kt]=M.useState(null),[si,ot]=M.useState({voice:"Kore",speed:1,continuous:!0}),[ai,Yr]=M.useState({}),Jt=M.useRef(null),Os=M.useRef(null),xe=M.useRef(!1),J=he=>{ot(Pe=>({...Pe,...he}))},be=he=>{const Pe=he.trim();if(!Pe)return[];const He=Pe.match(/[^.!?]+[.!?]?/g);return He&&He.length>0?He.map(Ge=>Ge.trim()).filter(Boolean):[Pe]},Me=he=>he.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),Bt=()=>{var He;if(yi.length>0){const Ge=[...yi].sort((yn,hr)=>yn.page-hr.page),St=wi||((He=Ge[0])==null?void 0:He.page)||1,Gn=[];let Ai=0;return Ge.forEach(yn=>{const hr=Me(yn.text||""),Jr=be(hr);yn.page<St&&(Ai+=Jr.length),Gn.push(...Jr)}),{sentences:Gn,defaultStartIndex:Ai}}const he=Me(tt.content);return{sentences:be(he),defaultStartIndex:0}},Le=()=>{Jt.current&&(Jt.current.pause(),Jt.current.src="",Jt.current=null),Os.current&&(URL.revokeObjectURL(Os.current),Os.current=null)},vn=async he=>{if(xe.current)return;if(Jt.current&&Jt.current.paused&&!Jt.current.ended){await Jt.current.play().catch(()=>{}),Xe(!0);return}Le();const{sentences:Pe,defaultStartIndex:He}=Bt();if(Pe.length===0){alert("  .");return}const Ge=typeof he=="number"&&he>=0&&he<Pe.length?he:Math.min(He,Pe.length-1),Gn=Pe.slice(Ge).join(" ").slice(0,8e3);if(!Gn){alert("  .");return}try{xe.current=!0,Xe(!0),kt(Ge);const{audioUrl:Ai}=await hfe(Gn,{voiceName:si.voice}),yn=new Audio(Ai);yn.playbackRate=si.speed,Os.current=Ai,Jt.current=yn,yn.onended=()=>{Xe(!1),kt(null),Le()},yn.onerror=()=>{Xe(!1),kt(null),Le()},await yn.play().catch(hr=>{console.error("Audio playback failed",hr),Xe(!1)})}catch(Ai){console.error("Gemini TTS failed",Ai),alert("TTS    ."),Xe(!1),kt(null)}finally{xe.current=!1}},qt=()=>{Jt.current&&Jt.current.pause(),Xe(!1)},Yi=()=>{Le(),Xe(!1),kt(null)},[ps,Xr]=M.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),[yi,Ta]=M.useState([]),[wi,ve]=M.useState(1),[Ce,ke]=M.useState(null),[Ue,ze]=M.useState(null),[qe,et]=M.useState(null),tt=e[u];M.useEffect(()=>{window.innerWidth<1024&&at(!1)},[]),M.useEffect(()=>{const he=setInterval(()=>{document.visibilityState==="visible"&&ht()},5e3);return()=>clearInterval(he)},[]),M.useEffect(()=>{Xr(he=>({...he,chapterVisits:{...he.chapterVisits,[tt.id]:(he.chapterVisits[tt.id]||0)+1}}))},[tt.id]),M.useEffect(()=>{try{localStorage.setItem("pdfBookmarks",JSON.stringify(T))}catch(he){console.error("Failed to persist pdfBookmarks",he)}},[T]),M.useEffect(()=>{const{chapters:he,pageMap:Pe}=mfe(pfe);he.length>0&&(t(he),Yr(Pe),d(0))},[]);const ht=()=>{Xr(he=>({...he,totalReadingTime:he.totalReadingTime+5}))},Se=()=>{Xr(he=>({...he,aiInteractionCount:he.aiInteractionCount+1}))},Ct=Fw.useCallback(he=>{if(e.length===0||Object.keys(ai).length===0)return-1;let Pe=-1,He=Number.NEGATIVE_INFINITY,Ge=-1,St=Number.POSITIVE_INFINITY;return e.forEach((Gn,Ai)=>{const yn=ai[Gn.id];yn&&(yn<=he&&yn>He&&(He=yn,Pe=Ai),yn<St&&(St=yn,Ge=Ai))}),Pe!==-1?Pe:Ge},[e,ai]);M.useEffect(()=>{const he=Ct(wi);he!==-1&&he!==u&&d(he)},[wi,Ct,u]);const Ot=()=>{b(he=>he==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Zt=()=>I(he=>!he),bi=(he,Pe)=>{!he||he<1||R(He=>He.some(St=>St.page===he)?He:[{id:Date.now().toString(),page:he,label:Pe||`Page ${he}`,createdAt:Date.now()},...He])},Xi=he=>{R(Pe=>Pe.filter(He=>He.id!==he))},oi=()=>{u<e.length-1&&Hs(u+1)},Ci=()=>{u>0&&Hs(u-1)},Hs=he=>{if(he>=0&&he<e.length){d(he);const Pe=e[he],He=ai[Pe.id];He&&jA(He)}},Bi=async he=>{l(!0);try{const Pe=await ufe(he);Pe.chapters.length>0?(t(Pe.chapters),d(0),a(Pe.chunks),r(null),at(!0),Ne("ai"),alert(`"${he.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(Pe){console.error("PDF Load Failed",Pe),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},bE=(he,Pe,He)=>{const Ge=He||tt.id,St={id:Date.now().toString(),chapterId:Ge,text:he,color:"yellow",note:Pe,createdAt:Date.now()};return D(Gn=>[St,...Gn]),Xr(Gn=>({...Gn,highlightCount:Gn.highlightCount+1})),St.id},CE=(he,Pe)=>{D(He=>He.map(Ge=>Ge.id===he?{...Ge,note:Pe}:Ge))},Zo=he=>{D(Pe=>Pe.filter(He=>He.id!==he))},Li=he=>{I(!0),H(he),setTimeout(()=>H(null),2e3)},Dr=(he,Pe)=>{re(He=>({...He,[he]:[...He[he]||[],Pe]}))},Yu=(he,Pe)=>{re(He=>({...He,[he]:(He[he]||[]).filter(Ge=>Ge.id!==Pe)}))},Dy=he=>($[he]||[]).length>0,BE=(he,Pe)=>{const He={id:Date.now().toString(),title:he||"Untitled Note",content:Pe,chapterId:tt.id,chapterTitle:tt.title,createdAt:Date.now(),updatedAt:Date.now()};Ee(Ge=>[He,...Ge])},kI=(he,Pe,He)=>{Ee(Ge=>Ge.map(St=>St.id===he?{...St,title:Pe,content:He,updatedAt:Date.now()}:St))},EE=he=>{Ee(Pe=>Pe.filter(He=>He.id!==he))},uf=he=>{let Pe=he.content.replace(/<[^>]+>/g,"");const He=new Blob([`# ${he.title}

${Pe}`],{type:"text/markdown"}),Ge=URL.createObjectURL(He),St=document.createElement("a");St.href=Ge,St.download=`${he.title.replace(/\s+/g,"_")}.md`,St.click(),URL.revokeObjectURL(Ge)},Ny=async he=>{const Pe=await he.text();let He=he.name.replace(".md","").replace(".json",""),Ge=Pe.replace(/\n/g,"<br>");BE(He,Ge)},eA=(he,Pe)=>{const He={id:Date.now().toString(),role:he,text:Pe,timestamp:Date.now()};_e(Ge=>[...Ge,He])},Xu=async he=>{at(!0),Ne("ai");const Pe=`Explain: "${he}"`;eA("user",Pe),Se();let He=tt.content.substring(0,2e3);if(s.length>0){const St=cfe(he,s);St&&(He=St)}const Ge=await I6(he,He);eA("model",Ge)},cf=he=>{if(!he||he.length<2)return[];const Pe=[],He=he.toLowerCase();return e.forEach(Ge=>{const St=Ge.content.replace(/<[^>]+>/g," "),Gn=St.toLowerCase().indexOf(He);if(Gn!==-1){const Ai=Math.max(0,Gn-40),yn=Math.min(St.length,Gn+40+he.length),hr=(Ai>0?"...":"")+St.substring(Ai,yn)+(yn<St.length?"...":"");Pe.push({id:`ch-${Ge.id}-${Gn}`,type:"chapter",title:Ge.title,contentSnippet:hr,chapterId:Ge.id,matchIndex:Gn})}}),P.forEach(Ge=>{(Ge.text.toLowerCase().includes(He)||Ge.note&&Ge.note.toLowerCase().includes(He))&&Pe.push({id:`hl-${Ge.id}`,type:"highlight",title:"Highlight",contentSnippet:Ge.note?`${Ge.text} - ${Ge.note}`:Ge.text,chapterId:Ge.chapterId})}),ae.forEach(Ge=>{const St=Ge.content.replace(/<[^>]+>/g," ");(Ge.title.toLowerCase().includes(He)||St.toLowerCase().includes(He))&&Pe.push({id:`note-${Ge.id}`,type:"note",title:Ge.title,contentSnippet:St.substring(0,80)+"...",chapterId:Ge.chapterId})}),yi.forEach(Ge=>{const St=Ge.text.toLowerCase().indexOf(He);if(St!==-1){const Gn=Math.max(0,St-40),Ai=Math.min(Ge.text.length,St+40+he.length),yn=(Gn>0?"...":"")+Ge.text.substring(Gn,Ai)+(Ai<Ge.text.length?"...":"");Pe.push({id:`pdf-${Ge.page}-${St}`,type:"pdf",title:`p.${Ge.page}`,contentSnippet:yn,pageNumber:Ge.page})}}),Pe},jA=he=>{ve(he),Ce?Ce(he):ze(he)},Ei=Fw.useCallback(he=>{ke(()=>he),Ue!==null&&(he(Ue),ze(null))},[Ue]),SE=Fw.useCallback(he=>{Ta(he)},[]),xE=()=>{console.log("Saving progress..."),alert("Progress Saved! (Simulated)")};return L.jsx(GW.Provider,{value:{chapters:e,referenceDocument:i,currentChapterIndex:u,currentChapter:tt,goToNextChapter:oi,goToPrevChapter:Ci,goToChapter:Hs,uploadBook:Bi,isProcessing:o,fontSize:h,setFontSize:g,viewMode:C,setViewMode:E,theme:v,toggleTheme:Ot,showAnnotations:x,toggleAnnotations:Zt,bookmarks:T,addPdfBookmark:bi,removePdfBookmark:Xi,highlights:P,addHighlight:bE,updateHighlight:CE,removeHighlight:Zo,activeHighlightId:Q,focusHighlight:Li,drawingMode:k,setDrawingMode:K,penColor:V,setPenColor:z,penWidth:Z,setPenWidth:ne,penOpacity:de,setPenOpacity:G,chapterStrokes:$,addStroke:Dr,removeStroke:Yu,hasStrokes:Dy,generalNotes:ae,addGeneralNote:BE,updateGeneralNote:kI,removeGeneralNote:EE,importNotes:Ny,exportNoteAsMarkdown:uf,isCaptureMode:q,setCaptureMode:Y,capturedImage:le,setCapturedImage:ye,aiChatHistory:Be,addChatMessage:eA,triggerSmartExplain:Xu,isToolsOpen:we,setToolsOpen:at,activeToolTab:se,setActiveToolTab:Ne,searchQuery:$e,setSearchQuery:me,performSearch:cf,isTtsPlaying:Nt,currentTtsSegmentIndex:Xt,ttsConfig:si,setTtsConfig:J,startTts:vn,stopTts:Yi,pauseTts:qt,stats:ps,incrementAiCount:Se,updateReadingTime:ht,saveProgress:xE,pdfTextPages:yi,setPdfTextPages:SE,goToPdfPage:jA,registerPdfNavigator:Ei,pdfSearchHighlight:qe,setPdfSearchHighlight:et,currentPdfPage:wi,setCurrentPdfPage:ve},children:n})},sf=()=>{const n=M.useContext(GW);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),VK=n=>{const e=wfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},zW=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),bfe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=M.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>M.createElement("svg",{ref:l,...Cfe,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:zW("lucide",r),...!s&&!bfe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>M.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(n,e)=>{const t=M.forwardRef(({className:i,...r},s)=>M.createElement(Bfe,{ref:s,iconNode:e,className:zW(`lucide-${yfe(VK(n))}`,`lucide-${n}`,i),...r}));return t.displayName=VK(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Sfe=At("bold",Efe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_fe=At("book-open",xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],uN=At("book",Tfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Ffe=At("bookmark-check",Ife);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],Ufe=At("bookmark-plus",Mfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],cN=At("bookmark",Pfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],KK=At("bot",Rfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Nfe=At("camera",Dfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qfe=At("chevron-left",Lfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ofe=At("chevron-right",kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vfe=At("clock",Hfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Gfe=At("columns-2",Kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],qfe=At("ellipsis-vertical",zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],jfe=At("eraser",$fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yfe=At("eye",Wfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],GK=At("file-text",Xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],dN=At("file-up",Jfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zK=At("funnel",Zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],E_=At("highlighter",ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],nhe=At("list",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qK=At("loader-circle",ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],she=At("log-out",rhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ohe=At("message-circle-question-mark",ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],cU=At("message-square",Ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M5 12h14",key:"1ays0h"}]],uhe=At("minus",lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],dhe=At("panel-left",che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],hhe=At("panel-right",fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],ghe=At("pause",phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vhe=At("pen-line",mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],qW=At("pen-tool",yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bhe=At("pen",whe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Bhe=At("play",Che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fN=At("plus",Ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],xhe=At("printer",She);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$W=At("save",_he);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dU=At("search",The);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Fhe=At("settings-2",Ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Uhe=At("square",Mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Rhe=At("sticky-note",Phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Nhe=At("table",Dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hN=At("trash-2",Lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],khe=At("type",Qhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Hhe=At("upload",Ohe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Khe=At("volume-2",Vhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pN=At("x",Ghe),jW=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:i,viewMode:r,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:b,showAnnotations:C,toggleAnnotations:E,isToolsOpen:x,setToolsOpen:I,bookmarks:T,addPdfBookmark:R,removePdfBookmark:P,currentPdfPage:D,uploadBook:Q,isProcessing:H,isTtsPlaying:k,startTts:K,stopTts:V,pauseTts:z,ttsConfig:Z,setTtsConfig:ne,setActiveToolTab:de}=sf(),G=nf(),$=q$(),re=G.pathname==="/",[ae,Ee]=M.useState(!1),[q,Y]=M.useState(!1),[le,ye]=M.useState(!1),[Be,_e]=M.useState(!1),we=M.useRef(null),at=T.find(ot=>ot.page===D),se=!!at,Ne=()=>{confirm("Are you sure you want to close the viewer?")&&$("/report")},$e=()=>{var ot;(ot=we.current)==null||ot.click()},me=ot=>{ot.target.files&&ot.target.files[0]&&Q(ot.target.files[0])},Nt=()=>{D&&(at?P(at.id):R(D,`p.${D}`))},Xe=ot=>{const ai=["small","medium","large","xlarge"],Yr=ai.indexOf(t);let Jt=ot==="up"?Yr+1:Yr-1;Jt<0&&(Jt=0),Jt>=ai.length&&(Jt=ai.length-1),i(ai[Jt])},Xt=["Kore","Puck","Charon","Fenrir","Zephyr"],kt=[.75,1,1.2,1.5,2],si=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return L.jsx("header",{className:"header",children:L.jsxs("div",{className:"header_inner",children:[L.jsxs("div",{className:"header_main",children:[re&&L.jsx("button",{onClick:n,className:`left_toggle ${e?"open":"off"}`,title:"Table of Contents",children:L.jsx(dhe,{size:20})}),L.jsxs("div",{className:"logo_wrap",children:[L.jsx("div",{className:"icon",children:L.jsx(uN,{})}),L.jsx("span",{className:"logo_text",children:"CampusBook"})]})]}),L.jsxs("div",{className:"header_nav",children:[L.jsxs("div",{className:"mode_select",children:[L.jsx($_,{to:"/",className:`reader ${re?"on":"off"}`,children:"Reader"}),L.jsx($_,{to:"/report",className:`report ${re?"off":"on"}`,children:"Report"})]}),L.jsx("div",{className:"separate_bar"}),L.jsxs("button",{onClick:$e,disabled:H,className:"add_file",title:"Add Reference Material (PDF)",children:[H?L.jsx(qK,{size:16,className:"animate-spin"}):L.jsx(dN,{size:16}),L.jsx("span",{children:"Add Reference"}),L.jsx("input",{type:"file",ref:we,className:"hidden",accept:"application/pdf",onChange:me})]})]}),L.jsxs("div",{className:"header_tools",children:[re&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"relative",children:[L.jsx("button",{onClick:()=>ye(!le),className:`p-2 rounded-lg transition-all ${k?"text-blue-600 bg-blue-50":"text-slate-500 hover:bg-slate-100"}`,title:"AI Voice",children:L.jsx(Khe,{size:20})}),le&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border p-5 z-[70]",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"AI Reading Assistant"}),L.jsx("button",{onClick:()=>ye(!1),className:"text-slate-400",children:L.jsx(pN,{size:14})})]}),L.jsxs("div",{className:"flex justify-center gap-4 mb-5 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[L.jsx("button",{onClick:V,className:"p-2.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:L.jsx(Uhe,{size:16,fill:"currentColor"})}),L.jsx("button",{onClick:()=>k?z():K(),className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 transition-transform",children:k?L.jsx(ghe,{size:24,fill:"white"}):L.jsx(Bhe,{size:24,className:"ml-1",fill:"white"})})]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Voice Tone"}),L.jsx("div",{className:"grid grid-cols-3 gap-1",children:Xt.map(ot=>L.jsx("button",{onClick:()=>ne({voice:ot}),className:`px-2 py-1 rounded text-[10px] border transition-all ${Z.voice===ot?"bg-blue-600 border-blue-600 text-white":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:ot},ot))})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Speed"}),L.jsx("div",{className:"flex justify-between gap-1",children:kt.map(ot=>L.jsxs("button",{onClick:()=>ne({speed:ot}),className:`flex-1 py-1 rounded text-[10px] border transition-all ${Z.speed===ot?"bg-blue-600 border-blue-600 text-white font-bold":"bg-slate-100 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:[ot,"x"]},ot))})]})]})]})]}),L.jsx("button",{onClick:Nt,className:`bookmark_icon_btn ${se?"on":"off"}`,title:se?"Remove bookmark for this page":"Bookmark this page",children:se?L.jsx(Ffe,{size:20}):L.jsx(Ufe,{size:20})}),L.jsxs("div",{className:"draw_icon_wrap",children:[L.jsxs("div",{className:"draw_icon_inner",children:[L.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`pen_tool ${a==="pen"?"on":"off"}`,title:"Pen Tool",children:L.jsx(bhe,{size:18})}),a==="pen"&&L.jsx("button",{onClick:()=>Ee(!ae),className:"detail_select",title:"Pen Settings",children:L.jsx(Fhe,{size:12})}),L.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),Ee(!1)},className:`eraser_tool ${a==="eraser"?"on":"off"}`,title:"Eraser",children:L.jsx(jfe,{size:18})})]}),ae&&a==="pen"&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[L.jsxs("div",{className:"flex justify-between items-center mb-3",children:[L.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),L.jsx("button",{onClick:()=>Ee(!1),className:"text-slate-400 hover:text-slate-600",children:L.jsx(pN,{size:14})})]}),L.jsx("div",{className:"flex justify-between mb-4",children:si.map(ot=>L.jsx("button",{onClick:()=>u(ot),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===ot?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:ot}},ot))}),L.jsxs("div",{className:"mb-3",children:[L.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[L.jsx("span",{children:"Thickness"}),L.jsxs("span",{children:[d,"px"]})]}),L.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:ot=>h(parseInt(ot.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[L.jsx("span",{children:"Opacity"}),L.jsxs("span",{children:[Math.round(g*100),"%"]})]}),L.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:ot=>v(parseFloat(ot.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("button",{onClick:()=>Y(!q),className:"appearance",title:"Appearance",children:L.jsx(khe,{size:20})}),q&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[L.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),L.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[L.jsx("button",{onClick:()=>Xe("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:L.jsx(uhe,{size:14})}),L.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),L.jsx("button",{onClick:()=>Xe("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:L.jsx(fN,{size:14})})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("button",{onClick:()=>s(r==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(Gfe,{size:16})," Two-Page View"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${r==="double"?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${r==="double"?"translate-x-4":""}`})})]}),L.jsxs("button",{onClick:E,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(Yfe,{size:16})," Annotations"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${C?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${C?"translate-x-4":""}`})})]}),L.jsxs("button",{onClick:Nt,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(cN,{size:16})," Bookmark Page"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${se?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${se?"translate-x-4":""}`})})]})]})]})]}),L.jsx("button",{onClick:()=>I(!x),className:`toggle_ai_notes ${x?"on":"off"}`,title:"Toggle AI & Notes",children:L.jsx(hhe,{size:20})})]}),L.jsxs("div",{className:"relative ml-1",children:[L.jsx("button",{onClick:()=>_e(!Be),className:"more",children:L.jsx(qfe,{size:20})}),Be&&L.jsxs("div",{className:"more_list",children:[L.jsxs("button",{onClick:$e,className:"",children:[H?L.jsx(qK,{size:14,className:"animate-spin"}):L.jsx(dN,{size:14})," ","Add Reference PDF"]}),L.jsx("input",{type:"file",ref:we,className:"hidden",accept:"application/pdf",onChange:me}),L.jsxs("button",{onClick:b,className:"",children:[L.jsx($W,{size:14})," Save Progress"]}),L.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),L.jsxs("button",{onClick:Ne,className:"exit_viewer",children:[L.jsx(she,{size:14})," Exit Viewer"]})]})]})]})]})})},{AbortException:zhe,AnnotationEditorLayer:qhe,AnnotationEditorParamsType:nQe,AnnotationEditorType:Bs,AnnotationEditorUIManager:$he,AnnotationLayer:jhe,AnnotationMode:LA,AnnotationType:WW,applyOpacity:iQe,build:rQe,ColorPicker:sQe,createValidAbsoluteUrl:YW,CSSConstants:aQe,DOMSVGFactory:oQe,DrawLayer:Whe,FeatureTest:XW,fetchData:$K,findContrastColor:AQe,getDocument:lQe,getFilenameFromUrl:uQe,getPdfFilenameFromUrl:Yhe,getRGB:cQe,getUuid:dQe,getXfaPageViewport:fQe,GlobalWorkerOptions:hQe,ImageKind:pQe,InvalidPDFException:gQe,isDataScheme:mQe,isPdfFile:Xhe,isValidExplicitDest:Jhe,MathClamp:zQ,noContextMenu:vQe,normalizeUnicode:Zhe,OPS:yQe,OutputScale:S_,PasswordResponses:wQe,PDFDataRangeTransport:bQe,PDFDateString:CQe,PDFWorker:BQe,PermissionFlag:yg,PixelsPerInch:wl,RenderingCancelledException:gN,renderRichText:EQe,ResponseException:SQe,setLayerDimensions:JW,shadow:$w,SignatureExtractor:xQe,stopEvent:mN,SupportedImageMimeTypes:_Qe,TextLayer:epe,TouchManager:TQe,updateUrlHash:tpe,Util:qQ,VerbosityLevel:IQe,version:jK,XfaLayer:fU}=globalThis.pdfjsLib,npe="auto",ZW=1,WK=1.1,ipe=.1,rpe=10,hU=0,spe=1.25,YK=40,XK=5,Kt={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},im={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},DA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},Dt={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},qr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function eY(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;if(e&&(e.top!==void 0&&(r+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=zQ((i.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;i.scrollLeft=s}i.scrollTop=r}function ape(n,e,t=void 0){const i=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=r.lastX;l!==u&&(r.right=l>u),r.lastX=l;const d=n.scrollTop,h=r.lastY;d!==h&&(r.down=d>h),r.lastY=d,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i};let s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}function G1(n){const e=new Map;for(const[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}const JK=/[\x00-\x1F]/g;function Pw(n,e=!1){return JK.test(n)?e?n.replaceAll(JK,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function jw(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){const s=i+r>>1,a=n[s];e(a)?r=s:i=s+1}return i}function ZK(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const i=n>1?e:n;let r=0,s=1,a=1,o=1;for(;;){const u=r+a,d=s+o;if(d>t)break;i<=u/d?(a=u,o=d):(r=u,s=d)}let l;return i-r/s<a/o-i?l=i===n?[r,s]:[s,r]:l=i===n?[a,o]:[o,a],l}function $S(n,e){return n-n%e}function ope(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}function Ape({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,R=T.offsetLeft+T.clientLeft,P=R+T.clientWidth;return r?R<l:P>o}const h=[],g=new Set,v=e.length;let b=jw(e,i?d:u);b>0&&b<v&&!i&&(b=ope(b,e,s));let C=i?l:-1;for(let I=b;I<v;I++){const T=e[I],R=T.div,P=R.offsetLeft+R.clientLeft,D=R.offsetTop+R.clientTop,Q=R.clientWidth,H=R.clientHeight,k=P+Q,K=D+H;if(C===-1)K>=a&&(C=K);else if((i?P:D)>C)break;if(K<=s||D>=a||k<=o||P>=l)continue;const V=Math.max(0,s-D),z=Math.max(0,o-P),Z=V+Math.max(0,K-a),ne=z+Math.max(0,k-l),de=(H-Z)/H,G=(Q-ne)/Q,$=de*G*100|0;h.push({id:T.id,x:P,y:D,visibleArea:$===100?null:{minX:z,minY:V,maxX:Math.min(k,l)-P,maxY:Math.min(K,a)-D},view:T,percent:$,widthPercent:G*100|0}),g.add(T.id)}const E=h[0],x=h.at(-1);return t&&h.sort(function(I,T){const R=I.percent-T.percent;return Math.abs(R)>.001?-R:I.id-T.id}),{first:E,last:x,views:h,ids:g}}function tY(n){return Number.isInteger(n)&&n%90===0}function lpe(n){return Number.isInteger(n)&&Object.values(Dt).includes(n)&&n!==Dt.UNKNOWN}function upe(n){return Number.isInteger(n)&&Object.values(qr).includes(n)&&n!==qr.UNKNOWN}function eG(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const cpe=document.documentElement.style;var Bd,sp,Ed,Dv,ap;class dpe{constructor(e){F(this,Bd,null);F(this,sp,null);F(this,Ed,0);F(this,Dv,null);F(this,ap,!0);_(this,Bd,e.classList),_(this,Dv,e.style)}get percent(){return f(this,Ed)}set percent(e){if(_(this,Ed,zQ(e,0,100)),isNaN(e)){f(this,Bd).add("indeterminate");return}f(this,Bd).remove("indeterminate"),f(this,Dv).setProperty("--progressBar-percent",`${f(this,Ed)}%`)}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&f(this,Dv).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){f(this,Ed)===100||isNaN(f(this,Ed))||(f(this,sp)&&clearTimeout(f(this,sp)),this.show(),_(this,sp,setTimeout(()=>{_(this,sp,null),this.hide()},e)))}hide(){f(this,ap)&&(_(this,ap,!1),f(this,Bd).add("hidden"))}show(){f(this,ap)||(_(this,ap,!0),f(this,Bd).remove("hidden"))}}Bd=new WeakMap,sp=new WeakMap,Ed=new WeakMap,Dv=new WeakMap,ap=new WeakMap;function fpe(n){let e=Dt.VERTICAL,t=qr.NONE;switch(n){case"SinglePage":e=Dt.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=Dt.PAGE;case"TwoColumnLeft":t=qr.ODD;break;case"TwoPageRight":e=Dt.PAGE;case"TwoColumnRight":t=qr.EVEN;break}return{scrollMode:e,spreadMode:t}}const jS=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),Eo={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function hpe(n){return n<11904}function ppe(n){return(n&65408)===0}function gpe(n){return n>=97&&n<=122||n>=65&&n<=90}function mpe(n){return n>=48&&n<=57}function vpe(n){return n===32||n===9||n===13||n===10}function ype(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function wpe(n){return n>=12448&&n<=12543}function bpe(n){return n>=12352&&n<=12447}function Cpe(n){return n>=65376&&n<=65439}function Bpe(n){return(n&65408)===3584}function WS(n){return hpe(n)?ppe(n)?vpe(n)?Eo.SPACE:gpe(n)||mpe(n)||n===95?Eo.ALPHA_LETTER:Eo.PUNCT:Bpe(n)?Eo.THAI_LETTER:n===160?Eo.SPACE:Eo.ALPHA_LETTER:ype(n)?Eo.HAN_LETTER:wpe(n)?Eo.KATAKANA_LETTER:bpe(n)?Eo.HIRAGANA_LETTER:Cpe(n)?Eo.HALFWIDTH_KATAKANA_LETTER:Eo.ALPHA_LETTER}let Epe;function Spe(){return Epe}const Cc={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},xpe=250,_pe=-50,tG={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},nG=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let iG;const Tpe=new RegExp("\\p{M}+","gu"),Ipe=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),Fpe=new RegExp("([^\\p{M}])\\p{M}*$","u"),Mpe=new RegExp("^\\p{M}*([^\\p{M}])","u"),Upe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,rG=new Map,Ppe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",sG=new Map;let pU=null,gU=null;function x_(n,e={}){const t=[];let i;for(;(i=Upe.exec(n))!==null;){let{index:I}=i;for(const T of i[0]){let R=rG.get(T);R||(R=T.normalize("NFD").length,rG.set(T,R)),t.push([R,I++])}}const r=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!r&&pU)a=pU;else if(r&&gU)a=gU;else{const I=Object.keys(tG).join(""),T=Spe(),Q=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",r?Ppe:"\\u0000"];a=new RegExp(Q.map(H=>`(${H})`).join("|"),"gum"),r?gU=a:pU=a}const o=[];for(;(i=Tpe.exec(n))!==null;)o.push([i[0].length,i.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,b=0,C=!1;l=l.replace(a,(I,T,R,P,D,Q,H,k,K,V,z)=>{var Z,ne,de;if(z-=v,T){const G=tG[T],$=G.length;for(let re=1;re<$;re++)u.push(z-g+re,g-re);return g-=$-1,G}if(R){let G=sG.get(R);G||(G=R.normalize("NFKC"),sG.set(R,G));const $=G.length;for(let re=1;re<$;re++)u.push(z-g+re,g-re);return g-=$-1,G}if(P)return C=!0,z+b===((Z=o[d])==null?void 0:Z[1])?++d:(u.push(z-1-g+1,g-1),g-=1,v+=1),u.push(z-g+1,g),v+=1,b+=1,P.charAt(0);if(D){const G=D.endsWith(`
`),$=G?D.length-2:D.length;C=!0;let re=$;z+b===((ne=o[d])==null?void 0:ne[1])&&(re-=o[d][0],++d);for(let ae=1;ae<=re;ae++)u.push(z-1-g+ae,g-ae);return g-=re,v+=re,G?(z+=$-1,u.push(z-g+1,1+g),g+=1,v+=1,b+=1,D.slice(0,$)):D}if(Q){if(s)return v+=1,b+=1,Q.slice(0,-1);const G=Q.length-2;return u.push(z-g+G,1+g),g+=1,v+=1,b+=1,Q.slice(0,-2)}if(H)return v+=1,b+=1,H.slice(0,-1);if(k){const G=k.length-1;return u.push(z-g+G,g),v+=1,b+=1,k.slice(0,-1)}if(K)return u.push(z-g+1,g-1),g-=1,v+=1,b+=1," ";if(z+b===((de=t[h])==null?void 0:de[1])){const G=t[h][0]-1;++h;for(let $=1;$<=G;$++)u.push(z-(g-$),g-$);g-=G,v+=G}return V}),u.push(l.length,g);const E=new Uint32Array(u.length>>1),x=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)E[I>>1]=u[I],x[I>>1]=u[I+1];return[l,[E,x],C]}function nY(n,e,t){if(!n)return[e,t];const[i,r]=n,s=e,a=e+t-1;let o=jw(i,g=>g>=s);i[o]>s&&--o;let l=jw(i,g=>g>=a,o);i[l]>a&&--l;const u=s+r[o],h=a+r[l]+1-u;return[u,h]}var Hi,Nv,op,Ye,iY,vN,yN,rY,sY,wN,aY,oY,__,pw,Qg,AY,bN,CN,T_,lY,BN,EN,gw;class Rpe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){F(this,Ye);F(this,Hi,null);F(this,Nv,!0);F(this,op,0);this._linkService=e,this._eventBus=t,_(this,Nv,i),this.onIsPageVisible=null,U(this,Ye,vN).call(this),t._on("find",U(this,Ye,iY).bind(this)),t._on("findbarclose",U(this,Ye,lY).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,Hi)}setDocument(e){this._pdfDocument&&U(this,Ye,vN).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){if(!this._scrollMatches||!e)return;if(r===-1||r!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1,eY(e,{top:_pe,left:t},!0)}match(e,t,i){const r=this._hasDiacritics[i];let s=!1;if(typeof e=="string"?[s,e]=U(this,Ye,wN).call(this,e,r):e=e.sort().reverse().map(h=>{const[g,v]=U(this,Ye,wN).call(this,h,r);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,Hi),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!U(this,Ye,sY).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}Hi=new WeakMap,Nv=new WeakMap,op=new WeakMap,Ye=new WeakSet,iY=function(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(f(this,Hi)===null||U(this,Ye,rY).call(this,e))&&(this._dirtyMatch=!0),_(this,Hi,e),i!=="highlightallchange"&&U(this,Ye,gw).call(this,Cc.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;U(this,Ye,oY).call(this);const r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?U(this,Ye,Qg).call(this):i==="again"?(U(this,Ye,Qg).call(this),r&&f(this,Hi).highlightAll&&U(this,Ye,pw).call(this)):i==="highlightallchange"?(s?U(this,Ye,Qg).call(this):this._highlightMatches=!0,U(this,Ye,pw).call(this)):U(this,Ye,Qg).call(this):this._findTimeout=setTimeout(()=>{U(this,Ye,Qg).call(this),this._findTimeout=null},xpe)})},vN=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,op,0),_(this,Hi,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},yN=function(){const{query:e}=f(this,Hi);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=x_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>x_(t)[0])},rY=function(e){var a;const t=e.query,i=f(this,Hi).query,r=typeof t;if(r!==typeof i)return!0;if(r==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},sY=function(e,t,i){let r=e.slice(0,t).match(Fpe);if(r){const s=e.charCodeAt(t),a=r[1].charCodeAt(0);if(WS(s)===WS(a))return!1}if(r=e.slice(t+i).match(Mpe),r){const s=e.charCodeAt(t+i-1),a=r[1].charCodeAt(0);if(WS(s)===WS(a))return!1}return!0},wN=function(e,t){const{matchDiacritics:i}=f(this,Hi);let r=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(Ipe,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":i?h||g:h?nG.has(h.charCodeAt(0))?h:"":t?(r=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),i&&t&&(iG||(iG=String.fromCharCode(...nG)),r=!0,e=`${e}(?=[${iG}]|[^\\p{M}]|$)`),[r,e]},aY=function(e){if(!f(this,Hi))return;const t=f(this,Ye,yN);if(t.length===0)return;const i=this._pageContents[e],r=this.match(t,i,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];r==null||r.forEach(({index:u,length:d})=>{const[h,g]=nY(o,u,d);g&&(s.push(h),a.push(g))}),f(this,Hi).highlightAll&&U(this,Ye,__).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,U(this,Ye,bN).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,Nv)?l>0&&U(this,Ye,EN).call(this):++ci(this,op)._===this._linkService.pagesCount&&U(this,Ye,EN).call(this)},oY=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},i=this._pdfDocument;for(let r=0,s=this._linkService.pagesCount;r<s;r++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[r]=a,e=e.then(async()=>{if(i!==this._pdfDocument){o();return}await i.getPage(r+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[r],this._pageDiffs[r],this._hasDiacritics[r]]=x_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${r+1}`,l),this._pageContents[r]="",this._pageDiffs[r]=null,this._hasDiacritics[r]=!1,o()})})}},__=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},pw=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Qg=function(){const e=f(this,Hi).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,op,0),this._matchesCountTotal=0,U(this,Ye,pw).call(this);for(let a=0;a<i;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),U(this,Ye,aY).call(this,a)}))}if(f(this,Ye,yN).length===0){U(this,Ye,gw).call(this,Cc.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,U(this,Ye,T_).call(this,!0);return}U(this,Ye,CN).call(this,e)}U(this,Ye,bN).call(this)},AY=function(e){const t=this._offset,i=e.length,r=f(this,Hi).findPrevious;return i?(t.matchIdx=r?i-1:0,U(this,Ye,T_).call(this,!0),!0):(U(this,Ye,CN).call(this,r),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(U(this,Ye,T_).call(this,!1),!0):!1)},bN=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!U(this,Ye,AY).call(this,e))},CN=function(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},T_=function(e=!1){let t=Cc.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?Cc.WRAPPED:Cc.FOUND,r!==-1&&r!==this._selected.pageIdx&&U(this,Ye,__).call(this,r)}U(this,Ye,gw).call(this,t,f(this,Hi).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,U(this,Ye,__).call(this,this._selected.pageIdx))},lY=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),U(this,Ye,gw).call(this,Cc.FOUND),this._highlightMatches=!1,U(this,Ye,pw).call(this))})},BN=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let i=0,r=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)i+=((s=this._pageMatches[a])==null?void 0:s.length)||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}},EN=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:U(this,Ye,BN).call(this)})},gw=function(e,t=!1){var i,r;!f(this,Nv)&&(f(this,op)!==this._linkService.pagesCount||e===Cc.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((i=f(this,Hi))==null?void 0:i.entireWord)??null,matchesCount:U(this,Ye,BN).call(this),rawQuery:((r=f(this,Hi))==null?void 0:r.query)??null})};const Dpe="noopener noreferrer nofollow",Uf={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class $Q{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){ge(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,i,r;if(typeof e=="string"?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}const[s]=i;if(s&&typeof s=="object"){if(r=this.pdfDocument.cachedPageNumber(s),!r)try{r=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(r=s+1);if(!r||r<1||r>this.pagesCount){console.error(`goToDestination: "${r}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===r&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,i,r={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,i],ignoreDestinationZoom:!0,...r})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const r=i?Uf.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(r){case Uf.NONE:break;case Uf.SELF:a="_self";break;case Uf.BLANK:a="_blank";break;case Uf.PARENT:a="_parent";break;case Uf.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:Dpe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=G1(e);if(r.has("search")){const s=r.get("search").replaceAll('"',""),a=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(r.has("page")&&(t=r.get("page")|0||1),r.has("zoom")){const s=r.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?i=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?i=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||Jhe(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(i=this.pdfHistory)==null||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}}class jQ extends $Q{setDocument(e,t=null){}}var Sd,nB,iB,rB,xd,sB,Ou,cY,SN,dY;class uY{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:b=null,onAppend:C=null}){F(this,Ou);F(this,Sd,null);F(this,nB,null);F(this,iB,!1);F(this,rB,null);F(this,xd,null);F(this,sB,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=r,this.enableComment=o,_(this,nB,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=b,_(this,rB,C),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:i=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[r,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,rB))==null||l.call(this,o),U(this,Ou,cY).call(this,e,i),r.length===0){_(this,Sd,r),JW(this.div,e);return}await this.annotationLayer.render({annotations:r,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,Sd,r),this.linkService.isInPresentationMode&&U(this,Ou,SN).call(this,im.FULLSCREEN),f(this,xd)||(_(this,xd,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{U(this,Ou,SN).call(this,d.state)},{signal:f(this,xd).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,xd))==null||e.abort(),_(this,xd,null)}hide(e=!1){_(this,iB,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,Sd)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,sB))return;_(this,sB,!0);const t=f(this,Sd).length?U(this,Ou,dY).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,iB)||(this.div.hidden=!1))}}Sd=new WeakMap,nB=new WeakMap,iB=new WeakMap,rB=new WeakMap,xd=new WeakMap,sB=new WeakMap,Ou=new WeakSet,cY=function(e,t){this.annotationLayer=new jhe({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,nB),linkService:this.linkService})},SN=function(e){if(!this.div)return;let t=!1;switch(e){case im.FULLSCREEN:t=!0;break;case im.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)},dY=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function i(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=qQ.intersect(d,h);g&&o.push(g)}return o}function r(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,Sd)){if(o.annotationType!==WW.LINK||!o.url)continue;const l=i(o,s);if(l.length!==0&&(a??(a=r(t(s))),r(l)/a>.5))return!1}return!0})};function aG(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var bQ;class Npe{constructor(){F(this,bQ,new WeakMap)}downloadData(e,t,i){const r=URL.createObjectURL(new Blob([e],{type:i}));aG(r,t)}openOrDownloadData(e,t,i=null){const s=Xhe(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!YW(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}aG(r,i)}}bQ=new WeakMap;const oG={EVENT:"event",TIMEOUT:"timeout"};async function Lpe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:r}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),r(u)}const o=n instanceof WQ?"_on":"addEventListener";n[o](e,a.bind(null,oG.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,oG.TIMEOUT),t);return i}var Lv;class WQ{constructor(){F(this,Lv,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:i==null?void 0:i.once,signal:i==null?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=f(this,Lv)[e];if(!i||i.length===0)return;let r;for(const{listener:s,external:a,once:o}of i.slice(0)){if(o&&this._off(e,s),a){(r||(r=[])).push(s);continue}s(t)}if(r){for(const s of r)s(t);r=null}}_on(e,t,i=null){var a;let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,Lv))[e]||(a[e]=[])).push({listener:t,external:(i==null?void 0:i.external)===!0,once:(i==null?void 0:i.once)===!0,rmAbort:r})}_off(e,t,i=null){var s;const r=f(this,Lv)[e];if(r)for(let a=0,o=r.length;a<o;a++){const l=r[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),r.splice(a,1);return}}}}Lv=new WeakMap;class rm{constructor(e){this.value=e}valueOf(){return this.value}}class Ri extends rm{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class bu extends rm{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class Yd extends rm{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof rm)return Yd.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof Yd?(t={...e.opts,...t},e=e.value):e instanceof rm&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const AG=100,Qpe="",kpe="";function Ope(n,e,t){if(t===e||t instanceof bu&&e instanceof bu&&t.value===e.value)return!0;if(e instanceof bu&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function lG(n,e,t){return e[t]?sy(n,e[t].value):(n.reportError(new RangeError("No default")),new Ri)}function xN(n,e){const t=[],i=Object.create(null);for(const r of e)r.type==="narg"?i[r.name]=Ww(n,r.value):t.push(Ww(n,r));return{positional:t,named:i}}function Ww(n,e){switch(e.type){case"str":return e.value;case"num":return new bu(e.value,{minimumFractionDigits:e.precision});case"var":return Hpe(n,e);case"mesg":return Vpe(n,e);case"term":return Kpe(n,e);case"func":return Gpe(n,e);case"select":return zpe(n,e);default:return new Ri}}function Hpe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new Ri(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Ri(`$${e}`);if(t instanceof rm)return t;switch(typeof t){case"string":return t;case"number":return new bu(t);case"object":if(Yd.supportsValue(t))return new Yd(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Ri(`$${e}`)}}function Vpe(n,{name:e,attr:t}){const i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Ri(e);if(t){const r=i.attributes[t];return r?sy(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ri(`${e}.${t}`))}return i.value?sy(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Ri(e))}function Kpe(n,{name:e,attr:t,args:i}){const r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new Ri(r);if(t){const o=s.attributes[t];if(o){n.params=xN(n,i).named;const l=sy(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ri(`${r}.${t}`)}n.params=xN(n,i).named;const a=sy(n,s.value);return n.params=null,a}function Gpe(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Ri(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Ri(`${e}()`);try{let r=xN(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new Ri(`${e}()`)}}function zpe(n,{selector:e,variants:t,star:i}){let r=Ww(n,e);if(r instanceof Ri)return lG(n,t,i);for(const s of t){const a=Ww(n,s.key);if(Ope(n,r,a))return sy(n,s.value)}return lG(n,t,i)}function fY(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Ri;n.dirty.add(e);const t=[],i=n.bundle._useIsolating&&e.length>1;for(const r of e){if(typeof r=="string"){t.push(n.bundle._transform(r));continue}if(n.placeables++,n.placeables>AG)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${AG}`);i&&t.push(Qpe),t.push(Ww(n,r).toString(n)),i&&t.push(kpe)}return n.dirty.delete(e),t.join("")}function sy(n,e){return typeof e=="string"?n.bundle._transform(e):fY(n,e)}class qpe{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}}function _N(n,e){const t=Object.create(null);for(const[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}const uG=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function $pe(n,e){let t=n[0];if(t instanceof Ri)return new Ri(`NUMBER(${t.valueOf()})`);if(t instanceof bu)return new bu(t.valueOf(),{...t.opts,..._N(e,uG)});if(t instanceof Yd)return new bu(t.toNumber(),{..._N(e,uG)});throw new TypeError("Invalid argument to NUMBER")}const jpe=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Wpe(n,e){let t=n[0];if(t instanceof Ri)return new Ri(`DATETIME(${t.valueOf()})`);if(t instanceof Yd||t instanceof bu)return new Yd(t,_N(e,jpe));throw new TypeError("Invalid argument to DATETIME")}const cG=new Map;function Ype(n){const e=Array.isArray(n)?n.join(" "):n;let t=cG.get(e);return t===void 0&&(t=new Map,cG.set(e,t)),t}class Xpe{constructor(e,{functions:t,useIsolating:i=!0,transform:r=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:$pe,DATETIME:Wpe,...t},this._useIsolating=i,this._transform=r,this._intls=Ype(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let r=new qpe(this,i,t);try{return fY(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),new Ri().toString(r);throw s}}}const mU=/^(-?[a-zA-Z][\w-]*) *= */gm,dG=/\.([a-zA-Z][\w-]*) *= */y,Jpe=/\*?\[/y,vU=/(-?[0-9]+(?:\.([0-9]+))?)/y,Zpe=/([a-zA-Z][\w-]*)/y,fG=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,ege=/^[A-Z][A-Z0-9_-]*$/,YS=/([^{}\n\r]+)/y,tge=/([^\\"\n\r]*)/y,hG=/\\([\\"])/y,pG=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,nge=/^\n+/,gG=/ +$/,ige=/ *\r?\n/g,rge=/( *)$/,sge=/{\s*/y,mG=/\s*}/y,age=/\[\s*/y,oge=/\s*] */y,Age=/\s*\(\s*/y,lge=/\s*->\s*/y,uge=/\s*:\s*/y,cge=/\s*,?\s*/y,dge=/\s+/y;class fge{constructor(e){this.body=[],mU.lastIndex=0;let t=0;for(;;){let k=mU.exec(e);if(k===null)break;t=mU.lastIndex;try{this.body.push(l(k[1]))}catch(K){if(K instanceof SyntaxError)continue;throw K}}function i(k){return k.lastIndex=t,k.test(e)}function r(k,K){if(e[t]===k)return t++,!0;if(K)throw new K(`Expected ${k}`);return!1}function s(k,K){if(i(k))return t=k.lastIndex,!0;if(K)throw new K(`Expected ${k.toString()}`);return!1}function a(k){k.lastIndex=t;let K=k.exec(e);if(K===null)throw new SyntaxError(`Expected ${k.toString()}`);return t=k.lastIndex,K}function o(k){return a(k)[1]}function l(k){let K=d(),V=u();if(K===null&&Object.keys(V).length===0)throw new SyntaxError("Expected message value or attributes");return{id:k,value:K,attributes:V}}function u(){let k=Object.create(null);for(;i(dG);){let K=o(dG),V=d();if(V===null)throw new SyntaxError("Expected attribute value");k[K]=V}return k}function d(){let k;if(i(YS)&&(k=o(YS)),e[t]==="{"||e[t]==="}")return h(k?[k]:[],1/0);let K=D();return K?k?h([k,K],K.length):(K.value=Q(K.value,nge),h([K],K.length)):k?Q(k,gG):null}function h(k=[],K){for(;;){if(i(YS)){k.push(o(YS));continue}if(e[t]==="{"){k.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let ne=D();if(ne){k.push(ne),K=Math.min(K,ne.length);continue}break}let V=k.length-1,z=k[V];typeof z=="string"&&(k[V]=Q(z,gG));let Z=[];for(let ne of k)ne instanceof vG&&(ne=ne.value.slice(0,ne.value.length-K)),ne&&Z.push(ne);return Z}function g(){s(sge,SyntaxError);let k=v();if(s(mG))return k;if(s(lge)){let K=E();return s(mG,SyntaxError),{type:"select",selector:k,...K}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(i(fG)){let[,k,K,V=null]=a(fG);if(k==="$")return{type:"var",name:K};if(s(Age)){let z=b();if(k==="-")return{type:"term",name:K,attr:V,args:z};if(ege.test(K))return{type:"func",name:K,args:z};throw new SyntaxError("Function names must be all upper-case")}return k==="-"?{type:"term",name:K,attr:V,args:[]}:{type:"mesg",name:K,attr:V}}return I()}function b(){let k=[];for(;;){switch(e[t]){case")":return t++,k;case void 0:throw new SyntaxError("Unclosed argument list")}k.push(C()),s(cge)}}function C(){let k=v();return k.type!=="mesg"?k:s(uge)?{type:"narg",name:k.name,value:I()}:k}function E(){let k=[],K=0,V;for(;i(Jpe);){r("*")&&(V=K);let z=x(),Z=d();if(Z===null)throw new SyntaxError("Expected variant value");k[K++]={key:z,value:Z}}if(K===0)return null;if(V===void 0)throw new SyntaxError("Expected default variant");return{variants:k,star:V}}function x(){s(age,SyntaxError);let k;return i(vU)?k=T():k={type:"str",value:o(Zpe)},s(oge,SyntaxError),k}function I(){if(i(vU))return T();if(e[t]==='"')return R();throw new SyntaxError("Invalid expression")}function T(){let[,k,K=""]=a(vU),V=K.length;return{type:"num",value:parseFloat(k),precision:V}}function R(){r('"',SyntaxError);let k="";for(;;){if(k+=o(tge),e[t]==="\\"){k+=P();continue}if(r('"'))return{type:"str",value:k};throw new SyntaxError("Unclosed string literal")}}function P(){if(i(hG))return o(hG);if(i(pG)){let[,k,K]=a(pG),V=parseInt(k||K,16);return V<=55295||57344<=V?String.fromCodePoint(V):""}throw new SyntaxError("Unknown escape sequence")}function D(){let k=t;switch(s(dge),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(k,t))}return e[t-1]===" "?H(e.slice(k,t)):!1}function Q(k,K){return k.replace(K,"")}function H(k){let K=k.replace(ige,`
`),V=rge.exec(k)[1].length;return new vG(K,V)}}}class vG{constructor(e,t){this.value=e,this.length=t}}const hge=/<|&#?\w+;/,pge={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},gge={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function mge(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!hge.test(t))n.textContent=t;else{const i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,vge(i.content,n)}hY(e,n)}function vge(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=wge(e,t);n.replaceChild(i,t);continue}if(Cge(t)){const i=bge(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(TN(t),t)}e.textContent="",e.appendChild(n)}function yge(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function hY(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))yG(i.name,e,t)&&!yge(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(const i of Array.from(n.attributes))yG(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function wge(n,e){const t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),TN(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),TN(e);n.removeChild(i);const r=i.cloneNode(!1);return pY(e,r)}function bge(n){const e=n.ownerDocument.createElement(n.localName);return pY(n,e)}function TN(n){return n.ownerDocument.createTextNode(n.textContent)}function Cge(n){const e=pge[n.namespaceURI];return e&&e.includes(n.localName)}function yG(n,e,t=null){if(t&&t.includes(n))return!0;const i=gge[e.namespaceURI];if(!i)return!1;const r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&r==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function pY(n,e){return e.textContent=n.textContent,hY(n,e),e}class Bge extends Array{static from(e){return e instanceof this?e:new this(e)}}class Ege extends Bge{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const i=this[this.length-1];if(i&&(await i).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class Sge{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const i=[];let r=!1;for await(const s of this.bundles){r=!0;const a=Tge(t,s,e,i);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!r&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,_ge)}formatValues(e){return this.formatWithFallback(e,xge)}async formatValue(e,t){const[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=Ege.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function xge(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function _ge(n,e,t,i){const r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],i,e);r.attributes[a]={name:o,value:l}}}return r}function Tge(n,e,t,i){const r=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(i[l]!==void 0)return;let u=e.getMessage(a);if(u){if(r.length=0,i[l]=n(e,r,u,o),r.length>0&&typeof console<"u"){const d=e.locales[0],h=r.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const Pf="data-l10n-id",P0="data-l10n-args",Ige=`[${Pf}]`;class Fge extends Sge{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Pf,P0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(Pf,t),i?e.setAttribute(P0,JSON.stringify(i)):e.removeAttribute(P0),e}getAttributes(e){return{id:e.getAttribute(Pf),args:JSON.parse(e.getAttribute(P0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(Pf)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&mge(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(Ige));return typeof e.hasAttribute=="function"&&e.hasAttribute(Pf)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Pf),args:JSON.parse(e.getAttribute(P0)||null)}}}var aB,_d,Qv,Ms,yy,gY,mY;const Hw=class Hw{constructor({lang:e,isRTL:t},i=null){F(this,aB);F(this,_d);F(this,Qv);F(this,Ms);var r,s;_(this,Qv,U(r=Hw,yy,gY).call(r,e)),_(this,Ms,i),_(this,aB,t??U(s=Hw,yy,mY).call(s,f(this,Qv))?"rtl":"ltr")}_setL10n(e){_(this,Ms,e)}getLanguage(){return f(this,Qv)}getDirection(){return f(this,aB)}async get(e,t=null,i){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,Ms).formatMessages(e)).map(o=>o.value)):((s=(await f(this,Ms).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||i}async translate(e){(f(this,_d)||_(this,_d,new Set)).add(e);try{f(this,Ms).connectRoot(e),await f(this,Ms).translateRoots()}catch{}}async translateOnce(e){try{await f(this,Ms).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,_d)){for(const e of f(this,_d))f(this,Ms).disconnectRoot(e);f(this,_d).clear(),_(this,_d,null)}f(this,Ms).pauseObserving()}pause(){f(this,Ms).pauseObserving()}resume(){f(this,Ms).resumeObserving()}};aB=new WeakMap,_d=new WeakMap,Qv=new WeakMap,Ms=new WeakMap,yy=new WeakSet,gY=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},mY=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},F(Hw,yy);let IN=Hw;function Mge(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:i}=XW.platform;return e?"linux":i?"windows":t?"macos":n?"android":"other"}function wG(n,e){const t=new fge(e),i=new Xpe(n,{functions:{PLATFORM:Mge}}),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}var xa,vY,yY,wY,bY,FN;const Of=class Of extends IN{constructor(e){super({lang:e});const t=e?U(Of,xa,vY).bind(Of,"en-us",this.getLanguage()):U(Of,xa,bY).bind(Of,this.getLanguage());this._setL10n(new Fge([],t))}};xa=new WeakSet,vY=async function*(e,t){const{baseURL:i,paths:r}=await U(this,xa,wY).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,U(this,xa,yY).call(this,o,i,r)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield U(this,xa,FN).call(this,o))}},yY=async function(e,t,i){const r=i[e];if(!r)return null;const s=new URL(r,t),a=await $K(s,"text");return wG(e,a)},wY=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await $K(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},bY=async function*(e){yield U(this,xa,FN).call(this,e)},FN=async function(e){return wG(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},F(Of,xa);let ay=Of;const Uge=1e3,Pge=50,Rge=1e3;function yU(){return document.location.hash}var Td,mt,ml,I_,F_,mw,M_,MN,CY,BY,UN,EY,SY;class Dge{constructor({linkService:e,eventBus:t}){F(this,mt);F(this,Td,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const r=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,U(this,mt,EY).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=yU(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!U(this,mt,mw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=U(this,mt,MN).call(this,!0);if(!o||r||t){U(this,mt,ml).call(this,null,!0);return}U(this,mt,ml).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;U(this,mt,M_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(U(this,mt,UN).call(this),this._initialized=!1,U(this,mt,SY).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!U(this,mt,F_).call(this,i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(Nge(this._destination.hash,r)||Lge(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(U(this,mt,ml).call(this,{dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!U(this,mt,F_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(U(this,mt,ml).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||U(this,mt,I_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,mt,mw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,mt,mw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}Td=new WeakMap,mt=new WeakSet,ml=function(e,t=!1){const i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};U(this,mt,M_).call(this,e,r.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=tpe(a,e.hash))}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)},I_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){U(this,mt,ml).call(this,t);return}if(this._destination.temporary){U(this,mt,ml).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=Pge)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}U(this,mt,ml).call(this,t,i)},F_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},mw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if((i==null?void 0:i.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},M_=function(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},MN=function(e=!1){const t=unescape(yU()).substring(1),i=G1(t),r=i.get("nameddest")||"";let s=i.get("page")|0;return(!U(this,mt,F_).call(this,s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},CY=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||U(this,mt,I_).call(this,!0),this._updateViewareaTimeout=null},Rge))},BY=function({state:e}){const t=yU(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=U(this,mt,MN).call(this);U(this,mt,ml).call(this,{hash:s,page:a,rotation:o},!0);return}if(!U(this,mt,mw).call(this,e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,Lpe({target:window,name:"hashchange",delay:Uge}).then(()=>{this._blockHashChange--}));const r=e.destination;U(this,mt,M_).call(this,r,e.uid,!0),tY(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},UN=function(){(!this._destination||this._destination.temporary)&&U(this,mt,I_).call(this)},EY=function(){if(f(this,Td))return;_(this,Td,new AbortController);const{signal:e}=f(this,Td);this.eventBus._on("updateviewarea",U(this,mt,CY).bind(this),{signal:e}),window.addEventListener("popstate",U(this,mt,BY).bind(this),{signal:e}),window.addEventListener("pagehide",U(this,mt,UN).bind(this),{signal:e})},SY=function(){var e;(e=f(this,Td))==null||e.abort(),_(this,Td,null)};function Nge(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||G1(n).get("nameddest")===e}function Lge(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(i!==null&&typeof i=="object"&&r!==null){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}var oB,AB,lB,uB,cB,kv;class Qge{constructor(e){F(this,oB,null);F(this,AB,null);F(this,lB,null);F(this,uB,null);F(this,cB,null);F(this,kv);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new ay),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,kv,e.uiManager),_(this,oB,e.annotationLayer||null),_(this,cB,e.textLayer||null),_(this,AB,e.drawLayer||null),_(this,lB,e.onAppend||null),_(this,uB,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}const r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=f(this,kv).direction,(a=f(this,lB))==null||a.call(this,r),this.annotationEditorLayer=new qhe({uiManager:f(this,kv),div:r,structTreeLayer:f(this,uB),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:f(this,oB),textLayer:f(this,cB),drawLayer:f(this,AB)});const s={viewport:i,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}oB=new WeakMap,AB=new WeakMap,lB=new WeakMap,uB=new WeakMap,cB=new WeakMap,kv=new WeakMap;{var PN=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,i=/Android/.test(t),r=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(r||i)&&PN.set("maxCanvasPixels",5242880)})(),(function(){i&&PN.set("useSystemFonts",!1)})()}const ue={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},RN={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},hu={allowedGlobalEvents:{value:null,kind:ue.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:ue.BROWSER+ue.API},isInAutomation:{value:!1,kind:ue.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:ue.BROWSER},maxCanvasDim:{value:32767,kind:ue.BROWSER+ue.VIEWER},nimbusDataStr:{value:"",kind:ue.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:ue.BROWSER},supportsDocumentFonts:{value:!0,kind:ue.BROWSER},supportsIntegratedFind:{value:!1,kind:ue.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:ue.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:ue.BROWSER},supportsPinchToZoom:{value:!0,kind:ue.BROWSER},supportsPrinting:{value:!0,kind:ue.BROWSER},toolbarDensity:{value:0,kind:ue.BROWSER+ue.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},annotationEditorMode:{value:0,kind:ue.VIEWER+ue.PREFERENCE},annotationMode:{value:2,kind:ue.VIEWER+ue.PREFERENCE},capCanvasAreaFactor:{value:200,kind:ue.VIEWER+ue.PREFERENCE},commentLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},cursorToolOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:ue.VIEWER},defaultZoomDelay:{value:400,kind:ue.VIEWER+ue.PREFERENCE},defaultZoomValue:{value:"",kind:ue.VIEWER+ue.PREFERENCE},disableHistory:{value:!1,kind:ue.VIEWER},disablePageLabels:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltText:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableComment:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableDetailCanvas:{value:!0,kind:ue.VIEWER},enableGuessAltText:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePermissions:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableScripting:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableSignatureEditor:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:ue.VIEWER},externalLinkTarget:{value:0,kind:ue.VIEWER+ue.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:ue.VIEWER+ue.PREFERENCE},historyUpdateUrl:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},imageResourcesPath:{value:"./images/",kind:ue.VIEWER},maxCanvasPixels:{value:2**25,kind:ue.VIEWER},minDurationToUpdateCanvas:{value:500,kind:ue.VIEWER},forcePageColors:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:ue.VIEWER+ue.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:ue.VIEWER+ue.PREFERENCE},pdfBugEnabled:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},printResolution:{value:150,kind:ue.VIEWER},sidebarViewOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},scrollModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},spreadModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},textLayerMode:{value:1,kind:ue.VIEWER+ue.PREFERENCE},viewerCssTheme:{value:0,kind:ue.VIEWER+ue.PREFERENCE},viewOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},cMapPacked:{value:!0,kind:ue.API},cMapUrl:{value:"../web/cmaps/",kind:ue.API},disableAutoFetch:{value:!1,kind:ue.API+ue.PREFERENCE},disableFontFace:{value:!1,kind:ue.API+ue.PREFERENCE},disableRange:{value:!1,kind:ue.API+ue.PREFERENCE},disableStream:{value:!1,kind:ue.API+ue.PREFERENCE},docBaseUrl:{value:"",kind:ue.API},enableHWA:{value:!0,kind:ue.API+ue.VIEWER+ue.PREFERENCE},enableXfa:{value:!0,kind:ue.API+ue.PREFERENCE},fontExtraProperties:{value:!1,kind:ue.API},iccUrl:{value:"../web/iccs/",kind:ue.API},isEvalSupported:{value:!0,kind:ue.API},isOffscreenCanvasSupported:{value:!0,kind:ue.API},maxImageSize:{value:-1,kind:ue.API},pdfBug:{value:!1,kind:ue.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:ue.API},useSystemFonts:{value:void 0,kind:ue.API,type:RN.BOOLEAN+RN.UNDEFINED},verbosity:{value:1,kind:ue.API},wasmUrl:{value:"../web/wasm/",kind:ue.API},workerPort:{value:null,kind:ue.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:ue.WORKER}};hu.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:ue.VIEWER},hu.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:ue.VIEWER},hu.enableFakeMLManager={value:!0,kind:ue.VIEWER};hu.disablePreferences={value:!1,kind:ue.VIEWER};var Id;const lA=class lA{static get(e){return f(this,Id).get(e)}static getAll(e=null,t=!1){const i=Object.create(null);for(const r in hu){const s=hu[r];e&&!(e&s.kind)||(i[r]=t?s.value:f(this,Id).get(r))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let i;for(const r in e){const s=hu[r],a=e[r];if(!s||!(typeof a==typeof s.value||RN[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&ue.BROWSER||o&ue.PREFERENCE)||(this.eventBus&&o&ue.EVENT_DISPATCH&&(i||(i=new Map)).set(r,a),f(this,Id).set(r,a))}if(i)for(const[r,s]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}};Id=new WeakMap,ge(lA,"eventBus"),F(lA,Id,new Map),(()=>{for(const e in hu)f(lA,Id).set(e,hu[e].value);for(const[e,t]of PN)f(lA,Id).set(e,t);lA._hasInvokedSet=!1,lA._checkDisablePreferences=()=>lA.get("disablePreferences")?!0:(lA._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let Rw=lA;function bG({width:n,height:e,left:t,top:i},r){if(n===0||e===0)return null;const s=r.textLayer.div.getBoundingClientRect(),a=r.getPagePoint(t-s.left,i-s.top),o=r.getPagePoint(t-s.left+n,i-s.top+e);return qQ.normalizeRect([a[0],a[1],o[0],o[1]])}function kge(n,e){const t=n.getClientRects();if(t.length===1)return{rect:bG(t[0],e)};const i=[1/0,1/0,-1/0,-1/0],r=[];let s=0;for(const a of t){const o=bG(a,e);o!==null&&(r[s]=r[s+4]=o[0],r[s+1]=r[s+3]=o[3],r[s+2]=r[s+6]=o[2],r[s+5]=r[s+7]=o[1],qQ.rectBoundingBox(...o,i),s+=8)}return{quadPoints:r,rect:i}}function CG(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const i=t.textContent.length;if(e<=i)return[t,e];e-=i}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function Oge({url:n,index:e,length:t},i,r){const s=i._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...CG(s.textDivs[a.divIdx],a.offset)),l.setEnd(...CG(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${r}`,unsafeUrl:n,url:n,annotationType:WW.LINK,rotation:0,...kge(l,i),borderStyle:null}}var T1,dB;class DN{static findLinks(e){f(this,dB)??_(this,dB,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,i]=x_(e,{ignoreDashEOL:!0}),r=t.matchAll(f(this,dB)),s=[];for(const a of r){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=YW(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=nY(i,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>Oge(t,e,ci(this,T1)._++))}}T1=new WeakMap,dB=new WeakMap,F(DN,T1,0),F(DN,dB);var Fd,Ov,Hv,Vv,nu,Md,iu,I1,fB,NN;class xY{constructor(e){F(this,fB);F(this,Fd,null);F(this,Ov,0);F(this,Hv,null);F(this,Vv,Kt.INITIAL);F(this,nu,null);F(this,Md,0);F(this,iu,null);ge(this,"canvas",null);ge(this,"div",null);ge(this,"enableOptimizedPartialRendering",!1);ge(this,"eventBus",null);ge(this,"id",null);ge(this,"pageColors",null);ge(this,"recordedBBoxes",null);ge(this,"renderingQueue",null);ge(this,"renderTask",null);ge(this,"resume",null);F(this,I1,e=>{var t;if((t=f(this,nu))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Kt.PAUSED,this.resume=()=>{this.renderingState=Kt.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,Ov,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,Vv)}set renderingState(e){var t;if(e!==f(this,Vv))switch(_(this,Vv,e),f(this,Fd)&&(clearTimeout(f(this,Fd)),_(this,Fd,null)),e){case Kt.PAUSED:this.div.classList.remove("loading"),_(this,Md,0),(t=f(this,nu))==null||t.call(this,!1);break;case Kt.RUNNING:this.div.classList.add("loadingIcon"),_(this,Fd,setTimeout(()=>{this.div.classList.add("loading"),_(this,Fd,null)},0)),_(this,Md,Date.now());break;case Kt.INITIAL:case Kt.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,Md,0);break}}_createCanvas(e,t=!1){const{pageColors:i}=this,r=!!(i!=null&&i.background&&(i!=null&&i.foreground)),s=this.canvas,a=!s&&!r&&!t;let o=this.canvas=document.createElement("canvas");return _(this,nu,l=>{if(a){let u=f(this,iu);if(!l&&f(this,Ov)>0){if(Date.now()-f(this,Md)<f(this,Ov))return;u||(u=_(this,iu,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?U(this,fB,NN).call(this):_(this,Md,Date.now());return}e(o),_(this,nu,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,U(this,fB,NN).call(this))}async _drawCanvas(e,t,i){var a,o;const r=this.renderTask=this.pdfPage.render(e);r.onContinue=f(this,I1),r.onError=l=>{l instanceof gN&&(t(),_(this,Hv,null))};let s=null;try{await r.promise,(a=f(this,nu))==null||a.call(this,!0)}catch(l){if(l instanceof gN)return;s=l,(o=f(this,nu))==null||o.call(this,!0)}finally{_(this,Hv,s),r===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=r.recordedBBoxes)))}if(this.renderingState=Kt.FINISHED,i(r),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,Hv)})}}Fd=new WeakMap,Ov=new WeakMap,Hv=new WeakMap,Vv=new WeakMap,nu=new WeakMap,Md=new WeakMap,iu=new WeakMap,I1=new WeakMap,fB=new WeakSet,NN=function(){f(this,iu)&&(f(this,iu).width=f(this,iu).height=0,_(this,iu,null))};var UA;class Hge{constructor(e){F(this,UA,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,UA)||this._cancelled||_(this,UA,new Whe({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,UA)&&(f(this,UA).destroy(),_(this,UA,null))}setParent(e){var t;(t=f(this,UA))==null||t.setParent(e)}getDrawLayer(){return f(this,UA)}}UA=new WeakMap;var no,F1,_Y;class Vge extends xY{constructor({pageView:t}){super(t);F(this,F1);F(this,no,null);ge(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const i=this.renderingCancelled||this.renderingState===Kt.RUNNING||this.renderingState===Kt.PAUSED;this.cancelRendering(),this.renderingState=Kt.INITIAL,this.renderingCancelled=i,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:i=!1}={}){if(i){this.cancelRendering(),this.renderingState=Kt.INITIAL;return}if(!U(this,F1,_Y).call(this,t))return;const{viewport:r,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*S_.pixelRatio**2,h=(Math.sqrt(S_.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,b=l*g,C=Math.max(0,t.minX-v),E=Math.min(r.width,t.maxX+v),x=Math.max(0,t.minY-b),I=Math.min(r.height,t.maxY+b),T=E-C,R=I-x;_(this,no,{minX:C,minY:x,width:T,height:R,scale:r.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,i){const r=this.pageView._getRenderingContext(t,i,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return r;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,no),g=d/a,v=h/o,b=(d+l)/a,C=(h+u)/o;return{...r,operationsFilter(E){return s.isEmpty(E)?!1:s.minX(E)<=b&&s.maxX(E)>=g&&s.minY(E)<=C&&s.maxY(E)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===Kt.FINISHED||this.renderingState===Kt.FINISHED;this.renderingState!==Kt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:i,pdfPage:r,viewport:s}=this.pageView;if(!r)throw this.renderingState=Kt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Kt.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(E=>{var x;((x=a.firstElementChild)==null?void 0:x.tagName)==="CANVAS"?a.firstElementChild.after(E):a.prepend(E)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,no),{pixelRatio:g}=S_,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:b}=o;b.width=`${h.width*100/u}%`,b.height=`${h.height*100/d}%`,b.top=`${h.minY*100/d}%`,b.left=`${h.minX*100/u}%`;const C=this._drawCanvas(this._getRenderingContext(o,v),()=>{var E;(E=this.canvas)==null||E.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return i.setAttribute("data-loaded",!0),this.dispatchPageRender(),C}}no=new WeakMap,F1=new WeakSet,_Y=function(t){if(!f(this,no))return!0;const i=f(this,no).minX,r=f(this,no).minY,s=f(this,no).width+i,a=f(this,no).height+r;if(t.minX<i||t.minY<r||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,no).scale!==u)return!0;const d=t.minX-i,h=s-t.maxX,g=t.minY-r,v=a-t.maxY,b=.5,C=(1+b)/b;return i>0&&h/d>C||s<o&&d/h>C||r>0&&v/g>C||a<l&&g/v>C};const BG={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},TY=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),AT="http://www.w3.org/1998/Math/MathML";class EG{static get sanitizer(){return $w(this,"sanitizer",XW.isSanitizerSupported?new Sanitizer({elements:[...TY].map(e=>({name:e,namespace:AT})),replaceWithChildrenElements:[{name:"maction",namespace:AT}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const Kge=/^H(\d+)$/;var Kv,ko,Gv,zv,qv,Ud,GA,LN,FY,QN;class IY{constructor(e,t){F(this,GA);F(this,Kv);F(this,ko,null);F(this,Gv);F(this,zv,new Map);F(this,qv);F(this,Ud,null);_(this,Kv,e.getStructTree()),_(this,qv,t)}async render(){var r;if(f(this,Gv))return f(this,Gv);const{promise:e,resolve:t,reject:i}=Promise.withResolvers();_(this,Gv,e);try{_(this,ko,U(this,GA,QN).call(this,await f(this,Kv)))}catch(s){i(s)}return _(this,Kv,null),(r=f(this,ko))==null||r.classList.add("structTree"),t(f(this,ko)),e}async getAriaAttributes(e){try{return await this.render(),f(this,zv).get(e)}catch{}return null}hide(){f(this,ko)&&!f(this,ko).hidden&&(f(this,ko).hidden=!0)}show(){var e;(e=f(this,ko))!=null&&e.hidden&&(f(this,ko).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,Ud)){for(const[t,i]of f(this,Ud))(e=document.getElementById(t))==null||e.append(i);f(this,Ud).clear(),_(this,Ud,null)}}}Kv=new WeakMap,ko=new WeakMap,Gv=new WeakMap,zv=new WeakMap,qv=new WeakMap,Ud=new WeakMap,GA=new WeakSet,LN=function(e,t){const{alt:i,id:r,lang:s}=e;if(i!==void 0){let a=!1;const o=Pw(i);for(const l of e.children)if(l.type==="annotation"){let u=f(this,zv).get(l.id);u||(u=new Map,f(this,zv).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}r!==void 0&&t.setAttribute("aria-owns",r),s!==void 0&&t.setAttribute("lang",Pw(s,!0))},FY=function(e,t){const{alt:i,bbox:r,children:s}=e,a=s==null?void 0:s[0];if(!f(this,qv)||!i||!r||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,Ud)||_(this,Ud,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",Pw(i));const{pageHeight:u,pageX:d,pageY:h}=f(this,qv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${r[2]-r[0]}px)`,v.height=`${g}${r[3]-r[1]}px)`,v.left=`${g}${r[0]-d}px)`,v.top=`${g}${u-r[3]+h}px)`,!0},QN=function(e){if(!e)return null;let t;if("role"in e){const{role:i}=e;t=TY.has(i)?document.createElementNS(AT,i):document.createElement("span");const r=i.match(Kge);if(r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):BG[i]&&t.setAttribute("role",BG[i]),i==="Figure"&&U(this,GA,FY).call(this,e,t))return t;i==="Formula"&&(e.mathML&&EG.sanitizer&&t.setHTML(e.mathML,{sanitizer:EG.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(AT,"math")))}if(t||(t=document.createElement("span")),U(this,GA,LN).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])U(this,GA,LN).call(this,e.children[0],t);else for(const i of e.children)t.append(U(this,GA,QN).call(this,i));return t};var ru,io,su,Pd,$v,U_,hB,ON;const Jg=class Jg{constructor(){F(this,hB);F(this,ru,!1);F(this,io,null);F(this,su,new Map);F(this,Pd,new Map)}setTextMapping(e){_(this,io,e)}enable(){if(f(this,ru))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,io))throw new Error("Text divs and strings have not been set.");if(_(this,ru,!0),_(this,io,f(this,io).slice()),f(this,io).sort(U(Jg,$v,U_)),f(this,su).size>0){const e=f(this,io);for(const[t,i]of f(this,su)){if(!document.getElementById(t)){f(this,su).delete(t);continue}U(this,hB,ON).call(this,t,e[i])}}for(const[e,t]of f(this,Pd))this.addPointerInTextLayer(e,t);f(this,Pd).clear()}disable(){f(this,ru)&&(f(this,Pd).clear(),_(this,io,null),_(this,ru,!1))}removePointerInTextLayer(e){if(!f(this,ru)){f(this,Pd).delete(e);return}const t=f(this,io);if(!t||t.length===0)return;const{id:i}=e,r=f(this,su).get(i);if(r===void 0)return;const s=t[r];f(this,su).delete(i);let a=s.getAttribute("aria-owns");a!=null&&a.includes(i)&&(a=a.split(" ").filter(o=>o!==i).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!f(this,ru))return f(this,Pd).set(e,t),null;t&&this.removePointerInTextLayer(e);const r=f(this,io);if(!r||r.length===0)return null;const s=jw(r,u=>{var d;return U(d=Jg,$v,U_).call(d,e,u)<0}),a=Math.max(0,s-1),o=r[a];U(this,hB,ON).call(this,i,o),f(this,su).set(i,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,r){const s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=jw(a,l=>{var u;return U(u=Jg,$v,U_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};ru=new WeakMap,io=new WeakMap,su=new WeakMap,Pd=new WeakMap,$v=new WeakSet,U_=function(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(r.width===0&&r.height===0)return-1;const s=i.y,a=i.y+i.height,o=i.y+i.height/2,l=r.y,u=r.y+r.height,d=r.y+r.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=i.x+i.width/2,g=r.x+r.width/2;return h-g},hB=new WeakSet,ON=function(e,t){const i=t.getAttribute("aria-owns");i!=null&&i.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},F(Jg,$v);let kN=Jg;var Rd;class Gge{constructor({findController:e,eventBus:t,pageIndex:i}){F(this,Rd,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,Rd)||(_(this,Rd,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,Rd).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,Rd))==null||e.abort(),_(this,Rd,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let r=0,s=0;const a=i.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;r!==a&&d>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:r,offset:d-s}};for(d+=t[l];r!==a&&d>s+i[r].length;)s+=i[r].length,r++;h.end={divIdx:r,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,a=i===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(x,I){const T=x.divIdx;return s[T].textContent="",g(T,0,x.offset,I)}function g(x,I,T,R){let P=s[x];if(P.nodeType===Node.TEXT_NODE){const H=document.createElement("span");P.before(H),H.append(P),s[x]=H,P=H}const D=r[x].substring(I,T),Q=document.createTextNode(D);if(R){const H=document.createElement("span");if(H.className=`${R} appended`,H.append(Q),P.append(H),R.includes("selected")){const{left:k}=H.getClientRects()[0],K=P.getBoundingClientRect().left;return k-K}return 0}return P.append(Q),0}let v=o,b=v+1;if(l)v=0,b=e.length;else if(!a)return;let C=-1,E=-1;for(let x=v;x<b;x++){const I=e[x],T=I.begin;if(T.divIdx===C&&T.offset===E)continue;C=T.divIdx,E=T.offset;const R=I.end,P=a&&x===o,D=P?" selected":"";let Q=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===R.divIdx)Q=g(T.divIdx,T.offset,R.offset,"highlight"+D);else{Q=g(T.divIdx,T.offset,d.offset,"highlight begin"+D);for(let H=T.divIdx+1,k=R.divIdx;H<k;H++)s[H].className="highlight middle"+D;h(R,"highlight end"+D)}u=R,P&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:Q,pageIndex:i,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of i){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const b=a[g];b.textContent=s[g],b.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[r]||null,u=t.pageMatchesLength[r]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}Rd=new WeakMap;var pB,gB,Ap,PA,Us,Dd,M1,MY,wy,UY,PY;const Ic=class Ic{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){F(this,M1);F(this,pB,!1);F(this,gB,null);F(this,Ap,!1);F(this,PA,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,_(this,pB,r===!0),_(this,gB,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,Ap)&&f(this,PA)){f(this,PA).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,PA,new epe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:i,textContentItemsStr:r}=f(this,PA);(a=this.highlighter)==null||a.setTextMapping(i,r),(o=this.accessibilityManager)==null||o.setTextMapping(i),await f(this,PA).render(),_(this,Ap,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),U(this,M1,MY).call(this,s),(l=f(this,gB))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,Ap)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,Ap)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,i,r;(e=f(this,PA))==null||e.cancel(),_(this,PA,null),(t=this.highlighter)==null||t.disable(),(i=this.accessibilityManager)==null||i.disable(),U(r=Ic,wy,UY).call(r,this.div)}};pB=new WeakMap,gB=new WeakMap,Ap=new WeakMap,PA=new WeakMap,Us=new WeakMap,Dd=new WeakMap,M1=new WeakSet,MY=function(e){var i;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",r=>{if(!f(this,pB)){const s=document.getSelection();r.clipboardData.setData("text/plain",Pw(Zhe(s.toString())))}mN(r)}),f(Ic,Us).set(t,e),U(i=Ic,wy,PY).call(i)},wy=new WeakSet,UY=function(e){var t;f(this,Us).delete(e),f(this,Us).size===0&&((t=f(this,Dd))==null||t.abort(),_(this,Dd,null))},PY=function(){if(f(this,Dd))return;_(this,Dd,new AbortController);const{signal:e}=f(this,Dd),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,f(this,Us).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,f(this,Us).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||f(this,Us).forEach(t)},{signal:e});var r,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,Us).forEach(t);return}const o=new Set;for(let b=0;b<a.rangeCount;b++){const C=a.getRangeAt(b);for(const E of f(this,Us).keys())!o.has(E)&&C.intersectsNode(E)&&o.add(E)}for(const[b,C]of f(this,Us))o.has(b)?b.classList.add("selecting"):t(C,b);if(r??(r=getComputedStyle(f(this,Us).values().next().value).getPropertyValue("-moz-user-select")==="none"),r)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,Us).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},F(Ic,wy),F(Ic,Us,new Map),F(Ic,Dd,null);let lT=Ic;class RY{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,fU.render(s)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?fU.update(r):(this.div=document.createElement("div"),r.div=this.div,fU.render(r))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const zge={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new jQ}},qge=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var Nd,Ld,mB,vB,jv,yB,Qd,au,Wv,wB,bB,CB,Yv,BB,ou,kd,wt,kg,P_,vw,HN,VN,KN,GN,zN,NY,LY,QY,qN;class DY extends xY{constructor(t){var a,o;super(t);F(this,wt);F(this,Nd,LA.ENABLE_FORMS);F(this,Ld,null);F(this,mB,null);F(this,vB,!0);F(this,jv,!1);F(this,yB,!1);F(this,Qd,null);F(this,au,!1);F(this,Wv,null);F(this,wB,null);F(this,bB,1);F(this,CB,1);F(this,Yv,DA.ENABLE);F(this,BB,1);F(this,ou,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});F(this,kd,[null,null,null,null]);const i=t.container,r=t.defaultViewport;this.renderingId="page"+this.id,_(this,Qd,t.layerProperties||zge),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||ZW,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,Yv,t.textLayerMode??DA.ENABLE),_(this,Nd,t.annotationMode??LA.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??Rw.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||Rw.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??Rw.get("capCanvasAreaFactor"),_(this,vB,t.enableAutoLinking!==!1),_(this,mB,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new ay),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=i,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,U(this,wt,P_).call(this),i==null||i.append(s),this._isStandalone){i==null||i.style.setProperty("--scale-factor",this.scale*wl.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(i==null||i.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,ou).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var r,s,a,o;this._isStandalone&&(((r=this.pageColors)==null?void 0:r.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const i=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*wl.PDF_TO_CSS_UNITS,rotation:i}),U(this,wt,P_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return $w(this,"_textHighlighter",new Gge({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,Qd).findController}))}_resetCanvas(){super._resetCanvas(),_(this,Wv,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var E,x,I,T,R,P,D;const l=((E=this.pdfPage)==null?void 0:E._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=Kt.INITIAL;const u=this.div,d=u.childNodes,h=t&&((x=this.annotationLayer)==null?void 0:x.div)||null,g=i&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=r&&((T=this.xfaLayer)==null?void 0:T.div)||null,b=s&&((R=this.textLayer)==null?void 0:R.div)||null,C=a&&f(this,Ld)||null;for(let Q=d.length-1;Q>=0;Q--){const H=d[Q];switch(H){case h:case g:case v:case b:case C:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const k=f(this,kd).indexOf(H);k>=0&&(f(this,kd)[k]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),b&&this.textLayer.hide(),(P=this.structTreeLayer)==null||P.hide(),!a&&f(this,Ld)&&(_(this,Ld,null),this._resetCanvas()),o||((D=this.detailView)==null||D.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,yB,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,au)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new Vge({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:i=null,optionalContentConfigPromise:r=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof i=="number"&&(this.rotation=i),r instanceof Promise&&(this._optionalContentConfigPromise=r,r.then(d=>{r===this._optionalContentConfigPromise&&(f(this,ou).initialOptionalContent=d.hasInitialVisibility)})),f(this,ou).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*wl.PDF_TO_CSS_UNITS,rotation:a}),U(this,wt,P_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),U(this,wt,qN).call(this),this.canvas){const d=f(this,jv)&&f(this,au),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==Kt.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=Kt.FINISHED,f(this,ou).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!i||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!r||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,Wv);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,b=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${b})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&U(this,wt,HN).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&U(this,wt,KN).call(this),U(this,wt,VN).call(this)),r&&this.xfaLayer&&U(this,wt,GN).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&U(this,wt,zN).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,i){return this.viewport.convertToPdfPoint(t,i)}_ensureCanvasWrapper(){let t=f(this,Ld);return t||(t=_(this,Ld,document.createElement("div")),t.classList.add("canvasWrapper"),U(this,wt,kg).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,i,r){return{canvas:t,transform:i,viewport:this.viewport,annotationMode:f(this,Nd),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,yB),recordOperations:r}}async draw(){this.renderingState!==Kt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:i,pdfPage:r,viewport:s}=this;if(!r)throw this.renderingState=Kt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Kt.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,Yv)!==DA.DISABLE&&!r.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new kN),this.textLayer=new lT({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,Yv)===DA.ENABLE_PERMISSIONS,onAppend:P=>{this.l10n.pause(),U(this,wt,kg).call(this,P,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,Nd)!==LA.DISABLE){const{annotationStorage:P,annotationEditorUIManager:D,downloadManager:Q,enableComment:H,enableScripting:k,fieldObjectsPromise:K,hasJSActionsPromise:V,linkService:z}=f(this,Qd);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new uY({pdfPage:r,annotationStorage:P,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,Nd)===LA.ENABLE_FORMS,linkService:z,downloadManager:Q,enableComment:H,enableScripting:k,hasJSActionsPromise:V,fieldObjectsPromise:K,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,commentManager:f(this,mB),onAppend:Z=>{U(this,wt,kg).call(this,Z,"annotationLayer")}})}const{width:o,height:l}=s;_(this,Wv,s);const{canvas:u,prevCanvas:d}=this._createCanvas(P=>{a.prepend(P)});u.setAttribute("role","presentation"),this.outputScale||U(this,wt,qN).call(this);const{outputScale:h}=this;_(this,jv,f(this,au));const g=ZK(h.sx),v=ZK(h.sy),b=u.width=$S(jS(o*h.sx),g[0]),C=u.height=$S(jS(l*h.sy),v[0]),E=$S(jS(o),g[1]),x=$S(jS(l),v[1]);h.sx=b/E,h.sy=C/x,f(this,bB)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,bB,g[1])),f(this,CB)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,CB,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,jv)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,R=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},P=>{f(this,ou).regularAnnotations=!P.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var Q;if(this.renderingState!==Kt.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new IY(r,s.rawDims));const P=U(this,wt,zN).call(this);this.annotationLayer&&(await U(this,wt,HN).call(this),f(this,vB)&&this.annotationLayer&&this.textLayer&&await U(this,wt,QY).call(this,P));const{annotationEditorUIManager:D}=f(this,Qd);D&&(this.drawLayer||(this.drawLayer=new Hge({pageIndex:this.id})),await U(this,wt,KN).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,Nd)===LA.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new Qge({uiManager:D,pdfPage:r,l10n:i,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(Q=this.annotationLayer)==null?void 0:Q.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{U(this,wt,kg).call(this,H,"annotationEditorLayer")}})),U(this,wt,VN).call(this)))});if(r.isPureXfa){if(!this.xfaLayer){const{annotationStorage:P,linkService:D}=f(this,Qd);this.xfaLayer=new RY({pdfPage:r,annotationStorage:P,linkService:D})}U(this,wt,GN).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),R}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:i,regularAnnotations:r}=f(this,ou);return t&&i&&r?this.canvas:null}}Nd=new WeakMap,Ld=new WeakMap,mB=new WeakMap,vB=new WeakMap,jv=new WeakMap,yB=new WeakMap,Qd=new WeakMap,au=new WeakMap,Wv=new WeakMap,wB=new WeakMap,bB=new WeakMap,CB=new WeakMap,Yv=new WeakMap,BB=new WeakMap,ou=new WeakMap,kd=new WeakMap,wt=new WeakSet,kg=function(t,i){const r=qge.get(i),s=f(this,kd)[r];if(f(this,kd)[r]=t,s){s.replaceWith(t);return}for(let a=r-1;a>=0;a--){const o=f(this,kd)[a];if(o){o.after(t);return}}this.div.prepend(t)},P_=function(){const{div:t,viewport:i}=this;if(i.userUnit!==f(this,BB)&&(i.userUnit!==1?t.style.setProperty("--user-unit",i.userUnit):t.style.removeProperty("--user-unit"),_(this,BB,i.userUnit)),this.pdfPage){if(f(this,wB)===i.rotation)return;_(this,wB,i.rotation)}JW(t,i,!0,!1)},vw=function(t,i){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:i})},HN=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(i){console.error("#renderAnnotationLayer:",i),t=i}finally{U(this,wt,vw).call(this,"annotationlayerrendered",t)}},VN=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(i){console.error("#renderAnnotationEditorLayer:",i),t=i}finally{U(this,wt,vw).call(this,"annotationeditorlayerrendered",t)}},KN=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},GN=async function(){var i;let t=null;try{const r=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});r!=null&&r.textDivs&&this._textHighlighter&&U(this,wt,LY).call(this,r.textDivs)}catch(r){console.error("#renderXfaLayer:",r),t=r}finally{(i=this.xfaLayer)!=null&&i.div&&(this.l10n.pause(),U(this,wt,kg).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),U(this,wt,vw).call(this,"xfalayerrendered",t)}},zN=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(i){if(i instanceof zhe)return;console.error("#renderTextLayer:",i),t=i}U(this,wt,vw).call(this,"textlayerrendered",t),U(this,wt,NY).call(this)},NY=async function(){var i,r,s;if(!this.textLayer)return;const t=await((i=this.structTreeLayer)==null?void 0:i.render());t&&(this.l10n.pause(),(r=this.structTreeLayer)==null||r.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},LY=async function(t){const i=await this.pdfPage.getTextContent(),r=[];for(const s of i.items)r.push(s.str);this._textHighlighter.setTextMapping(t,r),this._textHighlighter.enable()},QY=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(DN.processLinks(this))}catch(i){console.error("#injectLinkAnnotations:",i)}},qN=function(){const{width:t,height:i}=this.viewport,r=this.outputScale=new S_;if(this.maxCanvasPixels===0){const s=1/this.scale;r.sx*=s,r.sy*=s,_(this,au,!0)}else if(_(this,au,r.limitCanvas(t,i,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,au)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;r.sx/=s,r.sy/=s}};async function $ge(n){const{info:i,metadata:r,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...i,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||Yhe(""),metadata:r==null?void 0:r.getRaw(),authors:r==null?void 0:r.get("dc:creator"),numPages:n.numPages,URL:""}}class jge{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var RA,lp,EB,up,cp,SB,ss,Au,Xv,Vi,ro,ur,kY,R_,$N,OY,yw;class Wge{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){F(this,ur);F(this,RA,null);F(this,lp,null);F(this,EB,null);F(this,up,null);F(this,cp,null);F(this,SB,null);F(this,ss,null);F(this,Au,null);F(this,Xv,!1);F(this,Vi,null);F(this,ro,null);_(this,cp,e),_(this,SB,t),_(this,EB,i)}setViewer(e){_(this,Au,e)}async setDocument(e){var o;if(f(this,ss)&&await U(this,ur,yw).call(this),_(this,ss,e),!e)return;const[t,i,r]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!r){await U(this,ur,yw).call(this);return}if(e!==f(this,ss))return;try{_(this,Vi,U(this,ur,OY).call(this))}catch(l){console.error("setDocument:",l),await U(this,ur,yw).call(this);return}const s=f(this,cp);_(this,up,new AbortController);const{signal:a}=f(this,up);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&U(this,ur,kY).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,Vi))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(U(this,ur,$N).call(this,u),U(this,ur,R_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,Au).currentPageNumber&&U(this,ur,R_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await U(this,ur,$N).call(this,f(this,Au).currentPageNumber),await((l=f(this,Vi))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,RA))==null||u.resolve()},{signal:a});try{const l=await f(this,EB).call(this,e);if(e!==f(this,ss))return;await f(this,Vi).createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:r}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await U(this,ur,yw).call(this);return}await((o=f(this,Vi))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await U(this,ur,R_).call(this,f(this,Au).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,ss)&&_(this,Xv,!0)})}async dispatchWillSave(){var e;return(e=f(this,Vi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,Vi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,Vi)){await((e=f(this,ro))==null?void 0:e.promise),_(this,ro,Promise.withResolvers());try{await f(this,Vi).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,ro).resolve(),_(this,ro,null),t}await f(this,ro).promise}}async dispatchDidPrint(){var e;return(e=f(this,Vi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,lp))==null?void 0:e.promise)||null}get ready(){return f(this,Xv)}get _pageOpenPending(){return $w(this,"_pageOpenPending",new Set)}get _visitedPages(){return $w(this,"_visitedPages",new Map)}}RA=new WeakMap,lp=new WeakMap,EB=new WeakMap,up=new WeakMap,cp=new WeakMap,SB=new WeakMap,ss=new WeakMap,Au=new WeakMap,Xv=new WeakMap,Vi=new WeakMap,ro=new WeakMap,ur=new WeakSet,kY=async function(e){var u,d;const t=f(this,Au),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:r,siblings:s,command:a,value:o}=e;if(!r){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!i){const h=fpe(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,cp).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":i||(t.currentScaleValue=o);break;case"SaveAs":f(this,cp).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,ro))==null||u.resolve(),_(this,ro,null);break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;const l=s?[r,...s]:[r];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,ss))==null||d.annotationStorage.setValue(h,e)}},R_=async function(e,t=!1){const i=f(this,ss),r=this._visitedPages;if(t&&_(this,RA,Promise.withResolvers()),!f(this,RA))return;const s=f(this,Au).getPageView(e-1);if((s==null?void 0:s.renderingState)!==Kt.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(r.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());i===f(this,ss)&&await((u=f(this,Vi))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();r.set(e,a)},$N=async function(e){var s;const t=f(this,ss),i=this._visitedPages;if(!f(this,RA)||this._pageOpenPending.has(e))return;const r=i.get(e);r&&(i.set(e,null),await r,t===f(this,ss)&&await((s=f(this,Vi))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},OY=function(){if(_(this,lp,Promise.withResolvers()),f(this,Vi))throw new Error("#initScripting: Scripting already exists.");return f(this,SB).createScripting()},yw=async function(){var e,t,i,r;if(!f(this,Vi)){_(this,ss,null),(e=f(this,lp))==null||e.resolve();return}f(this,RA)&&(await Promise.race([f(this,RA).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,RA,null)),_(this,ss,null);try{await f(this,Vi).destroySandbox()}catch{}(t=f(this,ro))==null||t.reject(new Error("Scripting destroyed.")),_(this,ro,null),(i=f(this,up))==null||i.abort(),_(this,up,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,Vi,null),_(this,Xv,!1),(r=f(this,lp))==null||r.resolve()};class Yge extends Wge{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new jge(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>$ge(t)),super(e)}}const Xge=3e4;class Jge{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Xge)))}getHighestPriority(e,t,i,r=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,b=u-l;v<b;v++){const C=i?l+v:u-v;if(g.has(C))continue;const E=t[C-1];if(!this.isViewFinished(E))return E}}let d=i?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||r&&(d+=i?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===Kt.FINISHED}renderView(e){switch(e.renderingState){case Kt.FINISHED:return!1;case Kt.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Kt.RUNNING:this.highestPriorityPage=e.renderingId;break;case Kt.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof gN||console.error("renderView:",t)});break}return!0}}const SG=10,XS={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function xG(n){return Object.values(Bs).includes(n)&&n!==Bs.DISABLE}var lu,dp,xB,jN;class Zge{constructor(e){F(this,xB);F(this,lu,new Set);F(this,dp,0);_(this,dp,e)}push(e){const t=f(this,lu);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,dp)&&U(this,xB,jN).call(this)}resize(e,t=null){_(this,dp,e);const i=f(this,lu);if(t){const r=i.size;let s=1;for(const a of i)if(t.has(a.id)&&(i.delete(a),i.add(a)),++s>r)break}for(;i.size>f(this,dp);)U(this,xB,jN).call(this)}has(e){return f(this,lu).has(e)}[Symbol.iterator](){return f(this,lu).keys()}}lu=new WeakMap,dp=new WeakMap,xB=new WeakSet,jN=function(){const e=f(this,lu).keys().next().value;e==null||e.destroy(),f(this,lu).delete(e)};var uu,_B,TB,so,pa,fp,hp,IB,FB,MB,UB,PB,RB,DB,NB,Od,LB,Jv,cu,Oo,pp,gp,Zv,Hd,ey,QB,ty,mp,du,ny,kB,iy,OB,Je,HY,VY,KY,ww,D_,GY,WN,zY,Bc,YN,qY,$Y,jY,XN,WY,JN,N_,ZN;class YQ{constructor(e){F(this,Je);F(this,uu,null);F(this,_B,null);F(this,TB,null);F(this,so,Bs.NONE);F(this,pa,null);F(this,fp,LA.ENABLE_FORMS);F(this,hp,null);F(this,IB,null);F(this,FB,null);F(this,MB,!1);F(this,UB,!1);F(this,PB,!1);F(this,RB,!1);F(this,DB,!1);F(this,NB,!0);F(this,Od,null);F(this,LB,0);F(this,Jv,null);F(this,cu,!0);F(this,Oo,null);F(this,pp,null);F(this,gp,null);F(this,Zv,!1);F(this,Hd,null);F(this,ey,!1);F(this,QB,0);F(this,ty,new ResizeObserver(U(this,Je,WY).bind(this)));F(this,mp,null);F(this,du,null);F(this,ny,null);F(this,kB,!0);F(this,iy,DA.ENABLE);F(this,OB,null);var r,s;const t="5.4.449";if(jK!==t)throw new Error(`The API version "${jK}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,OB,e.viewerAlert||null),((r=this.container)==null?void 0:r.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,ty).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new jQ,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,_B,e.altTextManager||null),_(this,hp,e.commentManager||null),_(this,ny,e.signatureManager||null),_(this,FB,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,iy,e.textLayerMode??DA.ENABLE),_(this,fp,e.annotationMode??LA.ENABLE_FORMS),_(this,so,e.annotationEditorMode??Bs.NONE),_(this,TB,e.annotationEditorHighlightColors||null),_(this,UB,e.enableHighlightFloatingButton===!0),_(this,RB,e.enableUpdatedAddImage===!0),_(this,DB,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new ay),_(this,PB,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,Jv,e.mlManager||null),_(this,MB,e.enableHWA||!1),_(this,kB,e.supportsPinchToZoom!==!1),_(this,NB,e.enableAutoLinking!==!1),_(this,LB,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Jge,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i==null||i.addEventListener("abort",()=>{f(this,ty).disconnect(),_(this,ty,null)},{once:!0}),this.scroll=ape(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=im.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),U(this,Je,XN).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,uu).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,cu)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,uu))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,fp)===LA.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var r;if(this._currentPageNumber===e)return t&&U(this,Je,YN).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((r=this._pageLabels)==null?void 0:r[e-1])??null,previous:i}),t&&U(this,Je,YN).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==hU?this._currentScale:ZW}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&U(this,Je,Bc).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&U(this,Je,Bc).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!tY(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&U(this,Je,Bc).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return $w(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,pa)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,hp)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let i=1,r=this.pdfDocument.numPages;i<=r;++i){if(f(this,ey))return null;t.length=0;const s=await this.pdfDocument.getPage(i),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(Pw(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,b;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(b=f(this,pa))==null||b.destroy(),_(this,pa,null),_(this,so,Bs.NONE),_(this,cu,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),r=e.getOptionalContentConfig({intent:"display"}),s=f(this,PB)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,Od,new AbortController);const{signal:u}=f(this,Od);if(t>XS.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const C=this._scrollMode=Dt.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:C})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=C=>{const E=this._pages[C.pageNumber-1];E&&f(this,uu).push(E)};a._on("pagerender",d,{signal:u});const h=C=>{C.cssTransform||C.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:C.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([i,s]).then(([C,E])=>{var Q;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(C),this._optionalContentConfigPromise=r;const{annotationEditorMode:x,annotationMode:I,textLayerMode:T}=U(this,Je,HY).call(this,E);if(T!==DA.DISABLE){const H=_(this,Hd,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(x!==Bs.DISABLE){const H=x;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):xG(H)?(_(this,pa,new $he(this.container,l,f(this,OB),f(this,_B),f(this,hp),f(this,ny),a,e,o,f(this,TB),f(this,UB),f(this,RB),f(this,DB),f(this,Jv),f(this,FB),f(this,kB))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,pa)}),H!==Bs.NONE&&(U(this,Je,ZN).call(this,H),f(this,pa).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const R=this._scrollMode===Dt.PAGE?null:l,P=this.currentScale,D=C.getViewport({scale:P*wl.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",D.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const k=new DY({container:R,eventBus:a,id:H,scale:P,defaultViewport:D.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,MB),enableAutoLinking:f(this,NB),minDurationToUpdateCanvas:f(this,LB),commentManager:f(this,hp)});this._pages.push(k)}(Q=this._pages[0])==null||Q.setPdfPage(C),this._scrollMode===Dt.PAGE?U(this,Je,ww).call(this):this._spreadMode!==qr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,pa)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,so)})},{once:!0,signal:u}),U(this,Je,VY).call(this,u).then(async()=>{var k,K;if(e!==this.pdfDocument)return;if((k=this.findController)==null||k.setDocument(e),(K=this._scriptingManager)==null||K.setDocument(e),f(this,Hd)&&document.addEventListener("copy",U(this,Je,KY).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>XS.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let V=2;V<=t;++V){const z=e.getPage(V).then(Z=>{const ne=this._pages[V-1];ne.pdfPage||ne.setPdfPage(Z),--H===0&&this._pagesCapability.resolve()},Z=>{console.error(`Unable to get page ${V} to initialize viewer`,Z),--H===0&&this._pagesCapability.resolve()});V%XS.PAUSE_EAGER_PAGE_INIT===0&&await z}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(C=>{console.error("Unable to initialize viewer",C),this._pagesCapability.reject(C)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let i=0,r=this._pages.length;i<r;i++)this._pages[i].setPageLabel(((t=this._pageLabels)==null?void 0:t[i])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=hU,this._currentScaleValue=null,this._pageLabels=null,_(this,uu,new Zge(SG)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=Dt.VERTICAL,this._previousScrollMode=Dt.UNKNOWN,this._spreadMode=qr.NONE,_(this,mp,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,Od))==null||e.abort(),_(this,Od,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,Hd))==null||t.remove(),_(this,Hd,null),U(this,Je,JN).call(this),U(this,Je,N_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,Oo)&&clearTimeout(f(this,Oo)),_(this,Oo,setTimeout(()=>{_(this,Oo,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,b=(v?a.height:a.width)/a.scale/wl.PDF_TO_CSS_UNITS,C=(v?a.width:a.height)/a.scale/wl.PDF_TO_CSS_UNITS;let E=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],E=t[4],o=o!==null?o:0,l=l!==null?l:C;break;case"Fit":case"FitB":E="page-fit";break;case"FitH":case"FitBH":l=t[2],E="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=C);break;case"FitV":case"FitBV":o=t[2],u=b,d=C,E="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let R=YK,P=XK;this.removePageBorders&&(R=P=0),h=(this.container.clientWidth-R)/u/wl.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-P)/d/wl.PDF_TO_CSS_UNITS,E=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(r||(E&&E!==this._currentScale?this.currentScaleValue=E:this._currentScale===hU&&(this.currentScaleValue=npe)),E==="page-fit"&&!t[4]){U(this,Je,D_).call(this,a);return}const x=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(x[0][0],x[1][0]),T=Math.min(x[0][1],x[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(x[1][1]-x[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(x[1][0]-x[0][0]))/2)):i||(I=Math.max(I,0),T=Math.max(T,0)),U(this,Je,D_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${r},${u},${d}`),this._location={pageNumber:s,scale:r,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;const r=Math.max(SG,2*i+1);f(this,uu).resize(r,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,uu))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===qr.NONE&&(this._scrollMode===Dt.PAGE||this._scrollMode===Dt.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===im.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===im.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===Dt.PAGE?f(this,mp).pages:this._pages,t=this._scrollMode===Dt.HORIZONTAL,i=t&&this._isContainerRtl;return Ape({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==Kt.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=U(this,Je,jY).call(this,t),r=this._spreadMode!==qr.NONE&&this._scrollMode!==Dt.HORIZONTAL,s=f(this,du)!==null||f(this,Oo)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,i,r,s);return a?(U(this,Je,$Y).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),r=eG(i);if(e===void 0)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!lpe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>XS.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===Dt.HORIZONTAL),i.classList.toggle("scrollWrapped",t===Dt.WRAPPED),!(!this.pdfDocument||!e)&&(t===Dt.PAGE?U(this,Je,ww).call(this):this._previousScrollMode===Dt.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,Je,Bc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!upe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===Dt.PAGE)U(this,Je,ww).call(this);else if(t.textContent="",this._spreadMode===qr.NONE)for(const r of this._pages)t.append(r.div);else{const r=this._spreadMode-1;let s=null;for(let a=0,o=i.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,Je,Bc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case Dt.WRAPPED:{const{views:i}=this._getVisiblePages(),r=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of i){if(o===0||l<100)continue;let u=r.get(a);u||r.set(a,u||(u=[])),u.push(s)}for(const s of r.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case Dt.HORIZONTAL:break;case Dt.PAGE:case Dt.VERTICAL:{if(this._spreadMode===qr.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of r)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){const a=i>0?WK:1/WK,o=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=o((s*a).toFixed(2)*10)/10;while(--i>0)}s=zQ(s,ipe,rpe),U(this,Je,Bc).call(this,s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,IB)||_(this,IB,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,pa)?f(this,so):Bs.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1,mustEnterInEditMode:r=!1,editComment:s=!1}){if(!f(this,pa))throw new Error("The AnnotationEditor is not enabled.");if(f(this,so)===e)return;if(!xG(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;U(this,Je,ZN).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{U(this,Je,N_).call(this),_(this,so,e),await f(this,pa).updateMode(e,t,i,r,s),!(e!==f(this,so)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===Bs.NONE||f(this,so)===Bs.NONE){const u=e!==Bs.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=U(this,Je,qY).call(this);if(u&&d){U(this,Je,N_).call(this),_(this,pp,new AbortController);const h=AbortSignal.any([f(this,Od).signal,f(this,pp).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,gp,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);U(this,Je,JN).call(this),e||this.update()}}}uu=new WeakMap,_B=new WeakMap,TB=new WeakMap,so=new WeakMap,pa=new WeakMap,fp=new WeakMap,hp=new WeakMap,IB=new WeakMap,FB=new WeakMap,MB=new WeakMap,UB=new WeakMap,PB=new WeakMap,RB=new WeakMap,DB=new WeakMap,NB=new WeakMap,Od=new WeakMap,LB=new WeakMap,Jv=new WeakMap,cu=new WeakMap,Oo=new WeakMap,pp=new WeakMap,gp=new WeakMap,Zv=new WeakMap,Hd=new WeakMap,ey=new WeakMap,QB=new WeakMap,ty=new WeakMap,mp=new WeakMap,du=new WeakMap,ny=new WeakMap,kB=new WeakMap,iy=new WeakMap,OB=new WeakMap,Je=new WeakSet,HY=function(e){const t={annotationEditorMode:f(this,so),annotationMode:f(this,fp),textLayerMode:f(this,iy)};return e?(_(this,cu,e.includes(yg.PRINT_HIGH_QUALITY)||e.includes(yg.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,cu)}),!e.includes(yg.COPY)&&f(this,iy)===DA.ENABLE&&(t.textLayerMode=DA.ENABLE_PERMISSIONS),e.includes(yg.MODIFY_CONTENTS)||(t.annotationEditorMode=Bs.DISABLE),!e.includes(yg.MODIFY_ANNOTATIONS)&&!e.includes(yg.FILL_INTERACTIVE_FORMS)&&f(this,fp)===LA.ENABLE_FORMS&&(t.annotationMode=LA.ENABLE),t):(_(this,cu,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,cu)}),t)},VY=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,i.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()},KY=function(e,t){const i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(f(this,Hd))){if(f(this,Zv)||e===DA.ENABLE_PERMISSIONS){mN(t);return}_(this,Zv,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,ey,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,Zv,!1),_(this,ey,!1),o.abort(),a.remove("copyAll")}),mN(t)}},ww=function(){if(this._scrollMode!==Dt.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,mp),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===qr.NONE&&!this.isInPresentationMode){const r=this._pages[e-1];i.append(r.div),t.pages.push(r)}else{const r=new Set,s=this._spreadMode-1;s===-1?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of r){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}i.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},D_=function(e,t=null){const{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===Dt.PAGE&&(U(this,Je,ww).call(this),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,a=s+i.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===Dt.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}eY(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},GY=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},WN=function(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),U(this,Je,GY).call(this,e)){r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*wl.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,du,setTimeout(()=>{_(this,du,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!i){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()},zY=function(){return this._spreadMode!==qr.NONE&&this._scrollMode!==Dt.HORIZONTAL?2:1},Bc=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,U(this,Je,WN).call(this,i,e,t);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;let s=YK,a=XK;this.isInPresentationMode?(s=a=4,this._spreadMode!==qr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===Dt.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/r.width*r.scale/f(this,Je,zY),l=(this.container.clientHeight-a)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=l;break;case"page-fit":i=Math.min(o,l);break;case"auto":const u=eG(r)?o:Math.min(l,o);i=Math.min(spe,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,U(this,Je,WN).call(this,i,e,t)}},YN=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&U(this,Je,Bc).call(this,this._currentScaleValue,{noScroll:!0}),U(this,Je,D_).call(this,e)},qY=function(){const e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(const s of r){const{view:a}=s;if(!a.hasEditableAnnotations()){i.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)},$Y=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},jY=function(e){var t,i;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((i=e.last)==null?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case Dt.PAGE:return f(this,mp).scrollDown;case Dt.HORIZONTAL:return this.scroll.right}return this.scroll.down},XN=function(e=this.container.clientHeight){e!==f(this,QB)&&(_(this,QB,e),cpe.setProperty("--viewer-container-height",`${e}px`))},WY=function(e){for(const t of e)if(t.target===this.container){U(this,Je,XN).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,IB,null);break}},JN=function(){f(this,du)!==null&&(clearTimeout(f(this,du)),_(this,du,null)),f(this,Oo)!==null&&(clearTimeout(f(this,Oo)),_(this,Oo,null))},N_=function(){var e;(e=f(this,pp))==null||e.abort(),_(this,pp,null),f(this,gp)!==null&&(clearTimeout(f(this,gp)),_(this,gp,null))},ZN=function(e){var t,i;switch(e){case Bs.STAMP:(t=f(this,Jv))==null||t.loadModel("altText");break;case Bs.SIGNATURE:(i=f(this,ny))==null||i.loadSignatures();break}};class eme extends YQ{_resetView(){super._resetView(),this._scrollMode=Dt.PAGE,this._spreadMode=qr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:uY,DownloadManager:Npe,EventBus:WQ,FindState:Cc,GenericL10n:ay,LinkTarget:Uf,parseQueryString:G1,PDFFindController:Rpe,PDFHistory:Dge,PDFLinkService:$Q,PDFPageView:DY,PDFScriptingManager:Yge,PDFSinglePageViewer:eme,PDFViewer:YQ,ProgressBar:dpe,RenderingStates:Kt,ScrollMode:Dt,SimpleLinkService:jQ,SpreadMode:qr,StructTreeLayerBuilder:IY,TextLayerBuilder:lT,XfaLayerBuilder:RY};fu.workerSrc=`https://unpkg.com/pdfjs-dist@${Vj}/build/pdf.worker.mjs`;const tme=({file:n,onPageChange:e,onPagesCount:t,registerGoToPage:i})=>{const r=M.useRef(null),s=M.useRef(null),a=M.useRef(null),o=M.useRef(new Map),l=M.useRef(null),{addHighlight:u,highlights:d,activeHighlightId:h,triggerSmartExplain:g,setPdfTextPages:v,pdfSearchHighlight:b,drawingMode:C,penColor:E,penWidth:x,penOpacity:I,chapterStrokes:T,addStroke:R,removeStroke:P,showAnnotations:D}=sf(),Q=typeof navigator<"u"&&navigator.userAgent||"",H=/iP(hone|od|ad)/.test(Q)&&/Safari/i.test(Q)&&!/Chrome/i.test(Q)&&!/CriOS/i.test(Q),k=M.useMemo(()=>typeof window>"u"?!1:/Mobi|Android|iP(hone|od|ad)/i.test(Q)||window.innerWidth<=1300,[Q]),K=M.useMemo(()=>{},[]),V=M.useRef(null),[z,Z]=M.useState(!0),[ne,de]=M.useState(null),[G,$]=M.useState(""),re=M.useRef(null),[ae,Ee]=M.useState([]),[q,Y]=M.useState({text:"",top:0,left:0,show:!1}),[le,ye]=M.useState(0),Be=M.useRef(null),_e=M.useRef(!1),we=M.useRef([]),at=M.useRef(C),se=M.useRef(E),Ne=M.useRef(x),$e=M.useRef(I),me=M.useRef(T),Nt=M.useRef(D);M.useEffect(()=>{at.current=C},[C]),M.useEffect(()=>{se.current=E},[E]),M.useEffect(()=>{Ne.current=x},[x]),M.useEffect(()=>{$e.current=I},[I]),M.useEffect(()=>{me.current=T},[T]),M.useEffect(()=>{Nt.current=D},[D]);const Xe=()=>{Be.current===null&&(Be.current=requestAnimationFrame(()=>{Be.current=null,ai(),Yr(),Bt(),Le()}))};M.useEffect(()=>{Ee(ve=>ve.filter(Ce=>d.some(ke=>ke.id===Ce.id)))},[d]),M.useEffect(()=>{if(!s.current||!r.current)return;const ve=()=>{var Se;(Se=s.current)==null||Se.querySelectorAll('.textLayer span[role="presentation"]').forEach(Ct=>{const Ot=Ct;Ot.dataset.origText!==void 0&&(Ot.textContent=Ot.dataset.origText,delete Ot.dataset.origText)})};if(!b){ve();return}ve();let Ce=!1,ke=null,Ue=0;const ze=10,qe=Se=>{const Ct=Array.from(Se.querySelectorAll("span"));return Ct.length===0?!1:Ct.some(Ot=>{const Zt=Ot;return Zt.style.left!==""||Zt.style.top!==""||Zt.style.transform!==""})},et=Se=>{const Ct=Se.querySelector(".pdf_search_hit");if(!Ct||!r.current)return;const Ot=r.current,Zt=Ot.getBoundingClientRect(),bi=Ct.getBoundingClientRect(),Xi=Xt(),oi=(bi.top-Zt.top)/Xi+Ot.scrollTop-40,Ci=(bi.left-Zt.left)/Xi+Ot.scrollLeft-20;Ot.scrollTo({top:Math.max(0,oi),left:Math.max(0,Ci),behavior:"smooth"})},tt=()=>{var bi;const Se=(bi=s.current)==null?void 0:bi.querySelector(`.page[data-page-number="${b.page}"]`),Ct=Se==null?void 0:Se.querySelector(".textLayer");if(!Ct||!qe(Ct))return!1;const Ot=b.term.trim();if(!Ot)return!1;const Zt=new RegExp(Ot.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&"),"gi");return Ct.querySelectorAll('span[role="presentation"]').forEach(Xi=>{const oi=Xi,Ci=oi.textContent||"",Hs=Ci.replace(Zt,Bi=>`<span class="pdf_search_hit">${Bi}</span>`);Hs!==Ci&&(oi.dataset.origText===void 0&&(oi.dataset.origText=Ci),oi.innerHTML=Hs)}),Se&&requestAnimationFrame(()=>et(Se)),!0},ht=()=>{Ce||tt()||Ue<ze&&(Ue+=1,ke=window.setTimeout(ht,150))};return ht(),()=>{Ce=!0,ke!==null&&clearTimeout(ke)}},[b]),M.useEffect(()=>{if(!h||!r.current)return;const ve=ae.find(ze=>ze.id===h);if(!ve||ve.rects.length===0)return;const Ce=ve.rects[0],ke=Math.max(0,Ce.top-40),Ue=Math.max(0,Ce.left-20);r.current.scrollTo({top:ke,left:Ue,behavior:"smooth"})},[h,ae]),M.useEffect(()=>()=>{re.current&&clearTimeout(re.current)},[]),M.useEffect(()=>{if(!r.current||!s.current)return;Ee([]),Y(Se=>({...Se,show:!1})),v([]),t==null||t(0),e==null||e(1),Z(!0),de(null);const ve=new WQ,Ce=new $Q({eventBus:ve}),ke={container:r.current,viewer:s.current,eventBus:ve,linkService:Ce,textLayerMode:2,annotationMode:2,removePageBorders:!0,enableScripting:!1,disableAutoFetch:!1,useOnlyCssZoom:!1};K!==void 0&&(ke.maxCanvasPixels=K);const Ue=new YQ(ke);V.current=Ue;const ze=1,qe=()=>{Xe()};ve.on("pagesinit",()=>{Ue.currentScale=ze,Xe()}),ve.on("pagechanging",Se=>{Se!=null&&Se.pageNumber&&(e==null||e(Se.pageNumber))}),ve.on("pagesloaded",Se=>{Se!=null&&Se.pagesCount&&(t==null||t(Se.pagesCount)),qe()}),ve.on("pagerendered",qe),i==null||i(Se=>{if(!V.current||!V.current.pdfDocument||!V.current.pagesCount)return;const Ct=V.current.pdfDocument.numPages,Ot=Math.min(Math.max(Se,1),Ct);V.current.currentPageNumber=Ot,V.current.scrollPageIntoView({pageNumber:Ot})}),Ce.setViewer(Ue);let et=!1,tt=OQ(n);const ht=window.setTimeout(()=>{et||(console.warn("[PdfViewer] load timeout, cancelling task"),de("PDF   .  ."),Z(!1),tt==null||tt.destroy())},k?2e4:3e4);return tt.promise.then(Se=>{if(et)return;clearTimeout(ht),Z(!1),de(null),Ue.setDocument(Se),Ce.setDocument(Se,null),t==null||t(Se.numPages),(async()=>{if(H)return;const Ot=[];try{for(let Zt=1;Zt<=Se.numPages;Zt++){const oi=(await(await Se.getPage(Zt)).getTextContent()).items.map(Ci=>"str"in Ci?Ci.str:"").join(" ");Ot.push({page:Zt,text:oi})}et||v(Ot)}catch(Zt){console.error("PDF text extraction failed",Zt)}})()}).catch(Se=>{if(!et){if(clearTimeout(ht),(Se==null?void 0:Se.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",Se),de((Se==null?void 0:Se.message)||"PDF  "),Z(!1)}}),()=>{var Se;et=!0,clearTimeout(ht),tt.destroy(),V.current=null,(Se=ve.off)==null||Se.call(ve,"pagerendered",qe),o.current.forEach(({layer:Ct})=>Ct.remove()),o.current.clear(),l.current=null,Be.current!==null&&(cancelAnimationFrame(Be.current),Be.current=null)}},[n,e,t,i,v,H,k]);const Xt=()=>{if(!a.current)return 1;const ve=getComputedStyle(a.current).getPropertyValue("--visual-scale"),Ce=parseFloat(ve);return Number.isFinite(Ce)?Ce:1},kt=ve=>{const ke=ve.target.closest(".page");if(!ke)return null;const Ue=Number(ke.dataset.pageNumber);return Ue?{pageEl:ke,pageNumber:Ue}:null},si=ve=>s.current?s.current.querySelector(`.page[data-page-number="${ve}"]`):null,ot=(ve,Ce,ke)=>{const Ue=ve.getBoundingClientRect(),ze=window.devicePixelRatio||1,qe=Xt(),et=Ue.width/qe,tt=Ue.height/qe;!et||!tt||[Ce,ke].forEach(ht=>{ht.width=et*ze,ht.height=tt*ze,ht.style.width="100%",ht.style.height="100%";const Se=ht.getContext("2d");Se&&(Se.setTransform(1,0,0,1,0,0),Se.scale(ze,ze))})},ai=()=>{var ze;if(!s.current||!r.current)return;const ve=r.current.getBoundingClientRect(),Ce=800,ke=Array.from(s.current.querySelectorAll(".page")).filter(qe=>{const et=qe.getBoundingClientRect();return et.bottom>=ve.top-Ce&&et.top<=ve.bottom+Ce}),Ue=new Set;ke.forEach(qe=>{const et=Number(qe.dataset.pageNumber);if(!et)return;Ue.add(et);let tt=qe.querySelector(".pdf_pen_page_layer"),ht=null,Se=null;tt?(ht=tt.querySelector(".pdf_pen_page_canvas:not(.pdf_pen_page_canvas_live)"),Se=tt.querySelector(".pdf_pen_page_canvas_live"),Se&&!Se.dataset.penBound&&(Se.addEventListener("pointerdown",xe),Se.addEventListener("pointermove",J),Se.addEventListener("pointerup",be),Se.addEventListener("pointerleave",be),Se.dataset.penBound="1")):(tt=document.createElement("div"),tt.className="pdf_pen_page_layer",ht=document.createElement("canvas"),ht.className="pdf_pen_page_canvas",ht.setAttribute("aria-hidden","true"),Se=document.createElement("canvas"),Se.className="pdf_pen_page_canvas pdf_pen_page_canvas_live",Se.addEventListener("pointerdown",xe),Se.addEventListener("pointermove",J),Se.addEventListener("pointerup",be),Se.addEventListener("pointerleave",be),Se.dataset.penBound="1",tt.appendChild(ht),tt.appendChild(Se),qe.appendChild(tt)),!(!tt||!ht||!Se)&&(o.current.set(et,{layer:tt,staticCanvas:ht,liveCanvas:Se}),ot(qe,ht,Se))});for(const[qe,et]of o.current.entries())Ue.has(qe)||((ze=et.layer)==null||ze.remove(),o.current.delete(qe))},Yr=()=>{const ve=at.current!=="idle";o.current.forEach(({liveCanvas:Ce})=>{Ce.style.pointerEvents=ve?"auto":"none",Ce.style.touchAction=ve?"none":"auto",Ce.style.cursor=ve?"crosshair":"default"})},Jt=(ve,Ce)=>ve.pageNumber===void 0?Ce===1:ve.pageNumber===Ce,Os=(ve,Ce)=>{const ke=Ce.getBoundingClientRect(),Ue=Xt(),ze=(ve.clientX-ke.left)/Ue,qe=(ve.clientY-ke.top)/Ue;return{x:ze,y:qe}},xe=ve=>{if(at.current==="idle")return;const Ce=kt(ve);if(!Ce)return;const{pageEl:ke,pageNumber:Ue}=Ce;ve.target.setPointerCapture(ve.pointerId);const ze=Os(ve,ke);ze&&(l.current=Ue,_e.current=!0,we.current=[ze],Le())},J=ve=>{var ze;if(at.current==="idle"||ve.buttons===0&&!_e.current)return;const Ce=l.current||((ze=kt(ve))==null?void 0:ze.pageNumber)||null;if(!Ce)return;const ke=si(Ce);if(!ke)return;ve.preventDefault();const Ue=Os(ve,ke);Ue&&(at.current==="pen"?(_e.current=!0,l.current=Ce,we.current.length===0?we.current=[Ue]:we.current.push(Ue),Le()):at.current==="eraser"&&(me.current["pdf-main"]||[]).filter(et=>Jt(et,Ce)).forEach(et=>{et.points.some(ht=>Math.hypot(ht.x-Ue.x,ht.y-Ue.y)<16)&&P("pdf-main",et.id)}))},be=ve=>{var Ue;if(!_e.current&&at.current!=="eraser")return;const Ce=ve.target;(Ue=Ce.hasPointerCapture)!=null&&Ue.call(Ce,ve.pointerId)&&Ce.releasePointerCapture(ve.pointerId);const ke=l.current;if(at.current==="pen"&&ke&&we.current.length>1){const ze={id:Date.now().toString(),points:we.current,color:se.current,width:Ne.current,opacity:$e.current,pageNumber:ke};R("pdf-main",ze)}_e.current=!1,we.current=[],l.current=null,Le()},Me=(ve,Ce,ke,Ue,ze)=>{if(!(Ce.length<2)){ve.beginPath(),ve.lineWidth=Ue,ve.strokeStyle=ke,ve.lineCap="round",ve.lineJoin="round",ve.globalAlpha=ze,ve.moveTo(Ce[0].x,Ce[0].y);for(let qe=1;qe<Ce.length-1;qe++){const et={x:(Ce[qe].x+Ce[qe+1].x)/2,y:(Ce[qe].y+Ce[qe+1].y)/2};ve.quadraticCurveTo(Ce[qe].x,Ce[qe].y,et.x,et.y)}ve.lineTo(Ce[Ce.length-1].x,Ce[Ce.length-1].y),ve.stroke(),ve.globalAlpha=1}},Bt=()=>{o.current.forEach(({staticCanvas:ve},Ce)=>{const ke=ve.getContext("2d");if(!ke||(ke.save(),ke.setTransform(1,0,0,1,0,0),ke.clearRect(0,0,ve.width,ve.height),ke.restore(),!Nt.current))return;(me.current["pdf-main"]||[]).filter(ze=>Jt(ze,Ce)).forEach(ze=>Me(ke,ze.points,ze.color,ze.width||3,ze.opacity??1))})},Le=()=>{if(o.current.forEach(({liveCanvas:Ue})=>{const ze=Ue.getContext("2d");ze&&(ze.save(),ze.setTransform(1,0,0,1,0,0),ze.clearRect(0,0,Ue.width,Ue.height),ze.restore())}),at.current!=="pen"||we.current.length===0)return;const ve=l.current;if(!ve)return;const Ce=o.current.get(ve);if(!Ce)return;const ke=Ce.liveCanvas.getContext("2d");if(ke){if(we.current.length===1){const Ue=we.current[0];ke.beginPath(),ke.fillStyle=se.current,ke.globalAlpha=$e.current,ke.arc(Ue.x,Ue.y,Ne.current/2,0,Math.PI*2),ke.fill(),ke.globalAlpha=1;return}Me(ke,we.current,se.current,Ne.current,$e.current)}};M.useEffect(()=>{ai(),Yr(),Bt()},[C,D]),M.useEffect(()=>{Bt()},[T]),M.useEffect(()=>{Le()},[C,E,x,I]),M.useEffect(()=>{const ve=new ResizeObserver(()=>{Xe(),ye(ke=>ke+1)});s.current&&ve.observe(s.current),r.current&&ve.observe(r.current);const Ce=()=>ye(ke=>ke+1);return window.addEventListener("resize",Ce),()=>{ve.disconnect(),window.removeEventListener("resize",Ce)}},[]);const vn=async()=>{var Ce;re.current&&clearTimeout(re.current);const ve=((Ce=window.getSelection())==null?void 0:Ce.toString())??"";if(!ve.trim()){$("fail"),re.current=window.setTimeout(()=>$(""),1e3);return}try{navigator.clipboard&&navigator.clipboard.writeText?await navigator.clipboard.writeText(ve):document.execCommand("copy"),$("ok")}catch(ke){console.error("copy failed",ke),$("fail")}finally{re.current=window.setTimeout(()=>$(""),1e3)}},qt=1,Yi=ve=>{const Ce=new Map;ve.forEach(ze=>{const qe=Ce.get(ze.pageNumber)??[];qe.push({...ze}),Ce.set(ze.pageNumber,qe)});const ke=1.5,Ue=[];return Ce.forEach(ze=>{const qe=ze;let et=!0;for(;et;){et=!1;for(let tt=0;tt<qe.length;tt++){for(let ht=tt+1;ht<qe.length;ht++){const Se=qe[tt],Ct=qe[ht],Ot=Se.left<=Ct.left+Ct.width+ke&&Se.left+Se.width>=Ct.left-ke,Zt=Se.top<=Ct.top+Ct.height+ke&&Se.top+Se.height>=Ct.top-ke;if(Ot&&Zt){const bi=Math.min(Se.left,Ct.left),Xi=Math.min(Se.top,Ct.top),oi=Math.max(Se.left+Se.width,Ct.left+Ct.width),Ci=Math.max(Se.top+Se.height,Ct.top+Ct.height);qe[tt]={...Se,left:bi,top:Xi,width:oi-bi,height:Ci-Xi},qe.splice(ht,1),et=!0;break}}if(et)break}}Ue.push(...qe)}),Ue},ps=()=>{const ve=window.getSelection();if(!ve||!ve.toString().trim()||!r.current){Y(et=>({...et,show:!1}));return}if(!(r.current.contains(ve.anchorNode)&&r.current.contains(ve.focusNode))){Y(et=>({...et,show:!1}));return}const Ue=ve.getRangeAt(0).getBoundingClientRect();let ze=Ue.top-50,qe=Ue.left+Ue.width/2-80;ze<8&&(ze=Ue.bottom+8),qe<8&&(qe=8),qe+180>window.innerWidth&&(qe=window.innerWidth-200),Y({text:ve.toString(),top:ze,left:qe,show:!0})},Xr=()=>{C==="idle"&&setTimeout(ps,10)},yi=()=>{var bi,Xi,oi,Ci,Hs;const ve=window.getSelection();if(!ve||!ve.toString().trim()||!r.current||!a.current){Y(Bi=>({...Bi,show:!1}));return}const Ce=ve.getRangeAt(0),Ue=((Xi=(bi=Ce.startContainer)==null?void 0:bi.closest)==null?void 0:Xi.call(bi,".page"))||((Hs=(Ci=(oi=Ce.startContainer)==null?void 0:oi.parentElement)==null?void 0:Ci.closest)==null?void 0:Hs.call(Ci,".page")),ze=Ue?Number(Ue.dataset.pageNumber):null;if(!Ue||!ze){Y(Bi=>({...Bi,show:!1}));return}r.current.getBoundingClientRect(),r.current.scrollLeft,r.current.scrollTop;const qe=Ue.getBoundingClientRect(),et=getComputedStyle(a.current).getPropertyValue("--visual-scale"),tt=parseFloat(et)||1,ht=.5,Se=1,Ct=Array.from(Ce.getClientRects()).map(Bi=>({left:(Bi.left-qe.left)/tt,top:(Bi.top-qe.top)/tt-ht/Math.max(tt,1e-4),width:Bi.width/tt,height:Math.max(Bi.height/tt-Se,1),pageNumber:ze,pageWidth:qe.width/tt,pageHeight:qe.height/tt})),Ot=u(ve.toString(),void 0,"reference-doc"),Zt=Yi(Ct);Ee(Bi=>[...Bi,{id:Ot,rects:Zt}]),Y(Bi=>({...Bi,show:!1})),ve.removeAllRanges()},Ta=()=>{var ve;(ve=window.getSelection())==null||ve.removeAllRanges(),Y(Ce=>({...Ce,show:!1}))},wi=()=>{var ve;if(!q.text.trim()){Y(Ce=>({...Ce,show:!1}));return}g(q.text),Y(Ce=>({...Ce,show:!1})),(ve=window.getSelection())==null||ve.removeAllRanges()};return L.jsxs("div",{className:"pdf_viewer",children:[z&&L.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_loading",children:L.jsx("span",{className:"pdf_viewer_overlay_message",children:"PDF  ..."})}),ne&&L.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_error",children:L.jsxs("div",{className:"pdf_viewer_error",children:[L.jsx("div",{className:"pdf_viewer_error_title",children:"PDF  "}),L.jsx("div",{children:ne})]})}),L.jsx("div",{className:"pdf_viewer_scale_wrapper",ref:a,style:{"--visual-scale":qt},children:L.jsxs("div",{ref:r,className:"pdf_viewer_container",onPointerUp:Xr,children:[L.jsx("div",{ref:s,className:"pdfViewer pdf_viewer_content"}),L.jsx("div",{className:"pdf_highlight_layer","data-layout-tick":le,children:ae.flatMap(ve=>ve.rects.map((Ce,ke)=>{var oi;const Ue=r.current,ze=(oi=s.current)==null?void 0:oi.querySelector(`.page[data-page-number="${Ce.pageNumber}"]`);if(!Ue||!ze)return null;const qe=Ue.getBoundingClientRect(),et=ze.getBoundingClientRect(),tt=et.left-qe.left+Ue.scrollLeft,ht=et.top-qe.top+Ue.scrollTop,Se=Ce.pageWidth>0?et.width/Ce.pageWidth:1,Ct=Ce.pageHeight>0?et.height/Ce.pageHeight:1,Ot=tt+Ce.left*Se,Zt=ht+Ce.top*Ct,bi=Ce.width*Se,Xi=Ce.height*Ct;return L.jsx("div",{className:"pdf_highlight","data-highlight-id":ve.id,style:{left:Ot,top:Zt,width:bi,height:Xi}},`${ve.id}-${ke}`)}))})]})}),q.show&&L.jsxs("div",{className:"pdf_selection_menu",style:{top:q.top,left:q.left},children:[(G==="ok"||G==="fail")&&L.jsx("span",{className:`pdf_selection_menu_copy_status ${G==="ok"?"pdf_viewer_copy_status_ok":"pdf_viewer_copy_status_fail"}`,children:G==="ok"?"":" "}),L.jsx("button",{onClick:yi,children:"Highlight"}),L.jsx("div",{className:"pdf_selection_menu_copy_block",children:L.jsx("button",{onClick:vn,children:"Copy"})}),L.jsx("button",{onClick:wi,children:"AI"}),L.jsx("button",{onClick:Ta,children:"Cancel"})]})]})},nme=({pdfPageCount:n,pdfCurrentPage:e,onPdfGoToPage:t})=>{var x;const{chapters:i,currentChapterIndex:r,goToNextChapter:s,goToPrevChapter:a,goToChapter:o}=sf(),l=!!t&&(n||0)>0,u=l?n||1:i.length,d=l?e||1:r+1,h=d-1,g=((x=i[r])==null?void 0:x.title)||(l?"PDF":"Chapter"),[v,b]=M.useState(d.toString());M.useEffect(()=>{b(d.toString())},[d]);const C=I=>{I.preventDefault();const T=parseInt(v);if(isNaN(T)||T<1||T>u){b(d.toString());return}l?t==null||t(T):o(T-1)},E=I=>{const T=parseInt(I.target.value);l?t==null||t(T+1):o(T)};return L.jsxs("div",{className:"navigation_inner",children:[L.jsxs("div",{className:"prograss_bar_wrap",children:[L.jsx("input",{type:"range",min:"0",max:Math.max(u-1,0),value:h,onChange:E,className:"prograss_max"}),L.jsx("div",{className:"prograss_range",style:{width:`${d/u*100}%`},children:L.jsx("div",{className:"prograss_pointer"})})]}),L.jsxs("div",{className:"navigation_bottom_box",children:[L.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.max(1,d-1)):a(),disabled:l?d<=1:r===0,className:`
            ${l?d<=1?"off":"on":r===0?"off":"on"}
          `,children:[L.jsx(Qfe,{size:18}),L.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),L.jsxs("div",{className:"chapter_page",children:[L.jsxs("form",{onSubmit:C,className:"",children:[L.jsx("span",{className:"text_xs",children:"Page"}),L.jsx("input",{type:"text",value:v,onChange:I=>b(I.target.value),className:""}),L.jsxs("span",{className:"slash",children:["/ ",u]})]}),L.jsx("span",{className:"chapter_name",children:g})]}),L.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.min(u,d+1)):s(),disabled:l?d>=u:r===i.length-1,className:`
            ${l?d>=u?"off":"on":r===i.length-1?"off":"on"}
          `,children:[L.jsx("span",{className:"hidden sm:inline",children:"Next"}),L.jsx(Ofe,{size:18})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eL=function(n,e){return eL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},eL(n,e)};function Xo(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eL(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var tL=function(){return tL=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},tL.apply(this,arguments)};function as(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(i.next(d))}catch(h){a(h)}}function l(d){try{u(i.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):r(d.value).then(o,l)}u((i=i.apply(n,[])).next())})}function Gr(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function JS(n,e,t){if(arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||e)}var Iu=(function(){function n(e,t,i,r){this.left=e,this.top=t,this.width=i,this.height=r}return n.prototype.add=function(e,t,i,r){return new n(this.left+e,this.top+t,this.width+i,this.height+r)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(r){return r.width!==0});return i?new n(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),z1=function(n,e){return Iu.fromClientRect(n,e.getBoundingClientRect())},ime=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),r=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Iu(0,0,i,r)},q1=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},gi=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},_G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ZS=0;ZS<_G.length;ZS++)rme[_G.charCodeAt(ZS)]=ZS;var TG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ex=0;ex<TG.length;ex++)bw[TG.charCodeAt(ex)]=ex;var sme=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=bw[n.charCodeAt(i)],a=bw[n.charCodeAt(i+1)],o=bw[n.charCodeAt(i+2)],l=bw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},ame=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},ome=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},vp=5,XQ=11,wU=2,Ame=XQ-vp,YY=65536>>vp,lme=1<<vp,bU=lme-1,ume=1024>>vp,cme=YY+ume,dme=cme,fme=32,hme=dme+fme,pme=65536>>XQ,gme=1<<Ame,mme=gme-1,IG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},vme=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},yme=function(n,e){var t=sme(n),i=Array.isArray(t)?ome(t):new Uint32Array(t),r=Array.isArray(t)?ame(t):new Uint16Array(t),s=24,a=IG(r,s/2,i[4]/2),o=i[5]===2?IG(r,(s+i[4])/2):vme(i,Math.ceil((s+i[4])/4));return new wme(i[0],i[1],i[2],i[3],a,o)},wme=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>vp],t=(t<<wU)+(e&bU),this.data[t];if(e<=65535)return t=this.index[YY+(e-55296>>vp)],t=(t<<wU)+(e&bU),this.data[t];if(e<this.highStart)return t=hme-pme+(e>>XQ),t=this.index[t],t+=e>>vp&mme,t=this.index[t],t=(t<<wU)+(e&bU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),FG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tx=0;tx<FG.length;tx++)bme[FG.charCodeAt(tx)]=tx;var Cme="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",MG=50,Bme=1,XY=2,JY=3,Eme=4,Sme=5,UG=7,ZY=8,PG=9,Kd=10,nL=11,RG=12,iL=13,xme=14,Cw=15,rL=16,nx=17,R0=18,_me=19,DG=20,sL=21,D0=22,CU=23,wg=24,Ws=25,Bw=26,Ew=27,bg=28,Tme=29,Lf=30,Ime=31,ix=32,rx=33,aL=34,oL=35,AL=36,Yw=37,lL=38,L_=39,Q_=40,BU=41,eX=42,Fme=43,Mme=[9001,65288],tX="!",Mt="",sx="",uL=yme(Cme),dl=[Lf,AL],cL=[Bme,XY,JY,Sme],nX=[Kd,ZY],NG=[Ew,Bw],Ume=cL.concat(nX),LG=[lL,L_,Q_,aL,oL],Pme=[Cw,iL],Rme=function(n,e){e===void 0&&(e="strict");var t=[],i=[],r=[];return n.forEach(function(s,a){var o=uL.get(s);if(o>MG?(r.push(!0),o-=MG):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return i.push(a),t.push(rL);if(o===Eme||o===nL){if(a===0)return i.push(a),t.push(Lf);var l=t[a-1];return Ume.indexOf(l)===-1?(i.push(i[a-1]),t.push(l)):(i.push(a),t.push(Lf))}if(i.push(a),o===Ime)return t.push(e==="strict"?sL:Yw);if(o===eX||o===Tme)return t.push(Lf);if(o===Fme)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Yw):t.push(Lf);t.push(o)}),[i,t,r]},EU=function(n,e,t,i){var r=i[t];if(Array.isArray(n)?n.indexOf(r)!==-1:n===r)for(var s=t;s<=i.length;){s++;var a=i[s];if(a===e)return!0;if(a!==Kd)break}if(r===Kd)for(var s=t;s>0;){s--;var o=i[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=i.length;){l++;var a=i[l];if(a===e)return!0;if(a!==Kd)break}if(o!==Kd)break}return!1},QG=function(n,e){for(var t=n;t>=0;){var i=e[t];if(i===Kd)t--;else return i}return 0},Dme=function(n,e,t,i,r){if(t[i]===0)return Mt;var s=i-1;if(Array.isArray(r)&&r[s]===!0)return Mt;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===XY&&d===JY)return Mt;if(cL.indexOf(l)!==-1)return tX;if(cL.indexOf(d)!==-1||nX.indexOf(d)!==-1)return Mt;if(QG(s,e)===ZY)return sx;if(uL.get(n[s])===nL||(l===ix||l===rx)&&uL.get(n[o])===nL||l===UG||d===UG||l===PG||[Kd,iL,Cw].indexOf(l)===-1&&d===PG||[nx,R0,_me,wg,bg].indexOf(d)!==-1||QG(s,e)===D0||EU(CU,D0,s,e)||EU([nx,R0],sL,s,e)||EU(RG,RG,s,e))return Mt;if(l===Kd)return sx;if(l===CU||d===CU)return Mt;if(d===rL||l===rL)return sx;if([iL,Cw,sL].indexOf(d)!==-1||l===xme||u===AL&&Pme.indexOf(l)!==-1||l===bg&&d===AL||d===DG||dl.indexOf(d)!==-1&&l===Ws||dl.indexOf(l)!==-1&&d===Ws||l===Ew&&[Yw,ix,rx].indexOf(d)!==-1||[Yw,ix,rx].indexOf(l)!==-1&&d===Bw||dl.indexOf(l)!==-1&&NG.indexOf(d)!==-1||NG.indexOf(l)!==-1&&dl.indexOf(d)!==-1||[Ew,Bw].indexOf(l)!==-1&&(d===Ws||[D0,Cw].indexOf(d)!==-1&&e[o+1]===Ws)||[D0,Cw].indexOf(l)!==-1&&d===Ws||l===Ws&&[Ws,bg,wg].indexOf(d)!==-1)return Mt;if([Ws,bg,wg,nx,R0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===Ws)return Mt;if([bg,wg].indexOf(g)!==-1)h--;else break}if([Ew,Bw].indexOf(d)!==-1)for(var h=[nx,R0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===Ws)return Mt;if([bg,wg].indexOf(g)!==-1)h--;else break}if(lL===l&&[lL,L_,aL,oL].indexOf(d)!==-1||[L_,aL].indexOf(l)!==-1&&[L_,Q_].indexOf(d)!==-1||[Q_,oL].indexOf(l)!==-1&&d===Q_||LG.indexOf(l)!==-1&&[DG,Bw].indexOf(d)!==-1||LG.indexOf(d)!==-1&&l===Ew||dl.indexOf(l)!==-1&&dl.indexOf(d)!==-1||l===wg&&dl.indexOf(d)!==-1||dl.concat(Ws).indexOf(l)!==-1&&d===D0&&Mme.indexOf(n[o])===-1||dl.concat(Ws).indexOf(d)!==-1&&l===R0)return Mt;if(l===BU&&d===BU){for(var v=t[s],b=1;v>0&&(v--,e[v]===BU);)b++;if(b%2!==0)return Mt}return l===ix&&d===rx?Mt:sx},Nme=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Rme(n,e.lineBreak),i=t[0],r=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[Ws,Lf,eX].indexOf(o)!==-1?Yw:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[i,r,a]},Lme=(function(){function n(e,t,i,r){this.codePoints=e,this.required=t===tX,this.start=i,this.end=r}return n.prototype.slice=function(){return gi.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),Qme=function(n,e){var t=q1(n),i=Nme(t,e),r=i[0],s=i[1],a=i[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=Mt;u<o&&(d=Dme(t,s,r,++u,a))===Mt;);if(d!==Mt||u===o){var h=new Lme(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},kme=1,Ome=2,XB=4,kG=8,uT=10,OG=47,Dw=92,Hme=9,Vme=32,ax=34,N0=61,Kme=35,Gme=36,zme=37,ox=39,Ax=40,L0=41,qme=95,Ds=45,$me=33,jme=60,Wme=62,Yme=64,Xme=91,Jme=93,Zme=61,eve=123,lx=63,tve=125,HG=124,nve=126,ive=128,VG=65533,SU=42,Hf=43,rve=44,sve=58,ave=59,Xw=46,ove=0,Ave=8,lve=11,uve=14,cve=31,dve=127,oA=-1,iX=48,rX=97,sX=101,fve=102,hve=117,pve=122,aX=65,oX=69,AX=70,gve=85,mve=90,$r=function(n){return n>=iX&&n<=57},vve=function(n){return n>=55296&&n<=57343},Cg=function(n){return $r(n)||n>=aX&&n<=AX||n>=rX&&n<=fve},yve=function(n){return n>=rX&&n<=pve},wve=function(n){return n>=aX&&n<=mve},bve=function(n){return yve(n)||wve(n)},Cve=function(n){return n>=ive},ux=function(n){return n===uT||n===Hme||n===Vme},cT=function(n){return bve(n)||Cve(n)||n===qme},KG=function(n){return cT(n)||$r(n)||n===Ds},Bve=function(n){return n>=ove&&n<=Ave||n===lve||n>=uve&&n<=cve||n===dve},xc=function(n,e){return n!==Dw?!1:e!==uT},cx=function(n,e,t){return n===Ds?cT(e)||xc(e,t):cT(n)?!0:!!(n===Dw&&xc(n,e))},xU=function(n,e,t){return n===Hf||n===Ds?$r(e)?!0:e===Xw&&$r(t):$r(n===Xw?e:n)},Eve=function(n){var e=0,t=1;(n[e]===Hf||n[e]===Ds)&&(n[e]===Ds&&(t=-1),e++);for(var i=[];$r(n[e]);)i.push(n[e++]);var r=i.length?parseInt(gi.apply(void 0,i),10):0;n[e]===Xw&&e++;for(var s=[];$r(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(gi.apply(void 0,s),10):0;(n[e]===oX||n[e]===sX)&&e++;var l=1;(n[e]===Hf||n[e]===Ds)&&(n[e]===Ds&&(l=-1),e++);for(var u=[];$r(n[e]);)u.push(n[e++]);var d=u.length?parseInt(gi.apply(void 0,u),10):0;return t*(r+o*Math.pow(10,-a))*Math.pow(10,l*d)},Sve={type:2},xve={type:3},_ve={type:4},Tve={type:13},Ive={type:8},Fve={type:21},Mve={type:9},Uve={type:10},Pve={type:11},Rve={type:12},Dve={type:14},dx={type:23},Nve={type:1},Lve={type:25},Qve={type:24},kve={type:26},Ove={type:27},Hve={type:28},Vve={type:29},Kve={type:31},dL={type:32},lX=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(q1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==dL;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case ax:return this.consumeStringToken(ax);case Kme:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(KG(t)||xc(i,r)){var s=cx(t,i,r)?Ome:kme,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Gme:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),Tve;break;case ox:return this.consumeStringToken(ox);case Ax:return Sve;case L0:return xve;case SU:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),Dve;break;case Hf:if(xU(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case rve:return _ve;case Ds:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(xU(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(cx(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ds&&u===Wme)return this.consumeCodePoint(),this.consumeCodePoint(),Qve;break;case Xw:if(xU(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case OG:if(this.peekCodePoint(0)===SU)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===SU&&(d=this.consumeCodePoint(),d===OG))return this.consumeToken();if(d===oA)return this.consumeToken()}break;case sve:return kve;case ave:return Ove;case jme:if(this.peekCodePoint(0)===$me&&this.peekCodePoint(1)===Ds&&this.peekCodePoint(2)===Ds)return this.consumeCodePoint(),this.consumeCodePoint(),Lve;break;case Yme:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(cx(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case Xme:return Hve;case Dw:if(xc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Jme:return Vve;case Zme:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),Ive;break;case eve:return Pve;case tve:return Rve;case hve:case gve:var b=this.peekCodePoint(0),C=this.peekCodePoint(1);return b===Hf&&(Cg(C)||C===lx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case HG:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),Mve;if(this.peekCodePoint(0)===HG)return this.consumeCodePoint(),Fve;break;case nve:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),Uve;break;case oA:return dL}return ux(e)?(this.consumeWhiteSpace(),Kve):$r(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):cT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:gi(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Cg(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===lx&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(gi.apply(void 0,e.map(function(l){return l===lx?iX:l})),16),s=parseInt(gi.apply(void 0,e.map(function(l){return l===lx?AX:l})),16);return{type:30,start:r,end:s}}var a=parseInt(gi.apply(void 0,e),16);if(this.peekCodePoint(0)===Ds&&Cg(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Cg(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(gi.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Ax?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ax?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===oA)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===ox||t===ax){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===oA||this.peekCodePoint(0)===L0)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),dx)}for(;;){var r=this.consumeCodePoint();if(r===oA||r===L0)return{type:22,value:gi.apply(void 0,e)};if(ux(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===oA||this.peekCodePoint(0)===L0?(this.consumeCodePoint(),{type:22,value:gi.apply(void 0,e)}):(this.consumeBadUrlRemnants(),dx);if(r===ax||r===ox||r===Ax||Bve(r))return this.consumeBadUrlRemnants(),dx;if(r===Dw)if(xc(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),dx;else e.push(r)}},n.prototype.consumeWhiteSpace=function(){for(;ux(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===L0||e===oA)return;xc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var r=Math.min(t,e);i+=gi.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),i},n.prototype.consumeStringToken=function(e){var t="",i=0;do{var r=this._value[i];if(r===oA||r===void 0||r===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(r===uT)return this._value.splice(0,i),Nve;if(r===Dw){var s=this._value[i+1];s!==oA&&s!==void 0&&(s===uT?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):xc(r,s)&&(t+=this.consumeStringSlice(i),t+=gi(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=XB,i=this.peekCodePoint(0);for((i===Hf||i===Ds)&&e.push(this.consumeCodePoint());$r(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===Xw&&$r(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=kG;$r(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((i===oX||i===sX)&&((r===Hf||r===Ds)&&$r(s)||$r(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=kG;$r(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Eve(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(cx(r,s,a)){var o=this.consumeName();return{type:15,number:t,flags:i,unit:o}}return r===zme?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Cg(e)){for(var t=gi(e);Cg(this.peekCodePoint(0))&&t.length<6;)t+=gi(this.consumeCodePoint());ux(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||vve(i)||i>1114111?VG:i}return e===oA?VG:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(KG(t))e+=gi(t);else if(xc(t,this.peekCodePoint(0)))e+=gi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),uX=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new lX;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||zve(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?dL:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),JB=function(n){return n.type===15},xy=function(n){return n.type===17},mn=function(n){return n.type===20},Gve=function(n){return n.type===0},fL=function(n,e){return mn(n)&&n.value===e},cX=function(n){return n.type!==31},oy=function(n){return n.type!==31&&n.type!==4},qA=function(n){var e=[],t=[];return n.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},zve=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Xd=function(n){return n.type===17||n.type===15},Pi=function(n){return n.type===16||Xd(n)},dX=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Ur={type:17,number:0,flags:XB},JQ={type:16,number:50,flags:XB},Gd={type:16,number:100,flags:XB},Sw=function(n,e,t){var i=n[0],r=n[1];return[Fn(i,e),Fn(typeof r<"u"?r:i,t)]},Fn=function(n,e){if(n.type===16)return n.number/100*e;if(JB(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},fX="deg",hX="grad",pX="rad",gX="turn",$1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case fX:return Math.PI*e.number/180;case hX:return Math.PI/200*e.number;case pX:return e.number;case gX:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},mX=function(n){return n.type===15&&(n.unit===fX||n.unit===hX||n.unit===pX||n.unit===gX)},vX=function(n){var e=n.filter(mn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ur,Ur];case"to top":case"bottom":return Ao(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ur,Gd];case"to right":case"left":return Ao(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gd,Gd];case"to bottom":case"top":return Ao(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gd,Ur];case"to left":case"right":return Ao(270)}return 0},Ao=function(n){return Math.PI*n/180},qd={name:"color",parse:function(n,e){if(e.type===18){var t=qve[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return zd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return zd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return zd(parseInt(i,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return zd(parseInt(i,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Cu[e.value.toUpperCase()];if(typeof o<"u")return o}return Cu.TRANSPARENT}},$d=function(n){return(255&n)===0},Zi=function(n){var e=255&n,t=255&n>>8,i=255&n>>16,r=255&n>>24;return e<255?"rgba("+r+","+i+","+t+","+e/255+")":"rgb("+r+","+i+","+t+")"},zd=function(n,e,t,i){return(n<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},GG=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},zG=function(n,e){var t=e.filter(oy);if(t.length===3){var i=t.map(GG),r=i[0],s=i[1],a=i[2];return zd(r,s,a,1)}if(t.length===4){var o=t.map(GG),r=o[0],s=o[1],a=o[2],l=o[3];return zd(r,s,a,l)}return 0};function _U(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var qG=function(n,e){var t=e.filter(oy),i=t[0],r=t[1],s=t[2],a=t[3],o=(i.type===17?Ao(i.number):$1.parse(n,i))/(Math.PI*2),l=Pi(r)?r.number/100:0,u=Pi(s)?s.number/100:0,d=typeof a<"u"&&Pi(a)?Fn(a,1):1;if(l===0)return zd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=_U(g,h,o+1/3),b=_U(g,h,o),C=_U(g,h,o-1/3);return zd(v*255,b*255,C*255,d)},qve={hsl:qG,hsla:qG,rgb:zG,rgba:zG},Nw=function(n,e){return qd.parse(n,uX.create(e).parseComponentValue())},Cu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},$ve={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jve={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},j1=function(n,e){var t=qd.parse(n,e[0]),i=e[1];return i&&Pi(i)?{color:t,stop:i}:{color:t,stop:null}},$G=function(n,e){var t=n[0],i=n[n.length-1];t.stop===null&&(t.stop=Ur),i.stop===null&&(i.stop=Gd);for(var r=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=Fn(o,e);l>s?r.push(l):r.push(s),s=l}else r.push(null)}for(var u=null,a=0;a<r.length;a++){var d=r[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=r[u-1],v=(d-g)/(h+1),b=1;b<=h;b++)r[u+b-1]=v*b;u=null}}return n.map(function(C,E){var x=C.color;return{color:x,stop:Math.max(Math.min(1,r[E]/e),0)}})},Wve=function(n,e,t){var i=e/2,r=t/2,s=Fn(n[0],e)-i,a=r-Fn(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Yve=function(n,e,t){var i=typeof n=="number"?n:Wve(n,e,t),r=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),s=e/2,a=t/2,o=r/2,l=Math.sin(i-Math.PI/2)*o,u=Math.cos(i-Math.PI/2)*o;return[r,s-u,s+u,a-l,a+l]},xo=function(n,e){return Math.sqrt(n*n+e*e)},jG=function(n,e,t,i,r){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=xo(t-l,i-u);return(r?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Xve=function(n,e,t,i,r){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-i)),a=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(n.shape===0)s=a=Math.min(xo(e,t),xo(e,t-r),xo(e-i,t),xo(e-i,t-r));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(e),Math.abs(e-i)),l=jG(i,r,e,t,!0),u=l[0],d=l[1];s=xo(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-i)),a=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(n.shape===0)s=a=Math.max(xo(e,t),xo(e,t-r),xo(e-i,t),xo(e-i,t-r));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(e),Math.abs(e-i)),h=jG(i,r,e,t,!1),u=h[0],d=h[1];s=xo(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=Fn(n.size[0],i),a=n.size.length===2?Fn(n.size[1],r):s),[s,a]},Jve=function(n,e){var t=Ao(180),i=[];return qA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){t=vX(r);return}else if(mX(a)){t=$1.parse(n,a);return}}var o=j1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},fx=function(n,e){var t=Ao(180),i=[];return qA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=vX(r);return}else if(mX(a)){t=($1.parse(n,a)+Ao(270))%Ao(360);return}}var o=j1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},Zve=function(n,e){var t=Ao(180),i=[],r=1,s=0,a=3,o=[];return qA(e).forEach(function(l,u){var d=l[0];if(u===0){if(mn(d)&&d.value==="linear"){r=1;return}else if(mn(d)&&d.value==="radial"){r=2;return}}if(d.type===18){if(d.name==="from"){var h=qd.parse(n,d.values[0]);i.push({stop:Ur,color:h})}else if(d.name==="to"){var h=qd.parse(n,d.values[0]);i.push({stop:Gd,color:h})}else if(d.name==="color-stop"){var g=d.values.filter(oy);if(g.length===2){var h=qd.parse(n,g[1]),v=g[0];xy(v)&&i.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),r===1?{angle:(t+Ao(180))%Ao(360),stops:i,type:r}:{size:a,shape:s,stops:i,position:o,type:r}},yX="closest-side",wX="farthest-side",bX="closest-corner",CX="farthest-corner",BX="circle",EX="ellipse",SX="cover",xX="contain",eye=function(n,e){var t=0,i=3,r=[],s=[];return qA(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(mn(g))switch(g.value){case"center":return s.push(JQ),h;case"top":case"left":return s.push(Ur),h;case"right":case"bottom":return s.push(Gd),h}else(Pi(g)||Xd(g))&&s.push(g);else if(mn(g))switch(g.value){case BX:return t=0,!1;case EX:return t=1,!1;case"at":return u=!0,!1;case yX:return i=0,!1;case SX:case wX:return i=1,!1;case xX:case bX:return i=2,!1;case CX:return i=3,!1}else if(Xd(g)||Pi(g))return Array.isArray(i)||(i=[]),i.push(g),!1;return h},l)}if(l){var d=j1(n,a);r.push(d)}}),{size:i,shape:t,stops:r,position:s,type:2}},hx=function(n,e){var t=0,i=3,r=[],s=[];return qA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(mn(h))switch(h.value){case"center":return s.push(JQ),!1;case"top":case"left":return s.push(Ur),!1;case"right":case"bottom":return s.push(Gd),!1}else if(Pi(h)||Xd(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(mn(h))switch(h.value){case BX:return t=0,!1;case EX:return t=1,!1;case xX:case yX:return i=0,!1;case wX:return i=1,!1;case bX:return i=2,!1;case SX:case CX:return i=3,!1}else if(Xd(h)||Pi(h))return Array.isArray(i)||(i=[]),i.push(h),!1;return d},l)),l){var u=j1(n,a);r.push(u)}}),{size:i,shape:t,stops:r,position:s,type:2}},tye=function(n){return n.type===1},nye=function(n){return n.type===2},ZQ={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var i=_X[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function iye(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!_X[n.name])}var _X={"linear-gradient":Jve,"-moz-linear-gradient":fx,"-ms-linear-gradient":fx,"-o-linear-gradient":fx,"-webkit-linear-gradient":fx,"radial-gradient":eye,"-moz-radial-gradient":hx,"-ms-radial-gradient":hx,"-o-radial-gradient":hx,"-webkit-radial-gradient":hx,"-webkit-gradient":Zve},rye={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return oy(i)&&iye(i)}).map(function(i){return ZQ.parse(n,i)})}},sye={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},aye={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return qA(e).map(function(t){return t.filter(Pi)}).map(dX)}},oye={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return qA(e).map(function(t){return t.filter(mn).map(function(i){return i.value}).join(" ")}).map(Aye)}},Aye=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},sm;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(sm||(sm={}));var lye={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return qA(e).map(function(t){return t.filter(uye)})}},uye=function(n){return mn(n)||Pi(n)},W1=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},cye=W1("top"),dye=W1("right"),fye=W1("bottom"),hye=W1("left"),Y1=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return dX(t.filter(Pi))}}},pye=Y1("top-left"),gye=Y1("top-right"),mye=Y1("bottom-right"),vye=Y1("bottom-left"),X1=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yye=X1("top"),wye=X1("right"),bye=X1("bottom"),Cye=X1("left"),J1=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return JB(t)?t.number:0}}},Bye=J1("top"),Eye=J1("right"),Sye=J1("bottom"),xye=J1("left"),_ye={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Tye={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Iye={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(mn).reduce(function(t,i){return t|Fye(i.value)},0)}},Fye=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Mye={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Uye={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},dT;(function(n){n.NORMAL="normal",n.STRICT="strict"})(dT||(dT={}));var Pye={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return dT.STRICT;case"normal":default:return dT.NORMAL}}},Rye={name:"line-height",initialValue:"normal",prefix:!1,type:4},WG=function(n,e){return mn(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Pi(n)?Fn(n,e):e},Dye={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:ZQ.parse(n,e)}},Nye={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},hL={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Z1=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Lye=Z1("top"),Qye=Z1("right"),kye=Z1("bottom"),Oye=Z1("left"),Hye={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(mn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Vye={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},eI=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Kye=eI("top"),Gye=eI("right"),zye=eI("bottom"),qye=eI("left"),$ye={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},jye={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Wye={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&fL(e[0],"none")?[]:qA(e).map(function(t){for(var i={color:Cu.TRANSPARENT,offsetX:Ur,offsetY:Ur,blur:Ur},r=0,s=0;s<t.length;s++){var a=t[s];Xd(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:i.blur=a,r++):i.color=qd.parse(n,a)}return i})}},Yye={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Xye={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=e0e[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Jye=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Zye=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],i=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,i,r,s,a,o]:null},e0e={matrix:Jye,matrix3d:Zye},YG={type:16,number:50,flags:XB},t0e=[YG,YG],n0e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Pi);return t.length!==2?t0e:[t[0],t[1]]}},i0e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Lw;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Lw||(Lw={}));var r0e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Lw.BREAK_ALL;case"keep-all":return Lw.KEEP_ALL;case"normal":default:return Lw.NORMAL}}},s0e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(xy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},TX={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},a0e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return xy(e)?e.number:1}},o0e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},A0e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(mn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},l0e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],i=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},u0e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},c0e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(xy(e))return e.number;if(mn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},d0e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(mn).map(function(t){return t.value})}},f0e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Gi=function(n,e){return(n&e)!==0},h0e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},p0e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],r=e.filter(cX),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(a.type===20){var l=o&&xy(o)?o.number:1;i.push({counter:a.value,increment:l})}}return i}},g0e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],i=e.filter(cX),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(mn(s)&&s.value!=="none"){var o=a&&xy(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},m0e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(JB).map(function(t){return TX.parse(n,t)})}},v0e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],r=e.filter(Gve);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,o=r[s+1].value;i.push({open:a,close:o})}return i}},XG=function(n,e,t){if(!n)return"";var i=n[Math.min(e,n.length-1)];return i?t?i.open:i.close:""},y0e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&fL(e[0],"none")?[]:qA(e).map(function(t){for(var i={color:255,offsetX:Ur,offsetY:Ur,blur:Ur,spread:Ur,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];fL(a,"inset")?i.inset=!0:Xd(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:r===2?i.blur=a:i.spread=a,r++):i.color=qd.parse(n,a)}return i})}},w0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],i=[];return e.filter(mn).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},b0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},C0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return JB(e)?e.number:0}},B0e=(function(){function n(e,t){var i,r;this.animationDuration=Re(e,m0e,t.animationDuration),this.backgroundClip=Re(e,$ve,t.backgroundClip),this.backgroundColor=Re(e,jve,t.backgroundColor),this.backgroundImage=Re(e,rye,t.backgroundImage),this.backgroundOrigin=Re(e,sye,t.backgroundOrigin),this.backgroundPosition=Re(e,aye,t.backgroundPosition),this.backgroundRepeat=Re(e,oye,t.backgroundRepeat),this.backgroundSize=Re(e,lye,t.backgroundSize),this.borderTopColor=Re(e,cye,t.borderTopColor),this.borderRightColor=Re(e,dye,t.borderRightColor),this.borderBottomColor=Re(e,fye,t.borderBottomColor),this.borderLeftColor=Re(e,hye,t.borderLeftColor),this.borderTopLeftRadius=Re(e,pye,t.borderTopLeftRadius),this.borderTopRightRadius=Re(e,gye,t.borderTopRightRadius),this.borderBottomRightRadius=Re(e,mye,t.borderBottomRightRadius),this.borderBottomLeftRadius=Re(e,vye,t.borderBottomLeftRadius),this.borderTopStyle=Re(e,yye,t.borderTopStyle),this.borderRightStyle=Re(e,wye,t.borderRightStyle),this.borderBottomStyle=Re(e,bye,t.borderBottomStyle),this.borderLeftStyle=Re(e,Cye,t.borderLeftStyle),this.borderTopWidth=Re(e,Bye,t.borderTopWidth),this.borderRightWidth=Re(e,Eye,t.borderRightWidth),this.borderBottomWidth=Re(e,Sye,t.borderBottomWidth),this.borderLeftWidth=Re(e,xye,t.borderLeftWidth),this.boxShadow=Re(e,y0e,t.boxShadow),this.color=Re(e,_ye,t.color),this.direction=Re(e,Tye,t.direction),this.display=Re(e,Iye,t.display),this.float=Re(e,Mye,t.cssFloat),this.fontFamily=Re(e,l0e,t.fontFamily),this.fontSize=Re(e,u0e,t.fontSize),this.fontStyle=Re(e,f0e,t.fontStyle),this.fontVariant=Re(e,d0e,t.fontVariant),this.fontWeight=Re(e,c0e,t.fontWeight),this.letterSpacing=Re(e,Uye,t.letterSpacing),this.lineBreak=Re(e,Pye,t.lineBreak),this.lineHeight=Re(e,Rye,t.lineHeight),this.listStyleImage=Re(e,Dye,t.listStyleImage),this.listStylePosition=Re(e,Nye,t.listStylePosition),this.listStyleType=Re(e,hL,t.listStyleType),this.marginTop=Re(e,Lye,t.marginTop),this.marginRight=Re(e,Qye,t.marginRight),this.marginBottom=Re(e,kye,t.marginBottom),this.marginLeft=Re(e,Oye,t.marginLeft),this.opacity=Re(e,a0e,t.opacity);var s=Re(e,Hye,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Re(e,Vye,t.overflowWrap),this.paddingTop=Re(e,Kye,t.paddingTop),this.paddingRight=Re(e,Gye,t.paddingRight),this.paddingBottom=Re(e,zye,t.paddingBottom),this.paddingLeft=Re(e,qye,t.paddingLeft),this.paintOrder=Re(e,w0e,t.paintOrder),this.position=Re(e,jye,t.position),this.textAlign=Re(e,$ye,t.textAlign),this.textDecorationColor=Re(e,o0e,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=Re(e,A0e,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=Re(e,Wye,t.textShadow),this.textTransform=Re(e,Yye,t.textTransform),this.transform=Re(e,Xye,t.transform),this.transformOrigin=Re(e,n0e,t.transformOrigin),this.visibility=Re(e,i0e,t.visibility),this.webkitTextStrokeColor=Re(e,b0e,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Re(e,C0e,t.webkitTextStrokeWidth),this.wordBreak=Re(e,r0e,t.wordBreak),this.zIndex=Re(e,s0e,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return $d(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Gi(this.display,4)||Gi(this.display,33554432)||Gi(this.display,268435456)||Gi(this.display,536870912)||Gi(this.display,67108864)||Gi(this.display,134217728)},n})(),E0e=(function(){function n(e,t){this.content=Re(e,h0e,t.content),this.quotes=Re(e,v0e,t.quotes)}return n})(),JG=(function(){function n(e,t){this.counterIncrement=Re(e,p0e,t.counterIncrement),this.counterReset=Re(e,g0e,t.counterReset)}return n})(),Re=function(n,e,t){var i=new lX,r=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(r);var s=new uX(i.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,mn(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return $1.parse(n,s.parseComponentValue());case"color":return qd.parse(n,s.parseComponentValue());case"image":return ZQ.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Xd(o)?o:Ur;case"length-percentage":var l=s.parseComponentValue();return Pi(l)?l:Ur;case"time":return TX.parse(n,s.parseComponentValue())}break}},S0e="data-html2canvas-debug",x0e=function(n){var e=n.getAttribute(S0e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},pL=function(n,e){var t=x0e(n);return t===1||e===t},$A=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,pL(t,3))debugger;this.styles=new B0e(e,window.getComputedStyle(t,null)),vL(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=z1(this.context,t),pL(t,4)&&(this.flags|=16)}return n})(),_0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ZG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var px=0;px<ZG.length;px++)xw[ZG.charCodeAt(px)]=px;var T0e=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=xw[n.charCodeAt(i)],a=xw[n.charCodeAt(i+1)],o=xw[n.charCodeAt(i+2)],l=xw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},I0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},F0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},yp=5,ek=11,TU=2,M0e=ek-yp,IX=65536>>yp,U0e=1<<yp,IU=U0e-1,P0e=1024>>yp,R0e=IX+P0e,D0e=R0e,N0e=32,L0e=D0e+N0e,Q0e=65536>>ek,k0e=1<<M0e,O0e=k0e-1,ez=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},H0e=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},V0e=function(n,e){var t=T0e(n),i=Array.isArray(t)?F0e(t):new Uint32Array(t),r=Array.isArray(t)?I0e(t):new Uint16Array(t),s=24,a=ez(r,s/2,i[4]/2),o=i[5]===2?ez(r,(s+i[4])/2):H0e(i,Math.ceil((s+i[4])/4));return new K0e(i[0],i[1],i[2],i[3],a,o)},K0e=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>yp],t=(t<<TU)+(e&IU),this.data[t];if(e<=65535)return t=this.index[IX+(e-55296>>yp)],t=(t<<TU)+(e&IU),this.data[t];if(e<this.highStart)return t=L0e-Q0e+(e>>ek),t=this.index[t],t+=e>>yp&O0e,t=this.index[t],t=(t<<TU)+(e&IU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),tz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G0e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gx=0;gx<tz.length;gx++)G0e[tz.charCodeAt(gx)]=gx;var z0e=1,FU=2,MU=3,nz=4,iz=5,q0e=7,rz=8,UU=9,PU=10,sz=11,az=12,oz=13,Az=14,RU=15,$0e=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},j0e=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},W0e=V0e(_0e),Ka="",DU="",Y0e=function(n){return W0e.get(n)},X0e=function(n,e,t){var i=t-2,r=e[i],s=e[t-1],a=e[t];if(s===FU&&a===MU)return Ka;if(s===FU||s===MU||s===nz||a===FU||a===MU||a===nz)return DU;if(s===rz&&[rz,UU,sz,az].indexOf(a)!==-1||(s===sz||s===UU)&&(a===UU||a===PU)||(s===az||s===PU)&&a===PU||a===oz||a===iz||a===q0e||s===z0e)return Ka;if(s===oz&&a===Az){for(;r===iz;)r=e[--i];if(r===Az)return Ka}if(s===RU&&a===RU){for(var o=0;r===RU;)o++,r=e[--i];if(o%2===0)return Ka}return DU},J0e=function(n){var e=$0e(n),t=e.length,i=0,r=0,s=e.map(Y0e);return{next:function(){if(i>=t)return{done:!0,value:null};for(var a=Ka;i<t&&(a=X0e(e,s,++i))===Ka;);if(a!==Ka||i===t){var o=j0e.apply(null,e.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},Z0e=function(n){for(var e=J0e(n),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},ewe=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var i=n.createElement("boundtest");i.style.height=e+"px",i.style.display="block",n.body.appendChild(i),t.selectNode(i);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(n.body.removeChild(i),s===e)return!0}}return!1},twe=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,r=q1(i.data).map(function(l){return gi(l)}),s=0,a={},o=r.every(function(l,u){t.setStart(i,s),t.setEnd(i,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},nwe=function(){return typeof new Image().crossOrigin<"u"},iwe=function(){return typeof new XMLHttpRequest().responseType=="string"},rwe=function(n){var e=new Image,t=n.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},lz=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},swe=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var r=new Image,s=e.toDataURL();r.src=s;var a=gL(t,t,0,0,r);return i.fillStyle="red",i.fillRect(0,0,t,t),uz(a).then(function(o){i.drawImage(o,0,0);var l=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",lz(l)?uz(gL(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return i.drawImage(o,0,0),lz(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},gL=function(n,e,t,i,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},uz=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},_r={get SUPPORT_RANGE_BOUNDS(){var n=ewe(document);return Object.defineProperty(_r,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=_r.SUPPORT_RANGE_BOUNDS&&twe(document);return Object.defineProperty(_r,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=rwe(document);return Object.defineProperty(_r,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?swe(document):Promise.resolve(!1);return Object.defineProperty(_r,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=nwe();return Object.defineProperty(_r,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=iwe();return Object.defineProperty(_r,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(_r,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(_r,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},Qw=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),awe=function(n,e,t,i){var r=lwe(e,t),s=[],a=0;return r.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(_r.SUPPORT_RANGE_BOUNDS){var l=cz(i,a,o.length).getClientRects();if(l.length>1){var u=tk(o),d=0;u.forEach(function(g){s.push(new Qw(g,Iu.fromDOMRectList(n,cz(i,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new Qw(o,Iu.fromDOMRectList(n,l)))}else{var h=i.splitText(o.length);s.push(new Qw(o,owe(n,i))),i=h}else _r.SUPPORT_RANGE_BOUNDS||(i=i.splitText(o.length));a+=o.length}),s},owe=function(n,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(i,e);var s=z1(n,i);return i.firstChild&&r.replaceChild(i.firstChild,i),s}}return Iu.EMPTY},cz=function(n,e,t){var i=n.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(n,e),r.setEnd(n,e+t),r},tk=function(n){if(_r.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return Z0e(n)},Awe=function(n,e){if(_r.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(i){return i.segment})}return cwe(n,e)},lwe=function(n,e){return e.letterSpacing!==0?tk(n):Awe(n,e)},uwe=[32,160,4961,65792,65793,4153,4241],cwe=function(n,e){for(var t=Qme(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],r,s=function(){if(r.value){var a=r.value.slice(),o=q1(a),l="";o.forEach(function(u){uwe.indexOf(u)===-1?l+=gi(u):(l.length&&i.push(l),i.push(gi(u)),l="")}),l.length&&i.push(l)}};!(r=t.next()).done;)s();return i},dwe=(function(){function n(e,t,i){this.text=fwe(t.data,i.textTransform),this.textBounds=awe(e,this.text,i,t)}return n})(),fwe=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(hwe,pwe);case 2:return n.toUpperCase();default:return n}},hwe=/(^|\s|:|-|\(|\))([a-z])/g,pwe=function(n,e,t){return n.length>0?e+t.toUpperCase():n},FX=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return e})($A),MX=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return e})($A),UX=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=new XMLSerializer,a=z1(t,i);return i.setAttribute("width",a.width+"px"),i.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})($A),PX=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})($A),mL=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return e})($A),gwe=[{type:15,flags:0,unit:"px",number:3}],mwe=[{type:16,flags:0,number:50}],vwe=function(n){return n.width>n.height?new Iu(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new Iu(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},ywe=function(n){var e=n.type===wwe?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},fT="checkbox",hT="radio",wwe="password",dz=707406591,nk=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=ywe(i),(r.type===fT||r.type===hT)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=vwe(r.bounds)),r.type){case fT:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=gwe;break;case hT:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=mwe;break}return r}return e})($A),RX=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=i.options[i.selectedIndex||0];return r.value=s&&s.text||"",r}return e})($A),DX=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})($A),NX=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=QX(t,i.contentWindow.document.documentElement);var s=i.contentWindow.document.documentElement?Nw(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):Cu.TRANSPARENT,a=i.contentWindow.document.body?Nw(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):Cu.TRANSPARENT;r.backgroundColor=$d(s)?$d(a)?r.styles.backgroundColor:a:s}}catch{}return r}return e})($A),bwe=["OL","UL","MENU"],k_=function(n,e,t,i){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,kX(r)&&r.data.trim().length>0)t.textNodes.push(new dwe(n,r,t.styles));else if(qg(r))if(KX(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return k_(n,o,t,i)});else{var a=LX(n,r);a.styles.isVisible()&&(Cwe(r,a,i)?a.flags|=4:Bwe(a.styles)&&(a.flags|=2),bwe.indexOf(r.tagName)!==-1&&(a.flags|=8),t.elements.push(a),r.slot,r.shadowRoot?k_(n,r.shadowRoot,a,i):!pT(r)&&!OX(r)&&!gT(r)&&k_(n,r,a,i))}},LX=function(n,e){return yL(e)?new FX(n,e):HX(e)?new MX(n,e):OX(e)?new UX(n,e):Ewe(e)?new PX(n,e):Swe(e)?new mL(n,e):xwe(e)?new nk(n,e):gT(e)?new RX(n,e):pT(e)?new DX(n,e):VX(e)?new NX(n,e):new $A(n,e)},QX=function(n,e){var t=LX(n,e);return t.flags|=4,k_(n,e,t,t),t},Cwe=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||ik(n)&&t.styles.isTransparent()},Bwe=function(n){return n.isPositioned()||n.isFloating()},kX=function(n){return n.nodeType===Node.TEXT_NODE},qg=function(n){return n.nodeType===Node.ELEMENT_NODE},vL=function(n){return qg(n)&&typeof n.style<"u"&&!O_(n)},O_=function(n){return typeof n.className=="object"},Ewe=function(n){return n.tagName==="LI"},Swe=function(n){return n.tagName==="OL"},xwe=function(n){return n.tagName==="INPUT"},_we=function(n){return n.tagName==="HTML"},OX=function(n){return n.tagName==="svg"},ik=function(n){return n.tagName==="BODY"},HX=function(n){return n.tagName==="CANVAS"},fz=function(n){return n.tagName==="VIDEO"},yL=function(n){return n.tagName==="IMG"},VX=function(n){return n.tagName==="IFRAME"},hz=function(n){return n.tagName==="STYLE"},Twe=function(n){return n.tagName==="SCRIPT"},pT=function(n){return n.tagName==="TEXTAREA"},gT=function(n){return n.tagName==="SELECT"},KX=function(n){return n.tagName==="SLOT"},pz=function(n){return n.tagName.indexOf("-")>0},Iwe=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},n.prototype.parse=function(e){var t=this,i=e.counterIncrement,r=e.counterReset,s=!0;i!==null&&i.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&r.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),gz={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mz={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Fwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Mwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Bg=function(n,e,t,i,r,s){return n<e||n>t?Jw(n,r,s.length>0):i.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=i.values[l];return a},"")+s},GX=function(n,e,t,i){var r="";do t||n--,r=i(n)+r,n/=e;while(n*e>=e);return r},di=function(n,e,t,i,r){var s=t-e+1;return(n<0?"-":"")+(GX(Math.abs(n),s,i,function(a){return gi(Math.floor(a%s)+e)})+r)},Tf=function(n,e,t){t===void 0&&(t=". ");var i=e.length;return GX(Math.abs(n),i,!1,function(r){return e[Math.floor(r%i)]})+t},Og=1,Ec=2,Sc=4,_w=8,fl=function(n,e,t,i,r,s){if(n<-9999||n>9999)return Jw(n,4,r.length>0);var a=Math.abs(n),o=r;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&Gi(s,Og)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Gi(s,Ec)||u===1&&l===1&&Gi(s,Sc)&&n>100||u===1&&l>1&&Gi(s,_w)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?i:"")+o},vz="",yz="",wz="",NU="",Jw=function(n,e,t){var i=t?". ":"",r=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=di(n,48,57,!0,i);return o.length<4?"0"+o:o;case 4:return Tf(n,"",r);case 6:return Bg(n,1,3999,gz,3,i).toLowerCase();case 7:return Bg(n,1,3999,gz,3,i);case 8:return di(n,945,969,!1,i);case 9:return di(n,97,122,!1,i);case 10:return di(n,65,90,!1,i);case 11:return di(n,1632,1641,!0,i);case 12:case 49:return Bg(n,1,9999,mz,3,i);case 35:return Bg(n,1,9999,mz,3,i).toLowerCase();case 13:return di(n,2534,2543,!0,i);case 14:case 30:return di(n,6112,6121,!0,i);case 15:return Tf(n,"",r);case 16:return Tf(n,"",r);case 17:case 48:return fl(n,"",vz,"",r,Ec|Sc|_w);case 47:return fl(n,"",yz,"",r,Og|Ec|Sc|_w);case 42:return fl(n,"",vz,"",r,Ec|Sc|_w);case 41:return fl(n,"",yz,"",r,Og|Ec|Sc|_w);case 26:return fl(n,"","",wz,r,0);case 25:return fl(n,"","",wz,r,Og|Ec|Sc);case 31:return fl(n,"","",NU,s,Og|Ec|Sc);case 33:return fl(n,"","",NU,s,0);case 32:return fl(n,"","",NU,s,Og|Ec|Sc);case 18:return di(n,2406,2415,!0,i);case 20:return Bg(n,1,19999,Mwe,3,i);case 21:return di(n,2790,2799,!0,i);case 22:return di(n,2662,2671,!0,i);case 22:return Bg(n,1,10999,Fwe,3,i);case 23:return Tf(n,"");case 24:return Tf(n,"");case 27:return di(n,3302,3311,!0,i);case 28:return Tf(n,"",r);case 29:return Tf(n,"",r);case 34:return di(n,3792,3801,!0,i);case 37:return di(n,6160,6169,!0,i);case 38:return di(n,4160,4169,!0,i);case 39:return di(n,2918,2927,!0,i);case 40:return di(n,1776,1785,!0,i);case 43:return di(n,3046,3055,!0,i);case 44:return di(n,3174,3183,!0,i);case 45:return di(n,3664,3673,!0,i);case 46:return di(n,3872,3881,!0,i);case 3:default:return di(n,48,57,!0,i)}},zX="data-html2canvas-ignore",bz=(function(){function n(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new Iwe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var i=this,r=Uwe(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=r.contentWindow,l=o.document,u=Dwe(r).then(function(){return as(i,void 0,void 0,function(){var d,h;return Gr(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(kwe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Rwe(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(Lwe(document.doctype)+"<html></html>"),Qwe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(pL(e,2))debugger;if(HX(e))return this.createCanvasClone(e);if(fz(e))return this.createVideoClone(e);if(hz(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return yL(t)&&(yL(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),pz(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return LU(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=e.cloneNode(!1);return r.textContent=i,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},n.prototype.appendChildNode=function(e,t,i){(!qg(t)||!Twe(t)&&!t.hasAttribute(zX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!qg(t)||!hz(t))&&e.appendChild(this.cloneNode(t,i))},n.prototype.cloneChildNodes=function(e,t,i){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(qg(s)&&KX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return r.appendChildNode(t,o,i)})}else this.appendChildNode(t,s,i)},n.prototype.cloneNode=function(e,t){if(kX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&qg(e)&&(vL(e)||O_(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=i.getComputedStyle(e),a=i.getComputedStyle(e,":before"),o=i.getComputedStyle(e,":after");this.referenceElement===e&&vL(r)&&(this.clonedReferenceElement=r),ik(r)&&Vwe(r);var l=this.counters.parse(new JG(this.context,s)),u=this.resolvePseudoContent(e,r,a,kw.BEFORE);pz(e)&&(t=!0),fz(e)||this.cloneChildNodes(e,r,t),u&&r.insertBefore(u,r.firstChild);var d=this.resolvePseudoContent(e,r,o,kw.AFTER);return d&&r.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||O_(e))&&!VX(e)||t)&&LU(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(pT(e)||gT(e))&&(pT(r)||gT(r))&&(r.value=e.value),r}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,i,r){var s=this;if(i){var a=i.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||i.display==="none")){this.counters.parse(new JG(this.context,i));var l=new E0e(this.context,i),u=o.createElement("html2canvaspseudoelement");LU(i,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(mn);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(oy),C=b[0],E=b[1];if(C&&mn(C)){var x=s.counters.getCounterValue(C.value),I=E&&mn(E)?hL.parse(s.context,E.value):3;u.appendChild(o.createTextNode(Jw(x,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter(oy),C=T[0],R=T[1],E=T[2];if(C&&mn(C)){var P=s.counters.getCounterValues(C.value),D=E&&mn(E)?hL.parse(s.context,E.value):3,Q=R&&R.type===0?R.value:"",H=P.map(function(V){return Jw(V,D,!1)}).join(Q);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(XG(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(XG(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=wL+" "+bL;var d=r===kw.BEFORE?" "+wL:" "+bL;return O_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),kw;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(kw||(kw={}));var Uwe=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(zX,"true"),n.body.appendChild(t),t},Pwe=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Rwe=function(n){return Promise.all([].slice.call(n.images,0).map(Pwe))},Dwe=function(n){return new Promise(function(e,t){var i=n.contentWindow;if(!i)return t("No window assigned for iframe");var r=i.document;i.onload=n.onload=function(){i.onload=n.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},Nwe=["all","d","content"],LU=function(n,e){for(var t=n.length-1;t>=0;t--){var i=n.item(t);Nwe.indexOf(i)===-1&&e.style.setProperty(i,n.getPropertyValue(i))}return e},Lwe=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Qwe=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},kwe=function(n){var e=n[0],t=n[1],i=n[2];e.scrollLeft=t,e.scrollTop=i},Owe=":before",Hwe=":after",wL="___html2canvas___pseudoelement_before",bL="___html2canvas___pseudoelement_after",Cz=`{
    content: "" !important;
    display: none !important;
}`,Vwe=function(n){Kwe(n,"."+wL+Owe+Cz+`
         .`+bL+Hwe+Cz)},Kwe=function(n,e){var t=n.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,n.appendChild(i)}},qX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),Gwe=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(kU(e)||jwe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return as(this,void 0,void 0,function(){var t,i,r,s,a=this;return Gr(this,function(o){switch(o.label){case 0:return t=qX.isSameOrigin(e),i=!QU(e)&&this._options.useCORS===!0&&_r.SUPPORT_CORS_IMAGES&&!t,r=!QU(e)&&!t&&!kU(e)&&typeof this._options.proxy=="string"&&_r.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!QU(e)&&!kU(e)&&!r&&!i?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(Wwe(s)||i)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var o=_r.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=a;var u=i.indexOf("?")>-1?"&":"?";if(l.open("GET",""+i+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+r)}}l.send()})},n})(),zwe=/^data:image\/svg\+xml/i,qwe=/^data:image\/.*;base64,/i,$we=/^data:image\/.*/i,jwe=function(n){return _r.SUPPORT_SVG_DRAWING||!Ywe(n)},QU=function(n){return $we.test(n)},Wwe=function(n){return qwe.test(n)},kU=function(n){return n.substr(0,4)==="blob"},Ywe=function(n){return n.substr(-3).toLowerCase()==="svg"||zwe.test(n)},Fe=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),Eg=function(n,e,t){return new Fe(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},mx=(function(){function n(e,t,i,r){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=r}return n.prototype.subdivide=function(e,t){var i=Eg(this.start,this.startControl,e),r=Eg(this.startControl,this.endControl,e),s=Eg(this.endControl,this.end,e),a=Eg(i,r,e),o=Eg(r,s,e),l=Eg(a,o,e);return t?new n(this.start,i,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),ao=function(n){return n.type===1},Xwe=(function(){function n(e){var t=e.styles,i=e.bounds,r=Sw(t.borderTopLeftRadius,i.width,i.height),s=r[0],a=r[1],o=Sw(t.borderTopRightRadius,i.width,i.height),l=o[0],u=o[1],d=Sw(t.borderBottomRightRadius,i.width,i.height),h=d[0],g=d[1],v=Sw(t.borderBottomLeftRadius,i.width,i.height),b=v[0],C=v[1],E=[];E.push((s+l)/i.width),E.push((b+h)/i.width),E.push((a+C)/i.height),E.push((u+g)/i.height);var x=Math.max.apply(Math,E);x>1&&(s/=x,a/=x,l/=x,u/=x,h/=x,g/=x,b/=x,C/=x);var I=i.width-l,T=i.height-g,R=i.width-h,P=i.height-C,D=t.borderTopWidth,Q=t.borderRightWidth,H=t.borderBottomWidth,k=t.borderLeftWidth,K=Fn(t.paddingTop,e.bounds.width),V=Fn(t.paddingRight,e.bounds.width),z=Fn(t.paddingBottom,e.bounds.width),Z=Fn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?kn(i.left+k/3,i.top+D/3,s-k/3,a-D/3,Wt.TOP_LEFT):new Fe(i.left+k/3,i.top+D/3),this.topRightBorderDoubleOuterBox=s>0||a>0?kn(i.left+I,i.top+D/3,l-Q/3,u-D/3,Wt.TOP_RIGHT):new Fe(i.left+i.width-Q/3,i.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?kn(i.left+R,i.top+T,h-Q/3,g-H/3,Wt.BOTTOM_RIGHT):new Fe(i.left+i.width-Q/3,i.top+i.height-H/3),this.bottomLeftBorderDoubleOuterBox=b>0||C>0?kn(i.left+k/3,i.top+P,b-k/3,C-H/3,Wt.BOTTOM_LEFT):new Fe(i.left+k/3,i.top+i.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?kn(i.left+k*2/3,i.top+D*2/3,s-k*2/3,a-D*2/3,Wt.TOP_LEFT):new Fe(i.left+k*2/3,i.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?kn(i.left+I,i.top+D*2/3,l-Q*2/3,u-D*2/3,Wt.TOP_RIGHT):new Fe(i.left+i.width-Q*2/3,i.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?kn(i.left+R,i.top+T,h-Q*2/3,g-H*2/3,Wt.BOTTOM_RIGHT):new Fe(i.left+i.width-Q*2/3,i.top+i.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||C>0?kn(i.left+k*2/3,i.top+P,b-k*2/3,C-H*2/3,Wt.BOTTOM_LEFT):new Fe(i.left+k*2/3,i.top+i.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?kn(i.left+k/2,i.top+D/2,s-k/2,a-D/2,Wt.TOP_LEFT):new Fe(i.left+k/2,i.top+D/2),this.topRightBorderStroke=s>0||a>0?kn(i.left+I,i.top+D/2,l-Q/2,u-D/2,Wt.TOP_RIGHT):new Fe(i.left+i.width-Q/2,i.top+D/2),this.bottomRightBorderStroke=h>0||g>0?kn(i.left+R,i.top+T,h-Q/2,g-H/2,Wt.BOTTOM_RIGHT):new Fe(i.left+i.width-Q/2,i.top+i.height-H/2),this.bottomLeftBorderStroke=b>0||C>0?kn(i.left+k/2,i.top+P,b-k/2,C-H/2,Wt.BOTTOM_LEFT):new Fe(i.left+k/2,i.top+i.height-H/2),this.topLeftBorderBox=s>0||a>0?kn(i.left,i.top,s,a,Wt.TOP_LEFT):new Fe(i.left,i.top),this.topRightBorderBox=l>0||u>0?kn(i.left+I,i.top,l,u,Wt.TOP_RIGHT):new Fe(i.left+i.width,i.top),this.bottomRightBorderBox=h>0||g>0?kn(i.left+R,i.top+T,h,g,Wt.BOTTOM_RIGHT):new Fe(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=b>0||C>0?kn(i.left,i.top+P,b,C,Wt.BOTTOM_LEFT):new Fe(i.left,i.top+i.height),this.topLeftPaddingBox=s>0||a>0?kn(i.left+k,i.top+D,Math.max(0,s-k),Math.max(0,a-D),Wt.TOP_LEFT):new Fe(i.left+k,i.top+D),this.topRightPaddingBox=l>0||u>0?kn(i.left+Math.min(I,i.width-Q),i.top+D,I>i.width+Q?0:Math.max(0,l-Q),Math.max(0,u-D),Wt.TOP_RIGHT):new Fe(i.left+i.width-Q,i.top+D),this.bottomRightPaddingBox=h>0||g>0?kn(i.left+Math.min(R,i.width-k),i.top+Math.min(T,i.height-H),Math.max(0,h-Q),Math.max(0,g-H),Wt.BOTTOM_RIGHT):new Fe(i.left+i.width-Q,i.top+i.height-H),this.bottomLeftPaddingBox=b>0||C>0?kn(i.left+k,i.top+Math.min(P,i.height-H),Math.max(0,b-k),Math.max(0,C-H),Wt.BOTTOM_LEFT):new Fe(i.left+k,i.top+i.height-H),this.topLeftContentBox=s>0||a>0?kn(i.left+k+Z,i.top+D+K,Math.max(0,s-(k+Z)),Math.max(0,a-(D+K)),Wt.TOP_LEFT):new Fe(i.left+k+Z,i.top+D+K),this.topRightContentBox=l>0||u>0?kn(i.left+Math.min(I,i.width+k+Z),i.top+D+K,I>i.width+k+Z?0:l-k+Z,u-(D+K),Wt.TOP_RIGHT):new Fe(i.left+i.width-(Q+V),i.top+D+K),this.bottomRightContentBox=h>0||g>0?kn(i.left+Math.min(R,i.width-(k+Z)),i.top+Math.min(T,i.height+D+K),Math.max(0,h-(Q+V)),g-(H+z),Wt.BOTTOM_RIGHT):new Fe(i.left+i.width-(Q+V),i.top+i.height-(H+z)),this.bottomLeftContentBox=b>0||C>0?kn(i.left+k+Z,i.top+P,Math.max(0,b-(k+Z)),C-(H+z),Wt.BOTTOM_LEFT):new Fe(i.left+k+Z,i.top+i.height-(H+z))}return n})(),Wt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Wt||(Wt={}));var kn=function(n,e,t,i,r){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=i*s,l=n+t,u=e+i;switch(r){case Wt.TOP_LEFT:return new mx(new Fe(n,u),new Fe(n,u-o),new Fe(l-a,e),new Fe(l,e));case Wt.TOP_RIGHT:return new mx(new Fe(n,e),new Fe(n+a,e),new Fe(l,u-o),new Fe(l,u));case Wt.BOTTOM_RIGHT:return new mx(new Fe(l,e),new Fe(l,e+o),new Fe(n+a,u),new Fe(n,u));case Wt.BOTTOM_LEFT:default:return new mx(new Fe(l,u),new Fe(l-a,u),new Fe(n,e+o),new Fe(n,e))}},mT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},Jwe=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},vT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},Zwe=(function(){function n(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return n})(),vx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),ebe=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),tbe=function(n){return n.type===0},$X=function(n){return n.type===1},nbe=function(n){return n.type===2},Bz=function(n,e){return n.length===e.length?n.some(function(t,i){return t===e[i]}):!1},ibe=function(n,e,t,i,r){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+i,t);case 2:return s.add(e+i,t+r);case 3:return s.add(e,t+r)}return s})},jX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),WX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Xwe(this.container),this.container.styles.opacity<1&&this.effects.push(new ebe(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Zwe(i,r,s))}if(this.container.styles.overflowX!==0){var a=mT(this.curves),o=vT(this.curves);Bz(a,o)?this.effects.push(new vx(a,6)):(this.effects.push(new vx(a,2)),this.effects.push(new vx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var s=i.effects.filter(function(l){return!$X(l)});if(t||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,s),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var a=mT(i.curves),o=vT(i.curves);Bz(a,o)||r.unshift(new vx(o,6))}}else r.unshift.apply(r,s);i=i.parent}return r.filter(function(l){return Gi(l.target,e)})},n})(),CL=function(n,e,t,i){n.container.elements.forEach(function(r){var s=Gi(r.flags,4),a=Gi(r.flags,2),o=new WX(r,n);Gi(r.styles.display,2048)&&i.push(o);var l=Gi(r.flags,8)?[]:i;if(s||a){var u=s||r.styles.isPositioned()?t:e,d=new jX(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var h=r.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(b,C){return h>b.element.container.styles.zIndex.order?(g=C,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(b,C){return h>=b.element.container.styles.zIndex.order?(v=C+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else r.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);CL(o,d,s?d:t,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),CL(o,e,t,l);Gi(r.flags,8)&&YX(r,l)})},YX=function(n,e){for(var t=n instanceof mL?n.start:1,i=n instanceof mL?n.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof PX&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Jw(t,s.container.styles.listStyleType,!0),t+=i?-1:1}},rbe=function(n){var e=new WX(n,null),t=new jX(e),i=[];return CL(e,t,t,i),YX(e.container,i),t},Ez=function(n,e){switch(e){case 0:return lo(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return lo(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return lo(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return lo(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},sbe=function(n,e){switch(e){case 0:return lo(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return lo(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return lo(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return lo(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},abe=function(n,e){switch(e){case 0:return lo(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return lo(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return lo(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return lo(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},obe=function(n,e){switch(e){case 0:return yx(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return yx(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return yx(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return yx(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},yx=function(n,e){var t=[];return ao(n)?t.push(n.subdivide(.5,!1)):t.push(n),ao(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},lo=function(n,e,t,i){var r=[];return ao(n)?r.push(n.subdivide(.5,!1)):r.push(n),ao(t)?r.push(t.subdivide(.5,!0)):r.push(t),ao(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),ao(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},XX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},yT=function(n){var e=n.styles,t=n.bounds,i=Fn(e.paddingLeft,t.width),r=Fn(e.paddingRight,t.width),s=Fn(e.paddingTop,t.width),a=Fn(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+r),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Abe=function(n,e){return n===0?e.bounds:n===2?yT(e):XX(e)},lbe=function(n,e){return n===0?e.bounds:n===2?yT(e):XX(e)},OU=function(n,e,t){var i=Abe(Hg(n.styles.backgroundOrigin,e),n),r=lbe(Hg(n.styles.backgroundClip,e),n),s=ube(Hg(n.styles.backgroundSize,e),t,i),a=s[0],o=s[1],l=Sw(Hg(n.styles.backgroundPosition,e),i.width-a,i.height-o),u=cbe(Hg(n.styles.backgroundRepeat,e),l,s,i,r),d=Math.round(i.left+l[0]),h=Math.round(i.top+l[1]);return[u,d,h,a,o]},Sg=function(n){return mn(n)&&n.value===sm.AUTO},wx=function(n){return typeof n=="number"},ube=function(n,e,t){var i=e[0],r=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Pi(a)&&o&&Pi(o))return[Fn(a,t.width),Fn(o,t.height)];var l=wx(s);if(mn(a)&&(a.value===sm.CONTAIN||a.value===sm.COVER)){if(wx(s)){var u=t.width/t.height;return u<s!=(a.value===sm.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=wx(i),h=wx(r),g=d||h;if(Sg(a)&&(!o||Sg(o))){if(d&&h)return[i,r];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?i:r*s,b=h?r:i/s;return[v,b]}var C=d?i:t.width,E=h?r:t.height;return[C,E]}if(l){var x=0,I=0;return Pi(a)?x=Fn(a,t.width):Pi(o)&&(I=Fn(o,t.height)),Sg(a)?x=I*s:(!o||Sg(o))&&(I=x/s),[x,I]}var T=null,R=null;if(Pi(a)?T=Fn(a,t.width):o&&Pi(o)&&(R=Fn(o,t.height)),T!==null&&(!o||Sg(o))&&(R=d&&h?T/i*r:t.height),R!==null&&Sg(a)&&(T=d&&h?R/r*i:t.width),T!==null&&R!==null)return[T,R];throw new Error("Unable to calculate background-size for element")},Hg=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},cbe=function(n,e,t,i,r){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new Fe(Math.round(i.left),Math.round(i.top+a)),new Fe(Math.round(i.left+i.width),Math.round(i.top+a)),new Fe(Math.round(i.left+i.width),Math.round(l+i.top+a)),new Fe(Math.round(i.left),Math.round(l+i.top+a))];case 3:return[new Fe(Math.round(i.left+s),Math.round(i.top)),new Fe(Math.round(i.left+s+o),Math.round(i.top)),new Fe(Math.round(i.left+s+o),Math.round(i.height+i.top)),new Fe(Math.round(i.left+s),Math.round(i.height+i.top))];case 1:return[new Fe(Math.round(i.left+s),Math.round(i.top+a)),new Fe(Math.round(i.left+s+o),Math.round(i.top+a)),new Fe(Math.round(i.left+s+o),Math.round(i.top+a+l)),new Fe(Math.round(i.left+s),Math.round(i.top+a+l))];default:return[new Fe(Math.round(r.left),Math.round(r.top)),new Fe(Math.round(r.left+r.width),Math.round(r.top)),new Fe(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Fe(Math.round(r.left),Math.round(r.height+r.top))]}},dbe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Sz="Hidden Text",fbe=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",a.appendChild(i),r.src=dbe,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Sz)),i.appendChild(s),i.appendChild(r);var o=r.offsetTop-s.offsetTop+2;i.removeChild(s),i.appendChild(this._document.createTextNode(Sz)),i.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-i.offsetTop+2;return a.removeChild(i),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},n})(),JX=(function(){function n(e,t){this.context=e,this.options=t}return n})(),hbe=1e4,pbe=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new fbe(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return i.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),nbe(t)&&(this.ctx.globalAlpha=t.opacity),tbe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),$X(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return as(this,void 0,void 0,function(){var i;return Gr(this,function(r){switch(r.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return as(this,void 0,void 0,function(){return Gr(this,function(i){switch(i.label){case 0:if(Gi(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,r){var s=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r);else{var a=tk(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+r),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=wbe(t.fontFamily).join(", "),s=JB(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(t,i){return as(this,void 0,void 0,function(){var r,s,a,o,l,u,d,h,g=this;return Gr(this,function(v){return r=this.createFontStyle(i),s=r[0],a=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=i.paintOrder,t.textBounds.forEach(function(b){h.forEach(function(C){switch(C){case 0:g.ctx.fillStyle=Zi(i.color),g.renderTextWithLetterSpacing(b,i.letterSpacing,u);var E=i.textShadow;E.length&&b.text.trim().length&&(E.slice(0).reverse().forEach(function(x){g.ctx.shadowColor=Zi(x.color),g.ctx.shadowOffsetX=x.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=x.offsetY.number*g.options.scale,g.ctx.shadowBlur=x.blur.number,g.renderTextWithLetterSpacing(b,i.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),i.textDecorationLine.length&&(g.ctx.fillStyle=Zi(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(x){switch(x){case 1:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:g.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+d),b.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&b.text.trim().length&&(g.ctx.strokeStyle=Zi(i.webkitTextStrokeColor),g.ctx.lineWidth=i.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=yT(t),a=vT(i);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return as(this,void 0,void 0,function(){var i,r,s,a,o,l,I,I,u,d,h,g,R,v,b,P,C,E,x,I,T,R,P;return Gr(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,r=t.curves,s=i.styles,a=0,o=i.textNodes,D.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof FX))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof MX&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof UX))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof NX&&i.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,u.render(i.tree)]):[3,14];case 13:d=D.sent(),i.width&&i.height&&this.ctx.drawImage(d,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),D.label=14;case 14:if(i instanceof nk&&(h=Math.min(i.bounds.width,i.bounds.height),i.type===fT?i.checked&&(this.ctx.save(),this.path([new Fe(i.bounds.left+h*.39363,i.bounds.top+h*.79),new Fe(i.bounds.left+h*.16,i.bounds.top+h*.5549),new Fe(i.bounds.left+h*.27347,i.bounds.top+h*.44071),new Fe(i.bounds.left+h*.39694,i.bounds.top+h*.5649),new Fe(i.bounds.left+h*.72983,i.bounds.top+h*.23),new Fe(i.bounds.left+h*.84,i.bounds.top+h*.34085),new Fe(i.bounds.left+h*.39363,i.bounds.top+h*.79)]),this.ctx.fillStyle=Zi(dz),this.ctx.fill(),this.ctx.restore()):i.type===hT&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+h/2,i.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Zi(dz),this.ctx.fill(),this.ctx.restore())),gbe(i)&&i.value.length){switch(g=this.createFontStyle(s),R=g[0],v=g[1],b=this.fontMetrics.getMetrics(R,v).baseline,this.ctx.font=R,this.ctx.fillStyle=Zi(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=vbe(i.styles.textAlign),P=yT(i),C=0,i.styles.textAlign){case 1:C+=P.width/2;break;case 2:C+=P.width;break}E=P.add(C,0,0,-P.height/2+1),this.ctx.save(),this.path([new Fe(P.left,P.top),new Fe(P.left+P.width,P.top),new Fe(P.left+P.width,P.top+P.height),new Fe(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Qw(i.value,E),s.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Gi(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(x=i.styles.listStyleImage,x.type!==0)return[3,18];I=void 0,T=x.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=D.sent(),this.ctx.drawImage(I,i.bounds.left-(I.width+10),i.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=Zi(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new Iu(i.bounds.left,i.bounds.top+Fn(i.styles.paddingTop,i.bounds.width),i.bounds.width,WG(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Qw(t.listValue,P),s.letterSpacing,WG(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return as(this,void 0,void 0,function(){var i,r,x,s,a,x,o,l,x,u,d,x,h,g,x,v,b,x,C,E,x;return Gr(this,function(I){switch(I.label){case 0:if(Gi(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),i=0,r=t.negativeZIndex,I.label=2;case 2:return i<r.length?(x=r[i],[4,this.renderStack(x)]):[3,5];case 3:I.sent(),I.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(x=a[s],[4,this.renderNode(x)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(x=l[o],[4,this.renderStack(x)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(x=d[u],[4,this.renderStack(x)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(x=g[h],[4,this.renderNode(x)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,b=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<b.length?(x=b[v],[4,this.renderStack(x)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:C=0,E=t.positiveZIndex,I.label=27;case 27:return C<E.length?(x=E[C],[4,this.renderStack(x)]):[3,30];case 28:I.sent(),I.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(r,s){var a=ao(r)?r.start:r;s===0?i.ctx.moveTo(a.x,a.y):i.ctx.lineTo(a.x,a.y),ao(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,i,r,s){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(t,i,r){var s;if(t.width===i&&t.height===r)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,i),o.height=Math.max(1,r);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,i,r),o},e.prototype.renderBackgroundImage=function(t){return as(this,void 0,void 0,function(){var i,r,s,a,o,l;return Gr(this,function(u){switch(u.label){case 0:i=t.styles.backgroundImage.length-1,r=function(d){var h,g,v,K,G,$,Z,ne,H,b,K,G,$,Z,ne,C,E,x,I,T,R,P,D,Q,H,k,K,V,z,Z,ne,de,G,$,re,ae,Ee,q,Y,le,ye,Be;return Gr(this,function(_e){switch(_e.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,_e.label=1;case 1:return _e.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=_e.sent(),[3,4];case 3:return _e.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=OU(t,i,[h.width,h.height,h.width/h.height]),K=v[0],G=v[1],$=v[2],Z=v[3],ne=v[4],H=s.ctx.createPattern(s.resizeImage(h,Z,ne),"repeat"),s.renderRepeat(K,H,G,$)),[3,6];case 5:tye(d)?(b=OU(t,i,[null,null,null]),K=b[0],G=b[1],$=b[2],Z=b[3],ne=b[4],C=Yve(d.angle,Z,ne),E=C[0],x=C[1],I=C[2],T=C[3],R=C[4],P=document.createElement("canvas"),P.width=Z,P.height=ne,D=P.getContext("2d"),Q=D.createLinearGradient(x,T,I,R),$G(d.stops,E).forEach(function(we){return Q.addColorStop(we.stop,Zi(we.color))}),D.fillStyle=Q,D.fillRect(0,0,Z,ne),Z>0&&ne>0&&(H=s.ctx.createPattern(P,"repeat"),s.renderRepeat(K,H,G,$))):nye(d)&&(k=OU(t,i,[null,null,null]),K=k[0],V=k[1],z=k[2],Z=k[3],ne=k[4],de=d.position.length===0?[JQ]:d.position,G=Fn(de[0],Z),$=Fn(de[de.length-1],ne),re=Xve(d,G,$,Z,ne),ae=re[0],Ee=re[1],ae>0&&Ee>0&&(q=s.ctx.createRadialGradient(V+G,z+$,0,V+G,z+$,ae),$G(d.stops,ae*2).forEach(function(we){return q.addColorStop(we.stop,Zi(we.color))}),s.path(K),s.ctx.fillStyle=q,ae!==Ee?(Y=t.bounds.left+.5*t.bounds.width,le=t.bounds.top+.5*t.bounds.height,ye=Ee/ae,Be=1/ye,s.ctx.save(),s.ctx.translate(Y,le),s.ctx.transform(1,0,0,ye,0,0),s.ctx.translate(-Y,-le),s.ctx.fillRect(V,Be*(z-le)+le,Z,ne*Be),s.ctx.restore()):s.ctx.fill())),_e.label=6;case 6:return i--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,r(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,r){return as(this,void 0,void 0,function(){return Gr(this,function(s){return this.path(Ez(r,i)),this.ctx.fillStyle=Zi(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,r,s){return as(this,void 0,void 0,function(){var a,o;return Gr(this,function(l){switch(l.label){case 0:return i<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=sbe(s,r),this.path(a),this.ctx.fillStyle=Zi(t),this.ctx.fill(),o=abe(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return as(this,void 0,void 0,function(){var i,r,s,a,o,l,u,d,h=this;return Gr(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,r=!$d(i.backgroundColor)||i.backgroundImage.length,s=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],a=mbe(Hg(i.backgroundClip,0),t.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),$d(i.backgroundColor)||(this.ctx.fillStyle=Zi(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var b=mT(t.curves),C=v.inset?0:hbe,E=ibe(b,-C+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(b),h.ctx.clip(),h.mask(E)):(h.mask(b),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=v.offsetX.number+C,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=Zi(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?Zi(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!$d(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,r,s,a){return as(this,void 0,void 0,function(){var o,l,u,d,h,g,v,b,C,E,x,I,T,R,P,D,P,D;return Gr(this,function(Q){return this.ctx.save(),o=obe(s,r),l=Ez(s,r),a===2&&(this.path(l),this.ctx.clip()),ao(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),ao(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),r===0||r===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=i<3?i*3:i*2,C=i<3?i*2:i,a===3&&(b=i,C=i),E=!0,v<=b*2?E=!1:v<=b*2+C?(x=v/(2*b+C),b*=x,C*=x):(I=Math.floor((v+C)/(b+C)),T=(v-I*b)/(I-1),R=(v-(I+1)*b)/I,C=R<=0||Math.abs(C-T)<Math.abs(C-R)?T:R),E&&(a===3?this.ctx.setLineDash([0,b+C]):this.ctx.setLineDash([b,C])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=Zi(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(ao(l[0])&&(P=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new Fe(P.end.x,P.end.y),new Fe(D.start.x,D.start.y)]),this.ctx.stroke()),ao(l[1])&&(P=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new Fe(P.end.x,P.end.y),new Fe(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return as(this,void 0,void 0,function(){var i;return Gr(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Zi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=rbe(t),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(JX),gbe=function(n){return n instanceof DX||n instanceof RX?!0:n instanceof nk&&n.type!==hT&&n.type!==fT},mbe=function(n,e){switch(n){case 0:return mT(e);case 2:return Jwe(e);case 1:default:return vT(e)}},vbe=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ybe=["-apple-system","system-ui"],wbe=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return ybe.indexOf(e)===-1}):n},bbe=(function(n){Xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return e.prototype.render=function(t){return as(this,void 0,void 0,function(){var i,r;return Gr(this,function(s){switch(s.label){case 0:return i=gL(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Cbe(i)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Zi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(JX),Cbe=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Bbe=(function(){function n(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,JS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,JS([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,JS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,JS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),Ebe=(function(){function n(e,t){var i;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new Bbe({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new Gwe(this,e)}return n.instanceCount=1,n})(),Sbe=function(n,e){return e===void 0&&(e={}),xbe(n,e)};typeof window<"u"&&qX.setContext(window);var xbe=function(n,e){return as(void 0,void 0,void 0,function(){var t,i,r,s,a,o,l,u,d,h,g,v,b,C,E,x,I,T,R,P,Q,D,Q,H,k,K,V,z,Z,ne,de,G,$,re,ae,Ee,q,Y,le,ye;return Gr(this,function(Be){switch(Be.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(K=e.useCORS)!==null&&K!==void 0?K:!1},s=tL({logging:(V=e.logging)!==null&&V!==void 0?V:!0,cache:e.cache},r),a={windowWidth:(z=e.windowWidth)!==null&&z!==void 0?z:i.innerWidth,windowHeight:(Z=e.windowHeight)!==null&&Z!==void 0?Z:i.innerHeight,scrollX:(ne=e.scrollX)!==null&&ne!==void 0?ne:i.pageXOffset,scrollY:(de=e.scrollY)!==null&&de!==void 0?de:i.pageYOffset},o=new Iu(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new Ebe(s,o),u=(G=e.foreignObjectRendering)!==null&&G!==void 0?G:!1,d={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new bz(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=Be.sent(),b=ik(g)||_we(g)?ime(g.ownerDocument):z1(l,g),C=b.width,E=b.height,x=b.left,I=b.top,T=_be(l,g,e.backgroundColor),R={canvas:e.canvas,backgroundColor:T,scale:(ae=(re=e.scale)!==null&&re!==void 0?re:i.devicePixelRatio)!==null&&ae!==void 0?ae:1,x:((Ee=e.x)!==null&&Ee!==void 0?Ee:0)+x,y:((q=e.y)!==null&&q!==void 0?q:0)+I,width:(Y=e.width)!==null&&Y!==void 0?Y:Math.ceil(C),height:(le=e.height)!==null&&le!==void 0?le:Math.ceil(E)},u?(l.logger.debug("Document cloned, using foreign object rendering"),Q=new bbe(l,R),[4,Q.render(g)]):[3,3];case 2:return P=Be.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+I+" with size "+C+"x"+E+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=QX(l,g),T===D.styles.backgroundColor&&(D.styles.backgroundColor=Cu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),Q=new pbe(l,R),[4,Q.render(D)];case 4:P=Be.sent(),Be.label=5;case 5:return(!((ye=e.removeContainer)!==null&&ye!==void 0)||ye)&&(bz.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,P]}})})},_be=function(n,e,t){var i=e.ownerDocument,r=i.documentElement?Nw(n,getComputedStyle(i.documentElement).backgroundColor):Cu.TRANSPARENT,s=i.body?Nw(n,getComputedStyle(i.body).backgroundColor):Cu.TRANSPARENT,a=typeof t=="string"?Nw(n,t):t===null?Cu.TRANSPARENT:4294967295;return e===i.documentElement?$d(r)?$d(s)?a:s:r:a};const Tbe=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:i,viewMode:r,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:b,showAnnotations:C,triggerSmartExplain:E,isCaptureMode:x,setCaptureMode:I,setCapturedImage:T}=sf(),R=n||t,P=e==="main",D=M.useRef(null),Q=M.useRef(null),H=M.useRef(0),[k,K]=M.useState({text:"",top:0,left:0,show:!1}),[V,z]=M.useState({show:!1,text:""}),[Z,ne]=M.useState(!1),[de,G]=M.useState([]),[$,re]=M.useState(null),[ae,Ee]=M.useState(null);M.useEffect(()=>{if(!P)return;const xe=J=>{J.key==="Escape"&&x&&(I(!1),re(null),Ee(null))};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[x,I,P]);const q=M.useMemo(()=>{let xe=R.content;return C&&[...v.filter(Me=>Me.chapterId===R.id)].sort((Me,Bt)=>Bt.text.length-Me.text.length).forEach(Me=>{const Bt=Me.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Le=new RegExp(Bt,"g"),vn=`<mark id="hl-${Me.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${Me.note||"Highlight"}">${Me.text}</mark>`;xe=xe.replace(Le,vn)}),xe},[R.content,R.id,v,C]);M.useEffect(()=>{if(b&&C){const xe=document.getElementById(`hl-${b}`);xe&&document.body.contains(xe)&&(xe.scrollIntoView({behavior:"smooth",block:"center"}),xe.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{xe.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[b,q,C]),M.useEffect(()=>{const xe=J=>{const be=J.target;!be.closest(`#selection-menu-${e}`)&&!be.closest(`#memo-dialog-${e}`)&&K(Me=>({...Me,show:!1}))};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[e]);const Y=()=>{var J,be;const xe=window.getSelection();if(xe&&xe.toString().trim().length>0){if(!(((J=D.current)==null?void 0:J.contains(xe.anchorNode))||((be=D.current)==null?void 0:be.contains(xe.focusNode))))return;const Le=xe.getRangeAt(0).getBoundingClientRect();let vn=Le.top-60,qt=Le.left+Le.width/2-100;vn<0&&(vn=Le.bottom+10),qt<10&&(qt=10),qt+200>window.innerWidth&&(qt=window.innerWidth-220),K({text:xe.toString(),top:vn,left:qt,show:!0})}else K(Me=>({...Me,show:!1}))},le=xe=>{P&&x||a==="idle"&&setTimeout(Y,10)},ye=()=>{var xe;s(k.text,void 0,R.id),K(J=>({...J,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},Be=()=>{K(xe=>({...xe,show:!1})),z({show:!0,text:""})},_e=()=>{var xe;V.text.trim()&&s(k.text,V.text,R.id),z({show:!1,text:""}),(xe=window.getSelection())==null||xe.removeAllRanges()},we=()=>{var xe;E(k.text),K(J=>({...J,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},at=xe=>{if(!Q.current)return null;const J=Q.current.getBoundingClientRect();if(J.width===0||J.height===0)return null;const be=Q.current.width/J.width,Me=Q.current.height/J.height;return{x:(xe.clientX-J.left)*be,y:(xe.clientY-J.top)*Me}},se=xe=>{var be;if(P&&x||a==="idle")return;xe.target.setPointerCapture(xe.pointerId);const J=at(xe);if(J&&(ne(!0),G([J]),D.current&&a==="pen")){const Me=Array.from(D.current.children);let Bt=0;const Le=(be=Q.current)==null?void 0:be.getBoundingClientRect(),vn=xe.clientY-((Le==null?void 0:Le.top)||0);for(let qt=0;qt<Me.length;qt++){const Yi=Me[qt];if(vn>=Yi.offsetTop&&vn<=Yi.offsetTop+Yi.offsetHeight){Bt=qt;break}if(vn<Yi.offsetTop){Bt=Math.max(0,qt-1);break}Bt=qt}H.current=Bt}},Ne=xe=>{if(P&&x||!Z||a==="idle")return;xe.preventDefault();const J=at(xe);if(J){if(a==="pen")G(be=>[...be,J]);else if(a==="eraser"){const be=d[R.id]||[],Me=D.current?Array.from(D.current.children):[];be.forEach(Bt=>{let Le=Bt.points;if(Bt.anchorIndex!==void 0&&Me[Bt.anchorIndex]){const qt=Me[Bt.anchorIndex].offsetTop;Le=Bt.points.map(Yi=>({x:Yi.x,y:Yi.y+qt}))}Le.some(qt=>Math.hypot(qt.x-J.x,qt.y-J.y)<20)&&g(R.id,Bt.id)})}}},$e=xe=>{if(!(P&&x)&&Z){if(xe.target.releasePointerCapture(xe.pointerId),ne(!1),a==="pen"&&de.length>1){let J=de,be;if(D.current){be=H.current;const Bt=D.current.children;if(Bt[be]){const Le=Bt[be].offsetTop;J=de.map(vn=>({x:vn.x,y:vn.y-Le}))}}const Me={id:Date.now().toString(),points:J,color:o,width:l,opacity:u,anchorIndex:be};h(R.id,Me)}G([])}},me=xe=>{if(!P||!x)return;const J={x:xe.clientX,y:xe.clientY};re(J),Ee(J)},Nt=xe=>{!P||!x||!$||Ee({x:xe.clientX,y:xe.clientY})},Xe=async xe=>{if(!P||!x||!$||!ae){re(null),Ee(null);return}const J=$,be={x:xe.clientX,y:xe.clientY},Me={x:Math.min(J.x,be.x),y:Math.min(J.y,be.y),width:Math.abs(be.x-J.x),height:Math.abs(be.y-J.y)};if(re(null),Ee(null),!(Me.width<10||Me.height<10))try{const Bt=await Sbe(document.body,{x:Me.x+window.scrollX,y:Me.y+window.scrollY,width:Me.width,height:Me.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:Le=>Le.classList.contains("capture-overlay-ui")});T(Bt.toDataURL())}catch(Bt){console.error(Bt)}finally{I(!1)}};M.useEffect(()=>{const xe=Q.current;if(!xe||!D.current)return;const J=()=>{if(!xe||!D.current)return;const Me=window.devicePixelRatio||1;xe.width=D.current.offsetWidth*Me,xe.height=D.current.offsetHeight*Me;const Bt=xe.getContext("2d");Bt&&Bt.scale(Me,Me)};J();const be=new ResizeObserver(J);return be.observe(D.current),()=>be.disconnect()},[R.id,r]),M.useEffect(()=>{const xe=Q.current;if(!xe||!D.current)return;const J=xe.getContext("2d");if(!J||(J.save(),J.setTransform(1,0,0,1,0,0),J.clearRect(0,0,xe.width,xe.height),J.restore(),!C&&!Z))return;const be=(Le,vn,qt,Yi)=>{if(!(Le.length<2)){J.beginPath(),J.lineWidth=qt,J.strokeStyle=vn,J.lineCap="round",J.lineJoin="round",J.globalAlpha=Yi,J.moveTo(Le[0].x,Le[0].y);for(let ps=1;ps<Le.length-1;ps++){const Xr={x:(Le[ps].x+Le[ps+1].x)/2,y:(Le[ps].y+Le[ps+1].y)/2};J.quadraticCurveTo(Le[ps].x,Le[ps].y,Xr.x,Xr.y)}J.lineTo(Le[Le.length-1].x,Le[Le.length-1].y),J.stroke(),J.globalAlpha=1}},Me=Array.from(D.current.children);(d[R.id]||[]).forEach(Le=>{let vn=Le.points;if(Le.anchorIndex!==void 0&&Me[Le.anchorIndex]){const qt=Me[Le.anchorIndex].offsetTop;vn=Le.points.map(Yi=>({x:Yi.x,y:Yi.y+qt}))}be(vn,Le.color,Le.width||3,Le.opacity!==void 0?Le.opacity:1)}),Z&&de.length>1&&a==="pen"&&be(de,o,l,u)},[d,R.id,Z,de,o,l,u,a,C]);const Xt=()=>{switch(i){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},kt=P&&x&&$&&ae?{position:"fixed",left:Math.min($.x,ae.x),top:Math.min($.y,ae.y),width:Math.abs(ae.x-$.x),height:Math.abs(ae.y-$.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},si={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},ot=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,ai=e==="main"&&r==="double",Yr=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${ai?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",Jt=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${Xt()} ${ai?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,Os=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return L.jsxs("div",{className:Os,onPointerUp:le,children:[P&&x&&L.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:me,onMouseMove:Nt,onMouseUp:Xe,children:!$&&L.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),P&&x&&$&&ae&&L.jsx("div",{style:kt,className:"capture-overlay-ui"}),L.jsxs("div",{className:Yr,children:[L.jsx("div",{ref:D,className:Jt,dangerouslySetInnerHTML:{__html:q},onContextMenu:xe=>xe.preventDefault()}),L.jsx("canvas",{ref:Q,className:ot,style:si,onPointerDown:se,onPointerMove:Ne,onPointerUp:$e,onPointerLeave:$e})]}),k.show&&!x&&L.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:k.top,left:k.left},children:[L.jsxs("button",{onClick:ye,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(E_,{size:14,className:"text-yellow-400"})," High"]}),L.jsx("div",{className:"w-px h-4 bg-slate-600"}),L.jsxs("button",{onClick:Be,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(Rhe,{size:14,className:"text-green-400"})," Memo"]}),L.jsx("div",{className:"w-px h-4 bg-slate-600"}),L.jsxs("button",{onClick:we,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(ohe,{size:14,className:"text-blue-400"})," AI"]})]}),V.show&&L.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:L.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[L.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),L.jsx("textarea",{autoFocus:!0,value:V.text,onChange:xe=>z(J=>({...J,text:xe.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),L.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[L.jsx("button",{onClick:()=>z({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),L.jsx("button",{onClick:_e,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},Q0=({text:n,query:e})=>{if(!e||!e.trim())return L.jsx(L.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`(${t})`,"gi"),r=n.split(i);return L.jsx("span",{children:r.map((s,a)=>i.test(s)?L.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},ZX=({isOpen:n,onClose:e,side:t,title:i,children:r})=>L.jsxs(L.Fragment,{children:[L.jsx("div",{className:` ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),L.jsx("aside",{className:`h-full ${t==="left"?"left-0 border-r":"right-0 border-l"} ${n?"translate-x-0":t==="left"?"-translate-x-full md:translate-x-0":"translate-x-full md:translate-x-0"} w-80 md:w-full`,children:L.jsxs("div",{className:"h-full",children:[L.jsxs("div",{className:"hidden",children:[i&&L.jsx("h2",{className:"font-semibold text-slate-800 dark:text-slate-200",children:i}),L.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-500",children:L.jsx(pN,{size:18})})]}),L.jsx("div",{className:"flex-1 h-full",children:r})]})})]}),Ibe=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:i,goToChapter:r,hasStrokes:s,bookmarks:a,goToPdfPage:o,removePdfBookmark:l,currentPdfPage:u}=sf(),[d,h]=M.useState("contents"),g=M.useRef(null),v=M.useRef([]);return M.useEffect(()=>{if(d!=="contents")return;const b=v.current[i];if(!b)return;const C=g.current;if(!C){b.scrollIntoView({block:"center",behavior:"smooth"});return}const E=C.getBoundingClientRect(),x=b.getBoundingClientRect();x.top>=E.top&&x.bottom<=E.bottom||b.scrollIntoView({block:"center",behavior:"smooth"})},[i,d]),L.jsx(ZX,{isOpen:n,onClose:e,side:"left",title:"Contents",children:L.jsxs("div",{className:"",children:[L.jsxs("div",{className:"chapter_favor_wrap",children:[L.jsxs("button",{onClick:()=>h("contents"),className:`chapter ${d==="contents"?"on":"off"}`,children:[L.jsx(nhe,{size:14})," Chapters"]}),L.jsxs("button",{onClick:()=>h("bookmarks"),className:`favor ${d==="bookmarks"?"on":"off"}`,children:[L.jsx(cN,{size:14})," Favorites"]})]}),L.jsxs("div",{className:"chapter_list",ref:g,children:[d==="contents"&&t.map((b,C)=>L.jsx("button",{ref:E=>{v.current[C]=E},onClick:()=>{r(C),window.innerWidth<768&&e()},className:` ${C===i?"on":"off"}`,children:L.jsxs("div",{className:"chapter_list_inner",children:[L.jsxs("div",{className:"",children:[L.jsx("span",{className:`text_xs ${C===i?"on":"off"}`,children:String(C+1).padStart(2,"0")}),L.jsx("span",{className:"line_clamp_1",children:b.title})]}),s(b.id)&&L.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:L.jsx(qW,{size:10})})]})},b.id)),d==="bookmarks"&&a.map(b=>L.jsxs("div",{className:`bookmark_item_row ${b.page===u?"active":""}`,children:[L.jsxs("button",{onClick:()=>{o(b.page),window.innerWidth<768&&e()},className:"bookmark_item_button",children:[L.jsx("div",{className:"bookmark_page_badge",children:L.jsx("span",{className:"bookmark_label line_clamp_1",children:`P. ${b.page}`})}),L.jsx("div",{className:"bookmark_item_text",children:L.jsxs("span",{className:"bookmark_meta",children:["Saved ",new Date(b.createdAt).toLocaleDateString()]})})]}),L.jsx("button",{onClick:C=>{C.stopPropagation(),l(b.id)},className:"bookmark_remove_btn",title:"Delete bookmark",children:L.jsx(hN,{size:14})})]},b.id)),d==="bookmarks"&&a.length===0&&L.jsxs("div",{className:"non_book_mark",children:[L.jsx(cN,{size:24,className:"mx-auto mb-2 text-slate-400"}),L.jsx("p",{className:"text_sm",children:"No bookmarks yet"}),L.jsx("p",{className:"text_sm",children:"Use the bookmark icon near Search to save a page."})]})]})]})})},Fbe=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:i,updateHighlight:r,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:b,chapters:C,aiChatHistory:E,addChatMessage:x,activeToolTab:I,setActiveToolTab:T,setCaptureMode:R,capturedImage:P,setCapturedImage:D,referenceDocument:Q,uploadBook:H,searchQuery:k,setSearchQuery:K,performSearch:V,goToPdfPage:z,pdfSearchHighlight:Z,setPdfSearchHighlight:ne}=sf(),[de,G]=M.useState(""),[$,re]=M.useState(!1),[ae,Ee]=M.useState(null),[q,Y]=M.useState(null),[le,ye]=M.useState(""),[Be,_e]=M.useState(""),we=M.useRef(null),at=M.useRef(null);M.useEffect(()=>{ae&&we.current&&we.current.innerHTML!==(ae.content||"")&&(we.current.innerHTML=ae.content||"")},[ae==null?void 0:ae.id]);const se=()=>we.current?we.current.innerHTML:"",Ne=J=>{if(I==="notebook"&&ae){const be=se();Ee(Me=>Me?{...Me,content:be}:null)}T(J),_e("")},$e=J=>{Y(J.id),ye(J.note||"")},me=J=>{r(J,le),Y(null),ye("")},Nt=t.filter(J=>J.text.toLowerCase().includes(Be.toLowerCase())||J.note&&J.note.toLowerCase().includes(Be.toLowerCase())),Xe=o.filter(J=>J.title.toLowerCase().includes(Be.toLowerCase())||J.content.toLowerCase().includes(Be.toLowerCase()));M.useEffect(()=>{if(P&&ae){const J=`<div class="capture-img-container"><img src="${P}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,be=(ae.content||"")+J;Ee(Me=>Me?{...Me,content:be}:null),we.current&&(we.current.innerHTML=be),D(null)}},[P,D]);const Xt=async J=>{if(J.preventDefault(),!de.trim())return;const be=de;x("user",be),G(""),re(!0),a();const Me=await I6(be,s.content.substring(0,1e3));x("model",Me),re(!1)},kt=()=>{if(ae){const J=se();ae.title&&(ae.id?u(ae.id,ae.title,J):l(ae.title,J),Ee(null))}},si=(J,be=void 0)=>{document.execCommand(J,!1,be),we.current&&we.current.focus()},ot=(J,be,Me)=>{J.preventDefault(),si(be,Me)},ai=J=>{J.preventDefault();const be=se();Ee(Me=>Me?{...Me,content:be}:null),setTimeout(()=>R(!0),50)},Yr=J=>{J.preventDefault();const be=window.getSelection();if(be&&be.rangeCount>0){const Le=be.getRangeAt(0);we.current&&we.current.contains(Le.commonAncestorContainer)?at.current=Le.cloneRange():at.current=null}const Me=parseInt(prompt("Rows:","2")||"0"),Bt=parseInt(prompt("Columns:","2")||"0");if(we.current&&(we.current.focus(),at.current&&(be==null||be.removeAllRanges(),be==null||be.addRange(at.current)),Me>0&&Bt>0)){let Le='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let vn=0;vn<Me;vn++){Le+="<tr>";for(let qt=0;qt<Bt;qt++)Le+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';Le+="</tr>"}Le+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,Le)}},Jt=J=>{J.target.files&&J.target.files[0]&&H(J.target.files[0])},Os=()=>{const J=se();Ee(be=>be?{...be,content:J}:null)},xe=()=>{if(!ae)return;const J=se(),be=window.open("","","height=600,width=800");be&&(be.document.write(`<html><head><title>${ae.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${ae.title}</h1>${J}</body></html>`),be.document.close(),be.print())};return I==="search"&&V(k),L.jsx(ZX,{isOpen:n,onClose:e,side:"right",children:L.jsxs("div",{className:"h-full flex flex-col min-h-0",children:[L.jsxs("div",{className:"right_panel_menu",children:[L.jsx("button",{onClick:()=>Ne("ai"),className:`ai ${I==="ai"?"on":"off"}`,title:"AI",children:L.jsx(cU,{size:14})}),L.jsx("button",{onClick:()=>Ne("notes"),className:`notes ${I==="notes"?"on":"off"}`,title:"Highlights",children:L.jsx(E_,{size:14})}),L.jsx("button",{onClick:()=>Ne("notebook"),className:`notebook ${I==="notebook"?"on":"off"}`,title:"Notebook",children:L.jsx(uN,{size:14})}),L.jsx("button",{onClick:()=>Ne("reference"),className:`reference ${I==="reference"?"on":"off"}`,title:"Reference PDF",children:L.jsx(GK,{size:14})}),L.jsx("button",{onClick:()=>Ne("search"),className:`search ${I==="search"?"on":"off"}`,title:"Search",children:L.jsx(dU,{size:14})})]}),L.jsxs("div",{className:"text_area",children:[I==="ai"&&L.jsxs("div",{className:"ai",children:[L.jsxs("div",{className:"ai_talk",children:[E.length===0&&L.jsxs("div",{className:"ai_talk_inner",children:[L.jsx("div",{className:"icon",children:L.jsx(cU,{className:"text-blue-500",size:24})}),L.jsx("p",{className:"text_sm",children:"AI Study Companion"})]}),E.map((J,be)=>L.jsx("div",{className:`txt ${J.role==="user"?"ai_user_txt":"ai_txt"}`,children:L.jsx("div",{className:` ${J.role==="user"?"on":"off"}`,children:J.text})},be)),$&&L.jsx("div",{className:"flex flex-col items-start",children:L.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:L.jsxs("div",{className:"flex space-x-1",children:[L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})})]}),L.jsx("div",{className:"ai_user",children:L.jsxs("form",{onSubmit:Xt,className:"user_form",children:[L.jsx("input",{type:"text",value:de,onChange:J=>G(J.target.value),placeholder:"Ask AI...",className:""}),L.jsx("button",{type:"submit",disabled:!de.trim()||$,className:"enter",children:L.jsx(cU,{size:16})})]})})]}),I==="notes"&&L.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[L.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Filter highlights...",value:Be,onChange:J=>_e(J.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),L.jsx(zK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),L.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Nt.length===0&&L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(E_,{size:24,className:"mx-auto mb-2"}),L.jsx("p",{className:"text-sm",children:"No highlights"})]}),Nt.map(J=>L.jsxs("div",{onClick:()=>{b(C.findIndex(be=>be.id===J.chapterId)),v(J.id)},className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[L.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[L.jsx("span",{children:J.chapterId==="reference-doc"?"Reference PDF":`Chapter ${C.findIndex(be=>be.id===J.chapterId)+1}`}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:be=>{be.stopPropagation(),$e(J)},title:"Edit Note",children:L.jsx(vhe,{size:12})}),L.jsx("button",{onClick:be=>{be.stopPropagation(),i(J.id)},title:"Delete",children:L.jsx(hN,{size:12})})]})]}),L.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',L.jsx(Q0,{text:J.text,query:Be}),'"']}),q===J.id?L.jsxs("div",{onClick:be=>be.stopPropagation(),className:"mt-2 animate-fade-in",children:[L.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:le,onChange:be=>ye(be.target.value),autoFocus:!0,rows:3}),L.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[L.jsx("button",{onClick:()=>Y(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),L.jsx("button",{onClick:()=>me(J.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):J.note?L.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:L.jsx(Q0,{text:J.note,query:Be})}):L.jsxs("button",{onClick:be=>{be.stopPropagation(),$e(J)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[L.jsx(fN,{size:10})," Add Note"]})]},J.id))]})]}),I==="notebook"&&L.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:ae?L.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[L.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[L.jsx("button",{onClick:()=>Ee(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),L.jsxs("button",{onClick:kt,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[L.jsx($W,{size:14})," Save"]})]}),L.jsx("div",{className:"px-4 pt-4 pb-2",children:L.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:ae.title||"",onChange:J=>{const be=se();Ee(Me=>Me?{...Me,title:J.target.value,content:be}:null)}})}),L.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[L.jsx("button",{onMouseDown:J=>ot(J,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(Sfe,{size:14})}),L.jsx("button",{onMouseDown:J=>ot(J,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx("span",{className:"italic",children:"I"})}),L.jsx("button",{onMouseDown:J=>ot(J,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(E_,{size:14})}),L.jsx("button",{onMouseDown:Yr,className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(Nhe,{size:14})}),L.jsx("button",{onMouseDown:ai,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:L.jsx(Nfe,{size:14})}),L.jsx("button",{onClick:xe,className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(xhe,{size:14})})]}),L.jsx("div",{ref:we,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:Os},ae.id)]}):L.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[L.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[L.jsx(Hhe,{size:14}),L.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:Jt})]}),L.jsxs("button",{onClick:()=>Ee({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[L.jsx(fN,{size:14})," New"]})]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Search notes...",value:Be,onChange:J=>_e(J.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),L.jsx(zK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),L.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[Xe.length===0&&L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(uN,{size:32,className:"mx-auto text-slate-300 mb-2"}),L.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),Xe.map(J=>L.jsxs("div",{onClick:()=>Ee(J),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[L.jsxs("div",{className:"flex justify-between mb-1",children:[L.jsx("h4",{className:"font-semibold text-sm",children:L.jsx(Q0,{text:J.title,query:Be})}),L.jsx("button",{onClick:be=>{be.stopPropagation(),d(J.id)},children:L.jsx(hN,{size:12,"text-slate-300":!0})})]}),L.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:L.jsx(Q0,{text:J.content.replace(/<[^>]+>/g," "),query:Be})})]},J.id))]})]})}),I==="reference"&&L.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:Q?L.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:L.jsx(Tbe,{customChapter:Q,variant:"side"})}):L.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[L.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:L.jsx(GK,{size:32,className:"text-slate-400"})}),L.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),L.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",L.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",L.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),L.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[L.jsx(dN,{size:16}),L.jsx("span",{children:"Upload PDF"}),L.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:Jt})]})]})}),I==="search"&&L.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[L.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:k,onChange:J=>{K(J.target.value),ne(null)},className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),L.jsx(dU,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),L.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:k.length>1?I==="search"&&V(k).length>0?V(k).map(J=>L.jsxs("div",{onClick:()=>{if(J.type==="note"){const be=o.find(Me=>`note-${Me.id}`===J.id);be&&(Ee(be),T("notebook"))}else if(J.type==="pdf")J.pageNumber&&(z(J.pageNumber),ne({page:J.pageNumber,term:k}));else{const be=C.findIndex(Me=>Me.id===J.chapterId);be!==-1&&(b(be),J.type==="highlight"&&v(J.id.replace("hl-","")))}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[L.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[L.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${J.type==="chapter"?"bg-blue-100 text-blue-600":J.type==="highlight"?"bg-yellow-100 text-yellow-600":J.type==="pdf"?"bg-indigo-100 text-indigo-600":"bg-green-100 text-green-600"}`,children:J.type}),L.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:J.title})]}),L.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:L.jsx(Q0,{text:J.contentSnippet,query:k})})]},J.id)):L.jsx("div",{className:"text-center py-10 opacity-50",children:L.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',k,'"']})}):L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(dU,{size:24,className:"mx-auto mb-2 text-slate-300"}),L.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})})},Mbe=()=>{const[n,e]=M.useState(!0),[t,i]=M.useState(!1),{isToolsOpen:r,setToolsOpen:s,registerPdfNavigator:a,setCurrentPdfPage:o}=sf(),[l,u]=M.useState(0),[d,h]=M.useState(1),g=M.useRef(),v=M.useCallback(V=>{h(V),o(V)},[o]),b=M.useCallback(V=>{u(V)},[]),C=M.useCallback(V=>{g.current=V,a(V)},[a]),[E,x]=M.useState(300),[I,T]=M.useState(350),[R,P]=M.useState(!1),[D,Q]=M.useState(!1),H=M.useRef(null);M.useEffect(()=>{const V=()=>{const z=window.innerWidth<=1300;i(z),z?(e(!1),s(!0)):(e(!0),s(!0))};return V(),window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[s]),M.useEffect(()=>{t&&r&&e(!1)},[r,t]),M.useEffect(()=>{const V=Z=>{if(!H.current)return;(R||D)&&Z.preventDefault();const ne=H.current.getBoundingClientRect();if(R){const de=Z.clientX-ne.left;de>200&&de<500&&x(de)}if(D){const de=ne.right-Z.clientX;de>280&&de<600&&T(de)}},z=()=>{P(!1),Q(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(R||D)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",V),window.addEventListener("mouseup",z)),()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",z),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[R,D]);const k=()=>{if(t){const V=!n;e(V),V&&s(!1);return}e(!n)};return L.jsxs("div",{children:[L.jsx(jW,{toggleSidebar:k,isSidebarOpen:n}),L.jsxs("div",{ref:H,className:"split_container",children:[L.jsxs("div",{className:`left_side_wrap ${n?"on":"off"}`,style:{width:n?window.innerWidth<768?"0px":`${E}px`:"0px"},children:[L.jsx("div",{className:"left_side_inner",children:L.jsx(Ibe,{isOpen:n,onClose:()=>e(!1)})}),n&&window.innerWidth>=768&&L.jsx("div",{className:"",onMouseDown:()=>P(!0),children:L.jsx("div",{className:""})})]}),L.jsxs("main",{className:"content_container",children:[L.jsx("div",{className:"cc_top",children:L.jsx(tme,{file:"/campusbook-viewer-ai/pdf/test4.pdf",onPageChange:v,onPagesCount:b,registerGoToPage:C})}),L.jsx("div",{className:"cc_bottom",children:L.jsx(nme,{pdfPageCount:l,pdfCurrentPage:d,onPdfGoToPage:V=>{var z;return(z=g.current)==null?void 0:z.call(g,V)}})})]}),L.jsxs("div",{className:`right_panel_wrap ${r?"on":"off"}`,style:{width:r?window.innerWidth<768?"0px":`${I}px`:"0px"},children:[r&&window.innerWidth>=768&&L.jsx("div",{className:"separate",onMouseDown:()=>Q(!0),children:L.jsx("div",{className:""})}),L.jsx("div",{className:"h-full w-full overflow-hidden",children:L.jsx(Fbe,{isOpen:r,onClose:()=>s(!1)})})]})]})]})};function e9(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=e9(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ln(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=e9(n))&&(i&&(i+=" "),i+=e);return i}var Ube=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rk(n){if(typeof n!="string")return!1;var e=Ube;return e.includes(n)}var Pbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Rbe=new Set(Pbe);function t9(n){return typeof n!="string"?!1:Rbe.has(n)}function n9(n){return typeof n=="string"&&n.startsWith("data-")}function Jd(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(t9(t)||n9(t))&&(e[t]=n[t]);return e}function sk(n){if(n==null)return null;if(M.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Jd(e)}return typeof n=="object"&&!Array.isArray(n)?Jd(n):null}function go(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(t9(t)||n9(t)||rk(t))&&(e[t]=n[t]);return e}var Dbe=["children","width","height","viewBox","className","style","title","desc"];function BL(){return BL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},BL.apply(null,arguments)}function Nbe(n,e){if(n==null)return{};var t,i,r=Lbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Lbe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var i9=M.forwardRef((n,e)=>{var{children:t,width:i,height:r,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=Nbe(n,Dbe),h=s||{width:i,height:r,x:0,y:0},g=Ln("recharts-surface",a);return M.createElement("svg",BL({},go(d),{className:g,width:i,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),M.createElement("title",null,l),M.createElement("desc",null,u),t)}),Qbe=["children","className"];function EL(){return EL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},EL.apply(null,arguments)}function kbe(n,e){if(n==null)return{};var t,i,r=Obe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Obe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var Fu=M.forwardRef((n,e)=>{var{children:t,className:i}=n,r=kbe(n,Qbe),s=Ln("recharts-layer",i);return M.createElement("g",EL({className:s},go(r),{ref:e}),t)}),Hbe=M.createContext(null);function In(n){return function(){return n}}const r9=Math.cos,wT=Math.sin,Jo=Math.sqrt,bT=Math.PI,tI=2*bT,SL=Math.PI,xL=2*SL,Rf=1e-6,Vbe=xL-Rf;function s9(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Kbe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return s9;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class Gbe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?s9:Kbe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,a){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=i-e,u=r-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>Rf)if(!(Math.abs(h*l-u*d)>Rf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=i-a,b=r-o,C=l*l+u*u,E=v*v+b*b,x=Math.sqrt(C),I=Math.sqrt(g),T=s*Math.tan((SL-Math.acos((C+g-E)/(2*x*I)))/2),R=T/I,P=T/x;Math.abs(R-1)>Rf&&this._append`L${e+R*d},${t+R*h}`,this._append`A${s},${s},0,0,${+(h*v>d*b)},${this._x1=e+P*l},${this._y1=t+P*u}`}}arc(e,t,i,r,s,a){if(e=+e,t=+t,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),u=e+o,d=t+l,h=1^a,g=a?r-s:s-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Rf||Math.abs(this._y1-d)>Rf)&&this._append`L${u},${d}`,i&&(g<0&&(g=g%xL+xL),g>Vbe?this._append`A${i},${i},0,1,${h},${e-o},${t-l}A${i},${i},0,1,${h},${this._x1=u},${this._y1=d}`:g>Rf&&this._append`A${i},${i},0,${+(g>=SL)},${h},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function ak(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new Gbe(e)}function ok(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function a9(n){this._context=n}a9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function nI(n){return new a9(n)}function o9(n){return n[0]}function A9(n){return n[1]}function l9(n,e){var t=In(!0),i=null,r=nI,s=null,a=ak(o);n=typeof n=="function"?n:n===void 0?o9:In(n),e=typeof e=="function"?e:e===void 0?A9:In(e);function o(l){var u,d=(l=ok(l)).length,h,g=!1,v;for(i==null&&(s=r(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:In(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:In(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:In(!!l),o):t},o.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),o):i},o}function bx(n,e,t){var i=null,r=In(!0),s=null,a=nI,o=null,l=ak(u);n=typeof n=="function"?n:n===void 0?o9:In(+n),e=typeof e=="function"?e:In(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?A9:In(+t);function u(h){var g,v,b,C=(h=ok(h)).length,E,x=!1,I,T=new Array(C),R=new Array(C);for(s==null&&(o=a(I=l())),g=0;g<=C;++g){if(!(g<C&&r(E=h[g],g,h))===x)if(x=!x)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=v;--b)o.point(T[b],R[b]);o.lineEnd(),o.areaEnd()}x&&(T[g]=+n(E,g,h),R[g]=+e(E,g,h),o.point(i?+i(E,g,h):T[g],t?+t(E,g,h):R[g]))}if(I)return o=null,I+""||null}function d(){return l9().defined(r).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:In(+h),i=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:In(+h),u):n},u.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:In(+h),u):i},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:In(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:In(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:In(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:In(!!h),u):r},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class u9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function zbe(n){return new u9(n,!0)}function qbe(n){return new u9(n,!1)}const Ak={draw(n,e){const t=Jo(e/bT);n.moveTo(t,0),n.arc(0,0,t,0,tI)}},$be={draw(n,e){const t=Jo(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},c9=Jo(1/3),jbe=c9*2,Wbe={draw(n,e){const t=Jo(e/jbe),i=t*c9;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},Ybe={draw(n,e){const t=Jo(e),i=-t/2;n.rect(i,i,t,t)}},Xbe=.8908130915292852,d9=wT(bT/10)/wT(7*bT/10),Jbe=wT(tI/10)*d9,Zbe=-r9(tI/10)*d9,eCe={draw(n,e){const t=Jo(e*Xbe),i=Jbe*t,r=Zbe*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const a=tI*s/5,o=r9(a),l=wT(a);n.lineTo(l*t,-o*t),n.lineTo(o*i-l*r,l*i+o*r)}n.closePath()}},HU=Jo(3),tCe={draw(n,e){const t=-Jo(e/(HU*3));n.moveTo(0,t*2),n.lineTo(-HU*t,-t),n.lineTo(HU*t,-t),n.closePath()}},Oa=-.5,Ha=Jo(3)/2,_L=1/Jo(12),nCe=(_L/2+1)*3,iCe={draw(n,e){const t=Jo(e/nCe),i=t/2,r=t*_L,s=i,a=t*_L+t,o=-s,l=a;n.moveTo(i,r),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(Oa*i-Ha*r,Ha*i+Oa*r),n.lineTo(Oa*s-Ha*a,Ha*s+Oa*a),n.lineTo(Oa*o-Ha*l,Ha*o+Oa*l),n.lineTo(Oa*i+Ha*r,Oa*r-Ha*i),n.lineTo(Oa*s+Ha*a,Oa*a-Ha*s),n.lineTo(Oa*o+Ha*l,Oa*l-Ha*o),n.closePath()}};function rCe(n,e){let t=null,i=ak(r);n=typeof n=="function"?n:In(n||Ak),e=typeof e=="function"?e:In(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:In(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:In(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function CT(){}function BT(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function f9(n){this._context=n}f9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:BT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:BT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function sCe(n){return new f9(n)}function h9(n){this._context=n}h9.prototype={areaStart:CT,areaEnd:CT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:BT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function aCe(n){return new h9(n)}function p9(n){this._context=n}p9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:BT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function oCe(n){return new p9(n)}function g9(n){this._context=n}g9.prototype={areaStart:CT,areaEnd:CT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function ACe(n){return new g9(n)}function xz(n){return n<0?-1:1}function _z(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),a=(t-n._y1)/(r||i<0&&-0),o=(s*r+a*i)/(i+r);return(xz(s)+xz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Tz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function VU(n,e,t){var i=n._x0,r=n._y0,s=n._x1,a=n._y1,o=(s-i)/3;n._context.bezierCurveTo(i+o,r+o*e,s-o,a-o*t,s,a)}function ET(n){this._context=n}ET.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VU(this,this._t0,Tz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,VU(this,Tz(this,t=_z(this,n,e)),t);break;default:VU(this,this._t0,t=_z(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function m9(n){this._context=new v9(n)}(m9.prototype=Object.create(ET.prototype)).point=function(n,e){ET.prototype.point.call(this,e,n)};function v9(n){this._context=n}v9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function lCe(n){return new ET(n)}function uCe(n){return new m9(n)}function y9(n){this._context=n}y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=Iz(n),r=Iz(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Iz(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),a=new Array(t);for(r[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,a[e]-=i*a[e-1];for(r[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(a[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function cCe(n){return new y9(n)}function iI(n,e){this._context=n,this._t=e}iI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function dCe(n){return new iI(n,.5)}function fCe(n){return new iI(n,0)}function hCe(n){return new iI(n,1)}function Ay(n,e){if((a=n.length)>1)for(var t=1,i,r,s=n[e[0]],a,o=s.length;t<a;++t)for(r=s,s=n[e[t]],i=0;i<o;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function TL(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function pCe(n,e){return n[e]}function gCe(n){const e=[];return e.key=n,e}function mCe(){var n=In([]),e=TL,t=Ay,i=pCe;function r(s){var a=Array.from(n.apply(this,arguments),gCe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+i(h,a[o].key,u,s)]).data=h;for(o=0,d=ok(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:In(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:In(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?TL:typeof s=="function"?s:In(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??Ay,r):t},r}function vCe(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,a;r<s;++r){for(a=t=0;t<i;++t)a+=n[t][r][1]||0;if(a)for(t=0;t<i;++t)n[t][r][1]/=a}Ay(n,e)}}function yCe(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var a=0,o=0;a<r;++a)o+=n[a][t][1]||0;i[t][1]+=i[t][0]=-o/2}Ay(n,e)}}function wCe(n,e){if(!(!((a=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,a;i<s;++i){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[i][1]||0,g=d[i-1][1]||0,v=(h-g)/2,b=0;b<o;++b){var C=n[e[b]],E=C[i][1]||0,x=C[i-1][1]||0;v+=E-x}l+=h,u+=v*h}r[i-1][1]+=r[i-1][0]=t,l&&(t-=u/l)}r[i-1][1]+=r[i-1][0]=t,Ay(n,e)}}var KU={},GU={},Fz;function bCe(){return Fz||(Fz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(GU)),GU}var zU={},Mz;function w9(){return Mz||(Mz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(zU)),zU}var qU={},Uz;function lk(){return Uz||(Uz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;return typeof t=="string"||typeof t=="symbol"?t:Object.is((i=t==null?void 0:t.valueOf)==null?void 0:i.call(t),-0)?"-0":String(t)}n.toKey=e})(qU)),qU}var $U={},jU={},Pz;function CCe(){return Pz||(Pz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const i=String(t);return i==="0"&&Object.is(Number(t),-0)?"-0":i}n.toString=e})(jU)),jU}var Rz;function uk(){return Rz||(Rz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=CCe(),t=lk();function i(r){if(Array.isArray(r))return r.map(t.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const s=[],a=r.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(r.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=r[o];u?h==="\\"&&o+1<a?(o++,l+=r[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=i})($U)),$U}var Dz;function ck(){return Dz||(Dz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=bCe(),t=w9(),i=lk(),r=uk();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,r.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=i.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(KU)),KU}var WU,Nz;function BCe(){return Nz||(Nz=1,WU=ck().get),WU}var ECe=BCe();const ly=zA(ECe);var ba=n=>n===0?0:n>0?1:-1,OA=n=>typeof n=="number"&&n!=+n,Mu=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,rt=n=>(typeof n=="number"||n instanceof Number)&&!OA(n),HA=n=>rt(n)||typeof n=="string",SCe=0,Zw=n=>{var e=++SCe;return"".concat(n||"").concat(e)},qo=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!rt(e)&&typeof e!="string")return i;var s;if(Mu(e)){if(t==null)return i;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return OA(s)&&(s=i),r&&t!=null&&s>t&&(s=t),s},b9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},i=0;i<e;i++)if(!t[n[i]])t[n[i]]=!0;else return!0;return!1};function Ir(n,e,t){return rt(n)&&rt(e)?n+t*(e-n):e}function xCe(n,e,t){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):ly(i,e))===t)}var cr=n=>n===null||typeof n>"u",ZB=n=>cr(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function _Ce(n){return n!=null}function eE(){}var TCe=["type","size","sizeType"];function IL(){return IL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},IL.apply(null,arguments)}function Lz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Qz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(t),!0).forEach(function(i){ICe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ICe(n,e,t){return(e=FCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FCe(n){var e=MCe(n,"string");return typeof e=="symbol"?e:e+""}function MCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UCe(n,e){if(n==null)return{};var t,i,r=PCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function PCe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var C9={symbolCircle:Ak,symbolCross:$be,symbolDiamond:Wbe,symbolSquare:Ybe,symbolStar:eCe,symbolTriangle:tCe,symbolWye:iCe},RCe=Math.PI/180,DCe=n=>{var e="symbol".concat(ZB(n));return C9[e]||Ak},NCe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*RCe;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},LCe=(n,e)=>{C9["symbol".concat(ZB(n))]=e},B9=n=>{var{type:e="circle",size:t=64,sizeType:i="area"}=n,r=UCe(n,TCe),s=Qz(Qz({},r),{},{type:e,size:t,sizeType:i}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=DCe(a),v=rCe().type(g).size(NCe(t,i,a)),b=v();if(b!==null)return b},{className:l,cx:u,cy:d}=s,h=go(s);return rt(u)&&rt(d)&&rt(t)?M.createElement("path",IL({},h,{className:Ln("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};B9.registerSymbol=LCe;var E9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,QCe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(M.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var i={};return Object.keys(t).forEach(r=>{rk(r)&&(i[r]=(s=>t[r](t,s)))}),i},kCe=(n,e,t)=>i=>(n(e,t,i),null),dk=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];rk(r)&&typeof s=="function"&&(i||(i={}),i[r]=kCe(s,e,t))}),i};function kz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function OCe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(t),!0).forEach(function(i){HCe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function HCe(n,e,t){return(e=VCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VCe(n){var e=KCe(n,"string");return typeof e=="symbol"?e:e+""}function KCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yo(n,e){var t=OCe({},n),i=e,r=Object.keys(e),s=r.reduce((a,o)=>(a[o]===void 0&&i[o]!==void 0&&(a[o]=i[o]),a),t);return s}var YU={},XU={},Oz;function GCe(){return Oz||(Oz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){const r=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=i(a);r.has(o)||r.set(o,a)}return Array.from(r.values())}n.uniqBy=e})(XU)),XU}var JU={},Hz;function S9(){return Hz||(Hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(JU)),JU}var ZU={},eP={},tP={},Vz;function zCe(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(tP)),tP}var Kz;function fk(){return Kz||(Kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=zCe();function t(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=t})(eP)),eP}var nP={},Gz;function qCe(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(nP)),nP}var zz;function $Ce(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=fk(),t=qCe();function i(r){return t.isObjectLike(r)&&e.isArrayLike(r)}n.isArrayLikeObject=i})(ZU)),ZU}var iP={},rP={},qz;function jCe(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ck();function t(i){return function(r){return e.get(r,i)}}n.property=t})(rP)),rP}var sP={},aP={},oP={},AP={},$z;function x9(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(AP)),AP}var lP={},jz;function _9(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(lP)),lP}var uP={},Wz;function T9(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return t===i||Number.isNaN(t)&&Number.isNaN(i)}n.eq=e})(uP)),uP}var Yz;function WCe(){return Yz||(Yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x9(),t=_9(),i=T9();function r(d,h,g){return typeof g!="function"?r(d,h,()=>{}):s(d,h,function v(b,C,E,x,I,T){const R=g(b,C,E,x,I,T);return R!==void 0?!!R:s(b,C,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):i.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const b=Object.keys(h);if(d==null)return b.length===0;if(b.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let C=0;C<b.length;C++){const E=b[C];if(!t.isPrimitive(d)&&!(E in d)||h[E]===void 0&&d[E]!==void 0||h[E]===null&&d[E]!==null||!g(d[E],h[E],E,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,C]of h.entries()){const E=d.get(b);if(g(E,C,b,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let C=0;C<h.length;C++){const E=h[C];let x=!1;for(let I=0;I<d.length;I++){if(b.has(I))continue;const T=d[I];let R=!1;if(g(T,E,C,d,h,v)&&(R=!0),R){b.add(I),x=!0;break}}if(!x)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=r,n.isSetMatch=u})(oP)),oP}var Xz;function I9(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=WCe();function t(i,r){return e.isMatchWith(i,r,()=>{})}n.isMatch=t})(aP)),aP}var cP={},dP={},fP={},Jz;function YCe(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(i=>Object.prototype.propertyIsEnumerable.call(t,i))}n.getSymbols=e})(fP)),fP}var hP={},Zz;function F9(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(hP)),hP}var pP={},e5;function M9(){return e5||(e5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",C="[object DataView]",E="[object Uint8Array]",x="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",R="[object BigUint64Array]",P="[object Int8Array]",D="[object Int16Array]",Q="[object Int32Array]",H="[object BigInt64Array]",k="[object Float32Array]",K="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=R,n.booleanTag=r,n.dataViewTag=C,n.dateTag=o,n.errorTag=b,n.float32ArrayTag=k,n.float64ArrayTag=K,n.functionTag=h,n.int16ArrayTag=D,n.int32ArrayTag=Q,n.int8ArrayTag=P,n.mapTag=l,n.numberTag=i,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=E,n.uint8ClampedArrayTag=x})(pP)),pP}var gP={},t5;function XCe(){return t5||(t5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(gP)),gP}var n5;function U9(){return n5||(n5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=YCe(),t=F9(),i=M9(),r=_9(),s=XCe();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,b=void 0){const C=b==null?void 0:b(d,h,g,v);if(C!==void 0)return C;if(r.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const E=new Array(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,b);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;v.set(d,E);for(const[x,I]of d)E.set(x,o(I,x,g,v,b));return E}if(d instanceof Set){const E=new Set;v.set(d,E);for(const x of d)E.add(o(x,void 0,g,v,b));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,b);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,E),l(E,d,g,v,b),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return v.set(d,E),l(E,d,g,v,b),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof Error){const E=new d.constructor;return v.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,l(E,d,g,v,b),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof Number){const E=new Number(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof String){const E=new String(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(typeof d=="object"&&u(d)){const E=Object.create(Object.getPrototypeOf(d));return v.set(d,E),l(E,d,g,v,b),E}return d}function l(d,h,g=d,v,b){const C=[...Object.keys(h),...e.getSymbols(h)];for(let E=0;E<C.length;E++){const x=C[E],I=Object.getOwnPropertyDescriptor(d,x);(I==null||I.writable)&&(d[x]=o(h[x],x,g,v,b))}}function u(d){switch(t.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(dP)),dP}var i5;function JCe(){return i5||(i5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=U9();function t(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=t})(cP)),cP}var r5;function ZCe(){return r5||(r5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=I9(),t=JCe();function i(r){return r=t.cloneDeep(r),s=>e.isMatch(s,r)}n.matches=i})(sP)),sP}var mP={},vP={},yP={},s5;function eBe(){return s5||(s5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=U9(),t=M9();function i(r,s){return e.cloneDeepWith(r,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new r.constructor(r==null?void 0:r.valueOf());return e.copyProperties(h,r),h}case t.argumentsTag:{const h={};return e.copyProperties(h,r),h.length=r.length,h[Symbol.iterator]=r[Symbol.iterator],h}default:return}})}n.cloneDeepWith=i})(yP)),yP}var a5;function tBe(){return a5||(a5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=eBe();function t(i){return e.cloneDeepWith(i)}n.cloneDeep=t})(vP)),vP}var wP={},bP={},o5;function P9(){return o5||(o5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=t})(bP)),bP}var CP={},A5;function nBe(){return A5||(A5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=F9();function t(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=t})(CP)),CP}var l5;function iBe(){return l5||(l5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=w9(),t=P9(),i=nBe(),r=uk();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=r.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||i.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(wP)),wP}var u5;function rBe(){return u5||(u5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=I9(),t=lk(),i=tBe(),r=ck(),s=iBe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=i.cloneDeep(l),function(u){const d=r.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(mP)),mP}var c5;function sBe(){return c5||(c5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=S9(),t=jCe(),i=ZCe(),r=rBe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?r.matchesProperty(a[0],a[1]):i.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(iP)),iP}var d5;function aBe(){return d5||(d5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=GCe(),t=S9(),i=$Ce(),r=sBe();function s(a,o=t.identity){return i.isArrayLikeObject(a)?e.uniqBy(Array.from(a),r.iteratee(o)):[]}n.uniqBy=s})(YU)),YU}var BP,f5;function oBe(){return f5||(f5=1,BP=aBe().uniqBy),BP}var ABe=oBe();const h5=zA(ABe);function lBe(n,e,t){return e===!0?h5(n,t):typeof e=="function"?h5(n,e):n}var EP={exports:{}},SP={},xP={exports:{}},_P={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5;function uBe(){if(p5)return _P;p5=1;var n=by();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),b=i({inst:{value:v,getSnapshot:g}}),C=b[0].inst,E=b[1];return s(function(){C.value=v,C.getSnapshot=g,l(C)&&E({inst:C})},[h,v,g]),r(function(){return l(C)&&E({inst:C}),h(function(){l(C)&&E({inst:C})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return _P.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,_P}var g5;function cBe(){return g5||(g5=1,xP.exports=uBe()),xP.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function dBe(){if(m5)return SP;m5=1;var n=by(),e=cBe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return SP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var b=s(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=o(function(){function x(D){if(!I){if(I=!0,T=D,D=g(D),v!==void 0&&C.hasValue){var Q=C.value;if(v(Q,D))return R=Q}return R=D}if(Q=R,i(T,D))return Q;var H=g(D);return v!==void 0&&v(Q,H)?(T=D,Q):(T=D,R=H)}var I=!1,T,R,P=h===void 0?null:h;return[function(){return x(d())},P===null?void 0:function(){return x(P())}]},[d,h,g,v]);var E=r(u,b[0],b[1]);return a(function(){C.hasValue=!0,C.value=E},[E]),l(E),E},SP}var v5;function fBe(){return v5||(v5=1,EP.exports=dBe()),EP.exports}var hBe=fBe(),hk=M.createContext(null),pBe=n=>n,vi=()=>{var n=M.useContext(hk);return n?n.store.dispatch:pBe},H_=()=>{},gBe=()=>H_,mBe=(n,e)=>n===e;function nt(n){var e=M.useContext(hk);return hBe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:gBe,e?e.store.getState:H_,e?e.store.getState:H_,e?n:H_,mBe)}function vBe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function yBe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function wBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var y5=n=>Array.isArray(n)?n:[n];function bBe(n){const e=Array.isArray(n[0])?n[0]:n;return wBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function CBe(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}var BBe=class{constructor(n){this.value=n}deref(){return this.value}},EBe=typeof WeakRef<"u"?WeakRef:BBe,SBe=0,w5=1;function Cx(){return{s:SBe,v:void 0,o:null,p:null}}function R9(n,e={}){let t=Cx();const{resultEqualityCheck:i}=e;let r,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let C=o.o;C===null&&(o.o=C=new WeakMap);const E=C.get(b);E===void 0?(o=Cx(),C.set(b,o)):o=E}else{let C=o.p;C===null&&(o.p=C=new Map);const E=C.get(b);E===void 0?(o=Cx(),C.set(b,o)):o=E}}const u=o;let d;if(o.s===w5)d=o.v;else if(d=n.apply(null,arguments),s++,i){const g=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;g!=null&&i(g,d)&&(d=g,s!==0&&s--),r=typeof d=="object"&&d!==null||typeof d=="function"?new EBe(d):d}return u.s=w5,u.v=d,d}return a.clearCache=()=>{t=Cx(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function xBe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,a=0,o,l={},u=r.pop();typeof u=="object"&&(l=u,u=r.pop()),vBe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=R9,argsMemoizeOptions:b=[]}=d,C=y5(g),E=y5(b),x=bBe(r),I=h(function(){return s++,u.apply(null,arguments)},...C),T=v(function(){a++;const P=CBe(x,arguments);return o=I.apply(null,P),o},...E);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(i,{withTypes:()=>i}),i}var Ae=xBe(R9),_Be=Object.assign((n,e=Ae)=>{yBe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>_Be}),TP={},IP={},FP={},b5;function TBe(){return b5||(b5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const t=(i,r,s)=>{if(i!==r){const a=e(i),o=e(r);if(a===o&&a===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(FP)),FP}var MP={},UP={},C5;function D9(){return C5||(C5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(UP)),UP}var B5;function IBe(){return B5||(B5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=D9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=r})(MP)),MP}var E5;function FBe(){return E5||(E5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=TBe(),t=IBe(),i=uk();function r(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,b)=>{let C=v;for(let E=0;E<b.length&&C!=null;++E)C=C[b[E]];return C},d=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:u(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?u(b,v):typeof b=="object"?b[v]:b,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:i.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(b=>d(b,v))})).slice().sort((v,b)=>{for(let C=0;C<h.length;C++){const E=e.compareValues(v.criteria[C],b.criteria[C],o[C]);if(E!==0)return E}return 0}).map(v=>v.original)}n.orderBy=r})(IP)),IP}var PP={},S5;function MBe(){return S5||(S5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i=1){const r=[],s=Math.floor(i),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):r.push(d)}};return a(t,0),r}n.flatten=e})(PP)),PP}var RP={},x5;function N9(){return x5||(x5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=P9(),t=fk(),i=x9(),r=T9();function s(a,o,l){return i.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?r.eq(l[o],a):!1}n.isIterateeCall=s})(RP)),RP}var _5;function UBe(){return _5||(_5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=FBe(),t=MBe(),i=N9();function r(s,...a){const o=a.length;return o>1&&i.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&i.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=r})(TP)),TP}var DP,T5;function PBe(){return T5||(T5=1,DP=UBe().sortBy),DP}var RBe=PBe();const rI=zA(RBe);var L9=n=>n.legend.settings,DBe=n=>n.legend.size,NBe=n=>n.legend.payload;Ae([NBe,L9],(n,e)=>{var{itemSorter:t}=e,i=n.flat(1);return t?rI(i,t):i});var Bx=1;function LBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=M.useState({height:0,left:0,top:0,width:0}),i=M.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Bx||Math.abs(a.left-e.left)>Bx||Math.abs(a.top-e.top)>Bx||Math.abs(a.width-e.width)>Bx)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function Sr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var QBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",I5=QBe,NP=()=>Math.random().toString(36).substring(7).split("").join("."),kBe={INIT:`@@redux/INIT${NP()}`,REPLACE:`@@redux/REPLACE${NP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${NP()}`},ST=kBe;function pk(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Q9(n,e,t){if(typeof n!="function")throw new Error(Sr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Sr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Sr(1));return t(Q9)(n,e)}let i=n,r=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((E,x)=>{a.set(x,E)}))}function d(){if(l)throw new Error(Sr(3));return r}function h(E){if(typeof E!="function")throw new Error(Sr(4));if(l)throw new Error(Sr(5));let x=!0;u();const I=o++;return a.set(I,E),function(){if(x){if(l)throw new Error(Sr(6));x=!1,u(),a.delete(I),s=null}}}function g(E){if(!pk(E))throw new Error(Sr(7));if(typeof E.type>"u")throw new Error(Sr(8));if(typeof E.type!="string")throw new Error(Sr(17));if(l)throw new Error(Sr(9));try{l=!0,r=i(r,E)}finally{l=!1}return(s=a).forEach(I=>{I()}),E}function v(E){if(typeof E!="function")throw new Error(Sr(10));i=E,g({type:ST.REPLACE})}function b(){const E=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Sr(11));function I(){const R=x;R.next&&R.next(d())}return I(),{unsubscribe:E(I)}},[I5](){return this}}}return g({type:ST.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[I5]:b}}function OBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:ST.INIT})>"u")throw new Error(Sr(12));if(typeof t(void 0,{type:ST.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Sr(13))})}function k9(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const i=Object.keys(t);let r;try{OBe(t)}catch(s){r=s}return function(a={},o){if(r)throw r;let l=!1;const u={};for(let d=0;d<i.length;d++){const h=i[d],g=t[h],v=a[h],b=g(v,o);if(typeof b>"u")throw o&&o.type,new Error(Sr(14));u[h]=b,l=l||b!==v}return l=l||i.length!==Object.keys(a).length,l?u:a}}function xT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function HBe(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(Sr(15))};const a={getState:r.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=xT(...o)(r.dispatch),{...r,dispatch:s}}}function O9(n){return pk(n)&&"type"in n&&typeof n.type=="string"}var H9=Symbol.for("immer-nothing"),F5=Symbol.for("immer-draftable"),fs=Symbol.for("immer-state");function Ho(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ca=Object,uy=Ca.getPrototypeOf,_T="constructor",sI="prototype",FL="configurable",TT="enumerable",V_="writable",eb="value",Uu=n=>!!n&&!!n[fs];function $o(n){var e;return n?V9(n)||aI(n)||!!n[F5]||!!((e=n[_T])!=null&&e[F5])||oI(n)||AI(n):!1}var VBe=Ca[sI][_T].toString(),M5=new WeakMap;function V9(n){if(!n||!gk(n))return!1;const e=uy(n);if(e===null||e===Ca[sI])return!0;const t=Ca.hasOwnProperty.call(e,_T)&&e[_T];if(t===Object)return!0;if(!Vg(t))return!1;let i=M5.get(t);return i===void 0&&(i=Function.toString.call(t),M5.set(t,i)),i===VBe}function tE(n,e,t=!0){nE(n)===0?(t?Reflect.ownKeys(n):Ca.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function nE(n){const e=n[fs];return e?e.type_:aI(n)?1:oI(n)?2:AI(n)?3:0}var U5=(n,e,t=nE(n))=>t===2?n.has(e):Ca[sI].hasOwnProperty.call(n,e),ML=(n,e,t=nE(n))=>t===2?n.get(e):n[e],IT=(n,e,t,i=nE(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function KBe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var aI=Array.isArray,oI=n=>n instanceof Map,AI=n=>n instanceof Set,gk=n=>typeof n=="object",Vg=n=>typeof n=="function",LP=n=>typeof n=="boolean",bl=n=>n.copy_||n.base_,mk=n=>n.modified_?n.copy_:n.base_;function UL(n,e){if(oI(n))return new Map(n);if(AI(n))return new Set(n);if(aI(n))return Array[sI].slice.call(n);const t=V9(n);if(e===!0||e==="class_only"&&!t){const i=Ca.getOwnPropertyDescriptors(n);delete i[fs];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o[V_]===!1&&(o[V_]=!0,o[FL]=!0),(o.get||o.set)&&(i[a]={[FL]:!0,[V_]:!0,[TT]:o[TT],[eb]:n[a]})}return Ca.create(uy(n),i)}else{const i=uy(n);if(i!==null&&t)return{...n};const r=Ca.create(i);return Ca.assign(r,n)}}function vk(n,e=!1){return lI(n)||Uu(n)||!$o(n)||(nE(n)>1&&Ca.defineProperties(n,{set:Ex,add:Ex,clear:Ex,delete:Ex}),Ca.freeze(n),e&&tE(n,(t,i)=>{vk(i,!0)},!1)),n}function GBe(){Ho(2)}var Ex={[eb]:GBe};function lI(n){return n===null||!gk(n)?!0:Ca.isFrozen(n)}var FT="MapSet",PL="Patches",K9={};function cy(n){const e=K9[n];return e||Ho(0,n),e}var zBe=n=>!!K9[n],tb,G9=()=>tb,qBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zBe(FT)?cy(FT):void 0});function P5(n,e){e&&(n.patchPlugin_=cy(PL),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function RL(n){DL(n),n.drafts_.forEach($Be),n.drafts_=null}function DL(n){n===tb&&(tb=n.parent_)}var R5=n=>tb=qBe(tb,n);function $Be(n){const e=n[fs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function D5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[fs].modified_&&(RL(e),Ho(4)),$o(n)&&(n=N5(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[fs].base_,n,e)}else n=N5(e,t);return jBe(e,n,!0),RL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==H9?n:void 0}function N5(n,e){if(lI(e))return e;const t=e[fs];if(!t)return yk(e,n.handledSet_,n);if(!uI(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);$9(t,n)}return t.copy_}function jBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&vk(e,t)}function z9(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var uI=(n,e)=>n.scope_===e,WBe=[];function q9(n,e,t,i){const r=bl(n),s=n.type_;if(i!==void 0&&ML(r,i,s)===e){IT(r,i,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;tE(r,(l,u)=>{if(Uu(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??WBe;for(const o of a)IT(r,o,t,s)}function YBe(n,e,t){n.callbacks_.push(function(r){var o;const s=e;if(!s||!uI(s,r))return;(o=r.mapSetPlugin_)==null||o.fixSetContents(s);const a=mk(s);q9(n,s.draft_??s,a,t),$9(s,r)})}function $9(n,e){var i;if(n.modified_&&!n.finalized_&&(n.type_===3||(((i=n.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:r}=e;if(r){const s=r.getPath(n);s&&r.generatePatches_(n,s,e)}z9(n)}}function XBe(n,e,t){const{scope_:i}=n;if(Uu(t)){const r=t[fs];uI(r,i)&&r.callbacks_.push(function(){K_(n);const a=mk(r);q9(n,t,a,e)})}else $o(t)&&n.callbacks_.push(function(){const s=bl(n);ML(s,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&yk(ML(n.copy_,e,n.type_),i.handledSet_,i)})}function yk(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Uu(n)||e.has(n)||!$o(n)||lI(n)||(e.add(n),tE(n,(i,r)=>{if(Uu(r)){const s=r[fs];if(uI(s,t)){const a=mk(s);IT(n,i,a,n.type_),z9(s)}}else $o(r)&&yk(r,e,t)})),n}function JBe(n,e){const t=aI(n),i={type_:t?1:0,scope_:e?e.scope_:G9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=wk;t&&(r=[i],s=nb);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,[o,i]}var wk={get(n,e){if(e===fs)return n;const t=bl(n);if(!U5(t,e,n.type_))return ZBe(n,t,e);const i=t[e];if(n.finalized_||!$o(i))return i;if(i===QP(n.base_,e)){K_(n);const r=n.type_===1?+e:e,s=LL(n.scope_,i,n,r);return n.copy_[r]=s}return i},has(n,e){return e in bl(n)},ownKeys(n){return Reflect.ownKeys(bl(n))},set(n,e,t){const i=j9(bl(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=QP(bl(n),e),s=r==null?void 0:r[fs];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(KBe(t,r)&&(t!==void 0||U5(n.base_,e,n.type_)))return!0;K_(n),NL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),XBe(n,e,t)),!0},deleteProperty(n,e){return K_(n),QP(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),NL(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=bl(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[V_]:!0,[FL]:n.type_!==1||e!=="length",[TT]:i[TT],[eb]:t[e]}},defineProperty(){Ho(11)},getPrototypeOf(n){return uy(n.base_)},setPrototypeOf(){Ho(12)}},nb={};tE(wk,(n,e)=>{nb[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});nb.deleteProperty=function(n,e){return nb.set.call(this,n,e,void 0)};nb.set=function(n,e,t){return wk.set.call(this,n[0],e,t,n[0])};function QP(n,e){const t=n[fs];return(t?bl(t):n)[e]}function ZBe(n,e,t){var r;const i=j9(e,t);return i?eb in i?i[eb]:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function j9(n,e){if(!(e in n))return;let t=uy(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=uy(t)}}function NL(n){n.modified_||(n.modified_=!0,n.parent_&&NL(n.parent_))}function K_(n){n.copy_||(n.assigned_=new Map,n.copy_=UL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var eEe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,i,r)=>{if(Vg(t)&&!Vg(i)){const a=i;i=t;const o=this;return function(u=a,...d){return o.produce(u,h=>i.call(this,h,...d))}}Vg(i)||Ho(6),r!==void 0&&!Vg(r)&&Ho(7);let s;if($o(t)){const a=R5(this),o=LL(a,t,void 0);let l=!0;try{s=i(o),l=!1}finally{l?RL(a):DL(a)}return P5(a,r),D5(s,a)}else if(!t||!gk(t)){if(s=i(t),s===void 0&&(s=t),s===H9&&(s=void 0),this.autoFreeze_&&vk(s,!0),r){const a=[],o=[];cy(PL).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),r(a,o)}return s}else Ho(1,t)},this.produceWithPatches=(t,i)=>{if(Vg(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,s;return[this.produce(t,i,(o,l)=>{r=o,s=l}),r,s]},LP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),LP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),LP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){$o(e)||Ho(8),Uu(e)&&(e=zo(e));const t=R5(this),i=LL(t,e,void 0);return i[fs].isManual_=!0,DL(t),i}finishDraft(e,t){const i=e&&e[fs];(!i||!i.isManual_)&&Ho(9);const{scope_:r}=i;return P5(r,t),D5(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const s=t[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(t=t.slice(i+1));const r=cy(PL).applyPatches_;return Uu(e)?r(e,t):this.produce(e,s=>r(s,t))}};function LL(n,e,t,i){const[r,s]=oI(e)?cy(FT).proxyMap_(e,t):AI(e)?cy(FT).proxySet_(e,t):JBe(e,t);return((t==null?void 0:t.scope_)??G9()).drafts_.push(r),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=i,t&&i!==void 0?YBe(t,s,i):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),r}function zo(n){return Uu(n)||Ho(10,n),W9(n)}function W9(n){if(!$o(n)||lI(n))return n;const e=n[fs];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=UL(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=UL(n,!0);return tE(t,(r,s)=>{IT(t,r,W9(s))},i),e&&(e.finalized_=!1),t}var tEe=new eEe,Y9=tEe.produce;function X9(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var nEe=X9(),iEe=X9,rEe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xT:xT.apply(null,arguments)};function mo(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(Ba(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>O9(i)&&i.type===n,t}var J9=class Tw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Tw.prototype)}static get[Symbol.species](){return Tw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Tw(...e[0].concat(this)):new Tw(...e.concat(this))}};function L5(n){return $o(n)?Y9(n,()=>{}):n}function Sx(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function sEe(n){return typeof n=="boolean"}var aEe=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let a=new J9;return t&&(sEe(t)?a.push(nEe):a.push(iEe(t.extraArgument))),a},Z9="RTK_autoBatch",Vn=()=>n=>({payload:n,meta:{[Z9]:!0}}),Q5=n=>e=>{setTimeout(e,n)},eJ=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Q5(10):n.type==="callback"?n.queueNotification:Q5(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const h=()=>r&&d(),g=i.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[Z9]),s=!r,s&&(a||(a=!0,l(u))),i.dispatch(d)}finally{r=!0}}})},oEe=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new J9(n);return i&&r.push(eJ(typeof i=="object"?i:void 0)),r};function AEe(n){const e=aEe(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(pk(t))o=k9(t);else throw new Error(Ba(1));let l;typeof i=="function"?l=i(e):l=e();let u=xT;r&&(u=rEe({trace:!1,...typeof r=="object"&&r}));const d=HBe(...l),h=oEe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return Q9(o,s,v)}function tJ(n){const e={},t=[];let i;const r={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Ba(28));if(o in e)throw new Error(Ba(29));return e[o]=a,r},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),r},addMatcher(s,a){return t.push({matcher:s,reducer:a}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function lEe(n){return typeof n=="function"}function uEe(n,e){let[t,i,r]=tJ(e),s;if(lEe(n))s=()=>L5(n());else{const o=L5(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...i.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[r]),u.reduce((d,h)=>{if(h)if(Uu(d)){const v=h(d,l);return v===void 0?d:v}else{if($o(d))return Y9(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var cEe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dEe=(n=21)=>{let e="",t=n;for(;t--;)e+=cEe[Math.random()*64|0];return e},fEe=Symbol.for("rtk-slice-createasyncthunk");function hEe(n,e){return`${n}/${e}`}function pEe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[fEe];return function(r){const{name:s,reducerPath:a=s}=r;if(!s)throw new Error(Ba(11));const o=(typeof r.reducers=="function"?r.reducers(mEe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,P){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(Ba(12));if(D in u.sliceCaseReducersByType)throw new Error(Ba(13));return u.sliceCaseReducersByType[D]=P,d},addMatcher(R,P){return u.sliceMatchers.push({matcher:R,reducer:P}),d},exposeAction(R,P){return u.actionCreators[R]=P,d},exposeCaseReducer(R,P){return u.sliceCaseReducersByName[R]=P,d}};l.forEach(R=>{const P=o[R],D={reducerName:R,type:hEe(s,R),createNotation:typeof r.reducers=="function"};yEe(P)?bEe(D,P,d,e):vEe(D,P,d)});function h(){const[R={},P=[],D=void 0]=typeof r.extraReducers=="function"?tJ(r.extraReducers):[r.extraReducers],Q={...R,...u.sliceCaseReducersByType};return uEe(r.initialState,H=>{for(let k in Q)H.addCase(k,Q[k]);for(let k of u.sliceMatchers)H.addMatcher(k.matcher,k.reducer);for(let k of P)H.addMatcher(k.matcher,k.reducer);D&&H.addDefaultCase(D)})}const g=R=>R,v=new Map,b=new WeakMap;let C;function E(R,P){return C||(C=h()),C(R,P)}function x(){return C||(C=h()),C.getInitialState()}function I(R,P=!1){function D(H){let k=H[R];return typeof k>"u"&&P&&(k=Sx(b,D,x)),k}function Q(H=g){const k=Sx(v,P,()=>new WeakMap);return Sx(k,H,()=>{const K={};for(const[V,z]of Object.entries(r.selectors??{}))K[V]=gEe(z,H,()=>Sx(b,H,x),P);return K})}return{reducerPath:R,getSelectors:Q,get selectors(){return Q(D)},selectSlice:D}}const T={name:s,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...I(a),injectInto(R,{reducerPath:P,...D}={}){const Q=P??a;return R.inject({reducerPath:Q,reducer:E},D),{...T,...I(Q,!0)}}};return T}}function gEe(n,e,t,i){function r(s,...a){let o=e(s);return typeof o>"u"&&i&&(o=t()),n(o,...a)}return r.unwrapped=n,r}var ks=pEe();function mEe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function vEe({type:n,reducerName:e,createNotation:t},i,r){let s,a;if("reducer"in i){if(t&&!wEe(i))throw new Error(Ba(17));s=i.reducer,a=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?mo(n,a):mo(n))}function yEe(n){return n._reducerDefinitionType==="asyncThunk"}function wEe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function bEe({type:n,reducerName:e},t,i,r){if(!r)throw new Error(Ba(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=r(n,s,d);i.exposeAction(e,h),a&&i.addCase(h.fulfilled,a),o&&i.addCase(h.pending,o),l&&i.addCase(h.rejected,l),u&&i.addMatcher(h.settled,u),i.exposeCaseReducer(e,{fulfilled:a||xx,pending:o||xx,rejected:l||xx,settled:u||xx})}function xx(){}var CEe="task",nJ="listener",iJ="completed",bk="cancelled",BEe=`task-${bk}`,EEe=`task-${iJ}`,QL=`${nJ}-${bk}`,SEe=`${nJ}-${iJ}`,cI=class{constructor(n){ge(this,"name","TaskAbortError");ge(this,"message");this.code=n,this.message=`${CEe} ${bk} (reason: ${n})`}},Ck=(n,e)=>{if(typeof n!="function")throw new TypeError(Ba(32))},MT=()=>{},rJ=(n,e=MT)=>(n.catch(e),n),sJ=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),wp=n=>{if(n.aborted)throw new cI(n.reason)};function aJ(n,e){let t=MT;return new Promise((i,r)=>{const s=()=>r(new cI(n.reason));if(n.aborted){s();return}t=sJ(n,s),e.finally(()=>t()).then(i,r)}).finally(()=>{t=MT})}var xEe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof cI?"cancelled":"rejected",error:t}}finally{e==null||e()}},UT=n=>e=>rJ(aJ(n,e).then(t=>(wp(n),t))),oJ=n=>{const e=UT(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:am}=Object,k5={},dI="listenerMiddleware",_Ee=(n,e)=>{const t=i=>sJ(n,()=>i.abort(n.reason));return(i,r)=>{Ck(i);const s=new AbortController;t(s);const a=xEe(async()=>{wp(n),wp(s.signal);const o=await i({pause:UT(s.signal),delay:oJ(s.signal),signal:s.signal});return wp(s.signal),o},()=>s.abort(EEe));return r!=null&&r.autoJoin&&e.push(a.catch(MT)),{result:UT(n)(a),cancel(){s.abort(BEe)}}}},TEe=(n,e)=>{const t=async(i,r)=>{wp(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:i,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];r!=null&&o.push(new Promise(l=>setTimeout(l,r,null)));try{const l=await aJ(e,Promise.race(o));return wp(e),l}finally{s()}};return(i,r)=>rJ(t(i,r))},AJ=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:s}=n;if(e)r=mo(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(Ba(21));return Ck(s),{predicate:r,type:e,effect:s}},lJ=am(n=>{const{type:e,predicate:t,effect:i}=AJ(n);return{id:dEe(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Ba(22))}}},{withTypes:()=>lJ}),O5=(n,e)=>{const{type:t,effect:i,predicate:r}=AJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===r)&&s.effect===i)},kL=n=>{n.pending.forEach(e=>{e.abort(QL)})},IEe=(n,e)=>()=>{for(const t of e.keys())kL(t);n.clear()},H5=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},uJ=am(mo(`${dI}/add`),{withTypes:()=>uJ}),FEe=mo(`${dI}/removeAll`),cJ=am(mo(`${dI}/remove`),{withTypes:()=>cJ}),MEe=(...n)=>{console.error(`${dI}/error`,...n)},iE=(n={})=>{const e=new Map,t=new Map,i=v=>{const b=t.get(v)??0;t.set(v,b+1)},r=v=>{const b=t.get(v)??1;b===1?t.delete(v):t.set(v,b-1)},{extra:s,onError:a=MEe}=n;Ck(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b!=null&&b.cancelActive&&kL(v)}),l=v=>{const b=O5(e,v)??lJ(v);return o(b)};am(l,{withTypes:()=>l});const u=v=>{const b=O5(e,v);return b&&(b.unsubscribe(),v.cancelActive&&kL(b)),!!b};am(u,{withTypes:()=>u});const d=async(v,b,C,E)=>{const x=new AbortController,I=TEe(l,x.signal),T=[];try{v.pending.add(x),i(v),await Promise.resolve(v.effect(b,am({},C,{getOriginalState:E,condition:(R,P)=>I(R,P).then(Boolean),take:I,delay:oJ(x.signal),pause:UT(x.signal),extra:s,signal:x.signal,fork:_Ee(x.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,P,D)=>{R!==x&&(R.abort(QL),D.delete(R))})},cancel:()=>{x.abort(QL),v.pending.delete(x)},throwIfCancelled:()=>{wp(x.signal)}})))}catch(R){R instanceof cI||H5(a,R,{raisedBy:"effect"})}finally{await Promise.all(T),x.abort(SEe),r(v),v.pending.delete(x)}},h=IEe(e,t);return{middleware:v=>b=>C=>{if(!O9(C))return b(C);if(uJ.match(C))return l(C.payload);if(FEe.match(C)){h();return}if(cJ.match(C))return u(C.payload);let E=v.getState();const x=()=>{if(E===k5)throw new Error(Ba(23));return E};let I;try{if(I=b(C),e.size>0){const T=v.getState(),R=Array.from(e.values());for(const P of R){let D=!1;try{D=P.predicate(C,T,E)}catch(Q){D=!1,H5(a,Q,{raisedBy:"predicate"})}D&&d(P,C,v,x)}}}finally{E=k5}return I},startListening:l,stopListening:u,clearListeners:h}};function Ba(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var UEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},dJ=ks({name:"chartLayout",initialState:UEe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,i,r,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:PEe,setLayout:REe,setChartSize:DEe,setScale:NEe}=dJ.actions,LEe=dJ.reducer;function fJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function V5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $g(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(t),!0).forEach(function(i){QEe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function QEe(n,e,t){return(e=kEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kEe(n){var e=OEe(n,"string");return typeof e=="symbol"?e:e+""}function OEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Wr(n,e,t){return cr(n)||cr(e)?t:HA(e)?ly(n,e,t):typeof e=="function"?e(n):t}var HEe=(n,e,t)=>{if(e&&t){var{width:i,height:r}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&rt(n[s]))return $g($g({},n),{},{[s]:n[s]+(i||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&rt(n[a]))return $g($g({},n),{},{[a]:n[a]+(r||0)})}return n},Np=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",K5=1e-4,VEe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,i=n.range(),r=Math.min(i[0],i[1])-K5,s=Math.max(i[0],i[1])+K5,a=n(e[0]),o=n(e[t-1]);(a<r||a>s||o<r||o>s)&&n.domain([e[0],e[t-1]])}},KEe=(n,e)=>{if(!e||e.length!==2||!rt(e[0])||!rt(e[1]))return n;var t=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[n[0],n[1]];return(!rt(n[0])||n[0]<t)&&(r[0]=t),(!rt(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<t&&(r[1]=t),r},GEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0,a=0;a<e;++a){var o=OA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=r,n[a][t][1]=r+o,r=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},zEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0;s<e;++s){var a=OA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=r,n[s][t][1]=r+a,r=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},qEe={sign:GEe,expand:vCe,none:Ay,silhouette:yCe,wiggle:wCe,positive:zEe},$Ee=(n,e,t)=>{var i=qEe[t],r=mCe().keys(e).value((s,a)=>Number(Wr(s,a,0))).order(TL).offset(i);return r(n)};function jEe(n){return n==null?void 0:String(n)}var G5=n=>{var{axis:e,ticks:t,offset:i,bandSize:r,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+i:null;var o=Wr(s,e.dataKey,e.scale.domain()[a]);return cr(o)?null:e.scale(o)-r/2+i},WEe=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i<=0&&r>=0?0:r<0?r:i}return t[0]},YEe=n=>{var e=n.flat(2).filter(rt);return[Math.min(...e),Math.max(...e)]},XEe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],JEe=(n,e,t)=>{if(n!=null)return XEe(Object.keys(n).reduce((i,r)=>{var s=n[r],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=fJ(u,e,t),h=YEe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]))},z5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!t||i>0)return i}if(n&&e&&e.length>=2){for(var r=rI(e,d=>d.coordinate),s=1/0,a=1,o=r.length;a<o;a++){var l=r[a],u=r[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function $5(n){var{tooltipEntrySettings:e,dataKey:t,payload:i,value:r,name:s}=n;return $g($g({},e),{},{dataKey:t,payload:i,value:r,name:s})}function hJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var ZEe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},eSe=(n,e)=>e==="centric"?n.angle:n.radius,Gu=n=>n.layout.width,zu=n=>n.layout.height,tSe=n=>n.layout.scale,pJ=n=>n.layout.margin,fI=Ae(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),hI=Ae(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),nSe="data-recharts-item-index",iSe="data-recharts-item-data-key",rE=60;function j5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _x(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(t),!0).forEach(function(i){rSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):j5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rSe(n,e,t){return(e=sSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sSe(n){var e=aSe(n,"string");return typeof e=="symbol"?e:e+""}function aSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var oSe=n=>n.brush.height;function ASe(n){var e=hI(n);return e.reduce((t,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:rE;return t+r}return t},0)}function lSe(n){var e=hI(n);return e.reduce((t,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:rE;return t+r}return t},0)}function uSe(n){var e=fI(n);return e.reduce((t,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?t+i.height:t,0)}function cSe(n){var e=fI(n);return e.reduce((t,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?t+i.height:t,0)}var dr=Ae([Gu,zu,pJ,oSe,ASe,lSe,uSe,cSe,L9,DBe],(n,e,t,i,r,s,a,o,l,u)=>{var d={left:(t.left||0)+r,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=_x(_x({},h),d),v=g.bottom;g.bottom+=i,g=HEe(g,l,u);var b=n-g.left-g.right,C=e-g.top-g.bottom;return _x(_x({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(C,0)})}),dSe=Ae(dr,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),Bk=Ae(Gu,zu,(n,e)=>({x:0,y:0,width:n,height:e})),fSe=M.createContext(null),_a=()=>M.useContext(fSe)!=null,pI=n=>n.brush,gI=Ae([pI,dr,pJ],(n,e,t)=>({height:n.height,x:rt(n.x)?n.x:e.left,y:rt(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:rt(n.width)?n.width:e.width})),kP={},OP={},HP={},W5;function hSe(){return W5||(W5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i,{signal:r,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),C()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},i)},b=()=>{g!==null&&(clearTimeout(g),g=null)},C=()=>{b(),a=void 0,o=null},E=()=>{d()},x=function(...I){if(r!=null&&r.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return x.schedule=v,x.cancel=C,x.flush=E,r==null||r.addEventListener("abort",C,{once:!0}),x}n.debounce=e})(HP)),HP}var Y5;function pSe(){return Y5||(Y5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=hSe();function t(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...C){d=i.apply(this,C),h=null},r,{edges:u}),v=function(...C){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=i.apply(this,C),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,C),d)},b=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=b,v}n.debounce=t})(OP)),OP}var X5;function gSe(){return X5||(X5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=pSe();function t(i,r=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(i,r,{leading:a,maxWait:r,trailing:o})}n.throttle=t})(kP)),kP}var VP,J5;function mSe(){return J5||(J5=1,VP=gSe().throttle),VP}var vSe=mSe();const ySe=zA(vSe);var Z5=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>r[a++]))}},gJ=(n,e,t)=>{var{width:i="100%",height:r="100%",aspect:s,maxHeight:a}=t,o=Mu(i)?n:Number(i),l=Mu(r)?e:Number(r);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},wSe={width:0,height:0,overflow:"visible"},bSe={width:0,overflowX:"visible"},CSe={height:0,overflowY:"visible"},BSe={},ESe=n=>{var{width:e,height:t}=n,i=Mu(e),r=Mu(t);return i&&r?wSe:i?bSe:r?CSe:BSe};function SSe(n){var{width:e,height:t,aspect:i}=n,r=e,s=t;return r===void 0&&s===void 0?(r="100%",s="100%"):r===void 0?r=i&&i>0?void 0:"100%":s===void 0&&(s=i&&i>0?void 0:"100%"),{width:r,height:s}}function mi(n){return Number.isFinite(n)}function Zd(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function OL(){return OL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OL.apply(null,arguments)}function eq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function tq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eq(Object(t),!0).forEach(function(i){xSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xSe(n,e,t){return(e=_Se(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Se(n){var e=TSe(n,"string");return typeof e=="symbol"?e:e+""}function TSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var mJ=M.createContext({width:-1,height:-1});function ISe(n){return Zd(n.width)&&Zd(n.height)}function vJ(n){var{children:e,width:t,height:i}=n,r=M.useMemo(()=>({width:t,height:i}),[t,i]);return ISe(r)?M.createElement(mJ.Provider,{value:r},e):null}var Ek=()=>M.useContext(mJ),FSe=M.forwardRef((n,e)=>{var{aspect:t,initialDimension:i={width:-1,height:-1},width:r,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:b={}}=n,C=M.useRef(null),E=M.useRef();E.current=v,M.useImperativeHandle(e,()=>C.current);var[x,I]=M.useState({containerWidth:i.width,containerHeight:i.height}),T=M.useCallback((H,k)=>{I(K=>{var V=Math.round(H),z=Math.round(k);return K.containerWidth===V&&K.containerHeight===z?K:{containerWidth:V,containerHeight:z}})},[]);M.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return eE;var H=z=>{var Z,{width:ne,height:de}=z[0].contentRect;T(ne,de),(Z=E.current)===null||Z===void 0||Z.call(E,ne,de)};d>0&&(H=ySe(H,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(H),{width:K,height:V}=C.current.getBoundingClientRect();return T(K,V),k.observe(C.current),()=>{k.disconnect()}},[T,d]);var{containerWidth:R,containerHeight:P}=x;Z5(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:Q}=gJ(R,P,{width:r,height:s,aspect:t,maxHeight:l});return Z5(D!=null&&D>0||Q!=null&&Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,Q,r,s,a,o,t),M.createElement("div",{id:h?"".concat(h):void 0,className:Ln("recharts-responsive-container",g),style:tq(tq({},b),{},{width:r,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:C},M.createElement("div",{style:ESe({width:r,height:s})},M.createElement(vJ,{width:D,height:Q},u)))}),MSe=M.forwardRef((n,e)=>{var t=Ek();if(Zd(t.width)&&Zd(t.height))return n.children;var{width:i,height:r}=SSe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=gJ(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return rt(s)&&rt(a)?M.createElement(vJ,{width:s,height:a},n.children):M.createElement(FSe,OL({},n,{width:i,height:r,ref:e}))});function yJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var mI=()=>{var n,e=_a(),t=nt(dSe),i=nt(gI),r=(n=nt(pI))===null||n===void 0?void 0:n.padding;return!e||!i||!r?t:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},USe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},PSe=()=>{var n;return(n=nt(dr))!==null&&n!==void 0?n:USe},RSe=()=>nt(Gu),DSe=()=>nt(zu),an=n=>n.layout.layoutType,vI=()=>nt(an),NSe=()=>{var n=vI();return n!==void 0},yI=n=>{var e=vi(),t=_a(),{width:i,height:r}=n,s=Ek(),a=i,o=r;return s&&(a=s.width>0?s.width:i,o=s.height>0?s.height:r),M.useEffect(()=>{!t&&Zd(a)&&Zd(o)&&e(DEe({width:a,height:o}))},[e,t,a,o]),null},wJ=Symbol.for("immer-nothing"),nq=Symbol.for("immer-draftable"),Sa=Symbol.for("immer-state");function Vo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ib=Object.getPrototypeOf;function dy(n){return!!n&&!!n[Sa]}function _p(n){var e;return n?bJ(n)||Array.isArray(n)||!!n[nq]||!!((e=n.constructor)!=null&&e[nq])||sE(n)||bI(n):!1}var LSe=Object.prototype.constructor.toString(),iq=new WeakMap;function bJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=iq.get(t);return i===void 0&&(i=Function.toString.call(t),iq.set(t,i)),i===LSe}function RT(n,e,t=!0){wI(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function wI(n){const e=n[Sa];return e?e.type_:Array.isArray(n)?1:sE(n)?2:bI(n)?3:0}function HL(n,e){return wI(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function CJ(n,e,t){const i=wI(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function QSe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function sE(n){return n instanceof Map}function bI(n){return n instanceof Set}function Df(n){return n.copy_||n.base_}function VL(n,e){if(sE(n))return new Map(n);if(bI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=bJ(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Sa];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(ib(n),i)}else{const i=ib(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function Sk(n,e=!1){return CI(n)||dy(n)||!_p(n)||(wI(n)>1&&Object.defineProperties(n,{set:Tx,add:Tx,clear:Tx,delete:Tx}),Object.freeze(n),e&&Object.values(n).forEach(t=>Sk(t,!0))),n}function kSe(){Vo(2)}var Tx={value:kSe};function CI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var OSe={};function Tp(n){const e=OSe[n];return e||Vo(0,n),e}var rb;function BJ(){return rb}function HSe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rq(n,e){e&&(Tp("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function KL(n){GL(n),n.drafts_.forEach(VSe),n.drafts_=null}function GL(n){n===rb&&(rb=n.parent_)}function sq(n){return rb=HSe(rb,n)}function VSe(n){const e=n[Sa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function aq(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Sa].modified_&&(KL(e),Vo(4)),_p(n)&&(n=DT(e,n),e.parent_||NT(e,n)),e.patches_&&Tp("Patches").generateReplacementPatches_(t[Sa].base_,n,e.patches_,e.inversePatches_)):n=DT(e,t,[]),KL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==wJ?n:void 0}function DT(n,e,t){if(CI(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[Sa];if(!r)return RT(e,(s,a)=>oq(n,r,e,s,a,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return NT(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,o=!1;r.type_===3&&(a=new Set(s),s.clear(),o=!0),RT(a,(l,u)=>oq(n,r,s,l,u,t,o),i),NT(n,s,!1),t&&n.patches_&&Tp("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function oq(n,e,t,i,r,s,a){if(r==null||typeof r!="object"&&!a)return;const o=CI(r);if(!(o&&!a)){if(dy(r)){const l=s&&e&&e.type_!==3&&!HL(e.assigned_,i)?s.concat(i):void 0,u=DT(n,r,l);if(CJ(t,i,u),dy(u))n.canAutoFreeze_=!1;else return}else a&&t.add(r);if(_p(r)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&o)return;DT(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(sE(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&NT(n,r)}}}function NT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Sk(e,t)}function KSe(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:BJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=xk;t&&(r=[i],s=sb);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,o}var xk={get(n,e){if(e===Sa)return n;const t=Df(n);if(!HL(t,e))return GSe(n,t,e);const i=t[e];return n.finalized_||!_p(i)?i:i===KP(n.base_,e)?(GP(n),n.copy_[e]=qL(i,n)):i},has(n,e){return e in Df(n)},ownKeys(n){return Reflect.ownKeys(Df(n))},set(n,e,t){const i=EJ(Df(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=KP(Df(n),e),s=r==null?void 0:r[Sa];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(QSe(t,r)&&(t!==void 0||HL(n.base_,e)))return!0;GP(n),zL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return KP(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,GP(n),zL(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Df(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Vo(11)},getPrototypeOf(n){return ib(n.base_)},setPrototypeOf(){Vo(12)}},sb={};RT(xk,(n,e)=>{sb[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});sb.deleteProperty=function(n,e){return sb.set.call(this,n,e,void 0)};sb.set=function(n,e,t){return xk.set.call(this,n[0],e,t,n[0])};function KP(n,e){const t=n[Sa];return(t?Df(t):n)[e]}function GSe(n,e,t){var r;const i=EJ(e,t);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function EJ(n,e){if(!(e in n))return;let t=ib(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=ib(t)}}function zL(n){n.modified_||(n.modified_=!0,n.parent_&&zL(n.parent_))}function GP(n){n.copy_||(n.copy_=VL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var zSe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&Vo(6),i!==void 0&&typeof i!="function"&&Vo(7);let r;if(_p(e)){const s=sq(this),a=qL(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?KL(s):GL(s)}return rq(s,i),aq(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===wJ&&(r=void 0),this.autoFreeze_&&Sk(r,!0),i){const s=[],a=[];Tp("Patches").generateReplacementPatches_(e,r,s,a),i(s,a)}return r}else Vo(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let i,r;return[this.produce(e,t,(a,o)=>{i=a,r=o}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){_p(n)||Vo(8),dy(n)&&(n=qSe(n));const e=sq(this),t=qL(n,void 0);return t[Sa].isManual_=!0,GL(e),t}finishDraft(n,e){const t=n&&n[Sa];(!t||!t.isManual_)&&Vo(9);const{scope_:i}=t;return rq(i,e),aq(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=Tp("Patches").applyPatches_;return dy(n)?i(n,e):this.produce(n,r=>i(r,e))}};function qL(n,e){const t=sE(n)?Tp("MapSet").proxyMap_(n,e):bI(n)?Tp("MapSet").proxySet_(n,e):KSe(n,e);return(e?e.scope_:BJ()).drafts_.push(t),t}function qSe(n){return dy(n)||Vo(10,n),SJ(n)}function SJ(n){if(!_p(n)||CI(n))return n;const e=n[Sa];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=VL(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=VL(n,!0);return RT(t,(r,s)=>{CJ(t,r,SJ(s))},i),e&&(e.finalized_=!1),t}var $Se=new zSe;$Se.produce;var jSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},xJ=ks({name:"legend",initialState:jSe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:Vn()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:i}=e.payload,r=zo(n).payload.indexOf(t);r>-1&&(n.payload[r]=i)},prepare:Vn()},removeLegendPayload:{reducer(n,e){var t=zo(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:Vn()}}}),{setLegendSize:MQe,setLegendSettings:UQe,addLegendPayload:WSe,replaceLegendPayload:YSe,removeLegendPayload:XSe}=xJ.actions,JSe=xJ.reducer;function $L(){return $L=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$L.apply(null,arguments)}function Aq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Aq(Object(t),!0).forEach(function(i){ZSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Aq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ZSe(n,e,t){return(e=exe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function exe(n){var e=txe(n,"string");return typeof e=="symbol"?e:e+""}function txe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nxe(n){return Array.isArray(n)&&HA(n[0])&&HA(n[1])?n.join(" ~ "):n}var ixe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:i={},labelStyle:r={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var P={padding:0,margin:0},D=(o?rI(s,o):s).map((Q,H)=>{if(Q.type==="none")return null;var k=Q.formatter||a||nxe,{value:K,name:V}=Q,z=K,Z=V;if(k){var ne=k(K,V,Q,H,s);if(Array.isArray(ne))[z,Z]=ne;else if(ne!=null)z=ne;else return null}var de=zP({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},i);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:de},HA(Z)?M.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,HA(Z)?M.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,M.createElement("span",{className:"recharts-tooltip-item-value"},z),M.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},b=zP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),C=zP({margin:0},r),E=!cr(d),x=E?d:"",I=Ln("recharts-default-tooltip",l),T=Ln("recharts-tooltip-label",u);E&&h&&s!==void 0&&s!==null&&(x=h(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",$L({className:I,style:b},R),M.createElement("p",{className:T,style:C},M.isValidElement(x)?x:"".concat(x)),v())},k0="recharts-tooltip-wrapper",rxe={visibility:"hidden"};function sxe(n){var{coordinate:e,translateX:t,translateY:i}=n;return Ln(k0,{["".concat(k0,"-right")]:rt(t)&&e&&rt(e.x)&&t>=e.x,["".concat(k0,"-left")]:rt(t)&&e&&rt(e.x)&&t<e.x,["".concat(k0,"-bottom")]:rt(i)&&e&&rt(e.y)&&i>=e.y,["".concat(k0,"-top")]:rt(i)&&e&&rt(e.y)&&i<e.y})}function lq(n){var{allowEscapeViewBox:e,coordinate:t,key:i,offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&rt(s[i]))return s[i];var d=t[i]-o-(r>0?r:0),h=t[i]+r;if(e[i])return a[i]?d:h;var g=l[i];if(g==null)return 0;if(a[i]){var v=d,b=g;return v<b?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var C=h+o,E=g+u;return C>E?Math.max(d,g):Math.max(h,g)}function axe(n){var{translateX:e,translateY:t,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function oxe(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:i,position:r,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=lq({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=lq({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=axe({translateX:d,translateY:h,useTranslate3d:o})):u=rxe,{cssProperties:u,cssClasses:sxe({translateX:d,translateY:h,coordinate:t})}}function uq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ix(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uq(Object(t),!0).forEach(function(i){jL(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jL(n,e,t){return(e=Axe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Axe(n){var e=lxe(n,"string");return typeof e=="symbol"?e:e+""}function lxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class uxe extends M.PureComponent{constructor(){super(...arguments),jL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jL(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&t!==void 0?t:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:i,animationEasing:r,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:C,innerRef:E,hasPortalFromProps:x}=this.props,{cssClasses:I,cssProperties:T}=oxe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:C.height,width:C.width},useTranslate3d:g,viewBox:v}),R=x?{}:Ix(Ix({transition:l&&e?"transform ".concat(i,"ms ").concat(r):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=Ix(Ix({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:P,ref:E},s)}}var _J=()=>{var n;return(n=nt(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function WL(){return WL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WL.apply(null,arguments)}function cq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(t),!0).forEach(function(i){cxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cxe(n,e,t){return(e=dxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dxe(n){var e=fxe(n,"string");return typeof e=="symbol"?e:e+""}function fxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fq={curveBasisClosed:aCe,curveBasisOpen:oCe,curveBasis:sCe,curveBumpX:zbe,curveBumpY:qbe,curveLinearClosed:ACe,curveLinear:nI,curveMonotoneX:lCe,curveMonotoneY:uCe,curveNatural:cCe,curveStep:dCe,curveStepAfter:hCe,curveStepBefore:fCe},LT=n=>mi(n.x)&&mi(n.y),hq=n=>n.base!=null&&LT(n.base)&&LT(n),O0=n=>n.x,H0=n=>n.y,hxe=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(ZB(n));return(t==="curveMonotone"||t==="curveBump")&&e?fq["".concat(t).concat(e==="vertical"?"Y":"X")]:fq[t]||nI},pxe=n=>{var{type:e="linear",points:t=[],baseLine:i,layout:r,connectNulls:s=!1}=n,a=hxe(e,r),o=s?t.filter(LT):t,l;if(Array.isArray(i)){var u=t.map((v,b)=>dq(dq({},v),{},{base:i[b]}));r==="vertical"?l=bx().y(H0).x1(O0).x0(v=>v.base.x):l=bx().x(O0).y1(H0).y0(v=>v.base.y);var d=l.defined(hq).curve(a),h=s?u.filter(hq):u;return d(h)}r==="vertical"&&rt(i)?l=bx().y(H0).x1(O0).x0(i):rt(i)?l=bx().x(O0).y1(H0).y0(i):l=l9().x(O0).y(H0);var g=l.defined(LT).curve(a);return g(o)},TJ=n=>{var{className:e,points:t,path:i,pathRef:r}=n;if((!t||!t.length)&&!i)return null;var s=t&&t.length?pxe(n):i;return M.createElement("path",WL({},Jd(n),QCe(n),{className:Ln("recharts-curve",e),d:s===null?void 0:s,ref:r}))},gxe=["x","y","top","left","width","height","className"];function YL(){return YL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},YL.apply(null,arguments)}function pq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mxe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pq(Object(t),!0).forEach(function(i){vxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vxe(n,e,t){return(e=yxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yxe(n){var e=wxe(n,"string");return typeof e=="symbol"?e:e+""}function wxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bxe(n,e){if(n==null)return{};var t,i,r=Cxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Cxe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var Bxe=(n,e,t,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(t),Exe=n=>{var{x:e=0,y:t=0,top:i=0,left:r=0,width:s=0,height:a=0,className:o}=n,l=bxe(n,gxe),u=mxe({x:e,y:t,top:i,left:r,width:s,height:a},l);return!rt(e)||!rt(t)||!rt(s)||!rt(a)||!rt(i)||!rt(r)?null:M.createElement("path",YL({},go(u),{className:Ln("recharts-cross",o),d:Bxe(e,t,s,a,i,r)}))};function Sxe(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function gq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gq(Object(t),!0).forEach(function(i){xxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xxe(n,e,t){return(e=_xe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _xe(n){var e=Txe(n,"string");return typeof e=="symbol"?e:e+""}function Txe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Ixe=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),IJ=(n,e,t)=>n.map(i=>"".concat(Ixe(i)," ").concat(e,"ms ").concat(t)).join(","),Fxe=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,i)=>t.filter(r=>i.includes(r))),ab=(n,e)=>Object.keys(e).reduce((t,i)=>mq(mq({},t),{},{[i]:n(i,e[i])}),{});function vq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ki(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(t),!0).forEach(function(i){Mxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Mxe(n,e,t){return(e=Uxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Uxe(n){var e=Pxe(n,"string");return typeof e=="symbol"?e:e+""}function Pxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var QT=(n,e,t)=>n+(e-n)*t,XL=n=>{var{from:e,to:t}=n;return e!==t},FJ=(n,e,t)=>{var i=ab((r,s)=>{if(XL(s)){var[a,o]=n(s.from,s.to,s.velocity);return Ki(Ki({},s),{},{from:a,velocity:o})}return s},e);return t<1?ab((r,s)=>XL(s)?Ki(Ki({},s),{},{velocity:QT(s.velocity,i[r].velocity,t),from:QT(s.from,i[r].from,t)}):s,e):FJ(n,i,t-1)};function Rxe(n,e,t,i,r,s){var a,o=i.reduce((g,v)=>Ki(Ki({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>ab((g,v)=>v.from,o),u=()=>!Object.values(o).filter(XL).length,d=null,h=g=>{a||(a=g);var v=g-a,b=v/t.dt;o=FJ(t,o,b),r(Ki(Ki(Ki({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function Dxe(n,e,t,i,r,s,a){var o=null,l=r.reduce((h,g)=>Ki(Ki({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/i,v=ab((C,E)=>QT(...E,t(g)),l);if(s(Ki(Ki(Ki({},n),e),v)),g<1)o=a.setTimeout(d);else{var b=ab((C,E)=>QT(...E,t(1)),l);s(Ki(Ki(Ki({},n),e),b))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const Nxe=(n,e,t,i,r,s)=>{var a=Fxe(n,e);return t==null?()=>(r(Ki(Ki({},n),e)),()=>{}):t.isStepper===!0?Rxe(n,e,t,a,r,s):Dxe(n,e,t,i,a,r,s)};var kT=1e-4,MJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],UJ=(n,e)=>n.map((t,i)=>t*e**i).reduce((t,i)=>t+i),yq=(n,e)=>t=>{var i=MJ(n,e);return UJ(i,t)},Lxe=(n,e)=>t=>{var i=MJ(n,e),r=[...i.map((s,a)=>s*a).slice(1),0];return UJ(r,t)},Qxe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((r=s[1])===null||r===void 0?void 0:r.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},kxe=(n,e,t,i)=>{var r=yq(n,t),s=yq(e,i),a=Lxe(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=r(h)-d,b=a(h);if(Math.abs(v-d)<kT||b<kT)return s(h);h=o(h-v/b)}return s(h)};return l.isStepper=!1,l},wq=function(){return kxe(...Qxe(...arguments))},Oxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:i=8,dt:r=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*i,h=l+(u-d)*r/1e3,g=l*r/1e3+a;return Math.abs(g-o)<kT&&Math.abs(h)<kT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=r,s},Hxe=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wq(n);case"spring":return Oxe();default:if(n.split("(")[0]==="cubic-bezier")return wq(n)}return typeof n=="function"?n:null};function Vxe(n){var e,t=()=>null,i=!1,r=null,s=a=>{if(!i){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){r=n.setTimeout(s.bind(null,u),l);return}s(l),r=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{i=!0},start:a=>{i=!1,r&&(r(),r=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class Kxe{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=a=>{a-i>=t?e(a):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function Gxe(){return Vxe(new Kxe)}var zxe=M.createContext(Gxe);function qxe(n,e){var t=M.useContext(zxe);return M.useMemo(()=>e??t(n),[n,e,t])}var $xe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),aE={devToolsEnabled:!1,isSsr:$xe()},jxe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bq={t:0},qP={t:1};function _k(n){var e=yo(n,jxe),{isActive:t,canBegin:i,duration:r,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!aE.isSsr:t,h=qxe(e.animationId,e.animationManager),[g,v]=M.useState(d?bq:qP),b=M.useRef(null);return M.useEffect(()=>{d||v(qP)},[d]),M.useEffect(()=>{if(!d||!i)return eE;var C=Nxe(bq,qP,Hxe(s),r,v,h.getTimeoutController()),E=()=>{b.current=C()};return h.start([l,a,E,r,o]),()=>{h.stop(),b.current&&b.current(),o()}},[d,i,r,s,a,l,o,h]),u(g.t)}function Tk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=M.useRef(Zw(e)),i=M.useRef(n);return i.current!==n&&(t.current=Zw(e),i.current=n),t.current}var Wxe=["radius"],Yxe=["radius"];function Cq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Bq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(t),!0).forEach(function(i){Xxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Xxe(n,e,t){return(e=Jxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jxe(n){var e=Zxe(n,"string");return typeof e=="symbol"?e:e+""}function Zxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function OT(){return OT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OT.apply(null,arguments)}function Eq(n,e){if(n==null)return{};var t,i,r=e_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function e_e(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var Sq=(n,e,t,i,r)=>{var s=Math.min(Math.abs(t)/2,Math.abs(i)/2),a=i>=0?1:-1,o=t>=0?1:-1,l=i>=0&&t>=0||i<0&&t<0?1:0,u;if(s>0&&r instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=r[h]>s?s:r[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+i)),u+="L ".concat(n+o*d[3],",").concat(e+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+i-a*d[3])),u+="Z"}else if(s>0&&r===+r&&r>0){var v=Math.min(s,r);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+i,`
            L `).concat(n+o*v,",").concat(e+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+i-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(i," h ").concat(-t," Z");return u},xq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PJ=n=>{var e=yo(n,xq),t=M.useRef(null),[i,r]=M.useState(-1);M.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var $=t.current.getTotalLength();$&&r($)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:C}=e,E=M.useRef(o),x=M.useRef(l),I=M.useRef(s),T=M.useRef(a),R=M.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),P=Tk(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var D=Ln("recharts-rectangle",d);if(!C){var Q=go(e),{radius:H}=Q,k=Eq(Q,Wxe);return M.createElement("path",OT({},k,{radius:typeof u=="number"?u:void 0,className:D,d:Sq(s,a,o,l,u)}))}var K=E.current,V=x.current,z=I.current,Z=T.current,ne="0px ".concat(i===-1?1:i,"px"),de="".concat(i,"px 0px"),G=IJ(["strokeDasharray"],g,typeof h=="string"?h:xq.animationEasing);return M.createElement(_k,{animationId:P,key:P,canBegin:i>0,duration:g,easing:h,isActive:C,begin:v},$=>{var re=Ir(K,o,$),ae=Ir(V,l,$),Ee=Ir(z,s,$),q=Ir(Z,a,$);t.current&&(E.current=re,x.current=ae,I.current=Ee,T.current=q);var Y;b?$>0?Y={transition:G,strokeDasharray:de}:Y={strokeDasharray:ne}:Y={strokeDasharray:de};var le=go(e),{radius:ye}=le,Be=Eq(le,Yxe);return M.createElement("path",OT({},Be,{radius:typeof u=="number"?u:void 0,className:D,d:Sq(Ee,q,re,ae,u),ref:t,style:Bq(Bq({},Y),e.style)}))})};function _q(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_q(Object(t),!0).forEach(function(i){t_e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_q(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function t_e(n,e,t){return(e=n_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function n_e(n){var e=i_e(n,"string");return typeof e=="symbol"?e:e+""}function i_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var HT=Math.PI/180,r_e=n=>n*180/Math.PI,Pr=(n,e,t,i)=>({x:n+Math.cos(-HT*i)*t,y:e+Math.sin(-HT*i)*t}),s_e=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},a_e=(n,e)=>{var{x:t,y:i}=n,{x:r,y:s}=e;return Math.sqrt((t-r)**2+(i-s)**2)},o_e=(n,e)=>{var{x:t,y:i}=n,{cx:r,cy:s}=e,a=a_e({x:t,y:i},{x:r,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-r)/a,l=Math.acos(o);return i>s&&(l=2*Math.PI-l),{radius:a,angle:r_e(l),angleInRadian:l}},A_e=n=>{var{startAngle:e,endAngle:t}=n,i=Math.floor(e/360),r=Math.floor(t/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:t-s*360}},l_e=(n,e)=>{var{startAngle:t,endAngle:i}=e,r=Math.floor(t/360),s=Math.floor(i/360),a=Math.min(r,s);return n+a*360},u_e=(n,e)=>{var{chartX:t,chartY:i}=n,{radius:r,angle:s}=o_e({x:t,y:i},e),{innerRadius:a,outerRadius:o}=e;if(r<a||r>o||r===0)return null;var{startAngle:l,endAngle:u}=A_e(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?Tq(Tq({},e),{},{radius:r,angle:l_e(d,e)}):null};function RJ(n){var{cx:e,cy:t,radius:i,startAngle:r,endAngle:s}=n,a=Pr(e,t,i,r),o=Pr(e,t,i,s);return{points:[a,o],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}function JL(){return JL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},JL.apply(null,arguments)}var c_e=(n,e)=>{var t=ba(e-n),i=Math.min(Math.abs(e-n),359.999);return t*i},Fx=n=>{var{cx:e,cy:t,radius:i,angle:r,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+i,d=Math.asin(o/u)/HT,h=l?r:r+s*d,g=Pr(e,t,u,h),v=Pr(e,t,i,h),b=l?r-s*d:r,C=Pr(e,t,u*Math.cos(d*HT),b);return{center:g,circleTangency:v,lineTangency:C,theta:d}},DJ=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:a}=n,o=c_e(s,a),l=s+o,u=Pr(e,t,r,s),d=Pr(e,t,r,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Pr(e,t,i,s),v=Pr(e,t,i,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},d_e=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=ba(u-l),{circleTangency:h,lineTangency:g,theta:v}=Fx({cx:e,cy:t,radius:r,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:C,theta:E}=Fx({cx:e,cy:t,radius:r,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-v-E;if(x<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):DJ({cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var{circleTangency:T,lineTangency:R,theta:P}=Fx({cx:e,cy:t,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:Q,theta:H}=Fx({cx:e,cy:t,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-P-H;if(k<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(Q.x,",").concat(Q.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},f_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NJ=n=>{var e=yo(n,f_e),{cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<r||u===d)return null;var g=Ln("recharts-sector",h),v=s-r,b=qo(a,v,0,!0),C;return b>0&&Math.abs(u-d)<360?C=d_e({cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):C=DJ({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:u,endAngle:d}),M.createElement("path",JL({},go(e),{className:g,d:C}))};function h_e(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(E9(e)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:a,angle:o}=e,l=Pr(i,r,s,o),u=Pr(i,r,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return RJ(e)}}var $P={},jP={},WP={},Iq;function p_e(){return Iq||(Iq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=D9();function t(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=t})(WP)),WP}var Fq;function g_e(){return Fq||(Fq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=p_e();function t(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=t})(jP)),jP}var Mq;function m_e(){return Mq||(Mq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=N9(),t=g_e();function i(r,s,a){a&&typeof a!="number"&&e.isIterateeCall(r,s,a)&&(s=a=void 0),r=t.toFinite(r),s===void 0?(s=r,r=0):s=t.toFinite(s),a=a===void 0?r<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-r)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=r,r+=a;return l}n.range=i})($P)),$P}var YP,Uq;function v_e(){return Uq||(Uq=1,YP=m_e().range),YP}var y_e=v_e();const LJ=zA(y_e);function jd(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function w_e(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Ik(n){let e,t,i;n.length!==2?(e=jd,t=(o,l)=>jd(n(o),l),i=(o,l)=>n(o)-l):(e=n===jd||n===w_e?n:b_e,t=n,i=n);function r(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=r(o,l,u,d-1);return h>u&&i(o[h-1],l)>-i(o[h],l)?h-1:h}return{left:r,center:a,right:s}}function b_e(){return 0}function QJ(n){return n===null?NaN:+n}function*C_e(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const B_e=Ik(jd),oE=B_e.right;Ik(QJ).center;class Pq extends Map{constructor(e,t=x_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(Rq(this,e))}has(e){return super.has(Rq(this,e))}set(e,t){return super.set(E_e(this,e),t)}delete(e){return super.delete(S_e(this,e))}}function Rq({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function E_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function S_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function x_e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function __e(n=jd){if(n===jd)return kJ;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function kJ(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const T_e=Math.sqrt(50),I_e=Math.sqrt(10),F_e=Math.sqrt(2);function VT(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),a=s>=T_e?10:s>=I_e?5:s>=F_e?2:1;let o,l,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?VT(n,e,t*2):[o,l,u]}function ZL(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,a]=i?VT(e,n,t):VT(n,e,t);if(!(s>=r))return[];const o=s-r+1,l=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(r+u)/-a;else for(let u=0;u<o;++u)l[u]=(r+u)*a;return l}function eQ(n,e,t){return e=+e,n=+n,t=+t,VT(n,e,t)[2]}function tQ(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?eQ(e,n,t):eQ(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function Dq(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function Nq(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function OJ(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?kJ:__e(r);i>t;){if(i-t>600){const l=i-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),b=Math.min(i,Math.floor(e+(l-u)*h/l+g));OJ(n,e,v,b,r)}const s=n[e];let a=t,o=i;for(V0(n,t,e),r(n[i],s)>0&&V0(n,t,i);a<o;){for(V0(n,a,o),++a,--o;r(n[a],s)<0;)++a;for(;r(n[o],s)>0;)--o}r(n[t],s)===0?V0(n,t,o):(++o,V0(n,o,i)),o<=e&&(t=o+1),e<=o&&(i=o-1)}return n}function V0(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function M_e(n,e,t){if(n=Float64Array.from(C_e(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return Nq(n);if(e>=1)return Dq(n);var i,r=(i-1)*e,s=Math.floor(r),a=Dq(OJ(n,s).subarray(0,s+1)),o=Nq(n.subarray(s+1));return a+(o-a)*(r-s)}}function U_e(n,e,t=QJ){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(r-s)}}function P_e(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function wo(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function qu(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const nQ=Symbol("implicit");function Fk(){var n=new Pq,e=[],t=[],i=nQ;function r(s){let a=n.get(s);if(a===void 0){if(i!==nQ)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new Pq;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Fk(e,t).unknown(i)},wo.apply(r,arguments),r}function Mk(){var n=Fk().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=r<i,b=v?r:i,C=v?i:r;s=(C-b)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),b+=(C-b-s*(g-l))*d,a=s*(1-l),o&&(b=Math.round(b),a=Math.round(a));var E=P_e(g).map(function(x){return b+s*x});return t(v?E.reverse():E)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,h()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return Mk(e(),[i,r]).round(o).paddingInner(l).paddingOuter(u).align(d)},wo.apply(h(),arguments)}function HJ(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return HJ(e())},n}function R_e(){return HJ(Mk.apply(null,arguments).paddingInner(1))}function Uk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function VJ(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function AE(){}var ob=.7,KT=1/ob,om="\\s*([+-]?\\d+)\\s*",Ab="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D_e=/^#([0-9a-f]{3,8})$/,N_e=new RegExp(`^rgb\\(${om},${om},${om}\\)$`),L_e=new RegExp(`^rgb\\(${kA},${kA},${kA}\\)$`),Q_e=new RegExp(`^rgba\\(${om},${om},${om},${Ab}\\)$`),k_e=new RegExp(`^rgba\\(${kA},${kA},${kA},${Ab}\\)$`),O_e=new RegExp(`^hsl\\(${Ab},${kA},${kA}\\)$`),H_e=new RegExp(`^hsla\\(${Ab},${kA},${kA},${Ab}\\)$`),Lq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uk(AE,lb,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Qq,formatHex:Qq,formatHex8:V_e,formatHsl:K_e,formatRgb:kq,toString:kq});function Qq(){return this.rgb().formatHex()}function V_e(){return this.rgb().formatHex8()}function K_e(){return KJ(this).formatHsl()}function kq(){return this.rgb().formatRgb()}function lb(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=D_e.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?Oq(e):t===3?new Ls(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Mx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Mx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=N_e.exec(n))?new Ls(e[1],e[2],e[3],1):(e=L_e.exec(n))?new Ls(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Q_e.exec(n))?Mx(e[1],e[2],e[3],e[4]):(e=k_e.exec(n))?Mx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=O_e.exec(n))?Kq(e[1],e[2]/100,e[3]/100,1):(e=H_e.exec(n))?Kq(e[1],e[2]/100,e[3]/100,e[4]):Lq.hasOwnProperty(n)?Oq(Lq[n]):n==="transparent"?new Ls(NaN,NaN,NaN,0):null}function Oq(n){return new Ls(n>>16&255,n>>8&255,n&255,1)}function Mx(n,e,t,i){return i<=0&&(n=e=t=NaN),new Ls(n,e,t,i)}function G_e(n){return n instanceof AE||(n=lb(n)),n?(n=n.rgb(),new Ls(n.r,n.g,n.b,n.opacity)):new Ls}function iQ(n,e,t,i){return arguments.length===1?G_e(n):new Ls(n,e,t,i??1)}function Ls(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}Uk(Ls,iQ,VJ(AE,{brighter(n){return n=n==null?KT:Math.pow(KT,n),new Ls(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?ob:Math.pow(ob,n),new Ls(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ls(bp(this.r),bp(this.g),bp(this.b),GT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hq,formatHex:Hq,formatHex8:z_e,formatRgb:Vq,toString:Vq}));function Hq(){return`#${Vf(this.r)}${Vf(this.g)}${Vf(this.b)}`}function z_e(){return`#${Vf(this.r)}${Vf(this.g)}${Vf(this.b)}${Vf((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vq(){const n=GT(this.opacity);return`${n===1?"rgb(":"rgba("}${bp(this.r)}, ${bp(this.g)}, ${bp(this.b)}${n===1?")":`, ${n})`}`}function GT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function bp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Vf(n){return n=bp(n),(n<16?"0":"")+n.toString(16)}function Kq(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Ko(n,e,t,i)}function KJ(n){if(n instanceof Ko)return new Ko(n.h,n.s,n.l,n.opacity);if(n instanceof AE||(n=lb(n)),!n)return new Ko;if(n instanceof Ko)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),a=NaN,o=s-r,l=(s+r)/2;return o?(e===s?a=(t-i)/o+(t<i)*6:t===s?a=(i-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new Ko(a,o,l,n.opacity)}function q_e(n,e,t,i){return arguments.length===1?KJ(n):new Ko(n,e,t,i??1)}function Ko(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}Uk(Ko,q_e,VJ(AE,{brighter(n){return n=n==null?KT:Math.pow(KT,n),new Ko(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?ob:Math.pow(ob,n),new Ko(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new Ls(XP(n>=240?n-240:n+120,r,i),XP(n,r,i),XP(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Ko(Gq(this.h),Ux(this.s),Ux(this.l),GT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=GT(this.opacity);return`${n===1?"hsl(":"hsla("}${Gq(this.h)}, ${Ux(this.s)*100}%, ${Ux(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Gq(n){return n=(n||0)%360,n<0?n+360:n}function Ux(n){return Math.max(0,Math.min(1,n||0))}function XP(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Pk=n=>()=>n;function $_e(n,e){return function(t){return n+t*e}}function j_e(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function W_e(n){return(n=+n)==1?GJ:function(e,t){return t-e?j_e(e,t,n):Pk(isNaN(e)?t:e)}}function GJ(n,e){var t=e-n;return t?$_e(n,t):Pk(isNaN(n)?e:n)}const zq=(function n(e){var t=W_e(e);function i(r,s){var a=t((r=iQ(r)).r,(s=iQ(s)).r),o=t(r.g,s.g),l=t(r.b,s.b),u=GJ(r.opacity,s.opacity);return function(d){return r.r=a(d),r.g=o(d),r.b=l(d),r.opacity=u(d),r+""}}return i.gamma=n,i})(1);function Y_e(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function X_e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function J_e(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),a;for(a=0;a<i;++a)r[a]=_y(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function Z_e(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function zT(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function eTe(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=_y(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var rQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JP=new RegExp(rQ.source,"g");function tTe(n){return function(){return n}}function nTe(n){return function(e){return n(e)+""}}function iTe(n,e){var t=rQ.lastIndex=JP.lastIndex=0,i,r,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(i=rQ.exec(n))&&(r=JP.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:zT(i,r)})),t=JP.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?nTe(l[0].x):tTe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function _y(n,e){var t=typeof e,i;return e==null||t==="boolean"?Pk(e):(t==="number"?zT:t==="string"?(i=lb(e))?(e=i,zq):iTe:e instanceof lb?zq:e instanceof Date?Z_e:X_e(e)?Y_e:Array.isArray(e)?J_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eTe:zT)(n,e)}function Rk(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function rTe(n,e){e===void 0&&(e=n,n=_y);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(a){var o=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return s[o](a-o)}}function sTe(n){return function(){return n}}function qT(n){return+n}var qq=[0,1];function us(n){return n}function sQ(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:sTe(isNaN(e)?NaN:.5)}function aTe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function oTe(n,e,t){var i=n[0],r=n[1],s=e[0],a=e[1];return r<i?(i=sQ(r,i),s=t(a,s)):(i=sQ(i,r),s=t(s,a)),function(o){return s(i(o))}}function ATe(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=sQ(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=oE(n,o,1,i)-1;return s[l](r[l](o))}}function lE(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function BI(){var n=qq,e=qq,t=_y,i,r,s,a=us,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==us&&(a=aTe(n[0],n[g-1])),o=g>2?ATe:oTe,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(i),e,t)))(i(a(g)))}return h.invert=function(g){return a(r((u||(u=o(e,n.map(i),zT)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,qT),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=Rk,d()},h.clamp=function(g){return arguments.length?(a=g?!0:us,d()):a!==us},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return i=g,r=v,d()}}function Dk(){return BI()(us,us)}function lTe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function $T(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function fy(n){return n=$T(Math.abs(n)),n?n[1]:NaN}function uTe(n,e){return function(t,i){for(var r=t.length,s=[],a=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function cTe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var dTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ub(n){if(!(e=dTe.exec(n)))throw new Error("invalid format: "+n);var e;return new Nk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ub.prototype=Nk.prototype;function Nk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Nk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fTe(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var zJ;function hTe(n,e){var t=$T(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(zJ=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+$T(n,Math.max(0,e+s-1))[0]}function $q(n,e){var t=$T(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const jq={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:lTe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>$q(n*100,e),r:$q,s:hTe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Wq(n){return n}var Yq=Array.prototype.map,Xq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pTe(n){var e=n.grouping===void 0||n.thousands===void 0?Wq:uTe(Yq.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?Wq:cTe(Yq.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=ub(h);var g=h.fill,v=h.align,b=h.sign,C=h.symbol,E=h.zero,x=h.width,I=h.comma,T=h.precision,R=h.trim,P=h.type;P==="n"?(I=!0,P="g"):jq[P]||(T===void 0&&(T=12),R=!0,P="g"),(E||g==="0"&&v==="=")&&(E=!0,g="0",v="=");var D=C==="$"?t:C==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",Q=C==="$"?i:/[%p]/.test(P)?a:"",H=jq[P],k=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function K(V){var z=D,Z=Q,ne,de,G;if(P==="c")Z=H(V)+Z,V="";else{V=+V;var $=V<0||1/V<0;if(V=isNaN(V)?l:H(Math.abs(V),T),R&&(V=fTe(V)),$&&+V==0&&b!=="+"&&($=!1),z=($?b==="("?b:o:b==="-"||b==="("?"":b)+z,Z=(P==="s"?Xq[8+zJ/3]:"")+Z+($&&b==="("?")":""),k){for(ne=-1,de=V.length;++ne<de;)if(G=V.charCodeAt(ne),48>G||G>57){Z=(G===46?r+V.slice(ne+1):V.slice(ne))+Z,V=V.slice(0,ne);break}}}I&&!E&&(V=e(V,1/0));var re=z.length+V.length+Z.length,ae=re<x?new Array(x-re+1).join(g):"";switch(I&&E&&(V=e(ae+V,ae.length?x-Z.length:1/0),ae=""),v){case"<":V=z+V+Z+ae;break;case"=":V=z+ae+V+Z;break;case"^":V=ae.slice(0,re=ae.length>>1)+z+V+Z+ae.slice(re);break;default:V=ae+z+V+Z;break}return s(V)}return K.toString=function(){return h+""},K}function d(h,g){var v=u((h=ub(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(fy(g)/3)))*3,C=Math.pow(10,-b),E=Xq[8+b/3];return function(x){return v(C*x)+E}}return{format:u,formatPrefix:d}}var Px,Lk,qJ;gTe({thousands:",",grouping:[3],currency:["$",""]});function gTe(n){return Px=pTe(n),Lk=Px.format,qJ=Px.formatPrefix,Px}function mTe(n){return Math.max(0,-fy(Math.abs(n)))}function vTe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fy(e)/3)))*3-fy(Math.abs(n)))}function yTe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,fy(e)-fy(n))+1}function $J(n,e,t,i){var r=tQ(n,e,t),s;switch(i=ub(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=vTe(r,a))&&(i.precision=s),qJ(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=yTe(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=mTe(r))&&(i.precision=s-(i.type==="%")*2);break}}return Lk(i)}function af(n){var e=n.domain;return n.ticks=function(t){var i=e();return ZL(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return $J(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,a=i[r],o=i[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=r,r=s,s=u);d-- >0;){if(u=eQ(a,o,t),u===l)return i[r]=a,i[s]=o,e(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function jJ(){var n=Dk();return n.copy=function(){return lE(n,jJ())},wo.apply(n,arguments),af(n)}function WJ(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,qT),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return WJ(n).unknown(e)},n=arguments.length?Array.from(n,qT):[0,1],af(t)}function YJ(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],a;return s<r&&(a=t,t=i,i=a,a=r,r=s,s=a),n[t]=e.floor(r),n[i]=e.ceil(s),n}function Jq(n){return Math.log(n)}function Zq(n){return Math.exp(n)}function wTe(n){return-Math.log(-n)}function bTe(n){return-Math.exp(-n)}function CTe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function BTe(n){return n===10?CTe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function ETe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function e8(n){return(e,t)=>-n(-e,t)}function Qk(n){const e=n(Jq,Zq),t=e.domain;let i=10,r,s;function a(){return r=ETe(i),s=BTe(i),t()[0]<0?(r=e8(r),s=e8(s),n(wTe,bTe)):n(Jq,Zq),e}return e.base=function(o){return arguments.length?(i=+o,a()):i},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=r(u),v=r(d),b,C;const E=o==null?10:+o;let x=[];if(!(i%1)&&v-g<E){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(b=1;b<i;++b)if(C=g<0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;x.push(C)}}else for(;g<=v;++g)for(b=i-1;b>=1;--b)if(C=g>0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;x.push(C)}x.length*2<E&&(x=ZL(u,d,E))}else x=ZL(g,v,Math.min(v-g,E)).map(s);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=ub(l)).precision==null&&(l.trim=!0),l=Lk(l)),o===1/0)return l;const u=Math.max(1,i*o/e.ticks().length);return d=>{let h=d/s(Math.round(r(d)));return h*i<i-.5&&(h*=i),h<=u?l(d):""}},e.nice=()=>t(YJ(t(),{floor:o=>s(Math.floor(r(o))),ceil:o=>s(Math.ceil(r(o)))})),e}function XJ(){const n=Qk(BI()).domain([1,10]);return n.copy=()=>lE(n,XJ()).base(n.base()),wo.apply(n,arguments),n}function t8(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function n8(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function kk(n){var e=1,t=n(t8(e),n8(e));return t.constant=function(i){return arguments.length?n(t8(e=+i),n8(e)):e},af(t)}function JJ(){var n=kk(BI());return n.copy=function(){return lE(n,JJ()).constant(n.constant())},wo.apply(n,arguments)}function i8(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function STe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function xTe(n){return n<0?-n*n:n*n}function Ok(n){var e=n(us,us),t=1;function i(){return t===1?n(us,us):t===.5?n(STe,xTe):n(i8(t),i8(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},af(e)}function Hk(){var n=Ok(BI());return n.copy=function(){return lE(n,Hk()).exponent(n.exponent())},wo.apply(n,arguments),n}function _Te(){return Hk.apply(null,arguments).exponent(.5)}function r8(n){return Math.sign(n)*n*n}function TTe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function ZJ(){var n=Dk(),e=[0,1],t=!1,i;function r(s){var a=TTe(n(s));return isNaN(a)?i:t?Math.round(a):a}return r.invert=function(s){return n.invert(r8(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,qT)).map(r8)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return ZJ(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},wo.apply(r,arguments),af(r)}function e7(){var n=[],e=[],t=[],i;function r(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=U_e(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?i:e[oE(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(jd),r()},s.range=function(a){return arguments.length?(e=Array.from(a),r()):e.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return e7().domain(n).range(e).unknown(i)},wo.apply(s,arguments)}function t7(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function a(l){return l!=null&&l<=l?r[oE(i,l,0,t)]:s}function o(){var l=-1;for(i=new Array(t);++l<t;)i[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(r=Array.from(l)).length-1,o()):r.slice()},a.invertExtent=function(l){var u=r.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=t?[i[t-1],e]:[i[u-1],i[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return i.slice()},a.copy=function(){return t7().domain([n,e]).range(r).unknown(s)},wo.apply(af(a),arguments)}function n7(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[oE(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return n7().domain(n).range(e).unknown(t)},wo.apply(r,arguments)}const ZP=new Date,eR=new Date;function qi(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),r.range=(s,a,o)=>{const l=[];if(s=r.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},r.filter=s=>qi(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(r.count=(s,a)=>(ZP.setTime(+s),eR.setTime(+a),n(ZP),n(eR),Math.floor(t(ZP,eR))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?a=>i(a)%s===0:a=>r.count(0,a)%s===0):r)),r}const jT=qi(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);jT.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?qi(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):jT);jT.range;const vu=1e3,uo=vu*60,yu=uo*60,Pu=yu*24,Vk=Pu*7,s8=Pu*30,tR=Pu*365,Kf=qi(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*vu)},(n,e)=>(e-n)/vu,n=>n.getUTCSeconds());Kf.range;const Kk=qi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*vu)},(n,e)=>{n.setTime(+n+e*uo)},(n,e)=>(e-n)/uo,n=>n.getMinutes());Kk.range;const Gk=qi(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*uo)},(n,e)=>(e-n)/uo,n=>n.getUTCMinutes());Gk.range;const zk=qi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*vu-n.getMinutes()*uo)},(n,e)=>{n.setTime(+n+e*yu)},(n,e)=>(e-n)/yu,n=>n.getHours());zk.range;const qk=qi(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*yu)},(n,e)=>(e-n)/yu,n=>n.getUTCHours());qk.range;const uE=qi(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*uo)/Pu,n=>n.getDate()-1);uE.range;const EI=qi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Pu,n=>n.getUTCDate()-1);EI.range;const i7=qi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Pu,n=>Math.floor(n/Pu));i7.range;function Lp(n){return qi(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uo)/Vk)}const SI=Lp(0),WT=Lp(1),ITe=Lp(2),FTe=Lp(3),hy=Lp(4),MTe=Lp(5),UTe=Lp(6);SI.range;WT.range;ITe.range;FTe.range;hy.range;MTe.range;UTe.range;function Qp(n){return qi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Vk)}const xI=Qp(0),YT=Qp(1),PTe=Qp(2),RTe=Qp(3),py=Qp(4),DTe=Qp(5),NTe=Qp(6);xI.range;YT.range;PTe.range;RTe.range;py.range;DTe.range;NTe.range;const $k=qi(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());$k.range;const jk=qi(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());jk.range;const Ru=qi(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Ru.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:qi(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Ru.range;const Du=qi(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Du.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:qi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Du.range;function r7(n,e,t,i,r,s){const a=[[Kf,1,vu],[Kf,5,5*vu],[Kf,15,15*vu],[Kf,30,30*vu],[s,1,uo],[s,5,5*uo],[s,15,15*uo],[s,30,30*uo],[r,1,yu],[r,3,3*yu],[r,6,6*yu],[r,12,12*yu],[i,1,Pu],[i,2,2*Pu],[t,1,Vk],[e,1,s8],[e,3,3*s8],[n,1,tR]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),b=v?v.range(u,+d+1):[];return g?b.reverse():b}function l(u,d,h){const g=Math.abs(d-u)/h,v=Ik(([,,E])=>E).right(a,g);if(v===a.length)return n.every(tQ(u/tR,d/tR,h));if(v===0)return jT.every(Math.max(tQ(u,d,h),1));const[b,C]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(C)}return[o,l]}const[LTe,QTe]=r7(Du,jk,xI,i7,qk,Gk),[kTe,OTe]=r7(Ru,$k,SI,uE,zk,Kk);function nR(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function iR(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function K0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function HTe(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=G0(r),d=z0(r),h=G0(s),g=z0(s),v=G0(a),b=z0(a),C=G0(o),E=z0(o),x=G0(l),I=z0(l),T={a:$,A:re,b:ae,B:Ee,c:null,d:c8,e:c8,f:u1e,g:w1e,G:C1e,H:o1e,I:A1e,j:l1e,L:s7,m:c1e,M:d1e,p:q,q:Y,Q:h8,s:p8,S:f1e,u:h1e,U:p1e,V:g1e,w:m1e,W:v1e,x:null,X:null,y:y1e,Y:b1e,Z:B1e,"%":f8},R={a:le,A:ye,b:Be,B:_e,c:null,d:d8,e:d8,f:_1e,g:L1e,G:k1e,H:E1e,I:S1e,j:x1e,L:o7,m:T1e,M:I1e,p:we,q:at,Q:h8,s:p8,S:F1e,u:M1e,U:U1e,V:P1e,w:R1e,W:D1e,x:null,X:null,y:N1e,Y:Q1e,Z:O1e,"%":f8},P={a:K,A:V,b:z,B:Z,c:ne,d:l8,e:l8,f:i1e,g:A8,G:o8,H:u8,I:u8,j:ZTe,L:n1e,m:JTe,M:e1e,p:k,q:XTe,Q:s1e,s:a1e,S:t1e,u:qTe,U:$Te,V:jTe,w:zTe,W:WTe,x:de,X:G,y:A8,Y:o8,Z:YTe,"%":r1e};T.x=D(t,T),T.X=D(i,T),T.c=D(e,T),R.x=D(t,R),R.X=D(i,R),R.c=D(e,R);function D(se,Ne){return function($e){var me=[],Nt=-1,Xe=0,Xt=se.length,kt,si,ot;for($e instanceof Date||($e=new Date(+$e));++Nt<Xt;)se.charCodeAt(Nt)===37&&(me.push(se.slice(Xe,Nt)),(si=a8[kt=se.charAt(++Nt)])!=null?kt=se.charAt(++Nt):si=kt==="e"?" ":"0",(ot=Ne[kt])&&(kt=ot($e,si)),me.push(kt),Xe=Nt+1);return me.push(se.slice(Xe,Nt)),me.join("")}}function Q(se,Ne){return function($e){var me=K0(1900,void 0,1),Nt=H(me,se,$e+="",0),Xe,Xt;if(Nt!=$e.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Ne&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Xe=iR(K0(me.y,0,1)),Xt=Xe.getUTCDay(),Xe=Xt>4||Xt===0?YT.ceil(Xe):YT(Xe),Xe=EI.offset(Xe,(me.V-1)*7),me.y=Xe.getUTCFullYear(),me.m=Xe.getUTCMonth(),me.d=Xe.getUTCDate()+(me.w+6)%7):(Xe=nR(K0(me.y,0,1)),Xt=Xe.getDay(),Xe=Xt>4||Xt===0?WT.ceil(Xe):WT(Xe),Xe=uE.offset(Xe,(me.V-1)*7),me.y=Xe.getFullYear(),me.m=Xe.getMonth(),me.d=Xe.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Xt="Z"in me?iR(K0(me.y,0,1)).getUTCDay():nR(K0(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Xt+5)%7:me.w+me.U*7-(Xt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,iR(me)):nR(me)}}function H(se,Ne,$e,me){for(var Nt=0,Xe=Ne.length,Xt=$e.length,kt,si;Nt<Xe;){if(me>=Xt)return-1;if(kt=Ne.charCodeAt(Nt++),kt===37){if(kt=Ne.charAt(Nt++),si=P[kt in a8?Ne.charAt(Nt++):kt],!si||(me=si(se,$e,me))<0)return-1}else if(kt!=$e.charCodeAt(me++))return-1}return me}function k(se,Ne,$e){var me=u.exec(Ne.slice($e));return me?(se.p=d.get(me[0].toLowerCase()),$e+me[0].length):-1}function K(se,Ne,$e){var me=v.exec(Ne.slice($e));return me?(se.w=b.get(me[0].toLowerCase()),$e+me[0].length):-1}function V(se,Ne,$e){var me=h.exec(Ne.slice($e));return me?(se.w=g.get(me[0].toLowerCase()),$e+me[0].length):-1}function z(se,Ne,$e){var me=x.exec(Ne.slice($e));return me?(se.m=I.get(me[0].toLowerCase()),$e+me[0].length):-1}function Z(se,Ne,$e){var me=C.exec(Ne.slice($e));return me?(se.m=E.get(me[0].toLowerCase()),$e+me[0].length):-1}function ne(se,Ne,$e){return H(se,e,Ne,$e)}function de(se,Ne,$e){return H(se,t,Ne,$e)}function G(se,Ne,$e){return H(se,i,Ne,$e)}function $(se){return a[se.getDay()]}function re(se){return s[se.getDay()]}function ae(se){return l[se.getMonth()]}function Ee(se){return o[se.getMonth()]}function q(se){return r[+(se.getHours()>=12)]}function Y(se){return 1+~~(se.getMonth()/3)}function le(se){return a[se.getUTCDay()]}function ye(se){return s[se.getUTCDay()]}function Be(se){return l[se.getUTCMonth()]}function _e(se){return o[se.getUTCMonth()]}function we(se){return r[+(se.getUTCHours()>=12)]}function at(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Ne=D(se+="",T);return Ne.toString=function(){return se},Ne},parse:function(se){var Ne=Q(se+="",!1);return Ne.toString=function(){return se},Ne},utcFormat:function(se){var Ne=D(se+="",R);return Ne.toString=function(){return se},Ne},utcParse:function(se){var Ne=Q(se+="",!0);return Ne.toString=function(){return se},Ne}}}var a8={"-":"",_:" ",0:"0"},fr=/^\s*\d+/,VTe=/^%/,KTe=/[\\^$*+?|[\]().{}]/g;function zt(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function GTe(n){return n.replace(KTe,"\\$&")}function G0(n){return new RegExp("^(?:"+n.map(GTe).join("|")+")","i")}function z0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function zTe(n,e,t){var i=fr.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function qTe(n,e,t){var i=fr.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function $Te(n,e,t){var i=fr.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function jTe(n,e,t){var i=fr.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function WTe(n,e,t){var i=fr.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function o8(n,e,t){var i=fr.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function A8(n,e,t){var i=fr.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function YTe(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function XTe(n,e,t){var i=fr.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function JTe(n,e,t){var i=fr.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function l8(n,e,t){var i=fr.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function ZTe(n,e,t){var i=fr.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function u8(n,e,t){var i=fr.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function e1e(n,e,t){var i=fr.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function t1e(n,e,t){var i=fr.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function n1e(n,e,t){var i=fr.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function i1e(n,e,t){var i=fr.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function r1e(n,e,t){var i=VTe.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function s1e(n,e,t){var i=fr.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function a1e(n,e,t){var i=fr.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function c8(n,e){return zt(n.getDate(),e,2)}function o1e(n,e){return zt(n.getHours(),e,2)}function A1e(n,e){return zt(n.getHours()%12||12,e,2)}function l1e(n,e){return zt(1+uE.count(Ru(n),n),e,3)}function s7(n,e){return zt(n.getMilliseconds(),e,3)}function u1e(n,e){return s7(n,e)+"000"}function c1e(n,e){return zt(n.getMonth()+1,e,2)}function d1e(n,e){return zt(n.getMinutes(),e,2)}function f1e(n,e){return zt(n.getSeconds(),e,2)}function h1e(n){var e=n.getDay();return e===0?7:e}function p1e(n,e){return zt(SI.count(Ru(n)-1,n),e,2)}function a7(n){var e=n.getDay();return e>=4||e===0?hy(n):hy.ceil(n)}function g1e(n,e){return n=a7(n),zt(hy.count(Ru(n),n)+(Ru(n).getDay()===4),e,2)}function m1e(n){return n.getDay()}function v1e(n,e){return zt(WT.count(Ru(n)-1,n),e,2)}function y1e(n,e){return zt(n.getFullYear()%100,e,2)}function w1e(n,e){return n=a7(n),zt(n.getFullYear()%100,e,2)}function b1e(n,e){return zt(n.getFullYear()%1e4,e,4)}function C1e(n,e){var t=n.getDay();return n=t>=4||t===0?hy(n):hy.ceil(n),zt(n.getFullYear()%1e4,e,4)}function B1e(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function d8(n,e){return zt(n.getUTCDate(),e,2)}function E1e(n,e){return zt(n.getUTCHours(),e,2)}function S1e(n,e){return zt(n.getUTCHours()%12||12,e,2)}function x1e(n,e){return zt(1+EI.count(Du(n),n),e,3)}function o7(n,e){return zt(n.getUTCMilliseconds(),e,3)}function _1e(n,e){return o7(n,e)+"000"}function T1e(n,e){return zt(n.getUTCMonth()+1,e,2)}function I1e(n,e){return zt(n.getUTCMinutes(),e,2)}function F1e(n,e){return zt(n.getUTCSeconds(),e,2)}function M1e(n){var e=n.getUTCDay();return e===0?7:e}function U1e(n,e){return zt(xI.count(Du(n)-1,n),e,2)}function A7(n){var e=n.getUTCDay();return e>=4||e===0?py(n):py.ceil(n)}function P1e(n,e){return n=A7(n),zt(py.count(Du(n),n)+(Du(n).getUTCDay()===4),e,2)}function R1e(n){return n.getUTCDay()}function D1e(n,e){return zt(YT.count(Du(n)-1,n),e,2)}function N1e(n,e){return zt(n.getUTCFullYear()%100,e,2)}function L1e(n,e){return n=A7(n),zt(n.getUTCFullYear()%100,e,2)}function Q1e(n,e){return zt(n.getUTCFullYear()%1e4,e,4)}function k1e(n,e){var t=n.getUTCDay();return n=t>=4||t===0?py(n):py.ceil(n),zt(n.getUTCFullYear()%1e4,e,4)}function O1e(){return"+0000"}function f8(){return"%"}function h8(n){return+n}function p8(n){return Math.floor(+n/1e3)}var xg,l7,u7;H1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function H1e(n){return xg=HTe(n),l7=xg.format,xg.parse,u7=xg.utcFormat,xg.utcParse,xg}function V1e(n){return new Date(n)}function K1e(n){return n instanceof Date?+n:+new Date(+n)}function Wk(n,e,t,i,r,s,a,o,l,u){var d=Dk(),h=d.invert,g=d.domain,v=u(".%L"),b=u(":%S"),C=u("%I:%M"),E=u("%I %p"),x=u("%a %d"),I=u("%b %d"),T=u("%B"),R=u("%Y");function P(D){return(l(D)<D?v:o(D)<D?b:a(D)<D?C:s(D)<D?E:i(D)<D?r(D)<D?x:I:t(D)<D?T:R)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?g(Array.from(D,K1e)):g().map(V1e)},d.ticks=function(D){var Q=g();return n(Q[0],Q[Q.length-1],D??10)},d.tickFormat=function(D,Q){return Q==null?P:u(Q)},d.nice=function(D){var Q=g();return(!D||typeof D.range!="function")&&(D=e(Q[0],Q[Q.length-1],D??10)),D?g(YJ(Q,D)):d},d.copy=function(){return lE(d,Wk(n,e,t,i,r,s,a,o,l,u))},d}function G1e(){return wo.apply(Wk(kTe,OTe,Ru,$k,SI,uE,zk,Kk,Kf,l7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z1e(){return wo.apply(Wk(LTe,QTe,Du,jk,xI,EI,qk,Gk,Kf,u7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _I(){var n=0,e=1,t,i,r,s,a=us,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(r===0?.5:(h=(s(h)-t)*r,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,b;return arguments.length?([v,b]=g,a=h(v,b),u):[a(0),a(1)]}}return u.range=d(_y),u.rangeRound=d(Rk),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),i=h(e),r=t===i?0:1/(i-t),u}}function of(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function c7(){var n=af(_I()(us));return n.copy=function(){return of(n,c7())},qu.apply(n,arguments)}function d7(){var n=Qk(_I()).domain([1,10]);return n.copy=function(){return of(n,d7()).base(n.base())},qu.apply(n,arguments)}function f7(){var n=kk(_I());return n.copy=function(){return of(n,f7()).constant(n.constant())},qu.apply(n,arguments)}function Yk(){var n=Ok(_I());return n.copy=function(){return of(n,Yk()).exponent(n.exponent())},qu.apply(n,arguments)}function q1e(){return Yk.apply(null,arguments).exponent(.5)}function h7(){var n=[],e=us;function t(i){if(i!=null&&!isNaN(i=+i))return e((oE(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(jd),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>M_e(n,s/i))},t.copy=function(){return h7(e).domain(n)},qu.apply(t,arguments)}function TI(){var n=0,e=.5,t=1,i=1,r,s,a,o,l,u=us,d,h=!1,g;function v(C){return isNaN(C=+C)?g:(C=.5+((C=+d(C))-s)*(i*C<i*s?o:l),u(h?Math.max(0,Math.min(1,C)):C))}v.domain=function(C){return arguments.length?([n,e,t]=C,r=d(n=+n),s=d(e=+e),a=d(t=+t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v):[n,e,t]},v.clamp=function(C){return arguments.length?(h=!!C,v):h},v.interpolator=function(C){return arguments.length?(u=C,v):u};function b(C){return function(E){var x,I,T;return arguments.length?([x,I,T]=E,u=rTe(C,[x,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=b(_y),v.rangeRound=b(Rk),v.unknown=function(C){return arguments.length?(g=C,v):g},function(C){return d=C,r=C(n),s=C(e),a=C(t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v}}function p7(){var n=af(TI()(us));return n.copy=function(){return of(n,p7())},qu.apply(n,arguments)}function g7(){var n=Qk(TI()).domain([.1,1,10]);return n.copy=function(){return of(n,g7()).base(n.base())},qu.apply(n,arguments)}function m7(){var n=kk(TI());return n.copy=function(){return of(n,m7()).constant(n.constant())},qu.apply(n,arguments)}function Xk(){var n=Ok(TI());return n.copy=function(){return of(n,Xk()).exponent(n.exponent())},qu.apply(n,arguments)}function $1e(){return Xk.apply(null,arguments).exponent(.5)}const Iw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mk,scaleDiverging:p7,scaleDivergingLog:g7,scaleDivergingPow:Xk,scaleDivergingSqrt:$1e,scaleDivergingSymlog:m7,scaleIdentity:WJ,scaleImplicit:nQ,scaleLinear:jJ,scaleLog:XJ,scaleOrdinal:Fk,scalePoint:R_e,scalePow:Hk,scaleQuantile:e7,scaleQuantize:t7,scaleRadial:ZJ,scaleSequential:c7,scaleSequentialLog:d7,scaleSequentialPow:Yk,scaleSequentialQuantile:h7,scaleSequentialSqrt:q1e,scaleSequentialSymlog:f7,scaleSqrt:_Te,scaleSymlog:JJ,scaleThreshold:n7,scaleTime:G1e,scaleUtc:z1e,tickFormat:$J},Symbol.toStringTag,{value:"Module"}));var Af=n=>n.chartData,j1e=Ae([Af],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),Jk=(n,e,t,i)=>i?j1e(n):Af(n);function ef(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(mi(e)&&mi(t))return!0}return!1}function g8(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function v7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,i]=n,r,s;if(mi(t))r=t;else if(typeof t=="function")return;if(mi(i))s=i;else if(typeof i=="function")return;var a=[r,s];if(ef(a))return a}}function W1e(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,t);if(ef(i))return g8(i,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,a,o;if(r==="auto")e!=null&&(a=Math.min(...e));else if(rt(r))a=r;else if(typeof r=="function")try{e!=null&&(a=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&z5.test(r)){var l=z5.exec(r);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(rt(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&q5.test(s)){var d=q5.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(ef(g))return e==null?g:g8(g,e,t)}}}var Ty=1e9,Y1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eO,Kn=!0,vo="[DecimalError] ",Cp=vo+"Invalid argument: ",Zk=vo+"Exponent out of range: ",Iy=Math.floor,Nf=Math.pow,X1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wa,lr=1e7,Nn=7,y7=9007199254740991,XT=Iy(y7/Nn),Oe={};Oe.absoluteValue=Oe.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Oe.comparedTo=Oe.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Nn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Oe.dividedBy=Oe.div=function(n){return Bu(this,new this.constructor(n))};Oe.dividedToIntegerBy=Oe.idiv=function(n){var e=this,t=e.constructor;return xn(Bu(e,new t(n),0,1),t.precision)};Oe.equals=Oe.eq=function(n){return!this.cmp(n)};Oe.exponent=function(){return Di(this)};Oe.greaterThan=Oe.gt=function(n){return this.cmp(n)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(n){return this.cmp(n)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(n){return this.cmp(n)<0};Oe.lessThanOrEqualTo=Oe.lte=function(n){return this.cmp(n)<1};Oe.logarithm=Oe.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(wa))throw Error(vo+"NaN");if(t.s<1)throw Error(vo+(t.s?"NaN":"-Infinity"));return t.eq(wa)?new i(0):(Kn=!1,e=Bu(cb(t,s),cb(n,s),s),Kn=!0,xn(e,r))};Oe.minus=Oe.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?C7(e,n):w7(e,(n.s=-n.s,n))};Oe.modulo=Oe.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(vo+"NaN");return t.s?(Kn=!1,e=Bu(t,n,0,1).times(n),Kn=!0,t.minus(e)):xn(new i(t),r)};Oe.naturalExponential=Oe.exp=function(){return b7(this)};Oe.naturalLogarithm=Oe.ln=function(){return cb(this)};Oe.negated=Oe.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Oe.plus=Oe.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?w7(e,n):C7(e,(n.s=-n.s,n))};Oe.precision=Oe.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Cp+n);if(e=Di(r)+1,i=r.d.length-1,t=i*Nn+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};Oe.squareRoot=Oe.sqrt=function(){var n,e,t,i,r,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(vo+"NaN")}for(n=Di(o),Kn=!1,r=Math.sqrt(+o),r==0||r==1/0?(e=QA(o.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=Iy((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new l(e)):i=new l(r.toString()),t=l.precision,r=a=t+3;;)if(s=i,i=s.plus(Bu(o,s,a+2)).times(.5),QA(s.d).slice(0,a)===(e=QA(i.d)).slice(0,a)){if(e=e.slice(a-3,a+1),r==a&&e=="4999"){if(xn(s,t+1,0),s.times(s).eq(o)){i=s;break}}else if(e!="9999")break;a+=4}return Kn=!0,xn(i,t)};Oe.times=Oe.mul=function(n){var e,t,i,r,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,i=a;i--;)s.push(0);for(i=u;--i>=0;){for(e=0,r=l+i;r>i;)o=s[r]+v[i]*g[r-i-1]+e,s[r--]=o%lr|0,e=o/lr|0;s[r]=(s[r]+e)%lr|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,Kn?xn(n,h.precision):n};Oe.toDecimalPlaces=Oe.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(VA(n,0,Ty),e===void 0?e=i.rounding:VA(e,0,8),xn(t,n+Di(t)+1,e))};Oe.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=Ip(i,!0):(VA(n,0,Ty),e===void 0?e=r.rounding:VA(e,0,8),i=xn(new r(i),n+1,e),t=Ip(i,!0,n+1)),t};Oe.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?Ip(r):(VA(n,0,Ty),e===void 0?e=s.rounding:VA(e,0,8),i=xn(new s(r),n+Di(r)+1,e),t=Ip(i.abs(),!1,n+Di(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};Oe.toInteger=Oe.toint=function(){var n=this,e=n.constructor;return xn(new e(n),Di(n)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(n){var e,t,i,r,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(wa);if(o=new l(o),!o.s){if(n.s<1)throw Error(vo+"Infinity");return o}if(o.eq(wa))return o;if(i=l.precision,n.eq(wa))return xn(o,i);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=y7){for(r=new l(wa),e=Math.ceil(i/Nn+4),Kn=!1;t%2&&(r=r.times(o),v8(r.d,e)),t=Iy(t/2),t!==0;)o=o.times(o),v8(o.d,e);return Kn=!0,n.s<0?new l(wa).div(r):xn(r,i)}}else if(s<0)throw Error(vo+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Kn=!1,r=n.times(cb(o,i+u)),Kn=!0,r=b7(r),r.s=s,r};Oe.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=Di(r),i=Ip(r,t<=s.toExpNeg||t>=s.toExpPos)):(VA(n,1,Ty),e===void 0?e=s.rounding:VA(e,0,8),r=xn(new s(r),n,e),t=Di(r),i=Ip(r,n<=t||t<=s.toExpNeg,n)),i};Oe.toSignificantDigits=Oe.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(VA(n,1,Ty),e===void 0?e=i.rounding:VA(e,0,8)),xn(new i(t),n,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Di(n),t=n.constructor;return Ip(n,e<=t.toExpNeg||e>=t.toExpPos)};function w7(n,e){var t,i,r,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),Kn?xn(e,h):e;if(l=n.d,u=e.d,a=n.e,r=e.e,l=l.slice(),s=a-r,s){for(s<0?(i=l,s=-s,o=u.length):(i=u,r=a,o=l.length),a=Math.ceil(h/Nn),o=a>o?a+1:o+1,s>o&&(s=o,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,i=u,u=l,l=i),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/lr|0,l[s]%=lr;for(t&&(l.unshift(t),++r),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=r,Kn?xn(e,h):e}function VA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Cp+n)}function QA(n){var e,t,i,r=n.length-1,s="",a=n[0];if(r>0){for(s+=a,e=1;e<r;e++)i=n[e]+"",t=Nn-i.length,t&&(s+=_c(t)),s+=i;a=n[e],i=a+"",t=Nn-i.length,t&&(s+=_c(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Bu=(function(){function n(i,r){var s,a=0,o=i.length;for(i=i.slice();o--;)s=i[o]*r+a,i[o]=s%lr|0,a=s/lr|0;return a&&i.unshift(a),i}function e(i,r,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(i[o]!=r[o]){l=i[o]>r[o]?1:-1;break}return l}function t(i,r,s){for(var a=0;s--;)i[s]-=a,a=i[s]<r[s]?1:0,i[s]=a*lr+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,a){var o,l,u,d,h,g,v,b,C,E,x,I,T,R,P,D,Q,H,k=i.constructor,K=i.s==r.s?1:-1,V=i.d,z=r.d;if(!i.s)return new k(i);if(!r.s)throw Error(vo+"Division by zero");for(l=i.e-r.e,Q=z.length,P=V.length,v=new k(K),b=v.d=[],u=0;z[u]==(V[u]||0);)++u;if(z[u]>(V[u]||0)&&--l,s==null?I=s=k.precision:a?I=s+(Di(i)-Di(r))+1:I=s,I<0)return new k(0);if(I=I/Nn+2|0,u=0,Q==1)for(d=0,z=z[0],I++;(u<P||d)&&I--;u++)T=d*lr+(V[u]||0),b[u]=T/z|0,d=T%z|0;else{for(d=lr/(z[0]+1)|0,d>1&&(z=n(z,d),V=n(V,d),Q=z.length,P=V.length),R=Q,C=V.slice(0,Q),E=C.length;E<Q;)C[E++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=lr/2&&++D;do d=0,o=e(z,C,Q,E),o<0?(x=C[0],Q!=E&&(x=x*lr+(C[1]||0)),d=x/D|0,d>1?(d>=lr&&(d=lr-1),h=n(z,d),g=h.length,E=C.length,o=e(h,C,g,E),o==1&&(d--,t(h,Q<g?H:z,g))):(d==0&&(o=d=1),h=z.slice()),g=h.length,g<E&&h.unshift(0),t(C,h,E),o==-1&&(E=C.length,o=e(z,C,Q,E),o<1&&(d++,t(C,Q<E?H:z,E))),E=C.length):o===0&&(d++,C=[0]),b[u++]=d,o&&C[0]?C[E++]=V[R]||0:(C=[V[R]],E=1);while((R++<P||C[0]!==void 0)&&I--)}return b[0]||b.shift(),v.e=l,xn(v,a?s+Di(v)+1:s)}})();function b7(n,e){var t,i,r,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(Di(n)>16)throw Error(Zk+Di(n));if(!n.s)return new d(wa);for(Kn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(i=Math.log(Nf(2,u))/Math.LN10*2+5|0,o+=i,t=r=s=new d(wa),d.precision=o;;){if(r=xn(r.times(n),o),t=t.times(++l),a=s.plus(Bu(r,t,o)),QA(a.d).slice(0,o)===QA(s.d).slice(0,o)){for(;u--;)s=xn(s.times(s),o);return d.precision=h,e==null?(Kn=!0,xn(s,h)):s}s=a}}function Di(n){for(var e=n.e*Nn,t=n.d[0];t>=10;t/=10)e++;return e}function rR(n,e,t){if(e>n.LN10.sd())throw Kn=!0,t&&(n.precision=t),Error(vo+"LN10 precision limit exceeded");return xn(new n(n.LN10),e)}function _c(n){for(var e="";n--;)e+="0";return e}function cb(n,e){var t,i,r,s,a,o,l,u,d,h=1,g=10,v=n,b=v.d,C=v.constructor,E=C.precision;if(v.s<1)throw Error(vo+(v.s?"NaN":"-Infinity"));if(v.eq(wa))return new C(0);if(e==null?(Kn=!1,u=E):u=e,v.eq(10))return e==null&&(Kn=!0),rR(C,u);if(u+=g,C.precision=u,t=QA(b),i=t.charAt(0),s=Di(v),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)v=v.times(n),t=QA(v.d),i=t.charAt(0),h++;s=Di(v),i>1?(v=new C("0."+t),s++):v=new C(i+"."+t.slice(1))}else return l=rR(C,u+2,E).times(s+""),v=cb(new C(i+"."+t.slice(1)),u-g).plus(l),C.precision=E,e==null?(Kn=!0,xn(v,E)):v;for(o=a=v=Bu(v.minus(wa),v.plus(wa),u),d=xn(v.times(v),u),r=3;;){if(a=xn(a.times(d),u),l=o.plus(Bu(a,new C(r),u)),QA(l.d).slice(0,u)===QA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(rR(C,u+2,E).times(s+""))),o=Bu(o,new C(h),u),C.precision=E,e==null?(Kn=!0,xn(o,E)):o;o=l,r+=2}}function m8(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=Iy(t/Nn),n.d=[],i=(t+1)%Nn,t<0&&(i+=Nn),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=Nn;i<r;)n.d.push(+e.slice(i,i+=Nn));e=e.slice(i),i=Nn-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),Kn&&(n.e>XT||n.e<-XT))throw Error(Zk+t)}else n.s=0,n.e=0,n.d=[0];return n}function xn(n,e,t){var i,r,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(i=e-a,i<0)i+=Nn,r=e,u=h[d=0];else{if(d=Math.ceil((i+1)/Nn),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;i%=Nn,r=i-Nn+a}if(t!==void 0&&(s=Nf(10,a-r-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(i>0?r>0?u/Nf(10,a-r):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=Di(n),h.length=1,e=e-s-1,h[0]=Nf(10,(Nn-e%Nn)%Nn),n.e=Iy(-e/Nn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(i==0?(h.length=d,s=1,d--):(h.length=d+1,s=Nf(10,Nn-i),h[d]=r>0?(u/Nf(10,a-r)%Nf(10,r)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==lr&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=lr)break;h[d--]=0,s=1}for(i=h.length;h[--i]===0;)h.pop();if(Kn&&(n.e>XT||n.e<-XT))throw Error(Zk+Di(n));return n}function C7(n,e){var t,i,r,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),Kn?xn(e,v):e;if(l=n.d,h=e.d,i=e.e,u=n.e,l=l.slice(),a=u-i,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,i=u,o=l.length),r=Math.max(Math.ceil(v/Nn),o)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=l.length,o=h.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(l[r]!=h[r]){d=l[r]<h[r];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,r=h.length-o;r>0;--r)l[o++]=0;for(r=h.length;r>a;){if(l[--r]<h[r]){for(s=r;s&&l[--s]===0;)l[s]=lr-1;--l[s],l[r]+=lr}l[r]-=h[r]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--i;return l[0]?(e.d=l,e.e=i,Kn?xn(e,v):e):new g(0)}function Ip(n,e,t){var i,r=Di(n),s=QA(n.d),a=s.length;return e?(t&&(i=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+_c(i):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+_c(-r-1)+s,t&&(i=t-a)>0&&(s+=_c(i))):r>=a?(s+=_c(r+1-a),t&&(i=t-r-1)>0&&(s=s+"."+_c(i))):((i=r+1)<a&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-a)>0&&(r+1===a&&(s+="."),s+=_c(i))),n.s<0?"-"+s:s}function v8(n,e){if(n.length>e)return n.length=e,!0}function B7(n){var e,t,i;function r(s){var a=this;if(!(a instanceof r))return new r(s);if(a.constructor=r,s instanceof r){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Cp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return m8(a,s.toString())}else if(typeof s!="string")throw Error(Cp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,X1e.test(s))m8(a,s);else throw Error(Cp+s)}if(r.prototype=Oe,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=B7,r.config=r.set=J1e,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function J1e(n){if(!n||typeof n!="object")throw Error(vo+"Object expected");var e,t,i,r=["precision",1,Ty,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(Iy(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(Cp+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(Cp+t+": "+i);return this}var eO=B7(Y1e);wa=new eO(1);const sn=eO;var Z1e=n=>n,E7={},S7=n=>n===E7,y8=n=>function e(){return arguments.length===0||arguments.length===1&&S7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},x7=(n,e)=>n===1?e:y8(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var s=i.filter(a=>a!==E7).length;return s>=n?e(...i):x7(n-s,y8(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=i.map(d=>S7(d)?o.shift():d);return e(...u,...o)}))}),eIe=n=>x7(n.length,n),aQ=(n,e)=>{for(var t=[],i=n;i<e;++i)t[i-n]=i;return t},tIe=eIe((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),nIe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return Z1e;var r=t.reverse(),s=r[0],a=r.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},oQ=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function _7(n){var e;return n===0?e=1:e=Math.floor(new sn(n).abs().log(10).toNumber())+1,e}function T7(n,e,t){for(var i=new sn(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var I7=n=>{var[e,t]=n,[i,r]=[e,t];return e>t&&([i,r]=[t,e]),[i,r]},F7=(n,e,t)=>{if(n.lte(0))return new sn(0);var i=_7(n.toNumber()),r=new sn(10).pow(i),s=n.div(r),a=i!==1?.05:.1,o=new sn(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(r);return e?new sn(l.toNumber()):new sn(Math.ceil(l.toNumber()))},iIe=(n,e,t)=>{var i=new sn(1),r=new sn(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new sn(10).pow(_7(n)-1),r=new sn(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new sn(Math.floor(n)))}else n===0?r=new sn(Math.floor((e-1)/2)):t||(r=new sn(Math.floor(n)));var a=Math.floor((e-1)/2),o=nIe(tIe(l=>r.add(new sn(l-a).mul(i)).toNumber()),aQ);return o(0,e)},M7=function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new sn(0),tickMin:new sn(0),tickMax:new sn(0)};var a=F7(new sn(t).sub(e).div(i-1),r,s),o;e<=0&&t>=0?o=new sn(0):(o=new sn(e).add(t).div(2),o=o.sub(new sn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new sn(t).sub(o).div(a).toNumber()),d=l+u+1;return d>i?M7(e,t,i,r,s+1):(d<i&&(u=t>0?u+(i-d):u,l=t>0?l:l+(i-d)),{step:a,tickMin:o.sub(new sn(l).mul(a)),tickMax:o.add(new sn(u).mul(a))})},rIe=function(e){var[t,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=I7([t,i]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...aQ(0,r-1).map(()=>1/0)]:[...aQ(0,r-1).map(()=>-1/0),l];return t>i?oQ(u):u}if(o===l)return iIe(o,r,s);var{step:d,tickMin:h,tickMax:g}=M7(o,l,a,s,0),v=T7(h,g.add(new sn(.1).mul(d)),d);return t>i?oQ(v):v},sIe=function(e,t){var[i,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=I7([i,r]);if(a===-1/0||o===1/0)return[i,r];if(a===o)return[a];var l=Math.max(t,2),u=F7(new sn(o).sub(a).div(l-1),s,0),d=[...T7(new sn(a),new sn(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),i>r?oQ(d):d},U7=n=>n.rootProps.maxBarSize,aIe=n=>n.rootProps.barGap,P7=n=>n.rootProps.barCategoryGap,oIe=n=>n.rootProps.barSize,II=n=>n.rootProps.stackOffset,R7=n=>n.rootProps.reverseStackOrder,tO=n=>n.options.chartName,nO=n=>n.rootProps.syncId,D7=n=>n.rootProps.syncMethod,iO=n=>n.options.eventEmitter,Qs={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},pu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},va={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},FI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},AIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pu.angleAxisId,includeHidden:!1,name:void 0,reversed:pu.reversed,scale:pu.scale,tick:pu.tick,tickCount:void 0,ticks:void 0,type:pu.type,unit:void 0},lIe={allowDataOverflow:va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:va.type,unit:void 0},uIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:pu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pu.scale,tick:pu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},cIe={allowDataOverflow:va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:"category",unit:void 0},rO=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?uIe:AIe,sO=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?cIe:lIe,MI=n=>n.polarOptions,aO=Ae([Gu,zu,dr],s_e),N7=Ae([MI,aO],(n,e)=>{if(n!=null)return qo(n.innerRadius,e,0)}),L7=Ae([MI,aO],(n,e)=>{if(n!=null)return qo(n.outerRadius,e,e*.8)}),dIe=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},Q7=Ae([MI],dIe);Ae([rO,Q7],FI);var k7=Ae([aO,N7,L7],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});Ae([sO,k7],FI);var O7=Ae([an,MI,N7,L7,Gu,zu],(n,e,t,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||i==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:qo(a,r,r/2),cy:qo(o,s,s/2),innerRadius:t,outerRadius:i,startAngle:l,endAngle:u,clockWise:!1}}}),$i=(n,e)=>e,UI=(n,e,t)=>t;function oO(n){return n==null?void 0:n.id}function H7(n,e,t){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:i;if(!(u==null||u.length===0)){var d=oO(o);u.forEach((h,g)=>{var v=s==null||r?g:String(Wr(h,s,null)),b=Wr(h,o.dataKey,0),C;a.has(v)?C=a.get(v):C={},Object.assign(C,{[d]:b}),a.set(v,C)})}}),Array.from(a.values())}function PI(n){return n.stackId!=null&&n.dataKey!=null}var RI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function DI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function fIe(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var ji=n=>{var e=an(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Fy=n=>n.tooltip.settings.axisId;function w8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function JT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(t),!0).forEach(function(i){hIe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hIe(n,e,t){return(e=pIe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pIe(n){var e=gIe(n,"string");return typeof e=="symbol"?e:e+""}function gIe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var AQ=[0,"auto"],er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},V7=(n,e)=>n.cartesianAxis.xAxis[e],$u=(n,e)=>{var t=V7(n,e);return t??er},tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:AQ,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:rE},K7=(n,e)=>n.cartesianAxis.yAxis[e],ju=(n,e)=>{var t=K7(n,e);return t??tr},mIe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},AO=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??mIe},hs=(n,e,t)=>{switch(e){case"xAxis":return $u(n,t);case"yAxis":return ju(n,t);case"zAxis":return AO(n,t);case"angleAxis":return rO(n,t);case"radiusAxis":return sO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},vIe=(n,e,t)=>{switch(e){case"xAxis":return $u(n,t);case"yAxis":return ju(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},cE=(n,e,t)=>{switch(e){case"xAxis":return $u(n,t);case"yAxis":return ju(n,t);case"angleAxis":return rO(n,t);case"radiusAxis":return sO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},G7=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function z7(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var lO=n=>n.graphicalItems.cartesianItems,yIe=Ae([$i,UI],z7),q7=(n,e,t)=>n.filter(t).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),dE=Ae([lO,hs,yIe],q7,{memoizeOptions:{resultEqualityCheck:DI}}),$7=Ae([dE],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(PI)),j7=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),wIe=Ae([dE],j7),W7=n=>n.map(e=>e.data).filter(Boolean).flat(1),bIe=Ae([dE],W7,{memoizeOptions:{resultEqualityCheck:DI}}),Y7=(n,e)=>{var{chartData:t=[],dataStartIndex:i,dataEndIndex:r}=e;return n.length>0?n:t.slice(i,r+1)},uO=Ae([bIe,Jk],Y7),X7=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(i=>({value:Wr(i,e.dataKey)})):t.length>0?t.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:Wr(r,i)}))):n.map(i=>({value:i})),NI=Ae([uO,hs,dE],X7);function J7(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function G_(n){if(HA(n)||n instanceof Date){var e=Number(n);if(mi(e))return e}}function b8(n){if(Array.isArray(n)){var e=[G_(n[0]),G_(n[1])];return ef(e)?e:void 0}var t=G_(n);if(t!=null)return[t,t]}function Nu(n){return n.map(G_).filter(_Ce)}function CIe(n,e,t){return!t||typeof e!="number"||OA(e)?[]:t.length?Nu(t.flatMap(i=>{var r=Wr(n,i.dataKey),s,a;if(Array.isArray(r)?[s,a]=r:s=a=r,!(!mi(s)||!mi(a)))return[e-s,e+a]})):[]}var Wi=n=>{var e=ji(n),t=Fy(n);return cE(n,e,t)},fE=Ae([Wi],n=>n==null?void 0:n.dataKey),BIe=Ae([$7,Jk,Wi],H7),Z7=(n,e,t,i)=>{var r={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=i?[...l].reverse():l,d=u.map(oO);return[o,{stackedData:$Ee(n,d,t),graphicalItems:u}]}))},lQ=Ae([BIe,$7,II,R7],Z7),eZ=(n,e,t,i)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(i==null&&t!=="zAxis"){var a=JEe(n,r,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},EIe=Ae([hs],n=>n.allowDataOverflow),cO=n=>{var e;if(n==null||!("domain"in n))return AQ;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=Nu(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:AQ},tZ=Ae([hs],cO),nZ=Ae([tZ,EIe],v7),SIe=Ae([lQ,Af,$i,nZ],eZ,{memoizeOptions:{resultEqualityCheck:RI}}),dO=n=>n.errorBars,xIe=(n,e,t)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>J7(t,i)),ZT=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);if(r.length!==0){var s=r.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},iZ=(n,e,t,i,r)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=i[l.id])===null||u===void 0?void 0:u.filter(x=>J7(r,x)),g=Wr(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=CIe(o,g,h);if(v.length>=2){var b=Math.min(...v),C=Math.max(...v);(s==null||b<s)&&(s=b),(a==null||C>a)&&(a=C)}var E=b8(g);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),a=a==null?E[1]:Math.max(a,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=b8(Wr(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),mi(s)&&mi(a))return[s,a]},_Ie=Ae([uO,hs,wIe,dO,$i],iZ,{memoizeOptions:{resultEqualityCheck:RI}});function TIe(n){var{value:e}=n;if(HA(e)||e instanceof Date)return e}var IIe=(n,e,t)=>{var i=n.map(TIe).filter(r=>r!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&b9(i))?LJ(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},rZ=n=>n.referenceElements.dots,My=(n,e,t)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===t:i.yAxisId===t),FIe=Ae([rZ,$i,UI],My),sZ=n=>n.referenceElements.areas,MIe=Ae([sZ,$i,UI],My),aZ=n=>n.referenceElements.lines,UIe=Ae([aZ,$i,UI],My),oZ=(n,e)=>{var t=Nu(n.map(i=>e==="xAxis"?i.x:i.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},PIe=Ae(FIe,$i,oZ),AZ=(n,e)=>{var t=Nu(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},RIe=Ae([MIe,$i],AZ);function DIe(n){var e;if(n.x!=null)return Nu([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.x);return t==null||t.length===0?[]:Nu(t)}function NIe(n){var e;if(n.y!=null)return Nu([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.y);return t==null||t.length===0?[]:Nu(t)}var lZ=(n,e)=>{var t=n.flatMap(i=>e==="xAxis"?DIe(i):NIe(i));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},LIe=Ae([UIe,$i],lZ),QIe=Ae(PIe,LIe,RIe,(n,e,t)=>ZT(n,t,e)),uZ=(n,e,t,i,r,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?ZT(i,s,r):ZT(s,r);return W1e(e,u,n.allowDataOverflow)},kIe=Ae([hs,tZ,nZ,SIe,_Ie,QIe,an,$i],uZ,{memoizeOptions:{resultEqualityCheck:RI}}),OIe=[0,1],cZ=(n,e,t,i,r,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=Np(e,s);if(u&&o==null){var d;return LJ(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?IIe(i,n,u):r==="expand"?OIe:a}},fO=Ae([hs,an,uO,NI,II,$i,kIe],cZ),dZ=(n,e,t,i,r)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":a==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(ZB(s));return o in Iw?o:"point"}}},hE=Ae([hs,an,G7,tO,$i],dZ);function HIe(n){if(n!=null){if(n in Iw)return Iw[n]();var e="scale".concat(ZB(n));if(e in Iw)return Iw[e]()}}function hO(n,e,t,i){if(!(t==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(i);var r=HIe(e);if(r!=null){var s=r.domain(t).range(i);return VEe(s),s}}}var fZ=(n,e,t)=>{var i=cO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&ef(n))return rIe(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ef(n))return sIe(n,e.tickCount,e.allowDecimals)}},pO=Ae([fO,cE,hE],fZ),hZ=(n,e,t,i)=>{if(i!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&ef(e)&&Array.isArray(t)&&t.length>0){var r=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(r,s),Math.max(a,o)]}return e},VIe=Ae([hs,fO,pO,$i],hZ),KIe=Ae(NI,hs,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,i=Array.from(Nu(n.map(o=>o.value))).sort((o,l)=>o-l);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var s=0;s<i.length-1;s++){var a=i[s+1]-i[s];t=Math.min(t,a)}return t/r}}),pZ=Ae(KIe,an,P7,dr,(n,e,t,i)=>i,(n,e,t,i,r)=>{if(!mi(n))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var a=qo(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),GIe=(n,e)=>{var t=$u(n,e);return t==null||typeof t.padding!="string"?0:pZ(n,"xAxis",e,t.padding)},zIe=(n,e)=>{var t=ju(n,e);return t==null||typeof t.padding!="string"?0:pZ(n,"yAxis",e,t.padding)},qIe=Ae($u,GIe,(n,e)=>{var t,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:e,right:e}:{left:((t=r.left)!==null&&t!==void 0?t:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),$Ie=Ae(ju,zIe,(n,e)=>{var t,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:e,bottom:e}:{top:((t=r.top)!==null&&t!==void 0?t:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),jIe=Ae([dr,qIe,gI,pI,(n,e,t)=>t],(n,e,t,i,r)=>{var{padding:s}=i;return r?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),WIe=Ae([dr,an,$Ie,gI,pI,(n,e,t)=>t],(n,e,t,i,r,s)=>{var{padding:a}=r;return s?[i.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),pE=(n,e,t,i)=>{var r;switch(e){case"xAxis":return jIe(n,t,i);case"yAxis":return WIe(n,t,i);case"zAxis":return(r=AO(n,t))===null||r===void 0?void 0:r.range;case"angleAxis":return Q7(n);case"radiusAxis":return k7(n,t);default:return}},gZ=Ae([hs,pE],FI),Uy=Ae([hs,hE,VIe,gZ],hO);Ae([dE,dO,$i],xIe);function mZ(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var LI=(n,e)=>e,QI=(n,e,t)=>t,YIe=Ae(fI,LI,QI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(mZ)),XIe=Ae(hI,LI,QI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(mZ)),vZ=(n,e)=>({width:n.width,height:e.height}),JIe=(n,e)=>{var t=typeof e.width=="number"?e.width:rE;return{width:t,height:n.height}},yZ=Ae(dr,$u,vZ),ZIe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},eFe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},tFe=Ae(zu,dr,YIe,LI,QI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=vZ(e,o);a==null&&(a=ZIe(e,i,n));var u=i==="top"&&!r||i==="bottom"&&r;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),nFe=Ae(Gu,dr,XIe,LI,QI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=JIe(e,o);a==null&&(a=eFe(e,i,n));var u=i==="left"&&!r||i==="right"&&r;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),iFe=(n,e)=>{var t=$u(n,e);if(t!=null)return tFe(n,t.orientation,t.mirror)},rFe=Ae([dr,$u,iFe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),sFe=(n,e)=>{var t=ju(n,e);if(t!=null)return nFe(n,t.orientation,t.mirror)},aFe=Ae([dr,ju,sFe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),wZ=Ae(dr,ju,(n,e)=>{var t=typeof e.width=="number"?e.width:rE;return{width:t,height:n.height}}),C8=(n,e,t)=>{switch(e){case"xAxis":return yZ(n,t).width;case"yAxis":return wZ(n,t).height;default:return}},bZ=(n,e,t,i)=>{if(t!=null){var{allowDuplicatedCategory:r,type:s,dataKey:a}=t,o=Np(n,i),l=e.map(u=>u.value);if(a&&o&&s==="category"&&r&&b9(l))return l}},gO=Ae([an,NI,hs,$i],bZ),CZ=(n,e,t,i)=>{if(!(t==null||t.dataKey==null)){var{type:r,scale:s}=t,a=Np(n,i);if(a&&(r==="number"||s!=="auto"))return e.map(o=>o.value)}},mO=Ae([an,NI,cE,$i],CZ);Ae([an,vIe,hE,Uy,gO,mO,pE,pO,$i],(n,e,t,i,r,s,a,o,l)=>{if(e!=null){var u=Np(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:r,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:i}}});var oFe=(n,e,t,i,r,s,a,o,l)=>{if(!(e==null||i==null)){var u=Np(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,b=d==="category"&&i.bandwidth?i.bandwidth()/v:0;b=l==="angleAxis"&&s!=null&&s.length>=2?ba(s[0]-s[1])*2*b:b;var C=h||r;if(C){var E=C.map((x,I)=>{var T=a?a.indexOf(x):x;return{index:I,coordinate:i(T)+b,value:x,offset:b}});return E.filter(x=>mi(x.coordinate))}return u&&o?o.map((x,I)=>({coordinate:i(x)+b,value:x,index:I,offset:b})).filter(x=>mi(x.coordinate)):i.ticks?i.ticks(g).map(x=>({coordinate:i(x)+b,value:x,offset:b})):i.domain().map((x,I)=>({coordinate:i(x)+b,value:a?a[x]:x,index:I,offset:b}))}},BZ=Ae([an,cE,hE,Uy,pO,pE,gO,mO,$i],oFe),AFe=(n,e,t,i,r,s,a)=>{if(!(e==null||t==null||i==null||i[0]===i[1])){var o=Np(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(i==null?void 0:i.length)>=2?ba(i[0]-i[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:r?r[d]:d,index:h,offset:u}))}},gy=Ae([an,cE,Uy,pE,gO,mO,$i],AFe),my=Ae(hs,Uy,(n,e)=>{if(!(n==null||e==null))return JT(JT({},n),{},{scale:e})}),lFe=Ae([hs,hE,fO,gZ],hO);Ae((n,e,t)=>AO(n,t),lFe,(n,e)=>{if(!(n==null||e==null))return JT(JT({},n),{},{scale:e})});var uFe=Ae([an,fI,hI],(n,e,t)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),EZ=n=>n.options.defaultTooltipEventType,SZ=n=>n.options.validateTooltipEventTypes;function xZ(n,e,t){if(n==null)return e;var i=n?"axis":"item";return t==null?e:t.includes(i)?i:e}function vO(n,e){var t=EZ(n),i=SZ(n);return xZ(e,t,i)}function cFe(n){return nt(e=>vO(e,n))}var _Z=(n,e)=>{var t,i=Number(e);if(!(OA(i)||e==null))return i>=0?n==null||(t=n[i])===null||t===void 0?void 0:t.value:void 0},dFe=n=>n.tooltip.settings,Mc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},fFe={itemInteraction:{click:Mc,hover:Mc},axisInteraction:{click:Mc,hover:Mc},keyboardInteraction:Mc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},TZ=ks({name:"tooltip",initialState:fFe,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:Vn()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:i}=e.payload,r=zo(n).tooltipItemPayloads.indexOf(t);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:Vn()},removeTooltipEntrySettings:{reducer(n,e){var t=zo(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:Vn()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:hFe,replaceTooltipEntrySettings:pFe,removeTooltipEntrySettings:gFe,setTooltipSettingsState:mFe,setActiveMouseOverItemIndex:IZ,mouseLeaveItem:vFe,mouseLeaveChart:FZ,setActiveClickItemIndex:yFe,setMouseOverAxisIndex:MZ,setMouseClickAxisIndex:wFe,setSyncInteraction:uQ,setKeyboardInteraction:cQ}=TZ.actions,bFe=TZ.reducer;function B8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Rx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(t),!0).forEach(function(i){CFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CFe(n,e,t){return(e=BFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BFe(n){var e=EFe(n,"string");return typeof e=="symbol"?e:e+""}function EFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SFe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function xFe(n){return n.index!=null}var UZ=(n,e,t,i)=>{if(e==null)return Mc;var r=SFe(n,e,t);if(r==null)return Mc;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(xFe(r)){if(s)return Rx(Rx({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return Rx(Rx({},Mc),{},{coordinate:r.coordinate})};function _Fe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function TFe(n,e){var t=_Fe(n),i=e[0],r=e[1];if(t===void 0)return!1;var s=Math.min(i,r),a=Math.max(i,r);return t>=s&&t<=a}function IFe(n,e,t){if(t==null||e==null)return!0;var i=Wr(n,e);return i==null||!ef(t)?!0:TFe(i,t)}var yO=(n,e,t,i)=>{var r=n==null?void 0:n.index;if(r==null)return null;var s=Number(r);if(!mi(s))return r;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||IFe(u,t,i)?String(l):null},PZ=(n,e,t,i,r,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=r==null?void 0:r[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+n)/2,y:d.coordinate}}}},RZ=(n,e,t,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;return t==="hover"?r=n.itemInteraction.hover.dataKey:r=n.itemInteraction.click.dataKey,r==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===r})},gE=n=>n.options.tooltipPayloadSearcher,Py=n=>n.tooltip;function E8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function S8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(t),!0).forEach(function(i){FFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FFe(n,e,t){return(e=MFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MFe(n){var e=UFe(n,"string");return typeof e=="symbol"?e:e+""}function UFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function PFe(n,e){return n??e}var DZ=(n,e,t,i,r,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var b,{dataDefinedOnItem:C,settings:E}=v,x=PFe(C,o),I=Array.isArray(x)?fJ(x,u,d):x,T=(b=E==null?void 0:E.dataKey)!==null&&b!==void 0?b:i,R=E==null?void 0:E.nameKey,P;if(i&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?P=xCe(I,i,r):P=s(I,e,l,R),Array.isArray(P))P.forEach(Q=>{var H=S8(S8({},E),{},{name:Q.name,unit:Q.unit,color:void 0,fill:void 0});g.push($5({tooltipEntrySettings:H,dataKey:Q.dataKey,payload:Q.payload,value:Wr(Q.payload,Q.dataKey),name:Q.name}))});else{var D;g.push($5({tooltipEntrySettings:E,dataKey:T,payload:P,value:Wr(P,T),name:(D=Wr(P,R))!==null&&D!==void 0?D:E==null?void 0:E.name}))}return g},h)}},wO=Ae([Wi,an,G7,tO,ji],dZ),RFe=Ae([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),DFe=Ae([ji,Fy],z7),mE=Ae([RFe,Wi,DFe],q7,{memoizeOptions:{resultEqualityCheck:DI}}),NFe=Ae([mE],n=>n.filter(PI)),LFe=Ae([mE],W7,{memoizeOptions:{resultEqualityCheck:DI}}),Ry=Ae([LFe,Af],Y7),QFe=Ae([NFe,Af,Wi],H7),bO=Ae([Ry,Wi,mE],X7),NZ=Ae([Wi],cO),kFe=Ae([Wi],n=>n.allowDataOverflow),LZ=Ae([NZ,kFe],v7),OFe=Ae([mE],n=>n.filter(PI)),HFe=Ae([QFe,OFe,II,R7],Z7),VFe=Ae([HFe,Af,ji,LZ],eZ),KFe=Ae([mE],j7),GFe=Ae([Ry,Wi,KFe,dO,ji],iZ,{memoizeOptions:{resultEqualityCheck:RI}}),zFe=Ae([rZ,ji,Fy],My),qFe=Ae([zFe,ji],oZ),$Fe=Ae([sZ,ji,Fy],My),jFe=Ae([$Fe,ji],AZ),WFe=Ae([aZ,ji,Fy],My),YFe=Ae([WFe,ji],lZ),XFe=Ae([qFe,YFe,jFe],ZT),JFe=Ae([Wi,NZ,LZ,VFe,GFe,XFe,an,ji],uZ),vE=Ae([Wi,an,Ry,bO,II,ji,JFe],cZ),ZFe=Ae([vE,Wi,wO],fZ),eMe=Ae([Wi,vE,ZFe,ji],hZ),QZ=n=>{var e=ji(n),t=Fy(n),i=!1;return pE(n,e,t,i)},kZ=Ae([Wi,QZ],FI),OZ=Ae([Wi,wO,eMe,kZ],hO),tMe=Ae([an,bO,Wi,ji],bZ),nMe=Ae([an,bO,Wi,ji],CZ),iMe=(n,e,t,i,r,s,a,o)=>{if(e){var{type:l}=e,u=Np(n,o);if(i){var d=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,h=l==="category"&&i.bandwidth?i.bandwidth()/d:0;return h=o==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?ba(r[0]-r[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:i(g)+h,value:g,index:v,offset:h})):i.domain().map((g,v)=>({coordinate:i(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},Wu=Ae([an,Wi,wO,OZ,QZ,tMe,nMe,ji],iMe),CO=Ae([EZ,SZ,dFe],(n,e,t)=>xZ(t.shared,n,e)),HZ=n=>n.tooltip.settings.trigger,BO=n=>n.tooltip.settings.defaultIndex,yE=Ae([Py,CO,HZ,BO],UZ),vy=Ae([yE,Ry,fE,vE],yO),VZ=Ae([Wu,vy],_Z),KZ=Ae([yE],n=>{if(n)return n.dataKey});Ae([yE],n=>{if(n)return n.graphicalItemId});var GZ=Ae([Py,CO,HZ,BO],RZ),rMe=Ae([Gu,zu,an,dr,Wu,BO,GZ,gE],PZ),sMe=Ae([yE,rMe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),aMe=Ae([yE],n=>n.active),oMe=Ae([GZ,vy,Af,fE,VZ,gE,CO],DZ);Ae([oMe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function x8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(t),!0).forEach(function(i){AMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function AMe(n,e,t){return(e=lMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lMe(n){var e=uMe(n,"string");return typeof e=="symbol"?e:e+""}function uMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cMe=()=>nt(Wi),dMe=()=>{var n=cMe(),e=nt(Wu),t=nt(OZ);return PT(!n||!t?void 0:_8(_8({},n),{},{scale:t}),e)};function T8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _g(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(t),!0).forEach(function(i){fMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function fMe(n,e,t){return(e=hMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hMe(n){var e=pMe(n,"string");return typeof e=="symbol"?e:e+""}function pMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var gMe=(n,e,t,i)=>{var r=e.find(s=>s&&s.index===t);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},mMe=(n,e,t,i)=>{var r=e.find(u=>u&&u.index===t);if(r){if(n==="centric"){var s=r.coordinate,{radius:a}=i;return _g(_g(_g({},i),Pr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var o=r.coordinate,{angle:l}=i;return _g(_g(_g({},i),Pr(i.cx,i.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function vMe(n,e){var{chartX:t,chartY:i}=n;return t>=e.left&&t<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var zZ=(n,e,t,i,r)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if(ba(d-u)!==ba(h-d)){var v=[];if(ba(h-d)===ba(r[1]-r[0])){g=h;var b=d+r[1]-r[0];v[0]=Math.min(b,(b+u)/2),v[1]=Math.max(b,(b+u)/2)}else{g=u;var C=h+r[1]-r[0];v[0]=Math.min(d,(C+d)/2),v[1]=Math.max(d,(C+d)/2)}var E=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>E[0]&&n<=E[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var x=Math.min(u,h),I=Math.max(u,h);if(n>(x+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},yMe=()=>nt(tO),EO=(n,e)=>e,qZ=(n,e,t)=>t,SO=(n,e,t,i)=>i,wMe=Ae(Wu,n=>rI(n,e=>e.coordinate)),xO=Ae([Py,EO,qZ,SO],UZ),_O=Ae([xO,Ry,fE,vE],yO),bMe=(n,e,t)=>{if(e!=null){var i=Py(n);return e==="axis"?t==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:t==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},$Z=Ae([Py,EO,qZ,SO],RZ),e1=Ae([Gu,zu,an,dr,Wu,SO,$Z,gE],PZ),CMe=Ae([xO,e1],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),jZ=Ae([Wu,_O],_Z),BMe=Ae([$Z,_O,Af,fE,jZ,gE,EO],DZ),EMe=Ae([xO,_O],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),SMe=(n,e,t,i,r,s,a)=>{if(!(!n||!t||!i||!r)&&vMe(n,a)){var o=ZEe(n,e),l=zZ(o,s,r,t,i),u=gMe(e,r,l,n);return{activeIndex:String(l),activeCoordinate:u}}},xMe=(n,e,t,i,r,s,a)=>{if(!(!n||!i||!r||!s||!t)){var o=u_e(n,t);if(o){var l=eSe(o,e),u=zZ(l,a,s,i,r),d=mMe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},_Me=(n,e,t,i,r,s,a,o)=>{if(!(!n||!e||!i||!r||!s))return e==="horizontal"||e==="vertical"?SMe(n,e,i,r,s,a,o):xMe(n,e,t,i,r,s,a)},TMe=Ae(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var i=n[e];if(i!=null)return t?i.panoramaElementId:i.elementId}}),IMe=Ae(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(Qs)),t=Array.from(new Set(e));return t.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:fIe}});function I8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function F8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(t),!0).forEach(function(i){FMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FMe(n,e,t){return(e=MMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MMe(n){var e=UMe(n,"string");return typeof e=="symbol"?e:e+""}function UMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var PMe={},RMe={zIndexMap:Object.values(Qs).reduce((n,e)=>F8(F8({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),PMe)},DMe=new Set(Object.values(Qs));function NMe(n){return DMe.has(n)}var WZ=ks({name:"zIndex",initialState:RMe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Vn()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!NMe(t)&&delete n.zIndexMap[t])},prepare:Vn()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:i,isPanorama:r}=e.payload;n.zIndexMap[t]?r?n.zIndexMap[t].panoramaElementId=i:n.zIndexMap[t].elementId=i:n.zIndexMap[t]={consumers:0,elementId:r?void 0:i,panoramaElementId:r?i:void 0}},prepare:Vn()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:Vn()}}}),{registerZIndexPortal:LMe,unregisterZIndexPortal:QMe,registerZIndexPortalId:kMe,unregisterZIndexPortalId:OMe}=WZ.actions,HMe=WZ.reducer;function lf(n){var{zIndex:e,children:t}=n,i=NSe(),r=i&&e!==void 0&&e!==0,s=_a(),a=vi();M.useLayoutEffect(()=>r?(a(LMe({zIndex:e})),()=>{a(QMe({zIndex:e}))}):eE,[a,e,r]);var o=nt(u=>TMe(u,e,s));if(!r)return t;if(!o)return null;var l=document.getElementById(o);return l?e6.createPortal(t,l):null}function dQ(){return dQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dQ.apply(null,arguments)}function M8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Dx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(t),!0).forEach(function(i){VMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VMe(n,e,t){return(e=KMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KMe(n){var e=GMe(n,"string");return typeof e=="symbol"?e:e+""}function GMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zMe(n){var{cursor:e,cursorComp:t,cursorProps:i}=n;return M.isValidElement(e)?M.cloneElement(e,i):M.createElement(t,i)}function qMe(n){var e,{coordinate:t,payload:i,index:r,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=i,v=r;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var b,C,E;if(d==="ScatterChart")b=h,C=Exe,E=Qs.cursorLine;else if(d==="BarChart")b=Sxe(o,h,s,a),C=PJ,E=Qs.cursorRectangle;else if(o==="radial"&&E9(h)){var{cx:x,cy:I,radius:T,startAngle:R,endAngle:P}=RJ(h);b={cx:x,cy:I,startAngle:R,endAngle:P,innerRadius:T,outerRadius:T},C=NJ,E=Qs.cursorLine}else b={points:h_e(o,h,s)},C=TJ,E=Qs.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,Q=Dx(Dx(Dx(Dx({stroke:"#ccc",pointerEvents:"none"},s),b),sk(l)),{},{payload:g,payloadIndex:v,className:Ln("recharts-tooltip-cursor",D)});return M.createElement(lf,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:E},M.createElement(zMe,{cursor:l,cursorComp:C,cursorProps:Q}))}function $Me(n){var e=dMe(),t=PSe(),i=vI(),r=yMe();return e==null||t==null||i==null||r==null?null:M.createElement(qMe,dQ({},n,{offset:t,layout:i,tooltipAxisBandSize:e,chartName:r}))}var YZ=M.createContext(null),jMe=()=>M.useContext(YZ),sR={exports:{}},U8;function WMe(){return U8||(U8=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new r(d,h||l,g),b=t?t+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],v]:l._events[b].push(v):(l._events[b]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,b=new Array(v);g<v;g++)b[g]=h[g].fn;return b},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,b){var C=t?t+u:u;if(!this._events[C])return!1;var E=this._events[C],x=arguments.length,I,T;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,g),!0;case 5:return E.fn.call(E.context,d,h,g,v),!0;case 6:return E.fn.call(E.context,d,h,g,v,b),!0}for(T=1,I=new Array(x-1);T<x;T++)I[T-1]=arguments[T];E.fn.apply(E.context,I)}else{var R=E.length,P;for(T=0;T<R;T++)switch(E[T].once&&this.removeListener(u,E[T].fn,void 0,!0),x){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,d);break;case 3:E[T].fn.call(E[T].context,d,h);break;case 4:E[T].fn.call(E[T].context,d,h,g);break;default:if(!I)for(P=1,I=new Array(x-1);P<x;P++)I[P-1]=arguments[P];E[T].fn.apply(E[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===d&&(!g||b.once)&&(!h||b.context===h)&&a(this,v);else{for(var C=0,E=[],x=b.length;C<x;C++)(b[C].fn!==d||g&&!b[C].once||h&&b[C].context!==h)&&E.push(b[C]);E.length?this._events[v]=E.length===1?E[0]:E:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(sR)),sR.exports}var YMe=WMe();const XMe=zA(YMe);var db=new XMe,fQ="recharts.syncEvent.tooltip",P8="recharts.syncEvent.brush";function JMe(n,e){if(e){var t=Number.parseInt(e,10);if(!OA(t))return n==null?void 0:n[t]}}var ZMe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},XZ=ks({name:"options",initialState:ZMe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),eUe=XZ.reducer,{createEventEmitter:tUe}=XZ.actions;function nUe(n){return n.tooltip.syncInteraction}var iUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},JZ=ks({name:"chartData",initialState:iUe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:i}=e.payload;t!=null&&(n.dataStartIndex=t),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:R8,setDataStartEndIndexes:rUe,setComputedData:PQe}=JZ.actions,sUe=JZ.reducer,aUe=["x","y"];function D8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(t),!0).forEach(function(i){oUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function oUe(n,e,t){return(e=AUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AUe(n){var e=lUe(n,"string");return typeof e=="symbol"?e:e+""}function lUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uUe(n,e){if(n==null)return{};var t,i,r=cUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function cUe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function dUe(){var n=nt(nO),e=nt(iO),t=vi(),i=nt(D7),r=nt(Wu),s=vI(),a=mI(),o=nt(l=>l.rootProps.className);M.useEffect(()=>{if(n==null)return eE;var l=(u,d,h)=>{if(e!==h&&n===u){if(i==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:b,y:C}=v,E=uUe(v,aUe),{x,y:I,width:T,height:R}=d.payload.sourceViewBox,P=Tg(Tg({},E),{},{x:a.x+(T?(b-x)/T:0)*a.width,y:a.y+(R?(C-I)/R:0)*a.height});t(Tg(Tg({},d),{},{payload:Tg(Tg({},d.payload),{},{coordinate:P})}))}else t(d);return}if(r!=null){var D;if(typeof i=="function"){var Q={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=i(r,Q);D=r[H]}else i==="value"&&(D=r.find(G=>String(G.value)===d.payload.label));var{coordinate:k}=d.payload;if(D==null||d.payload.active===!1||k==null||a==null){t(uQ({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:V}=k,z=Math.min(K,a.x+a.width),Z=Math.min(V,a.y+a.height),ne={x:s==="horizontal"?D.coordinate:z,y:s==="horizontal"?Z:D.coordinate},de=uQ({active:d.payload.active,coordinate:ne,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(de)}}};return db.on(fQ,l),()=>{db.off(fQ,l)}},[o,t,e,n,i,r,s,a])}function fUe(){var n=nt(nO),e=nt(iO),t=vi();M.useEffect(()=>{if(n==null)return eE;var i=(r,s,a)=>{e!==a&&n===r&&t(rUe(s))};return db.on(P8,i),()=>{db.off(P8,i)}},[t,e,n])}function hUe(){var n=vi();M.useEffect(()=>{n(tUe())},[n]),dUe(),fUe()}function pUe(n,e,t,i,r,s){var a=nt(v=>bMe(v,n,e)),o=nt(iO),l=nt(nO),u=nt(D7),d=nt(nUe),h=d==null?void 0:d.active,g=mI();M.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=uQ({active:s,coordinate:t,dataKey:a,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});db.emit(fQ,l,v,o)}},[h,t,a,r,i,o,l,u,s,g])}function N8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function L8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(t),!0).forEach(function(i){gUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gUe(n,e,t){return(e=mUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mUe(n){var e=vUe(n,"string");return typeof e=="symbol"?e:e+""}function vUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yUe(n){return n.dataKey}function wUe(n,e){return M.isValidElement(n)?M.cloneElement(n,e):typeof n=="function"?M.createElement(n,e):M.createElement(ixe,e)}var Q8=[],bUe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function CUe(n){var e,t,i=yo(n,bUe),{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:b,useTranslate3d:C,wrapperStyle:E,cursor:x,shared:I,trigger:T,defaultIndex:R,portal:P,axisId:D}=i,Q=vi(),H=typeof R=="number"?String(R):R;M.useEffect(()=>{Q(mFe({shared:I,trigger:T,axisId:D,active:r,defaultIndex:H}))},[Q,I,T,D,r,H]);var k=mI(),K=_J(),V=cFe(I),{activeIndex:z,isActive:Z}=(e=nt(we=>EMe(we,V,T,H)))!==null&&e!==void 0?e:{},ne=nt(we=>BMe(we,V,T,H)),de=nt(we=>jZ(we,V,T,H)),G=nt(we=>CMe(we,V,T,H)),$=ne,re=jMe(),ae=(t=r??Z)!==null&&t!==void 0?t:!1,[Ee,q]=LBe([$,ae]),Y=V==="axis"?de:void 0;pUe(V,T,G,Y,z,ae);var le=P??re;if(le==null||k==null||V==null)return null;var ye=$??Q8;ae||(ye=Q8),u&&ye.length&&(ye=lBe(ye.filter(we=>we.value!=null&&(we.hide!==!0||i.includeHidden)),g,yUe));var Be=ye.length>0,_e=M.createElement(uxe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:ae,coordinate:G,hasPayload:Be,offset:h,position:v,reverseDirection:b,useTranslate3d:C,viewBox:k,wrapperStyle:E,lastBoundingBox:Ee,innerRef:q,hasPortalFromProps:!!P},wUe(l,L8(L8({},i),{},{payload:ye,label:Y,active:ae,activeIndex:z,coordinate:G,accessibilityLayer:K})));return M.createElement(M.Fragment,null,e6.createPortal(_e,le),ae&&M.createElement($Me,{cursor:x,tooltipEventType:V,coordinate:G,payload:ye,index:z}))}var TO=n=>null;TO.displayName="Cell";function BUe(n,e,t){return(e=EUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EUe(n){var e=SUe(n,"string");return typeof e=="symbol"?e:e+""}function SUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class xUe{constructor(e){BUe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function k8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _Ue(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(t),!0).forEach(function(i){TUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TUe(n,e,t){return(e=IUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IUe(n){var e=FUe(n,"string");return typeof e=="symbol"?e:e+""}function FUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var MUe={cacheSize:2e3,enableCache:!0},ZZ=_Ue({},MUe),O8=new xUe(ZZ.cacheSize),UUe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},H8="recharts_measurement_span";function PUe(n,e){var t=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(o)}var V8=(n,e)=>{try{var t=document.getElementById(H8);t||(t=document.createElement("span"),t.setAttribute("id",H8),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,UUe,e),t.textContent="".concat(n);var i=t.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Ow=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||aE.isSsr)return{width:0,height:0};if(!ZZ.enableCache)return V8(e,t);var i=PUe(e,t),r=O8.get(i);if(r)return r;var s=V8(e,t);return O8.set(i,s),s},K8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RUe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DUe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},NUe=Object.keys(eee),jg="NaN";function LUe(n,e){return n*eee[e]}class Rs{static parse(e){var t,[,i,r]=(t=DUe.exec(e))!==null&&t!==void 0?t:[];return new Rs(parseFloat(i),r??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,OA(e)&&(this.unit=""),t!==""&&!RUe.test(t)&&(this.num=NaN,this.unit=""),NUe.includes(t)&&(this.num=LUe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Rs(NaN,""):new Rs(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Rs(NaN,""):new Rs(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Rs(NaN,""):new Rs(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Rs(NaN,""):new Rs(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return OA(this.num)}}function tee(n){if(n.includes(jg))return jg;for(var e=n;e.includes("*")||e.includes("/");){var t,[,i,r,s]=(t=K8.exec(e))!==null&&t!==void 0?t:[],a=Rs.parse(i??""),o=Rs.parse(s??""),l=r==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return jg;e=e.replace(K8,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=G8.exec(e))!==null&&u!==void 0?u:[],v=Rs.parse(d??""),b=Rs.parse(g??""),C=h==="+"?v.add(b):v.subtract(b);if(C.isNaN())return jg;e=e.replace(G8,C.toString())}return e}var z8=/\(([^()]*)\)/;function QUe(n){for(var e=n,t;(t=z8.exec(e))!=null;){var[,i]=t;e=e.replace(z8,tee(i))}return e}function kUe(n){var e=n.replace(/\s+/g,"");return e=QUe(e),e=tee(e),e}function OUe(n){try{return kUe(n)}catch{return jg}}function aR(n){var e=OUe(n.slice(5,-1));return e===jg?"":e}var HUe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],VUe=["dx","dy","angle","className","breakAll"];function hQ(){return hQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hQ.apply(null,arguments)}function q8(n,e){if(n==null)return{};var t,i,r=KUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function KUe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var nee=/[ \f\n\r\t\v\u2028\u2029]+/,iee=n=>{var{children:e,breakAll:t,style:i}=n;try{var r=[];cr(e)||(t?r=e.toString().split(""):r=e.toString().split(nee));var s=r.map(o=>({word:o,width:Ow(o,i).width})),a=t?0:Ow("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function GUe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var ree=(n,e,t,i)=>n.reduce((r,s)=>{var{word:a,width:o}=s,l=r[r.length-1];if(l&&o!=null&&(e==null||i||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};r.push(u)}return r},[]),see=n=>n.reduce((e,t)=>e.width>t.width?e:t),zUe="",$8=(n,e,t,i,r,s,a,o)=>{var l=n.slice(0,e),u=iee({breakAll:t,style:i,children:l+zUe});if(!u)return[!1,[]];var d=ree(u.wordsWithComputedWidth,s,a,o),h=d.length>r||see(d).width>Number(s);return[h,d]},qUe=(n,e,t,i,r)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=rt(s),d=String(a),h=ree(e,i,t,r);if(!u||r)return h;var g=h.length>s||see(h).width>Number(i);if(!g)return h;for(var v=0,b=d.length-1,C=0,E;v<=b&&C<=d.length-1;){var x=Math.floor((v+b)/2),I=x-1,[T,R]=$8(d,I,l,o,s,i,t,r),[P]=$8(d,x,l,o,s,i,t,r);if(!T&&!P&&(v=x+1),T&&P&&(b=x-1),!T&&P){E=R;break}C++}return E||h},j8=n=>{var e=cr(n)?[]:n.toString().split(nee);return[{words:e,width:void 0}]},$Ue=n=>{var{width:e,scaleToFit:t,children:i,style:r,breakAll:s,maxLines:a}=n;if((e||t)&&!aE.isSsr){var o,l,u=iee({breakAll:s,children:i,style:r});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return j8(i);return qUe({breakAll:s,children:i,maxLines:a,style:r},o,l,e,!!t)}return j8(i)},aee="#808080",jUe={angle:0,breakAll:!1,capHeight:"0.71em",fill:aee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},IO=M.forwardRef((n,e)=>{var t=yo(n,jUe),{x:i,y:r,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=q8(t,HUe),g=M.useMemo(()=>$Ue({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:b,angle:C,className:E,breakAll:x}=h,I=q8(h,VUe);if(!HA(i)||!HA(r)||g.length===0)return null;var T=Number(i)+(rt(v)?v:0),R=Number(r)+(rt(b)?b:0);if(!mi(T)||!mi(R))return null;var P;switch(d){case"start":P=aR("calc(".concat(a,")"));break;case"middle":P=aR("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:P=aR("calc(".concat(g.length-1," * -").concat(s,")"));break}var D=[];if(l){var Q=g[0].width,{width:H}=h;D.push("scale(".concat(rt(H)&&rt(Q)?H/Q:1,")"))}return C&&D.push("rotate(".concat(C,", ").concat(T,", ").concat(R,")")),D.length&&(I.transform=D.join(" ")),M.createElement("text",hQ({},go(I),{ref:e,x:T,y:R,className:Ln("recharts-text",E),textAnchor:u,fill:o.includes("url")?aee:o}),g.map((k,K)=>{var V=k.words.join(x?"":" ");return M.createElement("tspan",{x:T,dy:K===0?P:s,key:"".concat(V,"-").concat(K)},V)}))});IO.displayName="Text";var WUe=["labelRef"];function YUe(n,e){if(n==null)return{};var t,i,r=XUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function XUe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function W8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(t),!0).forEach(function(i){JUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function JUe(n,e,t){return(e=ZUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZUe(n){var e=ePe(n,"string");return typeof e=="symbol"?e:e+""}function ePe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gu(){return gu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gu.apply(null,arguments)}var oee=M.createContext(null),tPe=n=>{var{x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a,children:o}=n,l=M.useMemo(()=>({x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a}),[e,t,i,r,s,a]);return M.createElement(oee.Provider,{value:l},o)},Aee=()=>{var n=M.useContext(oee),e=mI();return n||yJ(e)},nPe=M.createContext(null),iPe=()=>{var n=M.useContext(nPe),e=nt(O7);return n||e},rPe=n=>{var{value:e,formatter:t}=n,i=cr(n.children)?e:n.children;return typeof t=="function"?t(i):i},FO=n=>n!=null&&typeof n=="function",sPe=(n,e)=>{var t=ba(e-n),i=Math.min(Math.abs(e-n),360);return t*i},aPe=(n,e,t,i,r)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=r,b=(u+d)/2,C=sPe(h,g),E=C>=0?1:-1,x,I;switch(e){case"insideStart":x=h+E*s,I=v;break;case"insideEnd":x=g-E*s,I=!v;break;case"end":x=g+E*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=C<=0?I:!I;var T=Pr(o,l,b,x),R=Pr(o,l,b,x+(I?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),D=cr(n.id)?Zw("recharts-radial-line-"):n.id;return M.createElement("text",gu({},i,{dominantBaseline:"central",className:Ln("recharts-radial-bar-label",a)}),M.createElement("defs",null,M.createElement("path",{id:D,d:P})),M.createElement("textPath",{xlinkHref:"#".concat(D)},t))},oPe=(n,e,t)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=Pr(i,r,a+e,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:b}=Pr(i,r,g,u);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},pQ=n=>"cx"in n&&rt(n.cx),APe=(n,e)=>{var{parentViewBox:t,offset:i,position:r}=n,s;t!=null&&!pQ(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,b=(l+u)/2,C=h+l/2,E=d>=0?1:-1,x=E*i,I=E>0?"end":"start",T=E>0?"start":"end",R=l>=0?1:-1,P=R*i,D=R>0?"end":"start",Q=R>0?"start":"end";if(r==="top"){var H={x:h+l/2,y:o-x,textAnchor:"middle",verticalAnchor:I};return fi(fi({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(r==="bottom"){var k={x:g+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:T};return fi(fi({},k),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(r==="left"){var K={x:v-P,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return fi(fi({},K),s?{width:Math.max(K.x-s.x,0),height:d}:{})}if(r==="right"){var V={x:v+b+P,y:o+d/2,textAnchor:Q,verticalAnchor:"middle"};return fi(fi({},V),s?{width:Math.max(s.x+s.width-V.x,0),height:d}:{})}var z=s?{width:b,height:d}:{};return r==="insideLeft"?fi({x:v+P,y:o+d/2,textAnchor:Q,verticalAnchor:"middle"},z):r==="insideRight"?fi({x:v+b-P,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},z):r==="insideTop"?fi({x:h+l/2,y:o+x,textAnchor:"middle",verticalAnchor:T},z):r==="insideBottom"?fi({x:g+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:I},z):r==="insideTopLeft"?fi({x:h+P,y:o+x,textAnchor:Q,verticalAnchor:T},z):r==="insideTopRight"?fi({x:h+l-P,y:o+x,textAnchor:D,verticalAnchor:T},z):r==="insideBottomLeft"?fi({x:g+P,y:o+d-x,textAnchor:Q,verticalAnchor:I},z):r==="insideBottomRight"?fi({x:g+u-P,y:o+d-x,textAnchor:D,verticalAnchor:I},z):r&&typeof r=="object"&&(rt(r.x)||Mu(r.x))&&(rt(r.y)||Mu(r.y))?fi({x:a+qo(r.x,b),y:o+qo(r.y,d),textAnchor:"end",verticalAnchor:"end"},z):fi({x:C,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},z)},lPe={angle:0,offset:5,zIndex:Qs.label,position:"middle",textBreakAll:!1};function Tc(n){var e=yo(n,lPe),{viewBox:t,position:i,value:r,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=iPe(),h=Aee(),g=i==="center"?h:d??h,v,b,C;if(t==null?v=g:pQ(t)?v=t:v=yJ(t),!v||cr(r)&&cr(s)&&!M.isValidElement(a)&&typeof a!="function")return null;var E=fi(fi({},e),{},{viewBox:v});if(M.isValidElement(a)){var{labelRef:x}=E,I=YUe(E,WUe);return M.cloneElement(a,I)}if(typeof a=="function"){if(b=M.createElement(a,E),M.isValidElement(b))return b}else b=rPe(e);var T=go(e);if(pQ(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return aPe(e,i,b,T,v);C=oPe(v,e.offset,e.position)}else C=APe(e,v);return M.createElement(lf,{zIndex:e.zIndex},M.createElement(IO,gu({ref:u,className:Ln("recharts-label",o)},T,C,{textAnchor:GUe(T.textAnchor)?T.textAnchor:C.textAnchor,breakAll:l}),b))}Tc.displayName="Label";var uPe=(n,e,t)=>{if(!n)return null;var i={viewBox:e,labelRef:t};return n===!0?M.createElement(Tc,gu({key:"label-implicit"},i)):HA(n)?M.createElement(Tc,gu({key:"label-implicit",value:n},i)):M.isValidElement(n)?n.type===Tc?M.cloneElement(n,fi({key:"label-implicit"},i)):M.createElement(Tc,gu({key:"label-implicit",content:n},i)):FO(n)?M.createElement(Tc,gu({key:"label-implicit",content:n},i)):n&&typeof n=="object"?M.createElement(Tc,gu({},n,{key:"label-implicit"},i)):null};function cPe(n){var{label:e,labelRef:t}=n,i=Aee();return uPe(e,i,t)||null}var oR={},AR={},Y8;function dPe(){return Y8||(Y8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(AR)),AR}var lR={},X8;function fPe(){return X8||(X8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(lR)),lR}var J8;function hPe(){return J8||(J8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dPe(),t=fPe(),i=fk();function r(s){if(i.isArrayLike(s))return e.last(t.toArray(s))}n.last=r})(oR)),oR}var uR,Z8;function pPe(){return Z8||(Z8=1,uR=hPe().last),uR}var gPe=pPe();const mPe=zA(gPe);var vPe=["valueAccessor"],yPe=["dataKey","clockWise","id","textBreakAll","zIndex"];function t1(){return t1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},t1.apply(null,arguments)}function e$(n,e){if(n==null)return{};var t,i,r=wPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function wPe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var bPe=n=>Array.isArray(n.value)?mPe(n.value):n.value,lee=M.createContext(void 0),CPe=lee.Provider,uee=M.createContext(void 0);uee.Provider;function BPe(){return M.useContext(lee)}function EPe(){return M.useContext(uee)}function z_(n){var{valueAccessor:e=bPe}=n,t=e$(n,vPe),{dataKey:i,clockWise:r,id:s,textBreakAll:a,zIndex:o}=t,l=e$(t,yPe),u=BPe(),d=EPe(),h=u||d;return!h||!h.length?null:M.createElement(lf,{zIndex:o??Qs.label},M.createElement(Fu,{className:"recharts-label-list"},h.map((g,v)=>{var b,C=cr(i)?e(g,v):Wr(g&&g.payload,i),E=cr(s)?{}:{id:"".concat(s,"-").concat(v)};return M.createElement(Tc,t1({key:"label-".concat(v)},go(g),l,E,{fill:(b=t.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:C,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}z_.displayName="LabelList";function SPe(n){var{label:e}=n;return e?e===!0?M.createElement(z_,{key:"labelList-implicit"}):M.isValidElement(e)||FO(e)?M.createElement(z_,{key:"labelList-implicit",content:e}):typeof e=="object"?M.createElement(z_,t1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var xPe={radiusAxis:{},angleAxis:{}},cee=ks({name:"polarAxis",initialState:xPe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:RQe,removeRadiusAxis:DQe,addAngleAxis:NQe,removeAngleAxis:LQe}=cee.actions,_Pe=cee.reducer,cR={exports:{}},un={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t$;function TPe(){if(t$)return un;t$=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(C){if(typeof C=="object"&&C!==null){var E=C.$$typeof;switch(E){case n:switch(C=C.type,C){case t:case r:case i:case l:case u:case g:return C;default:switch(C=C&&C.$$typeof,C){case a:case o:case h:case d:return C;case s:return C;default:return E}}case e:return E}}}return un.ContextConsumer=s,un.ContextProvider=a,un.Element=n,un.ForwardRef=o,un.Fragment=t,un.Lazy=h,un.Memo=d,un.Portal=e,un.Profiler=r,un.StrictMode=i,un.Suspense=l,un.SuspenseList=u,un.isContextConsumer=function(C){return b(C)===s},un.isContextProvider=function(C){return b(C)===a},un.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},un.isForwardRef=function(C){return b(C)===o},un.isFragment=function(C){return b(C)===t},un.isLazy=function(C){return b(C)===h},un.isMemo=function(C){return b(C)===d},un.isPortal=function(C){return b(C)===e},un.isProfiler=function(C){return b(C)===r},un.isStrictMode=function(C){return b(C)===i},un.isSuspense=function(C){return b(C)===l},un.isSuspenseList=function(C){return b(C)===u},un.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===r||C===i||C===l||C===u||typeof C=="object"&&C!==null&&(C.$$typeof===h||C.$$typeof===d||C.$$typeof===a||C.$$typeof===s||C.$$typeof===o||C.$$typeof===v||C.getModuleId!==void 0)},un.typeOf=b,un}var n$;function IPe(){return n$||(n$=1,cR.exports=TPe()),cR.exports}var FPe=IPe(),i$=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",r$=null,dR=null,dee=n=>{if(n===r$&&Array.isArray(dR))return dR;var e=[];return M.Children.forEach(n,t=>{cr(t)||(FPe.isFragment(t)?e=e.concat(dee(t.props.children)):e.push(t))}),dR=e,r$=n,e};function MPe(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(r=>i$(r)):i=[i$(e)],dee(n).forEach(r=>{var s=ly(r,"type.displayName")||ly(r,"type.name");s&&i.indexOf(s)!==-1&&t.push(r)}),t}var fR={},s$;function UPe(){return s$||(s$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${s}]`}let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i}n.isPlainObject=e})(fR)),fR}var hR,a$;function PPe(){return a$||(a$=1,hR=UPe().isPlainObject),hR}var RPe=PPe();const DPe=zA(RPe);function o$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function A$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(t),!0).forEach(function(i){NPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NPe(n,e,t){return(e=LPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LPe(n){var e=QPe(n,"string");return typeof e=="symbol"?e:e+""}function QPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function n1(){return n1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},n1.apply(null,arguments)}var l$=(n,e,t,i,r)=>{var s=t-i,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+r),a+="L ".concat(n+t-s/2-i,",").concat(e+r),a+="L ".concat(n,",").concat(e," Z"),a},kPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OPe=n=>{var e=yo(n,kPe),{x:t,y:i,upperWidth:r,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=M.useRef(null),[v,b]=M.useState(-1),C=M.useRef(r),E=M.useRef(s),x=M.useRef(a),I=M.useRef(t),T=M.useRef(i),R=Tk(n,"trapezoid-");if(M.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ne=g.current.getTotalLength();ne&&b(ne)}catch{}},[]),t!==+t||i!==+i||r!==+r||s!==+s||a!==+a||r===0&&s===0||a===0)return null;var P=Ln("recharts-trapezoid",o);if(!h)return M.createElement("g",null,M.createElement("path",n1({},go(e),{className:P,d:l$(t,i,r,s,a)})));var D=C.current,Q=E.current,H=x.current,k=I.current,K=T.current,V="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),Z=IJ(["strokeDasharray"],u,l);return M.createElement(_k,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},ne=>{var de=Ir(D,r,ne),G=Ir(Q,s,ne),$=Ir(H,a,ne),re=Ir(k,t,ne),ae=Ir(K,i,ne);g.current&&(C.current=de,E.current=G,x.current=$,I.current=re,T.current=ae);var Ee=ne>0?{transition:Z,strokeDasharray:z}:{strokeDasharray:V};return M.createElement("path",n1({},go(e),{className:P,d:l$(re,ae,de,G,$),ref:g,style:A$(A$({},Ee),e.style)}))})},HPe=["option","shapeType","propTransformer","activeClassName"];function VPe(n,e){if(n==null)return{};var t,i,r=KPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function KPe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function u$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function i1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(t),!0).forEach(function(i){GPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function GPe(n,e,t){return(e=zPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zPe(n){var e=qPe(n,"string");return typeof e=="symbol"?e:e+""}function qPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $Pe(n,e){return i1(i1({},e),n)}function jPe(n,e){return n==="symbols"}function c$(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return M.createElement(PJ,t);case"trapezoid":return M.createElement(OPe,t);case"sector":return M.createElement(NJ,t);case"symbols":if(jPe(e))return M.createElement(B9,t);break;case"curve":return M.createElement(TJ,t);default:return null}}function WPe(n){return M.isValidElement(n)?n.props:n}function YPe(n){var{option:e,shapeType:t,propTransformer:i=$Pe,activeClassName:r="recharts-active-shape"}=n,s=VPe(n,HPe),a;if(M.isValidElement(e))a=M.cloneElement(e,i1(i1({},s),WPe(e)));else if(typeof e=="function")a=e(s,s.index);else if(DPe(e)&&typeof e!="boolean"){var o=i(e,s);a=M.createElement(c$,{shapeType:t,elementProps:o})}else{var l=s;a=M.createElement(c$,{shapeType:t,elementProps:l})}return s.isActive?M.createElement(Fu,{className:r},a):a}var fee=(n,e,t)=>{var i=vi();return(r,s)=>a=>{n==null||n(r,s,a),i(IZ({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}},hee=n=>{var e=vi();return(t,i)=>r=>{n==null||n(t,i,r),e(vFe())}},pee=(n,e,t)=>{var i=vi();return(r,s)=>a=>{n==null||n(r,s,a),i(yFe({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}};function XPe(n){var{tooltipEntrySettings:e}=n,t=vi(),i=_a(),r=M.useRef(null);return M.useLayoutEffect(()=>{i||(r.current===null?t(hFe(e)):r.current!==e&&t(pFe({prev:r.current,next:e})),r.current=e)},[e,t,i]),M.useLayoutEffect(()=>()=>{r.current&&(t(gFe(r.current)),r.current=null)},[t]),null}function JPe(n){var{legendPayload:e}=n,t=vi(),i=_a(),r=M.useRef(null);return M.useLayoutEffect(()=>{i||(r.current===null?t(WSe(e)):r.current!==e&&t(YSe({prev:r.current,next:e})),r.current=e)},[t,i,e]),M.useLayoutEffect(()=>()=>{r.current&&(t(XSe(r.current)),r.current=null)},[t]),null}var pR,ZPe=()=>{var[n]=M.useState(()=>Zw("uid-"));return n},eRe=(pR=tie.useId)!==null&&pR!==void 0?pR:ZPe;function gee(n,e){var t=eRe();return e||(n?"".concat(n,"-").concat(t):t)}var tRe=M.createContext(void 0),nRe=n=>{var{id:e,type:t,children:i}=n,r=gee("recharts-".concat(t),e);return M.createElement(tRe.Provider,{value:r},i(r))},iRe={cartesianItems:[],polarItems:[]},mee=ks({name:"graphicalItems",initialState:iRe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:Vn()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:i}=e.payload,r=zo(n).cartesianItems.indexOf(t);r>-1&&(n.cartesianItems[r]=i)},prepare:Vn()},removeCartesianGraphicalItem:{reducer(n,e){var t=zo(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:Vn()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:Vn()},removePolarGraphicalItem:{reducer(n,e){var t=zo(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:Vn()}}}),{addCartesianGraphicalItem:rRe,replaceCartesianGraphicalItem:sRe,removeCartesianGraphicalItem:aRe,addPolarGraphicalItem:QQe,removePolarGraphicalItem:kQe}=mee.actions,oRe=mee.reducer,ARe=n=>{var e=vi(),t=M.useRef(null);return M.useLayoutEffect(()=>{t.current===null?e(rRe(n)):t.current!==n&&e(sRe({prev:t.current,next:n})),t.current=n},[e,n]),M.useLayoutEffect(()=>()=>{t.current&&(e(aRe(t.current)),t.current=null)},[e]),null},lRe=M.memo(ARe);function d$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function f$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(t),!0).forEach(function(i){uRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uRe(n,e,t){return(e=cRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cRe(n){var e=dRe(n,"string");return typeof e=="symbol"?e:e+""}function dRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fRe={xAxis:{},yAxis:{},zAxis:{}},vee=ks({name:"cartesianAxis",initialState:fRe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:Vn()},replaceXAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.xAxis[t.id],n.xAxis[i.id]=i)},prepare:Vn()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:Vn()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:Vn()},replaceYAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.yAxis[t.id],n.yAxis[i.id]=i)},prepare:Vn()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:Vn()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:Vn()},replaceZAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.zAxis[t.id],n.zAxis[i.id]=i)},prepare:Vn()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:Vn()},updateYAxisWidth(n,e){var{id:t,width:i}=e.payload,r=n.yAxis[t];if(r){var s=r.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==r.width&&Math.abs(i-s[0])<=1)return;var a=[...s,i].slice(-3);n.yAxis[t]=f$(f$({},n.yAxis[t]),{},{width:i,widthHistory:a})}}}}),{addXAxis:hRe,replaceXAxis:pRe,removeXAxis:gRe,addYAxis:mRe,replaceYAxis:vRe,removeYAxis:yRe,addZAxis:OQe,replaceZAxis:HQe,removeZAxis:VQe,updateYAxisWidth:wRe}=vee.actions,bRe=vee.reducer,CRe=Ae([dr],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),BRe=Ae([CRe,Gu,zu],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),yee=()=>nt(BRe),ERe="Invariant failed";function SRe(n,e){throw new Error(ERe)}var xRe=["x","y"];function gQ(){return gQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gQ.apply(null,arguments)}function h$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function q0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(t),!0).forEach(function(i){_Re(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _Re(n,e,t){return(e=TRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TRe(n){var e=IRe(n,"string");return typeof e=="symbol"?e:e+""}function IRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FRe(n,e){if(n==null)return{};var t,i,r=MRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function MRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function URe(n,e){var{x:t,y:i}=n,r=FRe(n,xRe),s="".concat(t),a=parseInt(s,10),o="".concat(i),l=parseInt(o,10),u="".concat(e.height||r.height),d=parseInt(u,10),h="".concat(e.width||r.width),g=parseInt(h,10);return q0(q0(q0(q0(q0({},e),r),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function r1(n){return M.createElement(YPe,gQ({shapeType:"rectangle",propTransformer:URe,activeClassName:"recharts-active-bar"},n))}var PRe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(rt(e))return e;var s=rt(i)||cr(i);return s?e(i,r):(s||SRe(),t)}},RRe={},wee=ks({name:"errorBars",initialState:RRe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]||(n[t]=[]),n[t].push(i)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:i,next:r}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]&&(n[t]=n[t].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:KQe,replaceErrorBar:GQe,removeErrorBar:zQe}=wee.actions,DRe=wee.reducer,NRe=["children"];function LRe(n,e){if(n==null)return{};var t,i,r=QRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function QRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var kRe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ORe=M.createContext(kRe);function HRe(n){var{children:e}=n,t=LRe(n,NRe);return M.createElement(ORe.Provider,{value:t},e)}function bee(n,e){var t,i,r=nt(u=>$u(u,n)),s=nt(u=>ju(u,e)),a=(t=r==null?void 0:r.allowDataOverflow)!==null&&t!==void 0?t:er.allowDataOverflow,o=(i=s==null?void 0:s.allowDataOverflow)!==null&&i!==void 0?i:tr.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function VRe(n){var{xAxisId:e,yAxisId:t,clipPathId:i}=n,r=yee(),{needClipX:s,needClipY:a,needClip:o}=bee(e,t);if(!o||!r)return null;var{x:l,y:u,width:d,height:h}=r;return M.createElement("clipPath",{id:"clipPath-".concat(i)},M.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function KRe(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&mi(n.zIndex)?n.zIndex:e}var gR={exports:{}},mR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p$;function GRe(){if(p$)return mR;p$=1;var n=by();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return mR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=r(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function E(P){if(!x){if(x=!0,I=P,P=h(P),g!==void 0&&b.hasValue){var D=b.value;if(g(D,P))return T=D}return T=P}if(D=T,t(I,P))return D;var Q=h(P);return g!==void 0&&g(D,Q)?(I=P,D):(I=P,T=Q)}var x=!1,I,T,R=d===void 0?null:d;return[function(){return E(u())},R===null?void 0:function(){return E(R())}]},[u,d,h,g]);var C=i(l,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=C},[C]),o(C),C},mR}var g$;function zRe(){return g$||(g$=1,gR.exports=GRe()),gR.exports}zRe();function qRe(n){n()}function $Re(){let n=null,e=null;return{clear(){n=null,e=null},notify(){qRe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var m$={notify(){},get:()=>[]};function jRe(n,e){let t,i=m$,r=0,s=!1;function a(C){d();const E=i.subscribe(C);let x=!1;return()=>{x||(x=!0,E(),h())}}function o(){i.notify()}function l(){b.onStateChange&&b.onStateChange()}function u(){return s}function d(){r++,t||(t=n.subscribe(l),i=$Re())}function h(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=m$)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>i};return b}var WRe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YRe=WRe(),XRe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",JRe=XRe(),ZRe=()=>YRe||JRe?M.useLayoutEffect:M.useEffect,eDe=ZRe();function v$(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function tDe(n,e){if(v$(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!v$(n[t[r]],e[t[r]]))return!1;return!0}var vR=Symbol.for("react-redux-context"),yR=typeof globalThis<"u"?globalThis:{};function nDe(){if(!M.createContext)return{};const n=yR[vR]??(yR[vR]=new Map);let e=n.get(M.createContext);return e||(e=M.createContext(null),n.set(M.createContext,e)),e}var iDe=nDe();function rDe(n){const{children:e,context:t,serverState:i,store:r}=n,s=M.useMemo(()=>{const l=jRe(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),a=M.useMemo(()=>r.getState(),[r]);eDe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||iDe;return M.createElement(o.Provider,{value:s},e)}var sDe=rDe,aDe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function oDe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function MO(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var i of t)if(aDe.has(i)){if(n[i]==null&&e[i]==null)continue;if(!tDe(n[i],e[i]))return!1}else if(!oDe(n[i],e[i]))return!1;return!0}var ADe=["onMouseEnter","onMouseLeave","onClick"],lDe=["value","background","tooltipPosition"],uDe=["id"],cDe=["onMouseEnter","onClick","onMouseLeave"];function Lu(){return Lu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lu.apply(null,arguments)}function y$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ls(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(t),!0).forEach(function(i){dDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dDe(n,e,t){return(e=fDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fDe(n){var e=hDe(n,"string");return typeof e=="symbol"?e:e+""}function hDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function s1(n,e){if(n==null)return{};var t,i,r=pDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function pDe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var gDe=n=>{var{dataKey:e,name:t,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:e,type:r,color:i,value:hJ(t,e),payload:n}]},mDe=M.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:i,fill:r,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:hJ(s,e),hide:a,type:l,color:r,unit:o}};return M.createElement(XPe,{tooltipEntrySettings:u})});function vDe(n){var e=nt(vy),{data:t,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=s1(s,ADe),d=fee(a,i),h=hee(o),g=pee(l,i);if(!r||t==null)return null;var v=sk(r);return M.createElement(lf,{zIndex:KRe(r,Qs.barBackground)},t.map((b,C)=>{var{value:E,background:x,tooltipPosition:I}=b,T=s1(b,lDe);if(!x)return null;var R=d(b,C),P=h(b,C),D=g(b,C),Q=ls(ls(ls(ls(ls({option:r,isActive:String(C)===e},T),{},{fill:"#eee"},x),v),dk(u,b,C)),{},{onMouseEnter:R,onMouseLeave:P,onClick:D,dataKey:i,index:C,className:"recharts-bar-background-rectangle"});return M.createElement(r1,Lu({key:"background-bar-".concat(C)},Q))}))}function yDe(n){var{showLabels:e,children:t,rects:i}=n,r=i==null?void 0:i.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return ls(ls({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return M.createElement(CPe,{value:e?r:void 0},t)}function wDe(n){var{shape:e,activeBar:t,baseProps:i,entry:r,index:s,dataKey:a}=n,o=nt(vy),l=nt(KZ),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?M.createElement(lf,{zIndex:Qs.activeBar},M.createElement(r1,Lu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))):M.createElement(r1,Lu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))}function bDe(n){var{shape:e,baseProps:t,entry:i,index:r,dataKey:s}=n;return M.createElement(r1,Lu({},t,{name:String(t.name)},i,{isActive:!1,option:e,index:r,dataKey:s}))}function CDe(n){var e,{data:t,props:i}=n,r=(e=Jd(i))!==null&&e!==void 0?e:{},{id:s}=r,a=s1(r,uDe),{shape:o,dataKey:l,activeBar:u}=i,{onMouseEnter:d,onClick:h,onMouseLeave:g}=i,v=s1(i,cDe),b=fee(d,l),C=hee(g),E=pee(h,l);return t?M.createElement(M.Fragment,null,t.map((x,I)=>M.createElement(Fu,Lu({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(I),className:"recharts-bar-rectangle"},dk(v,x,I),{onMouseEnter:b(x,I),onMouseLeave:C(x,I),onClick:E(x,I)}),u?M.createElement(wDe,{shape:o,activeBar:u,baseProps:a,entry:x,index:I,dataKey:l}):M.createElement(bDe,{shape:o,baseProps:a,entry:x,index:I,dataKey:l})))):null}function BDe(n){var{props:e,previousRectanglesRef:t}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=Tk(e,"recharts-bar-"),[v,b]=M.useState(!1),C=!v,E=M.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),x=M.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return M.createElement(yDe,{showLabels:C,rects:i},M.createElement(_k,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:E,onAnimationStart:x,key:g},I=>{var T=I===1?i:i==null?void 0:i.map((R,P)=>{var D=h&&h[P];if(D)return ls(ls({},R),{},{x:Ir(D.x,R.x,I),y:Ir(D.y,R.y,I),width:Ir(D.width,R.width,I),height:Ir(D.height,R.height,I)});if(r==="horizontal"){var Q=Ir(0,R.height,I),H=Ir(R.stackedBarStart,R.y,I);return ls(ls({},R),{},{y:H,height:Q})}var k=Ir(0,R.width,I),K=Ir(R.stackedBarStart,R.x,I);return ls(ls({},R),{},{width:k,x:K})});return I>0&&(t.current=T??null),T==null?null:M.createElement(Fu,null,M.createElement(CDe,{props:e,data:T}))}),M.createElement(SPe,{label:e.label}),e.children)}function EDe(n){var e=M.useRef(null);return M.createElement(BDe,{previousRectanglesRef:e,props:n})}var Cee=0,SDe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Wr(n,e)}};class xDe extends M.PureComponent{render(){var{hide:e,data:t,dataKey:i,className:r,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=Ln("recharts-bar",r),h=u;return M.createElement(Fu,{className:d,id:u},o&&M.createElement("defs",null,M.createElement(VRe,{clipPathId:h,xAxisId:s,yAxisId:a})),M.createElement(Fu,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},M.createElement(vDe,{data:t,dataKey:i,background:l,allOtherBarProps:this.props}),M.createElement(EDe,this.props)))}}var _De={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Cee,xAxisId:0,yAxisId:0,zIndex:Qs.bar};function TDe(n){var{xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=bee(e,t),g=vI(),v=_a(),b=MPe(n.children,TO),C=nt(I=>nNe(I,e,t,v,n.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var E,x=C==null?void 0:C[0];return x==null||x.height==null||x.width==null?E=0:E=g==="vertical"?x.height/2:x.width/2,M.createElement(HRe,{xAxisId:e,yAxisId:t,data:C,dataPointFormatter:SDe,errorBarOffset:E},M.createElement(xDe,Lu({},n,{layout:g,needClip:h,data:C,xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function IDe(n){var{layout:e,barSettings:{dataKey:t,minPointSize:i},pos:r,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:b,dataStartIndex:C}=n,E=e==="horizontal"?o:a,x=d?E.scale.domain():null,I=WEe({numericAxis:E}),T=E.scale(I);return h.map((R,P)=>{var D,Q,H,k,K,V;d?D=KEe(d[P+C],x):(D=Wr(R,t),Array.isArray(D)||(D=[I,D]));var z=PRe(i,Cee)(D[1],P);if(e==="horizontal"){var Z,[ne,de]=[o.scale(D[0]),o.scale(D[1])];Q=G5({axis:a,ticks:l,bandSize:s,offset:r.offset,entry:R,index:P}),H=(Z=de??ne)!==null&&Z!==void 0?Z:void 0,k=r.size;var G=ne-de;if(K=OA(G)?0:G,V={x:Q,y:g.top,width:k,height:g.height},Math.abs(z)>0&&Math.abs(K)<Math.abs(z)){var $=ba(K||z)*(Math.abs(z)-Math.abs(K));H-=$,K+=$}}else{var[re,ae]=[a.scale(D[0]),a.scale(D[1])];if(Q=re,H=G5({axis:o,ticks:u,bandSize:s,offset:r.offset,entry:R,index:P}),k=ae-re,K=r.size,V={x:g.left,y:H,width:g.width,height:K},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var Ee=ba(k||z)*(Math.abs(z)-Math.abs(k));k+=Ee}}if(Q==null||H==null||k==null||K==null)return null;var q=ls(ls({},R),{},{stackedBarStart:T,x:Q,y:H,width:k,height:K,value:d?D:D[1],payload:R,background:V,tooltipPosition:{x:Q+k/2,y:H+K/2},parentViewBox:b},v&&v[P]&&v[P].props);return q}).filter(Boolean)}function FDe(n){var e=yo(n,_De),t=_a();return M.createElement(nRe,{id:e.id,type:"bar"},i=>M.createElement(M.Fragment,null,M.createElement(JPe,{legendPayload:gDe(e)}),M.createElement(mDe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),M.createElement(lRe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:jEe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),M.createElement(lf,{zIndex:e.zIndex},M.createElement(TDe,Lu({},e,{id:i})))))}var Bee=M.memo(FDe,MO);Bee.displayName="Bar";function w$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Nx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w$(Object(t),!0).forEach(function(i){MDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MDe(n,e,t){return(e=UDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UDe(n){var e=PDe(n,"string");return typeof e=="symbol"?e:e+""}function PDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var RDe=(n,e)=>e,DDe=(n,e,t)=>t,NDe=(n,e,t,i)=>i,LDe=(n,e,t,i,r)=>r,wE=Ae([lO,LDe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),QDe=Ae([wE],n=>n==null?void 0:n.maxBarSize),kDe=(n,e,t,i,r,s)=>s,b$=(n,e,t)=>{var i=t??n;if(!cr(i))return qo(i,e,0)},ODe=Ae([an,lO,RDe,DDe,NDe],(n,e,t,i,r)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),HDe=(n,e,t,i)=>{var r=an(n);return r==="horizontal"?lQ(n,"yAxis",t,i):lQ(n,"xAxis",e,i)},VDe=(n,e,t)=>{var i=an(n);return i==="horizontal"?C8(n,"xAxis",e):C8(n,"yAxis",t)},KDe=(n,e,t)=>{var i={},r=n.filter(PI),s=n.filter(u=>u.stackId==null),a=r.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),i),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(b=>b.dataKey),v=b$(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=b$(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},GDe=Ae([ODe,oIe,VDe],KDe),zDe=(n,e,t,i,r)=>{var s,a,o=wE(n,e,t,i,r);if(o!=null){var l=an(n),u=U7(n),{maxBarSize:d}=o,h=cr(d)?u:d,g,v;return l==="horizontal"?(g=my(n,"xAxis",e,i),v=gy(n,"xAxis",e,i)):(g=my(n,"yAxis",t,i),v=gy(n,"yAxis",t,i)),(s=(a=PT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},Eee=(n,e,t,i)=>{var r=an(n),s,a;return r==="horizontal"?(s=my(n,"xAxis",e,i),a=gy(n,"xAxis",e,i)):(s=my(n,"yAxis",t,i),a=gy(n,"yAxis",t,i)),PT(s,a)};function qDe(n,e,t,i,r){var s=i.length;if(!(s<1)){var a=qo(n,t,0,!0),o,l=[];if(mi(i[0].barSize)){var u=!1,d=t/s,h=i.reduce((x,I)=>x+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=i.reduce((x,I)=>{var T,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},P=[...x,R];return v=P[P.length-1].position,P},l)}else{var b=qo(e,t,0,!0);t-2*b-(s-1)*a<=0&&(a=0);var C=(t-2*b-(s-1)*a)/s;C>1&&(C>>=0);var E=mi(r)?Math.min(C,r):C;o=i.reduce((x,I,T)=>[...x,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b+(C+a)*T+(C-E)/2,size:E}}],l)}return o}}var $De=(n,e,t,i,r,s,a)=>{var o=cr(a)?e:a,l=qDe(t,i,r!==s?r:s,n,o);return r!==s&&l!=null&&(l=l.map(u=>Nx(Nx({},u),{},{position:Nx(Nx({},u.position),{},{offset:u.position.offset-r/2})}))),l},jDe=Ae([GDe,U7,aIe,P7,zDe,Eee,QDe],$De),WDe=(n,e,t,i)=>my(n,"xAxis",e,i),YDe=(n,e,t,i)=>my(n,"yAxis",t,i),XDe=(n,e,t,i)=>gy(n,"xAxis",e,i),JDe=(n,e,t,i)=>gy(n,"yAxis",t,i),ZDe=Ae([jDe,wE],(n,e)=>{if(!(n==null||e==null)){var t=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),eNe=(n,e)=>{var t=oO(e);if(!(!n||t==null||e==null)){var{stackId:i}=e;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(a=>a.key===t)}}}},tNe=Ae([HDe,wE],eNe),nNe=Ae([dr,Bk,WDe,YDe,XDe,JDe,ZDe,an,Jk,Eee,tNe,wE,kDe],(n,e,t,i,r,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:C}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||i==null||r==null||s==null||u==null)){var{data:E}=h,x;if(E!=null&&E.length>0?x=E:x=v==null?void 0:v.slice(b,C+1),x!=null)return IDe({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:d,displayedData:x,offset:n,cells:g,dataStartIndex:b})}}),iNe=n=>{var{chartData:e}=n,t=vi(),i=_a();return M.useEffect(()=>i?()=>{}:(t(R8(e)),()=>{t(R8(void 0))}),[e,t,i]),null},C$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},See=ks({name:"brush",initialState:C$,reducers:{setBrushSettings(n,e){return e.payload==null?C$:e.payload}}}),{setBrushSettings:qQe}=See.actions,rNe=See.reducer;function sNe(n,e,t){return(e=aNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aNe(n){var e=oNe(n,"string");return typeof e=="symbol"?e:e+""}function oNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class UO{static create(e){return new UO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),i=t[0],r=t[t.length-1];return i<=r?e>=i&&e<=r:e>=r&&e<=i}}sNe(UO,"EPS",1e-4);function ANe(n){return(n%180+180)%180}var lNe=function(e){var{width:t,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ANe(r),a=s*Math.PI/180,o=Math.atan(i/t),l=a>o&&a<Math.PI-o?i/Math.sin(a):t/Math.cos(a);return Math.abs(l)},uNe={dots:[],areas:[],lines:[]},xee=ks({name:"referenceElements",initialState:uNe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=zo(n).dots.findIndex(i=>i===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=zo(n).areas.findIndex(i=>i===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=zo(n).lines.findIndex(i=>i===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:$Qe,removeDot:jQe,addArea:WQe,removeArea:YQe,addLine:XQe,removeLine:JQe}=xee.actions,cNe=xee.reducer,dNe=M.createContext(void 0),fNe=n=>{var{children:e}=n,[t]=M.useState("".concat(Zw("recharts"),"-clip")),i=yee();if(i==null)return null;var{x:r,y:s,width:a,height:o}=i;return M.createElement(dNe.Provider,{value:t},M.createElement("defs",null,M.createElement("clipPath",{id:t},M.createElement("rect",{x:r,y:s,height:o,width:a}))),e)};function _ee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],i=0;i<n.length;i+=e)t.push(n[i]);return t}function hNe(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return lNe(i,t)}function pNe(n,e,t){var i=t==="width",{x:r,y:s,width:a,height:o}=n;return e===1?{start:i?r:s,end:i?r+a:s+o}:{start:i?r+a:s+o,end:i?r:s}}function a1(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function gNe(n,e){return _ee(n,e+1)}function mNe(n,e,t,i,r){for(var s=(i||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var b=i==null?void 0:i[l];if(b===void 0)return{v:_ee(i,u)};var C=l,E,x=()=>(E===void 0&&(E=t(b,C)),E),I=b.coordinate,T=l===0||a1(n,I,x,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(x()/2+r),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function B$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(t),!0).forEach(function(i){vNe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vNe(n,e,t){return(e=yNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yNe(n){var e=wNe(n,"string");return typeof e=="symbol"?e:e+""}function wNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bNe(n,e,t,i,r){for(var s=(i||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],b,C=()=>(b===void 0&&(b=t(v,g)),b);if(g===a-1){var E=n*(v.coordinate+n*C()/2-l);s[g]=v=zr(zr({},v),{},{tickCoord:E>0?v.coordinate-E*n:v.coordinate})}else s[g]=v=zr(zr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var x=a1(n,v.tickCoord,C,o,l);x&&(l=v.tickCoord-n*(C()/2+r),s[g]=zr(zr({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function CNe(n,e,t,i,r,s){var a=(i||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=i[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=zr(zr({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=a1(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+r),a[o-1]=zr(zr({},d),{},{isShow:!0}))}}for(var b=s?o-1:o,C=function(I){var T=a[I],R,P=()=>(R===void 0&&(R=t(T,I)),R);if(I===0){var D=n*(T.coordinate-n*P()/2-l);a[I]=T=zr(zr({},T),{},{tickCoord:D<0?T.coordinate-D*n:T.coordinate})}else a[I]=T=zr(zr({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var Q=a1(n,T.tickCoord,P,l,u);Q&&(l=T.tickCoord+n*(P()/2+r),a[I]=zr(zr({},T),{},{isShow:!0}))}},E=0;E<b;E++)C(E);return a}function BNe(n,e,t){var{tick:i,ticks:r,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!r||!r.length||!i)return[];if(rt(l)||aE.isSsr){var g;return(g=gNe(r,rt(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],b=o==="top"||o==="bottom"?"width":"height",C=d&&b==="width"?Ow(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},E=(T,R)=>{var P=typeof u=="function"?u(T.value,R):T.value;return b==="width"?hNe(Ow(P,{fontSize:e,letterSpacing:t}),C,h):Ow(P,{fontSize:e,letterSpacing:t})[b]},x=r.length>=2?ba(r[1].coordinate-r[0].coordinate):1,I=pNe(s,x,b);return l==="equidistantPreserveStart"?mNe(x,I,E,r,a):(l==="preserveStart"||l==="preserveStartEnd"?v=CNe(x,I,E,r,a,l==="preserveStartEnd"):v=bNe(x,I,E,r,a),v.filter(T=>T.isShow))}var ENe=n=>{var{ticks:e,label:t,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=r+s,u=a+l+o+(t?i:0);return Math.round(u)}return 0},SNe=["axisLine","width","height","className","hide","ticks","axisType"];function xNe(n,e){if(n==null)return{};var t,i,r=_Ne(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function _Ne(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Fp(){return Fp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fp.apply(null,arguments)}function E$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ui(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(t),!0).forEach(function(i){TNe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TNe(n,e,t){return(e=INe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function INe(n){var e=FNe(n,"string");return typeof e=="symbol"?e:e+""}function FNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Bp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qs.axis};function MNe(n){var{x:e,y:t,width:i,height:r,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=Ui(Ui(Ui({},l),Jd(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=Ui(Ui({},u),{},{x1:e,y1:t+d*r,x2:e+i,y2:t+d*r})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Ui(Ui({},u),{},{x1:e+h*i,y1:t,x2:e+h*i,y2:t+r})}return M.createElement("line",Fp({},u,{className:Ln("recharts-cartesian-axis-line",ly(o,"className"))}))}function UNe(n,e,t,i,r,s,a,o,l){var u,d,h,g,v,b,C=o?-1:1,E=n.tickSize||a,x=rt(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*r,h=g-C*E,b=h-C*l,v=x;break;case"left":h=g=n.coordinate,d=e+ +!o*i,u=d-C*E,v=u-C*l,b=x;break;case"right":h=g=n.coordinate,d=e+ +o*i,u=d+C*E,v=u+C*l,b=x;break;default:u=d=n.coordinate,g=t+ +o*r,h=g+C*E,b=h+C*l,v=x;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:b}}}function PNe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function RNe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function DNe(n){var{option:e,tickProps:t,value:i}=n,r,s=Ln(t.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(e))r=M.cloneElement(e,Ui(Ui({},t),{},{className:s}));else if(typeof e=="function")r=e(Ui(Ui({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ln(a,e==null?void 0:e.className)),r=M.createElement(IO,Fp({},t,{className:a}),i)}return r}var NNe=M.forwardRef((n,e)=>{var{ticks:t=[],tick:i,tickLine:r,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:b,height:C,tickSize:E,tickMargin:x,fontSize:I,letterSpacing:T,getTicksConfig:R,events:P,axisType:D}=n,Q=BNe(Ui(Ui({},R),{},{ticks:t}),I,T),H=PNe(d,h),k=RNe(d,h),K=Jd(R),V=sk(i),z={};typeof r=="object"&&(z=r);var Z=Ui(Ui({},K),{},{fill:"none"},z),ne=Q.map($=>Ui({entry:$},UNe($,g,v,b,C,d,E,h,x))),de=ne.map($=>{var{entry:re,line:ae}=$;return M.createElement(Fu,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},r&&M.createElement("line",Fp({},Z,ae,{className:Ln("recharts-cartesian-axis-tick-line",ly(r,"className"))})))}),G=ne.map(($,re)=>{var{entry:ae,tick:Ee}=$,q=Ui(Ui(Ui(Ui({textAnchor:H,verticalAnchor:k},K),{},{stroke:"none",fill:s},V),Ee),{},{index:re,payload:ae,visibleTicksCount:Q.length,tickFormatter:a,padding:l},u);return M.createElement(Fu,Fp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},dk(P,ae,re)),i&&M.createElement(DNe,{option:i,tickProps:q,value:"".concat(typeof a=="function"?a(ae.value,re):ae.value).concat(o||"")}))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},G.length>0&&M.createElement(lf,{zIndex:Qs.label},M.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},G)),de.length>0&&M.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},de))}),LNe=M.forwardRef((n,e)=>{var{axisLine:t,width:i,height:r,className:s,hide:a,ticks:o,axisType:l}=n,u=xNe(n,SNe),[d,h]=M.useState(""),[g,v]=M.useState(""),b=M.useRef(null);M.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return ENe({ticks:b.current,label:(E=n.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var C=M.useCallback(E=>{if(E){var x=E.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=x;var I=x[0];if(I){var T=window.getComputedStyle(I),R=T.fontSize,P=T.letterSpacing;(R!==d||P!==g)&&(h(R),v(P))}}},[d,g]);return a||i!=null&&i<=0||r!=null&&r<=0?null:M.createElement(lf,{zIndex:n.zIndex},M.createElement(Fu,{className:Ln("recharts-cartesian-axis",s)},M.createElement(MNe,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Jd(n)}),M.createElement(NNe,{ref:C,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),M.createElement(tPe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},M.createElement(cPe,{label:n.label,labelRef:n.labelRef}),n.children)))}),PO=M.forwardRef((n,e)=>{var t=yo(n,Bp);return M.createElement(LNe,Fp({},t,{ref:e}))});PO.displayName="CartesianAxis";var QNe=["domain","range"],kNe=["domain","range"];function S$(n,e){if(n==null)return{};var t,i,r=ONe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ONe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function x$(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function Tee(n,e){if(n===e)return!0;var{domain:t,range:i}=n,r=S$(n,QNe),{domain:s,range:a}=e,o=S$(e,kNe);return!x$(t,s)||!x$(i,a)?!1:MO(r,o)}var HNe=["dangerouslySetInnerHTML","ticks"],VNe=["id"];function mQ(){return mQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mQ.apply(null,arguments)}function _$(n,e){if(n==null)return{};var t,i,r=KNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function KNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function GNe(n){var e=vi(),t=M.useRef(null);return M.useLayoutEffect(()=>{t.current===null?e(hRe(n)):t.current!==n&&e(pRe({prev:t.current,next:n})),t.current=n},[n,e]),M.useLayoutEffect(()=>()=>{t.current&&(e(gRe(t.current)),t.current=null)},[e]),null}var zNe=n=>{var{xAxisId:e,className:t}=n,i=nt(Bk),r=_a(),s="xAxis",a=nt(E=>Uy(E,s,e,r)),o=nt(E=>BZ(E,s,e,r)),l=nt(E=>yZ(E,e)),u=nt(E=>rFe(E,e)),d=nt(E=>V7(E,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=_$(n,HNe),{id:b}=d,C=_$(d,VNe);return M.createElement(PO,mQ({},v,C,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:Ln("recharts-".concat(s," ").concat(s),t),viewBox:i,ticks:o,axisType:s}))},qNe={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,angle:er.angle,axisLine:Bp.axisLine,height:er.height,hide:!1,includeHidden:er.includeHidden,interval:er.interval,minTickGap:er.minTickGap,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tick:er.tick,tickCount:er.tickCount,tickLine:Bp.tickLine,tickSize:Bp.tickSize,type:er.type,xAxisId:0},$Ne=n=>{var e=yo(n,qNe);return M.createElement(M.Fragment,null,M.createElement(GNe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),M.createElement(zNe,e))},Iee=M.memo($Ne,Tee);Iee.displayName="XAxis";var jNe=["dangerouslySetInnerHTML","ticks"],WNe=["id"];function vQ(){return vQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vQ.apply(null,arguments)}function T$(n,e){if(n==null)return{};var t,i,r=YNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function YNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function XNe(n){var e=vi(),t=M.useRef(null);return M.useLayoutEffect(()=>{t.current===null?e(mRe(n)):t.current!==n&&e(vRe({prev:t.current,next:n})),t.current=n},[n,e]),M.useLayoutEffect(()=>()=>{t.current&&(e(yRe(t.current)),t.current=null)},[e]),null}var JNe=n=>{var{yAxisId:e,className:t,width:i,label:r}=n,s=M.useRef(null),a=M.useRef(null),o=nt(Bk),l=_a(),u=vi(),d="yAxis",h=nt(P=>Uy(P,d,e,l)),g=nt(P=>wZ(P,e)),v=nt(P=>aFe(P,e)),b=nt(P=>BZ(P,d,e,l)),C=nt(P=>K7(P,e));if(M.useLayoutEffect(()=>{if(!(i!=="auto"||!g||FO(r)||M.isValidElement(r)||C==null)){var P=s.current;if(P){var D=P.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&u(wRe({id:e,width:D}))}}},[b,g,u,r,e,i,C]),g==null||v==null||C==null)return null;var{dangerouslySetInnerHTML:E,ticks:x}=n,I=T$(n,jNe),{id:T}=C,R=T$(C,WNe);return M.createElement(PO,vQ({},I,R,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:Ln("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:b,axisType:d}))},ZNe={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:Bp.axisLine,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:Bp.tickLine,tickSize:Bp.tickSize,type:tr.type,width:tr.width,yAxisId:0},eLe=n=>{var e=yo(n,ZNe);return M.createElement(M.Fragment,null,M.createElement(XNe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),M.createElement(JNe,e))},Fee=M.memo(eLe,Tee);Fee.displayName="YAxis";var tLe=(n,e)=>e,RO=Ae([tLe,an,O7,ji,kZ,Wu,wMe,dr],_Me),DO=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/i)}},Mee=mo("mouseClick"),Uee=iE();Uee.startListening({actionCreator:Mee,effect:(n,e)=>{var t=n.payload,i=RO(e.getState(),DO(t));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(wFe({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var yQ=mo("mouseMove"),Pee=iE(),Lx=null;Pee.startListening({actionCreator:yQ,effect:(n,e)=>{var t=n.payload;Lx!==null&&cancelAnimationFrame(Lx);var i=DO(t);Lx=requestAnimationFrame(()=>{var r=e.getState(),s=vO(r,r.tooltip.settings.shared);if(s==="axis"){var a=RO(r,i);(a==null?void 0:a.activeIndex)!=null?e.dispatch(MZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(FZ())}Lx=null})}});var I$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Ree=ks({name:"rootProps",initialState:I$,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:I$.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),nLe=Ree.reducer,{updateOptions:iLe}=Ree.actions,Dee=ks({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:ZQe}=Dee.actions,rLe=Dee.reducer,Nee=mo("keyDown"),Lee=mo("focus"),NO=iE();NO.startListening({actionCreator:Nee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=yO(r,Ry(t),fE(t),vE(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Wu(t);if(s==="Enter"){var u=e1(t,"axis","hover",String(r.index));e.dispatch(cQ({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:u}));return}var d=uFe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var b=e1(t,"axis","hover",String(v));e.dispatch(cQ({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}}});NO.startListening({actionCreator:Lee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip;if(!r.active&&r.index==null){var s="0",a=e1(t,"axis","hover",String(s));e.dispatch(cQ({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Va=mo("externalEvent"),Qee=iE(),wR=new Map;Qee.startListening({actionCreator:Va,effect:(n,e)=>{var{handler:t,reactEvent:i}=n.payload;if(t!=null){i.persist();var r=i.type,s=wR.get(r);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:sMe(o),activeDataKey:KZ(o),activeIndex:vy(o),activeLabel:VZ(o),activeTooltipIndex:vy(o),isTooltipActive:aMe(o)};t(l,i)}finally{wR.delete(r)}});wR.set(r,a)}}});var sLe=Ae([Py],n=>n.tooltipItemPayloads),aLe=Ae([sLe,gE,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,i)=>{var r=n.find(o=>o.settings.dataKey===i);if(r!=null){var{positions:s}=r;if(s!=null){var a=e(s,t);return a}}}),kee=mo("touchMove"),Oee=iE();Oee.startListening({actionCreator:kee,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var i=e.getState(),r=vO(i,i.tooltip.settings.shared);if(r==="axis"){var s=RO(i,DO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(MZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(nSe),d=(a=l.getAttribute(iSe))!==null&&a!==void 0?a:void 0,h=aLe(e.getState(),u,d);e.dispatch(IZ({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var oLe=k9({brush:rNe,cartesianAxis:bRe,chartData:sUe,errorBars:DRe,graphicalItems:oRe,layout:LEe,legend:JSe,options:eUe,polarAxis:_Pe,polarOptions:rLe,referenceElements:cNe,rootProps:nLe,tooltip:bFe,zIndex:HMe}),ALe=function(e){return AEe({reducer:oLe,preloadedState:e,middleware:t=>{var i;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Uee.middleware,Pee.middleware,NO.middleware,Qee.middleware,Oee.middleware])},enhancers:t=>{var i=t;return typeof t=="function"&&(i=t()),i.concat(eJ({type:"raf"}))},devTools:aE.devToolsEnabled})};function lLe(n){var{preloadedState:e,children:t,reduxStoreName:i}=n,r=_a(),s=M.useRef(null);if(r)return t;s.current==null&&(s.current=ALe(e));var a=hk;return M.createElement(sDe,{context:a,store:s.current},t)}function uLe(n){var{layout:e,margin:t}=n,i=vi(),r=_a();return M.useEffect(()=>{r||(i(REe(e)),i(PEe(t)))},[i,r,e,t]),null}var cLe=M.memo(uLe,MO);function dLe(n){var e=vi();return M.useEffect(()=>{e(iLe(n))},[e,n]),null}function F$(n){var{zIndex:e,isPanorama:t}=n,i=t?"recharts-zindex-panorama-":"recharts-zindex-",r=gee("".concat(i).concat(e)),s=vi();return M.useLayoutEffect(()=>(s(kMe({zIndex:e,elementId:r,isPanorama:t})),()=>{s(OMe({zIndex:e,isPanorama:t}))}),[s,e,r,t]),M.createElement("g",{tabIndex:-1,id:r})}function M$(n){var{children:e,isPanorama:t}=n,i=nt(IMe);if(!i||i.length===0)return e;var r=i.filter(a=>a<0),s=i.filter(a=>a>0);return M.createElement(M.Fragment,null,r.map(a=>M.createElement(F$,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>M.createElement(F$,{key:a,zIndex:a,isPanorama:t})))}var fLe=["children"];function hLe(n,e){if(n==null)return{};var t,i,r=pLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function pLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function o1(){return o1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},o1.apply(null,arguments)}var gLe={width:"100%",height:"100%",display:"block"},mLe=M.forwardRef((n,e)=>{var t=RSe(),i=DSe(),r=_J();if(!Zd(t)||!Zd(i))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=r?0:void 0,typeof a.role=="string"?d=a.role:d=r?"application":void 0),M.createElement(i9,o1({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:i,style:gLe,ref:e}),s)}),vLe=n=>{var{children:e}=n,t=nt(gI);if(!t)return null;var{width:i,height:r,y:s,x:a}=t;return M.createElement(i9,{width:i,height:r,x:a,y:s},e)},U$=M.forwardRef((n,e)=>{var{children:t}=n,i=hLe(n,fLe),r=_a();return r?M.createElement(vLe,null,M.createElement(M$,{isPanorama:!0},t)):M.createElement(mLe,o1({ref:e},i),M.createElement(M$,{isPanorama:!1},t))});function yLe(){var n=vi(),[e,t]=M.useState(null),i=nt(tSe);return M.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;mi(s)&&s!==i&&n(NEe(s))}},[e,n,i]),t}function P$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wLe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(t),!0).forEach(function(i){bLe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function bLe(n,e,t){return(e=CLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CLe(n){var e=BLe(n,"string");return typeof e=="symbol"?e:e+""}function BLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mp.apply(null,arguments)}var ELe=()=>(hUe(),null);function A1(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var SLe=M.forwardRef((n,e)=>{var t,i,r=M.useRef(null),[s,a]=M.useState({containerWidth:A1((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:A1((i=n.style)===null||i===void 0?void 0:i.height)}),o=M.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=M.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=b=>{var{width:C,height:E}=b[0].contentRect;o(C,E)},v=new ResizeObserver(g);v.observe(u),r.current=v}},[e,o]);return M.useEffect(()=>()=>{var u=r.current;u!=null&&u.disconnect()},[o]),M.createElement(M.Fragment,null,M.createElement(yI,{width:s.containerWidth,height:s.containerHeight}),M.createElement("div",Mp({ref:l},n)))}),xLe=M.forwardRef((n,e)=>{var{width:t,height:i}=n,[r,s]=M.useState({containerWidth:A1(t),containerHeight:A1(i)}),a=M.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=M.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return M.createElement(M.Fragment,null,M.createElement(yI,{width:r.containerWidth,height:r.containerHeight}),M.createElement("div",Mp({ref:o},n)))}),_Le=M.forwardRef((n,e)=>{var{width:t,height:i}=n;return M.createElement(M.Fragment,null,M.createElement(yI,{width:t,height:i}),M.createElement("div",Mp({ref:e},n)))}),TLe=M.forwardRef((n,e)=>{var{width:t,height:i}=n;return Mu(t)||Mu(i)?M.createElement(xLe,Mp({},n,{ref:e})):M.createElement(_Le,Mp({},n,{ref:e}))});function ILe(n){return n===!0?SLe:TLe}var FLe=M.forwardRef((n,e)=>{var{children:t,className:i,height:r,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:C,style:E,width:x,responsive:I,dispatchTouchEvents:T=!0}=n,R=M.useRef(null),P=vi(),[D,Q]=M.useState(null),[H,k]=M.useState(null),K=yLe(),V=Ek(),z=(V==null?void 0:V.width)>0?V.width:x,Z=(V==null?void 0:V.height)>0?V.height:r,ne=M.useCallback(se=>{K(se),typeof e=="function"&&e(se),Q(se),k(se),se!=null&&(R.current=se)},[K,e,Q,k]),de=M.useCallback(se=>{P(Mee(se)),P(Va({handler:s,reactEvent:se}))},[P,s]),G=M.useCallback(se=>{P(yQ(se)),P(Va({handler:u,reactEvent:se}))},[P,u]),$=M.useCallback(se=>{P(FZ()),P(Va({handler:d,reactEvent:se}))},[P,d]),re=M.useCallback(se=>{P(yQ(se)),P(Va({handler:h,reactEvent:se}))},[P,h]),ae=M.useCallback(()=>{P(Lee())},[P]),Ee=M.useCallback(se=>{P(Nee(se.key))},[P]),q=M.useCallback(se=>{P(Va({handler:a,reactEvent:se}))},[P,a]),Y=M.useCallback(se=>{P(Va({handler:o,reactEvent:se}))},[P,o]),le=M.useCallback(se=>{P(Va({handler:l,reactEvent:se}))},[P,l]),ye=M.useCallback(se=>{P(Va({handler:g,reactEvent:se}))},[P,g]),Be=M.useCallback(se=>{P(Va({handler:C,reactEvent:se}))},[P,C]),_e=M.useCallback(se=>{T&&P(kee(se)),P(Va({handler:b,reactEvent:se}))},[P,T,b]),we=M.useCallback(se=>{P(Va({handler:v,reactEvent:se}))},[P,v]),at=ILe(I);return M.createElement(YZ.Provider,{value:D},M.createElement(Hbe.Provider,{value:H},M.createElement(at,{width:z??(E==null?void 0:E.width),height:Z??(E==null?void 0:E.height),className:Ln("recharts-wrapper",i),style:wLe({position:"relative",cursor:"default",width:z,height:Z},E),onClick:de,onContextMenu:q,onDoubleClick:Y,onFocus:ae,onKeyDown:Ee,onMouseDown:le,onMouseEnter:G,onMouseLeave:$,onMouseMove:re,onMouseUp:ye,onTouchEnd:we,onTouchMove:_e,onTouchStart:Be,ref:ne},M.createElement(ELe,null),t)))}),MLe=["width","height","responsive","children","className","style","compact","title","desc"];function ULe(n,e){if(n==null)return{};var t,i,r=PLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function PLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var RLe=M.forwardRef((n,e)=>{var{width:t,height:i,responsive:r,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=ULe(n,MLe),g=Jd(h);return l?M.createElement(M.Fragment,null,M.createElement(yI,{width:t,height:i}),M.createElement(U$,{otherAttributes:g,title:u,desc:d},s)):M.createElement(FLe,{className:a,style:o,width:t,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},M.createElement(U$,{otherAttributes:g,title:u,desc:d,ref:e},M.createElement(fNe,null,s)))});function wQ(){return wQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wQ.apply(null,arguments)}var DLe={top:5,right:5,bottom:5,left:5},NLe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:DLe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},LLe=M.forwardRef(function(e,t){var i,r=yo(e.categoricalChartProps,NLe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return M.createElement(lLe,{preloadedState:{options:d},reduxStoreName:(i=u.id)!==null&&i!==void 0?i:s},M.createElement(iNe,{chartData:u.data}),M.createElement(cLe,{layout:r.layout,margin:r.margin}),M.createElement(dLe,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),M.createElement(RLe,wQ({},r,{ref:t})))}),QLe=["axis","item"],kLe=M.forwardRef((n,e)=>M.createElement(LLe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:QLe,tooltipPayloadSearcher:JMe,categoricalChartProps:n,ref:e}));const OLe=()=>{const{stats:n,highlights:e}=sf(),t=Object.entries(n.chapterVisits).map(([r,s])=>({name:r==="ch1"?"Ch 1":r==="ch2"?"Ch 2":"Ch 3",visits:s})),i=r=>`${Math.floor(r/60)}m ${r%60}s`;return L.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[L.jsx(jW,{toggleSidebar:()=>{},toggleNotes:()=>{}}),L.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[L.jsxs("div",{className:"mb-8",children:[L.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),L.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),L.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[L.jsx(Qx,{icon:L.jsx(Vfe,{className:"text-blue-500"}),label:"Reading Time",value:i(n.totalReadingTime)}),L.jsx(Qx,{icon:L.jsx(_fe,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),L.jsx(Qx,{icon:L.jsx(qW,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),L.jsx(Qx,{icon:L.jsx(KK,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[L.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),L.jsx("div",{className:"h-64 w-full",children:L.jsx(MSe,{width:"100%",height:"100%",children:L.jsxs(kLe,{data:t,children:[L.jsx(Iee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),L.jsx(Fee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),L.jsx(CUe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),L.jsx(Bee,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((r,s)=>L.jsx(TO,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),L.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[L.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[L.jsx(KK,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[L.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),L.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((r,s)=>L.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:r.text},s)),e.length===0&&L.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),L.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:L.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),L.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},Qx=({icon:n,label:e,value:t})=>L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[L.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),L.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),L.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),HLe=()=>L.jsx(Bre,{children:L.jsx(vfe,{children:L.jsxs(ere,{children:[L.jsx(ER,{path:"/",element:L.jsx(Mbe,{})}),L.jsx(ER,{path:"/report",element:L.jsx(OLe,{})})]})})}),Hee=document.getElementById("root");if(!Hee)throw new Error("Could not find root element to mount to");const VLe=Aie.createRoot(Hee);VLe.render(L.jsx(Fw.StrictMode,{children:L.jsx(HLe,{})}));
