var a9=Object.defineProperty;var q2=n=>{throw TypeError(n)};var o9=(n,e,t)=>e in n?a9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var me=(n,e,t)=>o9(n,typeof e!="symbol"?e+"":e,t),r_=(n,e,t)=>e.has(n)||q2("Cannot "+t);var p=(n,e,t)=>(r_(n,e,"read from private field"),t?t.call(n):e.get(n)),P=(n,e,t)=>e.has(n)?q2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),U=(n,e,t,r)=>(r_(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Q=(n,e,t)=>(r_(n,e,"access private method"),t);var nr=(n,e,t,r)=>({set _(i){U(n,e,i,t)},get _(){return p(n,e,r)}});function A9(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Ja(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var i_={exports:{}},nv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function l9(){if($2)return nv;$2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var A in i)A!=="key"&&(s[A]=i[A])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return nv.Fragment=e,nv.jsx=t,nv.jsxs=t,nv}var Y2;function u9(){return Y2||(Y2=1,i_.exports=l9()),i_.exports}var N=u9(),s_={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2;function c9(){if(X2)return Je;X2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,S={};function x(V,W,ae){this.props=V,this.context=W,this.refs=S,this.updater=ae||b}x.prototype.isReactComponent={},x.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},x.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function _(){}_.prototype=x.prototype;function T(V,W,ae){this.props=V,this.context=W,this.refs=S,this.updater=ae||b}var M=T.prototype=new _;M.constructor=T,B(M,x.prototype),M.isPureReactComponent=!0;var F=Array.isArray;function R(){}var L={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function O(V,W,ae){var ue=ae.ref;return{$$typeof:n,type:V,key:W,ref:ue!==void 0?ue:null,props:ae}}function $(V,W){return O(V.type,W,V.props)}function G(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function Y(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return W[ae]})}var J=/\/+/g;function ne(V,W){return typeof V=="object"&&V!==null&&V.key!=null?Y(""+V.key):W.toString(36)}function fe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function H(V,W,ae,ue,we){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var ye=!1;if(V===null)ye=!0;else switch(ve){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(V.$$typeof){case n:case e:ye=!0;break;case f:return ye=V._init,H(ye(V._payload),W,ae,ue,we)}}if(ye)return we=we(V),ye=ue===""?"."+ne(V,0):ue,F(we)?(ae="",ye!=null&&(ae=ye.replace(J,"$&/")+"/"),H(we,W,ae,"",function(be){return be})):we!=null&&(G(we)&&(we=$(we,ae+(we.key==null||V&&V.key===we.key?"":(""+we.key).replace(J,"$&/")+"/")+ye)),W.push(we)),1;ye=0;var rt=ue===""?".":ue+":";if(F(V))for(var re=0;re<V.length;re++)ue=V[re],ve=rt+ne(ue,re),ye+=H(ue,W,ae,ve,we);else if(re=v(V),typeof re=="function")for(V=re.call(V),re=0;!(ue=V.next()).done;)ue=ue.value,ve=rt+ne(ue,re++),ye+=H(ue,W,ae,ve,we);else if(ve==="object"){if(typeof V.then=="function")return H(fe(V),W,ae,ue,we);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ye}function z(V,W,ae){if(V==null)return V;var ue=[],we=0;return H(V,ue,"","",function(ve){return W.call(ae,ve,we++)}),ue}function oe(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var le=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ce={map:z,forEach:function(V,W,ae){z(V,function(){W.apply(this,arguments)},ae)},count:function(V){var W=0;return z(V,function(){W++}),W},toArray:function(V){return z(V,function(W){return W})||[]},only:function(V){if(!G(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Je.Activity=h,Je.Children=Ce,Je.Component=x,Je.Fragment=t,Je.Profiler=i,Je.PureComponent=T,Je.StrictMode=r,Je.Suspense=l,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Je.__COMPILER_RUNTIME={__proto__:null,c:function(V){return L.H.useMemoCache(V)}},Je.cache=function(V){return function(){return V.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(V,W,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=B({},V.props),we=V.key;if(W!=null)for(ve in W.key!==void 0&&(we=""+W.key),W)!K.call(W,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&W.ref===void 0||(ue[ve]=W[ve]);var ve=arguments.length-2;if(ve===1)ue.children=ae;else if(1<ve){for(var ye=Array(ve),rt=0;rt<ve;rt++)ye[rt]=arguments[rt+2];ue.children=ye}return O(V.type,we,ue)},Je.createContext=function(V){return V={$$typeof:a,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},Je.createElement=function(V,W,ae){var ue,we={},ve=null;if(W!=null)for(ue in W.key!==void 0&&(ve=""+W.key),W)K.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=W[ue]);var ye=arguments.length-2;if(ye===1)we.children=ae;else if(1<ye){for(var rt=Array(ye),re=0;re<ye;re++)rt[re]=arguments[re+2];we.children=rt}if(V&&V.defaultProps)for(ue in ye=V.defaultProps,ye)we[ue]===void 0&&(we[ue]=ye[ue]);return O(V,ve,we)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(V){return{$$typeof:A,render:V}},Je.isValidElement=G,Je.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:oe}},Je.memo=function(V,W){return{$$typeof:c,type:V,compare:W===void 0?null:W}},Je.startTransition=function(V){var W=L.T,ae={};L.T=ae;try{var ue=V(),we=L.S;we!==null&&we(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(R,le)}catch(ve){le(ve)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),L.T=W}},Je.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Je.use=function(V){return L.H.use(V)},Je.useActionState=function(V,W,ae){return L.H.useActionState(V,W,ae)},Je.useCallback=function(V,W){return L.H.useCallback(V,W)},Je.useContext=function(V){return L.H.useContext(V)},Je.useDebugValue=function(){},Je.useDeferredValue=function(V,W){return L.H.useDeferredValue(V,W)},Je.useEffect=function(V,W){return L.H.useEffect(V,W)},Je.useEffectEvent=function(V){return L.H.useEffectEvent(V)},Je.useId=function(){return L.H.useId()},Je.useImperativeHandle=function(V,W,ae){return L.H.useImperativeHandle(V,W,ae)},Je.useInsertionEffect=function(V,W){return L.H.useInsertionEffect(V,W)},Je.useLayoutEffect=function(V,W){return L.H.useLayoutEffect(V,W)},Je.useMemo=function(V,W){return L.H.useMemo(V,W)},Je.useOptimistic=function(V,W){return L.H.useOptimistic(V,W)},Je.useReducer=function(V,W,ae){return L.H.useReducer(V,W,ae)},Je.useRef=function(V){return L.H.useRef(V)},Je.useState=function(V){return L.H.useState(V)},Je.useSyncExternalStore=function(V,W,ae){return L.H.useSyncExternalStore(V,W,ae)},Je.useTransition=function(){return L.H.useTransition()},Je.version="19.2.1",Je}var W2;function Xg(){return W2||(W2=1,s_.exports=c9()),s_.exports}var I=Xg();const MV=Ja(I),f9=A9({__proto__:null,default:MV},[I]);var a_={exports:{}},rv={},o_={exports:{}},A_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function d9(){return j2||(j2=1,(function(n){function e(H,z){var oe=H.length;H.push(z);e:for(;0<oe;){var le=oe-1>>>1,Ce=H[le];if(0<i(Ce,z))H[le]=z,H[oe]=Ce,oe=le;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var z=H[0],oe=H.pop();if(oe!==z){H[0]=oe;e:for(var le=0,Ce=H.length,V=Ce>>>1;le<V;){var W=2*(le+1)-1,ae=H[W],ue=W+1,we=H[ue];if(0>i(ae,oe))ue<Ce&&0>i(we,ae)?(H[le]=we,H[ue]=oe,le=ue):(H[le]=ae,H[W]=oe,le=W);else if(ue<Ce&&0>i(we,oe))H[le]=we,H[ue]=oe,le=ue;else break e}}return z}function i(H,z){var oe=H.sortIndex-z.sortIndex;return oe!==0?oe:H.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,A=a.now();n.unstable_now=function(){return a.now()-A}}var l=[],c=[],f=1,h=null,g=3,v=!1,b=!1,B=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=H)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function F(H){if(B=!1,M(H),!b)if(t(l)!==null)b=!0,R||(R=!0,Y());else{var z=t(c);z!==null&&fe(F,z.startTime-H)}}var R=!1,L=-1,K=5,O=-1;function $(){return S?!0:!(n.unstable_now()-O<K)}function G(){if(S=!1,R){var H=n.unstable_now();O=H;var z=!0;try{e:{b=!1,B&&(B=!1,_(L),L=-1),v=!0;var oe=g;try{t:{for(M(H),h=t(l);h!==null&&!(h.expirationTime>H&&$());){var le=h.callback;if(typeof le=="function"){h.callback=null,g=h.priorityLevel;var Ce=le(h.expirationTime<=H);if(H=n.unstable_now(),typeof Ce=="function"){h.callback=Ce,M(H),z=!0;break t}h===t(l)&&r(l),M(H)}else r(l);h=t(l)}if(h!==null)z=!0;else{var V=t(c);V!==null&&fe(F,V.startTime-H),z=!1}}break e}finally{h=null,g=oe,v=!1}z=void 0}}finally{z?Y():R=!1}}}var Y;if(typeof T=="function")Y=function(){T(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ne=J.port2;J.port1.onmessage=G,Y=function(){ne.postMessage(null)}}else Y=function(){x(G,0)};function fe(H,z){L=x(function(){H(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(H){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var oe=g;g=z;try{return H()}finally{g=oe}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=g;g=H;try{return z()}finally{g=oe}},n.unstable_scheduleCallback=function(H,z,oe){var le=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?le+oe:le):oe=le,H){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=oe+Ce,H={id:f++,callback:z,priorityLevel:H,startTime:oe,expirationTime:Ce,sortIndex:-1},oe>le?(H.sortIndex=oe,e(c,H),t(l)===null&&H===t(c)&&(B?(_(L),L=-1):B=!0,fe(F,oe-le))):(H.sortIndex=Ce,e(l,H),b||v||(b=!0,R||(R=!0,Y()))),H},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(H){var z=g;return function(){var oe=g;g=z;try{return H.apply(this,arguments)}finally{g=oe}}}})(A_)),A_}var J2;function h9(){return J2||(J2=1,o_.exports=d9()),o_.exports}var l_={exports:{}},jr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function p9(){if(Z2)return jr;Z2=1;var n=Xg();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:c,implementation:f}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return jr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jr.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,f)},jr.flushSync=function(l){var c=a.T,f=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=c,r.p=f,r.d.f()}},jr.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},jr.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},jr.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var f=c.as,h=A(f,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,v=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):f==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},jr.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=A(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},jr.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,h=A(f,c.crossOrigin);r.d.L(l,f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},jr.preloadModule=function(l,c){if(typeof l=="string")if(c){var f=A(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},jr.requestFormReset=function(l){r.d.r(l)},jr.unstable_batchedUpdates=function(l,c){return l(c)},jr.useFormState=function(l,c,f){return a.H.useFormState(l,c,f)},jr.useFormStatus=function(){return a.H.useHostTransitionStatus()},jr.version="19.2.1",jr}var ek;function DV(){if(ek)return l_.exports;ek=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),l_.exports=p9(),l_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk;function g9(){if(tk)return rv;tk=1;var n=h9(),e=Xg(),t=DV();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,d=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(d=u.return),o=u.return;while(o)}return u.tag===3?d:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function A(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(s(o)!==o)throw Error(r(188))}function c(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(r(188));return u!==o?null:o}for(var d=o,m=u;;){var C=d.return;if(C===null)break;var E=C.alternate;if(E===null){if(m=C.return,m!==null){d=m;continue}break}if(C.child===E.child){for(E=C.child;E;){if(E===d)return l(C),o;if(E===m)return l(C),u;E=E.sibling}throw Error(r(188))}if(d.return!==m.return)d=C,m=E;else{for(var D=!1,k=C.child;k;){if(k===d){D=!0,d=C,m=E;break}if(k===m){D=!0,m=C,d=E;break}k=k.sibling}if(!D){for(k=E.child;k;){if(k===d){D=!0,d=E,m=C;break}if(k===m){D=!0,m=E,d=C;break}k=k.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function Y(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var J=Symbol.for("react.client.reference");function ne(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===J?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case B:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case R:return"SuspenseList";case O:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case T:return o.displayName||"Context";case _:return(o._context.displayName||"Context")+".Consumer";case M:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return u=o.displayName||null,u!==null?u:ne(o.type)||"Memo";case K:u=o._payload,o=o._init;try{return ne(o(u))}catch{}}return null}var fe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},le=[],Ce=-1;function V(o){return{current:o}}function W(o){0>Ce||(o.current=le[Ce],le[Ce]=null,Ce--)}function ae(o,u){Ce++,le[Ce]=o.current,o.current=u}var ue=V(null),we=V(null),ve=V(null),ye=V(null);function rt(o,u){switch(ae(ve,u),ae(we,o),ae(ue,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?p2(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=p2(u),o=g2(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}W(ue),ae(ue,o)}function re(){W(ue),W(we),W(ve)}function be(o){o.memoizedState!==null&&ae(ye,o);var u=ue.current,d=g2(u,o.type);u!==d&&(ae(we,o),ae(ue,d))}function ke(o){we.current===o&&(W(ue),W(we)),ye.current===o&&(W(ye),Jm._currentValue=oe)}var he,He;function Ie(o){if(he===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);he=u&&u[1]||"",He=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+o+He}var Ke=!1;function tt(o,u){if(!o||Ke)return"";Ke=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var te=ie}Reflect.construct(o,[],de)}else{try{de.call()}catch(ie){te=ie}o.call(de.prototype)}}else{try{throw Error()}catch(ie){te=ie}(de=o())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),D=E[0],k=E[1];if(D&&k){var q=D.split(`
`),ee=k.split(`
`);for(C=m=0;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;for(;C<ee.length&&!ee[C].includes("DetermineComponentFrameRoot");)C++;if(m===q.length||C===ee.length)for(m=q.length-1,C=ee.length-1;1<=m&&0<=C&&q[m]!==ee[C];)C--;for(;1<=m&&0<=C;m--,C--)if(q[m]!==ee[C]){if(m!==1||C!==1)do if(m--,C--,0>C||q[m]!==ee[C]){var Ae=`
`+q[m].replace(" at new "," at ");return o.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",o.displayName)),Ae}while(1<=m&&0<=C);break}}}finally{Ke=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Ie(d):""}function Cn(o,u){switch(o.tag){case 26:case 27:case 5:return Ie(o.type);case 16:return Ie("Lazy");case 13:return o.child!==u&&u!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return tt(o.type,!1);case 11:return tt(o.type.render,!1);case 1:return tt(o.type,!0);case 31:return Ie("Activity");default:return""}}function dr(o){try{var u="",d=null;do u+=Cn(o,d),d=o,o=o.return;while(o);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var _i=Object.prototype.hasOwnProperty,Ea=n.unstable_scheduleCallback,ge=n.unstable_cancelCallback,Re=n.unstable_shouldYield,pe=n.unstable_requestPaint,Be=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,Ye=n.unstable_ImmediatePriority,We=n.unstable_UserBlockingPriority,Oe=n.unstable_NormalPriority,_t=n.unstable_LowPriority,Ft=n.unstable_IdlePriority,Wr=n.log,ji=n.unstable_setDisableYieldValue,ro=null,fi=null;function io(o){if(typeof Wr=="function"&&ji(o),fi&&typeof fi.setStrictMode=="function")try{fi.setStrictMode(ro,o)}catch{}}var di=Math.clz32?Math.clz32:zx,cm=Math.log,Vx=Math.LN2;function zx(o){return o>>>=0,o===0?32:31-(cm(o)/Vx|0)|0}var Nd=256,Se=262144,at=4194304;function ct(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function je(o,u,d){var m=o.pendingLanes;if(m===0)return 0;var C=0,E=o.suspendedLanes,D=o.pingedLanes;o=o.warmLanes;var k=m&134217727;return k!==0?(m=k&~E,m!==0?C=ct(m):(D&=k,D!==0?C=ct(D):d||(d=k&~o,d!==0&&(C=ct(d))))):(k=m&~E,k!==0?C=ct(k):D!==0?C=ct(D):d||(d=m&~o,d!==0&&(C=ct(d)))),C===0?0:u!==0&&u!==C&&(u&E)===0&&(E=C&-C,d=u&-u,E>=d||E===32&&(d&4194048)!==0)?u:C}function Bn(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Ns(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fm(){var o=at;return at<<=1,(at&62914560)===0&&(at=4194304),o}function Ld(o){for(var u=[],d=0;31>d;d++)u.push(o);return u}function Ec(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function YW(o,u,d,m,C,E){var D=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var k=o.entanglements,q=o.expirationTimes,ee=o.hiddenUpdates;for(d=D&~d;0<d;){var Ae=31-di(d),de=1<<Ae;k[Ae]=0,q[Ae]=-1;var te=ee[Ae];if(te!==null)for(ee[Ae]=null,Ae=0;Ae<te.length;Ae++){var ie=te[Ae];ie!==null&&(ie.lane&=-536870913)}d&=~de}m!==0&&jP(o,m,0),E!==0&&C===0&&o.tag!==0&&(o.suspendedLanes|=E&~(D&~u))}function jP(o,u,d){o.pendingLanes|=u,o.suspendedLanes&=~u;var m=31-di(u);o.entangledLanes|=u,o.entanglements[m]=o.entanglements[m]|1073741824|d&261930}function JP(o,u){var d=o.entangledLanes|=u;for(o=o.entanglements;d;){var m=31-di(d),C=1<<m;C&u|o[m]&u&&(o[m]|=u),d&=~C}}function ZP(o,u){var d=u&-u;return d=(d&42)!==0?1:qx(d),(d&(o.suspendedLanes|u))!==0?0:d}function qx(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function $x(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function eQ(){var o=z.p;return o!==0?o:(o=window.event,o===void 0?32:k2(o.type))}function tQ(o,u){var d=z.p;try{return z.p=o,u()}finally{z.p=d}}var Ml=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ml,Ii="__reactProps$"+Ml,kd="__reactContainer$"+Ml,Yx="__reactEvents$"+Ml,XW="__reactListeners$"+Ml,WW="__reactHandles$"+Ml,nQ="__reactResources$"+Ml,dm="__reactMarker$"+Ml;function Xx(o){delete o[Fr],delete o[Ii],delete o[Yx],delete o[XW],delete o[WW]}function Od(o){var u=o[Fr];if(u)return u;for(var d=o.parentNode;d;){if(u=d[kd]||d[Fr]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(o=b2(o);o!==null;){if(d=o[Fr])return d;o=b2(o)}return u}o=d,d=o.parentNode}return null}function Hd(o){if(o=o[Fr]||o[kd]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function hm(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Kd(o){var u=o[nQ];return u||(u=o[nQ]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function hr(o){o[dm]=!0}var rQ=new Set,iQ={};function Sc(o,u){Gd(o,u),Gd(o+"Capture",u)}function Gd(o,u){for(iQ[o]=u,o=0;o<u.length;o++)rQ.add(u[o])}var jW=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sQ={},aQ={};function JW(o){return _i.call(aQ,o)?!0:_i.call(sQ,o)?!1:jW.test(o)?aQ[o]=!0:(sQ[o]=!0,!1)}function Yw(o,u,d){if(JW(u))if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+d)}}function Xw(o,u,d){if(d===null)o.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+d)}}function $o(o,u,d,m){if(m===null)o.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(u,d,""+m)}}function Ls(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function oQ(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ZW(o,u,d){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,E=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return C.call(this)},set:function(D){d=""+D,E.call(this,D)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Wx(o){if(!o._valueTracker){var u=oQ(o)?"checked":"value";o._valueTracker=ZW(o,u,""+o[u])}}function AQ(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var d=u.getValue(),m="";return o&&(m=oQ(o)?o.checked?"true":"false":o.value),o=m,o!==d?(u.setValue(o),!0):!1}function Ww(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ej=/[\n"\\]/g;function ks(o){return o.replace(ej,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function jx(o,u,d,m,C,E,D,k){o.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.type=D:o.removeAttribute("type"),u!=null?D==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Ls(u)):o.value!==""+Ls(u)&&(o.value=""+Ls(u)):D!=="submit"&&D!=="reset"||o.removeAttribute("value"),u!=null?Jx(o,D,Ls(u)):d!=null?Jx(o,D,Ls(d)):m!=null&&o.removeAttribute("value"),C==null&&E!=null&&(o.defaultChecked=!!E),C!=null&&(o.checked=C&&typeof C!="function"&&typeof C!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.name=""+Ls(k):o.removeAttribute("name")}function lQ(o,u,d,m,C,E,D,k){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),u!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||u!=null)){Wx(o);return}d=d!=null?""+Ls(d):"",u=u!=null?""+Ls(u):d,k||u===o.value||(o.value=u),o.defaultValue=u}m=m??C,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=k?o.checked:!!m,o.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.name=D),Wx(o)}function Jx(o,u,d){u==="number"&&Ww(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Vd(o,u,d,m){if(o=o.options,u){u={};for(var C=0;C<d.length;C++)u["$"+d[C]]=!0;for(d=0;d<o.length;d++)C=u.hasOwnProperty("$"+o[d].value),o[d].selected!==C&&(o[d].selected=C),C&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Ls(d),u=null,C=0;C<o.length;C++){if(o[C].value===d){o[C].selected=!0,m&&(o[C].defaultSelected=!0);return}u!==null||o[C].disabled||(u=o[C])}u!==null&&(u.selected=!0)}}function uQ(o,u,d){if(u!=null&&(u=""+Ls(u),u!==o.value&&(o.value=u),d==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=d!=null?""+Ls(d):""}function cQ(o,u,d,m){if(u==null){if(m!=null){if(d!=null)throw Error(r(92));if(fe(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),u=d}d=Ls(u),o.defaultValue=d,m=o.textContent,m===d&&m!==""&&m!==null&&(o.value=m),Wx(o)}function zd(o,u){if(u){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=u;return}}o.textContent=u}var tj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fQ(o,u,d){var m=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":m?o.setProperty(u,d):typeof d!="number"||d===0||tj.has(u)?u==="float"?o.cssFloat=d:o[u]=(""+d).trim():o[u]=d+"px"}function dQ(o,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var C in u)m=u[C],u.hasOwnProperty(C)&&d[C]!==m&&fQ(o,C,m)}else for(var E in u)u.hasOwnProperty(E)&&fQ(o,E,u[E])}function Zx(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jw(o){return rj.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Yo(){}var eT=null;function tT(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qd=null,$d=null;function hQ(o){var u=Hd(o);if(u&&(o=u.stateNode)){var d=o[Ii]||null;e:switch(o=u.stateNode,u.type){case"input":if(jx(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ks(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var m=d[u];if(m!==o&&m.form===o.form){var C=m[Ii]||null;if(!C)throw Error(r(90));jx(m,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(u=0;u<d.length;u++)m=d[u],m.form===o.form&&AQ(m)}break e;case"textarea":uQ(o,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&Vd(o,!!d.multiple,u,!1)}}}var nT=!1;function pQ(o,u,d){if(nT)return o(u,d);nT=!0;try{var m=o(u);return m}finally{if(nT=!1,(qd!==null||$d!==null)&&(LC(),qd&&(u=qd,o=$d,$d=qd=null,hQ(u),o)))for(u=0;u<o.length;u++)hQ(o[u])}}function pm(o,u){var d=o.stateNode;if(d===null)return null;var m=d[Ii]||null;if(m===null)return null;d=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rT=!1;if(Xo)try{var gm={};Object.defineProperty(gm,"passive",{get:function(){rT=!0}}),window.addEventListener("test",gm,gm),window.removeEventListener("test",gm,gm)}catch{rT=!1}var Dl=null,iT=null,Jw=null;function gQ(){if(Jw)return Jw;var o,u=iT,d=u.length,m,C="value"in Dl?Dl.value:Dl.textContent,E=C.length;for(o=0;o<d&&u[o]===C[o];o++);var D=d-o;for(m=1;m<=D&&u[d-m]===C[E-m];m++);return Jw=C.slice(o,1<m?1-m:void 0)}function Zw(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function eC(){return!0}function mQ(){return!1}function Ui(o){function u(d,m,C,E,D){this._reactName=d,this._targetInst=C,this.type=m,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var k in o)o.hasOwnProperty(k)&&(d=o[k],this[k]=d?d(E):E[k]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?eC:mQ,this.isPropagationStopped=mQ,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=eC)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=eC)},persist:function(){},isPersistent:eC}),u}var xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tC=Ui(xc),mm=h({},xc,{view:0,detail:0}),ij=Ui(mm),sT,aT,vm,nC=h({},mm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AT,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==vm&&(vm&&o.type==="mousemove"?(sT=o.screenX-vm.screenX,aT=o.screenY-vm.screenY):aT=sT=0,vm=o),sT)},movementY:function(o){return"movementY"in o?o.movementY:aT}}),vQ=Ui(nC),sj=h({},nC,{dataTransfer:0}),aj=Ui(sj),oj=h({},mm,{relatedTarget:0}),oT=Ui(oj),Aj=h({},xc,{animationName:0,elapsedTime:0,pseudoElement:0}),lj=Ui(Aj),uj=h({},xc,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),cj=Ui(uj),fj=h({},xc,{data:0}),yQ=Ui(fj),dj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gj(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=pj[o])?!!u[o]:!1}function AT(){return gj}var mj=h({},mm,{key:function(o){if(o.key){var u=dj[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Zw(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?hj[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AT,charCode:function(o){return o.type==="keypress"?Zw(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Zw(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vj=Ui(mj),yj=h({},nC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wQ=Ui(yj),wj=h({},mm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AT}),Cj=Ui(wj),Bj=h({},xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),bj=Ui(Bj),Ej=h({},nC,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Sj=Ui(Ej),xj=h({},xc,{newState:0,oldState:0}),Tj=Ui(xj),_j=[9,13,27,32],lT=Xo&&"CompositionEvent"in window,ym=null;Xo&&"documentMode"in document&&(ym=document.documentMode);var Ij=Xo&&"TextEvent"in window&&!ym,CQ=Xo&&(!lT||ym&&8<ym&&11>=ym),BQ=" ",bQ=!1;function EQ(o,u){switch(o){case"keyup":return _j.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SQ(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Yd=!1;function Uj(o,u){switch(o){case"compositionend":return SQ(u);case"keypress":return u.which!==32?null:(bQ=!0,BQ);case"textInput":return o=u.data,o===BQ&&bQ?null:o;default:return null}}function Fj(o,u){if(Yd)return o==="compositionend"||!lT&&EQ(o,u)?(o=gQ(),Jw=iT=Dl=null,Yd=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return CQ&&u.locale!=="ko"?null:u.data;default:return null}}var Mj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xQ(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Mj[o.type]:u==="textarea"}function TQ(o,u,d,m){qd?$d?$d.push(m):$d=[m]:qd=m,u=zC(u,"onChange"),0<u.length&&(d=new tC("onChange","change",null,d,m),o.push({event:d,listeners:u}))}var wm=null,Cm=null;function Dj(o){l2(o,0)}function rC(o){var u=hm(o);if(AQ(u))return o}function _Q(o,u){if(o==="change")return u}var IQ=!1;if(Xo){var uT;if(Xo){var cT="oninput"in document;if(!cT){var UQ=document.createElement("div");UQ.setAttribute("oninput","return;"),cT=typeof UQ.oninput=="function"}uT=cT}else uT=!1;IQ=uT&&(!document.documentMode||9<document.documentMode)}function FQ(){wm&&(wm.detachEvent("onpropertychange",MQ),Cm=wm=null)}function MQ(o){if(o.propertyName==="value"&&rC(Cm)){var u=[];TQ(u,Cm,o,tT(o)),pQ(Dj,u)}}function Rj(o,u,d){o==="focusin"?(FQ(),wm=u,Cm=d,wm.attachEvent("onpropertychange",MQ)):o==="focusout"&&FQ()}function Pj(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return rC(Cm)}function Qj(o,u){if(o==="click")return rC(u)}function Nj(o,u){if(o==="input"||o==="change")return rC(u)}function Lj(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Ji=typeof Object.is=="function"?Object.is:Lj;function Bm(o,u){if(Ji(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var d=Object.keys(o),m=Object.keys(u);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var C=d[m];if(!_i.call(u,C)||!Ji(o[C],u[C]))return!1}return!0}function DQ(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function RQ(o,u){var d=DQ(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=u&&m>=u)return{node:d,offset:u-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=DQ(d)}}function PQ(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?PQ(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function QQ(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Ww(o.document);u instanceof o.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)o=u.contentWindow;else break;u=Ww(o.document)}return u}function fT(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var kj=Xo&&"documentMode"in document&&11>=document.documentMode,Xd=null,dT=null,bm=null,hT=!1;function NQ(o,u,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;hT||Xd==null||Xd!==Ww(m)||(m=Xd,"selectionStart"in m&&fT(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),bm&&Bm(bm,m)||(bm=m,m=zC(dT,"onSelect"),0<m.length&&(u=new tC("onSelect","select",null,u,d),o.push({event:u,listeners:m}),u.target=Xd)))}function Tc(o,u){var d={};return d[o.toLowerCase()]=u.toLowerCase(),d["Webkit"+o]="webkit"+u,d["Moz"+o]="moz"+u,d}var Wd={animationend:Tc("Animation","AnimationEnd"),animationiteration:Tc("Animation","AnimationIteration"),animationstart:Tc("Animation","AnimationStart"),transitionrun:Tc("Transition","TransitionRun"),transitionstart:Tc("Transition","TransitionStart"),transitioncancel:Tc("Transition","TransitionCancel"),transitionend:Tc("Transition","TransitionEnd")},pT={},LQ={};Xo&&(LQ=document.createElement("div").style,"AnimationEvent"in window||(delete Wd.animationend.animation,delete Wd.animationiteration.animation,delete Wd.animationstart.animation),"TransitionEvent"in window||delete Wd.transitionend.transition);function _c(o){if(pT[o])return pT[o];if(!Wd[o])return o;var u=Wd[o],d;for(d in u)if(u.hasOwnProperty(d)&&d in LQ)return pT[o]=u[d];return o}var kQ=_c("animationend"),OQ=_c("animationiteration"),HQ=_c("animationstart"),Oj=_c("transitionrun"),Hj=_c("transitionstart"),Kj=_c("transitioncancel"),KQ=_c("transitionend"),GQ=new Map,gT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gT.push("scrollEnd");function Sa(o,u){GQ.set(o,u),Sc(u,[o])}var iC=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Os=[],jd=0,mT=0;function sC(){for(var o=jd,u=mT=jd=0;u<o;){var d=Os[u];Os[u++]=null;var m=Os[u];Os[u++]=null;var C=Os[u];Os[u++]=null;var E=Os[u];if(Os[u++]=null,m!==null&&C!==null){var D=m.pending;D===null?C.next=C:(C.next=D.next,D.next=C),m.pending=C}E!==0&&VQ(d,C,E)}}function aC(o,u,d,m){Os[jd++]=o,Os[jd++]=u,Os[jd++]=d,Os[jd++]=m,mT|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function vT(o,u,d,m){return aC(o,u,d,m),oC(o)}function Ic(o,u){return aC(o,null,null,u),oC(o)}function VQ(o,u,d){o.lanes|=d;var m=o.alternate;m!==null&&(m.lanes|=d);for(var C=!1,E=o.return;E!==null;)E.childLanes|=d,m=E.alternate,m!==null&&(m.childLanes|=d),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(C=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,C&&u!==null&&(C=31-di(d),o=E.hiddenUpdates,m=o[C],m===null?o[C]=[u]:m.push(u),u.lane=d|536870912),E):null}function oC(o){if(50<zm)throw zm=0,T1=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Jd={};function Gj(o,u,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(o,u,d,m){return new Gj(o,u,d,m)}function yT(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Wo(o,u){var d=o.alternate;return d===null?(d=Zi(o.tag,u,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=u,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,u=o.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function zQ(o,u){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,u=d.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function AC(o,u,d,m,C,E){var D=0;if(m=o,typeof o=="function")yT(o)&&(D=1);else if(typeof o=="string")D=YJ(o,d,ue.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case O:return o=Zi(31,d,u,C),o.elementType=O,o.lanes=E,o;case B:return Uc(d.children,C,E,u);case S:D=8,C|=24;break;case x:return o=Zi(12,d,u,C|2),o.elementType=x,o.lanes=E,o;case F:return o=Zi(13,d,u,C),o.elementType=F,o.lanes=E,o;case R:return o=Zi(19,d,u,C),o.elementType=R,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:D=10;break e;case _:D=9;break e;case M:D=11;break e;case L:D=14;break e;case K:D=16,m=null;break e}D=29,d=Error(r(130,o===null?"null":typeof o,"")),m=null}return u=Zi(D,d,u,C),u.elementType=o,u.type=m,u.lanes=E,u}function Uc(o,u,d,m){return o=Zi(7,o,m,u),o.lanes=d,o}function wT(o,u,d){return o=Zi(6,o,null,u),o.lanes=d,o}function qQ(o){var u=Zi(18,null,null,0);return u.stateNode=o,u}function CT(o,u,d){return u=Zi(4,o.children!==null?o.children:[],o.key,u),u.lanes=d,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var $Q=new WeakMap;function Hs(o,u){if(typeof o=="object"&&o!==null){var d=$Q.get(o);return d!==void 0?d:(u={value:o,source:u,stack:dr(u)},$Q.set(o,u),u)}return{value:o,source:u,stack:dr(u)}}var Zd=[],eh=0,lC=null,Em=0,Ks=[],Gs=0,Rl=null,so=1,ao="";function jo(o,u){Zd[eh++]=Em,Zd[eh++]=lC,lC=o,Em=u}function YQ(o,u,d){Ks[Gs++]=so,Ks[Gs++]=ao,Ks[Gs++]=Rl,Rl=o;var m=so;o=ao;var C=32-di(m)-1;m&=~(1<<C),d+=1;var E=32-di(u)+C;if(30<E){var D=C-C%5;E=(m&(1<<D)-1).toString(32),m>>=D,C-=D,so=1<<32-di(u)+C|d<<C|m,ao=E+o}else so=1<<E|d<<C|m,ao=o}function BT(o){o.return!==null&&(jo(o,1),YQ(o,1,0))}function bT(o){for(;o===lC;)lC=Zd[--eh],Zd[eh]=null,Em=Zd[--eh],Zd[eh]=null;for(;o===Rl;)Rl=Ks[--Gs],Ks[Gs]=null,ao=Ks[--Gs],Ks[Gs]=null,so=Ks[--Gs],Ks[Gs]=null}function XQ(o,u){Ks[Gs++]=so,Ks[Gs++]=ao,Ks[Gs++]=Rl,so=u.id,ao=u.overflow,Rl=o}var Mr=null,ln=null,wt=!1,Pl=null,Vs=!1,ET=Error(r(519));function Ql(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sm(Hs(u,o)),ET}function WQ(o){var u=o.stateNode,d=o.type,m=o.memoizedProps;switch(u[Fr]=o,u[Ii]=m,d){case"dialog":pt("cancel",u),pt("close",u);break;case"iframe":case"object":case"embed":pt("load",u);break;case"video":case"audio":for(d=0;d<$m.length;d++)pt($m[d],u);break;case"source":pt("error",u);break;case"img":case"image":case"link":pt("error",u),pt("load",u);break;case"details":pt("toggle",u);break;case"input":pt("invalid",u),lQ(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":pt("invalid",u);break;case"textarea":pt("invalid",u),cQ(u,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||m.suppressHydrationWarning===!0||d2(u.textContent,d)?(m.popover!=null&&(pt("beforetoggle",u),pt("toggle",u)),m.onScroll!=null&&pt("scroll",u),m.onScrollEnd!=null&&pt("scrollend",u),m.onClick!=null&&(u.onclick=Yo),u=!0):u=!1,u||Ql(o,!0)}function jQ(o){for(Mr=o.return;Mr;)switch(Mr.tag){case 5:case 31:case 13:Vs=!1;return;case 27:case 3:Vs=!0;return;default:Mr=Mr.return}}function th(o){if(o!==Mr)return!1;if(!wt)return jQ(o),wt=!0,!1;var u=o.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||K1(o.type,o.memoizedProps)),d=!d),d&&ln&&Ql(o),jQ(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ln=B2(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ln=B2(o)}else u===27?(u=ln,Wl(o.type)?(o=$1,$1=null,ln=o):ln=u):ln=Mr?qs(o.stateNode.nextSibling):null;return!0}function Fc(){ln=Mr=null,wt=!1}function ST(){var o=Pl;return o!==null&&(Ri===null?Ri=o:Ri.push.apply(Ri,o),Pl=null),o}function Sm(o){Pl===null?Pl=[o]:Pl.push(o)}var xT=V(null),Mc=null,Jo=null;function Nl(o,u,d){ae(xT,u._currentValue),u._currentValue=d}function Zo(o){o._currentValue=xT.current,W(xT)}function TT(o,u,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),o===d)break;o=o.return}}function _T(o,u,d,m){var C=o.child;for(C!==null&&(C.return=o);C!==null;){var E=C.dependencies;if(E!==null){var D=C.child;E=E.firstContext;e:for(;E!==null;){var k=E;E=C;for(var q=0;q<u.length;q++)if(k.context===u[q]){E.lanes|=d,k=E.alternate,k!==null&&(k.lanes|=d),TT(E.return,d,o),m||(D=null);break e}E=k.next}}else if(C.tag===18){if(D=C.return,D===null)throw Error(r(341));D.lanes|=d,E=D.alternate,E!==null&&(E.lanes|=d),TT(D,d,o),D=null}else D=C.child;if(D!==null)D.return=C;else for(D=C;D!==null;){if(D===o){D=null;break}if(C=D.sibling,C!==null){C.return=D.return,D=C;break}D=D.return}C=D}}function nh(o,u,d,m){o=null;for(var C=u,E=!1;C!==null;){if(!E){if((C.flags&524288)!==0)E=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var D=C.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var k=C.type;Ji(C.pendingProps.value,D.value)||(o!==null?o.push(k):o=[k])}}else if(C===ye.current){if(D=C.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(o!==null?o.push(Jm):o=[Jm])}C=C.return}o!==null&&_T(u,o,d,m),u.flags|=262144}function uC(o){for(o=o.firstContext;o!==null;){if(!Ji(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Dc(o){Mc=o,Jo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Dr(o){return JQ(Mc,o)}function cC(o,u){return Mc===null&&Dc(o),JQ(o,u)}function JQ(o,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},Jo===null){if(o===null)throw Error(r(308));Jo=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Jo=Jo.next=u;return d}var Vj=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(d,m){o.push(m)}};this.abort=function(){u.aborted=!0,o.forEach(function(d){return d()})}},zj=n.unstable_scheduleCallback,qj=n.unstable_NormalPriority,zn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function IT(){return{controller:new Vj,data:new Map,refCount:0}}function xm(o){o.refCount--,o.refCount===0&&zj(qj,function(){o.controller.abort()})}var Tm=null,UT=0,rh=0,ih=null;function $j(o,u){if(Tm===null){var d=Tm=[];UT=0,rh=D1(),ih={status:"pending",value:void 0,then:function(m){d.push(m)}}}return UT++,u.then(ZQ,ZQ),u}function ZQ(){if(--UT===0&&Tm!==null){ih!==null&&(ih.status="fulfilled");var o=Tm;Tm=null,rh=0,ih=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function Yj(o,u){var d=[],m={status:"pending",value:null,reason:null,then:function(C){d.push(C)}};return o.then(function(){m.status="fulfilled",m.value=u;for(var C=0;C<d.length;C++)(0,d[C])(u)},function(C){for(m.status="rejected",m.reason=C,C=0;C<d.length;C++)(0,d[C])(void 0)}),m}var eN=H.S;H.S=function(o,u){NL=Be(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&$j(o,u),eN!==null&&eN(o,u)};var Rc=V(null);function FT(){var o=Rc.current;return o!==null?o:Jt.pooledCache}function fC(o,u){u===null?ae(Rc,Rc.current):ae(Rc,u.pool)}function tN(){var o=FT();return o===null?null:{parent:zn._currentValue,pool:o}}var sh=Error(r(460)),MT=Error(r(474)),dC=Error(r(542)),hC={then:function(){}};function nN(o){return o=o.status,o==="fulfilled"||o==="rejected"}function rN(o,u,d){switch(d=o[d],d===void 0?o.push(u):d!==u&&(u.then(Yo,Yo),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,sN(o),o;default:if(typeof u.status=="string")u.then(Yo,Yo);else{if(o=Jt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(m){if(u.status==="pending"){var C=u;C.status="fulfilled",C.value=m}},function(m){if(u.status==="pending"){var C=u;C.status="rejected",C.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,sN(o),o}throw Qc=u,sh}}function Pc(o){try{var u=o._init;return u(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Qc=d,sh):d}}var Qc=null;function iN(){if(Qc===null)throw Error(r(459));var o=Qc;return Qc=null,o}function sN(o){if(o===sh||o===dC)throw Error(r(483))}var ah=null,_m=0;function pC(o){var u=_m;return _m+=1,ah===null&&(ah=[]),rN(ah,o,u)}function Im(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function gC(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function aN(o){function u(j,X){if(o){var Z=j.deletions;Z===null?(j.deletions=[X],j.flags|=16):Z.push(X)}}function d(j,X){if(!o)return null;for(;X!==null;)u(j,X),X=X.sibling;return null}function m(j){for(var X=new Map;j!==null;)j.key!==null?X.set(j.key,j):X.set(j.index,j),j=j.sibling;return X}function C(j,X){return j=Wo(j,X),j.index=0,j.sibling=null,j}function E(j,X,Z){return j.index=Z,o?(Z=j.alternate,Z!==null?(Z=Z.index,Z<X?(j.flags|=67108866,X):Z):(j.flags|=67108866,X)):(j.flags|=1048576,X)}function D(j){return o&&j.alternate===null&&(j.flags|=67108866),j}function k(j,X,Z,ce){return X===null||X.tag!==6?(X=wT(Z,j.mode,ce),X.return=j,X):(X=C(X,Z),X.return=j,X)}function q(j,X,Z,ce){var Ge=Z.type;return Ge===B?Ae(j,X,Z.props.children,ce,Z.key):X!==null&&(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===K&&Pc(Ge)===X.type)?(X=C(X,Z.props),Im(X,Z),X.return=j,X):(X=AC(Z.type,Z.key,Z.props,null,j.mode,ce),Im(X,Z),X.return=j,X)}function ee(j,X,Z,ce){return X===null||X.tag!==4||X.stateNode.containerInfo!==Z.containerInfo||X.stateNode.implementation!==Z.implementation?(X=CT(Z,j.mode,ce),X.return=j,X):(X=C(X,Z.children||[]),X.return=j,X)}function Ae(j,X,Z,ce,Ge){return X===null||X.tag!==7?(X=Uc(Z,j.mode,ce,Ge),X.return=j,X):(X=C(X,Z),X.return=j,X)}function de(j,X,Z){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=wT(""+X,j.mode,Z),X.return=j,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return Z=AC(X.type,X.key,X.props,null,j.mode,Z),Im(Z,X),Z.return=j,Z;case b:return X=CT(X,j.mode,Z),X.return=j,X;case K:return X=Pc(X),de(j,X,Z)}if(fe(X)||Y(X))return X=Uc(X,j.mode,Z,null),X.return=j,X;if(typeof X.then=="function")return de(j,pC(X),Z);if(X.$$typeof===T)return de(j,cC(j,X),Z);gC(j,X)}return null}function te(j,X,Z,ce){var Ge=X!==null?X.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ge!==null?null:k(j,X,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Ge?q(j,X,Z,ce):null;case b:return Z.key===Ge?ee(j,X,Z,ce):null;case K:return Z=Pc(Z),te(j,X,Z,ce)}if(fe(Z)||Y(Z))return Ge!==null?null:Ae(j,X,Z,ce,null);if(typeof Z.then=="function")return te(j,X,pC(Z),ce);if(Z.$$typeof===T)return te(j,X,cC(j,Z),ce);gC(j,Z)}return null}function ie(j,X,Z,ce,Ge){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return j=j.get(Z)||null,k(X,j,""+ce,Ge);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return j=j.get(ce.key===null?Z:ce.key)||null,q(X,j,ce,Ge);case b:return j=j.get(ce.key===null?Z:ce.key)||null,ee(X,j,ce,Ge);case K:return ce=Pc(ce),ie(j,X,Z,ce,Ge)}if(fe(ce)||Y(ce))return j=j.get(Z)||null,Ae(X,j,ce,Ge,null);if(typeof ce.then=="function")return ie(j,X,Z,pC(ce),Ge);if(ce.$$typeof===T)return ie(j,X,Z,cC(X,ce),Ge);gC(X,ce)}return null}function Pe(j,X,Z,ce){for(var Ge=null,Et=null,Ne=X,ot=X=0,mt=null;Ne!==null&&ot<Z.length;ot++){Ne.index>ot?(mt=Ne,Ne=null):mt=Ne.sibling;var St=te(j,Ne,Z[ot],ce);if(St===null){Ne===null&&(Ne=mt);break}o&&Ne&&St.alternate===null&&u(j,Ne),X=E(St,X,ot),Et===null?Ge=St:Et.sibling=St,Et=St,Ne=mt}if(ot===Z.length)return d(j,Ne),wt&&jo(j,ot),Ge;if(Ne===null){for(;ot<Z.length;ot++)Ne=de(j,Z[ot],ce),Ne!==null&&(X=E(Ne,X,ot),Et===null?Ge=Ne:Et.sibling=Ne,Et=Ne);return wt&&jo(j,ot),Ge}for(Ne=m(Ne);ot<Z.length;ot++)mt=ie(Ne,j,ot,Z[ot],ce),mt!==null&&(o&&mt.alternate!==null&&Ne.delete(mt.key===null?ot:mt.key),X=E(mt,X,ot),Et===null?Ge=mt:Et.sibling=mt,Et=mt);return o&&Ne.forEach(function(tu){return u(j,tu)}),wt&&jo(j,ot),Ge}function ze(j,X,Z,ce){if(Z==null)throw Error(r(151));for(var Ge=null,Et=null,Ne=X,ot=X=0,mt=null,St=Z.next();Ne!==null&&!St.done;ot++,St=Z.next()){Ne.index>ot?(mt=Ne,Ne=null):mt=Ne.sibling;var tu=te(j,Ne,St.value,ce);if(tu===null){Ne===null&&(Ne=mt);break}o&&Ne&&tu.alternate===null&&u(j,Ne),X=E(tu,X,ot),Et===null?Ge=tu:Et.sibling=tu,Et=tu,Ne=mt}if(St.done)return d(j,Ne),wt&&jo(j,ot),Ge;if(Ne===null){for(;!St.done;ot++,St=Z.next())St=de(j,St.value,ce),St!==null&&(X=E(St,X,ot),Et===null?Ge=St:Et.sibling=St,Et=St);return wt&&jo(j,ot),Ge}for(Ne=m(Ne);!St.done;ot++,St=Z.next())St=ie(Ne,j,ot,St.value,ce),St!==null&&(o&&St.alternate!==null&&Ne.delete(St.key===null?ot:St.key),X=E(St,X,ot),Et===null?Ge=St:Et.sibling=St,Et=St);return o&&Ne.forEach(function(s9){return u(j,s9)}),wt&&jo(j,ot),Ge}function Gt(j,X,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===B&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Ge=Z.key;X!==null;){if(X.key===Ge){if(Ge=Z.type,Ge===B){if(X.tag===7){d(j,X.sibling),ce=C(X,Z.props.children),ce.return=j,j=ce;break e}}else if(X.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===K&&Pc(Ge)===X.type){d(j,X.sibling),ce=C(X,Z.props),Im(ce,Z),ce.return=j,j=ce;break e}d(j,X);break}else u(j,X);X=X.sibling}Z.type===B?(ce=Uc(Z.props.children,j.mode,ce,Z.key),ce.return=j,j=ce):(ce=AC(Z.type,Z.key,Z.props,null,j.mode,ce),Im(ce,Z),ce.return=j,j=ce)}return D(j);case b:e:{for(Ge=Z.key;X!==null;){if(X.key===Ge)if(X.tag===4&&X.stateNode.containerInfo===Z.containerInfo&&X.stateNode.implementation===Z.implementation){d(j,X.sibling),ce=C(X,Z.children||[]),ce.return=j,j=ce;break e}else{d(j,X);break}else u(j,X);X=X.sibling}ce=CT(Z,j.mode,ce),ce.return=j,j=ce}return D(j);case K:return Z=Pc(Z),Gt(j,X,Z,ce)}if(fe(Z))return Pe(j,X,Z,ce);if(Y(Z)){if(Ge=Y(Z),typeof Ge!="function")throw Error(r(150));return Z=Ge.call(Z),ze(j,X,Z,ce)}if(typeof Z.then=="function")return Gt(j,X,pC(Z),ce);if(Z.$$typeof===T)return Gt(j,X,cC(j,Z),ce);gC(j,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,X!==null&&X.tag===6?(d(j,X.sibling),ce=C(X,Z),ce.return=j,j=ce):(d(j,X),ce=wT(Z,j.mode,ce),ce.return=j,j=ce),D(j)):d(j,X)}return function(j,X,Z,ce){try{_m=0;var Ge=Gt(j,X,Z,ce);return ah=null,Ge}catch(Ne){if(Ne===sh||Ne===dC)throw Ne;var Et=Zi(29,Ne,null,j.mode);return Et.lanes=ce,Et.return=j,Et}finally{}}}var Nc=aN(!0),oN=aN(!1),Ll=!1;function DT(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function RT(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function kl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ol(o,u,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(It&2)!==0){var C=m.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),m.pending=u,u=oC(o),VQ(o,null,d),u}return aC(o,m,u,d),oC(o)}function Um(o,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var m=u.lanes;m&=o.pendingLanes,d|=m,u.lanes=d,JP(o,d)}}function PT(o,u){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var C=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?C=E=D:E=E.next=D,d=d.next}while(d!==null);E===null?C=E=u:E=E.next=u}else C=E=u;d={baseState:m.baseState,firstBaseUpdate:C,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=u}var QT=!1;function Fm(){if(QT){var o=ih;if(o!==null)throw o}}function Mm(o,u,d,m){QT=!1;var C=o.updateQueue;Ll=!1;var E=C.firstBaseUpdate,D=C.lastBaseUpdate,k=C.shared.pending;if(k!==null){C.shared.pending=null;var q=k,ee=q.next;q.next=null,D===null?E=ee:D.next=ee,D=q;var Ae=o.alternate;Ae!==null&&(Ae=Ae.updateQueue,k=Ae.lastBaseUpdate,k!==D&&(k===null?Ae.firstBaseUpdate=ee:k.next=ee,Ae.lastBaseUpdate=q))}if(E!==null){var de=C.baseState;D=0,Ae=ee=q=null,k=E;do{var te=k.lane&-536870913,ie=te!==k.lane;if(ie?(gt&te)===te:(m&te)===te){te!==0&&te===rh&&(QT=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Pe=o,ze=k;te=u;var Gt=d;switch(ze.tag){case 1:if(Pe=ze.payload,typeof Pe=="function"){de=Pe.call(Gt,de,te);break e}de=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=ze.payload,te=typeof Pe=="function"?Pe.call(Gt,de,te):Pe,te==null)break e;de=h({},de,te);break e;case 2:Ll=!0}}te=k.callback,te!==null&&(o.flags|=64,ie&&(o.flags|=8192),ie=C.callbacks,ie===null?C.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Ae===null?(ee=Ae=ie,q=de):Ae=Ae.next=ie,D|=te;if(k=k.next,k===null){if(k=C.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,C.lastBaseUpdate=ie,C.shared.pending=null}}while(!0);Ae===null&&(q=de),C.baseState=q,C.firstBaseUpdate=ee,C.lastBaseUpdate=Ae,E===null&&(C.shared.lanes=0),zl|=D,o.lanes=D,o.memoizedState=de}}function AN(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function lN(o,u){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)AN(d[o],u)}var oh=V(null),mC=V(0);function uN(o,u){o=AA,ae(mC,o),ae(oh,u),AA=o|u.baseLanes}function NT(){ae(mC,AA),ae(oh,oh.current)}function LT(){AA=mC.current,W(oh),W(mC)}var es=V(null),zs=null;function Hl(o){var u=o.alternate;ae(Pn,Pn.current&1),ae(es,o),zs===null&&(u===null||oh.current!==null||u.memoizedState!==null)&&(zs=o)}function kT(o){ae(Pn,Pn.current),ae(es,o),zs===null&&(zs=o)}function cN(o){o.tag===22?(ae(Pn,Pn.current),ae(es,o),zs===null&&(zs=o)):Kl()}function Kl(){ae(Pn,Pn.current),ae(es,es.current)}function ts(o){W(es),zs===o&&(zs=null),W(Pn)}var Pn=V(0);function vC(o){for(var u=o;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||z1(d)||q1(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var eA=0,it=null,Ht=null,qn=null,yC=!1,Ah=!1,Lc=!1,wC=0,Dm=0,lh=null,Xj=0;function _n(){throw Error(r(321))}function OT(o,u){if(u===null)return!1;for(var d=0;d<u.length&&d<o.length;d++)if(!Ji(o[d],u[d]))return!1;return!0}function HT(o,u,d,m,C,E){return eA=E,it=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,H.H=o===null||o.memoizedState===null?YN:n1,Lc=!1,E=d(m,C),Lc=!1,Ah&&(E=dN(u,d,m,C)),fN(o),E}function fN(o){H.H=Qm;var u=Ht!==null&&Ht.next!==null;if(eA=0,qn=Ht=it=null,yC=!1,Dm=0,lh=null,u)throw Error(r(300));o===null||$n||(o=o.dependencies,o!==null&&uC(o)&&($n=!0))}function dN(o,u,d,m){it=o;var C=0;do{if(Ah&&(lh=null),Dm=0,Ah=!1,25<=C)throw Error(r(301));if(C+=1,qn=Ht=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}H.H=XN,E=u(d,m)}while(Ah);return E}function Wj(){var o=H.H,u=o.useState()[0];return u=typeof u.then=="function"?Rm(u):u,o=o.useState()[0],(Ht!==null?Ht.memoizedState:null)!==o&&(it.flags|=1024),u}function KT(){var o=wC!==0;return wC=0,o}function GT(o,u,d){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~d}function VT(o){if(yC){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}yC=!1}eA=0,qn=Ht=it=null,Ah=!1,Dm=wC=0,lh=null}function hi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?it.memoizedState=qn=o:qn=qn.next=o,qn}function Qn(){if(Ht===null){var o=it.alternate;o=o!==null?o.memoizedState:null}else o=Ht.next;var u=qn===null?it.memoizedState:qn.next;if(u!==null)qn=u,Ht=o;else{if(o===null)throw it.alternate===null?Error(r(467)):Error(r(310));Ht=o,o={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},qn===null?it.memoizedState=qn=o:qn=qn.next=o}return qn}function CC(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rm(o){var u=Dm;return Dm+=1,lh===null&&(lh=[]),o=rN(lh,o,u),u=it,(qn===null?u.memoizedState:qn.next)===null&&(u=u.alternate,H.H=u===null||u.memoizedState===null?YN:n1),o}function BC(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Rm(o);if(o.$$typeof===T)return Dr(o)}throw Error(r(438,String(o)))}function zT(o){var u=null,d=it.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var m=it.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(C){return C.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=CC(),it.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(o),m=0;m<o;m++)d[m]=$;return u.index++,d}function tA(o,u){return typeof u=="function"?u(o):u}function bC(o){var u=Qn();return qT(u,Ht,o)}function qT(o,u,d){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var C=o.baseQueue,E=m.pending;if(E!==null){if(C!==null){var D=C.next;C.next=E.next,E.next=D}u.baseQueue=C=E,m.pending=null}if(E=o.baseState,C===null)o.memoizedState=E;else{u=C.next;var k=D=null,q=null,ee=u,Ae=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(gt&de)===de:(eA&de)===de){var te=ee.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===rh&&(Ae=!0);else if((eA&te)===te){ee=ee.next,te===rh&&(Ae=!0);continue}else de={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(k=q=de,D=E):q=q.next=de,it.lanes|=te,zl|=te;de=ee.action,Lc&&d(E,de),E=ee.hasEagerState?ee.eagerState:d(E,de)}else te={lane:de,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(k=q=te,D=E):q=q.next=te,it.lanes|=de,zl|=de;ee=ee.next}while(ee!==null&&ee!==u);if(q===null?D=E:q.next=k,!Ji(E,o.memoizedState)&&($n=!0,Ae&&(d=ih,d!==null)))throw d;o.memoizedState=E,o.baseState=D,o.baseQueue=q,m.lastRenderedState=E}return C===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function $T(o){var u=Qn(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=d.dispatch,C=d.pending,E=u.memoizedState;if(C!==null){d.pending=null;var D=C=C.next;do E=o(E,D.action),D=D.next;while(D!==C);Ji(E,u.memoizedState)||($n=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),d.lastRenderedState=E}return[E,m]}function hN(o,u,d){var m=it,C=Qn(),E=wt;if(E){if(d===void 0)throw Error(r(407));d=d()}else d=u();var D=!Ji((Ht||C).memoizedState,d);if(D&&(C.memoizedState=d,$n=!0),C=C.queue,WT(mN.bind(null,m,C,o),[o]),C.getSnapshot!==u||D||qn!==null&&qn.memoizedState.tag&1){if(m.flags|=2048,uh(9,{destroy:void 0},gN.bind(null,m,C,d,u),null),Jt===null)throw Error(r(349));E||(eA&127)!==0||pN(m,u,d)}return d}function pN(o,u,d){o.flags|=16384,o={getSnapshot:u,value:d},u=it.updateQueue,u===null?(u=CC(),it.updateQueue=u,u.stores=[o]):(d=u.stores,d===null?u.stores=[o]:d.push(o))}function gN(o,u,d,m){u.value=d,u.getSnapshot=m,vN(u)&&yN(o)}function mN(o,u,d){return d(function(){vN(u)&&yN(o)})}function vN(o){var u=o.getSnapshot;o=o.value;try{var d=u();return!Ji(o,d)}catch{return!0}}function yN(o){var u=Ic(o,2);u!==null&&Pi(u,o,2)}function YT(o){var u=hi();if(typeof o=="function"){var d=o;if(o=d(),Lc){io(!0);try{d()}finally{io(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tA,lastRenderedState:o},u}function wN(o,u,d,m){return o.baseState=d,qT(o,Ht,typeof m=="function"?m:tA)}function jj(o,u,d,m,C){if(xC(o))throw Error(r(485));if(o=u.action,o!==null){var E={payload:C,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){E.listeners.push(D)}};H.T!==null?d(!0):E.isTransition=!1,m(E),d=u.pending,d===null?(E.next=u.pending=E,CN(u,E)):(E.next=d.next,u.pending=d.next=E)}}function CN(o,u){var d=u.action,m=u.payload,C=o.state;if(u.isTransition){var E=H.T,D={};H.T=D;try{var k=d(C,m),q=H.S;q!==null&&q(D,k),BN(o,u,k)}catch(ee){XT(o,u,ee)}finally{E!==null&&D.types!==null&&(E.types=D.types),H.T=E}}else try{E=d(C,m),BN(o,u,E)}catch(ee){XT(o,u,ee)}}function BN(o,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){bN(o,u,m)},function(m){return XT(o,u,m)}):bN(o,u,d)}function bN(o,u,d){u.status="fulfilled",u.value=d,EN(u),o.state=d,u=o.pending,u!==null&&(d=u.next,d===u?o.pending=null:(d=d.next,u.next=d,CN(o,d)))}function XT(o,u,d){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=d,EN(u),u=u.next;while(u!==m)}o.action=null}function EN(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function SN(o,u){return u}function xN(o,u){if(wt){var d=Jt.formState;if(d!==null){e:{var m=it;if(wt){if(ln){t:{for(var C=ln,E=Vs;C.nodeType!==8;){if(!E){C=null;break t}if(C=qs(C.nextSibling),C===null){C=null;break t}}E=C.data,C=E==="F!"||E==="F"?C:null}if(C){ln=qs(C.nextSibling),m=C.data==="F!";break e}}Ql(m)}m=!1}m&&(u=d[0])}}return d=hi(),d.memoizedState=d.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SN,lastRenderedState:u},d.queue=m,d=zN.bind(null,it,m),m.dispatch=d,m=YT(!1),E=t1.bind(null,it,!1,m.queue),m=hi(),C={state:u,dispatch:null,action:o,pending:null},m.queue=C,d=jj.bind(null,it,C,E,d),C.dispatch=d,m.memoizedState=o,[u,d,!1]}function TN(o){var u=Qn();return _N(u,Ht,o)}function _N(o,u,d){if(u=qT(o,u,SN)[0],o=bC(tA)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=Rm(u)}catch(D){throw D===sh?dC:D}else m=u;u=Qn();var C=u.queue,E=C.dispatch;return d!==u.memoizedState&&(it.flags|=2048,uh(9,{destroy:void 0},Jj.bind(null,C,d),null)),[m,E,o]}function Jj(o,u){o.action=u}function IN(o){var u=Qn(),d=Ht;if(d!==null)return _N(u,d,o);Qn(),u=u.memoizedState,d=Qn();var m=d.queue.dispatch;return d.memoizedState=o,[u,m,!1]}function uh(o,u,d,m){return o={tag:o,create:d,deps:m,inst:u,next:null},u=it.updateQueue,u===null&&(u=CC(),it.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,u.lastEffect=o),o}function UN(){return Qn().memoizedState}function EC(o,u,d,m){var C=hi();it.flags|=o,C.memoizedState=uh(1|u,{destroy:void 0},d,m===void 0?null:m)}function SC(o,u,d,m){var C=Qn();m=m===void 0?null:m;var E=C.memoizedState.inst;Ht!==null&&m!==null&&OT(m,Ht.memoizedState.deps)?C.memoizedState=uh(u,E,d,m):(it.flags|=o,C.memoizedState=uh(1|u,E,d,m))}function FN(o,u){EC(8390656,8,o,u)}function WT(o,u){SC(2048,8,o,u)}function Zj(o){it.flags|=4;var u=it.updateQueue;if(u===null)u=CC(),it.updateQueue=u,u.events=[o];else{var d=u.events;d===null?u.events=[o]:d.push(o)}}function MN(o){var u=Qn().memoizedState;return Zj({ref:u,nextImpl:o}),function(){if((It&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function DN(o,u){return SC(4,2,o,u)}function RN(o,u){return SC(4,4,o,u)}function PN(o,u){if(typeof u=="function"){o=o();var d=u(o);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function QN(o,u,d){d=d!=null?d.concat([o]):null,SC(4,4,PN.bind(null,u,o),d)}function jT(){}function NN(o,u){var d=Qn();u=u===void 0?null:u;var m=d.memoizedState;return u!==null&&OT(u,m[1])?m[0]:(d.memoizedState=[o,u],o)}function LN(o,u){var d=Qn();u=u===void 0?null:u;var m=d.memoizedState;if(u!==null&&OT(u,m[1]))return m[0];if(m=o(),Lc){io(!0);try{o()}finally{io(!1)}}return d.memoizedState=[m,u],m}function JT(o,u,d){return d===void 0||(eA&1073741824)!==0&&(gt&261930)===0?o.memoizedState=u:(o.memoizedState=d,o=kL(),it.lanes|=o,zl|=o,d)}function kN(o,u,d,m){return Ji(d,u)?d:oh.current!==null?(o=JT(o,d,m),Ji(o,u)||($n=!0),o):(eA&42)===0||(eA&1073741824)!==0&&(gt&261930)===0?($n=!0,o.memoizedState=d):(o=kL(),it.lanes|=o,zl|=o,u)}function ON(o,u,d,m,C){var E=z.p;z.p=E!==0&&8>E?E:8;var D=H.T,k={};H.T=k,t1(o,!1,u,d);try{var q=C(),ee=H.S;if(ee!==null&&ee(k,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var Ae=Yj(q,m);Pm(o,u,Ae,is(o))}else Pm(o,u,m,is(o))}catch(de){Pm(o,u,{then:function(){},status:"rejected",reason:de},is())}finally{z.p=E,D!==null&&k.types!==null&&(D.types=k.types),H.T=D}}function eJ(){}function ZT(o,u,d,m){if(o.tag!==5)throw Error(r(476));var C=HN(o).queue;ON(o,C,u,oe,d===null?eJ:function(){return KN(o),d(m)})}function HN(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tA,lastRenderedState:oe},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tA,lastRenderedState:d},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function KN(o){var u=HN(o);u.next===null&&(u=o.alternate.memoizedState),Pm(o,u.next.queue,{},is())}function e1(){return Dr(Jm)}function GN(){return Qn().memoizedState}function VN(){return Qn().memoizedState}function tJ(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var d=is();o=kl(d);var m=Ol(u,o,d);m!==null&&(Pi(m,u,d),Um(m,u,d)),u={cache:IT()},o.payload=u;return}u=u.return}}function nJ(o,u,d){var m=is();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},xC(o)?qN(u,d):(d=vT(o,u,d,m),d!==null&&(Pi(d,o,m),$N(d,u,m)))}function zN(o,u,d){var m=is();Pm(o,u,d,m)}function Pm(o,u,d,m){var C={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(xC(o))qN(u,C);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var D=u.lastRenderedState,k=E(D,d);if(C.hasEagerState=!0,C.eagerState=k,Ji(k,D))return aC(o,u,C,0),Jt===null&&sC(),!1}catch{}finally{}if(d=vT(o,u,C,m),d!==null)return Pi(d,o,m),$N(d,u,m),!0}return!1}function t1(o,u,d,m){if(m={lane:2,revertLane:D1(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},xC(o)){if(u)throw Error(r(479))}else u=vT(o,d,m,2),u!==null&&Pi(u,o,2)}function xC(o){var u=o.alternate;return o===it||u!==null&&u===it}function qN(o,u){Ah=yC=!0;var d=o.pending;d===null?u.next=u:(u.next=d.next,d.next=u),o.pending=u}function $N(o,u,d){if((d&4194048)!==0){var m=u.lanes;m&=o.pendingLanes,d|=m,u.lanes=d,JP(o,d)}}var Qm={readContext:Dr,use:BC,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};Qm.useEffectEvent=_n;var YN={readContext:Dr,use:BC,useCallback:function(o,u){return hi().memoizedState=[o,u===void 0?null:u],o},useContext:Dr,useEffect:FN,useImperativeHandle:function(o,u,d){d=d!=null?d.concat([o]):null,EC(4194308,4,PN.bind(null,u,o),d)},useLayoutEffect:function(o,u){return EC(4194308,4,o,u)},useInsertionEffect:function(o,u){EC(4,2,o,u)},useMemo:function(o,u){var d=hi();u=u===void 0?null:u;var m=o();if(Lc){io(!0);try{o()}finally{io(!1)}}return d.memoizedState=[m,u],m},useReducer:function(o,u,d){var m=hi();if(d!==void 0){var C=d(u);if(Lc){io(!0);try{d(u)}finally{io(!1)}}}else C=u;return m.memoizedState=m.baseState=C,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:C},m.queue=o,o=o.dispatch=nJ.bind(null,it,o),[m.memoizedState,o]},useRef:function(o){var u=hi();return o={current:o},u.memoizedState=o},useState:function(o){o=YT(o);var u=o.queue,d=zN.bind(null,it,u);return u.dispatch=d,[o.memoizedState,d]},useDebugValue:jT,useDeferredValue:function(o,u){var d=hi();return JT(d,o,u)},useTransition:function(){var o=YT(!1);return o=ON.bind(null,it,o.queue,!0,!1),hi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,d){var m=it,C=hi();if(wt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),Jt===null)throw Error(r(349));(gt&127)!==0||pN(m,u,d)}C.memoizedState=d;var E={value:d,getSnapshot:u};return C.queue=E,FN(mN.bind(null,m,E,o),[o]),m.flags|=2048,uh(9,{destroy:void 0},gN.bind(null,m,E,d,u),null),d},useId:function(){var o=hi(),u=Jt.identifierPrefix;if(wt){var d=ao,m=so;d=(m&~(1<<32-di(m)-1)).toString(32)+d,u="_"+u+"R_"+d,d=wC++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=Xj++,u="_"+u+"r_"+d.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:e1,useFormState:xN,useActionState:xN,useOptimistic:function(o){var u=hi();u.memoizedState=u.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=t1.bind(null,it,!0,d),d.dispatch=u,[o,u]},useMemoCache:zT,useCacheRefresh:function(){return hi().memoizedState=tJ.bind(null,it)},useEffectEvent:function(o){var u=hi(),d={impl:o};return u.memoizedState=d,function(){if((It&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},n1={readContext:Dr,use:BC,useCallback:NN,useContext:Dr,useEffect:WT,useImperativeHandle:QN,useInsertionEffect:DN,useLayoutEffect:RN,useMemo:LN,useReducer:bC,useRef:UN,useState:function(){return bC(tA)},useDebugValue:jT,useDeferredValue:function(o,u){var d=Qn();return kN(d,Ht.memoizedState,o,u)},useTransition:function(){var o=bC(tA)[0],u=Qn().memoizedState;return[typeof o=="boolean"?o:Rm(o),u]},useSyncExternalStore:hN,useId:GN,useHostTransitionStatus:e1,useFormState:TN,useActionState:TN,useOptimistic:function(o,u){var d=Qn();return wN(d,Ht,o,u)},useMemoCache:zT,useCacheRefresh:VN};n1.useEffectEvent=MN;var XN={readContext:Dr,use:BC,useCallback:NN,useContext:Dr,useEffect:WT,useImperativeHandle:QN,useInsertionEffect:DN,useLayoutEffect:RN,useMemo:LN,useReducer:$T,useRef:UN,useState:function(){return $T(tA)},useDebugValue:jT,useDeferredValue:function(o,u){var d=Qn();return Ht===null?JT(d,o,u):kN(d,Ht.memoizedState,o,u)},useTransition:function(){var o=$T(tA)[0],u=Qn().memoizedState;return[typeof o=="boolean"?o:Rm(o),u]},useSyncExternalStore:hN,useId:GN,useHostTransitionStatus:e1,useFormState:IN,useActionState:IN,useOptimistic:function(o,u){var d=Qn();return Ht!==null?wN(d,Ht,o,u):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:zT,useCacheRefresh:VN};XN.useEffectEvent=MN;function r1(o,u,d,m){u=o.memoizedState,d=d(m,u),d=d==null?u:h({},u,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var i1={enqueueSetState:function(o,u,d){o=o._reactInternals;var m=is(),C=kl(m);C.payload=u,d!=null&&(C.callback=d),u=Ol(o,C,m),u!==null&&(Pi(u,o,m),Um(u,o,m))},enqueueReplaceState:function(o,u,d){o=o._reactInternals;var m=is(),C=kl(m);C.tag=1,C.payload=u,d!=null&&(C.callback=d),u=Ol(o,C,m),u!==null&&(Pi(u,o,m),Um(u,o,m))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var d=is(),m=kl(d);m.tag=2,u!=null&&(m.callback=u),u=Ol(o,m,d),u!==null&&(Pi(u,o,d),Um(u,o,d))}};function WN(o,u,d,m,C,E,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,E,D):u.prototype&&u.prototype.isPureReactComponent?!Bm(d,m)||!Bm(C,E):!0}function jN(o,u,d,m){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,m),u.state!==o&&i1.enqueueReplaceState(u,u.state,null)}function kc(o,u){var d=u;if("ref"in u){d={};for(var m in u)m!=="ref"&&(d[m]=u[m])}if(o=o.defaultProps){d===u&&(d=h({},d));for(var C in o)d[C]===void 0&&(d[C]=o[C])}return d}function JN(o){iC(o)}function ZN(o){console.error(o)}function eL(o){iC(o)}function TC(o,u){try{var d=o.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function tL(o,u,d){try{var m=o.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function s1(o,u,d){return d=kl(d),d.tag=3,d.payload={element:null},d.callback=function(){TC(o,u)},d}function nL(o){return o=kl(o),o.tag=3,o}function rL(o,u,d,m){var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var E=m.value;o.payload=function(){return C(E)},o.callback=function(){tL(u,d,m)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(o.callback=function(){tL(u,d,m),typeof C!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function rJ(o,u,d,m,C){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=d.alternate,u!==null&&nh(u,d,C,!0),d=es.current,d!==null){switch(d.tag){case 31:case 13:return zs===null?kC():d.alternate===null&&In===0&&(In=3),d.flags&=-257,d.flags|=65536,d.lanes=C,m===hC?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([m]):u.add(m),U1(o,m,C)),!1;case 22:return d.flags|=65536,m===hC?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([m]):d.add(m)),U1(o,m,C)),!1}throw Error(r(435,d.tag))}return U1(o,m,C),kC(),!1}if(wt)return u=es.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=C,m!==ET&&(o=Error(r(422),{cause:m}),Sm(Hs(o,d)))):(m!==ET&&(u=Error(r(423),{cause:m}),Sm(Hs(u,d))),o=o.current.alternate,o.flags|=65536,C&=-C,o.lanes|=C,m=Hs(m,d),C=s1(o.stateNode,m,C),PT(o,C),In!==4&&(In=2)),!1;var E=Error(r(520),{cause:m});if(E=Hs(E,d),Vm===null?Vm=[E]:Vm.push(E),In!==4&&(In=2),u===null)return!0;m=Hs(m,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,o=C&-C,d.lanes|=o,o=s1(d.stateNode,m,o),PT(d,o),!1;case 1:if(u=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ql===null||!ql.has(E))))return d.flags|=65536,C&=-C,d.lanes|=C,C=nL(C),rL(C,o,d,m),PT(d,C),!1}d=d.return}while(d!==null);return!1}var a1=Error(r(461)),$n=!1;function Rr(o,u,d,m){u.child=o===null?oN(u,null,d,m):Nc(u,o.child,d,m)}function iL(o,u,d,m,C){d=d.render;var E=u.ref;if("ref"in m){var D={};for(var k in m)k!=="ref"&&(D[k]=m[k])}else D=m;return Dc(u),m=HT(o,u,d,D,E,C),k=KT(),o!==null&&!$n?(GT(o,u,C),nA(o,u,C)):(wt&&k&&BT(u),u.flags|=1,Rr(o,u,m,C),u.child)}function sL(o,u,d,m,C){if(o===null){var E=d.type;return typeof E=="function"&&!yT(E)&&E.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=E,aL(o,u,E,m,C)):(o=AC(d.type,null,m,u,u.mode,C),o.ref=u.ref,o.return=u,u.child=o)}if(E=o.child,!h1(o,C)){var D=E.memoizedProps;if(d=d.compare,d=d!==null?d:Bm,d(D,m)&&o.ref===u.ref)return nA(o,u,C)}return u.flags|=1,o=Wo(E,m),o.ref=u.ref,o.return=u,u.child=o}function aL(o,u,d,m,C){if(o!==null){var E=o.memoizedProps;if(Bm(E,m)&&o.ref===u.ref)if($n=!1,u.pendingProps=m=E,h1(o,C))(o.flags&131072)!==0&&($n=!0);else return u.lanes=o.lanes,nA(o,u,C)}return o1(o,u,d,m,C)}function oL(o,u,d,m){var C=m.children,E=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,o!==null){for(m=u.child=o.child,C=0;m!==null;)C=C|m.lanes|m.childLanes,m=m.sibling;m=C&~E}else m=0,u.child=null;return AL(o,u,E,d,m)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&fC(u,E!==null?E.cachePool:null),E!==null?uN(u,E):NT(),cN(u);else return m=u.lanes=536870912,AL(o,u,E!==null?E.baseLanes|d:d,d,m)}else E!==null?(fC(u,E.cachePool),uN(u,E),Kl(),u.memoizedState=null):(o!==null&&fC(u,null),NT(),Kl());return Rr(o,u,C,d),u.child}function Nm(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function AL(o,u,d,m,C){var E=FT();return E=E===null?null:{parent:zn._currentValue,pool:E},u.memoizedState={baseLanes:d,cachePool:E},o!==null&&fC(u,null),NT(),cN(u),o!==null&&nh(o,u,m,!0),u.childLanes=C,null}function _C(o,u){return u=UC({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function lL(o,u,d){return Nc(u,o.child,null,d),o=_C(u,u.pendingProps),o.flags|=2,ts(u),u.memoizedState=null,o}function iJ(o,u,d){var m=u.pendingProps,C=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(wt){if(m.mode==="hidden")return o=_C(u,m),u.lanes=536870912,Nm(null,o);if(kT(u),(o=ln)?(o=C2(o,Vs),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Rl!==null?{id:so,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},d=qQ(o),d.return=u,u.child=d,Mr=u,ln=null)):o=null,o===null)throw Ql(u);return u.lanes=536870912,null}return _C(u,m)}var E=o.memoizedState;if(E!==null){var D=E.dehydrated;if(kT(u),C)if(u.flags&256)u.flags&=-257,u=lL(o,u,d);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if($n||nh(o,u,d,!1),C=(d&o.childLanes)!==0,$n||C){if(m=Jt,m!==null&&(D=ZP(m,d),D!==0&&D!==E.retryLane))throw E.retryLane=D,Ic(o,D),Pi(m,o,D),a1;kC(),u=lL(o,u,d)}else o=E.treeContext,ln=qs(D.nextSibling),Mr=u,wt=!0,Pl=null,Vs=!1,o!==null&&XQ(u,o),u=_C(u,m),u.flags|=4096;return u}return o=Wo(o.child,{mode:m.mode,children:m.children}),o.ref=u.ref,u.child=o,o.return=u,o}function IC(o,u){var d=u.ref;if(d===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(u.flags|=4194816)}}function o1(o,u,d,m,C){return Dc(u),d=HT(o,u,d,m,void 0,C),m=KT(),o!==null&&!$n?(GT(o,u,C),nA(o,u,C)):(wt&&m&&BT(u),u.flags|=1,Rr(o,u,d,C),u.child)}function uL(o,u,d,m,C,E){return Dc(u),u.updateQueue=null,d=dN(u,m,d,C),fN(o),m=KT(),o!==null&&!$n?(GT(o,u,E),nA(o,u,E)):(wt&&m&&BT(u),u.flags|=1,Rr(o,u,d,E),u.child)}function cL(o,u,d,m,C){if(Dc(u),u.stateNode===null){var E=Jd,D=d.contextType;typeof D=="object"&&D!==null&&(E=Dr(D)),E=new d(m,E),u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=i1,u.stateNode=E,E._reactInternals=u,E=u.stateNode,E.props=m,E.state=u.memoizedState,E.refs={},DT(u),D=d.contextType,E.context=typeof D=="object"&&D!==null?Dr(D):Jd,E.state=u.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(r1(u,d,D,m),E.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(D=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),D!==E.state&&i1.enqueueReplaceState(E,E.state,null),Mm(u,m,E,C),Fm(),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(o===null){E=u.stateNode;var k=u.memoizedProps,q=kc(d,k);E.props=q;var ee=E.context,Ae=d.contextType;D=Jd,typeof Ae=="object"&&Ae!==null&&(D=Dr(Ae));var de=d.getDerivedStateFromProps;Ae=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function",k=u.pendingProps!==k,Ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k||ee!==D)&&jN(u,E,m,D),Ll=!1;var te=u.memoizedState;E.state=te,Mm(u,m,E,C),Fm(),ee=u.memoizedState,k||te!==ee||Ll?(typeof de=="function"&&(r1(u,d,de,m),ee=u.memoizedState),(q=Ll||WN(u,d,q,m,te,ee,D))?(Ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(u.flags|=4194308)):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=ee),E.props=m,E.state=ee,E.context=D,m=q):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{E=u.stateNode,RT(o,u),D=u.memoizedProps,Ae=kc(d,D),E.props=Ae,de=u.pendingProps,te=E.context,ee=d.contextType,q=Jd,typeof ee=="object"&&ee!==null&&(q=Dr(ee)),k=d.getDerivedStateFromProps,(ee=typeof k=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==de||te!==q)&&jN(u,E,m,q),Ll=!1,te=u.memoizedState,E.state=te,Mm(u,m,E,C),Fm();var ie=u.memoizedState;D!==de||te!==ie||Ll||o!==null&&o.dependencies!==null&&uC(o.dependencies)?(typeof k=="function"&&(r1(u,d,k,m),ie=u.memoizedState),(Ae=Ll||WN(u,d,Ae,m,te,ie,q)||o!==null&&o.dependencies!==null&&uC(o.dependencies))?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,ie,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,ie,q)),typeof E.componentDidUpdate=="function"&&(u.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&te===o.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&te===o.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=ie),E.props=m,E.state=ie,E.context=q,m=Ae):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&te===o.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&te===o.memoizedState||(u.flags|=1024),m=!1)}return E=m,IC(o,u),m=(u.flags&128)!==0,E||m?(E=u.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:E.render(),u.flags|=1,o!==null&&m?(u.child=Nc(u,o.child,null,C),u.child=Nc(u,null,d,C)):Rr(o,u,d,C),u.memoizedState=E.state,o=u.child):o=nA(o,u,C),o}function fL(o,u,d,m){return Fc(),u.flags|=256,Rr(o,u,d,m),u.child}var A1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l1(o){return{baseLanes:o,cachePool:tN()}}function u1(o,u,d){return o=o!==null?o.childLanes&~d:0,u&&(o|=rs),o}function dL(o,u,d){var m=u.pendingProps,C=!1,E=(u.flags&128)!==0,D;if((D=E)||(D=o!==null&&o.memoizedState===null?!1:(Pn.current&2)!==0),D&&(C=!0,u.flags&=-129),D=(u.flags&32)!==0,u.flags&=-33,o===null){if(wt){if(C?Hl(u):Kl(),(o=ln)?(o=C2(o,Vs),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Rl!==null?{id:so,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},d=qQ(o),d.return=u,u.child=d,Mr=u,ln=null)):o=null,o===null)throw Ql(u);return q1(o)?u.lanes=32:u.lanes=536870912,null}var k=m.children;return m=m.fallback,C?(Kl(),C=u.mode,k=UC({mode:"hidden",children:k},C),m=Uc(m,C,d,null),k.return=u,m.return=u,k.sibling=m,u.child=k,m=u.child,m.memoizedState=l1(d),m.childLanes=u1(o,D,d),u.memoizedState=A1,Nm(null,m)):(Hl(u),c1(u,k))}var q=o.memoizedState;if(q!==null&&(k=q.dehydrated,k!==null)){if(E)u.flags&256?(Hl(u),u.flags&=-257,u=f1(o,u,d)):u.memoizedState!==null?(Kl(),u.child=o.child,u.flags|=128,u=null):(Kl(),k=m.fallback,C=u.mode,m=UC({mode:"visible",children:m.children},C),k=Uc(k,C,d,null),k.flags|=2,m.return=u,k.return=u,m.sibling=k,u.child=m,Nc(u,o.child,null,d),m=u.child,m.memoizedState=l1(d),m.childLanes=u1(o,D,d),u.memoizedState=A1,u=Nm(null,m));else if(Hl(u),q1(k)){if(D=k.nextSibling&&k.nextSibling.dataset,D)var ee=D.dgst;D=ee,m=Error(r(419)),m.stack="",m.digest=D,Sm({value:m,source:null,stack:null}),u=f1(o,u,d)}else if($n||nh(o,u,d,!1),D=(d&o.childLanes)!==0,$n||D){if(D=Jt,D!==null&&(m=ZP(D,d),m!==0&&m!==q.retryLane))throw q.retryLane=m,Ic(o,m),Pi(D,o,m),a1;z1(k)||kC(),u=f1(o,u,d)}else z1(k)?(u.flags|=192,u.child=o.child,u=null):(o=q.treeContext,ln=qs(k.nextSibling),Mr=u,wt=!0,Pl=null,Vs=!1,o!==null&&XQ(u,o),u=c1(u,m.children),u.flags|=4096);return u}return C?(Kl(),k=m.fallback,C=u.mode,q=o.child,ee=q.sibling,m=Wo(q,{mode:"hidden",children:m.children}),m.subtreeFlags=q.subtreeFlags&65011712,ee!==null?k=Wo(ee,k):(k=Uc(k,C,d,null),k.flags|=2),k.return=u,m.return=u,m.sibling=k,u.child=m,Nm(null,m),m=u.child,k=o.child.memoizedState,k===null?k=l1(d):(C=k.cachePool,C!==null?(q=zn._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=tN(),k={baseLanes:k.baseLanes|d,cachePool:C}),m.memoizedState=k,m.childLanes=u1(o,D,d),u.memoizedState=A1,Nm(o.child,m)):(Hl(u),d=o.child,o=d.sibling,d=Wo(d,{mode:"visible",children:m.children}),d.return=u,d.sibling=null,o!==null&&(D=u.deletions,D===null?(u.deletions=[o],u.flags|=16):D.push(o)),u.child=d,u.memoizedState=null,d)}function c1(o,u){return u=UC({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function UC(o,u){return o=Zi(22,o,null,u),o.lanes=0,o}function f1(o,u,d){return Nc(u,o.child,null,d),o=c1(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function hL(o,u,d){o.lanes|=u;var m=o.alternate;m!==null&&(m.lanes|=u),TT(o.return,u,d)}function d1(o,u,d,m,C,E){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:C,treeForkCount:E}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=m,D.tail=d,D.tailMode=C,D.treeForkCount=E)}function pL(o,u,d){var m=u.pendingProps,C=m.revealOrder,E=m.tail;m=m.children;var D=Pn.current,k=(D&2)!==0;if(k?(D=D&1|2,u.flags|=128):D&=1,ae(Pn,D),Rr(o,u,m,d),m=wt?Em:0,!k&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hL(o,d,u);else if(o.tag===19)hL(o,d,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(C){case"forwards":for(d=u.child,C=null;d!==null;)o=d.alternate,o!==null&&vC(o)===null&&(C=d),d=d.sibling;d=C,d===null?(C=u.child,u.child=null):(C=d.sibling,d.sibling=null),d1(u,!1,C,d,E,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,C=u.child,u.child=null;C!==null;){if(o=C.alternate,o!==null&&vC(o)===null){u.child=C;break}o=C.sibling,C.sibling=d,d=C,C=o}d1(u,!0,d,null,E,m);break;case"together":d1(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function nA(o,u,d){if(o!==null&&(u.dependencies=o.dependencies),zl|=u.lanes,(d&u.childLanes)===0)if(o!==null){if(nh(o,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,d=Wo(o,o.pendingProps),u.child=d,d.return=u;o.sibling!==null;)o=o.sibling,d=d.sibling=Wo(o,o.pendingProps),d.return=u;d.sibling=null}return u.child}function h1(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&uC(o)))}function sJ(o,u,d){switch(u.tag){case 3:rt(u,u.stateNode.containerInfo),Nl(u,zn,o.memoizedState.cache),Fc();break;case 27:case 5:be(u);break;case 4:rt(u,u.stateNode.containerInfo);break;case 10:Nl(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,kT(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(Hl(u),u.flags|=128,null):(d&u.child.childLanes)!==0?dL(o,u,d):(Hl(u),o=nA(o,u,d),o!==null?o.sibling:null);Hl(u);break;case 19:var C=(o.flags&128)!==0;if(m=(d&u.childLanes)!==0,m||(nh(o,u,d,!1),m=(d&u.childLanes)!==0),C){if(m)return pL(o,u,d);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),ae(Pn,Pn.current),m)break;return null;case 22:return u.lanes=0,oL(o,u,d,u.pendingProps);case 24:Nl(u,zn,o.memoizedState.cache)}return nA(o,u,d)}function gL(o,u,d){if(o!==null)if(o.memoizedProps!==u.pendingProps)$n=!0;else{if(!h1(o,d)&&(u.flags&128)===0)return $n=!1,sJ(o,u,d);$n=(o.flags&131072)!==0}else $n=!1,wt&&(u.flags&1048576)!==0&&YQ(u,Em,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(o=Pc(u.elementType),u.type=o,typeof o=="function")yT(o)?(m=kc(o,m),u.tag=1,u=cL(null,u,o,m,d)):(u.tag=0,u=o1(null,u,o,m,d));else{if(o!=null){var C=o.$$typeof;if(C===M){u.tag=11,u=iL(null,u,o,m,d);break e}else if(C===L){u.tag=14,u=sL(null,u,o,m,d);break e}}throw u=ne(o)||o,Error(r(306,u,""))}}return u;case 0:return o1(o,u,u.type,u.pendingProps,d);case 1:return m=u.type,C=kc(m,u.pendingProps),cL(o,u,m,C,d);case 3:e:{if(rt(u,u.stateNode.containerInfo),o===null)throw Error(r(387));m=u.pendingProps;var E=u.memoizedState;C=E.element,RT(o,u),Mm(u,m,null,d);var D=u.memoizedState;if(m=D.cache,Nl(u,zn,m),m!==E.cache&&_T(u,[zn],d,!0),Fm(),m=D.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:D.cache},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){u=fL(o,u,m,d);break e}else if(m!==C){C=Hs(Error(r(424)),u),Sm(C),u=fL(o,u,m,d);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ln=qs(o.firstChild),Mr=u,wt=!0,Pl=null,Vs=!0,d=oN(u,null,m,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Fc(),m===C){u=nA(o,u,d);break e}Rr(o,u,m,d)}u=u.child}return u;case 26:return IC(o,u),o===null?(d=T2(u.type,null,u.pendingProps,null))?u.memoizedState=d:wt||(d=u.type,o=u.pendingProps,m=qC(ve.current).createElement(d),m[Fr]=u,m[Ii]=o,Pr(m,d,o),hr(m),u.stateNode=m):u.memoizedState=T2(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return be(u),o===null&&wt&&(m=u.stateNode=E2(u.type,u.pendingProps,ve.current),Mr=u,Vs=!0,C=ln,Wl(u.type)?($1=C,ln=qs(m.firstChild)):ln=C),Rr(o,u,u.pendingProps.children,d),IC(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&wt&&((C=m=ln)&&(m=PJ(m,u.type,u.pendingProps,Vs),m!==null?(u.stateNode=m,Mr=u,ln=qs(m.firstChild),Vs=!1,C=!0):C=!1),C||Ql(u)),be(u),C=u.type,E=u.pendingProps,D=o!==null?o.memoizedProps:null,m=E.children,K1(C,E)?m=null:D!==null&&K1(C,D)&&(u.flags|=32),u.memoizedState!==null&&(C=HT(o,u,Wj,null,null,d),Jm._currentValue=C),IC(o,u),Rr(o,u,m,d),u.child;case 6:return o===null&&wt&&((o=d=ln)&&(d=QJ(d,u.pendingProps,Vs),d!==null?(u.stateNode=d,Mr=u,ln=null,o=!0):o=!1),o||Ql(u)),null;case 13:return dL(o,u,d);case 4:return rt(u,u.stateNode.containerInfo),m=u.pendingProps,o===null?u.child=Nc(u,null,m,d):Rr(o,u,m,d),u.child;case 11:return iL(o,u,u.type,u.pendingProps,d);case 7:return Rr(o,u,u.pendingProps,d),u.child;case 8:return Rr(o,u,u.pendingProps.children,d),u.child;case 12:return Rr(o,u,u.pendingProps.children,d),u.child;case 10:return m=u.pendingProps,Nl(u,u.type,m.value),Rr(o,u,m.children,d),u.child;case 9:return C=u.type._context,m=u.pendingProps.children,Dc(u),C=Dr(C),m=m(C),u.flags|=1,Rr(o,u,m,d),u.child;case 14:return sL(o,u,u.type,u.pendingProps,d);case 15:return aL(o,u,u.type,u.pendingProps,d);case 19:return pL(o,u,d);case 31:return iJ(o,u,d);case 22:return oL(o,u,d,u.pendingProps);case 24:return Dc(u),m=Dr(zn),o===null?(C=FT(),C===null&&(C=Jt,E=IT(),C.pooledCache=E,E.refCount++,E!==null&&(C.pooledCacheLanes|=d),C=E),u.memoizedState={parent:m,cache:C},DT(u),Nl(u,zn,C)):((o.lanes&d)!==0&&(RT(o,u),Mm(u,null,null,d),Fm()),C=o.memoizedState,E=u.memoizedState,C.parent!==m?(C={parent:m,cache:m},u.memoizedState=C,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=C),Nl(u,zn,m)):(m=E.cache,Nl(u,zn,m),m!==C.cache&&_T(u,[zn],d,!0))),Rr(o,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function rA(o){o.flags|=4}function p1(o,u,d,m,C){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(C&335544128)===C)if(o.stateNode.complete)o.flags|=8192;else if(GL())o.flags|=8192;else throw Qc=hC,MT}else o.flags&=-16777217}function mL(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!M2(u))if(GL())o.flags|=8192;else throw Qc=hC,MT}function FC(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?fm():536870912,o.lanes|=u,hh|=u)}function Lm(o,u){if(!wt)switch(o.tailMode){case"hidden":u=o.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function un(o){var u=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(u)for(var C=o.child;C!==null;)d|=C.lanes|C.childLanes,m|=C.subtreeFlags&65011712,m|=C.flags&65011712,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)d|=C.lanes|C.childLanes,m|=C.subtreeFlags,m|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=m,o.childLanes=d,u}function aJ(o,u,d){var m=u.pendingProps;switch(bT(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(u),null;case 1:return un(u),null;case 3:return d=u.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Zo(zn),re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(th(u)?rA(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ST())),un(u),null;case 26:var C=u.type,E=u.memoizedState;return o===null?(rA(u),E!==null?(un(u),mL(u,E)):(un(u),p1(u,C,null,m,d))):E?E!==o.memoizedState?(rA(u),un(u),mL(u,E)):(un(u),u.flags&=-16777217):(o=o.memoizedProps,o!==m&&rA(u),un(u),p1(u,C,o,m,d)),null;case 27:if(ke(u),d=ve.current,C=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==m&&rA(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return un(u),null}o=ue.current,th(u)?WQ(u):(o=E2(C,m,d),u.stateNode=o,rA(u))}return un(u),null;case 5:if(ke(u),C=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==m&&rA(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return un(u),null}if(E=ue.current,th(u))WQ(u);else{var D=qC(ve.current);switch(E){case 1:E=D.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:E=D.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":E=D.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":E=D.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":E=D.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof m.is=="string"?D.createElement("select",{is:m.is}):D.createElement("select"),m.multiple?E.multiple=!0:m.size&&(E.size=m.size);break;default:E=typeof m.is=="string"?D.createElement(C,{is:m.is}):D.createElement(C)}}E[Fr]=u,E[Ii]=m;e:for(D=u.child;D!==null;){if(D.tag===5||D.tag===6)E.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===u)break e;for(;D.sibling===null;){if(D.return===null||D.return===u)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}u.stateNode=E;e:switch(Pr(E,C,m),C){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&rA(u)}}return un(u),p1(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,d),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==m&&rA(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(o=ve.current,th(u)){if(o=u.stateNode,d=u.memoizedProps,m=null,C=Mr,C!==null)switch(C.tag){case 27:case 5:m=C.memoizedProps}o[Fr]=u,o=!!(o.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||d2(o.nodeValue,d)),o||Ql(u,!0)}else o=qC(o).createTextNode(m),o[Fr]=u,u.stateNode=o}return un(u),null;case 31:if(d=u.memoizedState,o===null||o.memoizedState!==null){if(m=th(u),d!==null){if(o===null){if(!m)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Fr]=u}else Fc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;un(u),o=!1}else d=ST(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return u.flags&256?(ts(u),u):(ts(u),null);if((u.flags&128)!==0)throw Error(r(558))}return un(u),null;case 13:if(m=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(C=th(u),m!==null&&m.dehydrated!==null){if(o===null){if(!C)throw Error(r(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[Fr]=u}else Fc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;un(u),C=!1}else C=ST(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=C),C=!0;if(!C)return u.flags&256?(ts(u),u):(ts(u),null)}return ts(u),(u.flags&128)!==0?(u.lanes=d,u):(d=m!==null,o=o!==null&&o.memoizedState!==null,d&&(m=u.child,C=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(C=m.alternate.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==C&&(m.flags|=2048)),d!==o&&d&&(u.child.flags|=8192),FC(u,u.updateQueue),un(u),null);case 4:return re(),o===null&&N1(u.stateNode.containerInfo),un(u),null;case 10:return Zo(u.type),un(u),null;case 19:if(W(Pn),m=u.memoizedState,m===null)return un(u),null;if(C=(u.flags&128)!==0,E=m.rendering,E===null)if(C)Lm(m,!1);else{if(In!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(E=vC(o),E!==null){for(u.flags|=128,Lm(m,!1),o=E.updateQueue,u.updateQueue=o,FC(u,o),u.subtreeFlags=0,o=d,d=u.child;d!==null;)zQ(d,o),d=d.sibling;return ae(Pn,Pn.current&1|2),wt&&jo(u,m.treeForkCount),u.child}o=o.sibling}m.tail!==null&&Be()>QC&&(u.flags|=128,C=!0,Lm(m,!1),u.lanes=4194304)}else{if(!C)if(o=vC(E),o!==null){if(u.flags|=128,C=!0,o=o.updateQueue,u.updateQueue=o,FC(u,o),Lm(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!wt)return un(u),null}else 2*Be()-m.renderingStartTime>QC&&d!==536870912&&(u.flags|=128,C=!0,Lm(m,!1),u.lanes=4194304);m.isBackwards?(E.sibling=u.child,u.child=E):(o=m.last,o!==null?o.sibling=E:u.child=E,m.last=E)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Be(),o.sibling=null,d=Pn.current,ae(Pn,C?d&1|2:d&1),wt&&jo(u,m.treeForkCount),o):(un(u),null);case 22:case 23:return ts(u),LT(),m=u.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(d&536870912)!==0&&(u.flags&128)===0&&(un(u),u.subtreeFlags&6&&(u.flags|=8192)):un(u),d=u.updateQueue,d!==null&&FC(u,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048),o!==null&&W(Rc),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),Zo(zn),un(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function oJ(o,u){switch(bT(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Zo(zn),re(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return ke(u),null;case 31:if(u.memoizedState!==null){if(ts(u),u.alternate===null)throw Error(r(340));Fc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(ts(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Fc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return W(Pn),null;case 4:return re(),null;case 10:return Zo(u.type),null;case 22:case 23:return ts(u),LT(),o!==null&&W(Rc),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Zo(zn),null;case 25:return null;default:return null}}function vL(o,u){switch(bT(u),u.tag){case 3:Zo(zn),re();break;case 26:case 27:case 5:ke(u);break;case 4:re();break;case 31:u.memoizedState!==null&&ts(u);break;case 13:ts(u);break;case 19:W(Pn);break;case 10:Zo(u.type);break;case 22:case 23:ts(u),LT(),o!==null&&W(Rc);break;case 24:Zo(zn)}}function km(o,u){try{var d=u.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var C=m.next;d=C;do{if((d.tag&o)===o){m=void 0;var E=d.create,D=d.inst;m=E(),D.destroy=m}d=d.next}while(d!==C)}}catch(k){Pt(u,u.return,k)}}function Gl(o,u,d){try{var m=u.updateQueue,C=m!==null?m.lastEffect:null;if(C!==null){var E=C.next;m=E;do{if((m.tag&o)===o){var D=m.inst,k=D.destroy;if(k!==void 0){D.destroy=void 0,C=u;var q=d,ee=k;try{ee()}catch(Ae){Pt(C,q,Ae)}}}m=m.next}while(m!==E)}}catch(Ae){Pt(u,u.return,Ae)}}function yL(o){var u=o.updateQueue;if(u!==null){var d=o.stateNode;try{lN(u,d)}catch(m){Pt(o,o.return,m)}}}function wL(o,u,d){d.props=kc(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(m){Pt(o,u,m)}}function Om(o,u){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof d=="function"?o.refCleanup=d(m):d.current=m}}catch(C){Pt(o,u,C)}}function oo(o,u){var d=o.ref,m=o.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(C){Pt(o,u,C)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(C){Pt(o,u,C)}else d.current=null}function CL(o){var u=o.type,d=o.memoizedProps,m=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(C){Pt(o,o.return,C)}}function g1(o,u,d){try{var m=o.stateNode;IJ(m,o.type,d,u),m[Ii]=u}catch(C){Pt(o,o.return,C)}}function BL(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Wl(o.type)||o.tag===4}function m1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||BL(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Wl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function v1(o,u,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(o),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Yo));else if(m!==4&&(m===27&&Wl(o.type)&&(d=o.stateNode,u=null),o=o.child,o!==null))for(v1(o,u,d),o=o.sibling;o!==null;)v1(o,u,d),o=o.sibling}function MC(o,u,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?d.insertBefore(o,u):d.appendChild(o);else if(m!==4&&(m===27&&Wl(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(MC(o,u,d),o=o.sibling;o!==null;)MC(o,u,d),o=o.sibling}function bL(o){var u=o.stateNode,d=o.memoizedProps;try{for(var m=o.type,C=u.attributes;C.length;)u.removeAttributeNode(C[0]);Pr(u,m,d),u[Fr]=o,u[Ii]=d}catch(E){Pt(o,o.return,E)}}var iA=!1,Yn=!1,y1=!1,EL=typeof WeakSet=="function"?WeakSet:Set,pr=null;function AJ(o,u){if(o=o.containerInfo,O1=ZC,o=QQ(o),fT(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var C=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var D=0,k=-1,q=-1,ee=0,Ae=0,de=o,te=null;t:for(;;){for(var ie;de!==d||C!==0&&de.nodeType!==3||(k=D+C),de!==E||m!==0&&de.nodeType!==3||(q=D+m),de.nodeType===3&&(D+=de.nodeValue.length),(ie=de.firstChild)!==null;)te=de,de=ie;for(;;){if(de===o)break t;if(te===d&&++ee===C&&(k=D),te===E&&++Ae===m&&(q=D),(ie=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ie}d=k===-1||q===-1?null:{start:k,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(H1={focusedElem:o,selectionRange:d},ZC=!1,pr=u;pr!==null;)if(u=pr,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,pr=o;else for(;pr!==null;){switch(u=pr,E=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)C=o[d],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,d=u,C=E.memoizedProps,E=E.memoizedState,m=d.stateNode;try{var Pe=kc(d.type,C);o=m.getSnapshotBeforeUpdate(Pe,E),m.__reactInternalSnapshotBeforeUpdate=o}catch(ze){Pt(d,d.return,ze)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,d=o.nodeType,d===9)V1(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":V1(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,pr=o;break}pr=u.return}}function SL(o,u,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:aA(o,d),m&4&&km(5,d);break;case 1:if(aA(o,d),m&4)if(o=d.stateNode,u===null)try{o.componentDidMount()}catch(D){Pt(d,d.return,D)}else{var C=kc(d.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(C,u,o.__reactInternalSnapshotBeforeUpdate)}catch(D){Pt(d,d.return,D)}}m&64&&yL(d),m&512&&Om(d,d.return);break;case 3:if(aA(o,d),m&64&&(o=d.updateQueue,o!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{lN(o,u)}catch(D){Pt(d,d.return,D)}}break;case 27:u===null&&m&4&&bL(d);case 26:case 5:aA(o,d),u===null&&m&4&&CL(d),m&512&&Om(d,d.return);break;case 12:aA(o,d);break;case 31:aA(o,d),m&4&&_L(o,d);break;case 13:aA(o,d),m&4&&IL(o,d),m&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=mJ.bind(null,d),NJ(o,d))));break;case 22:if(m=d.memoizedState!==null||iA,!m){u=u!==null&&u.memoizedState!==null||Yn,C=iA;var E=Yn;iA=m,(Yn=u)&&!E?oA(o,d,(d.subtreeFlags&8772)!==0):aA(o,d),iA=C,Yn=E}break;case 30:break;default:aA(o,d)}}function xL(o){var u=o.alternate;u!==null&&(o.alternate=null,xL(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Xx(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var hn=null,Fi=!1;function sA(o,u,d){for(d=d.child;d!==null;)TL(o,u,d),d=d.sibling}function TL(o,u,d){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(ro,d)}catch{}switch(d.tag){case 26:Yn||oo(d,u),sA(o,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Yn||oo(d,u);var m=hn,C=Fi;Wl(d.type)&&(hn=d.stateNode,Fi=!1),sA(o,u,d),Xm(d.stateNode),hn=m,Fi=C;break;case 5:Yn||oo(d,u);case 6:if(m=hn,C=Fi,hn=null,sA(o,u,d),hn=m,Fi=C,hn!==null)if(Fi)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(d.stateNode)}catch(E){Pt(d,u,E)}else try{hn.removeChild(d.stateNode)}catch(E){Pt(d,u,E)}break;case 18:hn!==null&&(Fi?(o=hn,y2(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),Bh(o)):y2(hn,d.stateNode));break;case 4:m=hn,C=Fi,hn=d.stateNode.containerInfo,Fi=!0,sA(o,u,d),hn=m,Fi=C;break;case 0:case 11:case 14:case 15:Gl(2,d,u),Yn||Gl(4,d,u),sA(o,u,d);break;case 1:Yn||(oo(d,u),m=d.stateNode,typeof m.componentWillUnmount=="function"&&wL(d,u,m)),sA(o,u,d);break;case 21:sA(o,u,d);break;case 22:Yn=(m=Yn)||d.memoizedState!==null,sA(o,u,d),Yn=m;break;default:sA(o,u,d)}}function _L(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Bh(o)}catch(d){Pt(u,u.return,d)}}}function IL(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Bh(o)}catch(d){Pt(u,u.return,d)}}function lJ(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new EL),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new EL),u;default:throw Error(r(435,o.tag))}}function DC(o,u){var d=lJ(o);u.forEach(function(m){if(!d.has(m)){d.add(m);var C=vJ.bind(null,o,m);m.then(C,C)}})}function Mi(o,u){var d=u.deletions;if(d!==null)for(var m=0;m<d.length;m++){var C=d[m],E=o,D=u,k=D;e:for(;k!==null;){switch(k.tag){case 27:if(Wl(k.type)){hn=k.stateNode,Fi=!1;break e}break;case 5:hn=k.stateNode,Fi=!1;break e;case 3:case 4:hn=k.stateNode.containerInfo,Fi=!0;break e}k=k.return}if(hn===null)throw Error(r(160));TL(E,D,C),hn=null,Fi=!1,E=C.alternate,E!==null&&(E.return=null),C.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)UL(u,o),u=u.sibling}var xa=null;function UL(o,u){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Mi(u,o),Di(o),m&4&&(Gl(3,o,o.return),km(3,o),Gl(5,o,o.return));break;case 1:Mi(u,o),Di(o),m&512&&(Yn||d===null||oo(d,d.return)),m&64&&iA&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var C=xa;if(Mi(u,o),Di(o),m&512&&(Yn||d===null||oo(d,d.return)),m&4){var E=d!==null?d.memoizedState:null;if(m=o.memoizedState,d===null)if(m===null)if(o.stateNode===null){e:{m=o.type,d=o.memoizedProps,C=C.ownerDocument||C;t:switch(m){case"title":E=C.getElementsByTagName("title")[0],(!E||E[dm]||E[Fr]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=C.createElement(m),C.head.insertBefore(E,C.querySelector("head > title"))),Pr(E,m,d),E[Fr]=o,hr(E),m=E;break e;case"link":var D=U2("link","href",C).get(m+(d.href||""));if(D){for(var k=0;k<D.length;k++)if(E=D[k],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(k,1);break t}}E=C.createElement(m),Pr(E,m,d),C.head.appendChild(E);break;case"meta":if(D=U2("meta","content",C).get(m+(d.content||""))){for(k=0;k<D.length;k++)if(E=D[k],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(k,1);break t}}E=C.createElement(m),Pr(E,m,d),C.head.appendChild(E);break;default:throw Error(r(468,m))}E[Fr]=o,hr(E),m=E}o.stateNode=m}else F2(C,o.type,o.stateNode);else o.stateNode=I2(C,m,o.memoizedProps);else E!==m?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,m===null?F2(C,o.type,o.stateNode):I2(C,m,o.memoizedProps)):m===null&&o.stateNode!==null&&g1(o,o.memoizedProps,d.memoizedProps)}break;case 27:Mi(u,o),Di(o),m&512&&(Yn||d===null||oo(d,d.return)),d!==null&&m&4&&g1(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Mi(u,o),Di(o),m&512&&(Yn||d===null||oo(d,d.return)),o.flags&32){C=o.stateNode;try{zd(C,"")}catch(Pe){Pt(o,o.return,Pe)}}m&4&&o.stateNode!=null&&(C=o.memoizedProps,g1(o,C,d!==null?d.memoizedProps:C)),m&1024&&(y1=!0);break;case 6:if(Mi(u,o),Di(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,d=o.stateNode;try{d.nodeValue=m}catch(Pe){Pt(o,o.return,Pe)}}break;case 3:if(XC=null,C=xa,xa=$C(u.containerInfo),Mi(u,o),xa=C,Di(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Bh(u.containerInfo)}catch(Pe){Pt(o,o.return,Pe)}y1&&(y1=!1,FL(o));break;case 4:m=xa,xa=$C(o.stateNode.containerInfo),Mi(u,o),Di(o),xa=m;break;case 12:Mi(u,o),Di(o);break;case 31:Mi(u,o),Di(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,DC(o,m)));break;case 13:Mi(u,o),Di(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(PC=Be()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,DC(o,m)));break;case 22:C=o.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,ee=iA,Ae=Yn;if(iA=ee||C,Yn=Ae||q,Mi(u,o),Yn=Ae,iA=ee,Di(o),m&8192)e:for(u=o.stateNode,u._visibility=C?u._visibility&-2:u._visibility|1,C&&(d===null||q||iA||Yn||Oc(o)),d=null,u=o;;){if(u.tag===5||u.tag===26){if(d===null){q=d=u;try{if(E=q.stateNode,C)D=E.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{k=q.stateNode;var de=q.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Pe){Pt(q,q.return,Pe)}}}else if(u.tag===6){if(d===null){q=u;try{q.stateNode.nodeValue=C?"":q.memoizedProps}catch(Pe){Pt(q,q.return,Pe)}}}else if(u.tag===18){if(d===null){q=u;try{var ie=q.stateNode;C?w2(ie,!0):w2(q.stateNode,!1)}catch(Pe){Pt(q,q.return,Pe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=o.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,DC(o,d))));break;case 19:Mi(u,o),Di(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,DC(o,m)));break;case 30:break;case 21:break;default:Mi(u,o),Di(o)}}function Di(o){var u=o.flags;if(u&2){try{for(var d,m=o.return;m!==null;){if(BL(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var C=d.stateNode,E=m1(o);MC(o,E,C);break;case 5:var D=d.stateNode;d.flags&32&&(zd(D,""),d.flags&=-33);var k=m1(o);MC(o,k,D);break;case 3:case 4:var q=d.stateNode.containerInfo,ee=m1(o);v1(o,ee,q);break;default:throw Error(r(161))}}catch(Ae){Pt(o,o.return,Ae)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function FL(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;FL(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function aA(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)SL(o,u.alternate,u),u=u.sibling}function Oc(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Gl(4,u,u.return),Oc(u);break;case 1:oo(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&wL(u,u.return,d),Oc(u);break;case 27:Xm(u.stateNode);case 26:case 5:oo(u,u.return),Oc(u);break;case 22:u.memoizedState===null&&Oc(u);break;case 30:Oc(u);break;default:Oc(u)}o=o.sibling}}function oA(o,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,C=o,E=u,D=E.flags;switch(E.tag){case 0:case 11:case 15:oA(C,E,d),km(4,E);break;case 1:if(oA(C,E,d),m=E,C=m.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ee){Pt(m,m.return,ee)}if(m=E,C=m.updateQueue,C!==null){var k=m.stateNode;try{var q=C.shared.hiddenCallbacks;if(q!==null)for(C.shared.hiddenCallbacks=null,C=0;C<q.length;C++)AN(q[C],k)}catch(ee){Pt(m,m.return,ee)}}d&&D&64&&yL(E),Om(E,E.return);break;case 27:bL(E);case 26:case 5:oA(C,E,d),d&&m===null&&D&4&&CL(E),Om(E,E.return);break;case 12:oA(C,E,d);break;case 31:oA(C,E,d),d&&D&4&&_L(C,E);break;case 13:oA(C,E,d),d&&D&4&&IL(C,E);break;case 22:E.memoizedState===null&&oA(C,E,d),Om(E,E.return);break;case 30:break;default:oA(C,E,d)}u=u.sibling}}function w1(o,u){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&xm(d))}function C1(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&xm(o))}function Ta(o,u,d,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)ML(o,u,d,m),u=u.sibling}function ML(o,u,d,m){var C=u.flags;switch(u.tag){case 0:case 11:case 15:Ta(o,u,d,m),C&2048&&km(9,u);break;case 1:Ta(o,u,d,m);break;case 3:Ta(o,u,d,m),C&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&xm(o)));break;case 12:if(C&2048){Ta(o,u,d,m),o=u.stateNode;try{var E=u.memoizedProps,D=E.id,k=E.onPostCommit;typeof k=="function"&&k(D,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(q){Pt(u,u.return,q)}}else Ta(o,u,d,m);break;case 31:Ta(o,u,d,m);break;case 13:Ta(o,u,d,m);break;case 23:break;case 22:E=u.stateNode,D=u.alternate,u.memoizedState!==null?E._visibility&2?Ta(o,u,d,m):Hm(o,u):E._visibility&2?Ta(o,u,d,m):(E._visibility|=2,ch(o,u,d,m,(u.subtreeFlags&10256)!==0||!1)),C&2048&&w1(D,u);break;case 24:Ta(o,u,d,m),C&2048&&C1(u.alternate,u);break;default:Ta(o,u,d,m)}}function ch(o,u,d,m,C){for(C=C&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var E=o,D=u,k=d,q=m,ee=D.flags;switch(D.tag){case 0:case 11:case 15:ch(E,D,k,q,C),km(8,D);break;case 23:break;case 22:var Ae=D.stateNode;D.memoizedState!==null?Ae._visibility&2?ch(E,D,k,q,C):Hm(E,D):(Ae._visibility|=2,ch(E,D,k,q,C)),C&&ee&2048&&w1(D.alternate,D);break;case 24:ch(E,D,k,q,C),C&&ee&2048&&C1(D.alternate,D);break;default:ch(E,D,k,q,C)}u=u.sibling}}function Hm(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=o,m=u,C=m.flags;switch(m.tag){case 22:Hm(d,m),C&2048&&w1(m.alternate,m);break;case 24:Hm(d,m),C&2048&&C1(m.alternate,m);break;default:Hm(d,m)}u=u.sibling}}var Km=8192;function fh(o,u,d){if(o.subtreeFlags&Km)for(o=o.child;o!==null;)DL(o,u,d),o=o.sibling}function DL(o,u,d){switch(o.tag){case 26:fh(o,u,d),o.flags&Km&&o.memoizedState!==null&&XJ(d,xa,o.memoizedState,o.memoizedProps);break;case 5:fh(o,u,d);break;case 3:case 4:var m=xa;xa=$C(o.stateNode.containerInfo),fh(o,u,d),xa=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=Km,Km=16777216,fh(o,u,d),Km=m):fh(o,u,d));break;default:fh(o,u,d)}}function RL(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Gm(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];pr=m,QL(m,o)}RL(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)PL(o),o=o.sibling}function PL(o){switch(o.tag){case 0:case 11:case 15:Gm(o),o.flags&2048&&Gl(9,o,o.return);break;case 3:Gm(o);break;case 12:Gm(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,RC(o)):Gm(o);break;default:Gm(o)}}function RC(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];pr=m,QL(m,o)}RL(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Gl(8,u,u.return),RC(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,RC(u));break;default:RC(u)}o=o.sibling}}function QL(o,u){for(;pr!==null;){var d=pr;switch(d.tag){case 0:case 11:case 15:Gl(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:xm(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,pr=m;else e:for(d=o;pr!==null;){m=pr;var C=m.sibling,E=m.return;if(xL(m),m===d){pr=null;break e}if(C!==null){C.return=E,pr=C;break e}pr=E}}}var uJ={getCacheForType:function(o){var u=Dr(zn),d=u.data.get(o);return d===void 0&&(d=o(),u.data.set(o,d)),d},cacheSignal:function(){return Dr(zn).controller.signal}},cJ=typeof WeakMap=="function"?WeakMap:Map,It=0,Jt=null,ht=null,gt=0,Rt=0,ns=null,Vl=!1,dh=!1,B1=!1,AA=0,In=0,zl=0,Hc=0,b1=0,rs=0,hh=0,Vm=null,Ri=null,E1=!1,PC=0,NL=0,QC=1/0,NC=null,ql=null,tr=0,$l=null,ph=null,lA=0,S1=0,x1=null,LL=null,zm=0,T1=null;function is(){return(It&2)!==0&&gt!==0?gt&-gt:H.T!==null?D1():eQ()}function kL(){if(rs===0)if((gt&536870912)===0||wt){var o=Se;Se<<=1,(Se&3932160)===0&&(Se=262144),rs=o}else rs=536870912;return o=es.current,o!==null&&(o.flags|=32),rs}function Pi(o,u,d){(o===Jt&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)&&(gh(o,0),Yl(o,gt,rs,!1)),Ec(o,d),((It&2)===0||o!==Jt)&&(o===Jt&&((It&2)===0&&(Hc|=d),In===4&&Yl(o,gt,rs,!1)),Ao(o))}function OL(o,u,d){if((It&6)!==0)throw Error(r(327));var m=!d&&(u&127)===0&&(u&o.expiredLanes)===0||Bn(o,u),C=m?hJ(o,u):I1(o,u,!0),E=m;do{if(C===0){dh&&!m&&Yl(o,u,0,!1);break}else{if(d=o.current.alternate,E&&!fJ(d)){C=I1(o,u,!1),E=!1;continue}if(C===2){if(E=u,o.errorRecoveryDisabledLanes&E)var D=0;else D=o.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){u=D;e:{var k=o;C=Vm;var q=k.current.memoizedState.isDehydrated;if(q&&(gh(k,D).flags|=256),D=I1(k,D,!1),D!==2){if(B1&&!q){k.errorRecoveryDisabledLanes|=E,Hc|=E,C=4;break e}E=Ri,Ri=C,E!==null&&(Ri===null?Ri=E:Ri.push.apply(Ri,E))}C=D}if(E=!1,C!==2)continue}}if(C===1){gh(o,0),Yl(o,u,0,!0);break}e:{switch(m=o,E=C,E){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Yl(m,u,rs,!Vl);break e;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(C=PC+300-Be(),10<C)){if(Yl(m,u,rs,!Vl),je(m,0,!0)!==0)break e;lA=u,m.timeoutHandle=m2(HL.bind(null,m,d,Ri,NC,E1,u,rs,Hc,hh,Vl,E,"Throttled",-0,0),C);break e}HL(m,d,Ri,NC,E1,u,rs,Hc,hh,Vl,E,null,-0,0)}}break}while(!0);Ao(o)}function HL(o,u,d,m,C,E,D,k,q,ee,Ae,de,te,ie){if(o.timeoutHandle=-1,de=u.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yo},DL(u,E,de);var Pe=(E&62914560)===E?PC-Be():(E&4194048)===E?NL-Be():0;if(Pe=WJ(de,Pe),Pe!==null){lA=E,o.cancelPendingCommit=Pe(XL.bind(null,o,u,E,d,m,C,D,k,q,Ae,de,null,te,ie)),Yl(o,E,D,!ee);return}}XL(o,u,E,d,m,C,D,k,q)}function fJ(o){for(var u=o;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var C=d[m],E=C.getSnapshot;C=C.value;try{if(!Ji(E(),C))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Yl(o,u,d,m){u&=~b1,u&=~Hc,o.suspendedLanes|=u,o.pingedLanes&=~u,m&&(o.warmLanes|=u),m=o.expirationTimes;for(var C=u;0<C;){var E=31-di(C),D=1<<E;m[E]=-1,C&=~D}d!==0&&jP(o,d,u)}function LC(){return(It&6)===0?(qm(0),!1):!0}function _1(){if(ht!==null){if(Rt===0)var o=ht.return;else o=ht,Jo=Mc=null,VT(o),ah=null,_m=0,o=ht;for(;o!==null;)vL(o.alternate,o),o=o.return;ht=null}}function gh(o,u){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,MJ(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),lA=0,_1(),Jt=o,ht=d=Wo(o.current,null),gt=u,Rt=0,ns=null,Vl=!1,dh=Bn(o,u),B1=!1,hh=rs=b1=Hc=zl=In=0,Ri=Vm=null,E1=!1,(u&8)!==0&&(u|=u&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=u;0<m;){var C=31-di(m),E=1<<C;u|=o[C],m&=~E}return AA=u,sC(),d}function KL(o,u){it=null,H.H=Qm,u===sh||u===dC?(u=iN(),Rt=3):u===MT?(u=iN(),Rt=4):Rt=u===a1?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ns=u,ht===null&&(In=1,TC(o,Hs(u,o.current)))}function GL(){var o=es.current;return o===null?!0:(gt&4194048)===gt?zs===null:(gt&62914560)===gt||(gt&536870912)!==0?o===zs:!1}function VL(){var o=H.H;return H.H=Qm,o===null?Qm:o}function zL(){var o=H.A;return H.A=uJ,o}function kC(){In=4,Vl||(gt&4194048)!==gt&&es.current!==null||(dh=!0),(zl&134217727)===0&&(Hc&134217727)===0||Jt===null||Yl(Jt,gt,rs,!1)}function I1(o,u,d){var m=It;It|=2;var C=VL(),E=zL();(Jt!==o||gt!==u)&&(NC=null,gh(o,u)),u=!1;var D=In;e:do try{if(Rt!==0&&ht!==null){var k=ht,q=ns;switch(Rt){case 8:_1(),D=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(u=!0);var ee=Rt;if(Rt=0,ns=null,mh(o,k,q,ee),d&&dh){D=0;break e}break;default:ee=Rt,Rt=0,ns=null,mh(o,k,q,ee)}}dJ(),D=In;break}catch(Ae){KL(o,Ae)}while(!0);return u&&o.shellSuspendCounter++,Jo=Mc=null,It=m,H.H=C,H.A=E,ht===null&&(Jt=null,gt=0,sC()),D}function dJ(){for(;ht!==null;)qL(ht)}function hJ(o,u){var d=It;It|=2;var m=VL(),C=zL();Jt!==o||gt!==u?(NC=null,QC=Be()+500,gh(o,u)):dh=Bn(o,u);e:do try{if(Rt!==0&&ht!==null){u=ht;var E=ns;t:switch(Rt){case 1:Rt=0,ns=null,mh(o,u,E,1);break;case 2:case 9:if(nN(E)){Rt=0,ns=null,$L(u);break}u=function(){Rt!==2&&Rt!==9||Jt!==o||(Rt=7),Ao(o)},E.then(u,u);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:nN(E)?(Rt=0,ns=null,$L(u)):(Rt=0,ns=null,mh(o,u,E,7));break;case 5:var D=null;switch(ht.tag){case 26:D=ht.memoizedState;case 5:case 27:var k=ht;if(D?M2(D):k.stateNode.complete){Rt=0,ns=null;var q=k.sibling;if(q!==null)ht=q;else{var ee=k.return;ee!==null?(ht=ee,OC(ee)):ht=null}break t}}Rt=0,ns=null,mh(o,u,E,5);break;case 6:Rt=0,ns=null,mh(o,u,E,6);break;case 8:_1(),In=6;break e;default:throw Error(r(462))}}pJ();break}catch(Ae){KL(o,Ae)}while(!0);return Jo=Mc=null,H.H=m,H.A=C,It=d,ht!==null?0:(Jt=null,gt=0,sC(),In)}function pJ(){for(;ht!==null&&!Re();)qL(ht)}function qL(o){var u=gL(o.alternate,o,AA);o.memoizedProps=o.pendingProps,u===null?OC(o):ht=u}function $L(o){var u=o,d=u.alternate;switch(u.tag){case 15:case 0:u=uL(d,u,u.pendingProps,u.type,void 0,gt);break;case 11:u=uL(d,u,u.pendingProps,u.type.render,u.ref,gt);break;case 5:VT(u);default:vL(d,u),u=ht=zQ(u,AA),u=gL(d,u,AA)}o.memoizedProps=o.pendingProps,u===null?OC(o):ht=u}function mh(o,u,d,m){Jo=Mc=null,VT(u),ah=null,_m=0;var C=u.return;try{if(rJ(o,C,u,d,gt)){In=1,TC(o,Hs(d,o.current)),ht=null;return}}catch(E){if(C!==null)throw ht=C,E;In=1,TC(o,Hs(d,o.current)),ht=null;return}u.flags&32768?(wt||m===1?o=!0:dh||(gt&536870912)!==0?o=!1:(Vl=o=!0,(m===2||m===9||m===3||m===6)&&(m=es.current,m!==null&&m.tag===13&&(m.flags|=16384))),YL(u,o)):OC(u)}function OC(o){var u=o;do{if((u.flags&32768)!==0){YL(u,Vl);return}o=u.return;var d=aJ(u.alternate,u,AA);if(d!==null){ht=d;return}if(u=u.sibling,u!==null){ht=u;return}ht=u=o}while(u!==null);In===0&&(In=5)}function YL(o,u){do{var d=oJ(o.alternate,o);if(d!==null){d.flags&=32767,ht=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(o=o.sibling,o!==null)){ht=o;return}ht=o=d}while(o!==null);In=6,ht=null}function XL(o,u,d,m,C,E,D,k,q){o.cancelPendingCommit=null;do HC();while(tr!==0);if((It&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(E=u.lanes|u.childLanes,E|=mT,YW(o,d,E,D,k,q),o===Jt&&(ht=Jt=null,gt=0),ph=u,$l=o,lA=d,S1=E,x1=C,LL=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,yJ(Oe,function(){return e2(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,C=z.p,z.p=2,D=It,It|=4;try{AJ(o,u,d)}finally{It=D,z.p=C,H.T=m}}tr=1,WL(),jL(),JL()}}function WL(){if(tr===1){tr=0;var o=$l,u=ph,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=H.T,H.T=null;var m=z.p;z.p=2;var C=It;It|=4;try{UL(u,o);var E=H1,D=QQ(o.containerInfo),k=E.focusedElem,q=E.selectionRange;if(D!==k&&k&&k.ownerDocument&&PQ(k.ownerDocument.documentElement,k)){if(q!==null&&fT(k)){var ee=q.start,Ae=q.end;if(Ae===void 0&&(Ae=ee),"selectionStart"in k)k.selectionStart=ee,k.selectionEnd=Math.min(Ae,k.value.length);else{var de=k.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Pe=k.textContent.length,ze=Math.min(q.start,Pe),Gt=q.end===void 0?ze:Math.min(q.end,Pe);!ie.extend&&ze>Gt&&(D=Gt,Gt=ze,ze=D);var j=RQ(k,ze),X=RQ(k,Gt);if(j&&X&&(ie.rangeCount!==1||ie.anchorNode!==j.node||ie.anchorOffset!==j.offset||ie.focusNode!==X.node||ie.focusOffset!==X.offset)){var Z=de.createRange();Z.setStart(j.node,j.offset),ie.removeAllRanges(),ze>Gt?(ie.addRange(Z),ie.extend(X.node,X.offset)):(Z.setEnd(X.node,X.offset),ie.addRange(Z))}}}}for(de=[],ie=k;ie=ie.parentNode;)ie.nodeType===1&&de.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<de.length;k++){var ce=de[k];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}ZC=!!O1,H1=O1=null}finally{It=C,z.p=m,H.T=d}}o.current=u,tr=2}}function jL(){if(tr===2){tr=0;var o=$l,u=ph,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=H.T,H.T=null;var m=z.p;z.p=2;var C=It;It|=4;try{SL(o,u.alternate,u)}finally{It=C,z.p=m,H.T=d}}tr=3}}function JL(){if(tr===4||tr===3){tr=0,pe();var o=$l,u=ph,d=lA,m=LL;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?tr=5:(tr=0,ph=$l=null,ZL(o,o.pendingLanes));var C=o.pendingLanes;if(C===0&&(ql=null),$x(d),u=u.stateNode,fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(ro,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=H.T,C=z.p,z.p=2,H.T=null;try{for(var E=o.onRecoverableError,D=0;D<m.length;D++){var k=m[D];E(k.value,{componentStack:k.stack})}}finally{H.T=u,z.p=C}}(lA&3)!==0&&HC(),Ao(o),C=o.pendingLanes,(d&261930)!==0&&(C&42)!==0?o===T1?zm++:(zm=0,T1=o):zm=0,qm(0)}}function ZL(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,xm(u)))}function HC(){return WL(),jL(),JL(),e2()}function e2(){if(tr!==5)return!1;var o=$l,u=S1;S1=0;var d=$x(lA),m=H.T,C=z.p;try{z.p=32>d?32:d,H.T=null,d=x1,x1=null;var E=$l,D=lA;if(tr=0,ph=$l=null,lA=0,(It&6)!==0)throw Error(r(331));var k=It;if(It|=4,PL(E.current),ML(E,E.current,D,d),It=k,qm(0,!1),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(ro,E)}catch{}return!0}finally{z.p=C,H.T=m,ZL(o,u)}}function t2(o,u,d){u=Hs(d,u),u=s1(o.stateNode,u,2),o=Ol(o,u,2),o!==null&&(Ec(o,2),Ao(o))}function Pt(o,u,d){if(o.tag===3)t2(o,o,d);else for(;u!==null;){if(u.tag===3){t2(u,o,d);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ql===null||!ql.has(m))){o=Hs(d,o),d=nL(2),m=Ol(u,d,2),m!==null&&(rL(d,m,u,o),Ec(m,2),Ao(m));break}}u=u.return}}function U1(o,u,d){var m=o.pingCache;if(m===null){m=o.pingCache=new cJ;var C=new Set;m.set(u,C)}else C=m.get(u),C===void 0&&(C=new Set,m.set(u,C));C.has(d)||(B1=!0,C.add(d),o=gJ.bind(null,o,u,d),u.then(o,o))}function gJ(o,u,d){var m=o.pingCache;m!==null&&m.delete(u),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Jt===o&&(gt&d)===d&&(In===4||In===3&&(gt&62914560)===gt&&300>Be()-PC?(It&2)===0&&gh(o,0):b1|=d,hh===gt&&(hh=0)),Ao(o)}function n2(o,u){u===0&&(u=fm()),o=Ic(o,u),o!==null&&(Ec(o,u),Ao(o))}function mJ(o){var u=o.memoizedState,d=0;u!==null&&(d=u.retryLane),n2(o,d)}function vJ(o,u){var d=0;switch(o.tag){case 31:case 13:var m=o.stateNode,C=o.memoizedState;C!==null&&(d=C.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),n2(o,d)}function yJ(o,u){return Ea(o,u)}var KC=null,vh=null,F1=!1,GC=!1,M1=!1,Xl=0;function Ao(o){o!==vh&&o.next===null&&(vh===null?KC=vh=o:vh=vh.next=o),GC=!0,F1||(F1=!0,CJ())}function qm(o,u){if(!M1&&GC){M1=!0;do for(var d=!1,m=KC;m!==null;){if(o!==0){var C=m.pendingLanes;if(C===0)var E=0;else{var D=m.suspendedLanes,k=m.pingedLanes;E=(1<<31-di(42|o)+1)-1,E&=C&~(D&~k),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,a2(m,E))}else E=gt,E=je(m,m===Jt?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||Bn(m,E)||(d=!0,a2(m,E));m=m.next}while(d);M1=!1}}function wJ(){r2()}function r2(){GC=F1=!1;var o=0;Xl!==0&&FJ()&&(o=Xl);for(var u=Be(),d=null,m=KC;m!==null;){var C=m.next,E=i2(m,u);E===0?(m.next=null,d===null?KC=C:d.next=C,C===null&&(vh=d)):(d=m,(o!==0||(E&3)!==0)&&(GC=!0)),m=C}tr!==0&&tr!==5||qm(o),Xl!==0&&(Xl=0)}function i2(o,u){for(var d=o.suspendedLanes,m=o.pingedLanes,C=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var D=31-di(E),k=1<<D,q=C[D];q===-1?((k&d)===0||(k&m)!==0)&&(C[D]=Ns(k,u)):q<=u&&(o.expiredLanes|=k),E&=~k}if(u=Jt,d=gt,d=je(o,o===u?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,d===0||o===u&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&ge(m),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Bn(o,d)){if(u=d&-d,u===o.callbackPriority)return u;switch(m!==null&&ge(m),$x(d)){case 2:case 8:d=We;break;case 32:d=Oe;break;case 268435456:d=Ft;break;default:d=Oe}return m=s2.bind(null,o),d=Ea(d,m),o.callbackPriority=u,o.callbackNode=d,u}return m!==null&&m!==null&&ge(m),o.callbackPriority=2,o.callbackNode=null,2}function s2(o,u){if(tr!==0&&tr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(HC()&&o.callbackNode!==d)return null;var m=gt;return m=je(o,o===Jt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(OL(o,m,u),i2(o,Be()),o.callbackNode!=null&&o.callbackNode===d?s2.bind(null,o):null)}function a2(o,u){if(HC())return null;OL(o,u,!0)}function CJ(){DJ(function(){(It&6)!==0?Ea(Ye,wJ):r2()})}function D1(){if(Xl===0){var o=rh;o===0&&(o=Nd,Nd<<=1,(Nd&261888)===0&&(Nd=256)),Xl=o}return Xl}function o2(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:jw(""+o)}function A2(o,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,o.id&&d.setAttribute("form",o.id),u.parentNode.insertBefore(d,u),o=new FormData(o),d.parentNode.removeChild(d),o}function BJ(o,u,d,m,C){if(u==="submit"&&d&&d.stateNode===C){var E=o2((C[Ii]||null).action),D=m.submitter;D&&(u=(u=D[Ii]||null)?o2(u.formAction):D.getAttribute("formAction"),u!==null&&(E=u,D=null));var k=new tC("action","action",null,m,C);o.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Xl!==0){var q=D?A2(C,D):new FormData(C);ZT(d,{pending:!0,data:q,method:C.method,action:E},null,q)}}else typeof E=="function"&&(k.preventDefault(),q=D?A2(C,D):new FormData(C),ZT(d,{pending:!0,data:q,method:C.method,action:E},E,q))},currentTarget:C}]})}}for(var R1=0;R1<gT.length;R1++){var P1=gT[R1],bJ=P1.toLowerCase(),EJ=P1[0].toUpperCase()+P1.slice(1);Sa(bJ,"on"+EJ)}Sa(kQ,"onAnimationEnd"),Sa(OQ,"onAnimationIteration"),Sa(HQ,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(Oj,"onTransitionRun"),Sa(Hj,"onTransitionStart"),Sa(Kj,"onTransitionCancel"),Sa(KQ,"onTransitionEnd"),Gd("onMouseEnter",["mouseout","mouseover"]),Gd("onMouseLeave",["mouseout","mouseover"]),Gd("onPointerEnter",["pointerout","pointerover"]),Gd("onPointerLeave",["pointerout","pointerover"]),Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $m="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SJ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($m));function l2(o,u){u=(u&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],C=m.event;m=m.listeners;e:{var E=void 0;if(u)for(var D=m.length-1;0<=D;D--){var k=m[D],q=k.instance,ee=k.currentTarget;if(k=k.listener,q!==E&&C.isPropagationStopped())break e;E=k,C.currentTarget=ee;try{E(C)}catch(Ae){iC(Ae)}C.currentTarget=null,E=q}else for(D=0;D<m.length;D++){if(k=m[D],q=k.instance,ee=k.currentTarget,k=k.listener,q!==E&&C.isPropagationStopped())break e;E=k,C.currentTarget=ee;try{E(C)}catch(Ae){iC(Ae)}C.currentTarget=null,E=q}}}}function pt(o,u){var d=u[Yx];d===void 0&&(d=u[Yx]=new Set);var m=o+"__bubble";d.has(m)||(u2(u,o,2,!1),d.add(m))}function Q1(o,u,d){var m=0;u&&(m|=4),u2(d,o,m,u)}var VC="_reactListening"+Math.random().toString(36).slice(2);function N1(o){if(!o[VC]){o[VC]=!0,rQ.forEach(function(d){d!=="selectionchange"&&(SJ.has(d)||Q1(d,!1,o),Q1(d,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[VC]||(u[VC]=!0,Q1("selectionchange",!1,u))}}function u2(o,u,d,m){switch(k2(u)){case 2:var C=ZJ;break;case 8:C=e9;break;default:C=J1}d=C.bind(null,u,d,o),C=void 0,!rT||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),m?C!==void 0?o.addEventListener(u,d,{capture:!0,passive:C}):o.addEventListener(u,d,!0):C!==void 0?o.addEventListener(u,d,{passive:C}):o.addEventListener(u,d,!1)}function L1(o,u,d,m,C){var E=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var k=m.stateNode.containerInfo;if(k===C)break;if(D===4)for(D=m.return;D!==null;){var q=D.tag;if((q===3||q===4)&&D.stateNode.containerInfo===C)return;D=D.return}for(;k!==null;){if(D=Od(k),D===null)return;if(q=D.tag,q===5||q===6||q===26||q===27){m=E=D;continue e}k=k.parentNode}}m=m.return}pQ(function(){var ee=E,Ae=tT(d),de=[];e:{var te=GQ.get(o);if(te!==void 0){var ie=tC,Pe=o;switch(o){case"keypress":if(Zw(d)===0)break e;case"keydown":case"keyup":ie=vj;break;case"focusin":Pe="focus",ie=oT;break;case"focusout":Pe="blur",ie=oT;break;case"beforeblur":case"afterblur":ie=oT;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=vQ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=aj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Cj;break;case kQ:case OQ:case HQ:ie=lj;break;case KQ:ie=bj;break;case"scroll":case"scrollend":ie=ij;break;case"wheel":ie=Sj;break;case"copy":case"cut":case"paste":ie=cj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=wQ;break;case"toggle":case"beforetoggle":ie=Tj}var ze=(u&4)!==0,Gt=!ze&&(o==="scroll"||o==="scrollend"),j=ze?te!==null?te+"Capture":null:te;ze=[];for(var X=ee,Z;X!==null;){var ce=X;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||j===null||(ce=pm(X,j),ce!=null&&ze.push(Ym(X,ce,Z))),Gt)break;X=X.return}0<ze.length&&(te=new ie(te,Pe,null,d,Ae),de.push({event:te,listeners:ze}))}}if((u&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ie=o==="mouseout"||o==="pointerout",te&&d!==eT&&(Pe=d.relatedTarget||d.fromElement)&&(Od(Pe)||Pe[kd]))break e;if((ie||te)&&(te=Ae.window===Ae?Ae:(te=Ae.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Pe=d.relatedTarget||d.toElement,ie=ee,Pe=Pe?Od(Pe):null,Pe!==null&&(Gt=s(Pe),ze=Pe.tag,Pe!==Gt||ze!==5&&ze!==27&&ze!==6)&&(Pe=null)):(ie=null,Pe=ee),ie!==Pe)){if(ze=vQ,ce="onMouseLeave",j="onMouseEnter",X="mouse",(o==="pointerout"||o==="pointerover")&&(ze=wQ,ce="onPointerLeave",j="onPointerEnter",X="pointer"),Gt=ie==null?te:hm(ie),Z=Pe==null?te:hm(Pe),te=new ze(ce,X+"leave",ie,d,Ae),te.target=Gt,te.relatedTarget=Z,ce=null,Od(Ae)===ee&&(ze=new ze(j,X+"enter",Pe,d,Ae),ze.target=Z,ze.relatedTarget=Gt,ce=ze),Gt=ce,ie&&Pe)t:{for(ze=xJ,j=ie,X=Pe,Z=0,ce=j;ce;ce=ze(ce))Z++;ce=0;for(var Ge=X;Ge;Ge=ze(Ge))ce++;for(;0<Z-ce;)j=ze(j),Z--;for(;0<ce-Z;)X=ze(X),ce--;for(;Z--;){if(j===X||X!==null&&j===X.alternate){ze=j;break t}j=ze(j),X=ze(X)}ze=null}else ze=null;ie!==null&&c2(de,te,ie,ze,!1),Pe!==null&&Gt!==null&&c2(de,Gt,Pe,ze,!0)}}e:{if(te=ee?hm(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var Et=_Q;else if(xQ(te))if(IQ)Et=Nj;else{Et=Pj;var Ne=Rj}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Zx(ee.elementType)&&(Et=_Q):Et=Qj;if(Et&&(Et=Et(o,ee))){TQ(de,Et,d,Ae);break e}Ne&&Ne(o,te,ee),o==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Jx(te,"number",te.value)}switch(Ne=ee?hm(ee):window,o){case"focusin":(xQ(Ne)||Ne.contentEditable==="true")&&(Xd=Ne,dT=ee,bm=null);break;case"focusout":bm=dT=Xd=null;break;case"mousedown":hT=!0;break;case"contextmenu":case"mouseup":case"dragend":hT=!1,NQ(de,d,Ae);break;case"selectionchange":if(kj)break;case"keydown":case"keyup":NQ(de,d,Ae)}var ot;if(lT)e:{switch(o){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Yd?EQ(o,d)&&(mt="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(mt="onCompositionStart");mt&&(CQ&&d.locale!=="ko"&&(Yd||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Yd&&(ot=gQ()):(Dl=Ae,iT="value"in Dl?Dl.value:Dl.textContent,Yd=!0)),Ne=zC(ee,mt),0<Ne.length&&(mt=new yQ(mt,o,null,d,Ae),de.push({event:mt,listeners:Ne}),ot?mt.data=ot:(ot=SQ(d),ot!==null&&(mt.data=ot)))),(ot=Ij?Uj(o,d):Fj(o,d))&&(mt=zC(ee,"onBeforeInput"),0<mt.length&&(Ne=new yQ("onBeforeInput","beforeinput",null,d,Ae),de.push({event:Ne,listeners:mt}),Ne.data=ot)),BJ(de,o,ee,d,Ae)}l2(de,u)})}function Ym(o,u,d){return{instance:o,listener:u,currentTarget:d}}function zC(o,u){for(var d=u+"Capture",m=[];o!==null;){var C=o,E=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||E===null||(C=pm(o,d),C!=null&&m.unshift(Ym(o,C,E)),C=pm(o,u),C!=null&&m.push(Ym(o,C,E))),o.tag===3)return m;o=o.return}return[]}function xJ(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function c2(o,u,d,m,C){for(var E=u._reactName,D=[];d!==null&&d!==m;){var k=d,q=k.alternate,ee=k.stateNode;if(k=k.tag,q!==null&&q===m)break;k!==5&&k!==26&&k!==27||ee===null||(q=ee,C?(ee=pm(d,E),ee!=null&&D.unshift(Ym(d,ee,q))):C||(ee=pm(d,E),ee!=null&&D.push(Ym(d,ee,q)))),d=d.return}D.length!==0&&o.push({event:u,listeners:D})}var TJ=/\r\n?/g,_J=/\u0000|\uFFFD/g;function f2(o){return(typeof o=="string"?o:""+o).replace(TJ,`
`).replace(_J,"")}function d2(o,u){return u=f2(u),f2(o)===u}function Kt(o,u,d,m,C,E){switch(d){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||zd(o,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&zd(o,""+m);break;case"className":Xw(o,"class",m);break;case"tabIndex":Xw(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Xw(o,d,m);break;case"style":dQ(o,m,E);break;case"data":if(u!=="object"){Xw(o,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||d!=="href")){o.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=jw(""+m),o.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(u!=="input"&&Kt(o,u,"name",C.name,C,null),Kt(o,u,"formEncType",C.formEncType,C,null),Kt(o,u,"formMethod",C.formMethod,C,null),Kt(o,u,"formTarget",C.formTarget,C,null)):(Kt(o,u,"encType",C.encType,C,null),Kt(o,u,"method",C.method,C,null),Kt(o,u,"target",C.target,C,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=jw(""+m),o.setAttribute(d,m);break;case"onClick":m!=null&&(o.onclick=Yo);break;case"onScroll":m!=null&&pt("scroll",o);break;case"onScrollEnd":m!=null&&pt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(C.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}d=jw(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""+m):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":m===!0?o.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,m):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(d,m):o.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(d):o.setAttribute(d,m);break;case"popover":pt("beforetoggle",o),pt("toggle",o),Yw(o,"popover",m);break;case"xlinkActuate":$o(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":$o(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":$o(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":$o(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":$o(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":$o(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":$o(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":$o(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":$o(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Yw(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=nj.get(d)||d,Yw(o,d,m))}}function k1(o,u,d,m,C,E){switch(d){case"style":dQ(o,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(C.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof m=="string"?zd(o,m):(typeof m=="number"||typeof m=="bigint")&&zd(o,""+m);break;case"onScroll":m!=null&&pt("scroll",o);break;case"onScrollEnd":m!=null&&pt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iQ.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(C=d.endsWith("Capture"),u=d.slice(2,C?d.length-7:void 0),E=o[Ii]||null,E=E!=null?E[d]:null,typeof E=="function"&&o.removeEventListener(u,E,C),typeof m=="function")){typeof E!="function"&&E!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(u,m,C);break e}d in o?o[d]=m:m===!0?o.setAttribute(d,""):Yw(o,d,m)}}}function Pr(o,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",o),pt("load",o);var m=!1,C=!1,E;for(E in d)if(d.hasOwnProperty(E)){var D=d[E];if(D!=null)switch(E){case"src":m=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Kt(o,u,E,D,d,null)}}C&&Kt(o,u,"srcSet",d.srcSet,d,null),m&&Kt(o,u,"src",d.src,d,null);return;case"input":pt("invalid",o);var k=E=D=C=null,q=null,ee=null;for(m in d)if(d.hasOwnProperty(m)){var Ae=d[m];if(Ae!=null)switch(m){case"name":C=Ae;break;case"type":D=Ae;break;case"checked":q=Ae;break;case"defaultChecked":ee=Ae;break;case"value":E=Ae;break;case"defaultValue":k=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,u));break;default:Kt(o,u,m,Ae,d,null)}}lQ(o,E,k,q,ee,D,C,!1);return;case"select":pt("invalid",o),m=D=E=null;for(C in d)if(d.hasOwnProperty(C)&&(k=d[C],k!=null))switch(C){case"value":E=k;break;case"defaultValue":D=k;break;case"multiple":m=k;default:Kt(o,u,C,k,d,null)}u=E,d=D,o.multiple=!!m,u!=null?Vd(o,!!m,u,!1):d!=null&&Vd(o,!!m,d,!0);return;case"textarea":pt("invalid",o),E=C=m=null;for(D in d)if(d.hasOwnProperty(D)&&(k=d[D],k!=null))switch(D){case"value":m=k;break;case"defaultValue":C=k;break;case"children":E=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Kt(o,u,D,k,d,null)}cQ(o,m,C,E);return;case"option":for(q in d)if(d.hasOwnProperty(q)&&(m=d[q],m!=null))switch(q){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Kt(o,u,q,m,d,null)}return;case"dialog":pt("beforetoggle",o),pt("toggle",o),pt("cancel",o),pt("close",o);break;case"iframe":case"object":pt("load",o);break;case"video":case"audio":for(m=0;m<$m.length;m++)pt($m[m],o);break;case"image":pt("error",o),pt("load",o);break;case"details":pt("toggle",o);break;case"embed":case"source":case"link":pt("error",o),pt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in d)if(d.hasOwnProperty(ee)&&(m=d[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Kt(o,u,ee,m,d,null)}return;default:if(Zx(u)){for(Ae in d)d.hasOwnProperty(Ae)&&(m=d[Ae],m!==void 0&&k1(o,u,Ae,m,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(m=d[k],m!=null&&Kt(o,u,k,m,d,null))}function IJ(o,u,d,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,E=null,D=null,k=null,q=null,ee=null,Ae=null;for(ie in d){var de=d[ie];if(d.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":q=de;default:m.hasOwnProperty(ie)||Kt(o,u,ie,null,m,de)}}for(var te in m){var ie=m[te];if(de=d[te],m.hasOwnProperty(te)&&(ie!=null||de!=null))switch(te){case"type":E=ie;break;case"name":C=ie;break;case"checked":ee=ie;break;case"defaultChecked":Ae=ie;break;case"value":D=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,u));break;default:ie!==de&&Kt(o,u,te,ie,m,de)}}jx(o,D,k,q,ee,Ae,E,C);return;case"select":ie=D=k=te=null;for(E in d)if(q=d[E],d.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":ie=q;default:m.hasOwnProperty(E)||Kt(o,u,E,null,m,q)}for(C in m)if(E=m[C],q=d[C],m.hasOwnProperty(C)&&(E!=null||q!=null))switch(C){case"value":te=E;break;case"defaultValue":k=E;break;case"multiple":D=E;default:E!==q&&Kt(o,u,C,E,m,q)}u=k,d=D,m=ie,te!=null?Vd(o,!!d,te,!1):!!m!=!!d&&(u!=null?Vd(o,!!d,u,!0):Vd(o,!!d,d?[]:"",!1));return;case"textarea":ie=te=null;for(k in d)if(C=d[k],d.hasOwnProperty(k)&&C!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Kt(o,u,k,null,m,C)}for(D in m)if(C=m[D],E=d[D],m.hasOwnProperty(D)&&(C!=null||E!=null))switch(D){case"value":te=C;break;case"defaultValue":ie=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==E&&Kt(o,u,D,C,m,E)}uQ(o,te,ie);return;case"option":for(var Pe in d)if(te=d[Pe],d.hasOwnProperty(Pe)&&te!=null&&!m.hasOwnProperty(Pe))switch(Pe){case"selected":o.selected=!1;break;default:Kt(o,u,Pe,null,m,te)}for(q in m)if(te=m[q],ie=d[q],m.hasOwnProperty(q)&&te!==ie&&(te!=null||ie!=null))switch(q){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Kt(o,u,q,te,m,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in d)te=d[ze],d.hasOwnProperty(ze)&&te!=null&&!m.hasOwnProperty(ze)&&Kt(o,u,ze,null,m,te);for(ee in m)if(te=m[ee],ie=d[ee],m.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,u));break;default:Kt(o,u,ee,te,m,ie)}return;default:if(Zx(u)){for(var Gt in d)te=d[Gt],d.hasOwnProperty(Gt)&&te!==void 0&&!m.hasOwnProperty(Gt)&&k1(o,u,Gt,void 0,m,te);for(Ae in m)te=m[Ae],ie=d[Ae],!m.hasOwnProperty(Ae)||te===ie||te===void 0&&ie===void 0||k1(o,u,Ae,te,m,ie);return}}for(var j in d)te=d[j],d.hasOwnProperty(j)&&te!=null&&!m.hasOwnProperty(j)&&Kt(o,u,j,null,m,te);for(de in m)te=m[de],ie=d[de],!m.hasOwnProperty(de)||te===ie||te==null&&ie==null||Kt(o,u,de,te,m,ie)}function h2(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UJ(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var C=d[m],E=C.transferSize,D=C.initiatorType,k=C.duration;if(E&&k&&h2(D)){for(D=0,k=C.responseEnd,m+=1;m<d.length;m++){var q=d[m],ee=q.startTime;if(ee>k)break;var Ae=q.transferSize,de=q.initiatorType;Ae&&h2(de)&&(q=q.responseEnd,D+=Ae*(q<k?1:(k-ee)/(q-ee)))}if(--m,u+=8*(E+D)/(C.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var O1=null,H1=null;function qC(o){return o.nodeType===9?o:o.ownerDocument}function p2(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g2(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function K1(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var G1=null;function FJ(){var o=window.event;return o&&o.type==="popstate"?o===G1?!1:(G1=o,!0):(G1=null,!1)}var m2=typeof setTimeout=="function"?setTimeout:void 0,MJ=typeof clearTimeout=="function"?clearTimeout:void 0,v2=typeof Promise=="function"?Promise:void 0,DJ=typeof queueMicrotask=="function"?queueMicrotask:typeof v2<"u"?function(o){return v2.resolve(null).then(o).catch(RJ)}:m2;function RJ(o){setTimeout(function(){throw o})}function Wl(o){return o==="head"}function y2(o,u){var d=u,m=0;do{var C=d.nextSibling;if(o.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"||d==="/&"){if(m===0){o.removeChild(C),Bh(u);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Xm(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Xm(d);for(var E=d.firstChild;E;){var D=E.nextSibling,k=E.nodeName;E[dm]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=D}}else d==="body"&&Xm(o.ownerDocument.body);d=C}while(d);Bh(u)}function w2(o,u){var d=o;o=0;do{var m=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=m}while(d)}function V1(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":V1(d),Xx(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function PJ(o,u,d,m){for(;o.nodeType===1;){var C=d;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[dm])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==C.rel||o.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||o.getAttribute("title")!==(C.title==null?null:C.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(C.src==null?null:C.src)||o.getAttribute("type")!==(C.type==null?null:C.type)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var E=C.name==null?null:""+C.name;if(C.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=qs(o.nextSibling),o===null)break}return null}function QJ(o,u,d){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=qs(o.nextSibling),o===null))return null;return o}function C2(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=qs(o.nextSibling),o===null))return null;return o}function z1(o){return o.data==="$?"||o.data==="$~"}function q1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function NJ(o,u){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||d.readyState!=="loading")u();else{var m=function(){u(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function qs(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var $1=null;function B2(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(u===0)return qs(o.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}o=o.nextSibling}return null}function b2(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return o;u--}else d!=="/$"&&d!=="/&"||u++}o=o.previousSibling}return null}function E2(o,u,d){switch(u=qC(d),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Xm(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Xx(o)}var $s=new Map,S2=new Set;function $C(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var uA=z.d;z.d={f:LJ,r:kJ,D:OJ,C:HJ,L:KJ,m:GJ,X:zJ,S:VJ,M:qJ};function LJ(){var o=uA.f(),u=LC();return o||u}function kJ(o){var u=Hd(o);u!==null&&u.tag===5&&u.type==="form"?KN(u):uA.r(o)}var yh=typeof document>"u"?null:document;function x2(o,u,d){var m=yh;if(m&&typeof u=="string"&&u){var C=ks(u);C='link[rel="'+o+'"][href="'+C+'"]',typeof d=="string"&&(C+='[crossorigin="'+d+'"]'),S2.has(C)||(S2.add(C),o={rel:o,crossOrigin:d,href:u},m.querySelector(C)===null&&(u=m.createElement("link"),Pr(u,"link",o),hr(u),m.head.appendChild(u)))}}function OJ(o){uA.D(o),x2("dns-prefetch",o,null)}function HJ(o,u){uA.C(o,u),x2("preconnect",o,u)}function KJ(o,u,d){uA.L(o,u,d);var m=yh;if(m&&o&&u){var C='link[rel="preload"][as="'+ks(u)+'"]';u==="image"&&d&&d.imageSrcSet?(C+='[imagesrcset="'+ks(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(C+='[imagesizes="'+ks(d.imageSizes)+'"]')):C+='[href="'+ks(o)+'"]';var E=C;switch(u){case"style":E=wh(o);break;case"script":E=Ch(o)}$s.has(E)||(o=h({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:o,as:u},d),$s.set(E,o),m.querySelector(C)!==null||u==="style"&&m.querySelector(Wm(E))||u==="script"&&m.querySelector(jm(E))||(u=m.createElement("link"),Pr(u,"link",o),hr(u),m.head.appendChild(u)))}}function GJ(o,u){uA.m(o,u);var d=yh;if(d&&o){var m=u&&typeof u.as=="string"?u.as:"script",C='link[rel="modulepreload"][as="'+ks(m)+'"][href="'+ks(o)+'"]',E=C;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ch(o)}if(!$s.has(E)&&(o=h({rel:"modulepreload",href:o},u),$s.set(E,o),d.querySelector(C)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(jm(E)))return}m=d.createElement("link"),Pr(m,"link",o),hr(m),d.head.appendChild(m)}}}function VJ(o,u,d){uA.S(o,u,d);var m=yh;if(m&&o){var C=Kd(m).hoistableStyles,E=wh(o);u=u||"default";var D=C.get(E);if(!D){var k={loading:0,preload:null};if(D=m.querySelector(Wm(E)))k.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":u},d),(d=$s.get(E))&&Y1(o,d);var q=D=m.createElement("link");hr(q),Pr(q,"link",o),q._p=new Promise(function(ee,Ae){q.onload=ee,q.onerror=Ae}),q.addEventListener("load",function(){k.loading|=1}),q.addEventListener("error",function(){k.loading|=2}),k.loading|=4,YC(D,u,m)}D={type:"stylesheet",instance:D,count:1,state:k},C.set(E,D)}}}function zJ(o,u){uA.X(o,u);var d=yh;if(d&&o){var m=Kd(d).hoistableScripts,C=Ch(o),E=m.get(C);E||(E=d.querySelector(jm(C)),E||(o=h({src:o,async:!0},u),(u=$s.get(C))&&X1(o,u),E=d.createElement("script"),hr(E),Pr(E,"link",o),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(C,E))}}function qJ(o,u){uA.M(o,u);var d=yh;if(d&&o){var m=Kd(d).hoistableScripts,C=Ch(o),E=m.get(C);E||(E=d.querySelector(jm(C)),E||(o=h({src:o,async:!0,type:"module"},u),(u=$s.get(C))&&X1(o,u),E=d.createElement("script"),hr(E),Pr(E,"link",o),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(C,E))}}function T2(o,u,d,m){var C=(C=ve.current)?$C(C):null;if(!C)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=wh(d.href),d=Kd(C).hoistableStyles,m=d.get(u),m||(m={type:"style",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=wh(d.href);var E=Kd(C).hoistableStyles,D=E.get(o);if(D||(C=C.ownerDocument||C,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,D),(E=C.querySelector(Wm(o)))&&!E._p&&(D.instance=E,D.state.loading=5),$s.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},$s.set(o,d),E||$J(C,o,d,D.state))),u&&m===null)throw Error(r(528,""));return D}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Ch(d),d=Kd(C).hoistableScripts,m=d.get(u),m||(m={type:"script",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function wh(o){return'href="'+ks(o)+'"'}function Wm(o){return'link[rel="stylesheet"]['+o+"]"}function _2(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function $J(o,u,d,m){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=o.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),Pr(u,"link",d),hr(u),o.head.appendChild(u))}function Ch(o){return'[src="'+ks(o)+'"]'}function jm(o){return"script[async]"+o}function I2(o,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var m=o.querySelector('style[data-href~="'+ks(d.href)+'"]');if(m)return u.instance=m,hr(m),m;var C=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),hr(m),Pr(m,"style",C),YC(m,d.precedence,o),u.instance=m;case"stylesheet":C=wh(d.href);var E=o.querySelector(Wm(C));if(E)return u.state.loading|=4,u.instance=E,hr(E),E;m=_2(d),(C=$s.get(C))&&Y1(m,C),E=(o.ownerDocument||o).createElement("link"),hr(E);var D=E;return D._p=new Promise(function(k,q){D.onload=k,D.onerror=q}),Pr(E,"link",m),u.state.loading|=4,YC(E,d.precedence,o),u.instance=E;case"script":return E=Ch(d.src),(C=o.querySelector(jm(E)))?(u.instance=C,hr(C),C):(m=d,(C=$s.get(E))&&(m=h({},d),X1(m,C)),o=o.ownerDocument||o,C=o.createElement("script"),hr(C),Pr(C,"link",m),o.head.appendChild(C),u.instance=C);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,YC(m,d.precedence,o));return u.instance}function YC(o,u,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=m.length?m[m.length-1]:null,E=C,D=0;D<m.length;D++){var k=m[D];if(k.dataset.precedence===u)E=k;else if(E!==C)break}E?E.parentNode.insertBefore(o,E.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(o,u.firstChild))}function Y1(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function X1(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var XC=null;function U2(o,u,d){if(XC===null){var m=new Map,C=XC=new Map;C.set(d,m)}else C=XC,m=C.get(d),m||(m=new Map,C.set(d,m));if(m.has(o))return m;for(m.set(o,null),d=d.getElementsByTagName(o),C=0;C<d.length;C++){var E=d[C];if(!(E[dm]||E[Fr]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var D=E.getAttribute(u)||"";D=o+D;var k=m.get(D);k?k.push(E):m.set(D,[E])}}return m}function F2(o,u,d){o=o.ownerDocument||o,o.head.insertBefore(d,u==="title"?o.querySelector("head > title"):null)}function YJ(o,u,d){if(d===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function M2(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function XJ(o,u,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var C=wh(m.href),E=u.querySelector(Wm(C));if(E){u=E._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=WC.bind(o),u.then(o,o)),d.state.loading|=4,d.instance=E,hr(E);return}E=u.ownerDocument||u,m=_2(m),(C=$s.get(C))&&Y1(m,C),E=E.createElement("link"),hr(E);var D=E;D._p=new Promise(function(k,q){D.onload=k,D.onerror=q}),Pr(E,"link",m),d.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=WC.bind(o),u.addEventListener("load",d),u.addEventListener("error",d))}}var W1=0;function WJ(o,u){return o.stylesheets&&o.count===0&&JC(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var m=setTimeout(function(){if(o.stylesheets&&JC(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+u);0<o.imgBytes&&W1===0&&(W1=62500*UJ());var C=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&JC(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>W1?50:800)+u);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(C)}}:null}function WC(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)JC(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var jC=null;function JC(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,jC=new Map,u.forEach(jJ,o),jC=null,WC.call(o))}function jJ(o,u){if(!(u.state.loading&4)){var d=jC.get(o);if(d)var m=d.get(null);else{d=new Map,jC.set(o,d);for(var C=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<C.length;E++){var D=C[E];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),m=D)}m&&d.set(null,m)}C=u.instance,D=C.getAttribute("data-precedence"),E=d.get(D)||m,E===m&&d.set(null,C),d.set(D,C),this.count++,m=WC.bind(this),C.addEventListener("load",m),C.addEventListener("error",m),E?E.parentNode.insertBefore(C,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(C,o.firstChild)),u.state.loading|=4}}var Jm={$$typeof:T,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function JJ(o,u,d,m,C,E,D,k,q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ld(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.hiddenUpdates=Ld(null),this.identifierPrefix=m,this.onUncaughtError=C,this.onCaughtError=E,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function D2(o,u,d,m,C,E,D,k,q,ee,Ae,de){return o=new JJ(o,u,d,D,q,ee,Ae,de,k),u=1,E===!0&&(u|=24),E=Zi(3,null,null,u),o.current=E,E.stateNode=o,u=IT(),u.refCount++,o.pooledCache=u,u.refCount++,E.memoizedState={element:m,isDehydrated:d,cache:u},DT(E),o}function R2(o){return o?(o=Jd,o):Jd}function P2(o,u,d,m,C,E){C=R2(C),m.context===null?m.context=C:m.pendingContext=C,m=kl(u),m.payload={element:d},E=E===void 0?null:E,E!==null&&(m.callback=E),d=Ol(o,m,u),d!==null&&(Pi(d,o,u),Um(d,o,u))}function Q2(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<u?d:u}}function j1(o,u){Q2(o,u),(o=o.alternate)&&Q2(o,u)}function N2(o){if(o.tag===13||o.tag===31){var u=Ic(o,67108864);u!==null&&Pi(u,o,67108864),j1(o,67108864)}}function L2(o){if(o.tag===13||o.tag===31){var u=is();u=qx(u);var d=Ic(o,u);d!==null&&Pi(d,o,u),j1(o,u)}}var ZC=!0;function ZJ(o,u,d,m){var C=H.T;H.T=null;var E=z.p;try{z.p=2,J1(o,u,d,m)}finally{z.p=E,H.T=C}}function e9(o,u,d,m){var C=H.T;H.T=null;var E=z.p;try{z.p=8,J1(o,u,d,m)}finally{z.p=E,H.T=C}}function J1(o,u,d,m){if(ZC){var C=Z1(m);if(C===null)L1(o,u,m,eB,d),O2(o,m);else if(n9(C,o,u,d,m))m.stopPropagation();else if(O2(o,m),u&4&&-1<t9.indexOf(o)){for(;C!==null;){var E=Hd(C);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var D=ct(E.pendingLanes);if(D!==0){var k=E;for(k.pendingLanes|=2,k.entangledLanes|=2;D;){var q=1<<31-di(D);k.entanglements[1]|=q,D&=~q}Ao(E),(It&6)===0&&(QC=Be()+500,qm(0))}}break;case 31:case 13:k=Ic(E,2),k!==null&&Pi(k,E,2),LC(),j1(E,2)}if(E=Z1(m),E===null&&L1(o,u,m,eB,d),E===C)break;C=E}C!==null&&m.stopPropagation()}else L1(o,u,m,null,d)}}function Z1(o){return o=tT(o),e_(o)}var eB=null;function e_(o){if(eB=null,o=Od(o),o!==null){var u=s(o);if(u===null)o=null;else{var d=u.tag;if(d===13){if(o=a(u),o!==null)return o;o=null}else if(d===31){if(o=A(u),o!==null)return o;o=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return eB=o,null}function k2(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case Ye:return 2;case We:return 8;case Oe:case _t:return 32;case Ft:return 268435456;default:return 32}default:return 32}}var t_=!1,jl=null,Jl=null,Zl=null,Zm=new Map,ev=new Map,eu=[],t9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O2(o,u){switch(o){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Jl=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":Zm.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ev.delete(u.pointerId)}}function tv(o,u,d,m,C,E){return o===null||o.nativeEvent!==E?(o={blockedOn:u,domEventName:d,eventSystemFlags:m,nativeEvent:E,targetContainers:[C]},u!==null&&(u=Hd(u),u!==null&&N2(u)),o):(o.eventSystemFlags|=m,u=o.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),o)}function n9(o,u,d,m,C){switch(u){case"focusin":return jl=tv(jl,o,u,d,m,C),!0;case"dragenter":return Jl=tv(Jl,o,u,d,m,C),!0;case"mouseover":return Zl=tv(Zl,o,u,d,m,C),!0;case"pointerover":var E=C.pointerId;return Zm.set(E,tv(Zm.get(E)||null,o,u,d,m,C)),!0;case"gotpointercapture":return E=C.pointerId,ev.set(E,tv(ev.get(E)||null,o,u,d,m,C)),!0}return!1}function H2(o){var u=Od(o.target);if(u!==null){var d=s(u);if(d!==null){if(u=d.tag,u===13){if(u=a(d),u!==null){o.blockedOn=u,tQ(o.priority,function(){L2(d)});return}}else if(u===31){if(u=A(d),u!==null){o.blockedOn=u,tQ(o.priority,function(){L2(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function tB(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var d=Z1(o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);eT=m,d.target.dispatchEvent(m),eT=null}else return u=Hd(d),u!==null&&N2(u),o.blockedOn=d,!1;u.shift()}return!0}function K2(o,u,d){tB(o)&&d.delete(u)}function r9(){t_=!1,jl!==null&&tB(jl)&&(jl=null),Jl!==null&&tB(Jl)&&(Jl=null),Zl!==null&&tB(Zl)&&(Zl=null),Zm.forEach(K2),ev.forEach(K2)}function nB(o,u){o.blockedOn===u&&(o.blockedOn=null,t_||(t_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,r9)))}var rB=null;function G2(o){rB!==o&&(rB=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rB===o&&(rB=null);for(var u=0;u<o.length;u+=3){var d=o[u],m=o[u+1],C=o[u+2];if(typeof m!="function"){if(e_(m||d)===null)continue;break}var E=Hd(d);E!==null&&(o.splice(u,3),u-=3,ZT(E,{pending:!0,data:C,method:d.method,action:m},m,C))}}))}function Bh(o){function u(q){return nB(q,o)}jl!==null&&nB(jl,o),Jl!==null&&nB(Jl,o),Zl!==null&&nB(Zl,o),Zm.forEach(u),ev.forEach(u);for(var d=0;d<eu.length;d++){var m=eu[d];m.blockedOn===o&&(m.blockedOn=null)}for(;0<eu.length&&(d=eu[0],d.blockedOn===null);)H2(d),d.blockedOn===null&&eu.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var C=d[m],E=d[m+1],D=C[Ii]||null;if(typeof E=="function")D||G2(d);else if(D){var k=null;if(E&&E.hasAttribute("formAction")){if(C=E,D=E[Ii]||null)k=D.formAction;else if(e_(C)!==null)continue}else k=D.action;typeof k=="function"?d[m+1]=k:(d.splice(m,3),m-=3),G2(d)}}}function V2(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(D){return C=D})},focusReset:"manual",scroll:"manual"})}function u(){C!==null&&(C(),C=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,C=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),C!==null&&(C(),C=null)}}}function n_(o){this._internalRoot=o}iB.prototype.render=n_.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,m=is();P2(d,m,o,u,null,null)},iB.prototype.unmount=n_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;P2(o.current,2,null,o,null,null),LC(),u[kd]=null}};function iB(o){this._internalRoot=o}iB.prototype.unstable_scheduleHydration=function(o){if(o){var u=eQ();o={blockedOn:null,target:o,priority:u};for(var d=0;d<eu.length&&u!==0&&u<eu[d].priority;d++);eu.splice(d,0,o),d===0&&H2(o)}};var z2=e.version;if(z2!=="19.2.1")throw Error(r(527,z2,"19.2.1"));z.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var i9={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sB=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sB.isDisabled&&sB.supportsFiber)try{ro=sB.inject(i9),fi=sB}catch{}}return rv.createRoot=function(o,u){if(!i(o))throw Error(r(299));var d=!1,m="",C=JN,E=ZN,D=eL;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),u=D2(o,1,!1,null,null,d,m,null,C,E,D,V2),o[kd]=u.current,N1(o),new n_(u)},rv.hydrateRoot=function(o,u,d){if(!i(o))throw Error(r(299));var m=!1,C="",E=JN,D=ZN,k=eL,q=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),u=D2(o,1,!0,u,d??null,m,C,q,E,D,k,V2),u.context=R2(null),d=u.current,m=is(),m=qx(m),C=kl(m),C.callback=null,Ol(d,C,m),d=m,u.current.lanes=d,Ec(u,d),Ao(u),o[kd]=u.current,N1(o),new iB(u)},rv.version="19.2.1",rv}var nk;function m9(){if(nk)return a_.exports;nk=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),a_.exports=g9(),a_.exports}var v9=m9();const y9=Ja(v9);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rk="popstate";function w9(n={}){function e(i,s){let{pathname:a="/",search:A="",hash:l=""}=Id(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),bU("",{pathname:a,search:A,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),A="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");A=c===-1?l:l.slice(0,c)}return A+"#"+(typeof s=="string"?s:oy(s))}function r(i,s){va(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return B9(e,t,r,n)}function xn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function va(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C9(){return Math.random().toString(36).substring(2,10)}function ik(n,e){return{usr:n.state,key:n.key,idx:e}}function bU(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Id(e):e,state:t,key:e&&e.key||r||C9()}}function oy({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Id(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function B9(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,A="POP",l=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function h(){A="POP";let S=f(),x=S==null?null:S-c;c=S,l&&l({action:A,location:B.location,delta:x})}function g(S,x){A="PUSH";let _=bU(B.location,S,x);t&&t(_,S),c=f()+1;let T=ik(_,c),M=B.createHref(_);try{a.pushState(T,"",M)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(M)}s&&l&&l({action:A,location:B.location,delta:1})}function v(S,x){A="REPLACE";let _=bU(B.location,S,x);t&&t(_,S),c=f();let T=ik(_,c),M=B.createHref(_);a.replaceState(T,"",M),s&&l&&l({action:A,location:B.location,delta:0})}function b(S){return b9(S)}let B={get action(){return A},get location(){return n(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rk,h),l=S,()=>{i.removeEventListener(rk,h),l=null}},createHref(S){return e(i,S)},createURL:b,encodeLocation(S){let x=b(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(S){return a.go(S)}};return B}function b9(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),xn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:oy(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function RV(n,e,t="/"){return E9(n,e,t,!1)}function E9(n,e,t,r){let i=typeof e=="string"?Id(e):e,s=Al(i.pathname||"/",t);if(s==null)return null;let a=PV(n);S9(a);let A=null;for(let l=0;A==null&&l<a.length;++l){let c=Q9(s);A=R9(a[l],c,r)}return A}function PV(n,e=[],t=[],r="",i=!1){let s=(a,A,l=i,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:A,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;xn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=rl([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(xn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),PV(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:M9(h,a.index),routesMeta:g})};return n.forEach((a,A)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,A);else for(let c of QV(a.path))s(a,A,!0,c)}),e}function QV(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=QV(r.join("/")),A=[];return A.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&A.push(...a),A.map(l=>n.startsWith("/")&&l===""?"/":l)}function S9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:D9(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var x9=/^:[\w-]+$/,T9=3,_9=2,I9=1,U9=10,F9=-2,sk=n=>n==="*";function M9(n,e){let t=n.split("/"),r=t.length;return t.some(sk)&&(r+=F9),e&&(r+=_9),t.filter(i=>!sk(i)).reduce((i,s)=>i+(x9.test(s)?T9:s===""?I9:U9),r)}function D9(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function R9(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let A=0;A<r.length;++A){let l=r[A],c=A===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=Jb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),g=l.route;if(!h&&c&&t&&!r[r.length-1].route.index&&(h=Jb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:rl([s,h.pathname]),pathnameBase:H9(rl([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=rl([s,h.pathnameBase]))}return a}function Jb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=P9(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),A=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},g)=>{if(f==="*"){let b=A[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=A[g];return h&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:n}}function P9(n,e=!1,t=!0){va(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,A,l)=>(r.push({paramName:A,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Q9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Al(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var N9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L9=n=>N9.test(n);function k9(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Id(n):n,s;if(t)if(L9(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),va(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=ak(t.substring(1),"/"):s=ak(t,e)}else s=e;return{pathname:s,search:K9(r),hash:G9(i)}}function ak(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function u_(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function NV(n){let e=O9(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function LV(n,e,t,r=!1){let i;typeof n=="string"?i=Id(n):(i={...n},xn(!i.pathname||!i.pathname.includes("?"),u_("?","pathname","search",i)),xn(!i.pathname||!i.pathname.includes("#"),u_("#","pathname","hash",i)),xn(!i.search||!i.search.includes("#"),u_("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,A;if(a==null)A=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}A=h>=0?e[h]:"/"}let l=k9(i,A),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var rl=n=>n.join("/").replace(/\/\/+/g,"/"),H9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),K9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,G9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function V9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function z9(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kV=["POST","PUT","PATCH","DELETE"];new Set(kV);var q9=["GET",...kV];new Set(q9);var Wg=I.createContext(null);Wg.displayName="DataRouter";var RS=I.createContext(null);RS.displayName="DataRouterState";I.createContext(!1);var OV=I.createContext({isTransitioning:!1});OV.displayName="ViewTransition";var $9=I.createContext(new Map);$9.displayName="Fetchers";var Y9=I.createContext(null);Y9.displayName="Await";var Za=I.createContext(null);Za.displayName="Navigation";var dw=I.createContext(null);dw.displayName="Location";var bl=I.createContext({outlet:null,matches:[],isDataRoute:!1});bl.displayName="Route";var FD=I.createContext(null);FD.displayName="RouteError";function X9(n,{relative:e}={}){xn(hw(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=I.useContext(Za),{hash:i,pathname:s,search:a}=pw(n,{relative:e}),A=s;return t!=="/"&&(A=s==="/"?t:rl([t,s])),r.createHref({pathname:A,search:a,hash:i})}function hw(){return I.useContext(dw)!=null}function vc(){return xn(hw(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(dw).location}var HV="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KV(n){I.useContext(Za).static||I.useLayoutEffect(n)}function GV(){let{isDataRoute:n}=I.useContext(bl);return n?A7():W9()}function W9(){xn(hw(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Wg),{basename:e,navigator:t}=I.useContext(Za),{matches:r}=I.useContext(bl),{pathname:i}=vc(),s=JSON.stringify(NV(r)),a=I.useRef(!1);return KV(()=>{a.current=!0}),I.useCallback((l,c={})=>{if(va(a.current,HV),!a.current)return;if(typeof l=="number"){t.go(l);return}let f=LV(l,JSON.parse(s),i,c.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:rl([e,f.pathname])),(c.replace?t.replace:t.push)(f,c.state,c)},[e,t,s,i,n])}I.createContext(null);function pw(n,{relative:e}={}){let{matches:t}=I.useContext(bl),{pathname:r}=vc(),i=JSON.stringify(NV(t));return I.useMemo(()=>LV(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function j9(n,e){return VV(n,e)}function VV(n,e,t,r,i){var _;xn(hw(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=I.useContext(Za),{matches:a}=I.useContext(bl),A=a[a.length-1],l=A?A.params:{},c=A?A.pathname:"/",f=A?A.pathnameBase:"/",h=A&&A.route;{let T=h&&h.path||"";zV(c,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=vc(),v;if(e){let T=typeof e=="string"?Id(e):e;xn(f==="/"||((_=T.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let b=v.pathname||"/",B=b;if(f!=="/"){let T=f.replace(/^\//,"").split("/");B="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=RV(n,{pathname:B});va(h||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),va(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=n7(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:rl([f,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:rl([f,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,r,i);return e&&x?I.createElement(dw.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function J9(){let n=o7(),e=V9(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:i},t):null,a)}var Z9=I.createElement(J9,null),e7=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?I.createElement(bl.Provider,{value:this.props.routeContext},I.createElement(FD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t7({routeContext:n,match:e,children:t}){let r=I.useContext(Wg);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(bl.Provider,{value:n},t)}function n7(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);xn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let A=!1,l=-1;if(t)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=f),h.route.id){let{loaderData:g,errors:v}=t,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||b){A=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=t&&r?(f,h)=>{var g,v;r(f,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:z9(t.matches),errorInfo:h})}:void 0;return s.reduceRight((f,h,g)=>{let v,b=!1,B=null,S=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,B=h.route.errorElement||Z9,A&&(l<0&&g===0?(zV("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):l===g&&(b=!0,S=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),_=()=>{let T;return v?T=B:b?T=S:h.route.Component?T=I.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=f,I.createElement(t7,{match:h,routeContext:{outlet:f,matches:x,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?I.createElement(e7,{location:t.location,revalidation:t.revalidation,component:B,error:v,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:c}):_()},null)}function MD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r7(n){let e=I.useContext(Wg);return xn(e,MD(n)),e}function i7(n){let e=I.useContext(RS);return xn(e,MD(n)),e}function s7(n){let e=I.useContext(bl);return xn(e,MD(n)),e}function DD(n){let e=s7(n),t=e.matches[e.matches.length-1];return xn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function a7(){return DD("useRouteId")}function o7(){var r;let n=I.useContext(FD),e=i7("useRouteError"),t=DD("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function A7(){let{router:n}=r7("useNavigate"),e=DD("useNavigate"),t=I.useRef(!1);return KV(()=>{t.current=!0}),I.useCallback(async(i,s={})=>{va(t.current,HV),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var ok={};function zV(n,e,t){!e&&!ok[n]&&(ok[n]=!0,va(!1,t))}I.memo(l7);function l7({routes:n,future:e,state:t,unstable_onError:r}){return VV(n,void 0,t,r,e)}function EU(n){xn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u7({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){xn(!hw(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let A=n.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:A,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[A,i,s,a]);typeof t=="string"&&(t=Id(t));let{pathname:c="/",search:f="",hash:h="",state:g=null,key:v="default"}=t,b=I.useMemo(()=>{let B=Al(c,A);return B==null?null:{location:{pathname:B,search:f,hash:h,state:g,key:v},navigationType:r}},[A,c,f,h,g,v,r]);return va(b!=null,`<Router basename="${A}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:I.createElement(Za.Provider,{value:l},I.createElement(dw.Provider,{children:e,value:b}))}function c7({children:n,location:e}){return j9(SU(n),e)}function SU(n,e=[]){let t=[];return I.Children.forEach(n,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){t.push.apply(t,SU(r.props.children,s));return}xn(r.type===EU,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=SU(r.props.children,s)),t.push(a)}),t}var ib="get",sb="application/x-www-form-urlencoded";function PS(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function f7(n){return PS(n)&&n.tagName.toLowerCase()==="button"}function d7(n){return PS(n)&&n.tagName.toLowerCase()==="form"}function h7(n){return PS(n)&&n.tagName.toLowerCase()==="input"}function p7(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function g7(n,e){return n.button===0&&(!e||e==="_self")&&!p7(n)}var aB=null;function m7(){if(aB===null)try{new FormData(document.createElement("form"),0),aB=!1}catch{aB=!0}return aB}var v7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function c_(n){return n!=null&&!v7.has(n)?(va(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sb}"`),null):n}function y7(n,e){let t,r,i,s,a;if(d7(n)){let A=n.getAttribute("action");r=A?Al(A,e):null,t=n.getAttribute("method")||ib,i=c_(n.getAttribute("enctype"))||sb,s=new FormData(n)}else if(f7(n)||h7(n)&&(n.type==="submit"||n.type==="image")){let A=n.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||A.getAttribute("action");if(r=l?Al(l,e):null,t=n.getAttribute("formmethod")||A.getAttribute("method")||ib,i=c_(n.getAttribute("formenctype"))||c_(A.getAttribute("enctype"))||sb,s=new FormData(A,n),!m7()){let{name:c,type:f,value:h}=n;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,h)}}else{if(PS(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ib,r=null,i=sb,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function RD(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function w7(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Al(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function C7(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B7(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function b7(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await C7(s,t);return a.links?a.links():[]}return[]}));return T7(r.flat(1).filter(B7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ak(n,e,t,r,i,s){let a=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,A=(l,c)=>{var f;return t[c].pathname!==l.pathname||((f=t[c].route.path)==null?void 0:f.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||A(l,c)):s==="data"?e.filter((l,c)=>{var h;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(a(l,c)||A(l,c))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function E7(n,e,{includeHydrateFallback:t}={}){return S7(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function S7(n){return[...new Set(n)]}function x7(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function T7(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(x7(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function qV(){let n=I.useContext(Wg);return RD(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _7(){let n=I.useContext(RS);return RD(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var PD=I.createContext(void 0);PD.displayName="FrameworkContext";function $V(){let n=I.useContext(PD);return RD(n,"You must render this element inside a <HydratedRouter> element"),n}function I7(n,e){let t=I.useContext(PD),[r,i]=I.useState(!1),[s,a]=I.useState(!1),{onFocus:A,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=e,g=I.useRef(null);I.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let B=x=>{x.forEach(_=>{a(_.isIntersecting)})},S=new IntersectionObserver(B,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[n]),I.useEffect(()=>{if(r){let B=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(B)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:iv(A,v),onBlur:iv(l,b),onMouseEnter:iv(c,v),onMouseLeave:iv(f,b),onTouchStart:iv(h,v)}]:[!1,g,{}]}function iv(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function U7({page:n,...e}){let{router:t}=qV(),r=I.useMemo(()=>RV(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?I.createElement(M7,{page:n,matches:r,...e}):null}function F7(n){let{manifest:e,routeModules:t}=$V(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return b7(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function M7({page:n,matches:e,...t}){let r=vc(),{manifest:i,routeModules:s}=$V(),{basename:a}=qV(),{loaderData:A,matches:l}=_7(),c=I.useMemo(()=>Ak(n,e,l,i,r,"data"),[n,e,l,i,r]),f=I.useMemo(()=>Ak(n,e,l,i,r,"assets"),[n,e,l,i,r]),h=I.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,B=!1;if(e.forEach(x=>{var T;let _=i.routes[x.route.id];!_||!_.hasLoader||(!c.some(M=>M.route.id===x.route.id)&&x.route.id in A&&((T=s[x.route.id])!=null&&T.shouldRevalidate)||_.hasClientLoader?B=!0:b.add(x.route.id))}),b.size===0)return[];let S=w7(n,a,"data");return B&&b.size>0&&S.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[a,A,r,i,c,e,n,s]),g=I.useMemo(()=>E7(f,i),[f,i]),v=F7(f);return I.createElement(I.Fragment,null,h.map(b=>I.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>I.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:B})=>I.createElement("link",{key:b,nonce:t.nonce,...B})))}function D7(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var YV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YV&&(window.__reactRouterVersion="7.10.1")}catch{}function R7({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=I.useRef();i.current==null&&(i.current=w9({window:r,v5Compat:!0}));let s=i.current,[a,A]=I.useState({action:s.action,location:s.location}),l=I.useCallback(c=>{t===!1?A(c):I.startTransition(()=>A(c))},[t]);return I.useLayoutEffect(()=>s.listen(l),[s,l]),I.createElement(u7,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var XV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zb=I.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:A,target:l,to:c,preventScrollReset:f,viewTransition:h,...g},v){let{basename:b,unstable_useTransitions:B}=I.useContext(Za),S=typeof c=="string"&&XV.test(c),x,_=!1;if(typeof c=="string"&&S&&(x=c,YV))try{let $=new URL(window.location.href),G=c.startsWith("//")?new URL($.protocol+c):new URL(c),Y=Al(G.pathname,b);G.origin===$.origin&&Y!=null?c=Y+G.search+G.hash:_=!0}catch{va(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=X9(c,{relative:i}),[M,F,R]=I7(r,g),L=L7(c,{replace:a,state:A,target:l,preventScrollReset:f,relative:i,viewTransition:h,unstable_useTransitions:B});function K($){e&&e($),$.defaultPrevented||L($)}let O=I.createElement("a",{...g,...R,href:x||T,onClick:_||s?e:K,ref:D7(v,F),target:l,"data-discover":!S&&t==="render"?"true":void 0});return M&&!S?I.createElement(I.Fragment,null,O,I.createElement(U7,{page:T})):O});Zb.displayName="Link";var P7=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:A,children:l,...c},f){let h=pw(a,{relative:c.relative}),g=vc(),v=I.useContext(RS),{navigator:b,basename:B}=I.useContext(Za),S=v!=null&&G7(h)&&A===!0,x=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,_=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(_=_.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&B&&(T=Al(T,B)||T);const M=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let F=_===x||!i&&_.startsWith(x)&&_.charAt(M)==="/",R=T!=null&&(T===x||!i&&T.startsWith(x)&&T.charAt(x.length)==="/"),L={isActive:F,isPending:R,isTransitioning:S},K=F?e:void 0,O;typeof r=="function"?O=r(L):O=[r,F?"active":null,R?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(L):s;return I.createElement(Zb,{...c,"aria-current":K,className:O,ref:f,style:$,to:a,viewTransition:A},typeof l=="function"?l(L):l)});P7.displayName="NavLink";var Q7=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=ib,action:A,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:h,...g},v)=>{let{unstable_useTransitions:b}=I.useContext(Za),B=H7(),S=K7(A,{relative:c}),x=a.toLowerCase()==="get"?"get":"post",_=typeof A=="string"&&XV.test(A),T=M=>{if(l&&l(M),M.defaultPrevented)return;M.preventDefault();let F=M.nativeEvent.submitter,R=(F==null?void 0:F.getAttribute("formmethod"))||a,L=()=>B(F||M.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:h});b&&t!==!1?I.startTransition(()=>L()):L()};return I.createElement("form",{ref:v,method:x,action:S,onSubmit:r?l:T,...g,"data-discover":!_&&n==="render"?"true":void 0})});Q7.displayName="Form";function N7(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WV(n){let e=I.useContext(Wg);return xn(e,N7(n)),e}function L7(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_useTransitions:A}={}){let l=GV(),c=vc(),f=pw(n,{relative:s});return I.useCallback(h=>{if(g7(h,e)){h.preventDefault();let g=t!==void 0?t:oy(c)===oy(f),v=()=>l(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a});A?I.startTransition(()=>v()):v()}},[c,l,f,t,r,e,n,i,s,a,A])}var k7=0,O7=()=>`__${String(++k7)}__`;function H7(){let{router:n}=WV("useSubmit"),{basename:e}=I.useContext(Za),t=a7(),r=n.fetch,i=n.navigate;return I.useCallback(async(s,a={})=>{let{action:A,method:l,encType:c,formData:f,body:h}=y7(s,e);if(a.navigate===!1){let g=a.fetcherKey||O7();await r(g,t,a.action||A,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await i(a.action||A,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,t])}function K7(n,{relative:e}={}){let{basename:t}=I.useContext(Za),r=I.useContext(bl);xn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...pw(n||".",{relative:e})},a=vc();if(n==null){s.search=a.search;let A=new URLSearchParams(s.search),l=A.getAll("index");if(l.some(f=>f==="")){A.delete("index"),l.filter(h=>h).forEach(h=>A.append("index",h));let f=A.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:rl([t,s.pathname])),oy(s)}function G7(n,{relative:e}={}){let t=I.useContext(OV);xn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WV("useViewTransitionState"),i=pw(n,{relative:e});if(!t.isTransitioning)return!1;let s=Al(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Al(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Jb(i.pathname,a)!=null||Jb(i.pathname,s)!=null}var jV=DV();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let V7,z7;function q7(){return{geminiUrl:V7,vertexUrl:z7}}function $7(n,e,t,r){var i,s;if(!(n!=null&&n.baseUrl)){const a=q7();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class El{}function xe(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const A=a.slice(0,-2);if(!(A in n))if(Array.isArray(t))n[A]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[A])){const l=n[A];if(Array.isArray(t))for(let c=0;c<l.length;c++){const f=l[c];w(f,e.slice(s+1),t[c])}else for(const c of l)w(c,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const A=a.slice(0,-3);A in n||(n[A]=[{}]);const l=n[A];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(A=>y(A,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function Y7(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),s=r.split("."),a=new Set;let A=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){A=l;break}if(A!==-1&&s.length>A)for(let l=A;l<s.length;l++){const c=s[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&a.add(c)}xU(n,i,s,0,a)}}function xU(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),A=n;if(a in A&&Array.isArray(A[a]))for(const l of A[a])xU(l,e,t,r+1,i)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,A=Object.keys(a).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of A)l[c]=a[c];for(const[c,f]of Object.entries(l)){const h=[];for(const g of t.slice(r))g==="*"?h.push(c):h.push(g);w(a,h,f)}for(const c of A)delete a[c]}}else{const a=n;s in a&&xU(a[s],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QD(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X7(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const r=y(n,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function W7(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],J7(a)),e}function j7(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Z7(a)),e}function J7(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>eZ(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Z7(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>tZ(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function eZ(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],oZ(t)),e}function tZ(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],AZ(t)),e}function nZ(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function rZ(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function iZ(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],sZ(a)),e}function sZ(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function JV(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],aZ(a)),e}function aZ(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function oZ(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],QD(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function AZ(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],QD(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lk;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lk||(lk={}));var uk;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(uk||(uk={}));var ck;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(ck||(ck={}));var rc;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(rc||(rc={}));var fk;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(fk||(fk={}));var dk;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dk||(dk={}));var hk;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(hk||(hk={}));var pk;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(pk||(pk={}));var gk;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(gk||(gk={}));var mk;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(mk||(mk={}));var vk;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(vk||(vk={}));var yk;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(yk||(yk={}));var wk;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(wk||(wk={}));var Ck;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Ck||(Ck={}));var Bk;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Bk||(Bk={}));var bk;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bk||(bk={}));var Ek;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ek||(Ek={}));var Sk;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Sk||(Sk={}));var xk;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xk||(xk={}));var eE;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(eE||(eE={}));var Tk;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Tk||(Tk={}));var _k;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(_k||(_k={}));var Ik;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ik||(Ik={}));var TU;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(TU||(TU={}));var Uk;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Uk||(Uk={}));var Fk;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fk||(Fk={}));var Mk;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Mk||(Mk={}));var Dk;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Dk||(Dk={}));var Rk;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Rk||(Rk={}));var Pk;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Pk||(Pk={}));var Qk;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Qk||(Qk={}));var Nk;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Nk||(Nk={}));var Lk;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Lk||(Lk={}));var kk;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(kk||(kk={}));var Ok;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ok||(Ok={}));var Hk;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Hk||(Hk={}));var Kk;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Kk||(Kk={}));var Gk;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gk||(Gk={}));var Vk;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Vk||(Vk={}));var zk;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(zk||(zk={}));var qk;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(qk||(qk={}));var $k;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})($k||($k={}));var Yk;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Yk||(Yk={}));var Xk;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Xk||(Xk={}));var Wk;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Wk||(Wk={}));var jk;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(jk||(jk={}));var Jk;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Jk||(Jk={}));var Zk;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Zk||(Zk={}));var eO;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eO||(eO={}));var tO;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tO||(tO={}));var nO;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(nO||(nO={}));var rO;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rO||(rO={}));var iO;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iO||(iO={}));var sO;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(sO||(sO={}));var Vh;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Vh||(Vh={}));class _U{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class sv{get text(){var e,t,r,i,s,a,A,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const h=[];for(const g of(l=(A=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||A===void 0?void 0:A.parts)!==null&&l!==void 0?l:[]){for(const[v,b]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(b!==null||b!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,c+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,t,r,i,s,a,A,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const h of(l=(A=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||A===void 0?void 0:A.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&f.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,r,i,s,a,A,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(A=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||A===void 0?void 0:A.parts)===null||l===void 0?void 0:l.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,r,i,s,a,A,l,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(l=(A=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||A===void 0?void 0:A.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,r,i,s,a,A,l,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(l=(A=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||A===void 0?void 0:A.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class aO{}class oO{}class lZ{}class uZ{}class cZ{}class fZ{}class AO{}class lO{}class uO{}class dZ{}class tE{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new tE;let i;const s=e;return t?i=j7(s):i=W7(s),Object.assign(r,i),r}}class cO{}class fO{}class dO{}class hO{}class hZ{}class pZ{}class gZ{}class ND{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new ND,s=iZ(e);return Object.assign(r,s),r}}class mZ{}class vZ{}class yZ{}class pO{}class wZ{get text(){var e,t,r;let i="",s=!1;const a=[];for(const A of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(A))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;s=!0,i+=A.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,r;let i="";const s=[];for(const a of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[A,l]of Object.entries(a))A!=="inlineData"&&l!==null&&s.push(A);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class CZ{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class LD{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new LD,s=JV(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ZV(n,e){const t=xt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function ez(n){return Array.isArray(n)?n.map(e=>nE(e)):[nE(n)]}function nE(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function tz(n){const e=nE(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function nz(n){const e=nE(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gO(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function rz(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>gO(e)):[gO(n)]}function IU(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function mO(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function vO(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ui(n){if(n==null)throw new Error("ContentUnion is required");return IU(n)?n:{role:"user",parts:rz(n)}}function kD(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=ui(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=ui(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>ui(t)):[ui(e)]}function ga(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(mO(n)||vO(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ui(n)]}const e=[],t=[],r=IU(n[0]);for(const i of n){const s=IU(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(mO(i)||vO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:rz(t)}),e}function BZ(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(rc).includes(t[0].toUpperCase())?t[0].toUpperCase():rc.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(rc).includes(r.toUpperCase())?r.toUpperCase():rc.TYPE_UNSPECIFIED})}}function Zh(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&BZ(n.type,e);for(const[a,A]of Object.entries(n))if(A!=null)if(a=="type"){if(A==="null")throw new Error("type: null can not be the only possible type for the field.");if(A instanceof Array)continue;e.type=Object.values(rc).includes(A.toUpperCase())?A.toUpperCase():rc.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Zh(A);else if(r.includes(a)){const l=[];for(const c of A){if(c.type=="null"){e.nullable=!0;continue}l.push(Zh(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,f]of Object.entries(A))l[c]=Zh(f);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=A}return e}function OD(n){return Zh(n)}function HD(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function KD(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function jg(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Zh(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Zh(e.response));return n}function Jg(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function bZ(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Sl(n,e){if(typeof e!="string")throw new Error("name must be a string");return bZ(n,e,"cachedContents")}function iz(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function yc(n){return QD(n)}function EZ(n){return n!=null&&typeof n=="object"&&"name"in n}function SZ(n){return n!=null&&typeof n=="object"&&"video"in n}function xZ(n){return n!=null&&typeof n=="object"&&"uri"in n}function sz(n){var e;let t;if(EZ(n)&&(t=n.name),!(xZ(n)&&(t=n.uri,t===void 0))&&!(SZ(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function az(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function oz(n){for(const e of["models","tunedModels","publisherModels"])if(TZ(n,e))return n[e];return[]}function TZ(n,e){return n!==null&&typeof n=="object"&&e in n}function _Z(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function IZ(n,e={}){const t=[],r=new Set;for(const i of n){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=_Z(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function Az(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function UZ(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function lz(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Zg(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function uz(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FZ(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const r=y(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>cee(a))),w(e,["inlinedResponses"],s)}const i=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function MZ(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function DZ(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ab(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["metadata","state"]);i!=null&&w(e,["state"],uz(i));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const A=y(n,["metadata","updateTime"]);A!=null&&w(e,["updateTime"],A);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const c=y(n,["metadata","output"]);return c!=null&&w(e,["dest"],FZ(lz(c))),e}function UU(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["state"]);i!=null&&w(e,["state"],uz(i));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const A=y(n,["startTime"]);A!=null&&w(e,["startTime"],A);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const c=y(n,["updateTime"]);c!=null&&w(e,["updateTime"],c);const f=y(n,["model"]);f!=null&&w(e,["model"],f);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],RZ(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],MZ(lz(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function RZ(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function PZ(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&w(t,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>uee(n,a))),w(t,["requests","requests"],s)}return t}function QZ(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function NZ(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function LZ(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Zg(n,r)),t}function kZ(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Zg(n,r)),t}function OZ(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],HZ(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const A=y(n,["groundingMetadata"]);A!=null&&w(e,["groundingMetadata"],A);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const c=y(n,["logprobsResult"]);c!=null&&w(e,["logprobsResult"],c);const f=y(n,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function HZ(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function cz(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>vee(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function KZ(n,e){const t={},r=y(n,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function GZ(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],DZ(UZ(i))),t}function yO(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],PZ(n,Az(n,i)));const s=y(e,["config"]);return s!=null&&KZ(s,t),t}function VZ(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],xt(n,r));const i=y(e,["src"]);i!=null&&w(t,["inputConfig"],QZ(Az(n,i)));const s=y(e,["config"]);return s!=null&&GZ(s,t),t}function zZ(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),t}function qZ(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],ZZ(n,i));const s=y(e,["config"]);return s!=null&&zZ(s,t),t}function $Z(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Zg(n,r)),t}function YZ(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Zg(n,r)),t}function XZ(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function WZ(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function jZ(n,e){const t={},r=y(e,["contents"]);if(r!=null){let s=kD(n,r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(w(t,["_self"],JZ(i,t)),Y7(t,{"requests[].*":"requests[].request.*"})),t}function JZ(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function ZZ(n,e){const t={},r=y(e,["fileName"]);r!=null&&w(t,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&w(t,["requests"],jZ(n,i)),t}function eee(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function tee(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nee(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ree(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],cz(ui(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const A=y(e,["topK"]);A!=null&&w(r,["topK"],A);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const c=y(e,["maxOutputTokens"]);c!=null&&w(r,["maxOutputTokens"],c);const f=y(e,["stopSequences"]);f!=null&&w(r,["stopSequences"],f);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(r,["frequencyPenalty"],b);const B=y(e,["seed"]);B!=null&&w(r,["seed"],B);const S=y(e,["responseMimeType"]);S!=null&&w(r,["responseMimeType"],S);const x=y(e,["responseSchema"]);x!=null&&w(r,["responseSchema"],OD(x));const _=y(e,["responseJsonSchema"]);if(_!=null&&w(r,["responseJsonSchema"],_),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let Y=T;Array.isArray(Y)&&(Y=Y.map(J=>yee(J))),w(t,["safetySettings"],Y)}const M=y(e,["tools"]);if(t!==void 0&&M!=null){let Y=Jg(M);Array.isArray(Y)&&(Y=Y.map(J=>Cee(jg(J)))),w(t,["tools"],Y)}const F=y(e,["toolConfig"]);if(t!==void 0&&F!=null&&w(t,["toolConfig"],wee(F)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=y(e,["cachedContent"]);t!==void 0&&R!=null&&w(t,["cachedContent"],Sl(n,R));const L=y(e,["responseModalities"]);L!=null&&w(r,["responseModalities"],L);const K=y(e,["mediaResolution"]);K!=null&&w(r,["mediaResolution"],K);const O=y(e,["speechConfig"]);if(O!=null&&w(r,["speechConfig"],HD(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=y(e,["thinkingConfig"]);$!=null&&w(r,["thinkingConfig"],$);const G=y(e,["imageConfig"]);return G!=null&&w(r,["imageConfig"],lee(G)),r}function iee(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>OZ(c))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const A=y(n,["usageMetadata"]);return A!=null&&w(e,["usageMetadata"],A),e}function see(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Zg(n,r)),t}function aee(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Zg(n,r)),t}function oee(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Aee(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function lee(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function uee(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["request","model"],xt(n,r));const i=y(e,["contents"]);if(i!=null){let A=ga(i);Array.isArray(A)&&(A=A.map(l=>cz(l))),w(t,["request","contents"],A)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],ree(n,a,y(t,["request"],{}))),t}function cee(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],iee(t));const r=y(n,["error"]);return r!=null&&w(e,["error"],r),e}function fee(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function dee(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function hee(n){const e={},t=y(n,["config"]);return t!=null&&fee(t,e),e}function pee(n){const e={},t=y(n,["config"]);return t!=null&&dee(t,e),e}function gee(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>ab(a))),w(e,["batchJobs"],s)}return e}function mee(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>UU(a))),w(e,["batchJobs"],s)}return e}function vee(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],eee(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],tee(a));const A=y(n,["functionResponse"]);A!=null&&w(e,["functionResponse"],A);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],NZ(l));const c=y(n,["text"]);c!=null&&w(e,["text"],c);const f=y(n,["thought"]);f!=null&&w(e,["thought"],f);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function yee(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function wee(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],nee(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function Cee(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(h=>h)),w(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const A=y(n,["googleMaps"]);A!=null&&w(e,["googleMaps"],oee(A));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Aee(l));const c=y(n,["urlContext"]);return c!=null&&w(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ll;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(ll||(ll={}));class Ud{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bee extends El{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ud(ll.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=yO(this.apiClient,e),r=t._url,i=xe("{model}:batchGenerateContent",r),A=t.batch.inputConfig.requests,l=A.requests,c=[];for(const f of l){const h=Object.assign({},f);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}c.push(h)}return A.requests=c,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=VZ(this.apiClient,e);return A=xe("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>UU(f))}else{const c=yO(this.apiClient,e);return A=xe("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>ab(f))}}async createEmbeddingsInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=qZ(this.apiClient,e);return s=xe("{model}:asyncBatchEmbedContent",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>ab(l))}}async get(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=aee(this.apiClient,e);return A=xe("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>UU(f))}else{const c=see(this.apiClient,e);return A=xe("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>ab(f))}}async cancel(e){var t,r,i,s;let a="",A={};if(this.apiClient.isVertexAI()){const l=kZ(this.apiClient,e);a=xe("batchPredictionJobs/{name}:cancel",l._url),A=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:A,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=LZ(this.apiClient,e);a=xe("batches/{name}:cancel",l._url),A=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:A,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=pee(e);return A=xe("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=mee(f),g=new pO;return Object.assign(g,h),g})}else{const c=hee(e);return A=xe("batches",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=gee(f),g=new pO;return Object.assign(g,h),g})}}async delete(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=YZ(this.apiClient,e);return A=xe("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>WZ(f))}else{const c=$Z(this.apiClient,e);return A=xe("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>XZ(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bee(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function wO(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>qee(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function Eee(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let f=ga(a);Array.isArray(f)&&(f=f.map(h=>wO(h))),w(e,["contents"],f)}const A=y(n,["systemInstruction"]);e!==void 0&&A!=null&&w(e,["systemInstruction"],wO(ui(A)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Yee(h))),w(e,["tools"],f)}const c=y(n,["toolConfig"]);if(e!==void 0&&c!=null&&w(e,["toolConfig"],$ee(c)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function See(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=ga(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const A=y(n,["systemInstruction"]);e!==void 0&&A!=null&&w(e,["systemInstruction"],ui(A));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Xee(g))),w(e,["tools"],h)}const c=y(n,["toolConfig"]);e!==void 0&&c!=null&&w(e,["toolConfig"],c);const f=y(n,["kmsKeyName"]);return e!==void 0&&f!=null&&w(e,["encryption_spec","kmsKeyName"],f),t}function xee(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],ZV(n,r));const i=y(e,["config"]);return i!=null&&Eee(i,t),t}function Tee(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],ZV(n,r));const i=y(e,["config"]);return i!=null&&See(i,t),t}function _ee(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Sl(n,r)),t}function Iee(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Sl(n,r)),t}function Uee(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Fee(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Mee(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Dee(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ree(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Pee(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const A=y(n,["responseJsonSchema"]);return A!=null&&w(e,["responseJsonSchema"],A),e}function Qee(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Sl(n,r)),t}function Nee(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Sl(n,r)),t}function Lee(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function kee(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Oee(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Hee(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Kee(n){const e={},t=y(n,["config"]);return t!=null&&Oee(t,e),e}function Gee(n){const e={},t=y(n,["config"]);return t!=null&&Hee(t,e),e}function Vee(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function zee(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function qee(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Mee(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Dee(a));const A=y(n,["functionResponse"]);A!=null&&w(e,["functionResponse"],A);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],bee(l));const c=y(n,["text"]);c!=null&&w(e,["text"],c);const f=y(n,["thought"]);f!=null&&w(e,["thought"],f);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function $ee(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Ree(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function Yee(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(h=>h)),w(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const A=y(n,["googleMaps"]);A!=null&&w(e,["googleMaps"],Lee(A));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],kee(l));const c=y(n,["urlContext"]);return c!=null&&w(e,["urlContext"],c),e}function Xee(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Pee(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const A=y(n,["enterpriseWebSearch"]);A!=null&&w(e,["enterpriseWebSearch"],A);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=y(n,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const f=y(n,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}function Wee(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function jee(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function Jee(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Sl(n,r));const i=y(e,["config"]);return i!=null&&Wee(i,t),t}function Zee(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Sl(n,r));const i=y(e,["config"]);return i!=null&&jee(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ete extends El{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ud(ll.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=Tee(this.apiClient,e);return A=xe("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const c=xee(this.apiClient,e);return A=xe("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async get(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=Nee(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const c=Qee(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=Iee(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=Fee(f),g=new dO;return Object.assign(g,h),g})}else{const c=_ee(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=Uee(f),g=new dO;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=Zee(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const c=Jee(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async listInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=Gee(e);return A=xe("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=zee(f),g=new hO;return Object.assign(g,h),g})}else{const c=Kee(e);return A=xe("cachedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=Vee(f),g=new hO;return Object.assign(g,h),g})}}}function CO(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(n){return this instanceof fn?(this.v=n,this):new fn(n)}function ep(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),A("next"),A("throw"),A("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(b){return Promise.resolve(b).then(v,h)}}function A(v,b){r[v]&&(i[v]=function(B){return new Promise(function(S,x){s.push([v,B,S,x])>1||l(v,B)})},b&&(i[v]=b(i[v])))}function l(v,b){try{c(r[v](b))}catch(B){g(s[0][3],B)}}function c(v){v.value instanceof fn?Promise.resolve(v.value.v).then(f,h):g(s[0][2],v)}function f(v){l("next",v)}function h(v){l("throw",v)}function g(v,b){v(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Zv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof CO=="function"?CO(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(A,l){a=n[s](a),i(A,l,a.done,a.value)})}}function i(s,a,A,l){Promise.resolve(l).then(function(c){s({value:c,done:A})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tte(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:fz(t)}function fz(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function nte(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function BO(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let s=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),s&&!fz(n[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class rte{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ite(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ite{constructor(e,t,r,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),nte(s)}async sendMessage(e){var t;await this.sendPromise;const r=ui(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,A;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,f=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];f!=null&&(g=(A=f.slice(h))!==null&&A!==void 0?A:[]);const v=c?[c]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=ui(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const t=e?BO(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,i;return ep(this,arguments,function*(){var a,A,l,c;const f=[];try{for(var h=!0,g=Zv(e),v;v=yield fn(g.next()),a=v.done,!a;h=!0){c=v.value,h=!1;const b=c;if(tte(b)){const B=(i=(r=b.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;B!==void 0&&f.push(B)}yield yield fn(b)}}catch(b){A={error:b}}finally{try{!h&&!a&&(l=g.return)&&(yield fn(l.call(g)))}finally{if(A)throw A.error}}this.recordHistory(t,f)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...BO(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QS extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,QS.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ste(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function ate(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function ote(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],sz(t)),e}function Ate(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function lte(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],sz(t)),e}function ute(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function cte(n){const e={},t=y(n,["config"]);return t!=null&&ute(t,e),e}function fte(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dte extends El{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ud(ll.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=cte(e);return s=xe("files",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),i.then(l=>{const c=fte(l),f=new mZ;return Object.assign(f,c),f})}}async createInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=ste(e);return s=xe("upload/v1beta/files",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=ate(l),f=new vZ;return Object.assign(f,c),f})}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=lte(e);return s=xe("files/{file}",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=ote(e);return s=xe("files/{file}",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),i.then(l=>{const c=Ate(l),f=new yZ;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ob(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function hte(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Ute(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function pte(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function gte(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mte(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const A=y(n,["responseJsonSchema"]);return A!=null&&w(e,["responseJsonSchema"],A),e}function vte(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const A=y(n,["frequencyPenalty"]);A!=null&&w(e,["frequencyPenalty"],A);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const c=y(n,["maxOutputTokens"]);c!=null&&w(e,["maxOutputTokens"],c);const f=y(n,["mediaResolution"]);f!=null&&w(e,["mediaResolution"],f);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const B=y(n,["responseSchema"]);B!=null&&w(e,["responseSchema"],B);const S=y(n,["routingConfig"]);S!=null&&w(e,["routingConfig"],S);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const _=y(n,["speechConfig"]);_!=null&&w(e,["speechConfig"],dz(_));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const M=y(n,["temperature"]);M!=null&&w(e,["temperature"],M);const F=y(n,["thinkingConfig"]);F!=null&&w(e,["thinkingConfig"],F);const R=y(n,["topK"]);R!=null&&w(e,["topK"],R);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yte(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function wte(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Cte(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const A=y(n,["topK"]);e!==void 0&&A!=null&&w(e,["setup","generationConfig","topK"],A);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const c=y(n,["mediaResolution"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","mediaResolution"],c);const f=y(n,["seed"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","seed"],f);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],KD(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],hte(ui(b)));const B=y(n,["tools"]);if(e!==void 0&&B!=null){let R=Jg(B);Array.isArray(R)&&(R=R.map(L=>Mte(jg(L)))),w(e,["setup","tools"],R)}const S=y(n,["sessionResumption"]);e!==void 0&&S!=null&&w(e,["setup","sessionResumption"],Fte(S));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const _=y(n,["outputAudioTranscription"]);e!==void 0&&_!=null&&w(e,["setup","outputAudioTranscription"],_);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const M=y(n,["contextWindowCompression"]);e!==void 0&&M!=null&&w(e,["setup","contextWindowCompression"],M);const F=y(n,["proactivity"]);return e!==void 0&&F!=null&&w(e,["setup","proactivity"],F),t}function Bte(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],vte(r));const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const A=y(n,["topK"]);e!==void 0&&A!=null&&w(e,["setup","generationConfig","topK"],A);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const c=y(n,["mediaResolution"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","mediaResolution"],c);const f=y(n,["seed"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","seed"],f);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],dz(KD(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],ui(b));const B=y(n,["tools"]);if(e!==void 0&&B!=null){let R=Jg(B);Array.isArray(R)&&(R=R.map(L=>Dte(jg(L)))),w(e,["setup","tools"],R)}const S=y(n,["sessionResumption"]);e!==void 0&&S!=null&&w(e,["setup","sessionResumption"],S);const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const _=y(n,["outputAudioTranscription"]);e!==void 0&&_!=null&&w(e,["setup","outputAudioTranscription"],_);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const M=y(n,["contextWindowCompression"]);e!==void 0&&M!=null&&w(e,["setup","contextWindowCompression"],M);const F=y(n,["proactivity"]);return e!==void 0&&F!=null&&w(e,["setup","proactivity"],F),t}function bte(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],xt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],Cte(i,t)),t}function Ete(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],xt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],Bte(i,t)),t}function Ste(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function xte(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function Tte(n){const e={},t=y(n,["media"]);if(t!=null){let c=ez(t);Array.isArray(c)&&(c=c.map(f=>ob(f))),w(e,["mediaChunks"],c)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],ob(nz(r)));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],ob(tz(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const A=y(n,["activityStart"]);A!=null&&w(e,["activityStart"],A);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function _te(n){const e={},t=y(n,["media"]);if(t!=null){let c=ez(t);Array.isArray(c)&&(c=c.map(f=>f)),w(e,["mediaChunks"],c)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],nz(r));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],tz(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const A=y(n,["activityStart"]);A!=null&&w(e,["activityStart"],A);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function Ite(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const r=y(n,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=y(n,["toolCall"]);i!=null&&w(e,["toolCall"],i);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],Rte(a));const A=y(n,["goAway"]);A!=null&&w(e,["goAway"],A);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function Ute(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],pte(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],gte(a));const A=y(n,["functionResponse"]);A!=null&&w(e,["functionResponse"],A);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],ob(l));const c=y(n,["text"]);c!=null&&w(e,["text"],c);const f=y(n,["thought"]);f!=null&&w(e,["thought"],f);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Fte(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dz(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Mte(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(h=>h)),w(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const A=y(n,["googleMaps"]);A!=null&&w(e,["googleMaps"],yte(A));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],wte(l));const c=y(n,["urlContext"]);return c!=null&&w(e,["urlContext"],c),e}function Dte(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>mte(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const A=y(n,["enterpriseWebSearch"]);A!=null&&w(e,["enterpriseWebSearch"],A);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=y(n,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const f=y(n,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}function Rte(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const r=y(n,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=y(n,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const A=y(n,["totalTokenCount"]);A!=null&&w(e,["totalTokenCount"],A);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["promptTokensDetails"],v)}const c=y(n,["cacheTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["cacheTokensDetails"],v)}const f=y(n,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pte(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Qte(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],Nte(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const A=y(n,["groundingMetadata"]);A!=null&&w(e,["groundingMetadata"],A);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const c=y(n,["logprobsResult"]);c!=null&&w(e,["logprobsResult"],c);const f=y(n,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Nte(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function Lte(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["contents"]);if(i!=null){let s=ga(i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function kte(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["tokensInfo"],i)}return e}function Ote(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const r=y(n,["statistics"]);return r!=null&&w(e,["statistics"],Hte(r)),e}function Hte(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const r=y(n,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function NS(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Wne(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function Kte(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const r=y(n,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function Gte(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Vte(n,e){const t={},r=y(n,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],ui(r));const i=y(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(A=>vz(A))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],Pne(s)),t}function zte(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["contents"]);if(i!=null){let a=ga(i);Array.isArray(a)&&(a=a.map(A=>NS(A))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Gte(s),t}function qte(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["contents"]);if(i!=null){let a=ga(i);Array.isArray(a)&&(a=a.map(A=>A)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Vte(s,t),t}function $te(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=y(n,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function Yte(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function Xte(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],xt(n,r)),t}function Wte(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],xt(n,r)),t}function jte(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Jte(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Zte(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const A=y(n,["guidanceScale"]);e!==void 0&&A!=null&&w(e,["parameters","guidanceScale"],A);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const c=y(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&w(e,["parameters","safetySetting"],c);const f=y(n,["personGeneration"]);e!==void 0&&f!=null&&w(e,["parameters","personGeneration"],f);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const B=y(n,["outputCompressionQuality"]);e!==void 0&&B!=null&&w(e,["parameters","outputOptions","compressionQuality"],B);const S=y(n,["addWatermark"]);e!==void 0&&S!=null&&w(e,["parameters","addWatermark"],S);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const _=y(n,["editMode"]);e!==void 0&&_!=null&&w(e,["parameters","editMode"],_);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function ene(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let A=s;Array.isArray(A)&&(A=A.map(l=>nre(l))),w(t,["instances[0]","referenceImages"],A)}const a=y(e,["config"]);return a!=null&&Zte(a,t),t}function tne(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>LS(s))),w(e,["generatedImages"],i)}return e}function nne(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function rne(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const A=y(n,["autoTruncate"]);return e!==void 0&&A!=null&&w(e,["parameters","autoTruncate"],A),t}function ine(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["contents"]);if(i!=null){let A=kD(n,i);Array.isArray(A)&&(A=A.map(l=>l)),w(t,["requests[]","content"],A)}const s=y(e,["config"]);s!=null&&nne(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],xt(n,a)),t}function sne(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["contents"]);if(i!=null){let a=kD(n,i);Array.isArray(a)&&(a=a.map(A=>A)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&rne(s,t),t}function ane(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function one(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Ote(a))),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function Ane(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const r=y(n,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function lne(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function une(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cne(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fne(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const A=y(n,["responseJsonSchema"]);return A!=null&&w(e,["responseJsonSchema"],A),e}function dne(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],NS(ui(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const A=y(e,["topK"]);A!=null&&w(r,["topK"],A);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const c=y(e,["maxOutputTokens"]);c!=null&&w(r,["maxOutputTokens"],c);const f=y(e,["stopSequences"]);f!=null&&w(r,["stopSequences"],f);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(r,["frequencyPenalty"],b);const B=y(e,["seed"]);B!=null&&w(r,["seed"],B);const S=y(e,["responseMimeType"]);S!=null&&w(r,["responseMimeType"],S);const x=y(e,["responseSchema"]);x!=null&&w(r,["responseSchema"],OD(x));const _=y(e,["responseJsonSchema"]);if(_!=null&&w(r,["responseJsonSchema"],_),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let Y=T;Array.isArray(Y)&&(Y=Y.map(J=>rre(J))),w(t,["safetySettings"],Y)}const M=y(e,["tools"]);if(t!==void 0&&M!=null){let Y=Jg(M);Array.isArray(Y)&&(Y=Y.map(J=>ure(jg(J)))),w(t,["tools"],Y)}const F=y(e,["toolConfig"]);if(t!==void 0&&F!=null&&w(t,["toolConfig"],lre(F)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=y(e,["cachedContent"]);t!==void 0&&R!=null&&w(t,["cachedContent"],Sl(n,R));const L=y(e,["responseModalities"]);L!=null&&w(r,["responseModalities"],L);const K=y(e,["mediaResolution"]);K!=null&&w(r,["mediaResolution"],K);const O=y(e,["speechConfig"]);if(O!=null&&w(r,["speechConfig"],HD(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=y(e,["thinkingConfig"]);$!=null&&w(r,["thinkingConfig"],$);const G=y(e,["imageConfig"]);return G!=null&&w(r,["imageConfig"],One(G)),r}function hne(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],ui(i));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const A=y(e,["topK"]);A!=null&&w(r,["topK"],A);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const c=y(e,["maxOutputTokens"]);c!=null&&w(r,["maxOutputTokens"],c);const f=y(e,["stopSequences"]);f!=null&&w(r,["stopSequences"],f);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(r,["frequencyPenalty"],b);const B=y(e,["seed"]);B!=null&&w(r,["seed"],B);const S=y(e,["responseMimeType"]);S!=null&&w(r,["responseMimeType"],S);const x=y(e,["responseSchema"]);x!=null&&w(r,["responseSchema"],OD(x));const _=y(e,["responseJsonSchema"]);_!=null&&w(r,["responseJsonSchema"],_);const T=y(e,["routingConfig"]);T!=null&&w(r,["routingConfig"],T);const M=y(e,["modelSelectionConfig"]);M!=null&&w(r,["modelConfig"],M);const F=y(e,["safetySettings"]);if(t!==void 0&&F!=null){let H=F;Array.isArray(H)&&(H=H.map(z=>z)),w(t,["safetySettings"],H)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let H=Jg(R);Array.isArray(H)&&(H=H.map(z=>vz(jg(z)))),w(t,["tools"],H)}const L=y(e,["toolConfig"]);t!==void 0&&L!=null&&w(t,["toolConfig"],L);const K=y(e,["labels"]);t!==void 0&&K!=null&&w(t,["labels"],K);const O=y(e,["cachedContent"]);t!==void 0&&O!=null&&w(t,["cachedContent"],Sl(n,O));const $=y(e,["responseModalities"]);$!=null&&w(r,["responseModalities"],$);const G=y(e,["mediaResolution"]);G!=null&&w(r,["mediaResolution"],G);const Y=y(e,["speechConfig"]);Y!=null&&w(r,["speechConfig"],mz(HD(Y)));const J=y(e,["audioTimestamp"]);J!=null&&w(r,["audioTimestamp"],J);const ne=y(e,["thinkingConfig"]);ne!=null&&w(r,["thinkingConfig"],ne);const fe=y(e,["imageConfig"]);return fe!=null&&w(r,["imageConfig"],Hne(fe)),r}function bO(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["contents"]);if(i!=null){let a=ga(i);Array.isArray(a)&&(a=a.map(A=>NS(A))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],dne(n,s,t)),t}function EO(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["contents"]);if(i!=null){let a=ga(i);Array.isArray(a)&&(a=a.map(A=>A)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],hne(n,s,t)),t}function SO(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Qte(c))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const A=y(n,["usageMetadata"]);return A!=null&&w(e,["usageMetadata"],A),e}function xO(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),w(e,["candidates"],c)}const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const A=y(n,["responseId"]);A!=null&&w(e,["responseId"],A);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function pne(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const A=y(n,["personGeneration"]);e!==void 0&&A!=null&&w(e,["parameters","personGeneration"],A);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const c=y(n,["includeRaiReason"]);e!==void 0&&c!=null&&w(e,["parameters","includeRaiReason"],c);const f=y(n,["language"]);e!==void 0&&f!=null&&w(e,["parameters","language"],f);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function gne(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const A=y(n,["guidanceScale"]);e!==void 0&&A!=null&&w(e,["parameters","guidanceScale"],A);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const c=y(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&w(e,["parameters","safetySetting"],c);const f=y(n,["personGeneration"]);e!==void 0&&f!=null&&w(e,["parameters","personGeneration"],f);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const B=y(n,["outputCompressionQuality"]);e!==void 0&&B!=null&&w(e,["parameters","outputOptions","compressionQuality"],B);const S=y(n,["addWatermark"]);e!==void 0&&S!=null&&w(e,["parameters","addWatermark"],S);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const _=y(n,["imageSize"]);e!==void 0&&_!=null&&w(e,["parameters","sampleImageSize"],_);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function mne(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&pne(s,t),t}function vne(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&gne(s,t),t}function yne(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Fne(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],pz(i)),e}function wne(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>LS(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],gz(i)),e}function Cne(n,e){const t={},r=y(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(n,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const A=y(n,["personGeneration"]);if(e!==void 0&&A!=null&&w(e,["parameters","personGeneration"],A),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const c=y(n,["enhancePrompt"]);if(e!==void 0&&c!=null&&w(e,["parameters","enhancePrompt"],c),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=y(n,["lastFrame"]);e!==void 0&&f!=null&&w(e,["instances[0]","lastFrame"],kS(f));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>bre(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function Bne(n,e){const t={},r=y(n,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const A=y(n,["seed"]);e!==void 0&&A!=null&&w(e,["parameters","seed"],A);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const c=y(n,["resolution"]);e!==void 0&&c!=null&&w(e,["parameters","resolution"],c);const f=y(n,["personGeneration"]);e!==void 0&&f!=null&&w(e,["parameters","personGeneration"],f);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const b=y(n,["generateAudio"]);e!==void 0&&b!=null&&w(e,["parameters","generateAudio"],b);const B=y(n,["lastFrame"]);e!==void 0&&B!=null&&w(e,["instances[0]","lastFrame"],eo(B));const S=y(n,["referenceImages"]);if(e!==void 0&&S!=null){let T=S;Array.isArray(T)&&(T=T.map(M=>Ere(M))),w(e,["instances[0]","referenceImages"],T)}const x=y(n,["mask"]);e!==void 0&&x!=null&&w(e,["instances[0]","mask"],Bre(x));const _=y(n,["compressionQuality"]);return e!==void 0&&_!=null&&w(e,["parameters","compressionQuality"],_),t}function bne(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],Tne(a)),e}function Ene(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],_ne(a)),e}function Sne(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],kS(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],yz(a));const A=y(e,["source"]);A!=null&&Ine(A,t);const l=y(e,["config"]);return l!=null&&Cne(l,t),t}function xne(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],eo(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],wz(a));const A=y(e,["source"]);A!=null&&Une(A,t);const l=y(e,["config"]);return l!=null&&Bne(l,t),t}function Tne(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Dne(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function _ne(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Rne(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Ine(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],kS(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],yz(s)),t}function Une(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],eo(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],wz(s)),t}function Fne(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],Kne(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);return i!=null&&w(e,["safetyAttributes"],pz(i)),e}function LS(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],hz(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);i!=null&&w(e,["safetyAttributes"],gz(i));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function Mne(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],hz(t));const r=y(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["labels"],i)}return e}function Dne(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],wre(t)),e}function Rne(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],Cre(t)),e}function Pne(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const A=y(n,["frequencyPenalty"]);A!=null&&w(e,["frequencyPenalty"],A);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const c=y(n,["maxOutputTokens"]);c!=null&&w(e,["maxOutputTokens"],c);const f=y(n,["mediaResolution"]);f!=null&&w(e,["mediaResolution"],f);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const B=y(n,["responseSchema"]);B!=null&&w(e,["responseSchema"],B);const S=y(n,["routingConfig"]);S!=null&&w(e,["routingConfig"],S);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const _=y(n,["speechConfig"]);_!=null&&w(e,["speechConfig"],mz(_));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const M=y(n,["temperature"]);M!=null&&w(e,["temperature"],M);const F=y(n,["thinkingConfig"]);F!=null&&w(e,["thinkingConfig"],F);const R=y(n,["topK"]);R!=null&&w(e,["topK"],R);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Qne(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],xt(n,r)),t}function Nne(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],xt(n,r)),t}function Lne(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function kne(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function One(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Hne(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=y(n,["outputMimeType"]);i!=null&&w(e,["imageOutputOptions","mimeType"],i);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function Kne(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],yc(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function hz(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],yc(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function kS(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],yc(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function eo(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],yc(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Gne(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const A=y(e,["queryBase"]);return t!==void 0&&A!=null&&w(t,["_url","models_url"],az(n,A)),r}function Vne(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const A=y(e,["queryBase"]);return t!==void 0&&A!=null&&w(t,["_url","models_url"],az(n,A)),r}function zne(n,e){const t={},r=y(e,["config"]);return r!=null&&Gne(n,r,t),t}function qne(n,e){const t={},r=y(e,["config"]);return r!=null&&Vne(n,r,t),t}function $ne(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=oz(i);Array.isArray(s)&&(s=s.map(a=>FU(a))),w(e,["models"],s)}return e}function Yne(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=oz(i);Array.isArray(s)&&(s=s.map(a=>MU(a))),w(e,["models"],s)}return e}function Xne(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const r=y(n,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=y(n,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function FU(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],cre(a));const A=y(n,["inputTokenLimit"]);A!=null&&w(e,["inputTokenLimit"],A);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const c=y(n,["supportedGenerationMethods"]);c!=null&&w(e,["supportedActions"],c);const f=y(n,["temperature"]);f!=null&&w(e,["temperature"],f);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const b=y(n,["thinking"]);return b!=null&&w(e,["thinking"],b),e}function MU(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>Ane(g))),w(e,["endpoints"],h)}const A=y(n,["labels"]);A!=null&&w(e,["labels"],A);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],fre(l));const c=y(n,["defaultCheckpointId"]);c!=null&&w(e,["defaultCheckpointId"],c);const f=y(n,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function Wne(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],lne(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],une(a));const A=y(n,["functionResponse"]);A!=null&&w(e,["functionResponse"],A);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Pte(l));const c=y(n,["text"]);c!=null&&w(e,["text"],c);const f=y(n,["thought"]);f!=null&&w(e,["thought"],f);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function jne(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],eo(t)),e}function Jne(n,e){const t={},r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const A=y(n,["safetyFilterLevel"]);e!==void 0&&A!=null&&w(e,["parameters","safetySetting"],A);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const c=y(n,["addWatermark"]);e!==void 0&&c!=null&&w(e,["parameters","addWatermark"],c);const f=y(n,["outputMimeType"]);e!==void 0&&f!=null&&w(e,["parameters","outputOptions","mimeType"],f);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function Zne(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["source"]);i!=null&&tre(i,t);const s=y(e,["config"]);return s!=null&&Jne(s,t),t}function ere(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>LS(i))),w(e,["generatedImages"],r)}return e}function tre(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],eo(i));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(A=>jne(A))),w(e,["instances[0]","productImages"],a)}return t}function nre(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],eo(t));const r=y(n,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=y(n,["referenceType"]);i!=null&&w(e,["referenceType"],i);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],Xne(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],Kte(a));const A=y(n,["styleImageConfig"]);A!=null&&w(e,["styleImageConfig"],A);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function pz(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function gz(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function rre(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function ire(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],eo(t)),e}function sre(n,e){const t={},r=y(n,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=y(n,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const A=y(n,["binaryColorThreshold"]);e!==void 0&&A!=null&&w(e,["parameters","binaryColorThreshold"],A);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function are(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["source"]);i!=null&&Are(i,t);const s=y(e,["config"]);return s!=null&&sre(s,t),t}function ore(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Mne(i))),w(e,["generatedMasks"],r)}return e}function Are(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],eo(i));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],ire(s)),t}function mz(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function lre(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],cne(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function ure(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(h=>h)),w(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const A=y(n,["googleMaps"]);A!=null&&w(e,["googleMaps"],Lne(A));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],kne(l));const c=y(n,["urlContext"]);return c!=null&&w(e,["urlContext"],c),e}function vz(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>fne(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const A=y(n,["enterpriseWebSearch"]);A!=null&&w(e,["enterpriseWebSearch"],A);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const c=y(n,["googleSearch"]);c!=null&&w(e,["googleSearch"],c);const f=y(n,["urlContext"]);return f!=null&&w(e,["urlContext"],f),e}function cre(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function fre(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function dre(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function hre(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function pre(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","name"],xt(n,r));const i=y(e,["config"]);return i!=null&&dre(i,t),t}function gre(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["config"]);return i!=null&&hre(i,t),t}function mre(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const A=y(n,["outputMimeType"]);e!==void 0&&A!=null&&w(e,["parameters","outputOptions","mimeType"],A);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const c=y(n,["enhanceInputImage"]);e!==void 0&&c!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=y(n,["imagePreservationFactor"]);e!==void 0&&f!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function vre(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],xt(n,r));const i=y(e,["image"]);i!=null&&w(t,["instances[0]","image"],eo(i));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&mre(a,t),t}function yre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>LS(s))),w(e,["generatedImages"],i)}return e}function wre(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],yc(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function Cre(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],yc(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Bre(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],eo(t));const r=y(n,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function bre(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],kS(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function Ere(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],eo(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function yz(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["encodedVideo"],yc(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function wz(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],yc(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sre(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),t}function xre(n){const e={},t=y(n,["config"]);return t!=null&&Sre(t,e),e}function Tre(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function _re(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&Tre(r,e),e}function Ire(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Ure(n,e){const t={},r=y(n,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const i=y(n,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),t}function Fre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Dre(a)),e}function Mre(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["fileName"]);r!=null&&w(e,["fileName"],r);const i=y(n,["config"]);return i!=null&&Ure(i,e),e}function Dre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function Rre(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Pre(n){const e={},t=y(n,["config"]);return t!=null&&Rre(t,e),e}function Qre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function Cz(n,e){const t={},r=y(n,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let A=s;Array.isArray(A)&&(A=A.map(l=>l)),w(e,["customMetadata"],A)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Nre(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["config"]);return r!=null&&Cz(r,e),e}function Lre(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kre="Content-Type",Ore="X-Server-Timeout",Hre="User-Agent",DU="x-goog-api-client",Kre="1.31.0",Gre=`google-genai-sdk/${Kre}`,Vre="v1beta1",zre="v1beta",TO=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class qre{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Vre,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:zre,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[a,A]of Object.entries(e.queryParams))i.searchParams.append(a,String(A));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const A=setTimeout(()=>s.abort(),t.timeout);A&&typeof A.unref=="function"&&A.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&$re(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await _O(i),new _U(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await _O(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return ep(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:A,value:l}=yield fn(i.read());if(A){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(l,{stream:!0});try{const h=JSON.parse(c);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,b=g.code,B=`got status: ${v}. ${JSON.stringify(h)}`;if(b>=400&&b<600)throw new QS({message:B,status:b})}}catch(h){if(h.name==="ApiError")throw h}a+=c;let f=a.match(TO);for(;f;){const h=f[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fn(new _U(g)),a=a.slice(f[0].length),f=a.match(TO)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=Gre+" "+this.clientOptions.userAgentExtra;return e[Hre]=t,e[DU]=t,e[kre]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(Ore,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const A=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:a.type;if(A===void 0||A==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=A;const l={file:i},c=this.getFileName(e),f=xe("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,c,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,r){var i;const s=this.clientOptions.uploader,a=await s.stat(t),A=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(t),h={};r!=null&&Cz(r,h);const g=await this.fetchUploadUrl(c,A,l,f,h,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,s,a){var A;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(A=c==null?void 0:c.headers)===null||A===void 0?void 0:A["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function _O(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new QS({message:i,status:t}):new Error(i)}}function $re(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const A=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],f=A[l];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?A[l]=r(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),A[l]=c)}return A}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yre="mcp_used/unknown";let Xre=!1;function Bz(n){for(const e of n)if(Wre(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Xre}function bz(n){var e;const t=(e=n[DU])!==null&&e!==void 0?e:"";n[DU]=(t+` ${Yre}`).trimStart()}function Wre(n){return n!==null&&typeof n=="object"&&n instanceof GD}function jre(n,e=100){return ep(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield fn(n.listTools({cursor:r}));for(const a of s.tools)yield yield fn(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class GD{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new GD(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const f of this.mcpClients)try{for(var A=!0,l=(t=void 0,Zv(jre(f))),c;c=await l.next(),e=c.done,!e;A=!0){i=c.value,A=!1;const h=i;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=f}}catch(h){t={error:h}}finally{try{!A&&!e&&(r=l.return)&&await r.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),IZ(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);t.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Jre(n,e,t){const r=new CZ;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class Zre{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=nie(this.apiClient.getDefaultHeaders()),A=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${A}`;let c=()=>{};const f=new Promise(T=>{c=T}),h=e.callbacks,g=function(){c({})},v=this.apiClient,b={onopen:g,onmessage:T=>{Jre(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(T){}},B=this.webSocketFactory.create(l,tie(a),b);B.connect(),await f;const _={setup:{model:xt(this.apiClient,e.model)}};return B.send(JSON.stringify(_)),new eie(B,this.apiClient)}}class eie{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=xte(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Ste(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Vh.PLAY)}pause(){this.sendPlaybackControl(Vh.PAUSE)}stop(){this.sendPlaybackControl(Vh.STOP)}resetContext(){this.sendPlaybackControl(Vh.RESET_CONTEXT)}close(){this.conn.close()}}function tie(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function nie(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rie="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function iie(n,e,t){const r=new wZ;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const s=JSON.parse(i);if(n.isVertexAI()){const a=Ite(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class sie{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new Zre(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,s,a,A;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&Bz(e.config.tools)&&bz(h);const g=lie(h);if(this.apiClient.isVertexAI())f=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,f);else{const O=this.apiClient.getApiKey();let $="BidiGenerateContent",G="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",G="access_token"),f=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${$}?${G}=${O}`}let v=()=>{};const b=new Promise(O=>{v=O}),B=e.callbacks,S=function(){var O;(O=B==null?void 0:B.onopen)===null||O===void 0||O.call(B),v({})},x=this.apiClient,_={onopen:S,onmessage:O=>{iie(x,B.onmessage,O)},onerror:(t=B==null?void 0:B.onerror)!==null&&t!==void 0?t:function(O){},onclose:(r=B==null?void 0:B.onclose)!==null&&r!==void 0?r:function(O){}},T=this.webSocketFactory.create(f,Aie(g),_);T.connect(),await b;let M=xt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const O=this.apiClient.getProject(),$=this.apiClient.getLocation();M=`projects/${O}/locations/${$}/`+M}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[eE.AUDIO]}:e.config.responseModalities=[eE.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(A=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&A!==void 0?A:[],L=[];for(const O of R)if(this.isCallableTool(O)){const $=O;L.push(await $.tool())}else L.push(O);L.length>0&&(e.config.tools=L);const K={model:M,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=Ete(this.apiClient,K):F=bte(this.apiClient,K),delete F.config,T.send(JSON.stringify(F)),new oie(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const aie={turnComplete:!0};class oie{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=ga(t.turns),e.isVertexAI()||(r=r.map(i=>NS(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(rie)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},aie),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:_te(e)}:t={realtimeInput:Tte(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Aie(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function lie(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IO=10;function UO(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(tp(a)){i=!0;break}if(!i)return!0;const s=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function tp(n){return"callTool"in n&&typeof n.callTool=="function"}function uie(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>tp(i)))!==null&&r!==void 0?r:!1}function FO(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(tp(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(i)}),t}function MO(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cie extends El{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,s,a,A;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!uie(t)||UO(t.config))return await this.generateContentInternal(l);const c=FO(t);if(c.length>0){const B=c.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${B}.`)}let f,h;const g=ga(l.contents),v=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:IO;let b=0;for(;b<v&&(f=await this.generateContentInternal(l),!(!f.functionCalls||f.functionCalls.length===0));){const B=f.candidates[0].content,S=[];for(const x of(A=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&A!==void 0?A:[])if(tp(x)){const T=await x.callTool(f.functionCalls);S.push(...T)}b++,h={role:"user",parts:S},l.contents=ga(l.contents),l.contents.push(B),l.contents.push(h),MO(l.config)&&(g.push(B),g.push(h))}return MO(l.config)&&(f.automaticFunctionCallingHistory=g),f},this.generateContentStream=async t=>{var r,i,s,a,A;if(this.maybeMoveToResponseJsonSchem(t),UO(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=FO(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(s=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,f=(A=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||A===void 0?void 0:A.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let A;return s?A={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:A={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},A}),this.list=async t=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Ud(ll.PAGED_ITEM_MODELS,A=>this.listInternal(A),await this.listInternal(a),a)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,s,a,A,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(A=t.source)===null||A===void 0?void 0:A.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>tp(l)?await l.tool():l)),A={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(A.config.tools=a,e.config&&e.config.tools&&Bz(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),bz(c),A.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return A}async initAfcToolsMap(e){var t,r,i;const s=new Map;for(const a of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(tp(a)){const A=a,l=await A.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,A)}}return s}async processAfcStream(e){var t,r,i;const s=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:IO;let a=!1,A=0;const l=await this.initAfcToolsMap(e);return(function(c,f,h){var g,v;return ep(this,arguments,function*(){for(var b,B,S,x;A<s;){a&&(A++,a=!1);const F=yield fn(c.processParamsMaybeAddMcpUsage(h)),R=yield fn(c.generateContentStreamInternal(F)),L=[],K=[];try{for(var _=!0,T=(B=void 0,Zv(R)),M;M=yield fn(T.next()),b=M.done,!b;_=!0){x=M.value,_=!1;const O=x;if(yield yield fn(O),O.candidates&&(!((g=O.candidates[0])===null||g===void 0)&&g.content)){K.push(O.candidates[0].content);for(const $ of(v=O.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(A<s&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has($.functionCall.name)){const G=yield fn(f.get($.functionCall.name).callTool([$.functionCall]));L.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(O){B={error:O}}finally{try{!_&&!b&&(S=T.return)&&(yield fn(S.call(T)))}finally{if(B)throw B.error}}if(L.length>0){a=!0;const O=new sv;O.candidates=[{content:{role:"user",parts:L}}],yield yield fn(O);const $=[];$.push(...K),$.push({role:"user",parts:L});const G=ga(h.contents).concat($);h.contents=G}else break}})})(this,l,e)}async generateContentInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=EO(this.apiClient,e);return A=xe("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=xO(f),g=new sv;return Object.assign(g,h),g})}else{const c=bO(this.apiClient,e);return A=xe("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=SO(f),g=new sv;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=EO(this.apiClient,e);return A=xe("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(h){return ep(this,arguments,function*(){var g,v,b,B;try{for(var S=!0,x=Zv(h),_;_=yield fn(x.next()),g=_.done,!g;S=!0){B=_.value,S=!1;const T=B,M=xO(yield fn(T.json()));M.sdkHttpResponse={headers:T.headers};const F=new sv;Object.assign(F,M),yield yield fn(F)}}catch(T){v={error:T}}finally{try{!S&&!g&&(b=x.return)&&(yield fn(b.call(x)))}finally{if(v)throw v.error}}})})}else{const c=bO(this.apiClient,e);return A=xe("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return ep(this,arguments,function*(){var g,v,b,B;try{for(var S=!0,x=Zv(h),_;_=yield fn(x.next()),g=_.done,!g;S=!0){B=_.value,S=!1;const T=B,M=SO(yield fn(T.json()));M.sdkHttpResponse={headers:T.headers};const F=new sv;Object.assign(F,M),yield yield fn(F)}}catch(T){v={error:T}}finally{try{!S&&!g&&(b=x.return)&&(yield fn(b.call(x)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=sne(this.apiClient,e);return A=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=one(f),g=new aO;return Object.assign(g,h),g})}else{const c=ine(this.apiClient,e);return A=xe("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=ane(f),g=new aO;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=vne(this.apiClient,e);return A=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=wne(f),g=new oO;return Object.assign(g,h),g})}else{const c=mne(this.apiClient,e);return A=xe("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=yne(f),g=new oO;return Object.assign(g,h),g})}}async editImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const A=ene(this.apiClient,e);return s=xe("{model}:predict",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),i.then(l=>{const c=tne(l),f=new lZ;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const A=vre(this.apiClient,e);return s=xe("{model}:predict",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),i.then(l=>{const c=yre(l),f=new uZ;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const A=Zne(this.apiClient,e);return s=xe("{model}:predict",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=ere(l),f=new cZ;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const A=are(this.apiClient,e);return s=xe("{model}:predict",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=ore(l),f=new fZ;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=Nne(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>MU(f))}else{const c=Qne(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>FU(f))}}async listInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=qne(this.apiClient,e);return A=xe("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=Yne(f),g=new AO;return Object.assign(g,h),g})}else{const c=zne(this.apiClient,e);return A=xe("{models_url}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=$ne(f),g=new AO;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=gre(this.apiClient,e);return A=xe("{model}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>MU(f))}else{const c=pre(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>FU(f))}}async delete(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=Wte(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=Jte(f),g=new lO;return Object.assign(g,h),g})}else{const c=Xte(this.apiClient,e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=jte(f),g=new lO;return Object.assign(g,h),g})}}async countTokens(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=qte(this.apiClient,e);return A=xe("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=Yte(f),g=new uO;return Object.assign(g,h),g})}else{const c=zte(this.apiClient,e);return A=xe("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=$te(f),g=new uO;return Object.assign(g,h),g})}}async computeTokens(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const A=Lte(this.apiClient,e);return s=xe("{model}:computeTokens",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),i.then(l=>{const c=kte(l),f=new dZ;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=xne(this.apiClient,e);return A=xe("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const h=Ene(f),g=new tE;return Object.assign(g,h),g})}else{const c=Sne(this.apiClient,e);return A=xe("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>{const h=bne(f),g=new tE;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fie extends El{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=rZ(e);return A=xe("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a}else{const c=nZ(e);return A=xe("{operationName}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a}}async fetchPredictVideosOperationInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const A=X7(e);return s=xe("{resourceName}:fetchPredictOperation",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function die(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function hie(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>bie(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function pie(n,e,t){const r={},i=y(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const A=y(e,["liveConnectConstraints"]);t!==void 0&&A!=null&&w(t,["bidiGenerateContentSetup"],Bie(n,A));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),r}function gie(n,e){const t={},r=y(e,["config"]);return r!=null&&w(t,["config"],pie(n,r,t)),t}function mie(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function vie(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yie(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function wie(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Cie(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const A=y(n,["topK"]);e!==void 0&&A!=null&&w(e,["setup","generationConfig","topK"],A);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const c=y(n,["mediaResolution"]);e!==void 0&&c!=null&&w(e,["setup","generationConfig","mediaResolution"],c);const f=y(n,["seed"]);e!==void 0&&f!=null&&w(e,["setup","generationConfig","seed"],f);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],KD(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],hie(ui(b)));const B=y(n,["tools"]);if(e!==void 0&&B!=null){let R=Jg(B);Array.isArray(R)&&(R=R.map(L=>Sie(jg(L)))),w(e,["setup","tools"],R)}const S=y(n,["sessionResumption"]);e!==void 0&&S!=null&&w(e,["setup","sessionResumption"],Eie(S));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const _=y(n,["outputAudioTranscription"]);e!==void 0&&_!=null&&w(e,["setup","outputAudioTranscription"],_);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const M=y(n,["contextWindowCompression"]);e!==void 0&&M!=null&&w(e,["setup","contextWindowCompression"],M);const F=y(n,["proactivity"]);return e!==void 0&&F!=null&&w(e,["setup","proactivity"],F),t}function Bie(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],xt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],Cie(i,t)),t}function bie(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],mie(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],vie(a));const A=y(n,["functionResponse"]);A!=null&&w(e,["functionResponse"],A);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],die(l));const c=y(n,["text"]);c!=null&&w(e,["text"],c);const f=y(n,["thought"]);f!=null&&w(e,["thought"],f);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Eie(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Sie(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(h=>h)),w(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const A=y(n,["googleMaps"]);A!=null&&w(e,["googleMaps"],yie(A));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],wie(l));const c=y(n,["urlContext"]);return c!=null&&w(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xie(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${t}.${s}`);e.push(...i)}else e.push(t)}return e.join(",")}function Tie(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const s=xie(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let A=[];i.length>0&&(A=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),A.length>0&&l.push(...A),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class _ie extends El{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const A=gie(this.apiClient,e);s=xe("auth_tokens",A._url),a=A._query,delete A.config,delete A._url,delete A._query;const l=Tie(A,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iie(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function Uie(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&Iie(r,e),e}function Fie(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Mie(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Die(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const r=y(n,["config"]);return r!=null&&Mie(r,e),e}function Rie(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pie extends El{constructor(e){super(),this.apiClient=e,this.list=async t=>new Ud(ll.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Fie(e);return s=xe("{name}",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Uie(e);i=xe("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Die(e);return s=xe("{parent}/documents",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Rie(l),f=new hZ;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qie extends El{constructor(e,t=new Pie(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new Ud(ll.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=xre(e);return s=xe("fileSearchStores",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Ire(e);return s=xe("{name}",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_re(e);i=xe("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Pre(e);return s=xe("fileSearchStores",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Qre(l),f=new pZ;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Nre(e);return s=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Lre(l),f=new gZ;return Object.assign(f,c),f})}}async importFile(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Mre(e);return s=xe("{file_search_store_name}:importFile",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Fre(l),f=new ND;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nie(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Lie(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function kie(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Oie(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Hie(n,e,t){const r={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const A=y(n,["batchSize"]);e!==void 0&&A!=null&&w(e,["tuningTask","hyperparameters","batchSize"],A);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Kie(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],DO(v))}else if(i==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],DO(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let A=y(t,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(A==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let c=y(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(c==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let f=y(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(f==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Gie(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&ese(s);const a=y(n,["config"]);return a!=null&&Hie(a,t),t}function Vie(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&tse(s,t,e);const a=y(n,["config"]);return a!=null&&Kie(a,t,e),t}function zie(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function qie(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function $ie(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function Yie(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function Xie(n,e){const t={},r=y(n,["config"]);return r!=null&&$ie(r,t),t}function Wie(n,e){const t={},r=y(n,["config"]);return r!=null&&Yie(r,t),t}function jie(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(A=>Ez(A))),w(t,["tuningJobs"],a)}return t}function Jie(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(A=>RU(A))),w(t,["tuningJobs"],a)}return t}function Zie(n,e){const t={},r=y(n,["name"]);r!=null&&w(t,["model"],r);const i=y(n,["name"]);return i!=null&&w(t,["endpoint"],i),t}function ese(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(t,["examples","examples"],i)}return t}function tse(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Ez(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],iz(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const A=y(n,["tuningTask","startTime"]);A!=null&&w(t,["startTime"],A);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const c=y(n,["updateTime"]);c!=null&&w(t,["updateTime"],c);const f=y(n,["description"]);f!=null&&w(t,["description"],f);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],Zie(g)),t}function RU(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],iz(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const A=y(n,["startTime"]);A!=null&&w(t,["startTime"],A);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const c=y(n,["updateTime"]);c!=null&&w(t,["updateTime"],c);const f=y(n,["error"]);f!=null&&w(t,["error"],f);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const b=y(n,["preTunedModel"]);b!=null&&w(t,["preTunedModel"],b);const B=y(n,["supervisedTuningSpec"]);B!=null&&w(t,["supervisedTuningSpec"],B);const S=y(n,["preferenceOptimizationSpec"]);S!=null&&w(t,["preferenceOptimizationSpec"],S);const x=y(n,["tuningDataStats"]);x!=null&&w(t,["tuningDataStats"],x);const _=y(n,["encryptionSpec"]);_!=null&&w(t,["encryptionSpec"],_);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const M=y(n,["customBaseModel"]);M!=null&&w(t,["customBaseModel"],M);const F=y(n,["experiment"]);F!=null&&w(t,["experiment"],F);const R=y(n,["labels"]);R!=null&&w(t,["labels"],R);const L=y(n,["outputUri"]);L!=null&&w(t,["outputUri"],L);const K=y(n,["pipelineJob"]);K!=null&&w(t,["pipelineJob"],K);const O=y(n,["serviceAccount"]);O!=null&&w(t,["serviceAccount"],O);const $=y(n,["tunedModelDisplayName"]);$!=null&&w(t,["tunedModelDisplayName"],$);const G=y(n,["veoTuningSpec"]);return G!=null&&w(t,["veoTuningSpec"],G),t}function nse(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const A=y(n,["error"]);return A!=null&&w(t,["error"],A),t}function DO(n,e){const t={},r=y(n,["gcsUri"]);r!=null&&w(t,["validationDatasetUri"],r);const i=y(n,["vertexDatasetResource"]);return i!=null&&w(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rse extends El{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ud(ll.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:TU.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=qie(e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>RU(f))}else{const c=zie(e);return A=xe("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>Ez(f))}}async listInternal(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=Wie(e);return A=xe("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=Jie(f),g=new cO;return Object.assign(g,h),g})}else{const c=Xie(e);return A=xe("tunedModels",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=jie(f),g=new cO;return Object.assign(g,h),g})}}async cancel(e){var t,r,i,s;let a,A="",l={};if(this.apiClient.isVertexAI()){const c=Lie(e);return A=xe("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=Oie(f),g=new fO;return Object.assign(g,h),g})}else{const c=Nie(e);return A=xe("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:A,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),a.then(f=>{const h=kie(f),g=new fO;return Object.assign(g,h),g})}}async tuneInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const A=Vie(e,e);return s=xe("tuningJobs",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),i.then(l=>RU(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Gie(e);return s=xe("tunedModels",A._url),a=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:l.headers},f})),i.then(l=>nse(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ise{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sse=1024*1024*8,ase=3,ose=1e3,Ase=2,rE="x-goog-upload-status";async function lse(n,e,t){var r;const i=await Sz(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[rE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function use(n,e,t){var r;const i=await Sz(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[rE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=JV(s),A=new LD;return Object.assign(A,a),A}async function Sz(n,e,t){var r,i;let s=0,a=0,A=new _U(new Response),l="upload";for(s=n.size;a<s;){const c=Math.min(sse,s-a),f=n.slice(a,a+c);a+c>=s&&(l+=", finalize");let h=0,g=ose;for(;h<ase&&(A=await t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(c)}}}),!(!((r=A==null?void 0:A.headers)===null||r===void 0)&&r[rE]));)h++,await fse(g),g=g*Ase;if(a+=c,((i=A==null?void 0:A.headers)===null||i===void 0?void 0:i[rE])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return A}async function cse(n){return{size:n.size,type:n.type}}function fse(n){return new Promise(e=>setTimeout(e,n))}class dse{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lse(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await use(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cse(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hse{create(e,t,r){return new pse(e,t,r)}}class pse{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RO="x-goog-api-key";class gse{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(RO)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(RO,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mse="gl-node/";class vse{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=$7(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new gse(this.apiKey);this.apiClient=new qre({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:mse+"web",uploader:new dse,downloader:new ise}),this.models=new cie(this.apiClient),this.live=new sie(this.apiClient,i,new hse),this.batches=new Bee(this.apiClient),this.chats=new rte(this.models,this.apiClient),this.caches=new ete(this.apiClient),this.files=new dte(this.apiClient),this.operations=new fie(this.apiClient),this.authTokens=new _ie(this.apiClient),this.tunings=new rse(this.apiClient),this.fileSearchStores=new Qie(this.apiClient)}}const yse="";new vse({apiKey:yse});const xz=async(n,e)=>"API Key is missing.",Ci=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),PU=[.001,0,0,.001,0,0],f_=1.35,Es={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},No={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ay="pdfjs_internal_editor_",Ze={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},yt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Tz={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Qr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ey={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ln={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Dh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},gw={ERRORS:0,WARNINGS:1,INFOS:5},Rg={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},oB={moveTo:0,lineTo:1,curveTo:2,closePath:3},_z={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let OS=gw.WARNINGS;function wse(n){Number.isInteger(n)&&(OS=n)}function Cse(){return OS}function HS(n){OS>=gw.INFOS&&console.info(`Info: ${n}`)}function et(n){OS>=gw.WARNINGS&&console.warn(`Warning: ${n}`)}function nn(n){throw new Error(n)}function Ct(n,e){n||nn(e)}function Bse(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function VD(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Tse(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return Bse(r)?r:null}function zD(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&VD(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function At(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Fd=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class PO extends Fd{constructor(e,t){super(e,"PasswordException"),this.code=t}}class d_ extends Fd{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class iE extends Fd{constructor(e){super(e,"InvalidPDFException")}}class ly extends Fd{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class bse extends Fd{constructor(e){super(e,"FormatError")}}class ul extends Fd{constructor(e){super(e,"AbortException")}}function Iz(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&nn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function mw(n){typeof n!="string"&&nn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function Ese(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Sse(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function xse(){try{return new Function(""),!0}catch{return!1}}class Tr{static get isLittleEndian(){return At(this,"isLittleEndian",Sse())}static get isEvalSupported(){return At(this,"isEvalSupported",xse())}static get isOffscreenCanvasSupported(){return At(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return At(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return At(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return At(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const h_=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var al,Ab,QU;class Me{static makeHexColor(e,t,r){return`#${h_[e]}${h_[t]}${h_[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],a=t[2],A=t[3],l=t[4],c=t[5];for(let f=0;f<6;f+=2){const h=e[r+f],g=e[r+f+1];e[r+f]=h*i+g*a+l,e[r+f+1]=h*s+g*A+c}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],a=t[2],A=t[3],l=t[4],c=t[5],f=e[0],h=e[1],g=e[2],v=e[3];let b=i*f+l,B=b,S=i*g+l,x=S,_=A*h+c,T=_,M=A*v+c,F=M;if(s!==0||a!==0){const R=s*f,L=s*g,K=a*h,O=a*v;b+=K,x+=K,S+=O,B+=O,_+=R,F+=R,M+=L,T+=L}r[0]=Math.min(r[0],b,S,B,x),r[1]=Math.min(r[1],_,M,T,F),r[2]=Math.max(r[2],b,S,B,x),r[3]=Math.max(r[3],_,M,T,F)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],A=r**2+i**2,l=r*s+i*a,c=s**2+a**2,f=(A+c)/2,h=Math.sqrt(f**2-(A*c-l**2));t[0]=Math.sqrt(f+h||1),t[1]=Math.sqrt(f-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,a,A,l,c){c[0]=Math.min(c[0],e,A),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,A),c[3]=Math.max(c[3],t,l),Q(this,al,QU).call(this,e,r,s,A,t,i,a,l,3*(-e+3*(r-s)+A),6*(e-2*r+s),3*(r-e),c),Q(this,al,QU).call(this,e,r,s,A,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),c)}}al=new WeakSet,Ab=function(e,t,r,i,s,a,A,l,c,f){if(c<=0||c>=1)return;const h=1-c,g=c*c,v=g*c,b=h*(h*(h*e+3*c*t)+3*g*r)+v*i,B=h*(h*(h*s+3*c*a)+3*g*A)+v*l;f[0]=Math.min(f[0],b),f[1]=Math.min(f[1],B),f[2]=Math.max(f[2],b),f[3]=Math.max(f[3],B)},QU=function(e,t,r,i,s,a,A,l,c,f,h,g){if(Math.abs(c)<1e-12){Math.abs(f)>=1e-12&&Q(this,al,Ab).call(this,e,t,r,i,s,a,A,l,-h/f,g);return}const v=f**2-4*h*c;if(v<0)return;const b=Math.sqrt(v),B=2*c;Q(this,al,Ab).call(this,e,t,r,i,s,a,A,l,(-f+b)/B,g),Q(this,al,Ab).call(this,e,t,r,i,s,a,A,l,(-f-b)/B,g)},P(Me,al);function Tse(n){return decodeURIComponent(escape(n))}let p_=null,QO=null;function Uz(n){return p_||(p_=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,QO=new Map([["","t"]])),n.replaceAll(p_,(e,t,r)=>t?t.normalize("NFKC"):QO.get(r))}function qD(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),Iz(n)}const $D="pdfjs_internal_id_";function _se(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let A=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;A=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||A&&l===null))return!1;return!0}function ai(n,e,t){return Math.min(Math.max(n,e),t)}function Fz(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(Iz(n))}function Ise(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):mw(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class uy{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const A=s.name;if(A==="#text")a=s.value;else if(uy.shouldBuildText(A))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class YD{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",A=>{i.setValue(t,{value:A.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",A=>{i.setValue(t,{value:A.target.checked?A.target.getAttribute("xfaOn"):A.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",A=>{i.setValue(t,{value:A.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const A of r.children)A.attributes.value===a.value?A.attributes.selected=!0:A.attributes.hasOwnProperty("selected")&&delete A.attributes.selected}e.addEventListener("input",A=>{const l=A.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,A=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!A||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}A&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var h,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const A=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}A&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const v=document.createTextNode(i.value);a.append(v),A&&uy.shouldBuildText(i.name)&&c.push(v)}return{textDivs:c}}const f=[[i,-1,a]];for(;f.length>0;){const[v,b,B]=f.at(-1);if(b+1===v.children.length){f.pop();continue}const S=v.children[++f.at(-1)[1]];if(S===null)continue;const{name:x}=S;if(x==="#text"){const T=document.createTextNode(S.value);c.push(T),B.append(T);continue}const _=(h=S==null?void 0:S.attributes)!=null&&h.xmlns?document.createElementNS(S.attributes.xmlns,x):document.createElement(x);if(B.append(_),S.attributes&&this.setAttributes({html:_,element:S,storage:t,intent:s,linkService:r}),((g=S.children)==null?void 0:g.length)>0)f.push([S,-1,_]);else if(S.value){const T=document.createTextNode(S.value);A&&uy.shouldBuildText(x)&&c.push(T),_.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const dA="http://www.w3.org/2000/svg",jc=class jc{};me(jc,"CSS",96),me(jc,"PDF",72),me(jc,"PDF_TO_CSS_UNITS",jc.CSS/jc.PDF);let cl=jc;async function em(n,e="text"){if(bv(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class vw{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:A=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let f,h,g,v;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,h=0,g=0,v=1;break;case 90:f=0,h=1,g=1,v=0;break;case 270:f=0,h=-1,g=-1,v=0;break;case 0:f=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}A&&(g=-g,v=-v);let b,B,S,x;f===0?(b=Math.abs(c-e[1])*r+s,B=Math.abs(l-e[0])*r+a,S=(e[3]-e[1])*r,x=(e[2]-e[0])*r):(b=Math.abs(l-e[0])*r+s,B=Math.abs(c-e[1])*r+a,S=(e[2]-e[0])*r,x=(e[3]-e[1])*r),this.transform=[f*r,h*r,g*r,v*r,b-f*r*l-g*r*c,B-h*r*l-v*r*c],this.width=S,this.height=x}get rawDims(){const e=this.viewBox;return At(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new vw({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Me.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Me.applyTransform(t,this.transform);const r=[e[2],e[3]];return Me.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Me.applyInverseTransform(r,this.transform),r}}class KS extends Fd{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function yw(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function GS(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Mz(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Dz(n,e="document.pdf"){if(typeof n!="string")return e;if(yw(n))return et('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(A=>{try{return new URL(A)}catch{try{return new URL(decodeURIComponent(A))}catch{try{return new URL(A,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(A),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=A=>{try{let l=decodeURIComponent(A);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:A):l}catch{return A}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const A=Array.from(r.searchParams.values()).reverse();for(const c of A)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class NO{constructor(){me(this,"started",Object.create(null));me(this,"times",[])}time(e){e in this.started&&et(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||et(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function bv(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Rs(n){n.preventDefault()}function Sn(n){n.preventDefault(),n.stopPropagation()}function Use(n){console.log("Deprecated API usage: "+n)}var Dy;class cy{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;p(this,Dy)||U(this,Dy,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=p(this,Dy).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let A=parseInt(t[5],10);A=A>=0&&A<=59?A:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=f,A+=h):c==="+"&&(a-=f,A-=h),new Date(Date.UTC(r,i,s,a,A,l))}}Dy=new WeakMap,P(cy,Dy);function Rz(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new vw({viewBox:s,userUnit:1,scale:e,rotation:t})}function tm(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(et(`Not a valid color format: "${n}"`),[0,0,0])}function Fse(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,tm(r))}e.remove()}function En(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function lo(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function uc(n,e,t=!1,r=!0){if(e instanceof vw){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,A=Tr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,f=A?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=A?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(a.width=f,a.height=h):(a.width=h,a.height=f)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Ya{constructor(){const{pixelRatio:e}=Ya;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let a=1/0,A=1/0,l=1/0;r=Ya.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*t))),i!==-1&&(A=i/e,l=i/t);const c=Math.min(a,A,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const sE=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Mse{static get isDarkMode(){var e;return At(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class Pz{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),At(this,"commentForegroundColor",tm(r))}}function Qz(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function LO(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),a=Math.min(t,r,i),A=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=A<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-r)/l+4)*60;break}}e[2]=A}function NU(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(t/60%2-1)),A=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+A,e[1]=a+A,e[2]=A;break;case 1:e[0]=a+A,e[1]=s+A,e[2]=A;break;case 2:e[0]=A,e[1]=s+A,e[2]=a+A;break;case 3:e[0]=A,e[1]=a+A,e[2]=s+A;break;case 4:e[0]=a+A,e[1]=A,e[2]=s+A;break;case 5:case 6:e[0]=s+A,e[1]=A,e[2]=a+A;break}}function kO(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function OO(n,e,t){NU(n,t),t.map(kO);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];NU(e,t),t.map(kO);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const HO=new Map;function Nz(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=HO.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);LO(n,a);const A=i.subarray(6,9);LO(e,A);const l=A[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),OO(a,A,s)<c){let f,h;l?(f=a[2],h=1):(f=0,h=a[2]);const g=.005;for(;h-f>g;){const v=a[2]=(f+h)/2;l===OO(a,A,s)<c?f=v:h=v}a[2]=l?h:f}return NU(a,s),r=Me.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),HO.set(t,r),r}function XD({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let A=0,l=a.length;A<l;++A){const c=a[A];s.append(document.createTextNode(c)),A<l-1&&s.append(document.createElement("br"))}i.append(s)}else YD.render({xfaHtml:n,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),r.append(i)}var lu,uu,ea,ta,Ry,cu,Ap,lp,Py,pS,Lz,$r,kz,Oz,Rh,Ev;const gA=class gA{constructor(e){P(this,$r);P(this,lu,null);P(this,uu,null);P(this,ea);P(this,ta,null);P(this,Ry,null);P(this,cu,null);P(this,Ap,null);P(this,lp,null);U(this,ea,e),p(gA,Py)||U(gA,Py,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=U(this,lu,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=p(this,ea)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Rs,{signal:t}),e.addEventListener("pointerdown",Q(gA,pS,Lz),{signal:t}));const r=U(this,ta,document.createElement("div"));r.className="buttons",e.append(r);const i=p(this,ea).toolbarPosition;if(i){const{style:s}=e,a=p(this,ea)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return p(this,lu)}hide(){var e;p(this,lu).classList.add("hidden"),(e=p(this,uu))==null||e.hideDropdown()}show(){var e,t;p(this,lu).classList.remove("hidden"),(e=p(this,Ry))==null||e.shown(),(t=p(this,cu))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=p(this,ea),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",p(gA,Py)[e]),Q(this,$r,Rh).call(this,r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),p(this,ta).append(r)}async addAltText(e){const t=await e.render();Q(this,$r,Rh).call(this,t),p(this,ta).append(t,p(this,$r,Ev)),U(this,Ry,e)}addComment(e,t=null){if(p(this,cu))return;const r=e.renderForToolbar();if(!r)return;Q(this,$r,Rh).call(this,r);const i=U(this,Ap,p(this,$r,Ev));t?(p(this,ta).insertBefore(r,t),p(this,ta).insertBefore(i,t)):p(this,ta).append(r,i),U(this,cu,e),e.toolbar=this}addColorPicker(e){if(p(this,uu))return;U(this,uu,e);const t=e.renderButton();Q(this,$r,Rh).call(this,t),p(this,ta).append(t,p(this,$r,Ev))}async addEditSignatureButton(e){const t=U(this,lp,await e.renderEditButton(p(this,ea)));Q(this,$r,Rh).call(this,t),p(this,ta).append(t,p(this,$r,Ev))}removeButton(e){var t,r;switch(e){case"comment":(t=p(this,cu))==null||t.removeToolbarCommentButton(),U(this,cu,null),(r=p(this,Ap))==null||r.remove(),U(this,Ap,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,r){const i=p(this,ta).querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){p(this,lp)&&(p(this,lp).title=e)}remove(){var e;p(this,lu).remove(),(e=p(this,uu))==null||e.destroy(),U(this,uu,null)}};lu=new WeakMap,uu=new WeakMap,ea=new WeakMap,ta=new WeakMap,Ry=new WeakMap,cu=new WeakMap,Ap=new WeakMap,lp=new WeakMap,Py=new WeakMap,pS=new WeakSet,Lz=function(e){e.stopPropagation()},$r=new WeakSet,kz=function(e){p(this,ea)._focusEventsAllowed=!1,Sn(e)},Oz=function(e){p(this,ea)._focusEventsAllowed=!0,Sn(e)},Rh=function(e){const t=p(this,ea)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",Q(this,$r,kz).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",Q(this,$r,Oz).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Rs,{signal:t}),!0)},Ev=function(){const e=document.createElement("div");return e.className="divider",e},P(gA,pS),P(gA,Py,null);let LU=gA;var Qy,rf,yA,Cl,Hz,Kz,kU;class Dse{constructor(e){P(this,Cl);P(this,Qy,null);P(this,rf,null);P(this,yA);U(this,yA,e)}show(e,t,r){const[i,s]=Q(this,Cl,Kz).call(this,t,r),{style:a}=p(this,rf)||U(this,rf,Q(this,Cl,Hz).call(this));e.append(p(this,rf)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){p(this,rf).remove()}}Qy=new WeakMap,rf=new WeakMap,yA=new WeakMap,Cl=new WeakSet,Hz=function(){const e=U(this,rf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=p(this,yA)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Rs,{signal:t});const r=U(this,Qy,document.createElement("div"));return r.className="buttons",e.append(r),p(this,yA).hasCommentManager()&&Q(this,Cl,kU).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{p(this,yA).commentSelection("floating_button")}),Q(this,Cl,kU).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{p(this,yA).highlightSelection("floating_button")}),e},Kz=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const A=s.x+(t?s.width:0);if(a>r){i=A,r=a;continue}t?A>i&&(i=A):A<i&&(i=A)}return[t?1-i:i,r]},kU=function(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const A=p(this,yA)._signal;A instanceof AbortSignal&&!A.aborted&&(s.addEventListener("contextmenu",Rs,{signal:A}),s.addEventListener("click",i,{signal:A})),p(this,Qy).append(s)};function Gz(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var gS;class Rse{constructor(){P(this,gS,0)}get id(){return`${Ay}${nr(this,gS)._++}`}}gS=new WeakMap;var up,Ny,Zr,cp,lb;const qP=class qP{constructor(){P(this,cp);P(this,up,qD());P(this,Ny,0);P(this,Zr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return At(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return Q(this,cp,lb).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return Q(this,cp,lb).call(this,e,e)}async getFromBlob(e,t){const r=await t;return Q(this,cp,lb).call(this,e,r)}async getFromId(e){p(this,Zr)||U(this,Zr,new Map);const t=p(this,Zr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){p(this,Zr)||U(this,Zr,new Map);let r=p(this,Zr).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${p(this,up)}_${nr(this,Ny)._++}`,refCounter:1,isSvg:!1},p(this,Zr).set(e,r),p(this,Zr).set(r.id,r),r}getSvgUrl(e){const t=p(this,Zr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;p(this,Zr)||U(this,Zr,new Map);const t=p(this,Zr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${p(this,up)}_`)}};up=new WeakMap,Ny=new WeakMap,Zr=new WeakMap,cp=new WeakSet,lb=async function(e,t){p(this,Zr)||U(this,Zr,new Map);let r=p(this,Zr).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${p(this,up)}_${nr(this,Ny)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await em(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=qP._isSVGFittingCanvas,a=new FileReader,A=new Image,l=new Promise((c,f)=>{A.onload=()=>{r.bitmap=A,r.isSvg=!0,c()},a.onload=async()=>{const h=r.svgUrl=a.result;A.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},A.onerror=a.onerror=f});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){et(i),r=null}return p(this,Zr).set(e,r),r&&p(this,Zr).set(r.id,r),r};let OU=qP;var On,fu,Ly,bn;class Pse{constructor(e=128){P(this,On,[]);P(this,fu,!1);P(this,Ly);P(this,bn,-1);U(this,Ly,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:A=!1}){if(i&&e(),p(this,fu))return;const l={cmd:e,undo:t,post:r,type:s};if(p(this,bn)===-1){p(this,On).length>0&&(p(this,On).length=0),U(this,bn,0),p(this,On).push(l);return}if(a&&p(this,On)[p(this,bn)].type===s){A&&(l.undo=p(this,On)[p(this,bn)].undo),p(this,On)[p(this,bn)]=l;return}const c=p(this,bn)+1;c===p(this,Ly)?p(this,On).splice(0,1):(U(this,bn,c),c<p(this,On).length&&p(this,On).splice(c)),p(this,On).push(l)}undo(){if(p(this,bn)===-1)return;U(this,fu,!0);const{undo:e,post:t}=p(this,On)[p(this,bn)];e(),t==null||t(),U(this,fu,!1),U(this,bn,p(this,bn)-1)}redo(){if(p(this,bn)<p(this,On).length-1){U(this,bn,p(this,bn)+1),U(this,fu,!0);const{cmd:e,post:t}=p(this,On)[p(this,bn)];e(),t==null||t(),U(this,fu,!1)}}hasSomethingToUndo(){return p(this,bn)!==-1}hasSomethingToRedo(){return p(this,bn)<p(this,On).length-1}cleanType(e){if(p(this,bn)!==-1){for(let t=p(this,bn);t>=0;t--)if(p(this,On)[t].type!==e){p(this,On).splice(t+1,p(this,bn)-t),U(this,bn,t);return}p(this,On).length=0,U(this,bn,-1)}}destroy(){U(this,On,null)}}On=new WeakMap,fu=new WeakMap,Ly=new WeakMap,bn=new WeakMap;var mS,Vz;class ww{constructor(e){P(this,mS);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Tr.platform;for(const[r,i,s={}]of e)for(const a of r){const A=a.startsWith("mac+");t&&A?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!A&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(Q(this,mS,Vz).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:A=null}}=r;A&&!A(e,t)||(i.bind(e,...a,t)(),s||Sn(t))}}mS=new WeakSet,Vz=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const vS=class vS{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Fse(e),At(this,"_colors",e)}convert(e){const t=tm(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return vS._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Me.makeHexColor(...t):e}};me(vS,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let HU=vS;var fp,os,dp,Un,ir,hp,na,pp,ra,ei,du,hu,gp,pu,ho,ia,sf,ky,Oy,mp,Hy,po,gu,vp,mu,go,yS,vu,yp,Ky,yu,af,wp,wu,Gy,Wn,Qt,wA,Cu,Bu,Vy,Cp,zy,bu,mo,CA,qy,$y,sa,Ee,ub,KU,zz,qz,Sv,$z,Yz,Xz,GU,Wz,VU,zU,jz,pi,hA,Jz,Zz,qU,e5,xv,$U;const Xh=class Xh{constructor(e,t,r,i,s,a,A,l,c,f,h,g,v,b,B,S){P(this,Ee);P(this,fp,new AbortController);P(this,os,null);P(this,dp,null);P(this,Un,new Map);P(this,ir,new Map);P(this,hp,null);P(this,na,null);P(this,pp,null);P(this,ra,new Pse);P(this,ei,null);P(this,du,null);P(this,hu,null);P(this,gp,0);P(this,pu,new Set);P(this,ho,null);P(this,ia,null);P(this,sf,new Set);me(this,"_editorUndoBar",null);P(this,ky,!1);P(this,Oy,!1);P(this,mp,!1);P(this,Hy,null);P(this,po,null);P(this,gu,null);P(this,vp,null);P(this,mu,!1);P(this,go,null);P(this,yS,new Rse);P(this,vu,!1);P(this,yp,!1);P(this,Ky,!1);P(this,yu,null);P(this,af,null);P(this,wp,null);P(this,wu,null);P(this,Gy,null);P(this,Wn,Ze.NONE);P(this,Qt,new Set);P(this,wA,null);P(this,Cu,null);P(this,Bu,null);P(this,Vy,null);P(this,Cp,null);P(this,zy,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});P(this,bu,[0,0]);P(this,mo,null);P(this,CA,null);P(this,qy,null);P(this,$y,null);P(this,sa,null);const x=this._signal=p(this,fp).signal;U(this,CA,e),U(this,qy,t),U(this,$y,r),U(this,hp,i),U(this,ei,s),U(this,Cu,a),U(this,Cp,l),this._eventBus=A,A._on("editingaction",this.onEditingAction.bind(this),{signal:x}),A._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),A._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),A._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),A._on("setpreference",this.onSetPreference.bind(this),{signal:x}),A._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:x}),window.addEventListener("pointerdown",()=>{U(this,yp,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{U(this,yp,!1)},{capture:!0,signal:x}),Q(this,Ee,$z).call(this),Q(this,Ee,jz).call(this),Q(this,Ee,GU).call(this),U(this,na,l.annotationStorage),U(this,Hy,l.filterFactory),U(this,Bu,c),U(this,vp,f||null),U(this,ky,h),U(this,Oy,g),U(this,mp,v),U(this,Gy,b||null),this.viewParameters={realScale:cl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=B||null,this._supportsPinchToZoom=S!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Xh.prototype,t=a=>p(a,CA).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:A})=>{if(A instanceof HTMLInputElement){const{type:l}=A;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return At(this,"_keyboardManager",new ww([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:A})=>!(A instanceof HTMLButtonElement)&&p(a,CA).contains(A)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:A})=>!(A instanceof HTMLButtonElement)&&p(a,CA).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,a,A,l,c;(e=p(this,sa))==null||e.resolve(),U(this,sa,null),(t=p(this,fp))==null||t.abort(),U(this,fp,null),this._signal=null;for(const f of p(this,ir).values())f.destroy();p(this,ir).clear(),p(this,Un).clear(),p(this,sf).clear(),(r=p(this,wu))==null||r.clear(),U(this,os,null),p(this,Qt).clear(),p(this,ra).destroy(),(i=p(this,hp))==null||i.destroy(),(s=p(this,ei))==null||s.destroy(),(a=p(this,Cu))==null||a.destroy(),(A=p(this,go))==null||A.hide(),U(this,go,null),(l=p(this,wp))==null||l.destroy(),U(this,wp,null),U(this,dp,null),p(this,po)&&(clearTimeout(p(this,po)),U(this,po,null)),p(this,mo)&&(clearTimeout(p(this,mo)),U(this,mo,null)),(c=this._editorUndoBar)==null||c.destroy(),U(this,Cp,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return p(this,Gy)}get useNewAltTextFlow(){return p(this,Oy)}get useNewAltTextWhenAddingImage(){return p(this,mp)}get hcmFilter(){return At(this,"hcmFilter",p(this,Bu)?p(this,Hy).addHCMFilter(p(this,Bu).foreground,p(this,Bu).background):"none")}get direction(){return At(this,"direction",getComputedStyle(p(this,CA)).direction)}get _highlightColors(){return At(this,"_highlightColors",p(this,vp)?new Map(p(this,vp).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return At(this,"highlightColors",null);const t=new Map,r=!!p(this,Bu);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){t.set(i.replace("_HCM",""),s);continue}!r&&!a&&t.set(i,s)}return At(this,"highlightColors",t)}get highlightColorNames(){return At(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),U(this,hu,e)}setMainHighlightColorPicker(e){U(this,wp,e)}editAltText(e,t=!1){var r;(r=p(this,hp))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!p(this,ei)}editComment(e,t,r,i){var s;(s=p(this,ei))==null||s.showDialog(this,e,t,r,i)}selectComment(e,t){const r=p(this,ir).get(e),i=r==null?void 0:r.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=p(this,ei))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=p(this,ei))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=p(this,ei))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var i;(i=p(this,ei))==null||i.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=p(this,ei))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=p(this,ei))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(p(this,ir).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var t;(t=p(this,Cu))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return p(this,Cu)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":U(this,mp,t);break}}onPageChanging({pageNumber:e}){U(this,gp,e-1)}focusMainContainer(){p(this,CA).focus()}findParent(e,t){for(const r of p(this,ir).values()){const{x:i,y:s,width:a,height:A}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+A)return r}return null}disableUserSelect(e=!1){p(this,qy).classList.toggle("noUserSelect",e)}addShouldRescale(e){p(this,sf).add(e)}removeShouldRescale(e){p(this,sf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*cl.PDF_TO_CSS_UNITS;for(const r of p(this,sf))r.onScaleChanging();(t=p(this,hu))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:A}=r,l=r.toString(),f=Q(this,Ee,ub).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(f);if(!h)return;r.empty();const g=Q(this,Ee,KU).call(this,f),v=p(this,Wn)===Ze.NONE,b=()=>{const B=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:A,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(B==null||B.editComment())};if(v){this.switchToMode(Ze.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!p(this,na))return null;const t=`${Ay}${e}`,r=p(this,na).getRawValue(t);return r&&p(this,na).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&p(this,na)&&!p(this,na).has(e.id)&&p(this,na).setValue(e.id,e)}a11yAlert(e,t=null){const r=p(this,$y);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,p(this,mu)&&(U(this,mu,!1),Q(this,Ee,Sv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of p(this,Qt))if(t.div.contains(e)){U(this,af,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!p(this,af))return;const[e,t]=p(this,af);U(this,af,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){Q(this,Ee,GU).call(this),Q(this,Ee,VU).call(this)}removeEditListeners(){Q(this,Ee,Wz).call(this),Q(this,Ee,zU).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of p(this,ia))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of p(this,ia))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=p(this,os))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of p(this,Qt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of p(this,ia))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){et(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)Q(this,Ee,qU).call(this,l);Q(this,Ee,$U).call(this,s)},A=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:A,mustExec:!0})}catch(s){et(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),p(this,Wn)!==Ze.NONE&&!this.isEditorHandlingKeyboard&&Xh._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,p(this,mu)&&(U(this,mu,!1),Q(this,Ee,Sv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(Q(this,Ee,Yz).call(this),Q(this,Ee,VU).call(this),Q(this,Ee,pi).call(this,{isEditing:p(this,Wn)!==Ze.NONE,isEmpty:Q(this,Ee,xv).call(this),hasSomethingToUndo:p(this,ra).hasSomethingToUndo(),hasSomethingToRedo:p(this,ra).hasSomethingToRedo(),hasSelectedEditor:!1})):(Q(this,Ee,Xz).call(this),Q(this,Ee,zU).call(this),Q(this,Ee,pi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!p(this,ia)){U(this,ia,e);for(const t of p(this,ia))Q(this,Ee,hA).call(this,t.defaultPropertiesToUpdate)}}getId(){return p(this,yS).id}get currentLayer(){return p(this,ir).get(p(this,gp))}getLayer(e){return p(this,ir).get(e)}get currentPageIndex(){return p(this,gp)}addLayer(e){p(this,ir).set(e.pageIndex,e),p(this,vu)?e.enable():e.disable()}removeLayer(e){p(this,ir).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var a,A,l,c,f,h;if(p(this,Wn)!==e&&!(p(this,sa)&&(await p(this,sa).promise,!p(this,sa)))){if(U(this,sa,Promise.withResolvers()),(a=p(this,hu))==null||a.commitOrRemove(),p(this,Wn)===Ze.POPUP&&((A=p(this,ei))==null||A.hideSidebar()),(l=p(this,ei))==null||l.destroyPopup(),U(this,Wn,e),e===Ze.NONE){this.setEditingState(!1),Q(this,Ee,Zz).call(this);for(const g of p(this,Un).values())g.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),p(this,sa).resolve();return}for(const g of p(this,Un).values())g.addStandaloneCommentButton();e===Ze.SIGNATURE&&await((f=p(this,Cu))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await Q(this,Ee,Jz).call(this),this.unselectAll();for(const g of p(this,ir).values())g.updateMode(e);if(e===Ze.POPUP){p(this,dp)||U(this,dp,await p(this,Cp).getAnnotationsByType(new Set(p(this,ia).map(b=>b._editorType))));const g=new Set,v=[];for(const b of p(this,Un).values()){const{annotationElementId:B,hasComment:S,deleted:x}=b;B&&g.add(B),S&&!x&&v.push(b.getData())}for(const b of p(this,dp)){const{id:B,popupRef:S,contentsObj:x}=b;S&&(x!=null&&x.str)&&!g.has(B)&&!p(this,pu).has(B)&&v.push(b)}(h=p(this,ei))==null||h.showSidebar(v)}if(!t){r&&this.addNewEditorFromKeyboard(),p(this,sa).resolve();return}for(const g of p(this,Un).values())g.uid===t?(this.setSelected(g),s?g.editComment():i?g.enterInEditMode():g.focus()):g.unselect();p(this,sa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==p(this,Wn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(p(this,ia)){switch(e){case yt.CREATE:this.currentLayer.addNewEditor(t);return;case yt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(this,Vy)||U(this,Vy,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of p(this,Qt))r.updateParams(e,t);else for(const r of p(this,ia))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of p(this,Un).values())a.editorType===e&&a.show(t);(((s=p(this,Vy))==null?void 0:s.get(yt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&Q(this,Ee,hA).call(this,[[yt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(p(this,Ky)!==e){U(this,Ky,e);for(const t of p(this,ir).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of p(this,Un).values())t.pageIndex===e&&(yield t)}getEditor(e){return p(this,Un).get(e)}addEditor(e){p(this,Un).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(p(this,po)&&clearTimeout(p(this,po)),U(this,po,setTimeout(()=>{this.focusMainContainer(),U(this,po,null)},0))),p(this,Un).delete(e.id),e.annotationElementId&&((t=p(this,wu))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!p(this,pu).has(e.annotationElementId))&&((r=p(this,na))==null||r.remove(e.id))}addDeletedAnnotationElement(e){p(this,pu).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return p(this,pu).has(e)}removeDeletedAnnotationElement(e){p(this,pu).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){p(this,os)!==e&&(U(this,os,e),e&&Q(this,Ee,hA).call(this,e.propertiesToUpdate))}updateUI(e){p(this,Ee,e5)===e&&Q(this,Ee,hA).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){Q(this,Ee,hA).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(p(this,Qt).has(e)){p(this,Qt).delete(e),e.unselect(),Q(this,Ee,pi).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,Qt).add(e),e.select(),Q(this,Ee,hA).call(this,e.propertiesToUpdate),Q(this,Ee,pi).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=p(this,hu))==null||t.commitOrRemove();for(const r of p(this,Qt))r!==e&&r.unselect();p(this,Qt).clear(),p(this,Qt).add(e),e.select(),Q(this,Ee,hA).call(this,e.propertiesToUpdate),Q(this,Ee,pi).call(this,{hasSelectedEditor:!0})}isSelected(e){return p(this,Qt).has(e)}get firstSelectedEditor(){return p(this,Qt).values().next().value}unselect(e){e.unselect(),p(this,Qt).delete(e),Q(this,Ee,pi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,Qt).size!==0}get isEnterHandled(){return p(this,Qt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;p(this,ra).undo(),Q(this,Ee,pi).call(this,{hasSomethingToUndo:p(this,ra).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Q(this,Ee,xv).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){p(this,ra).redo(),Q(this,Ee,pi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,ra).hasSomethingToRedo(),isEmpty:Q(this,Ee,xv).call(this)})}addCommands(e){p(this,ra).add(e),Q(this,Ee,pi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Q(this,Ee,xv).call(this)})}cleanUndoStack(e){p(this,ra).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...p(this,Qt)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const A of t)A.remove()},i=()=>{for(const a of t)Q(this,Ee,qU).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=p(this,os))==null||e.commitOrRemove()}hasSomethingToControl(){return p(this,os)||this.hasSelection}selectAll(){for(const e of p(this,Qt))e.commit();Q(this,Ee,$U).call(this,p(this,Un).values())}unselectAll(){var e;if(!(p(this,os)&&(p(this,os).commitOrRemove(),p(this,Wn)!==Ze.NONE))&&!((e=p(this,hu))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of p(this,Qt))t.unselect();p(this,Qt).clear(),Q(this,Ee,pi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;p(this,bu)[0]+=e,p(this,bu)[1]+=t;const[i,s]=p(this,bu),a=[...p(this,Qt)],A=1e3;p(this,mo)&&clearTimeout(p(this,mo)),U(this,mo,setTimeout(()=>{U(this,mo,null),p(this,bu)[0]=p(this,bu)[1]=0,this.addCommands({cmd:()=>{for(const l of a)p(this,Un).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)p(this,Un).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},A));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),U(this,ho,new Map);for(const e of p(this,Qt))p(this,ho).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(this,ho))return!1;this.disableUserSelect(!1);const e=p(this,ho);U(this,ho,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},A]of e)A.newX=i,A.newY=s,A.newPageIndex=a,t||(t=i!==A.savedX||s!==A.savedY||a!==A.savedPageIndex);if(!t)return!1;const r=(i,s,a,A)=>{if(p(this,Un).has(i.id)){const l=p(this,ir).get(A);l?i._setParentAndPosition(l,s,a):(i.pageIndex=A,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:A}]of e)r(i,s,a,A)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:A}]of e)r(i,s,a,A)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(p(this,ho))for(const r of p(this,ho).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||p(this,Qt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return p(this,os)===e}getActive(){return p(this,os)}getMode(){return p(this,Wn)}isEditingMode(){return p(this,Wn)!==Ze.NONE}get imageManager(){return At(this,"imageManager",new OU)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,f=t.rangeCount;c<f;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let A;switch(e.getAttribute("data-main-rotation")){case"90":A=(c,f,h,g)=>({x:(f-i)/a,y:1-(c+h-r)/s,width:g/a,height:h/s});break;case"180":A=(c,f,h,g)=>({x:1-(c+h-r)/s,y:1-(f+g-i)/a,width:h/s,height:g/a});break;case"270":A=(c,f,h,g)=>({x:1-(f+g-i)/a,y:(c-r)/s,width:g/a,height:h/s});break;default:A=(c,f,h,g)=>({x:(c-r)/s,y:(f-i)/a,width:h/s,height:g/a});break}const l=[];for(let c=0,f=t.rangeCount;c<f;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:g,y:v,width:b,height:B}of h.getClientRects())b===0||B===0||l.push(A(g,v,b,B))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(p(this,pp)||U(this,pp,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=p(this,pp))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=p(this,pp))==null?void 0:i.get(e.data.id);if(!t)return;const r=p(this,na).getRawValue(t);r&&(p(this,Wn)===Ze.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=p(this,wu))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),p(this,wu).delete(e))}addMissingCanvas(e,t){(p(this,wu)||U(this,wu,new Map)).set(e,t)}};fp=new WeakMap,os=new WeakMap,dp=new WeakMap,Un=new WeakMap,ir=new WeakMap,hp=new WeakMap,na=new WeakMap,pp=new WeakMap,ra=new WeakMap,ei=new WeakMap,du=new WeakMap,hu=new WeakMap,gp=new WeakMap,pu=new WeakMap,ho=new WeakMap,ia=new WeakMap,sf=new WeakMap,ky=new WeakMap,Oy=new WeakMap,mp=new WeakMap,Hy=new WeakMap,po=new WeakMap,gu=new WeakMap,vp=new WeakMap,mu=new WeakMap,go=new WeakMap,yS=new WeakMap,vu=new WeakMap,yp=new WeakMap,Ky=new WeakMap,yu=new WeakMap,af=new WeakMap,wp=new WeakMap,wu=new WeakMap,Gy=new WeakMap,Wn=new WeakMap,Qt=new WeakMap,wA=new WeakMap,Cu=new WeakMap,Bu=new WeakMap,Vy=new WeakMap,Cp=new WeakMap,zy=new WeakMap,bu=new WeakMap,mo=new WeakMap,CA=new WeakMap,qy=new WeakMap,$y=new WeakMap,sa=new WeakMap,Ee=new WeakSet,ub=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},KU=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of p(this,ir).values())if(r.hasTextLayer(e))return r;return null},zz=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=Q(this,Ee,ub).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(p(this,go)||U(this,go,new Dse(this)),p(this,go).show(r,i,this.direction==="ltr"))},qz=function(){var s,a,A;const e=document.getSelection();if(!e||e.isCollapsed){p(this,wA)&&((s=p(this,go))==null||s.hide(),U(this,wA,null),Q(this,Ee,pi).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===p(this,wA))return;const i=Q(this,Ee,ub).call(this,e).closest(".textLayer");if(!i){p(this,wA)&&((a=p(this,go))==null||a.hide(),U(this,wA,null),Q(this,Ee,pi).call(this,{hasSelectedText:!1}));return}if((A=p(this,go))==null||A.hide(),U(this,wA,t),Q(this,Ee,pi).call(this,{hasSelectedText:!0}),!(p(this,Wn)!==Ze.HIGHLIGHT&&p(this,Wn)!==Ze.NONE)&&(p(this,Wn)===Ze.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),U(this,mu,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=p(this,Wn)===Ze.HIGHLIGHT?Q(this,Ee,KU).call(this,i):null;if(l==null||l.toggleDrawing(),p(this,yp)){const c=new AbortController,f=this.combinedSignal(c),h=g=>{g.type==="pointerup"&&g.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&Q(this,Ee,Sv).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:f}),window.addEventListener("blur",h,{signal:f})}else l==null||l.toggleDrawing(!0),Q(this,Ee,Sv).call(this,"main_toolbar")}},Sv=function(e=""){p(this,Wn)===Ze.HIGHLIGHT?this.highlightSelection(e):p(this,ky)&&Q(this,Ee,zz).call(this)},$z=function(){document.addEventListener("selectionchange",Q(this,Ee,qz).bind(this),{signal:this._signal})},Yz=function(){if(p(this,gu))return;U(this,gu,new AbortController);const e=this.combinedSignal(p(this,gu));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Xz=function(){var e;(e=p(this,gu))==null||e.abort(),U(this,gu,null)},GU=function(){if(p(this,yu))return;U(this,yu,new AbortController);const e=this.combinedSignal(p(this,yu));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Wz=function(){var e;(e=p(this,yu))==null||e.abort(),U(this,yu,null)},VU=function(){if(p(this,du))return;U(this,du,new AbortController);const e=this.combinedSignal(p(this,du));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},zU=function(){var e;(e=p(this,du))==null||e.abort(),U(this,du,null)},jz=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},pi=function(e){Object.entries(e).some(([r,i])=>p(this,zy)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,zy),e)}),p(this,Wn)===Ze.HIGHLIGHT&&e.hasSelectedEditor===!1&&Q(this,Ee,hA).call(this,[[yt.HIGHLIGHT_FREE,!0]]))},hA=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Jz=async function(){if(!p(this,vu)){U(this,vu,!0);const e=[];for(const t of p(this,ir).values())e.push(t.enable());await Promise.all(e);for(const t of p(this,Un).values())t.enable()}},Zz=function(){if(this.unselectAll(),p(this,vu)){U(this,vu,!1);for(const e of p(this,ir).values())e.disable();for(const e of p(this,Un).values())e.disable()}},qU=function(e){const t=p(this,ir).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},e5=function(){let e=null;for(e of p(this,Qt));return e},xv=function(){if(p(this,Un).size===0)return!0;if(p(this,Un).size===1)for(const e of p(this,Un).values())return e.isEmpty();return!1},$U=function(e){for(const t of p(this,Qt))t.unselect();p(this,Qt).clear();for(const t of e)t.isEmpty()||(p(this,Qt).add(t),t.select());Q(this,Ee,pi).call(this,{hasSelectedEditor:this.hasSelection})},me(Xh,"TRANSLATE_SMALL",1),me(Xh,"TRANSLATE_BIG",10);let cc=Xh;var yr,vo,Fa,Bp,yo,As,bp,wo,Li,BA,of,Co,Eu,qa,Tv,cb;const gi=class gi{constructor(e){P(this,qa);P(this,yr,null);P(this,vo,!1);P(this,Fa,null);P(this,Bp,null);P(this,yo,null);P(this,As,null);P(this,bp,!1);P(this,wo,null);P(this,Li,null);P(this,BA,null);P(this,of,null);P(this,Co,!1);U(this,Li,e),U(this,Co,e._uiManager.useNewAltTextFlow),p(gi,Eu)||U(gi,Eu,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){gi._l10n??(gi._l10n=e)}async render(){const e=U(this,Fa,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=U(this,Bp,document.createElement("span"));e.append(t),p(this,Co)?(e.classList.add("new"),e.setAttribute("data-l10n-id",p(gi,Eu).missing),t.setAttribute("data-l10n-id",p(gi,Eu)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=p(this,Li)._uiManager._signal;e.addEventListener("contextmenu",Rs,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),p(this,Li)._uiManager.editAltText(p(this,Li)),p(this,Co)&&p(this,Li)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:p(this,qa,Tv)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(U(this,bp,!0),i(s))},{signal:r}),await Q(this,qa,cb).call(this),e}finish(){p(this,Fa)&&(p(this,Fa).focus({focusVisible:p(this,bp)}),U(this,bp,!1))}isEmpty(){return p(this,Co)?p(this,yr)===null:!p(this,yr)&&!p(this,vo)}hasData(){return p(this,Co)?p(this,yr)!==null||!!p(this,BA):this.isEmpty()}get guessedText(){return p(this,BA)}async setGuessedText(e){p(this,yr)===null&&(U(this,BA,e),U(this,of,await gi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),Q(this,qa,cb).call(this))}toggleAltTextBadge(e=!1){var t;if(!p(this,Co)||p(this,yr)){(t=p(this,wo))==null||t.remove(),U(this,wo,null);return}if(!p(this,wo)){const r=U(this,wo,document.createElement("div"));r.className="noAltTextBadge",p(this,Li).div.append(r)}p(this,wo).classList.toggle("hidden",!e)}serialize(e){let t=p(this,yr);return!e&&p(this,BA)===t&&(t=p(this,of)),{altText:t,decorative:p(this,vo),guessedText:p(this,BA),textWithDisclaimer:p(this,of)}}get data(){return{altText:p(this,yr),decorative:p(this,vo)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(U(this,BA,r),U(this,of,i)),!(p(this,yr)===e&&p(this,vo)===t)&&(s||(U(this,yr,e),U(this,vo,t)),Q(this,qa,cb).call(this))}toggle(e=!1){p(this,Fa)&&(!e&&p(this,As)&&(clearTimeout(p(this,As)),U(this,As,null)),p(this,Fa).disabled=!e)}shown(){p(this,Li)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:p(this,qa,Tv)}})}destroy(){var e,t;(e=p(this,Fa))==null||e.remove(),U(this,Fa,null),U(this,Bp,null),U(this,yo,null),(t=p(this,wo))==null||t.remove(),U(this,wo,null)}};yr=new WeakMap,vo=new WeakMap,Fa=new WeakMap,Bp=new WeakMap,yo=new WeakMap,As=new WeakMap,bp=new WeakMap,wo=new WeakMap,Li=new WeakMap,BA=new WeakMap,of=new WeakMap,Co=new WeakMap,Eu=new WeakMap,qa=new WeakSet,Tv=function(){return p(this,yr)&&"added"||p(this,yr)===null&&this.guessedText&&"review"||"missing"},cb=async function(){var i,s,a;const e=p(this,Fa);if(!e)return;if(p(this,Co)){if(e.classList.toggle("done",!!p(this,yr)),e.setAttribute("data-l10n-id",p(gi,Eu)[p(this,qa,Tv)]),(i=p(this,Bp))==null||i.setAttribute("data-l10n-id",p(gi,Eu)[`${p(this,qa,Tv)}-label`]),!p(this,yr)){(s=p(this,yo))==null||s.remove();return}}else{if(!p(this,yr)&&!p(this,vo)){e.classList.remove("done"),(a=p(this,yo))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=p(this,yo);if(!t){U(this,yo,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${p(this,Li).id}`;const A=100,l=p(this,Li)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(p(this,As)),U(this,As,null)},{once:!0}),e.addEventListener("mouseenter",()=>{U(this,As,setTimeout(()=>{U(this,As,null),p(this,yo).classList.add("show"),p(this,Li)._reportTelemetry({action:"alt_text_tooltip"})},A))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;p(this,As)&&(clearTimeout(p(this,As)),U(this,As,null)),(c=p(this,yo))==null||c.classList.remove("show")},{signal:l})}p(this,vo)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=p(this,yr)),t.parentNode||e.append(t);const r=p(this,Li).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},P(gi,Eu,null),me(gi,"_l10n",null);let aE=gi;var Nr,aa,Af,sn,Yy,lf,Ma,uf,cf,ff,Xy,YU;class AB{constructor(e){P(this,Xy);P(this,Nr,null);P(this,aa,null);P(this,Af,!1);P(this,sn,null);P(this,Yy,null);P(this,lf,null);P(this,Ma,null);P(this,uf,null);P(this,cf,!1);P(this,ff,null);U(this,sn,e)}renderForToolbar(){const e=U(this,aa,document.createElement("button"));return e.className="comment",Q(this,Xy,YU).call(this,e,!1)}renderForStandalone(){const e=U(this,Nr,document.createElement("button"));e.className="annotationCommentButton";const t=p(this,sn).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(p(this,sn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=p(this,sn).commentButtonColor;i&&(r.backgroundColor=i)}return Q(this,Xy,YU).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=p(this,Nr)??p(this,aa))==null||e.focus()},0)}onUpdatedColor(){if(!p(this,Nr))return;const e=p(this,sn).commentButtonColor;e&&(p(this,Nr).style.backgroundColor=e),p(this,sn)._uiManager.updatePopupColor(p(this,sn))}get commentButtonWidth(){var e;return(((e=p(this,Nr))==null?void 0:e.getBoundingClientRect().width)??0)/p(this,sn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(p(this,ff))return p(this,ff);if(!p(this,Nr))return null;const{x:e,y:t,height:r}=p(this,Nr).getBoundingClientRect(),{x:i,y:s,width:a,height:A}=p(this,sn).parent.boundingClientRect;return[(e-i)/a,(t+r-s)/A]}set commentPopupPositionInLayer(e){U(this,ff,e)}hasDefaultPopupPosition(){return p(this,ff)===null}removeStandaloneCommentButton(){var e;(e=p(this,Nr))==null||e.remove(),U(this,Nr,null)}removeToolbarCommentButton(){var e;(e=p(this,aa))==null||e.remove(),U(this,aa,null)}setCommentButtonStates({selected:e,hasPopup:t}){p(this,Nr)&&(p(this,Nr).classList.toggle("selected",e),p(this,Nr).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=p(this,sn).commentButtonPosition;const{width:f,height:h,x:g,y:v}=p(this,sn);r=g+r*f,i=v+i*h}const s=p(this,sn).parent.boundingClientRect,{x:a,y:A,width:l,height:c}=s;p(this,sn)._uiManager.editComment(p(this,sn),a+r*l,A+i*c,{...e,parentDimensions:s})}finish(){p(this,aa)&&(p(this,aa).focus({focusVisible:p(this,Af)}),U(this,Af,!1))}isDeleted(){return p(this,cf)||p(this,Ma)===""}isEmpty(){return p(this,Ma)===null}hasBeenEdited(){return this.isDeleted()||p(this,Ma)!==p(this,Yy)}serialize(){return this.data}get data(){return{text:p(this,Ma),richText:p(this,lf),date:p(this,uf),deleted:this.isDeleted()}}set data(e){if(e!==p(this,Ma)&&U(this,lf,null),e===null){U(this,Ma,""),U(this,cf,!0);return}U(this,Ma,e),U(this,uf,new Date),U(this,cf,!1)}setInitialText(e,t=null){U(this,Yy,e),this.data=e,U(this,uf,null),U(this,lf,t)}shown(){}destroy(){var e,t;(e=p(this,aa))==null||e.remove(),U(this,aa,null),(t=p(this,Nr))==null||t.remove(),U(this,Nr,null),U(this,Ma,""),U(this,lf,null),U(this,uf,null),U(this,sn,null),U(this,Af,!1),U(this,cf,!1)}}Nr=new WeakMap,aa=new WeakMap,Af=new WeakMap,sn=new WeakMap,Yy=new WeakMap,lf=new WeakMap,Ma=new WeakMap,uf=new WeakMap,cf=new WeakMap,ff=new WeakMap,Xy=new WeakSet,YU=function(e,t){if(!p(this,sn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[p(this,sn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=p(this,sn)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Rs,{signal:r}),t&&(e.addEventListener("focusin",s=>{p(this,sn)._focusEventsAllowed=!1,Sn(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{p(this,sn)._focusEventsAllowed=!0,Sn(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===p(this,aa)?this.edit():p(this,sn).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(U(this,Af,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{p(this,sn).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{p(this,sn).toggleComment(!1,!1)},{signal:r}),e};var Ep,df,Wy,jy,Jy,Zy,e0,bA,hf,EA,pf,SA,gc,t5,n5,r5;const $P=class $P{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:A}){P(this,gc);P(this,Ep);P(this,df,!1);P(this,Wy,null);P(this,jy);P(this,Jy);P(this,Zy);P(this,e0);P(this,bA,null);P(this,hf);P(this,EA,null);P(this,pf);P(this,SA,null);U(this,Ep,e),U(this,Wy,r),U(this,jy,t),U(this,Jy,i),U(this,Zy,s),U(this,e0,a),U(this,pf,new AbortController),U(this,hf,AbortSignal.any([A,p(this,pf).signal])),e.addEventListener("touchstart",Q(this,gc,t5).bind(this),{passive:!1,signal:p(this,hf)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ya.pixelRatio}destroy(){var e,t;(e=p(this,pf))==null||e.abort(),U(this,pf,null),(t=p(this,bA))==null||t.abort(),U(this,bA,null)}};Ep=new WeakMap,df=new WeakMap,Wy=new WeakMap,jy=new WeakMap,Jy=new WeakMap,Zy=new WeakMap,e0=new WeakMap,bA=new WeakMap,hf=new WeakMap,EA=new WeakMap,pf=new WeakMap,SA=new WeakMap,gc=new WeakSet,t5=function(e){var i,s,a;if((i=p(this,jy))!=null&&i.call(this))return;if(e.touches.length===1){if(p(this,bA))return;const A=U(this,bA,new AbortController),l=AbortSignal.any([p(this,hf),A.signal]),c=p(this,Ep),f={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=p(this,bA))==null||v.abort(),U(this,bA,null))};c.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(Sn(g),h(g))},f),c.addEventListener("pointerup",h,f),c.addEventListener("pointercancel",h,f);return}if(!p(this,SA)){U(this,SA,new AbortController);const A=AbortSignal.any([p(this,hf),p(this,SA).signal]),l=p(this,Ep),c={signal:A,capture:!1,passive:!1};l.addEventListener("touchmove",Q(this,gc,n5).bind(this),c);const f=Q(this,gc,r5).bind(this);l.addEventListener("touchend",f,c),l.addEventListener("touchcancel",f,c),c.capture=!0,l.addEventListener("pointerdown",Sn,c),l.addEventListener("pointermove",Sn,c),l.addEventListener("pointercancel",Sn,c),l.addEventListener("pointerup",Sn,c),(s=p(this,Jy))==null||s.call(this)}if(Sn(e),e.touches.length!==2||(a=p(this,Wy))!=null&&a.call(this)){U(this,EA,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),U(this,EA,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},n5=function(e){var M;if(!p(this,EA)||e.touches.length!==2)return;Sn(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:A}=r,l=p(this,EA),{touch0X:c,touch0Y:f,touch1X:h,touch1Y:g}=l,v=h-c,b=g-f,B=a-i,S=A-s,x=Math.hypot(B,S)||1,_=Math.hypot(v,b)||1;if(!p(this,df)&&Math.abs(_-x)<=$P.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=A,!p(this,df)){U(this,df,!0);return}const T=[(i+a)/2,(s+A)/2];(M=p(this,Zy))==null||M.call(this,T,_,x)},r5=function(e){var t;e.touches.length>=2||(p(this,SA)&&(p(this,SA).abort(),U(this,SA,null),(t=p(this,e0))==null||t.call(this)),p(this,EA)&&(Sn(e),U(this,EA,null),U(this,df,!1)))};let fy=$P;var gf,Da,mn,Zt,xA,Sp,Su,t0,Lr,mf,TA,Bo,xu,n0,vf,ls,r0,yf,_A,bo,xp,Tp,oa,wf,i0,wS,$e,XU,s0,WU,fb,i5,s5,jU,db,JU,a5,o5,A5,ZU,l5,eF,u5,c5,f5,tF,_v;const nt=class nt{constructor(e){P(this,$e);P(this,gf,null);P(this,Da,null);P(this,mn,null);P(this,Zt,null);P(this,xA,null);P(this,Sp,!1);P(this,Su,null);P(this,t0,"");P(this,Lr,null);P(this,mf,null);P(this,TA,null);P(this,Bo,null);P(this,xu,null);P(this,n0,"");P(this,vf,!1);P(this,ls,null);P(this,r0,!1);P(this,yf,!1);P(this,_A,!1);P(this,bo,null);P(this,xp,0);P(this,Tp,0);P(this,oa,null);P(this,wf,null);me(this,"isSelected",!1);me(this,"_isCopy",!1);me(this,"_editToolbar",null);me(this,"_initialOptions",Object.create(null));me(this,"_initialData",null);me(this,"_isVisible",!0);me(this,"_uiManager",null);me(this,"_focusEventsAllowed",!0);P(this,i0,!1);P(this,wS,nt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[A,l]=this.parentDimensions;this.x=e.x/A,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=nt.prototype._resizeWithKeyboard,t=cc.TRANSLATE_SMALL,r=cc.TRANSLATE_BIG;return At(this,"_resizerKeyboardManager",new ww([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],nt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return At(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Qse({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(nt._l10n??(nt._l10n=e),nt._l10nResizer||(nt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),nt._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);nt._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){nn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p(this,i0)}set _isDraggable(e){var t;U(this,i0,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(this,wS)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(Q(this,$e,_v).call(this),(t=p(this,Bo))==null||t.remove(),U(this,Bo,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(p(this,vf)?U(this,vf,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){Q(this,$e,XU).call(this,this.parentDimensions,e,t)}translateInPage(e,t){p(this,ls)||U(this,ls,[this.x,this.y,this.width,this.height]),Q(this,$e,XU).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){p(this,ls)||U(this,ls,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:A}=this;const[l,c]=this.getBaseTranslation();a+=l,A+=c;const{style:f}=r;f.left=`${(100*a).toFixed(2)}%`,f.top=`${(100*A).toFixed(2)}%`,this._onTranslating(a,A),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!p(this,ls)&&(p(this,ls)[0]!==this.x||p(this,ls)[1]!==this.y)}get _hasBeenResized(){return!!p(this,ls)&&(p(this,ls)[2]!==this.width||p(this,ls)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=nt,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:A,height:l}=this;if(A*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=ai(s,0,r-A),a=ai(a,0,i-l);break;case 90:s=ai(s,0,r-l),a=ai(a,A,i);break;case 180:s=ai(s,A,r),a=ai(a,l,i);break;case 270:s=ai(s,l,r),a=ai(a,0,i-A);break}this.x=s/=r,this.y=a/=i;const[c,f]=this.getBaseTranslation();s+=c,a+=f,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return Q(r=nt,s0,WU).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return Q(r=nt,s0,WU).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=p(this,mn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||p(this,yf))return this._editToolbar;this._editToolbar=new LU(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=p(this,mn))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return p(this,mn)||(aE.initialize(nt._l10n),U(this,mn,new aE(this)),p(this,gf)&&(p(this,mn).data=p(this,gf),U(this,gf,null))),p(this,mn)}get altTextData(){var e;return(e=p(this,mn))==null?void 0:e.data}set altTextData(e){p(this,mn)&&(p(this,mn).data=e)}get guessedAltText(){var e;return(e=p(this,mn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=p(this,mn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=p(this,mn))==null?void 0:t.serialize(e)}hasAltText(){return!!p(this,mn)&&!p(this,mn).isEmpty()}hasAltTextData(){var e;return((e=p(this,mn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=p(this,Zt))==null||e.focusButton()}addCommentButton(){return p(this,Zt)||U(this,Zt,new AB(this))}addStandaloneCommentButton(){if(p(this,xA)){this._uiManager.isEditingMode()&&p(this,xA).classList.remove("hidden");return}this.hasComment&&(U(this,xA,p(this,Zt).renderForStandalone()),this.div.append(p(this,xA)))}removeStandaloneCommentButton(){p(this,Zt).removeStandaloneCommentButton(),U(this,xA,null)}hideStandaloneCommentButton(){var e;(e=p(this,xA))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:i}}=p(this,Zt);return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){p(this,Zt)||U(this,Zt,new AB(this)),p(this,Zt).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(p(this,Zt)||U(this,Zt,new AB(this)),p(this,Zt).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=p(this,Zt))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=p(this,Zt))==null?void 0:e.isDeleted()}get hasComment(){return!!p(this,Zt)&&!p(this,Zt).isEmpty()&&!p(this,Zt).isDeleted()}async editComment(e){p(this,Zt)||U(this,Zt,new AB(this)),p(this,Zt).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){p(this,Zt).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,A=a+s+1,l=i-100,c=A+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[A,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){p(this,Zt).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=p(this,Sp)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),Q(this,$e,eF).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Gz(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(p(this,wf)||U(this,wf,new fy({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:Q(this,$e,a5).bind(this),onPinching:Q(this,$e,o5).bind(this),onPinchEnd:Q(this,$e,A5).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Tr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(U(this,vf,!0),this._isDraggable){Q(this,$e,l5).call(this,e);return}Q(this,$e,ZU).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){p(this,bo)&&clearTimeout(p(this,bo)),U(this,bo,setTimeout(()=>{var e;U(this,bo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[A,l]=this.pageTranslation,c=e/i,f=t/i,h=this.x*s,g=this.y*a,v=this.width*s,b=this.height*a;switch(r){case 0:return[h+c+A,a-g-f-b+l,h+c+v+A,a-g-f+l];case 90:return[h+f+A,a-g+c+l,h+f+b+A,a-g+c+v+l];case 180:return[h-c-v+A,a-g+f+l,h-c+A,a-g+f+b+l];case 270:return[h-f-b+A,a-g-c-v+l,h-f+A,a-g-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,A=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,A,l];case 90:return[r,t-i,l,A];case 180:return[s,t-i,A,l];case 270:return[s,t-a,l,A];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&nt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=p(this,Zt))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:a},uid:A,pageIndex:l,creationDate:c,modificationDate:f}=this;return{id:A,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||f,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),U(this,yf,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),U(this,yf,!1),!0):!1}isInEditMode(){return p(this,yf)}shouldGetKeyboardEvents(){return p(this,_A)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){Q(this,$e,eF).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,U(i,gf,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[A,l,c,f]=i.getRectInCurrentCoords(e.rect,a);return i.x=A/s,i.y=l/a,i.width=c/s,i.height=f/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=p(this,xu))==null||e.abort(),U(this,xu,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),p(this,bo)&&(clearTimeout(p(this,bo)),U(this,bo,null)),Q(this,$e,_v).call(this),this.removeEditToolbar(),p(this,oa)){for(const r of p(this,oa).values())clearTimeout(r);U(this,oa,null)}this.parent=null,(t=p(this,wf))==null||t.destroy(),U(this,wf,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Q(this,$e,i5).call(this),p(this,Lr).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,a]=this.getPDFRect();return[nt._round(r+(s-r)*e),nt._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return p(this,Zt).commentPopupPositionInLayer}set commentPopupPosition(e){p(this,Zt).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return p(this,Zt).hasDefaultPopupPosition()}get commentButtonWidth(){return p(this,Zt).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){p(this,Zt).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),U(this,TA,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=p(this,Lr).children;if(!p(this,Da)){U(this,Da,Array.from(t));const a=Q(this,$e,u5).bind(this),A=Q(this,$e,c5).bind(this),l=this._uiManager._signal;for(const c of p(this,Da)){const f=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",A,{signal:l}),c.addEventListener("focus",Q(this,$e,f5).bind(this,f),{signal:l}),c.setAttribute("data-l10n-id",nt._l10nResizer[f])}}const r=p(this,Da)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(p(this,Da).length/4);if(s!==i){if(s<i)for(let A=0;A<i-s;A++)p(this,Lr).append(p(this,Lr).firstChild);else if(s>i)for(let A=0;A<s-i;A++)p(this,Lr).firstChild.before(p(this,Lr).lastChild);let a=0;for(const A of t){const c=p(this,Da)[a++].getAttribute("data-resizer-name");A.setAttribute("data-l10n-id",nt._l10nResizer[c])}}Q(this,$e,tF).call(this,0),U(this,_A,!0),p(this,Lr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){p(this,_A)&&Q(this,$e,JU).call(this,p(this,n0),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){Q(this,$e,_v).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=p(this,mn))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=p(this,Lr))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=p(this,mn))==null||s.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return p(this,r0)}set isEditing(e){U(this,r0,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){p(this,oa)||U(this,oa,new Map);const{action:r}=e;let i=p(this,oa).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),p(this,oa).delete(r),p(this,oa).size===0&&U(this,oa,null)},nt._telemetryTimeout),p(this,oa).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),U(this,Sp,!1)}disable(){this.div&&(this.div.tabIndex=-1),U(this,Sp,!0)}updateFakeAnnotationElement(e){if(!p(this,Bo)&&!this.deleted){U(this,Bo,e.addFakeAnnotation(this));return}if(this.deleted){p(this,Bo).remove(),U(this,Bo,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&p(this,Bo).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};gf=new WeakMap,Da=new WeakMap,mn=new WeakMap,Zt=new WeakMap,xA=new WeakMap,Sp=new WeakMap,Su=new WeakMap,t0=new WeakMap,Lr=new WeakMap,mf=new WeakMap,TA=new WeakMap,Bo=new WeakMap,xu=new WeakMap,n0=new WeakMap,vf=new WeakMap,ls=new WeakMap,r0=new WeakMap,yf=new WeakMap,_A=new WeakMap,bo=new WeakMap,xp=new WeakMap,Tp=new WeakMap,oa=new WeakMap,wf=new WeakMap,i0=new WeakMap,wS=new WeakMap,$e=new WeakSet,XU=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},s0=new WeakSet,WU=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},fb=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},i5=function(){if(p(this,Lr))return;U(this,Lr,document.createElement("div")),p(this,Lr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");p(this,Lr).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",Q(this,$e,s5).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Rs,{signal:t}),i.tabIndex=-1}this.div.prepend(p(this,Lr))},s5=function(e,t){var f;t.preventDefault();const{isMac:r}=Tr.platform;if(t.button!==0||t.ctrlKey&&r)return;(f=p(this,mn))==null||f.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,U(this,mf,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",Q(this,$e,JU).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Sn,{passive:!1,signal:a}),window.addEventListener("contextmenu",Rs,{signal:a}),U(this,TA,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const A=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=p(this,mn))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=A,this.div.style.cursor=l,Q(this,$e,db).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},jU=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},db=function(){if(!p(this,TA))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=p(this,TA);U(this,TA,null);const s=this.x,a=this.y,A=this.width,l=this.height;s===e&&a===t&&A===r&&l===i||this.addCommands({cmd:Q(this,$e,jU).bind(this,s,a,A,l),undo:Q(this,$e,jU).bind(this,e,t,r,i),mustExec:!0})},JU=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,A=this.width,l=this.height,c=nt.MIN_SIZE/r,f=nt.MIN_SIZE/i,h=Q(this,$e,fb).call(this,this.rotation),g=(H,z)=>[h[0]*H+h[2]*z,h[1]*H+h[3]*z],v=Q(this,$e,fb).call(this,360-this.rotation),b=(H,z)=>[v[0]*H+v[2]*z,v[1]*H+v[3]*z];let B,S,x=!1,_=!1;switch(e){case"topLeft":x=!0,B=(H,z)=>[0,0],S=(H,z)=>[H,z];break;case"topMiddle":B=(H,z)=>[H/2,0],S=(H,z)=>[H/2,z];break;case"topRight":x=!0,B=(H,z)=>[H,0],S=(H,z)=>[0,z];break;case"middleRight":_=!0,B=(H,z)=>[H,z/2],S=(H,z)=>[0,z/2];break;case"bottomRight":x=!0,B=(H,z)=>[H,z],S=(H,z)=>[0,0];break;case"bottomMiddle":B=(H,z)=>[H/2,z],S=(H,z)=>[H/2,0];break;case"bottomLeft":x=!0,B=(H,z)=>[0,z],S=(H,z)=>[H,0];break;case"middleLeft":_=!0,B=(H,z)=>[0,z/2],S=(H,z)=>[H,z/2];break}const T=B(A,l),M=S(A,l);let F=g(...M);const R=nt._round(s+F[0]),L=nt._round(a+F[1]);let K=1,O=1,$,G;if(t.fromKeyboard)({deltaX:$,deltaY:G}=t);else{const{screenX:H,screenY:z}=t,[oe,le]=p(this,mf);[$,G]=this.screenToPageTranslation(H-oe,z-le),p(this,mf)[0]=H,p(this,mf)[1]=z}if([$,G]=b($/r,G/i),x){const H=Math.hypot(A,l);K=O=Math.max(Math.min(Math.hypot(M[0]-T[0]-$,M[1]-T[1]-G)/H,1/A,1/l),c/A,f/l)}else _?K=ai(Math.abs(M[0]-T[0]-$),c,1)/A:O=ai(Math.abs(M[1]-T[1]-G),f,1)/l;const Y=nt._round(A*K),J=nt._round(l*O);F=g(...S(Y,J));const ne=R-F[0],fe=L-F[1];p(this,ls)||U(this,ls,[this.x,this.y,this.width,this.height]),this.width=Y,this.height=J,this.x=ne,this.y=fe,this.setDims(),this.fixAndSetPosition(),this._onResizing()},a5=function(){var e;U(this,TA,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=p(this,mn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},o5=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=Q(this,$e,fb).call(this,this.rotation),A=(R,L)=>[a[0]*R+a[2]*L,a[1]*R+a[3]*L],[l,c]=this.parentDimensions,f=this.x,h=this.y,g=this.width,v=this.height,b=nt.MIN_SIZE/l,B=nt.MIN_SIZE/c;s=Math.max(Math.min(s,1/g,1/v),b/g,B/v);const S=nt._round(g*s),x=nt._round(v*s);if(S===g&&x===v)return;p(this,ls)||U(this,ls,[f,h,g,v]);const _=A(g/2,v/2),T=nt._round(f+_[0]),M=nt._round(h+_[1]),F=A(S/2,x/2);this.x=T-F[0],this.y=M-F[1],this.width=S,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},A5=function(){var e;(e=p(this,mn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),Q(this,$e,db).call(this)},ZU=function(e){const{isMac:t}=Tr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},l5=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},A=c=>{i.abort(),U(this,Su,null),U(this,vf,!1),this._uiManager.endDragSession()||Q(this,$e,ZU).call(this,c),r&&this._onStopDragging()};t&&(U(this,xp,e.clientX),U(this,Tp,e.clientY),U(this,Su,e.pointerId),U(this,t0,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:h,pointerId:g}=c;if(g!==p(this,Su)){Sn(c);return}const[v,b]=this.screenToPageTranslation(f-p(this,xp),h-p(this,Tp));U(this,xp,f),U(this,Tp,h),this._uiManager.dragSelectedEditors(v,b)},a),window.addEventListener("touchmove",Sn,a),window.addEventListener("pointerdown",c=>{c.pointerType===p(this,t0)&&(p(this,wf)||c.isPrimary)&&A(c),Sn(c)},a));const l=c=>{if(!p(this,Su)||p(this,Su)===c.pointerId){A(c);return}Sn(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},eF=function(){if(p(this,xu)||!this.div)return;U(this,xu,new AbortController);const e=this._uiManager.combinedSignal(p(this,xu));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},u5=function(e){nt._resizerKeyboardManager.exec(this,e)},c5=function(e){var t;p(this,_A)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==p(this,Lr)&&Q(this,$e,_v).call(this)},f5=function(e){U(this,n0,p(this,_A)?e:"")},tF=function(e){if(p(this,Da))for(const t of p(this,Da))t.tabIndex=e},_v=function(){U(this,_A,!1),Q(this,$e,tF).call(this,-1),Q(this,$e,db).call(this)},P(nt,s0),me(nt,"_l10n",null),me(nt,"_l10nResizer",null),me(nt,"_borderLineWidth",-1),me(nt,"_colorManager",new HU),me(nt,"_zIndex",1),me(nt,"_telemetryTimeout",1e3);let An=nt;class Qse extends An{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const KO=3285377520,Ys=4294901760,uo=65535;class d5{constructor(e){this.h1=e?e&4294967295:KO,this.h2=e?e&4294967295:KO}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let B=0,S=e.length;B<S;B++){const x=e.charCodeAt(B);x<=255?t[r++]=x:(t[r++]=x>>>8,t[r++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let A=0,l=0,c=this.h1,f=this.h2;const h=3432918353,g=461845907,v=h&uo,b=g&uo;for(let B=0;B<i;B++)B&1?(A=a[B],A=A*h&Ys|A*v&uo,A=A<<15|A>>>17,A=A*g&Ys|A*b&uo,c^=A,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[B],l=l*h&Ys|l*v&uo,l=l<<15|l>>>17,l=l*g&Ys|l*b&uo,f^=l,f=f<<13|f>>>19,f=f*5+3864292196);switch(A=0,s){case 3:A^=t[i*4+2]<<16;case 2:A^=t[i*4+1]<<8;case 1:A^=t[i*4],A=A*h&Ys|A*v&uo,A=A<<15|A>>>17,A=A*g&Ys|A*b&uo,i&1?c^=A:f^=A}this.h1=c,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ys|e*36045&uo,t=t*4283543511&Ys|((t<<16|e>>>16)*2950163797&Ys)>>>16,e^=t>>>1,e=e*444984403&Ys|e*60499&uo,t=t*3301882366&Ys|((t<<16|e>>>16)*3120437893&Ys)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const nF=Object.freeze({map:null,hash:"",transfer:void 0});var Cf,Bf,IA,kr,CS,h5;class WD{constructor(){P(this,CS);P(this,Cf,!1);P(this,Bf,null);P(this,IA,null);P(this,kr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=p(this,kr).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return p(this,kr).get(e)}remove(e){const t=p(this,kr).get(e);if(t!==void 0&&(t instanceof An&&p(this,IA).delete(t.annotationElementId),p(this,kr).delete(e),p(this,kr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of p(this,kr).values())if(r instanceof An)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=p(this,kr).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,p(this,kr).set(e,t);i&&Q(this,CS,h5).call(this),t instanceof An&&((p(this,IA)||U(this,IA,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return p(this,kr).has(e)}get size(){return p(this,kr).size}resetModified(){p(this,Cf)&&(U(this,Cf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new p5(this)}get serializable(){if(p(this,kr).size===0)return nF;const e=new Map,t=new d5,r=[],i=Object.create(null);let s=!1;for(const[a,A]of p(this,kr)){const l=A instanceof An?A.serialize(!1,i):A;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:nF}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of p(this,kr).values()){if(!(s instanceof An)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:A}=a;t.has(A)||t.set(A,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[A]||(e[A]=new Map);for(const[c,f]of Object.entries(a)){if(c==="type")continue;let h=l.get(c);h||(h=new Map,l.set(c,h));const g=h.get(f)??0;h.set(f,g+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){U(this,Bf,null)}updateEditor(e,t){var i;const r=(i=p(this,IA))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=p(this,IA))==null?void 0:t.get(e))||null}get modifiedIds(){if(p(this,Bf))return p(this,Bf);const e=[];if(p(this,IA))for(const t of p(this,IA).values())t.serialize()&&e.push(t.annotationElementId);return U(this,Bf,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return p(this,kr).entries()}}Cf=new WeakMap,Bf=new WeakMap,IA=new WeakMap,kr=new WeakMap,CS=new WeakSet,h5=function(){p(this,Cf)||(U(this,Cf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var a0;class p5 extends WD{constructor(t){super();P(this,a0);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);U(this,a0,{map:a,hash:i,transfer:s})}get print(){nn("Should not call PrintAnnotationStorage.print")}get serializable(){return p(this,a0)}get modifiedIds(){return At(this,"modifiedIds",{ids:new Set,hash:""})}}a0=new WeakMap;var _p;class Nse{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){P(this,_p,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),p(this,_p).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||p(this,_p).has(e.loadedName))){if(Ct(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,A=new FontFace(i,s,a);this.addNativeFontFace(A);try{await A.load(),p(this,_p).add(i),r==null||r(e)}catch{et(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(A)}return}nn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw et(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return At(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return At(this,"isSyncFontLoadingSupported",Ci||Tr.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ct(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return At(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(M,F){return M.charCodeAt(F)<<24|M.charCodeAt(F+1)<<16|M.charCodeAt(F+2)<<8|M.charCodeAt(F+3)&255}function i(M,F,R,L){const K=M.substring(0,F),O=M.substring(F+R);return K+L+O}let s,a;const A=this._document.createElement("canvas");A.width=1,A.height=1;const l=A.getContext("2d");let c=0;function f(M,F){if(++c>30){et("Load test font never loaded."),F();return}if(l.font="30px "+M,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(f.bind(null,M,F))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,h.length,h);const b=16,B=1482184792;let S=r(g,b);for(s=0,a=h.length-3;s<a;s+=4)S=S-B+r(h,s)|0;s<h.length&&(S=S-B+r(h+"XXX",s)|0),g=i(g,b,4,Ese(S));const x=`url(data:font/opentype;base64,${btoa(g)});`,_=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(_);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const M of[e.loadedName,h]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=M,T.append(F)}this._document.body.append(T),f(h,()=>{T.remove(),t.complete()})}}_p=new WeakMap;var zt;class Lse{constructor(e,t=null,r,i){P(this,zt);this.compiledGlyphs=Object.create(null),U(this,zt,e),this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Fz(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){et(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return p(this,zt).black}get bold(){return p(this,zt).bold}get disableFontFace(){return p(this,zt).disableFontFace??!1}get fontExtraProperties(){return p(this,zt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return p(this,zt).isInvalidPDFjsFont}get isType3Font(){return p(this,zt).isType3Font}get italic(){return p(this,zt).italic}get missingFile(){return p(this,zt).missingFile}get remeasure(){return p(this,zt).remeasure}get vertical(){return p(this,zt).vertical}get ascent(){return p(this,zt).ascent}get defaultWidth(){return p(this,zt).defaultWidth}get descent(){return p(this,zt).descent}get bbox(){return p(this,zt).bbox}get fontMatrix(){return p(this,zt).fontMatrix}get fallbackName(){return p(this,zt).fallbackName}get loadedName(){return p(this,zt).loadedName}get mimetype(){return p(this,zt).mimetype}get name(){return p(this,zt).name}get data(){return p(this,zt).data}clearData(){p(this,zt).clearData()}get cssFontInfo(){return p(this,zt).cssFontInfo}get systemFontInfo(){return p(this,zt).systemFontInfo}get defaultVMetrics(){return p(this,zt).defaultVMetrics}}zt=new WeakMap;function kse(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Ci)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Ose(n){if(Ci&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return mw(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function lB(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const rF=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Hse=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",g5=_se.bind(null,rF,Hse);var UA,BS;class Kse{constructor(){P(this,UA,new Map);P(this,BS,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};p(this,BS).then(()=>{for(const[i]of p(this,UA))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){et("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}p(this,UA).set(t,i)}removeEventListener(e,t){const r=p(this,UA).get(t);r==null||r(),p(this,UA).delete(t)}terminate(){for(const[,e]of p(this,UA))e==null||e();p(this,UA).clear()}}UA=new WeakMap,BS=new WeakMap;const uB={DATA:1,ERROR:2},Xn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function GO(){}function Qi(n){if(n instanceof ul||n instanceof iE||n instanceof PO||n instanceof ly||n instanceof d_)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||nn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ul(n.message);case"InvalidPDFException":return new iE(n.message);case"PasswordException":return new PO(n.message,n.code);case"ResponseException":return new ly(n.message,n.status,n.missing);case"UnknownErrorException":return new d_(n.message,n.details)}return new d_(n.message,n.toString())}var Ip,ma,m5,v5,y5,hb;class Iv{constructor(e,t,r){P(this,ma);P(this,Ip,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",Q(this,ma,m5).bind(this),{signal:p(this,Ip).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,A=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:A,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),f.promise},pull:c=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,l.postMessage({sourceName:a,targetName:A,stream:Xn.PULL,streamId:s,desiredSize:c.desiredSize}),f.promise},cancel:c=>{Ct(c instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:A,stream:Xn.CANCEL,streamId:s,reason:Qi(c)}),f.promise}},r)}destroy(){var e;(e=p(this,Ip))==null||e.abort(),U(this,Ip,null)}}Ip=new WeakMap,ma=new WeakSet,m5=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){Q(this,ma,y5).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===uB.DATA)i.resolve(e.data);else if(e.callback===uB.ERROR)i.reject(Qi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:uB.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:uB.ERROR,callbackId:e.callbackId,reason:Qi(a)})});return}if(e.streamId){Q(this,ma,v5).call(this,e);return}t(e.data)},v5=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,A=this.actionHandler[e.action],l={enqueue(c,f=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Xn.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Xn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(c){Ct(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Xn.ERROR,streamId:t,reason:Qi(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(A,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Xn.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Xn.START_COMPLETE,streamId:t,reason:Qi(c)})})},y5=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],A=this.streamSinks[t];switch(e.stream){case Xn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Qi(e.reason));break;case Xn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Qi(e.reason));break;case Xn.PULL:if(!A){s.postMessage({sourceName:r,targetName:i,stream:Xn.PULL_COMPLETE,streamId:t,success:!0});break}A.desiredSize<=0&&e.desiredSize>0&&A.sinkCapability.resolve(),A.desiredSize=e.desiredSize,Promise.try(A.onPull||GO).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Xn.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Xn.PULL_COMPLETE,streamId:t,reason:Qi(c)})});break;case Xn.ENQUEUE:if(Ct(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Xn.CLOSE:if(Ct(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),Q(this,ma,hb).call(this,a,t);break;case Xn.ERROR:Ct(a,"error should have stream controller"),a.controller.error(Qi(e.reason)),Q(this,ma,hb).call(this,a,t);break;case Xn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Qi(e.reason)),Q(this,ma,hb).call(this,a,t);break;case Xn.CANCEL:if(!A)break;const l=Qi(e.reason);Promise.try(A.onCancel||GO,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Xn.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Xn.CANCEL_COMPLETE,streamId:t,reason:Qi(c)})}),A.sinkCapability.reject(l),A.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},hb=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var o0;class w5{constructor({enableHWA:e=!1}){P(this,o0,!1);U(this,o0,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!p(this,o0)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){nn("Abstract method `_createCanvas` called.")}}o0=new WeakMap;class Gse extends w5{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class C5{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){nn("Abstract method `_fetch` called.")}}class VO extends C5{async _fetch(e){const t=await em(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):mw(t)}}class B5{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var bf,Up,FA,MA,ti,Ef,Sf,Ue,Jr,Uv,Ph,pb,Qh,b5,iF,Nh,Fv,Mv,sF,Dv;class Vse extends B5{constructor({docId:t,ownerDocument:r=globalThis.document}){super();P(this,Ue);P(this,bf);P(this,Up);P(this,FA);P(this,MA);P(this,ti);P(this,Ef);P(this,Sf,0);U(this,MA,t),U(this,ti,r)}addFilter(t){if(!t)return"none";let r=p(this,Ue,Jr).get(t);if(r)return r;const[i,s,a]=Q(this,Ue,pb).call(this,t),A=t.length===1?i:`${i}${s}${a}`;if(r=p(this,Ue,Jr).get(A),r)return p(this,Ue,Jr).set(t,r),r;const l=`g_${p(this,MA)}_transfer_map_${nr(this,Sf)._++}`,c=Q(this,Ue,Qh).call(this,l);p(this,Ue,Jr).set(t,c),p(this,Ue,Jr).set(A,c);const f=Q(this,Ue,Nh).call(this,l);return Q(this,Ue,Mv).call(this,i,s,a,f),c}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let a=p(this,Ue,Uv).get(s);if((a==null?void 0:a.key)===i||(a?((b=a.filter)==null||b.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},p(this,Ue,Uv).set(s,a)),!t||!r))return a.url;const A=Q(this,Ue,Dv).call(this,t);t=Me.makeHexColor(...A);const l=Q(this,Ue,Dv).call(this,r);if(r=Me.makeHexColor(...l),p(this,Ue,Ph).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const c=new Array(256);for(let B=0;B<=255;B++){const S=B/255;c[B]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=c.join(","),h=`g_${p(this,MA)}_hcm_filter`,g=a.filter=Q(this,Ue,Nh).call(this,h);Q(this,Ue,Mv).call(this,f,f,f,g),Q(this,Ue,iF).call(this,g);const v=(B,S)=>{const x=A[B]/255,_=l[B]/255,T=new Array(S+1);for(let M=0;M<=S;M++)T[M]=x+M/S*(_-x);return T.join(",")};return Q(this,Ue,Mv).call(this,v(0,5),v(1,5),v(2,5),g),a.url=Q(this,Ue,Qh).call(this,h),a.url}addAlphaFilter(t){let r=p(this,Ue,Jr).get(t);if(r)return r;const[i]=Q(this,Ue,pb).call(this,[t]),s=`alpha_${i}`;if(r=p(this,Ue,Jr).get(s),r)return p(this,Ue,Jr).set(t,r),r;const a=`g_${p(this,MA)}_alpha_map_${nr(this,Sf)._++}`,A=Q(this,Ue,Qh).call(this,a);p(this,Ue,Jr).set(t,A),p(this,Ue,Jr).set(s,A);const l=Q(this,Ue,Nh).call(this,a);return Q(this,Ue,sF).call(this,i,l),A}addLuminosityFilter(t){let r=p(this,Ue,Jr).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=Q(this,Ue,pb).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=p(this,Ue,Jr).get(s),r)return p(this,Ue,Jr).set(t,r),r;const a=`g_${p(this,MA)}_luminosity_map_${nr(this,Sf)._++}`,A=Q(this,Ue,Qh).call(this,a);p(this,Ue,Jr).set(t,A),p(this,Ue,Jr).set(s,A);const l=Q(this,Ue,Nh).call(this,a);return Q(this,Ue,b5).call(this,l),t&&Q(this,Ue,sF).call(this,i,l),A}addHighlightHCMFilter(t,r,i,s,a){var _;const A=`${r}-${i}-${s}-${a}`;let l=p(this,Ue,Uv).get(t);if((l==null?void 0:l.key)===A||(l?((_=l.filter)==null||_.remove(),l.key=A,l.url="none",l.filter=null):(l={key:A,url:"none",filter:null},p(this,Ue,Uv).set(t,l)),!r||!i))return l.url;const[c,f]=[r,i].map(Q(this,Ue,Dv).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,b]=[s,a].map(Q(this,Ue,Dv).bind(this));g<h&&([h,g,v,b]=[g,h,b,v]),p(this,Ue,Ph).style.color="";const B=(T,M,F)=>{const R=new Array(256),L=(g-h)/F,K=T/255,O=(M-T)/(255*F);let $=0;for(let G=0;G<=F;G++){const Y=Math.round(h+G*L),J=K+G*O;for(let ne=$;ne<=Y;ne++)R[ne]=J;$=Y+1}for(let G=$;G<256;G++)R[G]=R[$-1];return R.join(",")},S=`g_${p(this,MA)}_hcm_${t}_filter`,x=l.filter=Q(this,Ue,Nh).call(this,S);return Q(this,Ue,iF).call(this,x),Q(this,Ue,Mv).call(this,B(v[0],b[0],5),B(v[1],b[1],5),B(v[2],b[2],5),x),l.url=Q(this,Ue,Qh).call(this,S),l.url}destroy(t=!1){var r,i,s,a;t&&((r=p(this,Ef))!=null&&r.size)||((i=p(this,FA))==null||i.parentNode.parentNode.remove(),U(this,FA,null),(s=p(this,Up))==null||s.clear(),U(this,Up,null),(a=p(this,Ef))==null||a.clear(),U(this,Ef,null),U(this,Sf,0))}}bf=new WeakMap,Up=new WeakMap,FA=new WeakMap,MA=new WeakMap,ti=new WeakMap,Ef=new WeakMap,Sf=new WeakMap,Ue=new WeakSet,Jr=function(){return p(this,Up)||U(this,Up,new Map)},Uv=function(){return p(this,Ef)||U(this,Ef,new Map)},Ph=function(){if(!p(this,FA)){const t=p(this,ti).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=p(this,ti).createElementNS(dA,"svg");i.setAttribute("width",0),i.setAttribute("height",0),U(this,FA,p(this,ti).createElementNS(dA,"defs")),t.append(i),i.append(p(this,FA)),p(this,ti).body.append(t)}return p(this,FA)},pb=function(t){if(t.length===1){const c=t[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=c[g]/255;const h=f.join(",");return[h,h,h]}const[r,i,s]=t,a=new Array(256),A=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=r[c]/255,A[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),A.join(","),l.join(",")]},Qh=function(t){if(p(this,bf)===void 0){U(this,bf,"");const r=p(this,ti).URL;r!==p(this,ti).baseURI&&(yw(r)?et('#createUrl: ignore "data:"-URL for performance reasons.'):U(this,bf,zD(r,"")))}return`url(${p(this,bf)}#${t})`},b5=function(t){const r=p(this,ti).createElementNS(dA,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},iF=function(t){const r=p(this,ti).createElementNS(dA,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Nh=function(t){const r=p(this,ti).createElementNS(dA,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),p(this,Ue,Ph).append(r),r},Fv=function(t,r,i){const s=p(this,ti).createElementNS(dA,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Mv=function(t,r,i,s){const a=p(this,ti).createElementNS(dA,"feComponentTransfer");s.append(a),Q(this,Ue,Fv).call(this,a,"feFuncR",t),Q(this,Ue,Fv).call(this,a,"feFuncG",r),Q(this,Ue,Fv).call(this,a,"feFuncB",i)},sF=function(t,r){const i=p(this,ti).createElementNS(dA,"feComponentTransfer");r.append(i),Q(this,Ue,Fv).call(this,i,"feFuncA",t)},Dv=function(t){return p(this,Ue,Ph).style.color=t,tm(getComputedStyle(p(this,Ue,Ph)).getPropertyValue("color"))};class E5{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){nn("Abstract method `_fetch` called.")}}class zO extends E5{async _fetch(e){const t=await em(e,"arraybuffer");return new Uint8Array(t)}}class S5{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){nn("Abstract method `_fetch` called.")}}class qO extends S5{async _fetch(e){const t=await em(e,"arraybuffer");return new Uint8Array(t)}}Ci&&et("Please use the `legacy` build in Node.js environments.");async function jD(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class zse extends B5{}class qse extends w5{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class $se extends C5{async _fetch(e){return jD(e)}}class Yse extends E5{async _fetch(e){return jD(e)}}class Xse extends S5{async _fetch(e){return jD(e)}}const bh="__forcedDependency",{floor:$O,ceil:YO}=Math;function cB(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const aF=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Fp,Tu;class Wse{constructor(e,t){P(this,Fp);P(this,Tu);U(this,Fp,e),U(this,Tu,t)}get length(){return p(this,Fp).length}isEmpty(e){return p(this,Fp)[e]===aF}minX(e){return p(this,Tu)[e*4+0]/256}minY(e){return p(this,Tu)[e*4+1]/256}maxX(e){return(p(this,Tu)[e*4+2]+1)/256}maxY(e){return(p(this,Tu)[e*4+3]+1)/256}}Fp=new WeakMap,Tu=new WeakMap;const fB=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var ki,Oi,xf,Ra,Tf,DA,Nt,qt,RA,Hi,A0,Mp,_f,If,PA,ni,Eo,l0,oF;class jse{constructor(e,t,r=!1){P(this,l0);P(this,ki,{__proto__:null});P(this,Oi,{__proto__:null,transform:[],moveText:[],sameLineText:[],[bh]:[]});P(this,xf,new Map);P(this,Ra,[]);P(this,Tf,[]);P(this,DA,[[1,0,0,1,0,0]]);P(this,Nt,[-1/0,-1/0,1/0,1/0]);P(this,qt,new Float64Array([1/0,1/0,-1/0,-1/0]));P(this,RA,-1);P(this,Hi,new Set);P(this,A0,new Map);P(this,Mp,new Map);P(this,_f);P(this,If);P(this,PA);P(this,ni);P(this,Eo);U(this,_f,e.width),U(this,If,e.height),Q(this,l0,oF).call(this,t),r&&U(this,Eo,new Map)}growOperationsCount(e){e>=p(this,ni).length&&Q(this,l0,oF).call(this,e,p(this,ni))}save(e){return U(this,ki,{__proto__:p(this,ki)}),U(this,Oi,{__proto__:p(this,Oi),transform:{__proto__:p(this,Oi).transform},moveText:{__proto__:p(this,Oi).moveText},sameLineText:{__proto__:p(this,Oi).sameLineText},[bh]:{__proto__:p(this,Oi)[bh]}}),U(this,Nt,{__proto__:p(this,Nt)}),p(this,Ra).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(p(this,ki));if(t===null)return this;U(this,ki,t),U(this,Oi,Object.getPrototypeOf(p(this,Oi))),U(this,Nt,Object.getPrototypeOf(p(this,Nt)));const r=p(this,Ra).pop();return r!==void 0&&((i=fB(p(this,Eo),e))==null||i.dependencies.add(r),p(this,ni)[e]=p(this,ni)[r]),this}recordOpenMarker(e){return p(this,Ra).push(e),this}getOpenMarker(){return p(this,Ra).length===0?null:p(this,Ra).at(-1)}recordCloseMarker(e){var r;const t=p(this,Ra).pop();return t!==void 0&&((r=fB(p(this,Eo),e))==null||r.dependencies.add(t),p(this,ni)[e]=p(this,ni)[t]),this}beginMarkedContent(e){return p(this,Tf).push(e),this}endMarkedContent(e){var r;const t=p(this,Tf).pop();return t!==void 0&&((r=fB(p(this,Eo),e))==null||r.dependencies.add(t),p(this,ni)[e]=p(this,ni)[t]),this}pushBaseTransform(e){return p(this,DA).push(Me.multiplyByDOMMatrix(p(this,DA).at(-1),e.getTransform())),this}popBaseTransform(){return p(this,DA).length>1&&p(this,DA).pop(),this}recordSimpleData(e,t){return p(this,ki)[e]=t,this}recordIncrementalData(e,t){return p(this,Oi)[e].push(t),this}resetIncrementalData(e,t){return p(this,Oi)[e].length=0,this}recordNamedData(e,t){return p(this,xf).set(e,t),this}recordSimpleDataFromNamed(e,t,r){p(this,ki)[e]=p(this,xf).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(bh,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in p(this,ki)&&this.recordFutureForcedDependency(t,p(this,ki)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of p(this,Hi))this.recordFutureForcedDependency(bh,e);return this}resetBBox(e){return p(this,RA)!==e&&(U(this,RA,e),p(this,qt)[0]=1/0,p(this,qt)[1]=1/0,p(this,qt)[2]=-1/0,p(this,qt)[3]=-1/0),this}recordClipBox(e,t,r,i,s,a){const A=Me.multiplyByDOMMatrix(p(this,DA).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Me.axialAlignedBoundingBox([r,s,i,a],A,l);const c=Me.intersect(p(this,Nt),l);return c?(p(this,Nt)[0]=c[0],p(this,Nt)[1]=c[1],p(this,Nt)[2]=c[2],p(this,Nt)[3]=c[3]):(p(this,Nt)[0]=p(this,Nt)[1]=1/0,p(this,Nt)[2]=p(this,Nt)[3]=-1/0),this}recordBBox(e,t,r,i,s,a){const A=p(this,Nt);if(A[0]===1/0)return this;const l=Me.multiplyByDOMMatrix(p(this,DA).at(-1),t.getTransform());if(A[0]===-1/0)return Me.axialAlignedBoundingBox([r,s,i,a],l,p(this,qt)),this;const c=[1/0,1/0,-1/0,-1/0];return Me.axialAlignedBoundingBox([r,s,i,a],l,c),p(this,qt)[0]=Math.min(p(this,qt)[0],Math.max(c[0],A[0])),p(this,qt)[1]=Math.min(p(this,qt)[1],Math.max(c[1],A[1])),p(this,qt)[2]=Math.max(p(this,qt)[2],Math.min(c[2],A[2])),p(this,qt)[3]=Math.max(p(this,qt)[3],Math.min(c[3],A[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,a=0,A){const l=r.bbox;let c,f;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&p(this,Mp).get(r),c!==!1&&(f=[0,0,0,0],Me.axialAlignedBoundingBox(l,r.fontMatrix,f),(i!==1||s!==0||a!==0)&&Me.scaleMinMax([i,0,0,-i,s,a],f),c)))return this.recordBBox(e,t,f[0],f[2],f[1],f[3]);if(!A)return this.recordFullPageBBox(e);const h=A();return l&&f&&c===void 0&&(c=f[0]<=s-h.actualBoundingBoxLeft&&f[2]>=s+h.actualBoundingBoxRight&&f[1]<=a-h.actualBoundingBoxAscent&&f[3]>=a+h.actualBoundingBoxDescent,p(this,Mp).set(r,c),c)?this.recordBBox(e,t,f[0],f[2],f[1],f[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return p(this,qt)[0]=Math.max(0,p(this,Nt)[0]),p(this,qt)[1]=Math.max(0,p(this,Nt)[1]),p(this,qt)[2]=Math.min(p(this,_f),p(this,Nt)[2]),p(this,qt)[3]=Math.min(p(this,If),p(this,Nt)[3]),this}getSimpleIndex(e){return p(this,ki)[e]}recordDependencies(e,t){const r=p(this,Hi),i=p(this,ki),s=p(this,Oi);for(const a of t)a in p(this,ki)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,t){return p(this,xf).has(t)&&p(this,Hi).add(p(this,xf).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[bh]),p(this,Eo)){const r=fB(p(this,Eo),e),{dependencies:i}=r;p(this,Hi).forEach(i.add,i),p(this,Ra).forEach(i.add,i),p(this,Tf).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(p(this,RA)===e){const r=$O(p(this,qt)[0]*256/p(this,_f)),i=$O(p(this,qt)[1]*256/p(this,If)),s=YO(p(this,qt)[2]*256/p(this,_f)),a=YO(p(this,qt)[3]*256/p(this,If));cB(p(this,PA),e,r,i,s,a);for(const A of p(this,Hi))A!==e&&cB(p(this,PA),A,r,i,s,a);for(const A of p(this,Ra))A!==e&&cB(p(this,PA),A,r,i,s,a);for(const A of p(this,Tf))A!==e&&cB(p(this,PA),A,r,i,s,a);t||(p(this,Hi).clear(),U(this,RA,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(p(this,Hi));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return p(this,RA)===e&&(U(this,RA,-1),p(this,Nt)[0]=Math.max(p(this,Nt)[0],p(this,qt)[0]),p(this,Nt)[1]=Math.max(p(this,Nt)[1],p(this,qt)[1]),p(this,Nt)[2]=Math.min(p(this,Nt)[2],p(this,qt)[2]),p(this,Nt)[3]=Math.min(p(this,Nt)[3],p(this,qt)[3]),t||p(this,Hi).clear()),this}_takePendingDependencies(){const e=p(this,Hi);return U(this,Hi,new Set),e}_extractOperation(e){const t=p(this,A0).get(e);return p(this,A0).delete(e),t}_pushPendingDependencies(e){for(const t of e)p(this,Hi).add(t)}take(){return p(this,Mp).clear(),new Wse(p(this,ni),p(this,PA))}takeDebugMetadata(){return p(this,Eo)}}ki=new WeakMap,Oi=new WeakMap,xf=new WeakMap,Ra=new WeakMap,Tf=new WeakMap,DA=new WeakMap,Nt=new WeakMap,qt=new WeakMap,RA=new WeakMap,Hi=new WeakMap,A0=new WeakMap,Mp=new WeakMap,_f=new WeakMap,If=new WeakMap,PA=new WeakMap,ni=new WeakMap,Eo=new WeakMap,l0=new WeakSet,oF=function(e,t){const r=new ArrayBuffer(e*4);U(this,PA,new Uint8ClampedArray(r)),U(this,ni,new Uint32Array(r)),t&&t.length>0?(p(this,ni).set(t),p(this,ni).fill(aF,t.length)):p(this,ni).fill(aF)};var en,Fn,Pa,Dp,Rp;const YP=class YP{constructor(e,t,r){P(this,en);P(this,Fn);P(this,Pa);P(this,Dp,0);P(this,Rp,0);if(e instanceof YP&&p(e,Pa)===!!r)return e;U(this,en,e),U(this,Fn,t),U(this,Pa,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return nr(this,Rp)._++,p(this,en).save(p(this,Fn)),this}restore(e){return p(this,Rp)>0&&(p(this,en).restore(p(this,Fn)),nr(this,Rp)._--),this}recordOpenMarker(e){return nr(this,Dp)._++,this}getOpenMarker(){return p(this,Dp)>0?p(this,Fn):p(this,en).getOpenMarker()}recordCloseMarker(e){return nr(this,Dp)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return p(this,en).pushBaseTransform(e),this}popBaseTransform(){return p(this,en).popBaseTransform(),this}recordSimpleData(e,t){return p(this,en).recordSimpleData(e,p(this,Fn)),this}recordIncrementalData(e,t){return p(this,en).recordIncrementalData(e,p(this,Fn)),this}resetIncrementalData(e,t){return p(this,en).resetIncrementalData(e,p(this,Fn)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return p(this,en).recordSimpleDataFromNamed(e,t,p(this,Fn)),this}recordFutureForcedDependency(e,t){return p(this,en).recordFutureForcedDependency(e,p(this,Fn)),this}inheritSimpleDataAsFutureForcedDependencies(e){return p(this,en).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return p(this,en).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return p(this,Pa)||p(this,en).resetBBox(p(this,Fn)),this}recordClipBox(e,t,r,i,s,a){return p(this,Pa)||p(this,en).recordClipBox(p(this,Fn),t,r,i,s,a),this}recordBBox(e,t,r,i,s,a){return p(this,Pa)||p(this,en).recordBBox(p(this,Fn),t,r,i,s,a),this}recordCharacterBBox(e,t,r,i,s,a,A){return p(this,Pa)||p(this,en).recordCharacterBBox(p(this,Fn),t,r,i,s,a,A),this}recordFullPageBBox(e){return p(this,Pa)||p(this,en).recordFullPageBBox(p(this,Fn)),this}getSimpleIndex(e){return p(this,en).getSimpleIndex(e)}recordDependencies(e,t){return p(this,en).recordDependencies(p(this,Fn),t),this}recordNamedDependency(e,t){return p(this,en).recordNamedDependency(p(this,Fn),t),this}recordOperation(e){return p(this,en).recordOperation(p(this,Fn),!0),this}recordShowTextOperation(e){return p(this,en).recordShowTextOperation(p(this,Fn),!0),this}bboxToClipBoxDropOperation(e){return p(this,Pa)||p(this,en).bboxToClipBoxDropOperation(p(this,Fn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};en=new WeakMap,Fn=new WeakMap,Pa=new WeakMap,Dp=new WeakMap,Rp=new WeakMap;let oE=YP;const Xs={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Vr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function AF(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class JD{isModifyingCurrentTransform(){return!1}getPattern(){nn("Abstract method `getPattern` called.")}}class Jse extends JD{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Vr.STROKE||i===Vr.FILL){const a=t.current.getClippedPathBoundingBox(i,En(e))||[0,0,0,0],A=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",A,l),f=c.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-a[0],-a[1]),r=Me.transform(r,[1,0,0,1,a[0],a[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),AF(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else AF(e,this._bbox),s=this._createGradient(e);return s}}function g_(n,e,t,r,i,s,a,A){const l=e.coords,c=e.colors,f=n.data,h=n.width*4;let g;l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g),l[r+1]>l[i+1]&&(g=r,r=i,i=g,g=a,a=A,A=g),l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,B=(l[r]+e.offsetX)*e.scaleX,S=(l[r+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,_=(l[i+1]+e.offsetY)*e.scaleY;if(b>=_)return;const T=c[s],M=c[s+1],F=c[s+2],R=c[a],L=c[a+1],K=c[a+2],O=c[A],$=c[A+1],G=c[A+2],Y=Math.round(b),J=Math.round(_);let ne,fe,H,z,oe,le,Ce,V;for(let W=Y;W<=J;W++){if(W<S){const ye=W<b?0:(b-W)/(b-S);ne=v-(v-B)*ye,fe=T-(T-R)*ye,H=M-(M-L)*ye,z=F-(F-K)*ye}else{let ye;W>_?ye=1:S===_?ye=0:ye=(S-W)/(S-_),ne=B-(B-x)*ye,fe=R-(R-O)*ye,H=L-(L-$)*ye,z=K-(K-G)*ye}let ae;W<b?ae=0:W>_?ae=1:ae=(b-W)/(b-_),oe=v-(v-x)*ae,le=T-(T-O)*ae,Ce=M-(M-$)*ae,V=F-(F-G)*ae;const ue=Math.round(Math.min(ne,oe)),we=Math.round(Math.max(ne,oe));let ve=h*W+ue*4;for(let ye=ue;ye<=we;ye++)ae=(ne-ye)/(ne-oe),ae<0?ae=0:ae>1&&(ae=1),f[ve++]=fe-(fe-le)*ae|0,f[ve++]=H-(H-Ce)*ae|0,f[ve++]=z-(z-V)*ae|0,f[ve++]=255}}function Zse(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const A=e.verticesPerRow,l=Math.floor(r.length/A)-1,c=A-1;for(s=0;s<l;s++){let f=s*A;for(let h=0;h<c;h++,f++)g_(n,t,r[f],r[f+1],r[f+A],i[f],i[f+1],i[f+A]),g_(n,t,r[f+A+1],r[f+1],r[f+A],i[f+A+1],i[f+1],i[f+A])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)g_(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class eae extends JD{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const A=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-A,f=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),v=c/h,b=f/g,B={coords:this._coords,colors:this._colors,offsetX:-A,offsetY:-l,scaleX:1/v,scaleY:1/b},S=h+4,x=g+4,_=r.getCanvas("mesh",S,x),T=_.context,M=T.createImageData(h,g);if(t){const R=M.data;for(let L=0,K=R.length;L<K;L+=4)R[L]=t[0],R[L+1]=t[1],R[L+2]=t[2],R[L+3]=255}for(const R of this._figures)Zse(M,R,B);return T.putImageData(M,2,2),{canvas:_.canvas,offsetX:A-2*v,offsetY:l-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){AF(e,this._bbox);const s=new Float32Array(2);if(i===Vr.SHADING)Me.singularValueDecompose2dScale(En(e),s);else if(this.matrix){Me.singularValueDecompose2dScale(this.matrix,s);const[A,l]=s;Me.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=A,s[1]*=l}else Me.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===Vr.SHADING?null:this._background,t.cachedCanvases);return i!==Vr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class tae extends JD{getPattern(){return"hotpink"}}function nae(n){switch(n[0]){case"RadialAxial":return new Jse(n);case"Mesh":return new eae(n);case"Dummy":return new tae}throw new Error(`Unknown IR type: ${n[0]}`)}const XO={COLORED:1,UNCOLORED:2},bS=class bS{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){var le,Ce;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:A,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:f}=this;c=Math.abs(c),f=Math.abs(f),HS("TilingType: "+a);const h=r[0],g=r[1],v=r[2],b=r[3],B=v-h,S=b-g,x=new Float32Array(2);Me.singularValueDecompose2dScale(this.matrix,x);const[_,T]=x;Me.singularValueDecompose2dScale(this.baseTransform,x);const M=_*x[0],F=T*x[1];let R=B,L=S,K=!1,O=!1;const $=Math.ceil(c*M),G=Math.ceil(f*F),Y=Math.ceil(B*M),J=Math.ceil(S*F);$>=Y?R=c:K=!0,G>=J?L=f:O=!0;const ne=this.getSizeAndScale(R,this.ctx.canvas.width,M),fe=this.getSizeAndScale(L,this.ctx.canvas.height,F),H=e.cachedCanvases.getCanvas("pattern",ne.size,fe.size),z=H.context,oe=l.createCanvasGraphics(z,t);if(oe.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(oe,s,A),z.translate(-ne.scale*h,-fe.scale*g),oe.transform(0,ne.scale,0,0,fe.scale,0,0),z.save(),(le=oe.dependencyTracker)==null||le.save(),this.clipBbox(oe,h,g,v,b),oe.baseTransform=En(oe.ctx),oe.executeOperatorList(i),oe.endDrawing(),(Ce=oe.dependencyTracker)==null||Ce.restore(),z.restore(),K||O){const V=H.canvas;K&&(R=c),O&&(L=f);const W=this.getSizeAndScale(R,this.ctx.canvas.width,M),ae=this.getSizeAndScale(L,this.ctx.canvas.height,F),ue=W.size,we=ae.size,ve=e.cachedCanvases.getCanvas("pattern-workaround",ue,we),ye=ve.context,rt=K?Math.floor(B/c):0,re=O?Math.floor(S/f):0;for(let be=0;be<=rt;be++)for(let ke=0;ke<=re;ke++)ye.drawImage(V,ue*be,we*ke,ue,we,0,0,ue,we);return{canvas:ve.canvas,scaleX:W.scale,scaleY:ae.scale,offsetX:h,offsetY:g}}return{canvas:H.canvas,scaleX:ne.scale,scaleY:fe.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,r){const i=Math.max(bS.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,A=s-r;e.ctx.rect(t,r,a,A),Me.axialAlignedBoundingBox([t,r,i,s],En(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case XO.COLORED:const{fillStyle:a,strokeStyle:A}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=A;break;case XO.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new bse(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let a=r;i!==Vr.SHADING&&(a=Me.transform(a,t.baseTransform),this.matrix&&(a=Me.transform(a,this.matrix)));const A=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(A.offsetX,A.offsetY),l=l.scale(1/A.scaleX,1/A.scaleY);const c=e.createPattern(A.canvas,"repeat");return c.setTransform(l),c}};me(bS,"MAX_PATTERN_SIZE",3e3);let lF=bS;function rae({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const A=Tr.isLittleEndian?4278190080:255,[l,c]=a?[s,A]:[A,s],f=r>>3,h=r&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let b=0;b<i;b++){for(const S=e+f;e<S;e++){const x=e<g?n[e]:255;t[v++]=x&128?c:l,t[v++]=x&64?c:l,t[v++]=x&32?c:l,t[v++]=x&16?c:l,t[v++]=x&8?c:l,t[v++]=x&4?c:l,t[v++]=x&2?c:l,t[v++]=x&1?c:l}if(h===0)continue;const B=e<g?n[e++]:255;for(let S=0;S<h;S++)t[v++]=B&1<<7-S?c:l}return{srcPos:e,destPos:v}}const WO=16,jO=100,iae=15,JO=10,zi=16,m_=new DOMMatrix,Ss=new Float32Array(2),zh=new Float32Array([1/0,1/0,-1/0,-1/0]);function sae(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,a,A){e.transform(t,r,i,s,a,A),this.__originalTransform(t,r,i,s,a,A)},n.setTransform=function(t,r,i,s,a,A){e.setTransform(t,r,i,s,a,A),this.__originalSetTransform(t,r,i,s,a,A)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,A){e.bezierCurveTo(t,r,i,s,a,A),this.__originalBezierCurveTo(t,r,i,s,a,A)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class aae{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function dB(n,e,t,r,i,s,a,A,l,c){const[f,h,g,v,b,B]=En(n);if(h===0&&g===0){const _=a*f+b,T=Math.round(_),M=A*v+B,F=Math.round(M),R=(a+l)*f+b,L=Math.abs(Math.round(R)-T)||1,K=(A+c)*v+B,O=Math.abs(Math.round(K)-F)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(v),T,F),n.drawImage(e,t,r,i,s,0,0,L,O),n.setTransform(f,h,g,v,b,B),[L,O]}if(f===0&&v===0){const _=A*g+b,T=Math.round(_),M=a*h+B,F=Math.round(M),R=(A+c)*g+b,L=Math.abs(Math.round(R)-T)||1,K=(a+l)*h+B,O=Math.abs(Math.round(K)-F)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,F),n.drawImage(e,t,r,i,s,0,0,O,L),n.setTransform(f,h,g,v,b,B),[O,L]}n.drawImage(e,t,r,i,s,a,A,l,c);const S=Math.hypot(f,h),x=Math.hypot(g,v);return[S*l,x*c]}class ZO{constructor(e,t,r){me(this,"alphaIsShape",!1);me(this,"fontSize",0);me(this,"fontSizeScale",1);me(this,"textMatrix",null);me(this,"textMatrixScale",1);me(this,"fontMatrix",PU);me(this,"leading",0);me(this,"x",0);me(this,"y",0);me(this,"lineX",0);me(this,"lineY",0);me(this,"charSpacing",0);me(this,"wordSpacing",0);me(this,"textHScale",1);me(this,"textRenderingMode",Qr.FILL);me(this,"textRise",0);me(this,"fillColor","#000000");me(this,"strokeColor","#000000");me(this,"patternFill",!1);me(this,"patternStroke",!1);me(this,"fillAlpha",1);me(this,"strokeAlpha",1);me(this,"lineWidth",1);me(this,"activeSMask",null);me(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=zh.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Vr.FILL,t=null){const r=this.minMax.slice();if(e===Vr.STROKE){t||nn("Stroke bounding box must include transform."),Me.singularValueDecompose2dScale(t,Ss);const i=Ss[0]*this.lineWidth/2,s=Ss[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Me.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(zh,0)}getClippedPathBoundingBox(e=Vr.FILL,t=null){return Me.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function eH(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%zi,s=(t-i)/zi,a=i===0?s:s+1,A=n.createImageData(r,zi);let l=0,c;const f=e.data,h=A.data;let g,v,b,B;if(e.kind===ey.GRAYSCALE_1BPP){const S=f.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),_=x.length,T=r+7>>3,M=4294967295,F=Tr.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?zi:i,c=0,v=0;v<b;v++){const R=S-l;let L=0;const K=R>T?r:R*8-7,O=K&-8;let $=0,G=0;for(;L<O;L+=8)G=f[l++],x[c++]=G&128?M:F,x[c++]=G&64?M:F,x[c++]=G&32?M:F,x[c++]=G&16?M:F,x[c++]=G&8?M:F,x[c++]=G&4?M:F,x[c++]=G&2?M:F,x[c++]=G&1?M:F;for(;L<K;L++)$===0&&(G=f[l++],$=128),x[c++]=G&$?M:F,$>>=1}for(;c<_;)x[c++]=0;n.putImageData(A,0,g*zi)}}else if(e.kind===ey.RGBA_32BPP){for(v=0,B=r*zi*4,g=0;g<s;g++)h.set(f.subarray(l,l+B)),l+=B,n.putImageData(A,0,v),v+=zi;g<a&&(B=r*i*4,h.set(f.subarray(l,l+B)),n.putImageData(A,0,v))}else if(e.kind===ey.RGB_24BPP)for(b=zi,B=r*b,g=0;g<a;g++){for(g>=s&&(b=i,B=r*b),c=0,v=B;v--;)h[c++]=f[l++],h[c++]=f[l++],h[c++]=f[l++],h[c++]=255;n.putImageData(A,0,g*zi)}else throw new Error(`bad image kind: ${e.kind}`)}function tH(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%zi,s=(t-i)/zi,a=i===0?s:s+1,A=n.createImageData(r,zi);let l=0;const c=e.data,f=A.data;for(let h=0;h<a;h++){const g=h<s?zi:i;({srcPos:l}=rae({src:c,srcPos:l,dest:f,width:r,height:g,nonBlackColor:0})),n.putImageData(A,0,h*zi)}}function av(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function hB(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function nH(n,e){if(e)return!0;Me.singularValueDecompose2dScale(n,Ss);const t=Math.fround(Ya.pixelRatio*cl.PDF_TO_CSS_UNITS);return Ss[0]<=t&&Ss[1]<=t}const oae=["butt","round","square"],Aae=["miter","round","bevel"],lae={},rH={};var ja,uF,cF,fF;const XP=class XP{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:A=null},l,c,f){P(this,ja);this.ctx=e,this.current=new ZO(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=A||[],this.optionalContentConfig=a,this.cachedCanvases=new aae(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,t,r=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,A=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=A,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...En(this.compositeCtx))}this.ctx.save(),hB(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=En(this.ctx)}executeOperatorList(e,t,r,i,s){var x;const a=e.argsArray,A=e.fnArray;let l=t||0;const c=a.length;if(c===l)return l;const f=c-l>JO&&typeof r=="function",h=f?Date.now()+iae:0;let g=0;const v=this.commonObjs,b=this.objs;let B,S;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(B=A[l],S=a[l]??null,B!==Rg.dependency)S===null?this[B](l):this[B](l,...S);else for(const _ of S){(x=this.dependencyTracker)==null||x.recordNamedData(_,l);const T=_.startsWith("g_")?v:b;if(!T.has(_))return T.get(_,r),l}if(l++,l===c)return l;if(f&&++g>JO){if(Date.now()>h)return r(),l;g=0}}}endDrawing(){Q(this,ja,uF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),Q(this,ja,cF).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),A=r,l=i,c="prescale1",f,h;for(;s>2&&A>1||a>2&&l>1;){let g=A,v=l;s>2&&A>1&&(g=A>=16384?Math.floor(A/2)-1||1:Math.ceil(A/2),s/=A/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),f=this.cachedCanvases.getCanvas(c,g,v),h=f.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,A,l,0,0,g,v),e=f.canvas,A=g,l=v,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:A,paintHeight:l}}_createMaskCanvas(e,t){var $,G;const r=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,A=this.current.patternFill,l=En(r);let c,f,h,g;if((t.bitmap||t.data)&&t.count>1){const Y=t.bitmap||t.data.buffer;f=JSON.stringify(A?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(Y),c||(c=new Map,this._cachedBitmapsMap.set(Y,c));const J=c.get(f);if(J&&!A){const ne=Math.round(Math.min(l[0],l[2])+l[4]),fe=Math.round(Math.min(l[1],l[3])+l[5]);return($=this.dependencyTracker)==null||$.recordDependencies(e,Xs.transformAndFill),{canvas:J,offsetX:ne,offsetY:fe}}h=J}h||(g=this.cachedCanvases.getCanvas("maskCanvas",i,s),tH(g.context,t));let v=Me.transform(l,[1/i,0,0,-1/s,0,0]);v=Me.transform(v,[1,0,0,1,0,-s]);const b=zh.slice();Me.axialAlignedBoundingBox([0,0,i,s],v,b);const[B,S,x,_]=b,T=Math.round(x-B)||1,M=Math.round(_-S)||1,F=this.cachedCanvases.getCanvas("fillCanvas",T,M),R=F.context,L=B,K=S;R.translate(-L,-K),R.transform(...v),h||(h=this._scaleImage(g.canvas,lo(R)),h=h.img,c&&A&&c.set(f,h)),R.imageSmoothingEnabled=nH(En(R),t.interpolate),dB(R,h,0,0,h.width,h.height,0,0,i,s),R.globalCompositeOperation="source-in";const O=Me.transform(lo(R),[1,0,0,1,-L,-K]);return R.fillStyle=A?a.getPattern(r,this,O,Vr.FILL,e):a,R.fillRect(0,0,i,s),c&&!A&&(this.cachedCanvases.delete("fillCanvas"),c.set(f,F.canvas)),(G=this.dependencyTracker)==null||G.recordDependencies(e,Xs.transformAndFill),{canvas:F.canvas,offsetX:Math.round(L),offsetY:Math.round(K)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=oae[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Aae[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,i,s,a,A;for(const[l,c]of t)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(A=this.dependencyTracker)==null||A.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),av(this.suspendedCtx,a),sae(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),av(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],A=i[2]-s,l=i[3]-a;A===0||l===0||(this.genericComposeSMask(t.context,r,A,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,A,l,c,f,h){let g=e.canvas,v=l-f,b=c-h;if(a)if(v<0||b<0||v+r>g.width||b+i>g.height){const S=this.cachedCanvases.getCanvas("maskExtension",r,i),x=S.context;x.drawImage(g,-v,-b),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,r,i),x.globalCompositeOperation="source-over",g=S.canvas,v=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(v,b,r,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,b,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&A?t.filter=this.filterFactory.addAlphaFilter(A):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(A));const B=new Path2D;B.rect(l,c,r,i),t.clip(B),t.globalCompositeOperation="destination-in",t.drawImage(g,v,b,r,i,l,c,r,i),t.restore()}save(e){var r;this.inSMaskMode&&av(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&av(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,a,A){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,a,A),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Rg.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const a=r[0]=new Path2D;for(let A=0,l=s.length;A<l;)switch(s[A++]){case oB.moveTo:a.moveTo(s[A++],s[A++]);break;case oB.lineTo:a.lineTo(s[A++],s[A++]);break;case oB.curveTo:a.bezierCurveTo(s[A++],s[A++],s[A++],s[A++],s[A++],s[A++]);break;case oB.closePath:a.closePath();break;default:et(`Unrecognized drawing path operator: ${s[A-1]}`);break}s=a}Me.axialAlignedBoundingBox(i,En(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const A=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,lo(i),Vr.STROKE,e),A){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(A)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Xs.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Vr.STROKE,En(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var c,f,h;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let A=!1;if(a){const g=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,lo(i),Vr.FILL,e),g){const v=new Path2D;v.addPath(t,i.getTransform().invertSelf().multiplySelf(g)),t=v}A=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(f=this.dependencyTracker)==null||f.recordDependencies(e,Xs.fill),A&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,Xs.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=lae}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=rH}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:A,y:l,fontSize:c,path:f}of t)f&&i.addPath(f,new DOMMatrix(a).preMultiplySelf(s).translate(A,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||PU,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&et("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",A=((g=i.systemFontInfo)==null?void 0:g.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let f=r;r<WO?f=WO:r>jO&&(f=jO),this.current.fontSizeScale=r/f,this.ctx.font=`${c} ${l} ${f}px ${A}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,i,s,a){var x,_,T,M;const A=this.ctx,l=this.current,c=l.font,f=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=f&Qr.FILL_STROKE_MASK,v=!!(f&Qr.ADD_TO_PATH_FLAG),b=l.patternFill&&!c.missingFile,B=l.patternStroke&&!c.missingFile;let S;if((c.disableFontFace||v||b||B)&&!c.missingFile&&(S=c.getPathGenerator(this.commonObjs,t)),S&&(c.disableFontFace||b||B)){A.save(),A.translate(r,i),A.scale(h,-h),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,A,c);let F;if(g===Qr.FILL||g===Qr.FILL_STROKE)if(s){F=A.getTransform(),A.setTransform(...s);const R=Q(this,ja,fF).call(this,S,F,s);A.fill(R)}else A.fill(S);if(g===Qr.STROKE||g===Qr.FILL_STROKE)if(a){F||(F=A.getTransform()),A.setTransform(...a);const{a:R,b:L,c:K,d:O}=F,$=Me.inverseTransform(a),G=Me.transform([R,L,K,O,0,0],$);Me.singularValueDecompose2dScale(G,Ss),A.lineWidth*=Math.max(Ss[0],Ss[1])/h,A.stroke(Q(this,ja,fF).call(this,S,F,a))}else A.lineWidth/=h,A.stroke(S);A.restore()}else(g===Qr.FILL||g===Qr.FILL_STROKE)&&(A.fillText(t,r,i),(_=this.dependencyTracker)==null||_.recordCharacterBBox(e,A,c,h,r,i,()=>A.measureText(t))),(g===Qr.STROKE||g===Qr.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,A,c,h,r,i,()=>A.measureText(t)).recordDependencies(e,Xs.stroke)),A.strokeText(t,r,i));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:En(A),x:r,y:i,fontSize:h,path:S}),(M=this.dependencyTracker)==null||M.recordCharacterBBox(e,A,c,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return At(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var K,O,$,G;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Xs.showText).resetBBox(e),this.current.textRenderingMode&Qr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),(K=this.dependencyTracker)==null||K.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(O=this.dependencyTracker)==null||O.recordOperation(e);return}const a=this.ctx,A=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,f=r.fontDirection,h=r.textHScale*f,g=t.length,v=i.vertical,b=v?1:-1,B=i.defaultVMetrics,S=s*r.fontMatrix[0],x=r.textRenderingMode===Qr.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),f>0?a.scale(h,-1):a.scale(h,1);let _,T;if(r.patternFill){a.save();const Y=r.fillColor.getPattern(a,this,lo(a),Vr.FILL,e);_=En(a),a.restore(),a.fillStyle=Y}if(r.patternStroke){a.save();const Y=r.strokeColor.getPattern(a,this,lo(a),Vr.STROKE,e);T=En(a),a.restore(),a.strokeStyle=Y}let M=r.lineWidth;const F=r.textMatrixScale;if(F===0||M===0){const Y=r.textRenderingMode&Qr.FILL_STROKE_MASK;(Y===Qr.STROKE||Y===Qr.FILL_STROKE)&&(M=this.getSinglePixelWidth())}else M/=F;if(A!==1&&(a.scale(A,A),M/=A),a.lineWidth=M,i.isInvalidPDFjsFont){const Y=[];let J=0;for(const fe of t)Y.push(fe.unicode),J+=fe.width;const ne=Y.join("");if(a.fillText(ne,0,0),this.dependencyTracker!==null){const fe=a.measureText(ne);this.dependencyTracker.recordBBox(e,this.ctx,-fe.actualBoundingBoxLeft,fe.actualBoundingBoxRight,-fe.actualBoundingBoxAscent,fe.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=J*S*h,a.restore(),this.compose();return}let R=0,L;for(L=0;L<g;++L){const Y=t[L];if(typeof Y=="number"){R+=b*Y*s/1e3;continue}let J=!1;const ne=(Y.isSpace?c:0)+l,fe=Y.fontChar,H=Y.accent;let z,oe,le=Y.width;if(v){const W=Y.vmetric||B,ae=-(Y.vmetric?W[1]:le*.5)*S,ue=W[2]*S;le=W?-W[0]:le,z=ae/A,oe=(R+ue)/A}else z=R/A,oe=0;let Ce;if(i.remeasure&&le>0){Ce=a.measureText(fe);const W=Ce.width*1e3/s*A;if(le<W&&this.isFontSubpixelAAEnabled){const ae=le/W;J=!0,a.save(),a.scale(ae,1),z/=ae}else le!==W&&(z+=(le-W)/2e3*s/A)}if(this.contentVisible&&(Y.isInFont||i.missingFile)){if(x&&!H)a.fillText(fe,z,oe),($=this.dependencyTracker)==null||$.recordCharacterBBox(e,a,Ce?{bbox:null}:i,s/A,z,oe,()=>Ce??a.measureText(fe));else if(this.paintChar(e,fe,z,oe,_,T),H){const W=z+s*H.offset.x/A,ae=oe-s*H.offset.y/A;this.paintChar(e,H.fontChar,W,ae,_,T)}}const V=v?le*S-ne*f:le*S+ne*f;R+=V,J&&a.restore()}v?r.y-=R:r.x+=R*h,a.restore(),this.compose(),(G=this.dependencyTracker)==null||G.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,A=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,f=i.wordSpacing,h=i.textHScale*A,g=i.fontMatrix||PU,v=t.length,b=i.textRenderingMode===Qr.INVISIBLE;let B,S,x,_;if(b||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,A);const T=this.dependencyTracker;for(this.dependencyTracker=T?new oE(T,e):null,B=0;B<v;++B){if(S=t[B],typeof S=="number"){_=l*S*a/1e3,this.ctx.translate(_,0),i.x+=_*h;continue}const M=(S.isSpace?f:0)+c,F=s.charProcOperatorList[S.operatorListId];F?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...g),this.executeOperatorList(F),this.restore()):et(`Type3 character "${S.operatorListId}" is not available.`);const R=[S.width,0];Me.applyTransform(R,g),x=R[0]*a+M,r.translate(x,0),i.x+=x*h}r.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,a,A){var c;const l=new Path2D;l.rect(i,s,a-i,A-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,s,A).recordClipBox(e,this.ctx,i,a,s,A),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||En(this.ctx),s={createCanvasGraphics:(a,A)=>new XP(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new oE(this.dependencyTracker,A,!0):null)};r=new lF(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=nae(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,lo(r),Vr.SHADING,e);const s=lo(r);if(s){const{width:A,height:l}=r.canvas,c=zh.slice();Me.axialAlignedBoundingBox([0,0,A,l],s,c);const[f,h,g,v]=c;this.ctx.fillRect(f,h,g-f,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Xs.transform).recordDependencies(e,Xs.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){nn("Should not call beginInlineImage")}beginImageData(){nn("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=En(this.ctx),r)){Me.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,A,l]=r,c=new Path2D;c.rect(s,a,A-s,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,A,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||HS("TODO: Support non-isolated groups."),t.knockout&&et("Knockout groups not supported.");const i=En(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=zh.slice();Me.axialAlignedBoundingBox(t.bbox,En(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=Me.intersect(s,a)||[0,0,0,0];const A=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-A,1),f=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,f]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,c,f),v=g.context;v.translate(-A,-l),v.transform(...i);let b=new Path2D;const[B,S,x,_]=t.bbox;if(b.rect(B,S,x-B,_-S),t.matrix){const M=new Path2D;M.addPath(b,new DOMMatrix(t.matrix)),b=M}v.clip(b),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:A,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(A,l),r.save()),av(r,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=En(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const A=zh.slice();Me.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,A),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(A)}}beginAnnotation(e,t,r,i,s,a){if(Q(this,ja,uF).call(this),hB(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const A=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=A,r[3]=l,Me.singularValueDecompose2dScale(En(this.ctx),Ss);const{viewportScale:c}=this,f=Math.ceil(A*this.outputScaleX*c),h=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Ss[0],0,0,-Ss[1],0,l*Ss[1]),hB(this.ctx)}else{hB(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],A,l),this.ctx.clip(c)}}this.current=new ZO(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),Q(this,ja,cF).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var A;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(A=this.dependencyTracker)==null||A.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,a,A){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const c=En(l);l.transform(r,i,s,a,0,0);const f=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,f.offsetX-c[4],f.offsetY-c[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let b=0,B=A.length;b<B;b+=2){const S=Me.transform(c,[r,i,s,a,A[b],A[b+1]]);l.drawImage(f.canvas,S[4],S[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,S[4],S[4]+f.canvas.width,S[5],S[5]+f.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,A,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Xs.transformAndFill);for(const c of t){const{data:f,width:h,height:g,transform:v}=c,b=this.cachedCanvases.getCanvas("maskCanvas",h,g),B=b.context;B.save();const S=this.getObject(e,f,c);tH(B,S),B.globalCompositeOperation="source-in",B.fillStyle=s?i.getPattern(B,this,lo(r),Vr.FILL,e):i,B.fillRect(0,0,h,g),B.restore(),r.save(),r.transform(...v),r.scale(1,-1),dB(r,b.canvas,0,0,h,g,0,-1,1,1),(A=this.dependencyTracker)==null||A.recordBBox(e,r,0,h,0,g),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){et("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){et("Dependent image isn't ready yet");return}const A=a.width,l=a.height,c=[];for(let f=0,h=s.length;f<h;f+=2)c.push({transform:[r,0,0,i,s[f],s[f+1]],x:0,y:0,w:A,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var c;if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let A;if(t.bitmap)A=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)A=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;eH(h,t),A=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(A,lo(s));s.imageSmoothingEnabled=nH(En(s),t.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,Xs.imageXObject).recordOperation(e),dB(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var a,A,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const c=t.width,f=t.height,g=this.cachedCanvases.getCanvas("inlineImage",c,f).context;eH(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),dB(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(A=this.dependencyTracker)==null||A.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Xs.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var a,A;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===rH?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(A=this.dependencyTracker)==null||A.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=En(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,A;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)a=A=1/l;else{const f=l*e;a=A=f<1?1/f:1}else if(e===0)a=1/l,A=1/c;else{const f=l*e,h=c*e;a=f<1?1/f:1,A=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),f=Math.hypot(i,s);if(e===0)a=f/l,A=c/l;else{const h=e*l;a=f>h?f/h:1,A=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=A}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const A=r.getLineDash();t&&r.save(),r.scale(s,a),m_.a=1/s,m_.d=1/a;const l=new Path2D;if(l.addPath(e,m_),A.length>0){const c=Math.max(s,a);r.setLineDash(A.map(f=>f/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ja=new WeakSet,uF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},cF=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},fF=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let np=XP;for(const n in Rg)np.prototype[n]!==void 0&&(np.prototype[Rg[n]]=np.prototype[n]);var Pp,Qp,u0,Np,gb;const Wh=class Wh{constructor(e){P(this,Np);P(this,Pp);P(this,Qp);P(this,u0);U(this,Pp,e),U(this,Qp,new DataView(p(this,Pp))),U(this,u0,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const c of Wh.strings){const f=t.encode(e[c]);r[c]=f,i+=4+f.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),A=new DataView(s);let l=0;for(const c of Wh.strings){const f=r[c],h=f.length;A.setUint32(l,h),a.set(f,l+4),l+=4+h}return Ct(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return Q(this,Np,gb).call(this,0)}get fontWeight(){return Q(this,Np,gb).call(this,1)}get italicAngle(){return Q(this,Np,gb).call(this,2)}};Pp=new WeakMap,Qp=new WeakMap,u0=new WeakMap,Np=new WeakSet,gb=function(e){Ct(e<Wh.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=p(this,Qp).getUint32(t)+4;const r=p(this,Qp).getUint32(t);return p(this,u0).decode(new Uint8Array(p(this,Pp),t+4,r))},me(Wh,"strings",["fontFamily","fontWeight","italicAngle"]);let AE=Wh;var _u,So,Uf,Ff,Rv;const jh=class jh{constructor(e){P(this,Ff);P(this,_u);P(this,So);P(this,Uf);U(this,_u,e),U(this,So,new DataView(p(this,_u))),U(this,Uf,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const g of jh.strings){const v=t.encode(e[g]);r[g]=v,i+=4+v.length}i+=4;let s,a,A=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),A+=4+s.length+4+a.length);const l=new ArrayBuffer(A),c=new Uint8Array(l),f=new DataView(l);let h=0;f.setUint8(h++,e.guessFallback?1:0),f.setUint32(h,0),h+=4,i=0;for(const g of jh.strings){const v=r[g],b=v.length;i+=4+b,f.setUint32(h,b),c.set(v,h+4),h+=4+b}return f.setUint32(h-i-4,i),e.style&&(f.setUint32(h,s.length),c.set(s,h+4),h+=4+s.length,f.setUint32(h,a.length),c.set(a,h+4),h+=4+a.length),Ct(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return p(this,So).getUint8(0)!==0}get css(){return Q(this,Ff,Rv).call(this,0)}get loadedName(){return Q(this,Ff,Rv).call(this,1)}get baseFontName(){return Q(this,Ff,Rv).call(this,2)}get src(){return Q(this,Ff,Rv).call(this,3)}get style(){let e=1;e+=4+p(this,So).getUint32(e);const t=p(this,So).getUint32(e),r=p(this,Uf).decode(new Uint8Array(p(this,_u),e+4,t));e+=4+t;const i=p(this,So).getUint32(e),s=p(this,Uf).decode(new Uint8Array(p(this,_u),e+4,i));return{style:r,weight:s}}};_u=new WeakMap,So=new WeakMap,Uf=new WeakMap,Ff=new WeakSet,Rv=function(e){Ct(e<jh.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=p(this,So).getUint32(t)+4;const r=p(this,So).getUint32(t);return p(this,Uf).decode(new Uint8Array(p(this,_u),t+4,r))},me(jh,"strings",["css","loadedName","baseFontName","src"]);let lE=jh;var Lp,kp,Op,Hp,us,xo,c0,$t,Rn,_a,mb,Pv;const st=class st{constructor({data:e,extra:t}){P(this,Rn);P(this,xo);P(this,c0);P(this,$t);U(this,xo,e),U(this,c0,new TextDecoder),U(this,$t,new DataView(p(this,xo))),t&&Object.assign(this,t)}get black(){return Q(this,Rn,_a).call(this,0)}get bold(){return Q(this,Rn,_a).call(this,1)}get disableFontFace(){return Q(this,Rn,_a).call(this,2)}get fontExtraProperties(){return Q(this,Rn,_a).call(this,3)}get isInvalidPDFjsFont(){return Q(this,Rn,_a).call(this,4)}get isType3Font(){return Q(this,Rn,_a).call(this,5)}get italic(){return Q(this,Rn,_a).call(this,6)}get missingFile(){return Q(this,Rn,_a).call(this,7)}get remeasure(){return Q(this,Rn,_a).call(this,8)}get vertical(){return Q(this,Rn,_a).call(this,9)}get ascent(){return Q(this,Rn,mb).call(this,0)}get defaultWidth(){return Q(this,Rn,mb).call(this,1)}get descent(){return Q(this,Rn,mb).call(this,2)}get bbox(){let e=p(st,kp);if(p(this,$t).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(p(this,$t).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=p(st,Op);if(p(this,$t).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(p(this,$t).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=p(st,Hp);if(p(this,$t).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(p(this,$t).getInt16(e,!0)),e+=2;return r}get fallbackName(){return Q(this,Rn,Pv).call(this,0)}get loadedName(){return Q(this,Rn,Pv).call(this,1)}get mimetype(){return Q(this,Rn,Pv).call(this,2)}get name(){return Q(this,Rn,Pv).call(this,3)}get data(){let e=p(st,us);const t=p(this,$t).getUint32(e);e+=4+t;const r=p(this,$t).getUint32(e);e+=4+r;const i=p(this,$t).getUint32(e);e+=4+i;const s=p(this,$t).getUint32(e);if(s!==0)return new Uint8Array(p(this,xo),e+4,s)}clearData(){let e=p(st,us);const t=p(this,$t).getUint32(e);e+=4+t;const r=p(this,$t).getUint32(e);e+=4+r;const i=p(this,$t).getUint32(e);e+=4+i;const s=p(this,$t).getUint32(e);new Uint8Array(p(this,xo),e+4,s).fill(0),p(this,$t).setUint32(e,0)}get cssFontInfo(){let e=p(st,us);const t=p(this,$t).getUint32(e);e+=4+t;const r=p(this,$t).getUint32(e);e+=4+r;const i=p(this,$t).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(p(this,xo),e+4,i)),new AE(s.buffer)}get systemFontInfo(){let e=p(st,us);const t=p(this,$t).getUint32(e);e+=4+t;const r=p(this,$t).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(p(this,xo),e+4,r)),new lE(i.buffer)}static write(e){const t=e.systemFontInfo?lE.write(e.systemFontInfo):null,r=e.cssFontInfo?AE.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const B of st.strings)s[B]=i.encode(e[B]),a+=4+s[B].length;const A=p(st,us)+4+a+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(A),c=new Uint8Array(l),f=new DataView(l);let h=0;const g=st.bools.length;let v=0,b=0;for(let B=0;B<g;B++){const S=e[st.bools[B]];v|=(S===void 0?0:S?2:1)<<b,b+=2,(b===8||B===g-1)&&(f.setUint8(h++,v),v=0,b=0)}Ct(h===p(st,Lp),"FontInfo.write: Boolean properties offset mismatch");for(const B of st.numbers)f.setFloat64(h,e[B]),h+=8;if(Ct(h===p(st,kp),"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(h++,4);for(const B of e.bbox)f.setInt16(h,B,!0),h+=2}else f.setUint8(h++,0),h+=8;if(Ct(h===p(st,Op),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(h++,6);for(const B of e.fontMatrix)f.setFloat64(h,B,!0),h+=8}else f.setUint8(h++,0),h+=48;if(Ct(h===p(st,Hp),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(h++,1);for(const B of e.defaultVMetrics)f.setInt16(h,B,!0),h+=2}else f.setUint8(h++,0),h+=6;Ct(h===p(st,us),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(p(st,us),0),h+=4;for(const B of st.strings){const S=s[B],x=S.length;f.setUint32(h,x),c.set(S,h+4),h+=4+x}if(f.setUint32(p(st,us),h-p(st,us)-4),!t)f.setUint32(h,0),h+=4;else{const B=t.byteLength;f.setUint32(h,B),Ct(h+4+B<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(t),h+4),h+=4+B}if(!r)f.setUint32(h,0),h+=4;else{const B=r.byteLength;f.setUint32(h,B),Ct(h+4+B<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),h+4),h+=4+B}return e.data===void 0?(f.setUint32(h,0),h+=4):(f.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),Ct(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};Lp=new WeakMap,kp=new WeakMap,Op=new WeakMap,Hp=new WeakMap,us=new WeakMap,xo=new WeakMap,c0=new WeakMap,$t=new WeakMap,Rn=new WeakSet,_a=function(e){Ct(e<st.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=p(this,$t).getUint8(t)>>r&3;return i===0?void 0:i===2},mb=function(e){return Ct(e<st.numbers.length,"Invalid number index"),p(this,$t).getFloat64(p(st,Lp)+e*8)},Pv=function(e){Ct(e<st.strings.length,"Invalid string index");let t=p(st,us)+4;for(let s=0;s<e;s++)t+=p(this,$t).getUint32(t)+4;const r=p(this,$t).getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(p(this,xo),t+4,r)),p(this,c0).decode(i)},me(st,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),me(st,"numbers",["ascent","defaultWidth","descent"]),me(st,"strings",["fallbackName","loadedName","mimetype","name"]),P(st,Lp,Math.ceil(st.bools.length*2/8)),P(st,kp,p(st,Lp)+st.numbers.length*8),P(st,Op,p(st,kp)+1+8),P(st,Hp,p(st,Op)+1+48),P(st,us,p(st,Hp)+1+6);let dF=st;var f0,d0;class _s{static get workerPort(){return p(this,f0)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");U(this,f0,e)}static get workerSrc(){return p(this,d0)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");U(this,d0,e)}}f0=new WeakMap,d0=new WeakMap,P(_s,f0,null),P(_s,d0,"");var Kp,h0;class uae{constructor({parsedData:e,rawData:t}){P(this,Kp);P(this,h0);U(this,Kp,e),U(this,h0,t)}getRaw(){return p(this,h0)}get(e){return p(this,Kp).get(e)??null}[Symbol.iterator](){return p(this,Kp).entries()}}Kp=new WeakMap,h0=new WeakMap;const Lh=Symbol("INTERNAL");var p0,g0,m0,Gp;class cae{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){P(this,p0,!1);P(this,g0,!1);P(this,m0,!1);P(this,Gp,!0);U(this,p0,!!(e&Es.DISPLAY)),U(this,g0,!!(e&Es.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(p(this,m0))return p(this,Gp);if(!p(this,Gp))return!1;const{print:e,view:t}=this.usage;return p(this,p0)?(t==null?void 0:t.viewState)!=="OFF":p(this,g0)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Lh&&nn("Internal method `_setVisible` called."),U(this,m0,r),U(this,Gp,t)}}p0=new WeakMap,g0=new WeakMap,m0=new WeakMap,Gp=new WeakMap;var Iu,Yt,Vp,zp,v0,hF;class fae{constructor(e,t=Es.DISPLAY){P(this,v0);P(this,Iu,null);P(this,Yt,new Map);P(this,Vp,null);P(this,zp,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,U(this,zp,e.order);for(const r of e.groups)p(this,Yt).set(r.id,new cae(t,r));if(e.baseState==="OFF")for(const r of p(this,Yt).values())r._setVisible(Lh,!1);for(const r of e.on)p(this,Yt).get(r)._setVisible(Lh,!0);for(const r of e.off)p(this,Yt).get(r)._setVisible(Lh,!1);U(this,Vp,this.getHash())}}isVisible(e){if(p(this,Yt).size===0)return!0;if(!e)return HS("Optional content group not defined."),!0;if(e.type==="OCG")return p(this,Yt).has(e.id)?p(this,Yt).get(e.id).visible:(et(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return Q(this,v0,hF).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!p(this,Yt).has(t))return et(`Optional content group not found: ${t}`),!0;if(p(this,Yt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!p(this,Yt).has(t))return et(`Optional content group not found: ${t}`),!0;if(!p(this,Yt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!p(this,Yt).has(t))return et(`Optional content group not found: ${t}`),!0;if(!p(this,Yt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!p(this,Yt).has(t))return et(`Optional content group not found: ${t}`),!0;if(p(this,Yt).get(t).visible)return!1}return!0}return et(`Unknown optional content policy ${e.policy}.`),!0}return et(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=p(this,Yt).get(e);if(!i){et(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const A of a)A!==e&&((s=p(this,Yt).get(A))==null||s._setVisible(Lh,!1,!0));i._setVisible(Lh,!!t,!0),U(this,Iu,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=p(this,Yt).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}U(this,Iu,null)}get hasInitialVisibility(){return p(this,Vp)===null||this.getHash()===p(this,Vp)}getOrder(){return p(this,Yt).size?p(this,zp)?p(this,zp).slice():[...p(this,Yt).keys()]:null}getGroup(e){return p(this,Yt).get(e)||null}getHash(){if(p(this,Iu)!==null)return p(this,Iu);const e=new d5;for(const[t,r]of p(this,Yt))e.update(`${t}:${r.visible}`);return U(this,Iu,e.hexdigest())}[Symbol.iterator](){return p(this,Yt).entries()}}Iu=new WeakMap,Yt=new WeakMap,Vp=new WeakMap,zp=new WeakMap,v0=new WeakSet,hF=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=Q(this,v0,hF).call(this,s);else if(p(this,Yt).has(s))a=p(this,Yt).get(s).visible;else return et(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class dae{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Ct(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:A}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=A,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Ct(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ct(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new hae(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new pae(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class hae{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=GS(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class pae{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gae(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let f=A(t);return f=unescape(f),f=l(f),f=c(f),s(f)}if(t=a(n),t){const f=c(t);return s(f)}if(t=r("filename","i").exec(n),t){t=t[1];let f=A(t);return f=c(f),s(f)}function r(f,h){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(f,h){if(f){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(f,{fatal:!0}),v=mw(h);h=g.decode(v),e=!1}catch{}}return h}function s(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function a(f){const h=[];let g;const v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(f))!==null;){let[,B,S,x]=g;if(B=parseInt(B,10),B in h){if(B===0)break;continue}h[B]=[S,x]}const b=[];for(let B=0;B<h.length&&B in h;++B){let[S,x]=h[B];x=A(x),S&&(x=unescape(x),B===0&&(x=l(x))),b.push(x)}return b.join("")}function A(f){if(f.startsWith('"')){const h=f.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}f=h.join('"')}return f}function l(f){const h=f.indexOf("'");if(h===-1)return f;const g=f.slice(0,h),b=f.slice(h+1).replace(/^[^']*'/,"");return i(g,b)}function c(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(B,S){return String.fromCharCode(parseInt(S,16))}),i(g,b);try{b=atob(b)}catch{}return i(g,b)})}return""}function x5(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function VS(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function T5({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function _5(n){const e=n.get("Content-Disposition");if(e){let t=gae(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(GS(t))return t}return null}function Cw(n,e){return new ly(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function I5(n){return n===200||n===206}function U5(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function F5(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(et(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class mae{constructor(e){me(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=x5(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new vae(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new yae(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class vae{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,U5(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=VS(s.url),!I5(s.status))throw Cw(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:A,suggestedLength:l}=T5({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=l||this._contentLength,this._filename=_5(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ul("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:F5(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class yae{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,U5(s,this._withCredentials,this._abortController)).then(A=>{const l=VS(A.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!I5(A.status))throw Cw(A.status,a);this._readCapability.resolve(),this._reader=A.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:F5(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const v_=200,y_=206;function wae(n){const e=n.response;return typeof e!="string"?e:mw(e).buffer}class Cae{constructor({url:e,httpHeaders:t,withCredentials:r}){me(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=x5(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=y_):i.expectedStatus=v_,t.responseType="arraybuffer",Ct(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||v_;if(!(s===v_&&r.expectedStatus===y_)&&s!==r.expectedStatus){r.onError(i.status);return}const A=wae(i);if(s===y_){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:A}):(et('Missing or invalid "Content-Range" header.'),r.onError(0))}else A?r.onDone({begin:0,chunk:A}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Bae{constructor(e){this._source=e,this._manager=new Cae(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ct(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bae(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new Eae(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class bae{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=VS(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(A=>{const[l,...c]=A.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=T5({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=_5(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Cw(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Eae{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=VS((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Cw(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Sae=/^[a-z][a-z0-9\-+.]+:/i;function xae(n){if(Sae.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Tae{constructor(e){this.source=e,this.url=xae(e.url),Ct(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new _ae(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Iae(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class _ae{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Cw(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ul("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Iae{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ov=Symbol("INITIAL_DATA");var cs,y0,pF;class M5{constructor(){P(this,y0);P(this,cs,Object.create(null))}get(e,t=null){if(t){const i=Q(this,y0,pF).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=p(this,cs)[e];if(!r||r.data===ov)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=p(this,cs)[e];return!!t&&t.data!==ov}delete(e){const t=p(this,cs)[e];return!t||t.data===ov?!1:(delete p(this,cs)[e],!0)}resolve(e,t=null){const r=Q(this,y0,pF).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in p(this,cs)){const{data:r}=p(this,cs)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}U(this,cs,Object.create(null))}*[Symbol.iterator](){for(const e in p(this,cs)){const{data:t}=p(this,cs)[e];t!==ov&&(yield[e,t])}}}cs=new WeakMap,y0=new WeakSet,pF=function(e){var t;return(t=p(this,cs))[e]||(t[e]={...Promise.withResolvers(),data:ov})};const Uae=1e5,iH=30;var UV,Uu,Ki,w0,C0,Mf,QA,B0,b0,Df,qp,$p,Fu,Yp,E0,Xp,Rf,S0,x0,Dn,Wp,Pf,T0,Mu,jp,Bl,D5,R5,gF,Ds,vb,mF,P5,Q5;let dy=(Dn=class{constructor({textContentSource:e,container:t,viewport:r}){P(this,Bl);P(this,Uu,Promise.withResolvers());P(this,Ki,null);P(this,w0,!1);P(this,C0,!!((UV=globalThis.FontInspector)!=null&&UV.enabled));P(this,Mf,null);P(this,QA,null);P(this,B0,0);P(this,b0,0);P(this,Df,null);P(this,qp,null);P(this,$p,0);P(this,Fu,0);P(this,Yp,Object.create(null));P(this,E0,[]);P(this,Xp,null);P(this,Rf,[]);P(this,S0,new WeakMap);P(this,x0,null);var l;if(e instanceof ReadableStream)U(this,Xp,e);else if(typeof e=="object")U(this,Xp,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');U(this,Ki,U(this,qp,t)),U(this,Fu,r.scale*Ya.pixelRatio),U(this,$p,r.rotation),U(this,QA,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:A}=r.rawDims;U(this,x0,[1,0,0,-1,-a,A+s]),U(this,b0,i),U(this,B0,s),Q(l=Dn,Ds,P5).call(l),uc(t,r),p(this,Uu).promise.finally(()=>{p(Dn,jp).delete(this),U(this,QA,null),U(this,Yp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Tr.platform;return At(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{p(this,Df).read().then(({value:t,done:r})=>{if(r){p(this,Uu).resolve();return}p(this,Mf)??U(this,Mf,t.lang),Object.assign(p(this,Yp),t.styles),Q(this,Bl,D5).call(this,t.items),e()},p(this,Uu).reject)};return U(this,Df,p(this,Xp).getReader()),p(Dn,jp).add(this),e(),p(this,Uu).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*Ya.pixelRatio,i=e.rotation;if(i!==p(this,$p)&&(t==null||t(),U(this,$p,i),uc(p(this,qp),{rotation:i})),r!==p(this,Fu)){t==null||t(),U(this,Fu,r);const a={div:null,properties:null,ctx:Q(s=Dn,Ds,vb).call(s,p(this,Mf))};for(const A of p(this,Rf))a.properties=p(this,S0).get(A),a.div=A,Q(this,Bl,gF).call(this,a)}}cancel(){var t;const e=new ul("TextLayer task cancelled.");(t=p(this,Df))==null||t.cancel(e).catch(()=>{}),U(this,Df,null),p(this,Uu).reject(e)}get textDivs(){return p(this,Rf)}get textContentItemsStr(){return p(this,E0)}static cleanup(){if(!(p(this,jp).size>0)){p(this,Wp).clear();for(const{canvas:e}of p(this,Pf).values())e.remove();p(this,Pf).clear()}}},Uu=new WeakMap,Ki=new WeakMap,w0=new WeakMap,C0=new WeakMap,Mf=new WeakMap,QA=new WeakMap,B0=new WeakMap,b0=new WeakMap,Df=new WeakMap,qp=new WeakMap,$p=new WeakMap,Fu=new WeakMap,Yp=new WeakMap,E0=new WeakMap,Xp=new WeakMap,Rf=new WeakMap,S0=new WeakMap,x0=new WeakMap,Wp=new WeakMap,Pf=new WeakMap,T0=new WeakMap,Mu=new WeakMap,jp=new WeakMap,Bl=new WeakSet,D5=function(e){var i,s;if(p(this,w0))return;(s=p(this,QA)).ctx??(s.ctx=Q(i=Dn,Ds,vb).call(i,p(this,Mf)));const t=p(this,Rf),r=p(this,E0);for(const a of e){if(t.length>Uae){et("Ignoring additional textDivs for performance reasons."),U(this,w0,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const A=p(this,Ki);U(this,Ki,document.createElement("span")),p(this,Ki).classList.add("markedContent"),a.id&&p(this,Ki).setAttribute("id",`${a.id}`),A.append(p(this,Ki))}else a.type==="endMarkedContent"&&U(this,Ki,p(this,Ki).parentNode);continue}r.push(a.str),Q(this,Bl,R5).call(this,a)}},R5=function(e){var B;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};p(this,Rf).push(t);const i=Me.transform(p(this,x0),e.transform);let s=Math.atan2(i[1],i[0]);const a=p(this,Yp)[e.fontName];a.vertical&&(s+=Math.PI/2);let A=p(this,C0)&&a.fontSubstitution||a.fontFamily;A=Dn.fontFamilyMap.get(A)||A;const l=Math.hypot(i[2],i[3]),c=l*Q(B=Dn,Ds,Q5).call(B,A,a,p(this,Mf));let f,h;s===0?(f=i[4],h=i[5]-c):(f=i[4]+c*Math.sin(s),h=i[5]-c*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;p(this,Ki)===p(this,qp)?(v.left=`${(100*f/p(this,b0)).toFixed(2)}%`,v.top=`${(100*h/p(this,B0)).toFixed(2)}%`):(v.left=`${g}${f.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(p(Dn,Mu)*l).toFixed(2)}px)`,v.fontFamily=A,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,p(this,C0)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);S!==x&&Math.max(S,x)/Math.min(S,x)>1.5&&(b=!0)}if(b&&(r.canvasWidth=a.vertical?e.height:e.width),p(this,S0).set(t,r),p(this,QA).div=t,p(this,QA).properties=r,Q(this,Bl,gF).call(this,p(this,QA)),r.hasText&&p(this,Ki).append(t),r.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),p(this,Ki).append(S)}},gF=function(e){var A;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(p(Dn,Mu)>1&&(a=`scale(${1/p(Dn,Mu)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:f}=r;Q(A=Dn,Ds,mF).call(A,i,f*p(this,Fu),l);const{width:h}=i.measureText(t.textContent);h>0&&(a=`scaleX(${c*p(this,Fu)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Ds=new WeakSet,vb=function(e=null){let t=p(this,Pf).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),p(this,Pf).set(e,t),p(this,T0).set(t,{size:0,family:""})}return t},mF=function(e,t,r){const i=p(this,T0).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},P5=function(){if(p(this,Mu)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),U(this,Mu,e.getBoundingClientRect().height),e.remove()},Q5=function(e,t,r){const i=p(this,Wp).get(e);if(i)return i;const s=Q(this,Ds,vb).call(this,r);s.canvas.width=s.canvas.height=iH,Q(this,Ds,mF).call(this,s,iH,e);const a=s.measureText(""),A=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return A?c=A/(A+l):(Tr.platform.isFirefox&&et("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),p(this,Wp).set(e,c),c},P(Dn,Ds),P(Dn,Wp,new Map),P(Dn,Pf,new Map),P(Dn,T0,new WeakMap),P(Dn,Mu,null),P(Dn,jp,new Set),Dn);const Fae=100;function zS(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new vF,{docId:t}=e,r=n.url?kse(n.url):null,i=n.data?Ose(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,A=n.password??null,l=n.range instanceof ZD?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof Pg?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!yw(n.docBaseUrl)?n.docBaseUrl:null,v=lB(n.cMapUrl),b=n.cMapPacked!==!1,B=n.CMapReaderFactory||(Ci?$se:VO),S=lB(n.iccUrl),x=lB(n.standardFontDataUrl),_=n.StandardFontDataFactory||(Ci?Yse:zO),T=lB(n.wasmUrl),M=n.WasmFactory||(Ci?Xse:qO),F=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,L=n.isEvalSupported!==!1,K=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ci,O=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ci&&(Tr.platform.isFirefox||!globalThis.chrome),$=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,G=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ci,Y=n.fontExtraProperties===!0,J=n.enableXfa===!0,ne=n.ownerDocument||globalThis.document,fe=n.disableRange===!0,H=n.disableStream===!0,z=n.disableAutoFetch===!0,oe=n.pdfBug===!0,le=n.CanvasFactory||(Ci?qse:Gse),Ce=n.FilterFactory||(Ci?zse:Vse),V=n.enableHWA===!0,W=n.useWasm!==!1,ae=l?l.length:n.length??NaN,ue=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ci&&!G,we=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(B===VO&&_===zO&&M===qO&&v&&x&&T&&bv(v,document.baseURI)&&bv(x,document.baseURI)&&bv(T,document.baseURI)),ve=null;wse(h);const ye={canvasFactory:new le({ownerDocument:ne,enableHWA:V}),filterFactory:new Ce({docId:t,ownerDocument:ne}),cMapReaderFactory:we?null:new B({baseUrl:v,isCompressed:b}),standardFontDataFactory:we?null:new _({baseUrl:x}),wasmFactory:we?null:new M({baseUrl:T})};f||(f=Pg.create({verbosity:h,port:_s.workerPort}),e._worker=f);const rt={docId:t,apiVersion:"5.4.296",data:i,password:A,disableAutoFetch:z,rangeChunkSize:c,length:ae,docBaseUrl:g,enableXfa:J,evaluatorOptions:{maxImageSize:R,disableFontFace:G,ignoreErrors:F,isEvalSupported:L,isOffscreenCanvasSupported:K,isImageDecoderSupported:O,canvasMaxAreaInBytes:$,fontExtraProperties:Y,useSystemFonts:ue,useWasm:W,useWorkerFetch:we,cMapUrl:v,iccUrl:S,standardFontDataUrl:x,wasmUrl:T}},re={ownerDocument:ne,pdfBug:oe,styleElement:ve,loadingParams:{disableAutoFetch:z,enableXfa:J}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const be=f.messageHandler.sendWithPromise("GetDocRequest",rt,i?[i.buffer]:null);let ke;if(l)ke=new dae(l,{disableRange:fe,disableStream:H});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const he=bv(r)?mae:Ci?Tae:Bae;ke=new he({url:r,length:ae,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:fe,disableStream:H})}return be.then(he=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const He=new Iv(t,he,f.port),Ie=new Rae(He,e,ke,re,ye,V);e._transport=Ie,He.send("Ready",null)})}).catch(e._capability.reject),e}var ES;const SS=class SS{constructor(){me(this,"_capability",Promise.withResolvers());me(this,"_transport",null);me(this,"_worker",null);me(this,"docId",`d${nr(SS,ES)._++}`);me(this,"destroyed",!1);me(this,"onPassword",null);me(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};ES=new WeakMap,P(SS,ES,0);let vF=SS;var Qf,_0,I0,U0,F0,FV;let ZD=(FV=class{constructor(e,t,r=!1,i=null){P(this,Qf,Promise.withResolvers());P(this,_0,[]);P(this,I0,[]);P(this,U0,[]);P(this,F0,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){p(this,F0).push(e)}addProgressListener(e){p(this,U0).push(e)}addProgressiveReadListener(e){p(this,I0).push(e)}addProgressiveDoneListener(e){p(this,_0).push(e)}onDataRange(e,t){for(const r of p(this,F0))r(e,t)}onDataProgress(e,t){p(this,Qf).promise.then(()=>{for(const r of p(this,U0))r(e,t)})}onDataProgressiveRead(e){p(this,Qf).promise.then(()=>{for(const t of p(this,I0))t(e)})}onDataProgressiveDone(){p(this,Qf).promise.then(()=>{for(const e of p(this,_0))e()})}transportReady(){p(this,Qf).resolve()}requestDataRange(e,t){nn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Qf=new WeakMap,_0=new WeakMap,I0=new WeakMap,U0=new WeakMap,F0=new WeakMap,FV);class Mae{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return At(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var NA,Nf,Qv;class Dae{constructor(e,t,r,i=!1){P(this,Nf);P(this,NA,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new NO:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new M5,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new vw({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return At(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=No.ENABLE,transform:a=null,background:A=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:f=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:b=null}){var O,$,G;(O=this._stats)==null||O.time("Overall");const B=this._transport.getRenderingIntent(i,s,h,g),{renderingIntent:S,cacheKey:x}=B;U(this,NA,!1),l||(l=this._transport.getOptionalContentConfig(S));let _=this._intentStates.get(x);_||(_=Object.create(null),this._intentStates.set(x,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const T=!!(S&Es.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},($=this._stats)==null||$.time("Page Request"),this._pumpOperatorList(B));const M=!!(this._pdfBug&&((G=globalThis.StepperManager)!=null&&G.enabled)),F=!this.recordedBBoxes&&(v||M),R=Y=>{var J,ne;if(_.renderTasks.delete(L),F){const fe=(J=L.gfx)==null?void 0:J.dependencyTracker.take();fe&&(L.stepper&&L.stepper.setOperatorBBoxes(fe,L.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=fe))}T&&U(this,NA,!0),Q(this,Nf,Qv).call(this),Y?(L.capability.reject(Y),this._abortOperatorList({intentState:_,reason:Y instanceof Error?Y:new Error(Y)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ne=globalThis.Stats)!=null&&ne.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new yF({callback:R,params:{canvas:t,canvasContext:e,dependencyTracker:F?new jse(t,_.operatorList.length,M):null,viewport:r,transform:a,background:A},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:b});(_.renderTasks||(_.renderTasks=new Set)).add(L);const K=L.task;return Promise.all([_.displayReadyCapability.promise,l]).then(([Y,J])=>{var ne;if(this.destroyed){R();return}if((ne=this._stats)==null||ne.time("Rendering"),!(J.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:Y,optionalContentConfig:J}),L.operatorListChanged()}).catch(R),K}getOperatorList({intent:e="display",annotationMode:t=No.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){A.operatorList.lastChunk&&(A.opListReadCapability.resolve(A.operatorList),A.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let A=this._intentStates.get(a.cacheKey);A||(A=Object.create(null),this._intentStates.set(a.cacheKey,A));let l;return A.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,A.opListReadCapability=Promise.withResolvers(),(A.renderTasks||(A.renderTasks=new Set)).add(l),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),A.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>uy.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(A);return}A.lang??(A.lang=l.lang),Object.assign(A.styles,l.styles),A.items.push(...l.items),s()},i)}const a=t.getReader(),A={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),U(this,NA,!1),Promise.all(e)}cleanup(e=!1){U(this,NA,!0);const t=Q(this,Nf,Qv).call(this);return e&&t&&this._stats&&(this._stats=new NO),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&Q(this,Nf,Qv).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(t);c.streamReader=l;const f=()=>{l.read().then(({value:h,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),f())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const g of c.renderTasks)g.operatorListChanged();Q(this,Nf,Qv).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};f()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof KS){let i=Fae;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ul(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}NA=new WeakMap,Nf=new WeakSet,Qv=function(){if(!p(this,NA)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),U(this,NA,!1),!0};var Du,Qa,LA,Lf,xS,kf,Of,Ei,yb,N5,L5,Nv,Jp,wb;const gn=class gn{constructor({name:e=null,port:t=null,verbosity:r=Cse()}={}){P(this,Ei);P(this,Du,Promise.withResolvers());P(this,Qa,null);P(this,LA,null);P(this,Lf,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(p(gn,Of).has(t))throw new Error("Cannot use more than one PDFWorker per port.");p(gn,Of).set(t,this),Q(this,Ei,N5).call(this,t)}else Q(this,Ei,L5).call(this)}get promise(){return p(this,Du).promise}get port(){return p(this,LA)}get messageHandler(){return p(this,Qa)}destroy(){var e,t;this.destroyed=!0,(e=p(this,Lf))==null||e.terminate(),U(this,Lf,null),p(gn,Of).delete(p(this,LA)),U(this,LA,null),(t=p(this,Qa))==null||t.destroy(),U(this,Qa,null)}static create(e){const t=p(this,Of).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new gn(e)}static get workerSrc(){if(_s.workerSrc)return _s.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return At(this,"_setupFakeWorkerGlobal",(async()=>p(this,Jp,wb)?p(this,Jp,wb):(await import(this.workerSrc)).WorkerMessageHandler)())}};Du=new WeakMap,Qa=new WeakMap,LA=new WeakMap,Lf=new WeakMap,xS=new WeakMap,kf=new WeakMap,Of=new WeakMap,Ei=new WeakSet,yb=function(){p(this,Du).resolve(),p(this,Qa).send("configure",{verbosity:this.verbosity})},N5=function(e){U(this,LA,e),U(this,Qa,new Iv("main","worker",e)),p(this,Qa).on("ready",()=>{}),Q(this,Ei,yb).call(this)},L5=function(){if(p(gn,kf)||p(gn,Jp,wb)){Q(this,Ei,Nv).call(this);return}let{workerSrc:e}=gn;try{gn._isSameOrigin(window.location,e)||(e=gn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Iv("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?p(this,Du).reject(new Error("Worker was destroyed")):Q(this,Ei,Nv).call(this)},s=new AbortController;t.addEventListener("error",()=>{p(this,Lf)||i()},{signal:s.signal}),r.on("test",A=>{if(s.abort(),this.destroyed||!A){i();return}U(this,Qa,r),U(this,LA,t),U(this,Lf,t),Q(this,Ei,yb).call(this)}),r.on("ready",A=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{Q(this,Ei,Nv).call(this)}});const a=()=>{const A=new Uint8Array;r.send("test",A,[A.buffer])};a();return}catch{HS("The worker has been disabled.")}Q(this,Ei,Nv).call(this)},Nv=function(){p(gn,kf)||(et("Setting up fake worker."),U(gn,kf,!0)),gn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){p(this,Du).reject(new Error("Worker was destroyed"));return}const t=new Kse;U(this,LA,t);const r=`fake${nr(gn,xS)._++}`,i=new Iv(r+"_worker",r,t);e.setup(i,t),U(this,Qa,new Iv(r,r+"_worker",t)),Q(this,Ei,yb).call(this)}).catch(e=>{p(this,Du).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Jp=new WeakSet,wb=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},P(gn,Jp),P(gn,xS,0),P(gn,kf,!1),P(gn,Of,new WeakMap),Ci&&(U(gn,kf,!0),_s.workerSrc||(_s.workerSrc="./pdf.worker.mjs")),gn._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},gn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},gn.fromPort=e=>{if(Use("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return gn.create(e)};let Pg=gn;var kA,To,Zp,eg,OA,Hf,Lv;class Rae{constructor(e,t,r,i,s,a){P(this,Hf);P(this,kA,new Map);P(this,To,new Map);P(this,Zp,new Map);P(this,eg,new Map);P(this,OA,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new M5,this.fontLoader=new Nse({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return At(this,"annotationStorage",new WD)}getRenderingIntent(e,t=No.ENABLE,r=null,i=!1,s=!1){let a=Es.DISPLAY,A=nF;switch(e){case"any":a=Es.ANY;break;case"display":break;case"print":a=Es.PRINT;break;default:et(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Es.PRINT&&r instanceof p5?r:this.annotationStorage;switch(t){case No.DISABLE:a+=Es.ANNOTATIONS_DISABLE;break;case No.ENABLE:break;case No.ENABLE_FORMS:a+=Es.ANNOTATIONS_FORMS;break;case No.ENABLE_STORAGE:a+=Es.ANNOTATIONS_STORAGE,A=l.serializable;break;default:et(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Es.IS_EDITING),s&&(a+=Es.OPLIST);const{ids:c,hash:f}=l.modifiedIds,h=[a,A.hash,f];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:A,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=p(this,OA))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of p(this,To).values())e.push(i._destroy());p(this,To).clear(),p(this,Zp).clear(),p(this,eg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),p(this,kA).clear(),this.filterFactory.destroy(),dy.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new ul("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Ct(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Ct(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var A;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((A=t.onProgress)==null||A.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Ct(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:A}){if(A){i.close();return}Ct(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(A=>{if(!this.destroyed)throw A})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new Mae(r,this))}),e.on("DocException",r=>{t._capability.reject(Qi(r))}),e.on("PasswordRequest",r=>{U(this,OA,Promise.withResolvers());try{if(!t.onPassword)throw Qi(r);const i=s=>{s instanceof Error?p(this,OA).reject(s):p(this,OA).resolve({password:s})};t.onPassword(i,r.code)}catch(i){p(this,OA).reject(i)}return p(this,OA).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;p(this,To).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const h=s.error;et(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const A=new dF(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(h,g)=>globalThis.FontInspector.fontAdded(h,g):null,c=new Lse(A,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:f}=s;Ct(f,"The imageRef must be defined.");for(const h of p(this,To).values())for(const[,g]of h.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const A=p(this,To).get(i);if(!A.objs.has(r)){if(A._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":A.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&et("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=p(this,Zp).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&p(this,eg).set(s.refStr,e);const a=new Dae(t,s,this,this._params.pdfBug);return p(this,To).set(t,a),a});return p(this,Zp).set(t,i),i}getPageIndex(e){return rF(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return Q(this,Hf,Lv).call(this,"GetFieldObjects")}hasJSActions(){return Q(this,Hf,Lv).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return Q(this,Hf,Lv).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return Q(this,Hf,Lv).call(this,"GetOptionalContentConfig").then(t=>new fae(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=p(this,kA).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new uae(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return p(this,kA).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of p(this,To).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),p(this,kA).clear(),this.filterFactory.destroy(!0),dy.cleanup()}}cachedPageNumber(e){if(!rF(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return p(this,eg).get(t)??null}}kA=new WeakMap,To=new WeakMap,Zp=new WeakMap,eg=new WeakMap,OA=new WeakMap,Hf=new WeakSet,Lv=function(e,t=null){const r=p(this,kA).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return p(this,kA).set(e,i),i};var Ru;class Pae{constructor(e){P(this,Ru,null);me(this,"onContinue",null);me(this,"onError",null);U(this,Ru,e)}get promise(){return p(this,Ru).capability.promise}cancel(e=0){p(this,Ru).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=p(this,Ru).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=p(this,Ru);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ru=new WeakMap;var Pu,Kf;const Jc=class Jc{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:A,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:f=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:b=null}){P(this,Pu,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=A,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Pae(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(p(Jc,Kf).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");p(Jc,Kf).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,A=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new np(A,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),p(this,Pu)&&(window.cancelAnimationFrame(p(this,Pu)),U(this,Pu,null)),p(Jc,Kf).delete(this._canvas),e||(e=new KS(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?U(this,Pu,window.requestAnimationFrame(()=>{U(this,Pu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),p(Jc,Kf).delete(this._canvas),this.callback())))}};Pu=new WeakMap,Kf=new WeakMap,P(Jc,Kf,new WeakSet);let yF=Jc;const eR="5.4.296",k5="f56dc8601";var fs,Gf,tg,sr,M0,ng,HA,D0,Qu,Na,R0,Wt,wF,CF,BF,Vc,O5,nu;const Ni=class Ni{constructor({editor:e=null,uiManager:t=null}){P(this,Wt);P(this,fs,null);P(this,Gf,null);P(this,tg);P(this,sr,null);P(this,M0,!1);P(this,ng,!1);P(this,HA,null);P(this,D0);P(this,Qu,null);P(this,Na,null);var r,i;e?(U(this,ng,!1),U(this,HA,e)):U(this,ng,!0),U(this,Na,(e==null?void 0:e._uiManager)||t),U(this,D0,p(this,Na)._eventBus),U(this,tg,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=p(this,Na))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),p(Ni,R0)||U(Ni,R0,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return At(this,"_keyboardManager",new ww([[["Escape","mac+Escape"],Ni.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ni.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ni.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ni.prototype._moveToPrevious],[["Home","mac+Home"],Ni.prototype._moveToBeginning],[["End","mac+End"],Ni.prototype._moveToEnd]]))}renderButton(){const e=U(this,fs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",p(this,HA)&&(e.ariaControls=`${p(this,HA).id}_colorpicker_dropdown`);const t=p(this,Na)._signal;e.addEventListener("click",Q(this,Wt,Vc).bind(this),{signal:t}),e.addEventListener("keydown",Q(this,Wt,BF).bind(this),{signal:t});const r=U(this,Gf,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=p(this,tg),e.append(r),e}renderMainDropdown(){const e=U(this,sr,Q(this,Wt,wF).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===p(this,fs)){Q(this,Wt,Vc).call(this,e);return}const t=e.target.getAttribute("data-color");t&&Q(this,Wt,CF).call(this,t,e)}_moveToNext(e){var t,r;if(!p(this,Wt,nu)){Q(this,Wt,Vc).call(this,e);return}if(e.target===p(this,fs)){(t=p(this,sr).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=p(this,sr))==null?void 0:t.firstChild)||e.target===p(this,fs)){p(this,Wt,nu)&&this._hideDropdownFromKeyboard();return}p(this,Wt,nu)||Q(this,Wt,Vc).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!p(this,Wt,nu)){Q(this,Wt,Vc).call(this,e);return}(t=p(this,sr).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!p(this,Wt,nu)){Q(this,Wt,Vc).call(this,e);return}(t=p(this,sr).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=p(this,sr))==null||e.classList.add("hidden"),p(this,fs).ariaExpanded="false",(t=p(this,Qu))==null||t.abort(),U(this,Qu,null)}_hideDropdownFromKeyboard(){var e;if(!p(this,ng)){if(!p(this,Wt,nu)){(e=p(this,HA))==null||e.unselect();return}this.hideDropdown(),p(this,fs).focus({preventScroll:!0,focusVisible:p(this,M0)})}}updateColor(e){if(p(this,Gf)&&(p(this,Gf).style.backgroundColor=e),!p(this,sr))return;const t=p(this,Na).highlightColors.values();for(const r of p(this,sr).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=p(this,fs))==null||e.remove(),U(this,fs,null),U(this,Gf,null),(t=p(this,sr))==null||t.remove(),U(this,sr,null)}};fs=new WeakMap,Gf=new WeakMap,tg=new WeakMap,sr=new WeakMap,M0=new WeakMap,ng=new WeakMap,HA=new WeakMap,D0=new WeakMap,Qu=new WeakMap,Na=new WeakMap,R0=new WeakMap,Wt=new WeakSet,wF=function(){const e=document.createElement("div"),t=p(this,Na)._signal;e.addEventListener("contextmenu",Rs,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),p(this,HA)&&(e.id=`${p(this,HA).id}_colorpicker_dropdown`);for(const[r,i]of p(this,Na).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",p(Ni,R0)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===p(this,tg),s.addEventListener("click",Q(this,Wt,CF).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",Q(this,Wt,BF).bind(this),{signal:t}),e},CF=function(e,t){t.stopPropagation(),p(this,D0).dispatch("switchannotationeditorparams",{source:this,type:yt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},BF=function(e){Ni._keyboardManager.exec(this,e)},Vc=function(e){if(p(this,Wt,nu)){this.hideDropdown();return}if(U(this,M0,e.detail===0),p(this,Qu)||(U(this,Qu,new AbortController),window.addEventListener("pointerdown",Q(this,Wt,O5).bind(this),{signal:p(this,Na).combinedSignal(p(this,Qu))})),p(this,fs).ariaExpanded="true",p(this,sr)){p(this,sr).classList.remove("hidden");return}const t=U(this,sr,Q(this,Wt,wF).call(this));p(this,fs).append(t)},O5=function(e){var t;(t=p(this,sr))!=null&&t.contains(e.target)||this.hideDropdown()},nu=function(){return p(this,sr)&&!p(this,sr).classList.contains("hidden")},P(Ni,R0,null);let hy=Ni;var _o,P0,rg,Q0;const Zc=class Zc{constructor(e){P(this,_o,null);P(this,P0,null);P(this,rg,null);U(this,P0,e),U(this,rg,e._uiManager),p(Zc,Q0)||U(Zc,Q0,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(p(this,_o))return p(this,_o);const{editorType:e,colorType:t,colorValue:r}=p(this,P0),i=U(this,_o,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",p(Zc,Q0)[e]),i.addEventListener("input",()=>{p(this,rg).updateParams(t,i.value)},{signal:p(this,rg)._signal}),i}update(e){p(this,_o)&&(p(this,_o).value=e)}destroy(){var e;(e=p(this,_o))==null||e.remove(),U(this,_o,null)}hideDropdown(){}};_o=new WeakMap,P0=new WeakMap,rg=new WeakMap,Q0=new WeakMap,P(Zc,Q0,null);let uE=Zc;function sH(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Av(n){return Math.max(0,Math.min(255,255*n))}class aH{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Av(e),[e,e,e]}static G_HTML([e]){const t=sH(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Av)}static RGB_HTML(e){return`#${e.map(sH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Av(1-Math.min(1,e+i)),Av(1-Math.min(1,r+i)),Av(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,A=Math.min(i,s,a);return["CMYK",i,s,a,A]}}class Qae{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){nn("Abstract method `_createSVG` called.")}}class py extends Qae{_createSVG(e){return document.createElementNS(dA,e)}}const Nae=9,Bd=new WeakSet,Lae=new Date().getTimezoneOffset()*60*1e3;class oH{static create(e){switch(e.data.annotationType){case Ln.LINK:return new tR(e);case Ln.TEXT:return new Oae(e);case Ln.WIDGET:switch(e.data.fieldType){case"Tx":return new Hae(e);case"Btn":return e.data.radioButton?new G5(e):e.data.checkBox?new Gae(e):new Vae(e);case"Ch":return new zae(e);case"Sig":return new Kae(e)}return new Md(e);case Ln.POPUP:return new EF(e);case Ln.FREETEXT:return new Y5(e);case Ln.LINE:return new $ae(e);case Ln.SQUARE:return new Yae(e);case Ln.CIRCLE:return new Xae(e);case Ln.POLYLINE:return new X5(e);case Ln.CARET:return new jae(e);case Ln.INK:return new nR(e);case Ln.POLYGON:return new Wae(e);case Ln.HIGHLIGHT:return new W5(e);case Ln.UNDERLINE:return new Jae(e);case Ln.SQUIGGLY:return new Zae(e);case Ln.STRIKEOUT:return new eoe(e);case Ln.STAMP:return new j5(e);case Ln.FILEATTACHMENT:return new toe(e);default:return new Tn(e)}}}var Vf,ig,Aa,N0,bF;const WP=class WP{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){P(this,N0);P(this,Vf,null);P(this,ig,!1);P(this,Aa,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return WP._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var A;const e=(A=this.annotationStorage)==null?void 0:A.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let c=0,f=l.length;c<f;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var t,r,i;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${Ay}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${Ay}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=p(this,Aa))==null?void 0:e.popup)||this.popup)==null||t.remove(),U(this,Aa,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(p(this,Vf)||U(this,Vf,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&Q(this,N0,bF).call(this,t);let i=((s=p(this,Aa))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=p(this,Aa).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),U(this,Aa,null),this.popup=null))}resetEdited(){var e;p(this,Vf)&&(Q(this,N0,bF).call(this,p(this,Vf).rect),(e=p(this,Aa))==null||e.popup.resetEdited(),U(this,Vf,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Md)&&!(this instanceof tR)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof EF){const{rotation:B}=t;return!t.hasOwnCanvas&&B!==0&&this.setRotation(B,s),s}const{width:A,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const B=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(B>0||S>0){const _=`calc(${B}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;a.borderRadius=_}else if(this instanceof G5){const _=`calc(${A}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=_}switch(t.borderStyle.style){case Dh.SOLID:a.borderStyle="solid";break;case Dh.DASHED:a.borderStyle="dashed";break;case Dh.BEVELED:et("Unimplemented border style: beveled");break;case Dh.INSET:et("Unimplemented border style: inset");break;case Dh.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(U(this,ig,!0),a.borderColor=Me.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const c=Me.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:f,pageHeight:h,pageX:g,pageY:v}=i.rawDims;a.left=`${100*(c[0]-g)/f}%`,a.top=`${100*(c[1]-v)/h}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*A/f}%`,a.height=`${100*l/h}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],A=s.slice(1);i.target.style[r]=aH[`${a}_HTML`](A),this.annotationStorage.setValue(this.data.id,{[r]:aH[`${a}_rgb`](A)})};return At(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const A={detail:{[i]:s},target:e};a(A),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(B=>Math.fround(B));if(e.length===8){const[B,S,x,_]=e.subarray(2,6);if(i===B&&s===S&&t===x&&r===_)return}const{style:a}=this.container;let A;if(p(this,ig)){const{borderColor:B,borderWidth:S}=a;a.borderWidth=0,A=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${B}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:f}=this,h=f.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=f.createElement("defs");h.append(g);const v=f.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let B=2,S=e.length;B<S;B+=8){const x=e[B],_=e[B+1],T=e[B+2],M=e[B+3],F=f.createElement("rect"),R=(T-t)/l,L=(s-_)/c,K=(x-T)/l,O=(_-M)/c;F.setAttribute("x",R),F.setAttribute("y",L),F.setAttribute("width",K),F.setAttribute("height",O),v.append(F),A==null||A.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${L}" width="${K}" height="${O}"/>`)}p(this,ig)&&(A.push("</g></svg>')"),a.backgroundImage=A.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate);const s=U(this,Aa,new EF({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(p(this,Aa)||this.popup||this.data.popupRef)}get extraPopupElement(){return p(this,Aa)}render(){nn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:A}of i){if(s===-1||a===t)continue;const l=typeof A=="string"?A:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Bd.has(c)){et(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&Bd.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Vf=new WeakMap,ig=new WeakMap,Aa=new WeakMap,N0=new WeakSet,bF=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:A,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-A)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Tn=WP;class kae extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Ts,zc,H5,K5;class tR extends Tn{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});P(this,Ts);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(Q(this,Ts,H5).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(Q(this,Ts,K5).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&Q(this,Ts,zc).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),Q(this,Ts,zc).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var A;return(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),Q(this,Ts,zc).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),Q(this,Ts,zc).call(this),!this._fieldObjects){et('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:a,include:A}=r,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const b=this._fieldObjects[v]||[];for(const{id:B}of b)g.add(B)}for(const v of Object.values(this._fieldObjects))for(const b of v)g.has(b.id)===A&&l.push(b)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const c=this.annotationStorage,f=[];for(const g of l){const{id:v}=g;switch(f.push(v),g.type){case"text":{const B=g.defaultValue||"";c.setValue(v,{value:B});break}case"checkbox":case"radiobutton":{const B=g.defaultValue===g.exportValues;c.setValue(v,{value:B});break}case"combobox":case"listbox":{const B=g.defaultValue||"";c.setValue(v,{value:B});break}default:continue}const b=document.querySelector(`[data-element-id="${v}"]`);if(b){if(!Bd.has(b)){et(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}Ts=new WeakSet,zc=function(){this.container.setAttribute("data-internal-link","")},H5=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},Q(this,Ts,zc).call(this)},K5=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),Q(this,Ts,zc).call(this)};class Oae extends Tn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Md extends Tn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Tr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var A;(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var A;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,A;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((A=this.data.actions)!=null&&A.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Me.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Nae,s=e.style;let a;const A=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-A),f=Math.round(c/(f_*i))||1,h=c/f;a=Math.min(i,l(h/f_))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-A);a=Math.min(i,l(c/f_))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Me.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Hae extends Md{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let A=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&A.length>l&&(A=A.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const f={userValue:A,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??A,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??A),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Bd.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,b=!!g&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",S=>{e.setValue(t,{value:S.target.value}),this.setPropertyOnSiblings(r,"value",S.target.value,"value"),f.formattedValue=null}),r.addEventListener("resetform",S=>{const x=this.data.defaultFieldValue??"";r.value=f.userValue=x,f.formattedValue=null});let B=S=>{const{formattedValue:x}=f;x!=null&&(S.target.value=x),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",x=>{var T;if(f.focused)return;const{target:_}=x;if(b&&(_.type=g,v&&(_.step=v)),f.userValue){const M=f.userValue;if(b)if(g==="time"){const F=new Date(M),R=[F.getHours(),F.getMinutes(),F.getSeconds()];_.value=R.map(L=>L.toString().padStart(2,"0")).join(":")}else _.value=new Date(M-Lae).toISOString().split(g==="date"?"T":".",1)[0];else _.value=M}f.lastCommittedValue=_.value,f.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(f.focused=!0)}),r.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const _={value(T){f.userValue=T.detail.value??"",b||e.setValue(t,{value:f.userValue.toString()}),T.target.value=f.userValue},formattedValue(T){const{formattedValue:M}=T.detail;f.formattedValue=M,M!=null&&T.target!==document.activeElement&&(T.target.value=M);const F={formattedValue:M};b&&(F.value=M),e.setValue(t,F)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var L;const{charLimit:M}=T.detail,{target:F}=T;if(M===0){F.removeAttribute("maxLength");return}F.setAttribute("maxLength",M);let R=f.userValue;!R||R.length<=M||(R=R.slice(0,M),F.value=f.userValue=R,e.setValue(t,{value:R}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:F.selectionStart,selEnd:F.selectionEnd}}))}};this._dispatchEventFromSandbox(_,x)}),r.addEventListener("keydown",x=>{var M;f.commitKey=1;let _=-1;if(x.key==="Escape"?_=0:x.key==="Enter"&&!this.data.multiLine?_=2:x.key==="Tab"&&(f.commitKey=3),_===-1)return;const{value:T}=x.target;f.lastCommittedValue!==T&&(f.lastCommittedValue=T,f.userValue=T,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:_,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const S=B;B=null,r.addEventListener("blur",x=>{var M,F;if(!f.focused||!x.relatedTarget)return;(M=this.data.actions)!=null&&M.Blur||(f.focused=!1);const{target:_}=x;let{value:T}=_;if(b){if(T&&g==="time"){const R=T.split(":").map(L=>parseInt(L,10));T=new Date(2e3,0,1,R[0],R[1],R[2]||0).valueOf(),_.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();_.type="text"}f.userValue=T,f.lastCommittedValue!==T&&((F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:f.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),S(x)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",x=>{var O;f.lastCommittedValue=null;const{data:_,target:T}=x,{value:M,selectionStart:F,selectionEnd:R}=T;let L=F,K=R;switch(x.inputType){case"deleteWordBackward":{const $=M.substring(0,F).match(/\w*[^\w]*$/);$&&(L-=$[0].length);break}case"deleteWordForward":{const $=M.substring(F).match(/^[^\w]*\w*/);$&&(K+=$[0].length);break}case"deleteContentBackward":F===R&&(L-=1);break;case"deleteContentForward":F===R&&(K+=1);break}x.preventDefault(),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:M,change:_||"",willCommit:!1,selStart:L,selEnd:K}})}),this._setEventListeners(r,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(B&&r.addEventListener("blur",B),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Kae extends Md{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Gae extends Md{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Bd.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:A,checked:l}=a.target;for(const c of this._getElementsByName(A,r)){const f=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=f),e.setValue(c.id,{value:f})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const A=t.defaultFieldValue||"Off";a.target.checked=A===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const A={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(A,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class G5 extends Md{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Bd.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:A,checked:l}=a.target;for(const c of this._getElementsByName(A,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const A=t.defaultFieldValue;a.target.checked=A!=null&&A===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",A=>{const l={value:c=>{const f=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const g=f&&h.id===r;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,A)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Vae extends tR{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class zae extends Md{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Bd.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const h=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===h});for(const f of this.data.options){const h=document.createElement("option");h.textContent=f.displayValue,h.value=f.exportValue,r.value.includes(f.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),a=()=>{f.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const A=f=>{const h=f?"value":"textContent",{options:g,multiple:v}=i;return v?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=A(!1);const c=f=>{const h=f.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const h={value(g){a==null||a();const v=g.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const B of i.options)B.selected=b.has(B.value);e.setValue(t,{value:A(!0)}),l=A(!1)},multipleSelection(g){i.multiple=!0},remove(g){const v=i.options,b=g.detail.remove;v[b].selected=!1,i.remove(b),v.length>0&&Array.prototype.findIndex.call(v,S=>S.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:A(!0),items:c(g)}),l=A(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=A(!1)},insert(g){const{index:v,displayValue:b,exportValue:B}=g.detail.insert,S=i.children[v],x=document.createElement("option");x.textContent=b,x.value=B,S?S.before(x):i.append(x),e.setValue(t,{value:A(!0),items:c(g)}),l=A(!1)},items(g){const{items:v}=g.detail;for(;i.length!==0;)i.remove(0);for(const b of v){const{displayValue:B,exportValue:S}=b,x=document.createElement("option");x.textContent=B,x.value=S,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:A(!0),items:c(g)}),l=A(!1)},indices(g){const v=new Set(g.detail.indices);for(const b of g.target.options)b.selected=v.has(b.index);e.setValue(t,{value:A(!0)}),l=A(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,f)}),i.addEventListener("input",f=>{var v;const h=A(!0),g=A(!1);e.setValue(t,{value:h}),f.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(t,{value:A(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var L0,SF;class EF extends Tn{constructor(t){const{data:r,elements:i,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Tn._hasPopupData(r)});P(this,L0);if(this.elements=i,a&&Tn._hasPopupData(r)){const A=this.popup=Q(this,L0,SF).call(this);for(const l of i)l.popup=A}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=Q(this,L0,SF).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${$D}${s}`).join(",")),this.container}}L0=new WeakSet,SF=function(){return new qae({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var ds,Nu,TS,_S,sg,ag,Mn,Io,Lu,zf,og,Ag,Uo,hs,KA,GA,wr,VA,ku,k0,zA,lg,qf,Ou,ri,Hu,ut,Cb,xF,TF,_F,Bb,IF,V5,z5,q5,$5,bb,Eb,UF;class qae{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:A,parent:l,rect:c,parentRect:f,open:h,commentManager:g=null}){P(this,ut);P(this,ds,null);P(this,Nu,Q(this,ut,q5).bind(this));P(this,TS,Q(this,ut,UF).bind(this));P(this,_S,Q(this,ut,Eb).bind(this));P(this,sg,Q(this,ut,bb).bind(this));P(this,ag,null);P(this,Mn,null);P(this,Io,null);P(this,Lu,null);P(this,zf,null);P(this,og,null);P(this,Ag,null);P(this,Uo,!1);P(this,hs,null);P(this,KA,null);P(this,GA,null);P(this,wr,null);P(this,VA,null);P(this,ku,null);P(this,k0,null);P(this,zA,null);P(this,lg,null);P(this,qf,null);P(this,Ou,!1);P(this,ri,null);P(this,Hu,null);U(this,Mn,e),U(this,lg,i),U(this,Io,a),U(this,zA,A),U(this,og,l),U(this,ag,t),U(this,k0,c),U(this,Ag,f),U(this,zf,r),U(this,ds,g),U(this,ri,r[0]),U(this,Lu,cy.toDateObject(s)),this.trigger=r.flatMap(v=>v.getElementsToTriggerPopup()),g?this.renderCommentButton():(Q(this,ut,Cb).call(this),p(this,Mn).hidden=!0,h&&Q(this,ut,bb).call(this))}renderCommentButton(){if(p(this,wr)||(p(this,VA)||Q(this,ut,xF).call(this),!p(this,VA)))return;const{signal:e}=U(this,KA,new AbortController),t=!!p(this,ri).extraPopupElement,r=()=>{p(this,ds).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{p(this,ds).toggleCommentPopup(this,!1,!0,!t)},s=()=>{p(this,ds).toggleCommentPopup(this,!1,!1)};if(t){U(this,wr,p(this,ri).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",p(this,Nu),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=U(this,wr,document.createElement("button"));a.className="annotationCommentButton";const A=p(this,ri).container;a.style.zIndex=A.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),Q(this,ut,_F).call(this),Q(this,ut,TF).call(this),a.addEventListener("keydown",p(this,Nu),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),A.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=p(this,ri).commentData;return e?p(this,og)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=p(this,wr))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=p(this,ri).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return p(this,wr)}get comment(){return p(this,Hu)||U(this,Hu,p(this,ri).commentText),p(this,Hu)}set comment(e){e!==this.comment&&(p(this,ri).commentText=U(this,Hu,e))}get parentBoundingClientRect(){return p(this,ri).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){p(this,wr)&&(p(this,wr).classList.toggle("selected",e),p(this,wr).ariaExpanded=t)}setSelectedCommentButton(e){p(this,wr).classList.toggle("selected",e)}get commentPopupPosition(){if(p(this,ku))return p(this,ku);const{x:e,y:t,height:r}=p(this,wr).getBoundingClientRect(),{x:i,y:s,width:a,height:A}=p(this,ri).layer.getBoundingClientRect();return[(e-i)/a,(t+r-s)/A]}set commentPopupPosition(e){U(this,ku,e)}hasDefaultPopupPosition(){return p(this,ku)===null}get commentButtonPosition(){return p(this,VA)}get commentButtonWidth(){return p(this,wr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=p(this,ku)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:A,height:l}=i;p(this,ds).showDialog(null,this,s+t*A,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(p(this,hs))return;const e=U(this,hs,document.createElement("div"));if(e.className="popup",p(this,ag)){const s=e.style.outlineColor=Me.makeHexColor(...p(this,ag));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=p(this,lg))!=null&&r.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=p(this,lg)}if(e.append(t),p(this,Lu)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(this,Lu).valueOf()})),s.dateTime=p(this,Lu).toISOString(),t.append(s)}XD({html:p(this,ut,Bb)||p(this,Io).str,dir:(i=p(this,Io))==null?void 0:i.dir,className:"popupContent"},e),p(this,Mn).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var i;if(p(this,ds)){r?(this.remove(),U(this,Hu,null)):t&&(t.deleted?this.remove():(Q(this,ut,_F).call(this),U(this,Hu,t.text))),e&&(U(this,VA,null),Q(this,ut,xF).call(this),Q(this,ut,TF).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}Q(this,ut,Cb).call(this),p(this,qf)||U(this,qf,{contentsObj:p(this,Io),richText:p(this,zA)}),e&&U(this,GA,null),t&&t.text&&(U(this,zA,Q(this,ut,z5).call(this,t.text)),U(this,Lu,cy.toDateObject(t.date)),U(this,Io,null)),(i=p(this,hs))==null||i.remove(),U(this,hs,null)}resetEdited(){var e;p(this,qf)&&({contentsObj:nr(this,Io)._,richText:nr(this,zA)._}=p(this,qf),U(this,qf,null),(e=p(this,hs))==null||e.remove(),U(this,hs,null),U(this,GA,null))}remove(){var e,t,r;if((e=p(this,KA))==null||e.abort(),U(this,KA,null),(t=p(this,hs))==null||t.remove(),U(this,hs,null),U(this,Ou,!1),U(this,Uo,!1),(r=p(this,wr))==null||r.remove(),U(this,wr,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){U(this,Ou,this.isVisible),p(this,Ou)&&(p(this,Mn).hidden=!0)}maybeShow(){p(this,ds)||(Q(this,ut,Cb).call(this),p(this,Ou)&&(p(this,hs)||Q(this,ut,Eb).call(this),U(this,Ou,!1),p(this,Mn).hidden=!1))}get isVisible(){return p(this,ds)?!1:p(this,Mn).hidden===!1}}ds=new WeakMap,Nu=new WeakMap,TS=new WeakMap,_S=new WeakMap,sg=new WeakMap,ag=new WeakMap,Mn=new WeakMap,Io=new WeakMap,Lu=new WeakMap,zf=new WeakMap,og=new WeakMap,Ag=new WeakMap,Uo=new WeakMap,hs=new WeakMap,KA=new WeakMap,GA=new WeakMap,wr=new WeakMap,VA=new WeakMap,ku=new WeakMap,k0=new WeakMap,zA=new WeakMap,lg=new WeakMap,qf=new WeakMap,Ou=new WeakMap,ri=new WeakMap,Hu=new WeakMap,ut=new WeakSet,Cb=function(){var t;if(p(this,KA))return;U(this,KA,new AbortController);const{signal:e}=p(this,KA);for(const r of this.trigger)r.addEventListener("click",p(this,sg),{signal:e}),r.addEventListener("pointerenter",p(this,_S),{signal:e}),r.addEventListener("pointerleave",p(this,TS),{signal:e}),r.classList.add("popupTriggerArea");for(const r of p(this,zf))(t=r.container)==null||t.addEventListener("keydown",p(this,Nu),{signal:e})},xF=function(){const e=p(this,zf).find(t=>t.hasCommentButton);e&&U(this,VA,e._normalizePoint(e.commentButtonPosition))},TF=function(){if(p(this,ri).extraPopupElement&&!p(this,ri).editor)return;this.renderCommentButton();const[e,t]=p(this,VA),{style:r}=p(this,wr);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},_F=function(){p(this,ri).extraPopupElement||(this.renderCommentButton(),p(this,wr).style.backgroundColor=this.commentButtonColor||"")},Bb=function(){const e=p(this,zA),t=p(this,Io);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&p(this,zA).html||null},IF=function(){var e,t,r;return((r=(t=(e=p(this,ut,Bb))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},V5=function(){var e,t,r;return((r=(t=(e=p(this,ut,Bb))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},z5=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:p(this,ut,V5),fontSize:p(this,ut,IF)?`calc(${p(this,ut,IF)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},q5=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&p(this,Uo))&&Q(this,ut,bb).call(this)},$5=function(){if(p(this,GA)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=p(this,og);let a=!!p(this,Ag),A=a?p(this,Ag):p(this,k0);for(const b of p(this,zf))if(!A||Me.intersect(b.data.rect,A)!==null){A=b.data.rect,a=!0;break}const l=Me.normalizeRect([A[0],e[3]-A[1]+e[1],A[2],e[3]-A[3]+e[1]]),f=a?A[2]-A[0]+5:0,h=l[0]+f,g=l[1];U(this,GA,[100*(h-i)/t,100*(g-s)/r]);const{style:v}=p(this,Mn);v.left=`${p(this,GA)[0]}%`,v.top=`${p(this,GA)[1]}%`},bb=function(){if(p(this,ds)){p(this,ds).toggleCommentPopup(this,!1);return}U(this,Uo,!p(this,Uo)),p(this,Uo)?(Q(this,ut,Eb).call(this),p(this,Mn).addEventListener("click",p(this,sg)),p(this,Mn).addEventListener("keydown",p(this,Nu))):(Q(this,ut,UF).call(this),p(this,Mn).removeEventListener("click",p(this,sg)),p(this,Mn).removeEventListener("keydown",p(this,Nu)))},Eb=function(){p(this,hs)||this.render(),this.isVisible?p(this,Uo)&&p(this,Mn).classList.add("focused"):(Q(this,ut,$5).call(this),p(this,Mn).hidden=!1,p(this,Mn).style.zIndex=parseInt(p(this,Mn).style.zIndex)+1e3)},UF=function(){p(this,Mn).classList.remove("focused"),!(p(this,Uo)||!this.isVisible)&&(p(this,Mn).hidden=!0,p(this,Mn).style.zIndex=parseInt(p(this,Mn).style.zIndex)-1e3)};class Y5 extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ze.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var O0;class $ae extends Tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,O0,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=U(this,O0,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,O0)}addHighlightArea(){this.container.classList.add("highlightArea")}}O0=new WeakMap;var H0;class Yae extends Tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,H0,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,A=U(this,H0,this.svgFactory.createElement("svg:rect"));return A.setAttribute("x",a/2),A.setAttribute("y",a/2),A.setAttribute("width",r-a),A.setAttribute("height",i-a),A.setAttribute("stroke-width",a||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),s.append(A),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,H0)}addHighlightArea(){this.container.classList.add("highlightArea")}}H0=new WeakMap;var K0;class Xae extends Tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,K0,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,A=U(this,K0,this.svgFactory.createElement("svg:ellipse"));return A.setAttribute("cx",r/2),A.setAttribute("cy",i/2),A.setAttribute("rx",r/2-a/2),A.setAttribute("ry",i/2-a/2),A.setAttribute("stroke-width",a||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),s.append(A),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,K0)}addHighlightArea(){this.container.classList.add("highlightArea")}}K0=new WeakMap;var G0;class X5 extends Tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,G0,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:a,height:A}=this;if(!r)return this.container;const l=this.svgFactory.create(a,A,!0);let c=[];for(let h=0,g=r.length;h<g;h+=2){const v=r[h]-t[0],b=t[3]-r[h+1];c.push(`${v},${b}`)}c=c.join(" ");const f=U(this,G0,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",c),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),l.append(f),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return p(this,G0)}addHighlightArea(){this.container.classList.add("highlightArea")}}G0=new WeakMap;class Wae extends X5{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class jae extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var V0,$f,z0,FF;class nR extends Tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,z0);P(this,V0,null);P(this,$f,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ze.HIGHLIGHT:Ze.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:A,width:l,height:c}=Q(this,z0,FF).call(this,r,t),f=this.svgFactory.create(l,c,!0),h=U(this,V0,this.svgFactory.createElement("svg:g"));f.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",A);for(let g=0,v=i.length;g<v;g++){const b=this.svgFactory.createElement(this.svgElementName);p(this,$f).push(b),b.setAttribute("points",i[g].join(",")),h.append(b)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=p(this,V0);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let A=0,l=p(this,$f).length;A<l;A++)p(this,$f)[A].setAttribute("points",i[A].join(","));if(s){const{transform:A,width:l,height:c}=Q(this,z0,FF).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",A)}}getElementsToTriggerPopup(){return p(this,$f)}addHighlightArea(){this.container.classList.add("highlightArea")}}V0=new WeakMap,$f=new WeakMap,z0=new WeakSet,FF=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class W5 extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ze.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Jae extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Zae extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class eoe extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class j5 extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ze.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var q0,$0,MF;class toe extends Tn{constructor(t){var i;super(t,{isRenderable:!0});P(this,$0);P(this,q0,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",Q(this,$0,MF).bind(this)),U(this,q0,i);const{isMac:s}=Tr.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&Q(this,$0,MF).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return p(this,q0)}addHighlightArea(){this.container.classList.add("highlightArea")}}q0=new WeakMap,$0=new WeakSet,MF=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var ug,Yf,cg,Ku,Y0,Xf,mc,DF,RF,fg;let rR=(fg=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:A,commentManager:l,linkService:c,annotationStorage:f}){P(this,mc);P(this,ug,null);P(this,Yf,null);P(this,cg,null);P(this,Ku,new Map);P(this,Y0,null);P(this,Xf,null);this.div=e,U(this,ug,t),U(this,Yf,r),U(this,Y0,A||null),U(this,Xf,c||null),U(this,cg,f||new WD),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return p(this,Ku).size>0}async render(e){var a,A,l;const{annotations:t}=e,r=this.div;uc(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:p(this,Xf),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new py,annotationStorage:p(this,cg),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const f=c.annotationType===Ln.POPUP;if(f){const v=i.get(c.id);if(!v)continue;s.elements=v}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;s.data=c;const h=oH.create(s);if(!h.isRenderable)continue;if(!f&&c.popupRef){const v=i.get(c.popupRef);v?v.push(h):i.set(c.popupRef,[h])}const g=h.render();c.hidden&&(g.style.visibility="hidden"),await Q(this,mc,DF).call(this,g,c.id,s.elements),(A=(a=h.extraPopupElement)==null?void 0:a.popup)==null||A.renderCommentButton(),h._isEditable&&(p(this,Ku).set(h.data.id,h),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(h))}Q(this,mc,RF).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:p(this,Xf),svgFactory:new py,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=fg._defaultBorderStyle),t.data=r;const i=oH.create(t);if(!i.isRenderable)continue;const s=i.render();await Q(this,mc,DF).call(this,s,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,uc(t,{rotation:e.rotation}),Q(this,mc,RF).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(p(this,Ku).values())}getEditableAnnotation(e){return p(this,Ku).get(e)}addFakeAnnotation(e){var A;const{div:t}=this,{id:r,rotation:i}=e,s=new kae({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:p(this,Xf),annotationStorage:p(this,cg)}),a=s.render();return t.append(a),(A=p(this,ug))==null||A.moveElementInDOM(t,a,a,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return At(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Dh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},ug=new WeakMap,Yf=new WeakMap,cg=new WeakMap,Ku=new WeakMap,Y0=new WeakMap,Xf=new WeakMap,mc=new WeakSet,DF=async function(e,t,r){var A,l;const i=e.firstChild||e,s=i.id=`${$D}${t}`,a=await((A=p(this,Y0))==null?void 0:A.getAriaAttributes(s));if(a)for(const[c,f]of a)i.setAttribute(c,f);r?r.at(-1).container.after(e):(this.div.append(e),(l=p(this,ug))==null||l.moveElementInDOM(this.div,e,i,!1))},RF=function(){var t;if(!p(this,Yf))return;const e=this.div;for(const[r,i]of p(this,Yf)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const A=p(this,Ku).get(r);A&&(A._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),A._hasNoCanvas=!1):A.canvas=i)}p(this,Yf).clear()},fg);const pB=/\r\n?|\n/g;var ps,X0,Wf,gs,er,J5,Z5,e8,Sb,ol,xb,Tb,t8,QF,n8;const cn=class cn extends An{constructor(t){super({...t,name:"freeTextEditor"});P(this,er);P(this,ps,"");P(this,X0,`${this.id}-editor`);P(this,Wf,null);P(this,gs);me(this,"_colorPicker",null);this.color=t.color||cn._defaultColor||An._defaultLineColor,U(this,gs,t.fontSize||cn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=cn.prototype,r=a=>a.isEmpty(),i=cc.TRANSLATE_SMALL,s=cc.TRANSLATE_BIG;return At(this,"_keyboardManager",new ww([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){An.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case yt.FREETEXT_SIZE:cn._defaultFontSize=r;break;case yt.FREETEXT_COLOR:cn._defaultColor=r;break}}updateParams(t,r){switch(t){case yt.FREETEXT_SIZE:Q(this,er,J5).call(this,r);break;case yt.FREETEXT_COLOR:Q(this,er,Z5).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[yt.FREETEXT_SIZE,cn._defaultFontSize],[yt.FREETEXT_COLOR,cn._defaultColor||An._defaultLineColor]]}get propertiesToUpdate(){return[[yt.FREETEXT_SIZE,p(this,gs)],[yt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new uE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return yt.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-cn._internalPadding*t,-(cn._internalPadding+p(this,gs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),U(this,Wf,new AbortController);const t=this._uiManager.combinedSignal(p(this,Wf));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(this,X0)),this._isDraggable=!0,(t=p(this,Wf))==null||t.abort(),U(this,Wf,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=p(this,ps),r=U(this,ps,Q(this,er,e8).call(this).trimEnd());if(t===r)return;const i=s=>{if(U(this,ps,s),!s){this.remove();return}Q(this,er,Tb).call(this),this._uiManager.rebuild(this),Q(this,er,Sb).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),Q(this,er,Sb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){cn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(this,X0)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${p(this,gs)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:A}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[f,h]=this.pageDimensions,[g,v]=this.pageTranslation;let b,B;switch(this.rotation){case 0:b=t+(A[0]-g)/f,B=r+this.height-(A[1]-v)/h;break;case 90:b=t+(A[0]-g)/f,B=r-(A[1]-v)/h,[l,c]=[c,-l];break;case 180:b=t-this.width+(A[0]-g)/f,B=r-(A[1]-v)/h,[l,c]=[-l,-c];break;case 270:b=t+(A[0]-g-this.height*h)/f,B=r+(A[1]-v-this.width*f)/h,[l,c]=[-c,l];break}this.setAt(b*s,B*a,l,c)}else this._moveAfterPaste(t,r);Q(this,er,Tb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,B,S;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=Q(b=cn,ol,QF).call(b,r.getData("text")||"").replaceAll(pB,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const A=a.getRangeAt(0);if(!s.includes(`
`)){A.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=A,f=[],h=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(pB,"")),x!==this.editorDiv){let _=f;for(const T of this.editorDiv.childNodes){if(T===x){_=h;continue}_.push(Q(B=cn,ol,xb).call(B,T))}}f.push(l.nodeValue.slice(0,c).replaceAll(pB,""))}else if(l===this.editorDiv){let x=f,_=0;for(const T of this.editorDiv.childNodes)_++===c&&(x=h),x.push(Q(S=cn,ol,xb).call(S,T))}U(this,ps,`${f.join(`
`)}${s}${h.join(`
`)}`),Q(this,er,Tb).call(this);const g=new Range;let v=Math.sumPrecise(f.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const _=x.nodeValue.length;if(v<=_){g.setStart(x,v),g.setEnd(x,v);break}v-=_}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=cn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,i){var A;let s=null;if(t instanceof Y5){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:f,rotation:h,id:g,popupRef:v,richText:b,contentsObj:B,creationDate:S,modificationDate:x},textContent:_,textPosition:T,parent:{page:{pageNumber:M}}}=t;if(!_||_.length===0)return null;s=t={annotationType:Ze.FREETEXT,color:Array.from(c),fontSize:l,value:_.join(`
`),position:T,pageIndex:M-1,rect:f.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(B==null?void 0:B.str)||null,richText:b,creationDate:S,modificationDate:x}}const a=await super.deserialize(t,r,i);return U(a,gs,t.fontSize),a.color=Me.makeHexColor(...t.color),U(a,ps,Q(A=cn,ol,QF).call(A,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=An._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:r,fontSize:p(this,gs),value:Q(this,er,t8).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!Q(this,er,n8).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${p(this,gs)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of p(this,ps).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:p(this,ps)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ps=new WeakMap,X0=new WeakMap,Wf=new WeakMap,gs=new WeakMap,er=new WeakSet,J5=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-p(this,gs))*this.parentScale),U(this,gs,s),Q(this,er,Sb).call(this)},i=p(this,gs);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:yt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Z5=function(t){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:yt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},e8=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(Q(i=cn,ol,xb).call(i,s)),r=s);return t.join(`
`)},Sb=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,A=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=A,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},ol=new WeakSet,xb=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(pB,"")},Tb=function(){if(this.editorDiv.replaceChildren(),!!p(this,ps))for(const t of p(this,ps).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},t8=function(){return p(this,ps).replaceAll(""," ")},QF=function(t){return t.replaceAll(" ","")},n8=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((A,l)=>A!==s[l])||t.pageIndex!==a},P(cn,ol),me(cn,"_freeTextDefaultContent",""),me(cn,"_internalPadding",0),me(cn,"_defaultColor",null),me(cn,"_defaultFontSize",10),me(cn,"_type","freetext"),me(cn,"_editorType",Ze.FREETEXT);let PF=cn;class Fe{toSVGPath(){nn("Abstract method `toSVGPath` must be implemented.")}get box(){nn("Abstract getter `box` must be implemented.")}serialize(e,t){nn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let A=0,l=e.length;A<l;A+=2)a[A]=t+e[A]*i,a[A+1]=r+e[A+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let A=0,l=e.length;A<l;A+=2)a[A]=t+e[A+1]*i,a[A+1]=r+e[A]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}me(Fe,"PRECISION",1e-4);var ms,La,dg,hg,Fo,dt,jf,Jf,W0,j0,pg,gg,Gu,J0,IS,US,Ar,kv,r8,i8,s8,a8,o8,A8;const mA=class mA{constructor({x:e,y:t},r,i,s,a,A=0){P(this,Ar);P(this,ms);P(this,La,[]);P(this,dg);P(this,hg);P(this,Fo,[]);P(this,dt,new Float32Array(18));P(this,jf);P(this,Jf);P(this,W0);P(this,j0);P(this,pg);P(this,gg);P(this,Gu,[]);U(this,ms,r),U(this,gg,s*i),U(this,hg,a),p(this,dt).set([NaN,NaN,NaN,NaN,e,t],6),U(this,dg,A),U(this,j0,p(mA,J0)*i),U(this,W0,p(mA,US)*i),U(this,pg,i),p(this,Gu).push(e,t)}isEmpty(){return isNaN(p(this,dt)[8])}add({x:e,y:t}){var O;U(this,jf,e),U(this,Jf,t);const[r,i,s,a]=p(this,ms);let[A,l,c,f]=p(this,dt).subarray(8,12);const h=e-c,g=t-f,v=Math.hypot(h,g);if(v<p(this,W0))return!1;const b=v-p(this,j0),B=b/v,S=B*h,x=B*g;let _=A,T=l;A=c,l=f,c+=S,f+=x,(O=p(this,Gu))==null||O.push(e,t);const M=-x/b,F=S/b,R=M*p(this,gg),L=F*p(this,gg);return p(this,dt).set(p(this,dt).subarray(2,8),0),p(this,dt).set([c+R,f+L],4),p(this,dt).set(p(this,dt).subarray(14,18),12),p(this,dt).set([c-R,f-L],16),isNaN(p(this,dt)[6])?(p(this,Fo).length===0&&(p(this,dt).set([A+R,l+L],2),p(this,Fo).push(NaN,NaN,NaN,NaN,(A+R-r)/s,(l+L-i)/a),p(this,dt).set([A-R,l-L],14),p(this,La).push(NaN,NaN,NaN,NaN,(A-R-r)/s,(l-L-i)/a)),p(this,dt).set([_,T,A,l,c,f],6),!this.isEmpty()):(p(this,dt).set([_,T,A,l,c,f],6),Math.abs(Math.atan2(T-l,_-A)-Math.atan2(x,S))<Math.PI/2?([A,l,c,f]=p(this,dt).subarray(2,6),p(this,Fo).push(NaN,NaN,NaN,NaN,((A+c)/2-r)/s,((l+f)/2-i)/a),[A,l,_,T]=p(this,dt).subarray(14,18),p(this,La).push(NaN,NaN,NaN,NaN,((_+A)/2-r)/s,((T+l)/2-i)/a),!0):([_,T,A,l,c,f]=p(this,dt).subarray(0,6),p(this,Fo).push(((_+5*A)/6-r)/s,((T+5*l)/6-i)/a,((5*A+c)/6-r)/s,((5*l+f)/6-i)/a,((A+c)/2-r)/s,((l+f)/2-i)/a),[c,f,A,l,_,T]=p(this,dt).subarray(12,18),p(this,La).push(((_+5*A)/6-r)/s,((T+5*l)/6-i)/a,((5*A+c)/6-r)/s,((5*l+f)/6-i)/a,((A+c)/2-r)/s,((l+f)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=p(this,Fo),t=p(this,La);if(isNaN(p(this,dt)[6])&&!this.isEmpty())return Q(this,Ar,r8).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);Q(this,Ar,s8).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return Q(this,Ar,i8).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new l8(e,t,r,i,s,a)}getOutlines(){var h;const e=p(this,Fo),t=p(this,La),r=p(this,dt),[i,s,a,A]=p(this,ms),l=new Float32Array((((h=p(this,Gu))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(p(this,Gu)[g]-i)/a,l[g+1]=(p(this,Gu)[g+1]-s)/A;if(l[l.length-2]=(p(this,jf)-i)/a,l[l.length-1]=(p(this,Jf)-s)/A,isNaN(r[6])&&!this.isEmpty())return Q(this,Ar,a8).call(this,l);const c=new Float32Array(p(this,Fo).length+24+p(this,La).length);let f=e.length;for(let g=0;g<f;g+=2){if(isNaN(e[g])){c[g]=c[g+1]=NaN;continue}c[g]=e[g],c[g+1]=e[g+1]}f=Q(this,Ar,A8).call(this,c,f);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){c[f]=c[f+1]=NaN,f+=2;continue}c[f]=t[g+v],c[f+1]=t[g+v+1],f+=2}return Q(this,Ar,o8).call(this,c,f),this.newFreeDrawOutline(c,l,p(this,ms),p(this,pg),p(this,dg),p(this,hg))}};ms=new WeakMap,La=new WeakMap,dg=new WeakMap,hg=new WeakMap,Fo=new WeakMap,dt=new WeakMap,jf=new WeakMap,Jf=new WeakMap,W0=new WeakMap,j0=new WeakMap,pg=new WeakMap,gg=new WeakMap,Gu=new WeakMap,J0=new WeakMap,IS=new WeakMap,US=new WeakMap,Ar=new WeakSet,kv=function(){const e=p(this,dt).subarray(4,6),t=p(this,dt).subarray(16,18),[r,i,s,a]=p(this,ms);return[(p(this,jf)+(e[0]-t[0])/2-r)/s,(p(this,Jf)+(e[1]-t[1])/2-i)/a,(p(this,jf)+(t[0]-e[0])/2-r)/s,(p(this,Jf)+(t[1]-e[1])/2-i)/a]},r8=function(){const[e,t,r,i]=p(this,ms),[s,a,A,l]=Q(this,Ar,kv).call(this);return`M${(p(this,dt)[2]-e)/r} ${(p(this,dt)[3]-t)/i} L${(p(this,dt)[4]-e)/r} ${(p(this,dt)[5]-t)/i} L${s} ${a} L${A} ${l} L${(p(this,dt)[16]-e)/r} ${(p(this,dt)[17]-t)/i} L${(p(this,dt)[14]-e)/r} ${(p(this,dt)[15]-t)/i} Z`},i8=function(e){const t=p(this,La);e.push(`L${t[4]} ${t[5]} Z`)},s8=function(e){const[t,r,i,s]=p(this,ms),a=p(this,dt).subarray(4,6),A=p(this,dt).subarray(16,18),[l,c,f,h]=Q(this,Ar,kv).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${l} ${c} L${f} ${h} L${(A[0]-t)/i} ${(A[1]-r)/s}`)},a8=function(e){const t=p(this,dt),[r,i,s,a]=p(this,ms),[A,l,c,f]=Q(this,Ar,kv).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,A,l,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(h,e,p(this,ms),p(this,pg),p(this,dg),p(this,hg))},o8=function(e,t){const r=p(this,La);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},A8=function(e,t){const r=p(this,dt).subarray(4,6),i=p(this,dt).subarray(16,18),[s,a,A,l]=p(this,ms),[c,f,h,g]=Q(this,Ar,kv).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/A,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(i[0]-s)/A,(i[1]-a)/l],t),t+=24},P(mA,J0,8),P(mA,IS,2),P(mA,US,p(mA,J0)+p(mA,IS));let cE=mA;var mg,Zf,qA,Z0,vs,ew,Hn,FS,u8;class l8 extends Fe{constructor(t,r,i,s,a,A){super();P(this,FS);P(this,mg);P(this,Zf,new Float32Array(4));P(this,qA);P(this,Z0);P(this,vs);P(this,ew);P(this,Hn);U(this,Hn,t),U(this,vs,r),U(this,mg,i),U(this,ew,s),U(this,qA,a),U(this,Z0,A),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],Q(this,FS,u8).call(this,A);const[l,c,f,h]=p(this,Zf);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/f,t[g+1]=(t[g+1]-c)/h;for(let g=0,v=r.length;g<v;g+=2)r[g]=(r[g]-l)/f,r[g+1]=(r[g+1]-c)/h}toSVGPath(){const t=[`M${p(this,Hn)[4]} ${p(this,Hn)[5]}`];for(let r=6,i=p(this,Hn).length;r<i;r+=6){if(isNaN(p(this,Hn)[r])){t.push(`L${p(this,Hn)[r+4]} ${p(this,Hn)[r+5]}`);continue}t.push(`C${p(this,Hn)[r]} ${p(this,Hn)[r+1]} ${p(this,Hn)[r+2]} ${p(this,Hn)[r+3]} ${p(this,Hn)[r+4]} ${p(this,Hn)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const A=i-t,l=s-r;let c,f;switch(a){case 0:c=Fe._rescale(p(this,Hn),t,s,A,-l),f=Fe._rescale(p(this,vs),t,s,A,-l);break;case 90:c=Fe._rescaleAndSwap(p(this,Hn),t,r,A,l),f=Fe._rescaleAndSwap(p(this,vs),t,r,A,l);break;case 180:c=Fe._rescale(p(this,Hn),i,r,-A,l),f=Fe._rescale(p(this,vs),i,r,-A,l);break;case 270:c=Fe._rescaleAndSwap(p(this,Hn),i,s,-A,-l),f=Fe._rescaleAndSwap(p(this,vs),i,s,-A,-l);break}return{outline:Array.from(c),points:[Array.from(f)]}}get box(){return p(this,Zf)}newOutliner(t,r,i,s,a,A=0){return new cE(t,r,i,s,a,A)}getNewOutline(t,r){const[i,s,a,A]=p(this,Zf),[l,c,f,h]=p(this,mg),g=a*f,v=A*h,b=i*f+l,B=s*h+c,S=this.newOutliner({x:p(this,vs)[0]*g+b,y:p(this,vs)[1]*v+B},p(this,mg),p(this,ew),t,p(this,Z0),r??p(this,qA));for(let x=2;x<p(this,vs).length;x+=2)S.add({x:p(this,vs)[x]*g+b,y:p(this,vs)[x+1]*v+B});return S.getOutlines()}}mg=new WeakMap,Zf=new WeakMap,qA=new WeakMap,Z0=new WeakMap,vs=new WeakMap,ew=new WeakMap,Hn=new WeakMap,FS=new WeakSet,u8=function(t){const r=p(this,Hn);let i=r[4],s=r[5];const a=[i,s,i,s];let A=i,l=s,c=i,f=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let b=6,B=r.length;b<B;b+=6){const S=r[b+4],x=r[b+5];isNaN(r[b])?(Me.pointBoundingBox(S,x,a),l>x?(A=S,l=x):l===x&&(A=h(A,S)),f<x?(c=S,f=x):f===x&&(c=h(c,S))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Me.bezierBoundingBox(i,s,...r.slice(b,b+6),g),Me.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(A=g[0],l=g[1]):l===g[1]&&(A=h(A,g[0])),f<g[3]?(c=g[2],f=g[3]):f===g[3]&&(c=h(c,g[2]))),i=S,s=x}const v=p(this,Zf);v[0]=a[0]-p(this,qA),v[1]=a[1]-p(this,qA),v[2]=a[2]-a[0]+2*p(this,qA),v[3]=a[3]-a[1]+2*p(this,qA),this.firstPoint=[A,l],this.lastPoint=[c,f]};var tw,nw,rw,Vu,ka,Si,c8,_b,f8,d8,LF;class NF{constructor(e,t=0,r=0,i=!0){P(this,Si);P(this,tw);P(this,nw);P(this,rw);P(this,Vu,[]);P(this,ka,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:B,y:S,width:x,height:_}of e){const T=Math.floor((B-t)/a)*a,M=Math.ceil((B+x+t)/a)*a,F=Math.floor((S-t)/a)*a,R=Math.ceil((S+_+t)/a)*a,L=[T,F,R,!0],K=[M,F,R,!1];p(this,Vu).push(L,K),Me.rectBoundingBox(T,F,M,R,s)}const A=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,f=s[1]-r;let h=i?-1/0:1/0,g=1/0;const v=p(this,Vu).at(i?-1:-2),b=[v[0],v[2]];for(const B of p(this,Vu)){const[S,x,_,T]=B;!T&&i?x<g?(g=x,h=S):x===g&&(h=Math.max(h,S)):T&&!i&&(x<g?(g=x,h=S):x===g&&(h=Math.min(h,S))),B[0]=(S-c)/A,B[1]=(x-f)/l,B[2]=(_-f)/l}U(this,tw,new Float32Array([c,f,A,l])),U(this,nw,[h,g]),U(this,rw,b)}getOutlines(){p(this,Vu).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of p(this,Vu))t[3]?(e.push(...Q(this,Si,LF).call(this,t)),Q(this,Si,f8).call(this,t)):(Q(this,Si,d8).call(this,t),e.push(...Q(this,Si,LF).call(this,t)));return Q(this,Si,c8).call(this,e)}}tw=new WeakMap,nw=new WeakMap,rw=new WeakMap,Vu=new WeakMap,ka=new WeakMap,Si=new WeakSet,c8=function(e){const t=[],r=new Set;for(const a of e){const[A,l,c]=a;t.push([A,l,a],[A,c,a])}t.sort((a,A)=>a[1]-A[1]||a[0]-A[0]);for(let a=0,A=t.length;a<A;a+=2){const l=t[a][2],c=t[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[A,l,c,f,h]=a;r.delete(a);let g=A,v=l;for(s=[A,c],i.push(s);;){let b;if(r.has(f))b=f;else if(r.has(h))b=h;else break;r.delete(b),[A,l,c,f,h]=b,g!==A&&(s.push(g,v,A,v===l?l:c),g=A),v=v===l?c:l}s.push(g,v)}return new noe(i,p(this,tw),p(this,nw),p(this,rw))},_b=function(e){const t=p(this,ka);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},f8=function([,e,t]){const r=Q(this,Si,_b).call(this,e);p(this,ka).splice(r,0,[e,t])},d8=function([,e,t]){const r=Q(this,Si,_b).call(this,e);for(let i=r;i<p(this,ka).length;i++){const[s,a]=p(this,ka)[i];if(s!==e)break;if(s===e&&a===t){p(this,ka).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=p(this,ka)[i];if(s!==e)break;if(s===e&&a===t){p(this,ka).splice(i,1);return}}},LF=function(e){const[t,r,i]=e,s=[[t,r,i]],a=Q(this,Si,_b).call(this,i);for(let A=0;A<a;A++){const[l,c]=p(this,ka)[A];for(let f=0,h=s.length;f<h;f++){const[,g,v]=s[f];if(!(c<=g||v<=l)){if(g>=l){if(v>c)s[f][1]=c;else{if(h===1)return[];s.splice(f,1),f--,h--}continue}s[f][2]=l,v>c&&s.push([t,c,v])}}}return s};var iw,vg;class noe extends Fe{constructor(t,r,i,s){super();P(this,iw);P(this,vg);U(this,vg,t),U(this,iw,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const r of p(this,vg)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const A=r[a],l=r[a+1];A===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${A}`),i=A)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const A=[],l=i-t,c=s-r;for(const f of p(this,vg)){const h=new Array(f.length);for(let g=0;g<f.length;g+=2)h[g]=t+f[g]*l,h[g+1]=s-f[g+1]*c;A.push(h)}return A}get box(){return p(this,iw)}get classNamesForOutlining(){return["highlightOutline"]}}iw=new WeakMap,vg=new WeakMap;class kF extends cE{newFreeDrawOutline(e,t,r,i,s,a){return new roe(e,t,r,i,s,a)}}class roe extends l8{newOutliner(e,t,r,i,s,a=0){return new kF(e,t,r,i,s,a)}}var yg,sw,$A,ed,aw,Gi,ow,Aw,td,ys,ws,Or,wg,Cg,ii,Bg,la,lw,lt,OF,Ib,h8,p8,g8,HF,qc,fa,kh,m8,Ub,Fb,v8,y8,w8,C8,B8;const Ut=class Ut extends An{constructor(t){super({...t,name:"highlightEditor"});P(this,lt);P(this,yg,null);P(this,sw,0);P(this,$A);P(this,ed,null);P(this,aw,null);P(this,Gi,null);P(this,ow,null);P(this,Aw,0);P(this,td,null);P(this,ys,null);P(this,ws,null);P(this,Or,!1);P(this,wg,null);P(this,Cg,null);P(this,ii,null);P(this,Bg,"");P(this,la);P(this,lw,"");this.color=t.color||Ut._defaultColor,U(this,la,t.thickness||Ut._defaultThickness),this.opacity=t.opacity||Ut._defaultOpacity,U(this,$A,t.boxes||null),U(this,lw,t.methodOfCreation||""),U(this,Bg,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(U(this,Or,!0),Q(this,lt,Ib).call(this,t),Q(this,lt,qc).call(this)):p(this,$A)&&(U(this,yg,t.anchorNode),U(this,sw,t.anchorOffset),U(this,ow,t.focusNode),U(this,Aw,t.focusOffset),Q(this,lt,OF).call(this),Q(this,lt,qc).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ut.prototype;return At(this,"_keyboardManager",new ww([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:p(this,Or)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:p(this,la),methodOfCreation:p(this,lw)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;An.initialize(t,r),Ut._defaultColor||(Ut._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case yt.HIGHLIGHT_COLOR:Ut._defaultColor=r;break;case yt.HIGHLIGHT_THICKNESS:Ut._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return p(this,Cg)}get commentButtonPosition(){return p(this,wg)}updateParams(t,r){switch(t){case yt.HIGHLIGHT_COLOR:Q(this,lt,h8).call(this,r);break;case yt.HIGHLIGHT_THICKNESS:Q(this,lt,p8).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[yt.HIGHLIGHT_COLOR,Ut._defaultColor],[yt.HIGHLIGHT_THICKNESS,Ut._defaultThickness]]}get propertiesToUpdate(){return[[yt.HIGHLIGHT_COLOR,this.color||Ut._defaultColor],[yt.HIGHLIGHT_THICKNESS,p(this,la)||Ut._defaultThickness],[yt.HIGHLIGHT_FREE,p(this,Or)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(p(this,ws),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=p(this,aw))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",U(this,aw,new hy({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Q(this,lt,Fb).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,Q(this,lt,Fb).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){Q(this,lt,HF).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Q(this,lt,qc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?Q(this,lt,HF).call(this):t&&(Q(this,lt,qc).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,A;const{drawLayer:r}=this.parent;let i;p(this,Or)?(t=(t-this.rotation+360)%360,i=Q(s=Ut,fa,kh).call(s,p(this,ys).box,t)):i=Q(a=Ut,fa,kh).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(p(this,ws),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(p(this,ii),{bbox:Q(A=Ut,fa,kh).call(A,p(this,Gi).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();p(this,Bg)&&(t.setAttribute("aria-label",p(this,Bg)),t.setAttribute("role","mark")),p(this,Or)?t.classList.add("free"):this.div.addEventListener("keydown",Q(this,lt,m8).bind(this),{signal:this._uiManager._signal});const r=U(this,td,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=p(this,ed),this.setDims(this.width,this.height),Gz(this,p(this,td),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(p(this,ii),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(p(this,ii),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:Q(this,lt,Ub).call(this,!0);break;case 1:case 3:Q(this,lt,Ub).call(this,!1);break}}select(){var t;super.select(),p(this,ii)&&((t=this.parent)==null||t.drawLayer.updateProperties(p(this,ii),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),p(this,ii)&&((t=this.parent)==null||t.drawLayer.updateProperties(p(this,ii),{rootClass:{selected:!1}}),p(this,Or)||Q(this,lt,Ub).call(this,!1))}get _mustFixPosition(){return!p(this,Or)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(p(this,ws),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(p(this,ii),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:A,y:l,width:c,height:f}=i.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=b=>{h.abort(),Q(this,fa,C8).call(this,t,b)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Sn,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Rs,{signal:g}),i.addEventListener("pointermove",Q(this,fa,w8).bind(this,t),{signal:g}),this._freeHighlight=new kF({x:s,y:a},[A,l,c,f],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var B,S,x,_;let s=null;if(t instanceof W5){const{data:{quadPoints:T,rect:M,rotation:F,id:R,color:L,opacity:K,popupRef:O,richText:$,contentsObj:G,creationDate:Y,modificationDate:J},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:Ze.HIGHLIGHT,color:Array.from(L),opacity:K,quadPoints:T,boxes:null,pageIndex:ne-1,rect:M.slice(0),rotation:F,annotationElementId:R,id:R,deleted:!1,popupRef:O,richText:$,comment:(G==null?void 0:G.str)||null,creationDate:Y,modificationDate:J}}else if(t instanceof nR){const{data:{inkLists:T,rect:M,rotation:F,id:R,color:L,borderStyle:{rawWidth:K},popupRef:O,richText:$,contentsObj:G,creationDate:Y,modificationDate:J},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:Ze.HIGHLIGHT,color:Array.from(L),thickness:K,inkLists:T,boxes:null,pageIndex:ne-1,rect:M.slice(0),rotation:F,annotationElementId:R,id:R,deleted:!1,popupRef:O,richText:$,comment:(G==null?void 0:G.str)||null,creationDate:Y,modificationDate:J}}const{color:a,quadPoints:A,inkLists:l,opacity:c}=t,f=await super.deserialize(t,r,i);f.color=Me.makeHexColor(...a),f.opacity=c||1,l&&U(f,la,t.thickness),f._initialData=s,t.comment&&f.setCommentData(t);const[h,g]=f.pageDimensions,[v,b]=f.pageTranslation;if(A){const T=U(f,$A,[]);for(let M=0;M<A.length;M+=8)T.push({x:(A[M]-v)/h,y:1-(A[M+1]-b)/g,width:(A[M+2]-A[M])/h,height:(A[M+1]-A[M+5])/g});Q(B=f,lt,OF).call(B),Q(S=f,lt,qc).call(S),f.rotate(f.rotation)}else if(l){U(f,Or,!0);const T=l[0],M={x:T[0]-v,y:g-(T[1]-b)},F=new kF(M,[0,0,h,g],1,p(f,la)/2,!0,.001);for(let K=0,O=T.length;K<O;K+=2)M.x=T[K]-v,M.y=g-(T[K+1]-b),F.add(M);const{id:R,clipPathId:L}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:F.toSVGPath()}},!0,!0);Q(x=f,lt,Ib).call(x,{highlightOutlines:F.getOutlines(),highlightId:R,clipPathId:L}),Q(_=f,lt,qc).call(_),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=An._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:r,opacity:this.opacity,thickness:p(this,la),quadPoints:Q(this,lt,v8).call(this),outlines:Q(this,lt,y8).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!Q(this,lt,B8).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};yg=new WeakMap,sw=new WeakMap,$A=new WeakMap,ed=new WeakMap,aw=new WeakMap,Gi=new WeakMap,ow=new WeakMap,Aw=new WeakMap,td=new WeakMap,ys=new WeakMap,ws=new WeakMap,Or=new WeakMap,wg=new WeakMap,Cg=new WeakMap,ii=new WeakMap,Bg=new WeakMap,la=new WeakMap,lw=new WeakMap,lt=new WeakSet,OF=function(){const t=new NF(p(this,$A),.001);U(this,ys,t.getOutlines()),[this.x,this.y,this.width,this.height]=p(this,ys).box;const r=new NF(p(this,$A),.0025,.001,this._uiManager.direction==="ltr");U(this,Gi,r.getOutlines());const{firstPoint:i}=p(this,ys);U(this,wg,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=p(this,Gi);U(this,Cg,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Ib=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var g,v;if(U(this,ys,t),U(this,Gi,t.getNewOutline(p(this,la)/2+1.5,.0025)),r>=0)U(this,ws,r),U(this,ed,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),U(this,ii,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:p(this,Gi).box,path:{d:p(this,Gi).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(p(this,ws),{bbox:Q(g=Ut,fa,kh).call(g,p(this,ys).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(p(this,ii),{bbox:Q(v=Ut,fa,kh).call(v,p(this,Gi).box,b),path:{d:p(this,Gi).toSVGPath()}})}const[a,A,l,c]=t.box;switch(this.rotation){case 0:this.x=a,this.y=A,this.width=l,this.height=c;break;case 90:{const[b,B]=this.parentDimensions;this.x=A,this.y=1-a,this.width=l*B/b,this.height=c*b/B;break}case 180:this.x=1-a,this.y=1-A,this.width=l,this.height=c;break;case 270:{const[b,B]=this.parentDimensions;this.x=1-A,this.y=a,this.width=l*B/b,this.height=c*b/B;break}}const{firstPoint:f}=t;U(this,wg,[(f[0]-a)/l,(f[1]-A)/c]);const{lastPoint:h}=p(this,Gi);U(this,Cg,[(h[0]-a)/l,(h[1]-A)/c])},h8=function(t){const r=(a,A)=>{this.color=a,this.opacity=A,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,t,Ut._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:yt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},p8=function(t){const r=p(this,la),i=s=>{U(this,la,s),Q(this,lt,g8).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:yt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},g8=function(t){p(this,Or)&&(Q(this,lt,Ib).call(this,{highlightOutlines:p(this,ys).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},HF=function(){p(this,ws)===null||!this.parent||(this.parent.drawLayer.remove(p(this,ws)),U(this,ws,null),this.parent.drawLayer.remove(p(this,ii)),U(this,ii,null))},qc=function(t=this.parent){p(this,ws)===null&&({id:nr(this,ws)._,clipPathId:nr(this,ed)._}=t.drawLayer.draw({bbox:p(this,ys).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:p(this,Or)},path:{d:p(this,ys).toSVGPath()}},!1,!0),U(this,ii,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:p(this,Or)},bbox:p(this,Gi).box,path:{d:p(this,Gi).toSVGPath()}},p(this,Or))),p(this,td)&&(p(this,td).style.clipPath=p(this,ed)))},fa=new WeakSet,kh=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},m8=function(t){Ut._keyboardManager.exec(this,t)},Ub=function(t){if(!p(this,yg))return;const r=window.getSelection();t?r.setPosition(p(this,yg),p(this,sw)):r.setPosition(p(this,ow),p(this,Aw))},Fb=function(){return p(this,Or)?this.rotation:0},v8=function(){if(p(this,Or))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=p(this,$A),A=new Float32Array(a.length*8);let l=0;for(const{x:c,y:f,width:h,height:g}of a){const v=c*t+i,b=(1-f)*r+s;A[l]=A[l+4]=v,A[l+1]=A[l+3]=b,A[l+2]=A[l+6]=v+h*t,A[l+5]=A[l+7]=b-g*r,l+=8}return A},y8=function(t){return p(this,ys).serialize(t,Q(this,lt,Fb).call(this))},w8=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},C8=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},B8=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},P(Ut,fa),me(Ut,"_defaultColor",null),me(Ut,"_defaultOpacity",1),me(Ut,"_defaultThickness",12),me(Ut,"_type","highlight"),me(Ut,"_editorType",Ze.HIGHLIGHT),me(Ut,"_freeHighlightId",-1),me(Ut,"_freeHighlight",null),me(Ut,"_freeHighlightClipId","");let fE=Ut;var nd;class b8{constructor(){P(this,nd,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){p(this,nd)[e]=t}toSVGProperties(){const e=p(this,nd);return U(this,nd,Object.create(null)),{root:e}}reset(){U(this,nd,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){nn("Not implemented")}}nd=new WeakMap;var Cs,bg,Cr,rd,id,zu,qu,$u,sd,Bt,KF,GF,VF,Ov,E8,Mb,Hv,Oh;const Qe=class Qe extends An{constructor(t){super(t);P(this,Bt);P(this,Cs,null);P(this,bg);me(this,"_colorPicker",null);me(this,"_drawId",null);U(this,bg,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(Q(this,Bt,KF).call(this,t),Q(this,Bt,Ov).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){nn("Not implemented")}static get typesMap(){nn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(p(Qe,Cr).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],A=l=>{var f;s.updateProperty(r,l);const c=p(this,Cs).updateProperty(r,l);c&&Q(this,Bt,Hv).call(this,c),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:A.bind(this,i),undo:A.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Qe._mergeSVGProperties(p(this,Cs).getPathResizingSVGProperties(Q(this,Bt,Mb).call(this)),{bbox:Q(this,Bt,Oh).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Qe._mergeSVGProperties(p(this,Cs).getPathResizedSVGProperties(Q(this,Bt,Mb).call(this)),{bbox:Q(this,Bt,Oh).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:Q(this,Bt,Oh).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Qe._mergeSVGProperties(p(this,Cs).getPathTranslatedSVGProperties(Q(this,Bt,Mb).call(this),this.parentDimensions),{bbox:Q(this,Bt,Oh).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,p(this,bg)&&(U(this,bg,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){Q(this,Bt,VF).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Q(this,Bt,Ov).call(this),Q(this,Bt,Hv).call(this,p(this,Cs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),Q(this,Bt,VF).call(this)):t&&(this._uiManager.addShouldRescale(this),Q(this,Bt,Ov).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Qe._mergeSVGProperties({bbox:Q(this,Bt,Oh).call(this)},p(this,Cs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&Q(this,Bt,Hv).call(this,p(this,Cs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,a){nn("Not implemented")}static startDrawing(t,r,i,s){var S;const{target:a,offsetX:A,offsetY:l,pointerId:c,pointerType:f}=s;if(p(Qe,qu)&&p(Qe,qu)!==f)return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),b=U(Qe,rd,new AbortController),B=t.combinedSignal(b);if(p(Qe,zu)||U(Qe,zu,c),p(Qe,qu)??U(Qe,qu,f),window.addEventListener("pointerup",x=>{var _;p(Qe,zu)===x.pointerId?this._endDraw(x):(_=p(Qe,$u))==null||_.delete(x.pointerId)},{signal:B}),window.addEventListener("pointercancel",x=>{var _;p(Qe,zu)===x.pointerId?this._currentParent.endDrawingSession():(_=p(Qe,$u))==null||_.delete(x.pointerId)},{signal:B}),window.addEventListener("pointerdown",x=>{p(Qe,qu)===x.pointerType&&((p(Qe,$u)||U(Qe,$u,new Set)).add(x.pointerId),p(Qe,Cr).isCancellable()&&(p(Qe,Cr).removeLastElement(),p(Qe,Cr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:B}),window.addEventListener("contextmenu",Rs,{signal:B}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:B}),a.addEventListener("touchmove",x=>{x.timeStamp===p(Qe,sd)&&Sn(x)},{signal:B}),t.toggleDrawing(),(S=r._editorUndoBar)==null||S.hide(),p(Qe,Cr)){t.drawLayer.updateProperties(this._currentDrawId,p(Qe,Cr).startNew(A,l,g,v,h));return}r.updateUIForDefaultProperties(this),U(Qe,Cr,this.createDrawerInstance(A,l,g,v,h)),U(Qe,id,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(p(Qe,id).toSVGProperties(),p(Qe,Cr).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(U(Qe,sd,-1),!p(Qe,Cr))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(p(Qe,zu)===s){if(((a=p(Qe,$u))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,p(Qe,Cr).add(r,i)),U(Qe,sd,t.timeStamp),Sn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,U(Qe,Cr,null),U(Qe,id,null),U(Qe,qu,null),U(Qe,sd,NaN)),p(Qe,rd)&&(p(Qe,rd).abort(),U(Qe,rd,null),U(Qe,zu,NaN),U(Qe,$u,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,p(Qe,Cr).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=p(Qe,Cr),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:yt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(yt.DRAW_STEP),!p(Qe,Cr).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,A=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:p(Qe,Cr).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:p(Qe,id),mustBeCommitted:!t});return this._cleanup(!0),A}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,A){nn("Not implemented")}static async deserialize(t,r,i){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:A,pageY:l}}=r.viewport,c=this.deserializeDraw(A,l,s,a,this._INNER_MARGIN,t),f=await super.deserialize(t,r,i);return f.createDrawingOptions(t),Q(h=f,Bt,KF).call(h,{drawOutlines:c}),Q(g=f,Bt,Ov).call(g),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return p(this,Cs).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Cs=new WeakMap,bg=new WeakMap,Cr=new WeakMap,rd=new WeakMap,id=new WeakMap,zu=new WeakMap,qu=new WeakMap,$u=new WeakMap,sd=new WeakMap,Bt=new WeakSet,KF=function({drawOutlines:t,drawId:r,drawingOptions:i}){U(this,Cs,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=Q(this,Bt,GF).call(this,t,this.parent),Q(this,Bt,Hv).call(this,t.box)},GF=function(t,r){const{id:i}=r.drawLayer.draw(Qe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},VF=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Ov=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=Q(this,Bt,GF).call(this,p(this,Cs),t)}},E8=function([t,r,i,s]){const{parentDimensions:[a,A],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(A/a),s*(a/A)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(A/a),s*(a/A)];default:return[t,r,i,s]}},Mb=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,A],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(a/A),s*(A/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/A),s*(A/a)];default:return[t,r,i,s]}},Hv=function(t){[this.x,this.y,this.width,this.height]=Q(this,Bt,E8).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Oh=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:A,parentDimensions:[l,c]}=this;switch((a*4+A)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,t,i*(l/c),s*(c/l)];case 6:return[1-t-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-t-s*(c/l),i*(l/c),s*(c/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),t-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-t,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-t,i*(l/c),s*(c/l)];default:return[t,r,i,s]}},me(Qe,"_currentDrawId",-1),me(Qe,"_currentParent",null),P(Qe,Cr,null),P(Qe,rd,null),P(Qe,id,null),P(Qe,zu,NaN),P(Qe,qu,null),P(Qe,$u,null),P(Qe,sd,NaN),me(Qe,"_INNER_MARGIN",3);let dE=Qe;var Mo,Br,br,ad,Eg,mi,Hr,ua,od,Ad,ld,Sg,Db;class ioe{constructor(e,t,r,i,s,a){P(this,Sg);P(this,Mo,new Float64Array(6));P(this,Br);P(this,br);P(this,ad);P(this,Eg);P(this,mi);P(this,Hr,"");P(this,ua,0);P(this,od,new Bw);P(this,Ad);P(this,ld);U(this,Ad,r),U(this,ld,i),U(this,ad,s),U(this,Eg,a),[e,t]=Q(this,Sg,Db).call(this,e,t);const A=U(this,Br,[NaN,NaN,NaN,NaN,e,t]);U(this,mi,[e,t]),U(this,br,[{line:A,points:p(this,mi)}]),p(this,Mo).set(A,0)}updateProperty(e,t){e==="stroke-width"&&U(this,Eg,t)}isEmpty(){return!p(this,br)||p(this,br).length===0}isCancellable(){return p(this,mi).length<=10}add(e,t){[e,t]=Q(this,Sg,Db).call(this,e,t);const[r,i,s,a]=p(this,Mo).subarray(2,6),A=e-s,l=t-a;return Math.hypot(p(this,Ad)*A,p(this,ld)*l)<=2?null:(p(this,mi).push(e,t),isNaN(r)?(p(this,Mo).set([s,a,e,t],2),p(this,Br).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(p(this,Mo)[0])&&p(this,Br).splice(6,6),p(this,Mo).set([r,i,s,a,e,t],0),p(this,Br).push(...Fe.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(p(this,mi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){U(this,Ad,r),U(this,ld,i),U(this,ad,s),[e,t]=Q(this,Sg,Db).call(this,e,t);const a=U(this,Br,[NaN,NaN,NaN,NaN,e,t]);U(this,mi,[e,t]);const A=p(this,br).at(-1);return A&&(A.line=new Float32Array(A.line),A.points=new Float32Array(A.points)),p(this,br).push({line:a,points:p(this,mi)}),p(this,Mo).set(a,0),U(this,ua,0),this.toSVGPath(),null}getLastElement(){return p(this,br).at(-1)}setLastElement(e){return p(this,br)?(p(this,br).push(e),U(this,Br,e.line),U(this,mi,e.points),U(this,ua,0),{path:{d:this.toSVGPath()}}):p(this,od).setLastElement(e)}removeLastElement(){if(!p(this,br))return p(this,od).removeLastElement();p(this,br).pop(),U(this,Hr,"");for(let e=0,t=p(this,br).length;e<t;e++){const{line:r,points:i}=p(this,br)[e];U(this,Br,r),U(this,mi,i),U(this,ua,0),this.toSVGPath()}return{path:{d:p(this,Hr)}}}toSVGPath(){const e=Fe.svgRound(p(this,Br)[4]),t=Fe.svgRound(p(this,Br)[5]);if(p(this,mi).length===2)return U(this,Hr,`${p(this,Hr)} M ${e} ${t} Z`),p(this,Hr);if(p(this,mi).length<=6){const i=p(this,Hr).lastIndexOf("M");U(this,Hr,`${p(this,Hr).slice(0,i)} M ${e} ${t}`),U(this,ua,6)}if(p(this,mi).length===4){const i=Fe.svgRound(p(this,Br)[10]),s=Fe.svgRound(p(this,Br)[11]);return U(this,Hr,`${p(this,Hr)} L ${i} ${s}`),U(this,ua,12),p(this,Hr)}const r=[];p(this,ua)===0&&(r.push(`M ${e} ${t}`),U(this,ua,6));for(let i=p(this,ua),s=p(this,Br).length;i<s;i+=6){const[a,A,l,c,f,h]=p(this,Br).slice(i,i+6).map(Fe.svgRound);r.push(`C${a} ${A} ${l} ${c} ${f} ${h}`)}return U(this,Hr,p(this,Hr)+r.join(" ")),U(this,ua,p(this,Br).length),p(this,Hr)}getOutlines(e,t,r,i){const s=p(this,br).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),p(this,od).build(p(this,br),e,t,r,p(this,ad),p(this,Eg),i),U(this,Mo,null),U(this,Br,null),U(this,br,null),U(this,Hr,null),p(this,od)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Mo=new WeakMap,Br=new WeakMap,br=new WeakMap,ad=new WeakMap,Eg=new WeakMap,mi=new WeakMap,Hr=new WeakMap,ua=new WeakMap,od=new WeakMap,Ad=new WeakMap,ld=new WeakMap,Sg=new WeakSet,Db=function(e,t){return Fe._normalizePoint(e,t,p(this,Ad),p(this,ld),p(this,ad))};var vi,uw,cw,Bs,Do,Ro,xg,Tg,ud,qr,pA,S8,x8,T8;class Bw extends Fe{constructor(){super(...arguments);P(this,qr);P(this,vi);P(this,uw,0);P(this,cw);P(this,Bs);P(this,Do);P(this,Ro);P(this,xg);P(this,Tg);P(this,ud)}build(t,r,i,s,a,A,l){U(this,Do,r),U(this,Ro,i),U(this,xg,s),U(this,Tg,a),U(this,ud,A),U(this,cw,l??0),U(this,Bs,t),Q(this,qr,x8).call(this)}get thickness(){return p(this,ud)}setLastElement(t){return p(this,Bs).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return p(this,Bs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of p(this,Bs)){if(t.push(`M${Fe.svgRound(r[4])} ${Fe.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${Fe.svgRound(r[10])} ${Fe.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,A,l,c,f,h]=r.subarray(i,i+6).map(Fe.svgRound);t.push(`C${a} ${A} ${l} ${c} ${f} ${h}`)}}return t.join("")}serialize([t,r,i,s],a){const A=[],l=[],[c,f,h,g]=Q(this,qr,S8).call(this);let v,b,B,S,x,_,T,M,F;switch(p(this,Tg)){case 0:F=Fe._rescale,v=t,b=r+s,B=i,S=-s,x=t+c*i,_=r+(1-f-g)*s,T=t+(c+h)*i,M=r+(1-f)*s;break;case 90:F=Fe._rescaleAndSwap,v=t,b=r,B=i,S=s,x=t+f*i,_=r+c*s,T=t+(f+g)*i,M=r+(c+h)*s;break;case 180:F=Fe._rescale,v=t+i,b=r,B=-i,S=s,x=t+(1-c-h)*i,_=r+f*s,T=t+(1-c)*i,M=r+(f+g)*s;break;case 270:F=Fe._rescaleAndSwap,v=t+i,b=r+s,B=-i,S=-s,x=t+(1-f-g)*i,_=r+(1-c-h)*s,T=t+(1-f)*i,M=r+(1-c)*s;break}for(const{line:R,points:L}of p(this,Bs))A.push(F(R,v,b,B,S,a?new Array(R.length):null)),l.push(F(L,v,b,B,S,a?new Array(L.length):null));return{lines:A,points:l,rect:[x,_,T,M]}}static deserialize(t,r,i,s,a,{paths:{lines:A,points:l},rotation:c,thickness:f}){const h=[];let g,v,b,B,S;switch(c){case 0:S=Fe._rescale,g=-t/i,v=r/s+1,b=1/i,B=-1/s;break;case 90:S=Fe._rescaleAndSwap,g=-r/s,v=-t/i,b=1/s,B=1/i;break;case 180:S=Fe._rescale,g=t/i+1,v=-r/s,b=-1/i,B=1/s;break;case 270:S=Fe._rescaleAndSwap,g=r/s+1,v=t/i+1,b=-1/s,B=-1/i;break}if(!A){A=[];for(const _ of l){const T=_.length;if(T===2){A.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1]]));continue}if(T===4){A.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1],NaN,NaN,NaN,NaN,_[2],_[3]]));continue}const M=new Float32Array(3*(T-2));A.push(M);let[F,R,L,K]=_.subarray(0,4);M.set([NaN,NaN,NaN,NaN,F,R],0);for(let O=4;O<T;O+=2){const $=_[O],G=_[O+1];M.set(Fe.createBezierPoints(F,R,L,K,$,G),(O-2)*3),[F,R,L,K]=[L,K,$,G]}}}for(let _=0,T=A.length;_<T;_++)h.push({line:S(A[_].map(M=>M??NaN),g,v,b,B),points:S(l[_].map(M=>M??NaN),g,v,b,B)});const x=new this.prototype.constructor;return x.build(h,i,s,1,c,f,a),x}get box(){return p(this,vi)}updateProperty(t,r){return t==="stroke-width"?Q(this,qr,T8).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=Q(this,qr,pA).call(this);U(this,Do,t),U(this,Ro,r),U(this,xg,i);const[A,l]=Q(this,qr,pA).call(this),c=A-s,f=l-a,h=p(this,vi);return h[0]-=c,h[1]-=f,h[2]+=2*c,h[3]+=2*f,h}updateRotation(t){return U(this,uw,t),{path:{transform:this.rotationTransform}}}get viewBox(){return p(this,vi).map(Fe.svgRound).join(" ")}get defaultProperties(){const[t,r]=p(this,vi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=p(this,vi);let i=0,s=0,a=0,A=0,l=0,c=0;switch(p(this,uw)){case 90:s=r/t,a=-t/r,l=t;break;case 180:i=-1,A=-1,l=t,c=r;break;case 270:s=-r/t,a=t/r,c=r;break;default:return""}return`matrix(${i} ${s} ${a} ${A} ${Fe.svgRound(l)} ${Fe.svgRound(c)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,A]=Q(this,qr,pA).call(this),[l,c,f,h]=p(this,vi);if(Math.abs(f-a)<=Fe.PRECISION||Math.abs(h-A)<=Fe.PRECISION){const S=t+i/2-(l+f/2),x=r+s/2-(c+h/2);return{path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(r)}`,transform:`${this.rotationTransform} translate(${S} ${x})`}}}const g=(i-2*a)/(f-2*a),v=(s-2*A)/(h-2*A),b=f/i,B=h/s;return{path:{"transform-origin":`${Fe.svgRound(l)} ${Fe.svgRound(c)}`,transform:`${this.rotationTransform} scale(${b} ${B}) translate(${Fe.svgRound(a)} ${Fe.svgRound(A)}) scale(${g} ${v}) translate(${Fe.svgRound(-a)} ${Fe.svgRound(-A)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,A]=Q(this,qr,pA).call(this),l=p(this,vi),[c,f,h,g]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(h-a)<=Fe.PRECISION||Math.abs(g-A)<=Fe.PRECISION){const x=t+i/2-(c+h/2),_=r+s/2-(f+g/2);for(const{line:T,points:M}of p(this,Bs))Fe._translate(T,x,_,T),Fe._translate(M,x,_,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*a)/(h-2*a),b=(s-2*A)/(g-2*A),B=-v*(c+a)+t+a,S=-b*(f+A)+r+A;if(v!==1||b!==1||B!==0||S!==0)for(const{line:x,points:_}of p(this,Bs))Fe._rescale(x,B,S,v,b,x),Fe._rescale(_,B,S,v,b,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,A=p(this,vi),l=t-A[0],c=r-A[1];if(p(this,Do)===s&&p(this,Ro)===a)for(const{line:f,points:h}of p(this,Bs))Fe._translate(f,l,c,f),Fe._translate(h,l,c,h);else{const f=p(this,Do)/s,h=p(this,Ro)/a;U(this,Do,s),U(this,Ro,a);for(const{line:g,points:v}of p(this,Bs))Fe._rescale(g,l,c,f,h,g),Fe._rescale(v,l,c,f,h,v);A[2]*=f,A[3]*=h}return A[0]=t,A[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(r)}`}}}get defaultSVGProperties(){const t=p(this,vi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Fe.svgRound(t[0])} ${Fe.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}vi=new WeakMap,uw=new WeakMap,cw=new WeakMap,Bs=new WeakMap,Do=new WeakMap,Ro=new WeakMap,xg=new WeakMap,Tg=new WeakMap,ud=new WeakMap,qr=new WeakSet,pA=function(t=p(this,ud)){const r=p(this,cw)+t/2*p(this,xg);return p(this,Tg)%180===0?[r/p(this,Do),r/p(this,Ro)]:[r/p(this,Ro),r/p(this,Do)]},S8=function(){const[t,r,i,s]=p(this,vi),[a,A]=Q(this,qr,pA).call(this,0);return[t+a,r+A,i-2*a,s-2*A]},x8=function(){const t=U(this,vi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of p(this,Bs)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)Me.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],A=s[5];for(let l=6,c=s.length;l<c;l+=6){const[f,h,g,v,b,B]=s.subarray(l,l+6);Me.bezierBoundingBox(a,A,f,h,g,v,b,B,t),a=b,A=B}}const[r,i]=Q(this,qr,pA).call(this);t[0]=ai(t[0]-r,0,1),t[1]=ai(t[1]-i,0,1),t[2]=ai(t[2]+r,0,1),t[3]=ai(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},T8=function(t){const[r,i]=Q(this,qr,pA).call(this);U(this,ud,t);const[s,a]=Q(this,qr,pA).call(this),[A,l]=[s-r,a-i],c=p(this,vi);return c[0]-=A,c[1]-=l,c[2]+=2*A,c[3]+=2*l,c};class qS extends b8{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:An._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new qS(this._viewParameters);return e.updateAll(this),e}}var MS,_8;const Jh=class Jh extends dE{constructor(t){super({...t,name:"inkEditor"});P(this,MS);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){An.initialize(t,r),this._defaultDrawingOptions=new qS(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return At(this,"typesMap",new Map([[yt.INK_THICKNESS,"stroke-width"],[yt.INK_COLOR,"stroke"],[yt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new ioe(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,A){return Bw.deserialize(t,r,i,s,a,A)}static async deserialize(t,r,i){let s=null;if(t instanceof nR){const{data:{inkLists:A,rect:l,rotation:c,id:f,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:b,richText:B,contentsObj:S,creationDate:x,modificationDate:_},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:Ze.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:A},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:c,annotationElementId:f,id:f,deleted:!1,popupRef:b,richText:B,comment:(S==null?void 0:S.str)||null,creationDate:x,modificationDate:_}}const a=await super.deserialize(t,r,i);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new uE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return yt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Jh.getDefaultDrawingOptions({stroke:Me.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":A}}=this,l=Object.assign(super.serialize(t),{color:An._colorManager.convert(s),opacity:a,thickness:A,paths:{lines:r,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!Q(this,MS,_8).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};MS=new WeakSet,_8=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((A,l)=>A!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},me(Jh,"_type","ink"),me(Jh,"_editorType",Ze.INK),me(Jh,"_defaultDrawingOptions",null);let zF=Jh;class qF extends Bw{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const gB=8,lv=3;var cd,Dt,$F,Oa,I8,U8,YF,Rb,F8,M8,D8,XF,WF,R8;class Lo{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,a,A,l){let c=new OffscreenCanvas(1,1),f=c.getContext("2d",{alpha:!1});const h=200,g=f.font=`${r} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:B,actualBoundingBoxDescent:S,fontBoundingBoxAscent:x,fontBoundingBoxDescent:_,width:T}=f.measureText(e),M=1.5,F=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,T)*M),R=Math.ceil(Math.max(Math.abs(B)+Math.abs(S)||h,Math.abs(x)+Math.abs(_)||h)*M);c=new OffscreenCanvas(F,R),f=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,F,R),f.fillStyle="black",f.fillText(e,F*(M-1)/2,R*(3-M)/2);const L=Q(this,Dt,XF).call(this,f.getImageData(0,0,F,R).data),K=Q(this,Dt,D8).call(this,L),O=Q(this,Dt,WF).call(this,K),$=Q(this,Dt,YF).call(this,L,F,R,O);return this.processDrawnLines({lines:{curves:$,width:F,height:R},pageWidth:s,pageHeight:a,rotation:A,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[a,A,l]=Q(this,Dt,R8).call(this,e),[c,f]=Q(this,Dt,M8).call(this,a,A,l,Math.hypot(A,l)*p(this,cd).sigmaSFactor,p(this,cd).sigmaR,p(this,cd).kernelSize),h=Q(this,Dt,WF).call(this,f),g=Q(this,Dt,YF).call(this,c,A,l,h);return this.processDrawnLines({lines:{curves:g,width:A,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:A}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:c,height:f}=e,h=e.thickness??0,g=[],v=Math.min(t/c,r/f),b=v/t,B=v/r,S=[];for(const{points:_}of l){const T=a?Q(this,Dt,F8).call(this,_):_;if(!T)continue;S.push(T);const M=T.length,F=new Float32Array(M),R=new Float32Array(3*(M===2?2:M-2));if(g.push({line:R,points:F}),M===2){F[0]=T[0]*b,F[1]=T[1]*B,R.set([NaN,NaN,NaN,NaN,F[0],F[1]],0);continue}let[L,K,O,$]=T;L*=b,K*=B,O*=b,$*=B,F.set([L,K,O,$],0),R.set([NaN,NaN,NaN,NaN,L,K],0);for(let G=4;G<M;G+=2){const Y=F[G]=T[G]*b,J=F[G+1]=T[G+1]*B;R.set(Fe.createBezierPoints(L,K,O,$,Y,J),(G-2)*3),[L,K,O,$]=[O,$,Y,J]}}if(g.length===0)return null;const x=A?new qF:new Bw;return x.build(g,t,r,1,i,A?0:h,s),{outline:x,newCurves:S,areContours:A,thickness:h,width:c,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let a=1/0,A=-1/0,l=0;for(const T of e){l+=T.length;for(let M=2,F=T.length;M<F;M++){const R=T[M]-T[M-2];a=Math.min(a,R),A=Math.max(A,R)}}let c;a>=-128&&A<=127?c=Int8Array:a>=-32768&&A<=32767?c=Int16Array:c=Int32Array;const f=e.length,h=gB+lv*f,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*f)*c.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=i,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(r??0)),g[v++]=f,g[v++]=c.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const b=new CompressionStream("deflate-raw"),B=b.writable.getWriter();await B.ready,B.write(g);const S=c.prototype.constructor;for(const T of e){const M=new S(T.length-2);for(let F=2,R=T.length;F<R;F++)M[F-2]=T[F]-T[F-2];B.write(M)}B.close();const x=await new Response(b.readable).arrayBuffer(),_=new Uint8Array(x);return Fz(_)}static async decompressSignature(e){try{const t=Ise(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,A=0;for await(const T of r)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,A),A+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const f=l[2],h=l[3],g=l[4]===0,v=l[5],b=l[6],B=l[7],S=[],x=(gB+lv*b)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(B){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(a.buffer,x);break}A=0;for(let T=0;T<b;T++){const M=l[lv*T+gB],F=new Float32Array(M+2);S.push(F);for(let R=0;R<lv-1;R++)F[R]=l[lv*T+gB+R+1];for(let R=0;R<M;R++)F[R+2]=F[R]+_[A++]}return{areContours:g,thickness:v,outlines:S,width:f,height:h}}catch(t){return et(`decompressSignature: ${t}`),null}}}cd=new WeakMap,Dt=new WeakSet,$F=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Oa=new WeakMap,I8=function(e,t,r,i,s,a,A){const l=Q(this,Dt,$F).call(this,r,i,s,a);for(let c=0;c<8;c++){const f=(-c+l-A+16)%8,h=p(this,Oa)[2*f],g=p(this,Oa)[2*f+1];if(e[(r+h)*t+(i+g)]!==0)return f}return-1},U8=function(e,t,r,i,s,a,A){const l=Q(this,Dt,$F).call(this,r,i,s,a);for(let c=0;c<8;c++){const f=(c+l+A+16)%8,h=p(this,Oa)[2*f],g=p(this,Oa)[2*f+1];if(e[(r+h)*t+(i+g)]!==0)return f}return-1},YF=function(e,t,r,i){const s=e.length,a=new Int32Array(s);for(let f=0;f<s;f++)a[f]=e[f]<=i?1:0;for(let f=1;f<r-1;f++)a[f*t]=a[f*t+t-1]=0;for(let f=0;f<t;f++)a[f]=a[t*r-1-f]=0;let A=1,l;const c=[];for(let f=1;f<r-1;f++){l=1;for(let h=1;h<t-1;h++){const g=f*t+h,v=a[g];if(v===0)continue;let b=f,B=h;if(v===1&&a[g-1]===0)A+=1,B-=1;else if(v>=1&&a[g+1]===0)A+=1,B+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const S=[h,f],x=B===h+1,_={isHole:x,points:S,id:A,parent:0};c.push(_);let T;for(const G of c)if(G.id===l){T=G;break}T?T.isHole?_.parent=x?T.parent:l:_.parent=x?l:T.parent:_.parent=x?l:0;const M=Q(this,Dt,I8).call(this,a,t,f,h,b,B,0);if(M===-1){a[g]=-A,a[g]!==1&&(l=Math.abs(a[g]));continue}let F=p(this,Oa)[2*M],R=p(this,Oa)[2*M+1];const L=f+F,K=h+R;b=L,B=K;let O=f,$=h;for(;;){const G=Q(this,Dt,U8).call(this,a,t,O,$,b,B,1);F=p(this,Oa)[2*G],R=p(this,Oa)[2*G+1];const Y=O+F,J=$+R;S.push(J,Y);const ne=O*t+$;if(a[ne+1]===0?a[ne]=-A:a[ne]===1&&(a[ne]=A),Y===f&&J===h&&O===L&&$===K){a[g]!==1&&(l=Math.abs(a[g]));break}else b=O,B=$,O=Y,$=J}}}return c},Rb=function(e,t,r,i){if(r-t<=4){for(let L=t;L<r-2;L+=2)i.push(e[L],e[L+1]);return}const s=e[t],a=e[t+1],A=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(A,l),f=A/c,h=l/c,g=f*a-h*s,v=l/A,b=1/c,B=Math.atan(v),S=Math.cos(B),x=Math.sin(B),_=b*(Math.abs(S)+Math.abs(x)),T=b*(1-_+_**2),M=Math.max(Math.atan(Math.abs(x+S)*T),Math.atan(Math.abs(x-S)*T));let F=0,R=t;for(let L=t+2;L<r-2;L+=2){const K=Math.abs(g-f*e[L+1]+h*e[L]);K>F&&(R=L,F=K)}F>(c*M)**2?(Q(this,Dt,Rb).call(this,e,t,R+2,i),Q(this,Dt,Rb).call(this,e,R,r,i)):i.push(s,a)},F8=function(e){const t=[],r=e.length;return Q(this,Dt,Rb).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},M8=function(e,t,r,i,s,a){const A=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let B=0;B<a;B++){const S=(B-c)**2;for(let x=0;x<a;x++)A[B*a+x]=Math.exp((S+(x-c)**2)/l)}const f=new Float32Array(256),h=-2*s**2;for(let B=0;B<256;B++)f[B]=Math.exp(B**2/h);const g=e.length,v=new Uint8Array(g),b=new Uint32Array(256);for(let B=0;B<r;B++)for(let S=0;S<t;S++){const x=B*t+S,_=e[x];let T=0,M=0;for(let R=0;R<a;R++){const L=B+R-c;if(!(L<0||L>=r))for(let K=0;K<a;K++){const O=S+K-c;if(O<0||O>=t)continue;const $=e[L*t+O],G=A[R*a+K]*f[Math.abs($-_)];T+=$*G,M+=G}}const F=v[x]=Math.round(T/M);b[F]++}return[v,b]},D8=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},XF=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let A=0,l=r.length;A<l;A++){const c=r[A]=e[A<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let A=0,l=r.length;A<l;A++)r[A]=(r[A]-s)*a;return r},WF=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,A=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-a>i&&(i=t-a,A=t-1),r=l,a=t)}for(t=A-1;t>=0&&!(e[t]>e[t+1]);t--);return t},R8=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=p(this,cd);let a=r,A=i;if(r>s||i>s){let g=r,v=i,b=Math.log2(Math.max(r,i)/s);const B=Math.floor(b);b=b===B?B-1:B;for(let x=0;x<b;x++){a=Math.ceil(g/2),A=Math.ceil(v/2);const _=new OffscreenCanvas(a,A);_.getContext("2d").drawImage(e,0,0,g,v,0,0,a,A),g=a,v=A,e!==t&&e.close(),e=_.transferToImageBitmap()}const S=Math.min(s/a,s/A);a=Math.round(a*S),A=Math.round(A*S)}const c=new OffscreenCanvas(a,A).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,A),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,A);const f=c.getImageData(0,0,a,A).data;return[Q(this,Dt,XF).call(this,f),a,A]},P(Lo,Dt),P(Lo,cd,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),P(Lo,Oa,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class iR extends b8{constructor(){super(),super.updateProperties({fill:An._defaultLineColor,"stroke-width":0})}clone(){const e=new iR;return e.updateAll(this),e}}class sR extends qS{constructor(e){super(e),super.updateProperties({stroke:An._defaultLineColor,"stroke-width":1})}clone(){const e=new sR(this._viewParameters);return e.updateAll(this),e}}var Yu,Po,Xu,fd;const as=class as extends dE{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});P(this,Yu,!1);P(this,Po,null);P(this,Xu,null);P(this,fd,null);this._willKeepAspectRatio=!0,U(this,Xu,t.signatureData||null),U(this,Po,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){An.initialize(t,r),this._defaultDrawingOptions=new iR,this._defaultDrawnSignatureOptions=new sR(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return At(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!p(this,Po)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(p(this,Xu)){const{lines:s,mustSmooth:a,areContours:A,description:l,uuid:c,heightInPage:f}=p(this,Xu),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,b=Lo.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:as._INNER_MARGIN,mustSmooth:a,areContours:A});this.addSignature(b,f,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:p(this,Po)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){U(this,fd,t),this.addEditToolbar()}getUuid(){return p(this,fd)}get description(){return p(this,Po)}set description(t){U(this,Po,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:a}=p(this,Xu),A=Math.max(s,a),l=Lo.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:s,height:a},pageWidth:A,pageHeight:A,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:a,y:A}=this,{outline:l}=U(this,Xu,t);U(this,Yu,l instanceof qF),this.description=i;let c;p(this,Yu)?c=as.getDefaultDrawingOptions():(c=as._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,f]=this.pageDimensions;let h=r/f;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=A,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Lo.process(t,r,i,s,as._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return Lo.extractContoursFromText(t,r,i,s,a,as._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Lo.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:as._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=as.getDefaultDrawingOptions():(this._drawingOptions=as._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:p(this,Yu),color:[0,0,0],thickness:p(this,Yu)?0:s});return this.addComment(a),t?(a.paths={lines:r,points:i},a.uuid=p(this,fd),a.isCopy=!0):a.lines=r,p(this,Po)&&(a.accessibilityData={type:"Figure",alt:p(this,Po)}),a}static deserializeDraw(t,r,i,s,a,A){return A.areContours?qF.deserialize(t,r,i,s,a,A):Bw.deserialize(t,r,i,s,a,A)}static async deserialize(t,r,i){var a;const s=await super.deserialize(t,r,i);return U(s,Yu,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",U(s,fd,t.uuid),s}};Yu=new WeakMap,Po=new WeakMap,Xu=new WeakMap,fd=new WeakMap,me(as,"_type","signature"),me(as,"_editorType",Ze.SIGNATURE),me(as,"_defaultDrawingOptions",null);let jF=as;var vn,Er,Wu,YA,ju,_g,XA,dd,Qo,bs,Ig,bt,Kv,Gv,Pb,Qb,Nb,ZF,Lb,P8;class JF extends An{constructor(t){super({...t,name:"stampEditor"});P(this,bt);P(this,vn,null);P(this,Er,null);P(this,Wu,null);P(this,YA,null);P(this,ju,null);P(this,_g,"");P(this,XA,null);P(this,dd,!1);P(this,Qo,null);P(this,bs,!1);P(this,Ig,!1);U(this,YA,t.bitmapUrl),U(this,ju,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){An.initialize(t,r)}static isHandlingMimeForPasting(t){return sE.includes(t)}static paste(t,r){r.pasteEditor({mode:Ze.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:A}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:A,channels:s.length/(a*A)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;p(this,Er)&&(U(this,vn,null),this._uiManager.imageManager.deleteId(p(this,Er)),(t=p(this,XA))==null||t.remove(),U(this,XA,null),p(this,Qo)&&(clearTimeout(p(this,Qo)),U(this,Qo,null))),super.remove()}rebuild(){if(!this.parent){p(this,Er)&&Q(this,bt,Pb).call(this);return}super.rebuild(),this.div!==null&&(p(this,Er)&&p(this,XA)===null&&Q(this,bt,Pb).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(p(this,Wu)||p(this,vn)||p(this,YA)||p(this,ju)||p(this,Er)||p(this,dd))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),p(this,dd)||(p(this,vn)?Q(this,bt,Qb).call(this):Q(this,bt,Pb).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(U(this,Er,i),s&&U(this,vn,s),U(this,dd,!1),Q(this,bt,Qb).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;p(this,Qo)!==null&&clearTimeout(p(this,Qo)),U(this,Qo,setTimeout(()=>{U(this,Qo,null),Q(this,bt,ZF).call(this)},200))}copyCanvas(t,r,i=!1){t||(t=224);const{width:s,height:a}=p(this,vn),A=new Ya;let l=p(this,vn),c=s,f=a,h=null;if(r){if(s>r||a>r){const L=Math.min(r/s,r/a);c=Math.floor(s*L),f=Math.floor(a*L)}h=document.createElement("canvas");const v=h.width=Math.ceil(c*A.sx),b=h.height=Math.ceil(f*A.sy);p(this,bs)||(l=Q(this,bt,Nb).call(this,v,b));const B=h.getContext("2d");B.filter=this._uiManager.hcmFilter;let S="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":Mse.isDarkMode&&(S="#8f8f9d",x="#42414d");const _=15,T=_*A.sx,M=_*A.sy,F=new OffscreenCanvas(T*2,M*2),R=F.getContext("2d");R.fillStyle=S,R.fillRect(0,0,T*2,M*2),R.fillStyle=x,R.fillRect(0,0,T,M),R.fillRect(T,M,T,M),B.fillStyle=B.createPattern(F,"repeat"),B.fillRect(0,0,v,b),B.drawImage(l,0,0,l.width,l.height,0,0,v,b)}let g=null;if(i){let v,b;if(A.symmetric&&l.width<t&&l.height<t)v=l.width,b=l.height;else if(l=p(this,vn),s>t||a>t){const x=Math.min(t/s,t/a);v=Math.floor(s*x),b=Math.floor(a*x),p(this,bs)||(l=Q(this,bt,Nb).call(this,v,b))}const S=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});S.drawImage(l,0,0,l.width,l.height,0,0,v,b),g={width:v,height:b,data:S.getImageData(0,0,v,b).data}}return{canvas:h,width:c,height:f,imageData:g}}static async deserialize(t,r,i){var S;let s=null,a=!1;if(t instanceof j5){const{data:{rect:x,rotation:_,id:T,structParent:M,popupRef:F,richText:R,contentsObj:L,creationDate:K,modificationDate:O},container:$,parent:{page:{pageNumber:G}},canvas:Y}=t;let J,ne;Y?(delete t.canvas,{id:J,bitmap:ne}=i.imageManager.getFromCanvas($.id,Y),Y.remove()):(a=!0,t._hasNoCanvas=!0);const fe=((S=await r._structTree.getAriaAttributes(`${$D}${T}`))==null?void 0:S.get("aria-label"))||"";s=t={annotationType:Ze.STAMP,bitmapId:J,bitmap:ne,pageIndex:G-1,rect:x.slice(0),rotation:_,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:fe},isSvg:!1,structParent:M,popupRef:F,richText:R,comment:(L==null?void 0:L.str)||null,creationDate:K,modificationDate:O}}const A=await super.deserialize(t,r,i),{rect:l,bitmap:c,bitmapUrl:f,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(i.addMissingCanvas(t.id,A),U(A,dd,!0)):h&&i.imageManager.isValidId(h)?(U(A,Er,h),c&&U(A,vn,c)):U(A,YA,f),U(A,bs,g);const[b,B]=A.pageDimensions;return A.width=(l[2]-l[0])/b,A.height=(l[3]-l[1])/B,v&&(A.altTextData=v),A._initialData=s,t.comment&&A.setCommentData(t),U(A,Ig,!!s),A}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:p(this,Er),isSvg:p(this,bs)});if(this.addComment(i),t)return i.bitmapUrl=Q(this,bt,Lb).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=Q(this,bt,P8).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const A=p(this,bs)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(p(this,Er)))r.stamps.set(p(this,Er),{area:A,serialized:i}),i.bitmap=Q(this,bt,Lb).call(this,!1);else if(p(this,bs)){const l=r.stamps.get(p(this,Er));A>l.area&&(l.area=A,l.serialized.bitmap.close(),l.serialized.bitmap=Q(this,bt,Lb).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}vn=new WeakMap,Er=new WeakMap,Wu=new WeakMap,YA=new WeakMap,ju=new WeakMap,_g=new WeakMap,XA=new WeakMap,dd=new WeakMap,Qo=new WeakMap,bs=new WeakMap,Ig=new WeakMap,bt=new WeakSet,Kv=function(t,r=!1){if(!t){this.remove();return}U(this,vn,t.bitmap),r||(U(this,Er,t.id),U(this,bs,t.isSvg)),t.file&&U(this,_g,t.file.name),Q(this,bt,Qb).call(this)},Gv=function(){if(U(this,Wu,null),this._uiManager.enableWaiting(!1),!!p(this,XA)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,vn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,vn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Pb=function(){if(p(this,Er)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(p(this,Er)).then(i=>Q(this,bt,Kv).call(this,i,!0)).finally(()=>Q(this,bt,Gv).call(this));return}if(p(this,YA)){const i=p(this,YA);U(this,YA,null),this._uiManager.enableWaiting(!0),U(this,Wu,this._uiManager.imageManager.getFromUrl(i).then(s=>Q(this,bt,Kv).call(this,s)).finally(()=>Q(this,bt,Gv).call(this)));return}if(p(this,ju)){const i=p(this,ju);U(this,ju,null),this._uiManager.enableWaiting(!0),U(this,Wu,this._uiManager.imageManager.getFromFile(i).then(s=>Q(this,bt,Kv).call(this,s)).finally(()=>Q(this,bt,Gv).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=sE.join(",");const r=this._uiManager._signal;U(this,Wu,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),Q(this,bt,Kv).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>Q(this,bt,Gv).call(this))),t.click()},Qb=function(){var c;const{div:t}=this;let{width:r,height:i}=p(this,vn);const[s,a]=this.pageDimensions,A=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>A*s||i>A*a){const f=Math.min(A*s/r,A*a/i);r*=f,i*=f}this._uiManager.enableWaiting(!1);const l=U(this,XA,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),Q(this,bt,ZF).call(this),p(this,Ig)||(this.parent.addUndoableEditor(this),U(this,Ig,!0)),this._reportTelemetry({action:"inserted_image"}),p(this,_g)&&this.div.setAttribute("aria-description",p(this,_g)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Nb=function(t,r){const{width:i,height:s}=p(this,vn);let a=i,A=s,l=p(this,vn);for(;a>2*t||A>2*r;){const c=a,f=A;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),A>2*r&&(A=A>=16384?Math.floor(A/2)-1:Math.ceil(A/2));const h=new OffscreenCanvas(a,A);h.getContext("2d").drawImage(l,0,0,c,f,0,0,a,A),l=h.transferToImageBitmap()}return l},ZF=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new Ya,A=Math.ceil(i*t*a.sx),l=Math.ceil(s*r*a.sy),c=p(this,XA);if(!c||c.width===A&&c.height===l)return;c.width=A,c.height=l;const f=p(this,bs)?p(this,vn):Q(this,bt,Nb).call(this,A,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(f,0,0,f.width,f.height,0,0,A,l)},Lb=function(t){if(t){if(p(this,bs)){const s=this._uiManager.imageManager.getSvgUrl(p(this,Er));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=p(this,vn),r.getContext("2d").drawImage(p(this,vn),0,0),r.toDataURL()}if(p(this,bs)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*cl.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*cl.PDF_TO_CSS_UNITS),A=new OffscreenCanvas(s,a);return A.getContext("2d").drawImage(p(this,vn),0,0,p(this,vn).width,p(this,vn).height,0,0,s,a),A.transferToImageBitmap()}return structuredClone(p(this,vn))},P8=function(t){var A;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((A=t.accessibilityData)==null?void 0:A.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},me(JF,"_type","stamp"),me(JF,"_editorType",Ze.STAMP);var hd,Ug,Ju,Zu,WA,Vi,ec,Fg,Mg,Ha,jA,Sr,JA,tc,Dg,Le,nc,tn,eM,Q8,fo,tM,nM,kb;const Ua=class Ua{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:A,textLayer:l,viewport:c,l10n:f}){P(this,tn);P(this,hd);P(this,Ug,!1);P(this,Ju,null);P(this,Zu,null);P(this,WA,null);P(this,Vi,new Map);P(this,ec,!1);P(this,Fg,!1);P(this,Mg,!1);P(this,Ha,null);P(this,jA,null);P(this,Sr,null);P(this,JA,null);P(this,tc,null);P(this,Dg,-1);P(this,Le);const h=[...p(Ua,nc).values()];if(!Ua._initialized){Ua._initialized=!0;for(const g of h)g.initialize(f,e)}e.registerEditorTypes(h),U(this,Le,e),this.pageIndex=t,this.div=r,U(this,hd,s),U(this,Ju,a),this.viewport=c,U(this,Sr,l),this.drawLayer=A,this._structTree=i,p(this,Le).addLayer(this)}get isEmpty(){return p(this,Vi).size===0}get isInvisible(){return this.isEmpty&&p(this,Le).getMode()===Ze.NONE}updateToolbar(e){p(this,Le).updateToolbar(e)}updateMode(e=p(this,Le).getMode()){switch(Q(this,tn,kb).call(this),e){case Ze.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ze.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ze.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Ze.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of p(Ua,nc).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=p(this,Sr))==null?void 0:t.div)}setEditingState(e){p(this,Le).setEditingState(e)}addCommands(e){p(this,Le).addCommands(e)}cleanUndoStack(e){p(this,Le).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=p(this,Ju))==null||t.div.classList.toggle("disabled",!e)}async enable(){var r;U(this,Mg,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=p(this,tc))==null||r.abort(),U(this,tc,null);const e=new Set;for(const i of p(this,tn,eM))i.enableEditing(),i.show(!0),i.annotationElementId&&(p(this,Le).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=p(this,Ju);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),p(this,Le).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}U(this,Mg,!1),p(this,Le)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(U(this,Fg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),p(this,Sr)&&!p(this,tc)){U(this,tc,new AbortController);const i=p(this,Le).combinedSignal(p(this,tc));p(this,Sr).div.addEventListener("pointerdown",s=>{const{clientX:A,clientY:l,timeStamp:c}=s,f=p(this,Dg);if(c-f>500){U(this,Dg,c);return}U(this,Dg,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const g=document.elementsFromPoint(A,l);if(h.toggle("getElements",!1),!this.div.contains(g[0]))return;let v;const b=new RegExp(`^${Ay}[0-9]+$`);for(const S of g)if(b.test(S.id)){v=S.id;break}if(!v)return;const B=p(this,Vi).get(v);(B==null?void 0:B.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),B.dblclick(s))},{signal:i,capture:!0})}const e=p(this,Ju);if(e){const i=new Map,s=new Map;for(const A of p(this,tn,eM)){if(A.disableEditing(),!A.annotationElementId){A.updateFakeAnnotationElement(e);continue}if(A.serialize()!==null){i.set(A.annotationElementId,A);continue}else s.set(A.annotationElementId,A);(r=this.getEditableAnnotation(A.annotationElementId))==null||r.show(),A.remove()}const a=e.getEditableAnnotations();for(const A of a){const{id:l}=A.data;if(p(this,Le).isDeletedAnnotationElement(l)){A.updateEdited({deleted:!0});continue}let c=s.get(l);if(c){c.resetAnnotationElement(A),c.show(!1),A.show();continue}c=i.get(l),c&&(p(this,Le).addChangedExistingAnnotation(c),c.renderAnnotationElement(A)&&c.show(!1)),A.show()}}Q(this,tn,kb).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const i of p(Ua,nc).values())t.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),U(this,Fg,!1)}getEditableAnnotation(e){var t;return((t=p(this,Ju))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){p(this,Le).getActive()!==e&&p(this,Le).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=p(this,Sr))!=null&&e.div&&!p(this,JA)){U(this,JA,new AbortController);const t=p(this,Le).combinedSignal(p(this,JA));p(this,Sr).div.addEventListener("pointerdown",Q(this,tn,Q8).bind(this),{signal:t}),p(this,Sr).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=p(this,Sr))!=null&&e.div&&p(this,JA)&&(p(this,JA).abort(),U(this,JA,null),p(this,Sr).div.classList.remove("highlighting"))}enableClick(){if(p(this,Zu))return;U(this,Zu,new AbortController);const e=p(this,Le).combinedSignal(p(this,Zu));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=p(this,Zu))==null||e.abort(),U(this,Zu,null)}attach(e){p(this,Vi).set(e.id,e);const{annotationElementId:t}=e;t&&p(this,Le).isDeletedAnnotationElement(t)&&p(this,Le).removeDeletedAnnotationElement(e)}detach(e){var t;p(this,Vi).delete(e.id),(t=p(this,hd))==null||t.removePointerInTextLayer(e.contentDiv),!p(this,Fg)&&e.annotationElementId&&p(this,Le).addDeletedAnnotationElement(e)}remove(e){this.detach(e),p(this,Le).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(p(this,Le).addDeletedAnnotationElement(e.annotationElementId),An.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),p(this,Le).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!p(this,Mg)),p(this,Le).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!p(this,WA)&&(e._focusEventsAllowed=!1,U(this,WA,setTimeout(()=>{U(this,WA,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:p(this,Le)._signal}),t.focus())},0))),e._structTreeParentId=(r=p(this,hd))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of p(this,Vi).values())if(t.uid===e)return t;return null}getNextId(){return p(this,Le).getId()}combinedSignal(e){return p(this,Le).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=p(this,tn,fo))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await p(this,Le).updateMode(e.mode);const{offsetX:r,offsetY:i}=Q(this,tn,nM).call(this),s=this.getNextId(),a=Q(this,tn,tM).call(this,{parent:this,id:s,x:r,y:i,uiManager:p(this,Le),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=p(Ua,nc).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,p(this,Le)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=Q(this,tn,tM).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:p(this,Le),isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(Q(this,tn,nM).call(this),!0,e)}setSelected(e){p(this,Le).setSelected(e)}toggleSelected(e){p(this,Le).toggleSelected(e)}unselect(e){p(this,Le).unselect(e)}pointerup(e){var i;const{isMac:t}=Tr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!p(this,ec)||(U(this,ec,!1),(i=p(this,tn,fo))!=null&&i.isDrawer&&p(this,tn,fo).supportMultipleDrawings))return;if(!p(this,Ug)){U(this,Ug,!0);return}const r=p(this,Le).getMode();if(r===Ze.STAMP||r===Ze.SIGNATURE){p(this,Le).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(p(this,Le).getMode()===Ze.HIGHLIGHT&&this.enableTextSelection(),p(this,ec)){U(this,ec,!1);return}const{isMac:t}=Tr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(U(this,ec,!0),(i=p(this,tn,fo))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=p(this,Le).getActive();U(this,Ug,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),p(this,Ha)){p(this,tn,fo).startDrawing(this,p(this,Le),!1,e);return}p(this,Le).setCurrentDrawingSession(this),U(this,Ha,new AbortController);const t=p(this,Le).combinedSignal(p(this,Ha));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(U(this,jA,null),this.commitOrRemove())},{signal:t}),p(this,tn,fo).startDrawing(this,p(this,Le),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&U(this,jA,t);return}p(this,jA)&&setTimeout(()=>{var t;(t=p(this,jA))==null||t.focus(),U(this,jA,null)},0)}endDrawingSession(e=!1){return p(this,Ha)?(p(this,Le).setCurrentDrawingSession(null),p(this,Ha).abort(),U(this,Ha,null),U(this,jA,null),p(this,tn,fo).endDrawing(e)):null}findNewParent(e,t,r){const i=p(this,Le).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return p(this,Ha)?(this.endDrawingSession(),!0):!1}onScaleChanging(){p(this,Ha)&&p(this,tn,fo).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=p(this,Le).getActive())==null?void 0:e.parent)===this&&(p(this,Le).commitOrRemove(),p(this,Le).setActiveEditor(null)),p(this,WA)&&(clearTimeout(p(this,WA)),U(this,WA,null));for(const r of p(this,Vi).values())(t=p(this,hd))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,p(this,Vi).clear(),p(this,Le).removeLayer(this)}render({viewport:e}){this.viewport=e,uc(this.div,e);for(const t of p(this,Le).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){p(this,Le).commitOrRemove(),Q(this,tn,kb).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,uc(this.div,{rotation:r}),t!==r)for(const i of p(this,Vi).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return p(this,Le).viewParameters.realScale}};hd=new WeakMap,Ug=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,WA=new WeakMap,Vi=new WeakMap,ec=new WeakMap,Fg=new WeakMap,Mg=new WeakMap,Ha=new WeakMap,jA=new WeakMap,Sr=new WeakMap,JA=new WeakMap,tc=new WeakMap,Dg=new WeakMap,Le=new WeakMap,nc=new WeakMap,tn=new WeakSet,eM=function(){return p(this,Vi).size!==0?p(this,Vi).values():p(this,Le).getEditors(this.pageIndex)},Q8=function(e){p(this,Le).unselectAll();const{target:t}=e;if(t===p(this,Sr).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&p(this,Sr).div.contains(t)){const{isMac:r}=Tr.platform;if(e.button!==0||e.ctrlKey&&r)return;p(this,Le).showAllEditors("highlight",!0,!0),p(this,Sr).div.classList.add("free"),this.toggleDrawing(),fE.startHighlighting(this,p(this,Le).direction==="ltr",{target:p(this,Sr).div,x:e.x,y:e.y}),p(this,Sr).div.addEventListener("pointerup",()=>{p(this,Sr).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(this,Le)._signal}),e.preventDefault()}},fo=function(){return p(Ua,nc).get(p(this,Le).getMode())},tM=function(e){const t=p(this,tn,fo);return t?new t.prototype.constructor(e):null},nM=function(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),A=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+A)/2-e,f=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[c,f]:[f,c];return{offsetX:h,offsetY:g}},kb=function(){for(const e of p(this,Vi).values())e.isEmpty()&&e.remove()},me(Ua,"_initialized",!1),P(Ua,nc,new Map([PF,zF,JF,fE,jF].map(e=>[e._editorType,e])));let hE=Ua;var Ka,yi,pd,fw,DS,N8,Vo,rM,L8,iM;const rr=class rr{constructor({pageIndex:e}){P(this,Vo);P(this,Ka,null);P(this,yi,new Map);P(this,pd,new Map);this.pageIndex=e}setParent(e){if(!p(this,Ka)){U(this,Ka,e);return}if(p(this,Ka)!==e){if(p(this,yi).size>0)for(const t of p(this,yi).values())t.remove(),e.append(t);U(this,Ka,e)}}static get _svgFactory(){return At(this,"_svgFactory",new py)}draw(e,t=!1,r=!1){const i=nr(rr,fw)._++,s=Q(this,Vo,rM).call(this),a=rr._svgFactory.createElement("defs");s.append(a);const A=rr._svgFactory.createElement("path");a.append(A);const l=`path_p${this.pageIndex}_${i}`;A.setAttribute("id",l),A.setAttribute("vector-effect","non-scaling-stroke"),t&&p(this,pd).set(i,A);const c=r?Q(this,Vo,L8).call(this,a,l):null,f=rr._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${l}`),this.updateProperties(s,e),p(this,yi).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const r=nr(rr,fw)._++,i=Q(this,Vo,rM).call(this),s=rr._svgFactory.createElement("defs");i.append(s);const a=rr._svgFactory.createElement("path");s.append(a);const A=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",A),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=rr._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=rr._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=rr._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${A}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const c=rr._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${A}`),l&&c.setAttribute("mask",`url(#${l})`);const f=c.cloneNode();return i.append(f),c.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),p(this,yi).set(r,i),r}finalizeDraw(e,t){p(this,pd).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,A=typeof e=="number"?p(this,yi).get(e):e;if(A){if(r&&Q(this,Vo,iM).call(this,A,r),i&&Q(l=rr,DS,N8).call(l,A,i),s){const{classList:c}=A;for(const[f,h]of Object.entries(s))c.toggle(f,h)}if(a){const f=A.firstChild.firstChild;Q(this,Vo,iM).call(this,f,a)}}}updateParent(e,t){if(t===this)return;const r=p(this,yi).get(e);r&&(p(t,Ka).append(r),p(this,yi).delete(e),p(t,yi).set(e,r))}remove(e){p(this,pd).delete(e),p(this,Ka)!==null&&(p(this,yi).get(e).remove(),p(this,yi).delete(e))}destroy(){U(this,Ka,null);for(const e of p(this,yi).values())e.remove();p(this,yi).clear(),p(this,pd).clear()}};Ka=new WeakMap,yi=new WeakMap,pd=new WeakMap,fw=new WeakMap,DS=new WeakSet,N8=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Vo=new WeakSet,rM=function(){const e=rr._svgFactory.create(1,1,!0);return p(this,Ka).append(e),e.setAttribute("aria-hidden",!0),e},L8=function(e,t){const r=rr._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=rr._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},iM=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},P(rr,DS),P(rr,fw,0);let pE=rr;globalThis._pdfjsTestingUtils={HighlightOutliner:NF};globalThis.pdfjsLib={AbortException:ul,AnnotationEditorLayer:hE,AnnotationEditorParamsType:yt,AnnotationEditorType:Ze,AnnotationEditorUIManager:cc,AnnotationLayer:rR,AnnotationMode:No,AnnotationType:Ln,applyOpacity:Qz,build:k5,ColorPicker:hy,createValidAbsoluteUrl:VD,CSSConstants:Pz,DOMSVGFactory:py,DrawLayer:pE,FeatureTest:Tr,fetchData:em,findContrastColor:Nz,getDocument:zS,getFilenameFromUrl:Mz,getPdfFilenameFromUrl:Dz,getRGB:tm,getUuid:qD,getXfaPageViewport:Rz,GlobalWorkerOptions:_s,ImageKind:ey,InvalidPDFException:iE,isDataScheme:yw,isPdfFile:GS,isValidExplicitDest:g5,MathClamp:ai,noContextMenu:Rs,normalizeUnicode:Uz,OPS:Rg,OutputScale:Ya,PasswordResponses:_z,PDFDataRangeTransport:ZD,PDFDateString:cy,PDFWorker:Pg,PermissionFlag:Tz,PixelsPerInch:cl,RenderingCancelledException:KS,renderRichText:XD,ResponseException:ly,setLayerDimensions:uc,shadow:At,SignatureExtractor:Lo,stopEvent:Sn,SupportedImageMimeTypes:sE,TextLayer:dy,TouchManager:fy,updateUrlHash:zD,Util:Me,VerbosityLevel:gw,version:eR,XfaLayer:YD};const soe=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ul,AnnotationEditorLayer:hE,AnnotationEditorParamsType:yt,AnnotationEditorType:Ze,AnnotationEditorUIManager:cc,AnnotationLayer:rR,AnnotationMode:No,AnnotationType:Ln,CSSConstants:Pz,ColorPicker:hy,DOMSVGFactory:py,DrawLayer:pE,FeatureTest:Tr,GlobalWorkerOptions:_s,ImageKind:ey,InvalidPDFException:iE,MathClamp:ai,OPS:Rg,OutputScale:Ya,PDFDataRangeTransport:ZD,PDFDateString:cy,PDFWorker:Pg,PasswordResponses:_z,PermissionFlag:Tz,PixelsPerInch:cl,RenderingCancelledException:KS,ResponseException:ly,SignatureExtractor:Lo,SupportedImageMimeTypes:sE,TextLayer:dy,TouchManager:fy,Util:Me,VerbosityLevel:gw,XfaLayer:YD,applyOpacity:Qz,build:k5,createValidAbsoluteUrl:VD,fetchData:em,findContrastColor:Nz,getDocument:zS,getFilenameFromUrl:Mz,getPdfFilenameFromUrl:Dz,getRGB:tm,getUuid:qD,getXfaPageViewport:Rz,isDataScheme:yw,isPdfFile:GS,isValidExplicitDest:g5,noContextMenu:Rs,normalizeUnicode:Uz,renderRichText:XD,setLayerDimensions:uc,shadow:At,stopEvent:Sn,updateUrlHash:zD,version:eR},Symbol.toStringTag,{value:"Module"}));_s.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const aoe=async n=>{try{const e=await n.arrayBuffer(),t=await zS({data:e}).promise;let r="",i=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");r+=h+" ",h.trim().length>0&&i.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:i}}catch(e){throw console.error("PDF Processing Error:",e),e}},ooe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const A=s.text.toLowerCase();return t.forEach(l=>{A.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},Aoe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],k8=I.createContext(void 0),loe=({children:n})=>{const[e,t]=I.useState(Aoe),[r,i]=I.useState(null),[s,a]=I.useState([]),[A,l]=I.useState(!1),[c,f]=I.useState(0),[h,g]=I.useState("medium"),[v,b]=I.useState("light"),[B,S]=I.useState("single"),[x,_]=I.useState(!0),[T,M]=I.useState([]),[F,R]=I.useState([]),[L,K]=I.useState(null),[O,$]=I.useState("idle"),[G,Y]=I.useState("#ef4444"),[J,ne]=I.useState(3),[fe,H]=I.useState(1),[z,oe]=I.useState({}),[le,Ce]=I.useState([]),[V,W]=I.useState(!1),[ae,ue]=I.useState(null),[we,ve]=I.useState([]),[ye,rt]=I.useState(!0),[re,be]=I.useState("ai"),[ke,he]=I.useState(""),[He,Ie]=I.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),Ke=e[c];I.useEffect(()=>{window.innerWidth<1024&&rt(!1)},[]),I.useEffect(()=>{const Se=setInterval(()=>{document.visibilityState==="visible"&&tt()},5e3);return()=>clearInterval(Se)},[]),I.useEffect(()=>{Ie(Se=>({...Se,chapterVisits:{...Se.chapterVisits,[Ke.id]:(Se.chapterVisits[Ke.id]||0)+1}}))},[Ke.id]);const tt=()=>{Ie(Se=>({...Se,totalReadingTime:Se.totalReadingTime+5}))},Cn=()=>{Ie(Se=>({...Se,aiInteractionCount:Se.aiInteractionCount+1}))},dr=()=>{b(Se=>Se==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},_i=()=>_(Se=>!Se),Ea=()=>{M(Se=>Se.includes(Ke.id)?Se.filter(at=>at!==Ke.id):[...Se,Ke.id])},ge=()=>{c<e.length-1&&f(Se=>Se+1)},Re=()=>{c>0&&f(Se=>Se-1)},pe=Se=>{Se>=0&&Se<e.length&&f(Se)},Be=async Se=>{l(!0);try{const at=await aoe(Se);at.chapters.length>0?(t(at.chapters),f(0),a(at.chunks),i(null),rt(!0),be("ai"),alert(`"${Se.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(at){console.error("PDF Load Failed",at),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},Xe=(Se,at,ct)=>{const je=ct||Ke.id,Bn={id:Date.now().toString(),chapterId:je,text:Se,color:"yellow",note:at,createdAt:Date.now()};R(Ns=>[Bn,...Ns]),Ie(Ns=>({...Ns,highlightCount:Ns.highlightCount+1}))},Ye=(Se,at)=>{R(ct=>ct.map(je=>je.id===Se?{...je,note:at}:je))},We=Se=>{R(at=>at.filter(ct=>ct.id!==Se))},Oe=Se=>{_(!0),K(Se),setTimeout(()=>K(null),2e3)},_t=(Se,at)=>{oe(ct=>({...ct,[Se]:[...ct[Se]||[],at]}))},Ft=(Se,at)=>{oe(ct=>({...ct,[Se]:(ct[Se]||[]).filter(je=>je.id!==at)}))},Wr=Se=>(z[Se]||[]).length>0,ji=(Se,at)=>{const ct={id:Date.now().toString(),title:Se||"Untitled Note",content:at,chapterId:Ke.id,chapterTitle:Ke.title,createdAt:Date.now(),updatedAt:Date.now()};Ce(je=>[ct,...je])},ro=(Se,at,ct)=>{Ce(je=>je.map(Bn=>Bn.id===Se?{...Bn,title:at,content:ct,updatedAt:Date.now()}:Bn))},fi=Se=>{Ce(at=>at.filter(ct=>ct.id!==Se))},io=Se=>{let at=Se.content.replace(/<[^>]+>/g,"");const ct=new Blob([`# ${Se.title}

${at}`],{type:"text/markdown"}),je=URL.createObjectURL(ct),Bn=document.createElement("a");Bn.href=je,Bn.download=`${Se.title.replace(/\s+/g,"_")}.md`,Bn.click(),URL.revokeObjectURL(je)},di=async Se=>{const at=await Se.text();let ct=Se.name.replace(".md","").replace(".json",""),je=at.replace(/\n/g,"<br>");ji(ct,je)},cm=(Se,at)=>{const ct={id:Date.now().toString(),role:Se,text:at,timestamp:Date.now()};ve(je=>[...je,ct])},Vx=async Se=>{rt(!0),be("ai");const at=`Explain: "${Se}"`;cm("user",at),Cn(),Ke.content.substring(0,2e3),s.length>0&&ooe(Se,s);const ct=await xz();cm("model",ct)},zx=Se=>{if(!Se||Se.length<2)return[];const at=[],ct=Se.toLowerCase();return e.forEach(je=>{const Bn=je.content.replace(/<[^>]+>/g," "),Ns=Bn.toLowerCase().indexOf(ct);if(Ns!==-1){const fm=Math.max(0,Ns-40),Ld=Math.min(Bn.length,Ns+40+Se.length),Ec=(fm>0?"...":"")+Bn.substring(fm,Ld)+(Ld<Bn.length?"...":"");at.push({id:`ch-${je.id}-${Ns}`,type:"chapter",title:je.title,contentSnippet:Ec,chapterId:je.id,matchIndex:Ns})}}),F.forEach(je=>{(je.text.toLowerCase().includes(ct)||je.note&&je.note.toLowerCase().includes(ct))&&at.push({id:`hl-${je.id}`,type:"highlight",title:"Highlight",contentSnippet:je.note?`${je.text} - ${je.note}`:je.text,chapterId:je.chapterId})}),le.forEach(je=>{const Bn=je.content.replace(/<[^>]+>/g," ");(je.title.toLowerCase().includes(ct)||Bn.toLowerCase().includes(ct))&&at.push({id:`note-${je.id}`,type:"note",title:je.title,contentSnippet:Bn.substring(0,80)+"...",chapterId:je.chapterId})}),at},Nd=()=>{console.log("Saving progress..."),alert("Progress Saved! (Simulated)")};return N.jsx(k8.Provider,{value:{chapters:e,referenceDocument:r,currentChapterIndex:c,currentChapter:Ke,goToNextChapter:ge,goToPrevChapter:Re,goToChapter:pe,uploadBook:Be,isProcessing:A,fontSize:h,setFontSize:g,viewMode:B,setViewMode:S,theme:v,toggleTheme:dr,showAnnotations:x,toggleAnnotations:_i,bookmarks:T,toggleBookmark:Ea,highlights:F,addHighlight:Xe,updateHighlight:Ye,removeHighlight:We,activeHighlightId:L,focusHighlight:Oe,drawingMode:O,setDrawingMode:$,penColor:G,setPenColor:Y,penWidth:J,setPenWidth:ne,penOpacity:fe,setPenOpacity:H,chapterStrokes:z,addStroke:_t,removeStroke:Ft,hasStrokes:Wr,generalNotes:le,addGeneralNote:ji,updateGeneralNote:ro,removeGeneralNote:fi,importNotes:di,exportNoteAsMarkdown:io,isCaptureMode:V,setCaptureMode:W,capturedImage:ae,setCapturedImage:ue,aiChatHistory:we,addChatMessage:cm,triggerSmartExplain:Vx,isToolsOpen:ye,setToolsOpen:rt,activeToolTab:re,setActiveToolTab:be,searchQuery:ke,setSearchQuery:he,performSearch:zx,stats:He,incrementAiCount:Cn,updateReadingTime:tt,saveProgress:Nd},children:n})},Dd=()=>{const n=I.useContext(k8);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),coe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),AH=n=>{const e=coe(n);return e.charAt(0).toUpperCase()+e.slice(1)},O8=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),foe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var doe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...A},l)=>I.createElement("svg",{ref:l,...doe,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:O8("lucide",i),...!s&&!foe(A)&&{"aria-hidden":"true"},...A},[...a.map(([c,f])=>I.createElement(c,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(n,e)=>{const t=I.forwardRef(({className:r,...i},s)=>I.createElement(hoe,{ref:s,iconNode:e,className:O8(`lucide-${uoe(AH(n))}`,`lucide-${n}`,r),...i}));return t.displayName=AH(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],goe=ft("bold",poe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],voe=ft("book-open",moe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],sM=ft("book",yoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Ob=ft("bookmark",woe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],lH=ft("bot",Coe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],boe=ft("camera",Boe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Soe=ft("chevron-left",Eoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Toe=ft("chevron-right",xoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ioe=ft("clock",_oe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Foe=ft("columns-2",Uoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Doe=ft("ellipsis-vertical",Moe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Poe=ft("eraser",Roe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Noe=ft("eye",Qoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uH=ft("file-text",Loe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],aM=ft("file-up",koe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cH=ft("funnel",Ooe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],Hb=ft("highlighter",Hoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Goe=ft("list",Koe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fH=ft("loader-circle",Voe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qoe=ft("log-out",zoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yoe=ft("message-circle-question-mark",$oe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],w_=ft("message-square",Xoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"M5 12h14",key:"1ays0h"}]],joe=ft("minus",Woe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Zoe=ft("panel-left",Joe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eAe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],tAe=ft("panel-right",eAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nAe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rAe=ft("pen-line",nAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iAe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],H8=ft("pen-tool",iAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sAe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],aAe=ft("pen",sAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oAe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oM=ft("plus",oAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AAe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],lAe=ft("printer",AAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uAe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],K8=ft("save",uAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cAe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kb=ft("search",cAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fAe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],dAe=ft("settings-2",fAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hAe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],pAe=ft("sticky-note",hAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gAe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],mAe=ft("table",gAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vAe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dH=ft("trash-2",vAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yAe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],wAe=ft("type",yAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CAe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],BAe=ft("upload",CAe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bAe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],G8=ft("x",bAe),V8=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:r,viewMode:i,setViewMode:s,drawingMode:a,setDrawingMode:A,penColor:l,setPenColor:c,penWidth:f,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:b,showAnnotations:B,toggleAnnotations:S,isToolsOpen:x,setToolsOpen:_,bookmarks:T,toggleBookmark:M,currentChapter:F,uploadBook:R,isProcessing:L,setActiveToolTab:K}=Dd(),O=vc(),$=GV(),G=O.pathname==="/",[Y,J]=I.useState(!1),[ne,fe]=I.useState(!1),[H,z]=I.useState(!1),oe=I.useRef(null),le=T.includes(F.id),Ce=()=>{confirm("Are you sure you want to close the viewer?")&&$("/report")},V=()=>{var ve;(ve=oe.current)==null||ve.click()},W=ve=>{ve.target.files&&ve.target.files[0]&&R(ve.target.files[0])},ae=()=>{_(!0),K("search")},ue=ve=>{const ye=["small","medium","large","xlarge"],rt=ye.indexOf(t);let re=ve==="up"?rt+1:rt-1;re<0&&(re=0),re>=ye.length&&(re=ye.length-1),r(ye[re])},we=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return N.jsx("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800 z-[60] transition-colors duration-200 flex items-center shadow-sm",children:N.jsxs("div",{className:"w-full px-4 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[G&&N.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-colors ${e?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Table of Contents",children:N.jsx(Zoe,{size:20})}),N.jsxs("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[N.jsx("div",{className:"bg-blue-600 rounded-md p-1",children:N.jsx(sM,{className:"w-5 h-5 text-white"})}),N.jsx("span",{className:"font-bold text-lg hidden sm:block tracking-tight",children:"CampusBook"})]})]}),N.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[N.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-lg p-1 border border-slate-200 dark:border-slate-800 flex",children:[N.jsx(Zb,{to:"/",className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${G?"bg-white dark:bg-slate-800 shadow-sm text-blue-600 dark:text-blue-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:"Reader"}),N.jsx(Zb,{to:"/report",className:`flex items-center gap-1 px-4 py-1.5 rounded-md text-sm font-medium transition-all ${G?"text-slate-500 hover:text-slate-700 dark:text-slate-400":"bg-white dark:bg-slate-800 shadow-sm text-blue-600 dark:text-blue-400"}`,children:"Report"})]}),N.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-800 mx-1"}),N.jsxs("button",{onClick:V,disabled:L,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg text-sm font-medium transition-colors border border-blue-100 dark:border-blue-900/30",title:"Add Reference Material (PDF)",children:[L?N.jsx(fH,{size:16,className:"animate-spin"}):N.jsx(aM,{size:16}),N.jsx("span",{children:"Add Reference"}),N.jsx("input",{type:"file",ref:oe,className:"hidden",accept:"application/pdf",onChange:W})]})]}),N.jsxs("div",{className:"flex items-center gap-1",children:[G&&N.jsxs(N.Fragment,{children:[N.jsx("button",{onClick:ae,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800",title:"Search",children:N.jsx(Kb,{size:20})}),N.jsxs("div",{className:"flex items-center gap-1 px-2 relative",children:[N.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 rounded-lg p-0.5 border border-slate-200 dark:border-slate-800 items-center",children:[N.jsx("button",{onClick:()=>A(a==="pen"?"idle":"pen"),className:`p-2 rounded-md transition-all flex items-center gap-1 ${a==="pen"?"bg-white dark:bg-slate-800 shadow text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"Pen Tool",children:N.jsx(aAe,{size:18})}),a==="pen"&&N.jsx("button",{onClick:()=>J(!Y),className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-md text-slate-500 mr-1",title:"Pen Settings",children:N.jsx(dAe,{size:12})}),N.jsx("button",{onClick:()=>{A(a==="eraser"?"idle":"eraser"),J(!1)},className:`p-2 rounded-md transition-all ${a==="eraser"?"bg-white dark:bg-slate-800 shadow text-red-500":"text-slate-400 hover:text-slate-600"}`,title:"Eraser",children:N.jsx(Poe,{size:18})})]}),Y&&a==="pen"&&N.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[N.jsxs("div",{className:"flex justify-between items-center mb-3",children:[N.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),N.jsx("button",{onClick:()=>J(!1),className:"text-slate-400 hover:text-slate-600",children:N.jsx(G8,{size:14})})]}),N.jsx("div",{className:"flex justify-between mb-4",children:we.map(ve=>N.jsx("button",{onClick:()=>c(ve),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===ve?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:ve}},ve))}),N.jsxs("div",{className:"mb-3",children:[N.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[N.jsx("span",{children:"Thickness"}),N.jsxs("span",{children:[f,"px"]})]}),N.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:f,onChange:ve=>h(parseInt(ve.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[N.jsx("span",{children:"Opacity"}),N.jsxs("span",{children:[Math.round(g*100),"%"]})]}),N.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:ve=>v(parseFloat(ve.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),N.jsxs("div",{className:"relative",children:[N.jsx("button",{onClick:()=>fe(!ne),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800",title:"Appearance",children:N.jsx(wAe,{size:20})}),ne&&N.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[N.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),N.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[N.jsx("button",{onClick:()=>ue("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:N.jsx(joe,{size:14})}),N.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),N.jsx("button",{onClick:()=>ue("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:N.jsx(oM,{size:14})})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsxs("button",{onClick:()=>s(i==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(Foe,{size:16})," Two-Page View"]}),N.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${i==="double"?"bg-blue-500":"bg-slate-300"}`,children:N.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${i==="double"?"translate-x-4":""}`})})]}),N.jsxs("button",{onClick:S,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(Noe,{size:16})," Annotations"]}),N.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${B?"bg-blue-500":"bg-slate-300"}`,children:N.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${B?"translate-x-4":""}`})})]}),N.jsxs("button",{onClick:M,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(Ob,{size:16})," Bookmark Page"]}),N.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${le?"bg-blue-500":"bg-slate-300"}`,children:N.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${le?"translate-x-4":""}`})})]})]})]})]}),N.jsx("button",{onClick:()=>_(!x),className:`p-2 rounded-lg transition-colors flex items-center gap-2 ${x?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Toggle AI & Notes",children:N.jsx(tAe,{size:20})})]}),N.jsxs("div",{className:"relative ml-1",children:[N.jsx("button",{onClick:()=>z(!H),className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:N.jsx(Doe,{size:20})}),H&&N.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-1 animate-fade-in z-[70]",children:[N.jsxs("button",{onClick:V,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:[L?N.jsx(fH,{size:14,className:"animate-spin"}):N.jsx(aM,{size:14})," ","Add Reference PDF"]}),N.jsx("input",{type:"file",ref:oe,className:"hidden",accept:"application/pdf",onChange:W}),N.jsxs("button",{onClick:b,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:[N.jsx(K8,{size:14})," Save Progress"]}),N.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),N.jsxs("button",{onClick:Ce,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[N.jsx(qoe,{size:14})," Exit Viewer"]})]})]})]})]})})};function z8(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=z8(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function kt(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=z8(n))&&(r&&(r+=" "),r+=e);return r}var hH=Object.prototype.hasOwnProperty;function pH(n,e,t){for(t of n.keys())if(rp(t,e))return t}function rp(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&rp(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=pH(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=pH(e,i),!i)||!rp(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(hH.call(n,t)&&++r&&!hH.call(e,t)||!(t in e)||!rp(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function bw(n){let e=!1;return{promise:new Promise((r,i)=>{n.then(s=>!e&&r(s)).catch(s=>!e&&i(s))}),cancel(){e=!0}}}const EAe=["onCopy","onCut","onPaste"],SAe=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],xAe=["onFocus","onBlur"],TAe=["onInput","onInvalid","onReset","onSubmit"],_Ae=["onLoad","onError"],IAe=["onKeyDown","onKeyPress","onKeyUp"],UAe=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],FAe=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],MAe=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],DAe=["onSelect"],RAe=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],PAe=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],QAe=["onScroll"],NAe=["onWheel"],LAe=["onAnimationStart","onAnimationEnd","onAnimationIteration"],kAe=["onTransitionEnd"],OAe=["onToggle"],HAe=["onChange"],KAe=[...EAe,...SAe,...xAe,...TAe,..._Ae,...IAe,...UAe,...FAe,...MAe,...DAe,...RAe,...PAe,...QAe,...NAe,...LAe,...kAe,...HAe,...OAe];function q8(n,e){const t={};for(const r of KAe){const i=n[r];i&&(e?t[r]=(s=>i(s,e(r))):t[r]=i)}return t}var GAe="Invariant failed";function Xt(n,e){if(!n)throw new Error(GAe)}var C_,gH;function VAe(){if(gH)return C_;gH=1;var n=function(){};return C_=n,C_}var zAe=VAe();const li=Ja(zAe),$8=I.createContext(null),qAe="noopener noreferrer nofollow";class $Ae{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Xt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Xt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||qAe,e.target=r?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Xt(this.pdfDocument),Xt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Xt(Array.isArray(t));const r=t[0];new Promise(i=>{Xt(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Xt(!1)}):typeof r=="number"?i(r):Xt(!1)}).then(i=>{const s=i+1;Xt(this.pdfViewer),Xt(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}goToPage(e){const t=e-1;Xt(this.pdfViewer),Xt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function ip({children:n,type:e}){return N.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const mH={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function YAe(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Qg(){return I.useReducer(YAe,{value:void 0,error:void 0})}const $S=typeof window<"u",Y8=$S&&window.location.protocol==="file:";function XAe(n){return typeof n<"u"}function Kc(n){return XAe(n)&&n!==null}function WAe(n){return typeof n=="string"}function jAe(n){return n instanceof ArrayBuffer}function JAe(n){return Xt($S),n instanceof Blob}function AM(n){return WAe(n)&&/^data:/.test(n)}function vH(n){Xt(AM(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function ZAe(){return $S&&window.devicePixelRatio||1}const X8="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function yH(){li(!Y8,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${X8}`)}function ele(){li(!Y8,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${X8}`)}function bd(n){n!=null&&n.cancel&&n.cancel()}function lM(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function tle(n){return n.name==="RenderingCancelledException"}function nle(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:rle}=soe,ile=(n,e)=>{switch(e){case mH.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case mH.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function wH(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const sle=I.forwardRef(function({children:e,className:t,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:s,file:a,inputRef:A,imageResourcesPath:l,loading:c="Loading PDF",noData:f="No PDF file specified.",onItemClick:h,onLoadError:g,onLoadProgress:v,onLoadSuccess:b,onPassword:B=ile,onSourceError:S,onSourceSuccess:x,options:_,renderMode:T,rotate:M,scale:F,...R},L){const[K,O]=Qg(),{value:$,error:G}=K,[Y,J]=Qg(),{value:ne,error:fe}=Y,H=I.useRef(new $Ae),z=I.useRef([]),oe=I.useRef(void 0),le=I.useRef(void 0);a&&a!==oe.current&&wH(a)&&(li(!rp(a,oe.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),oe.current=a),_&&_!==le.current&&(li(!rp(_,le.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),le.current=_);const Ce=I.useRef({scrollPageIntoView:He=>{const{dest:Ie,pageNumber:Ke,pageIndex:tt=Ke-1}=He;if(h){h({dest:Ie,pageIndex:tt,pageNumber:Ke});return}const Cn=z.current[tt];if(Cn){Cn.scrollIntoView();return}li(!1,`An internal link leading to page ${Ke} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});I.useImperativeHandle(L,()=>({linkService:H,pages:z,viewer:Ce}),[]);function V(){x&&x()}function W(){G&&(li(!1,G.toString()),S&&S(G))}function ae(){O({type:"RESET"})}I.useEffect(ae,[a,O]);const ue=I.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return AM(a)?{data:vH(a)}:(yH(),{url:a});if(a instanceof rle)return{range:a};if(jAe(a))return{data:a};if($S&&JAe(a))return{data:await nle(a)};if(Xt(typeof a=="object"),Xt(wH(a)),"url"in a&&typeof a.url=="string"){if(AM(a.url)){const{url:He,...Ie}=a;return{data:vH(He),...Ie}}yH()}return a},[a]);I.useEffect(()=>{const He=bw(ue());return He.promise.then(Ie=>{O({type:"RESOLVE",value:Ie})}).catch(Ie=>{O({type:"REJECT",error:Ie})}),()=>{bd(He)}},[ue,O]),I.useEffect(()=>{if(!(typeof $>"u")){if($===!1){W();return}V()}},[$]);function we(){ne&&(b&&b(ne),z.current=new Array(ne.numPages),H.current.setDocument(ne))}function ve(){fe&&(li(!1,fe.toString()),g&&g(fe))}I.useEffect(function(){J({type:"RESET"})},[J,$]),I.useEffect(function(){if(!$)return;const Ie=_?{...$,..._}:$,Ke=zS(Ie);v&&(Ke.onProgress=v),B&&(Ke.onPassword=B);const tt=Ke,Cn=tt.promise.then(dr=>{J({type:"RESOLVE",value:dr})}).catch(dr=>{tt.destroyed||J({type:"REJECT",error:dr})});return()=>{Cn.finally(()=>tt.destroy())}},[_,J,$]),I.useEffect(()=>{if(!(typeof ne>"u")){if(ne===!1){ve();return}we()}},[ne]),I.useEffect(function(){H.current.setViewer(Ce.current),H.current.setExternalLinkRel(i),H.current.setExternalLinkTarget(s)},[i,s]);const ye=I.useCallback((He,Ie)=>{z.current[He]=Ie},[]),rt=I.useCallback(He=>{delete z.current[He]},[]),re=I.useMemo(()=>({imageResourcesPath:l,linkService:H.current,onItemClick:h,pdf:ne,registerPage:ye,renderMode:T,rotate:M,scale:F,unregisterPage:rt}),[l,h,ne,ye,T,M,F,rt]),be=I.useMemo(()=>q8(R,()=>ne),[R,ne]);function ke(){function He(Ke){return!!(Ke!=null&&Ke.pdf)}if(!He(re))throw new Error("pdf is undefined");const Ie=typeof e=="function"?e(re):e;return N.jsx($8.Provider,{value:re,children:Ie})}function he(){return a?ne==null?N.jsx(ip,{type:"loading",children:typeof c=="function"?c():c}):ne===!1?N.jsx(ip,{type:"error",children:typeof r=="function"?r():r}):ke():N.jsx(ip,{type:"no-data",children:typeof f=="function"?f():f})}return N.jsx("div",{className:kt("react-pdf__Document",t),ref:A,...be,children:he()})});function W8(){return I.useContext($8)}function j8(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){for(var a=0,A=t;a<A.length;a++){var l=A[a];typeof l=="function"?l(s):l&&(l.current=s)}}}const J8=I.createContext(null);function YS(){return I.useContext(J8)}function ale(){const n=W8(),e=YS();Xt(e);const t={...n,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:l,page:c,pdf:f,renderForms:h,rotate:g,scale:v=1}=t;Xt(f),Xt(c),Xt(i);const[b,B]=Qg(),{value:S,error:x}=b,_=I.useRef(null);li(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function T(){S&&a&&a(S)}function M(){x&&(li(!1,x.toString()),s&&s(x))}I.useEffect(function(){B({type:"RESET"})},[B,c]),I.useEffect(function(){if(!c)return;const O=bw(c.getAnnotations()),$=O;return O.promise.then(G=>{B({type:"RESOLVE",value:G})}).catch(G=>{B({type:"REJECT",error:G})}),()=>{bd($)}},[B,c]),I.useEffect(()=>{if(S!==void 0){if(S===!1){M();return}T()}},[S]);function F(){l&&l()}function R(K){li(!1,`${K}`),A&&A(K)}const L=I.useMemo(()=>c.getViewport({scale:v,rotation:g}),[c,g,v]);return I.useEffect(function(){if(!f||!c||!i||!S)return;const{current:O}=_;if(!O)return;const $=L.clone({dontFlip:!0}),G={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:f.annotationStorage,commentManager:null,div:O,l10n:null,linkService:i,page:c,structTreeLayer:null,viewport:$},Y={annotations:S,annotationStorage:f.annotationStorage,div:O,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:$};O.innerHTML="";try{new rR(G).render(Y),F()}catch(J){R(J)}return()=>{}},[S,r,i,c,f,h,L]),N.jsx("div",{className:kt("react-pdf__Page__annotations","annotationLayer"),ref:_})}const Z8={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},ole=/^H(\d+)$/;function Ale(n){return n in Z8}function XS(n){return"children"in n}function eq(n){return XS(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function lle(n){const e={};if(XS(n)){const{role:t}=n,r=t.match(ole);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(Ale(t)){const i=Z8[t];i&&(e.role=i)}}return e}function tq(n){const e={};if(XS(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),eq(n)){const[t]=n.children;if(t){const r=tq(t);return{...e,...r}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function ule(n){return n?{...lle(n),...tq(n)}:null}function nq({className:n,node:e}){const t=I.useMemo(()=>ule(e),[e]),r=I.useMemo(()=>!XS(e)||eq(e)?null:e.children.map((i,s)=>N.jsx(nq,{node:i},s)),[e]);return N.jsx("span",{className:n,...t,children:r})}function cle(){const n=YS();Xt(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=Qg(),{value:s,error:a}=r,{customTextRenderer:A,page:l}=n;function c(){s&&t&&t(s)}function f(){a&&(li(!1,a.toString()),e&&e(a))}return I.useEffect(function(){i({type:"RESET"})},[i,l]),I.useEffect(function(){if(A||!l)return;const g=bw(l.getStructTree()),v=g;return g.promise.then(b=>{i({type:"RESOLVE",value:b})}).catch(b=>{i({type:"REJECT",error:b})}),()=>bd(v)},[A,l,i]),I.useEffect(()=>{if(s!==void 0){if(s===!1){f();return}c()}},[s]),s?N.jsx(nq,{className:"react-pdf__Page__structTree structTree",node:s}):null}const CH=No;function fle(n){const e=YS();Xt(e);const t={...e,...n},{_className:r,canvasBackground:i,devicePixelRatio:s=ZAe(),onRenderError:a,onRenderSuccess:A,page:l,renderForms:c,renderTextLayer:f,rotate:h,scale:g}=t,{canvasRef:v}=n;Xt(l);const b=I.useRef(null);function B(){l&&A&&A(lM(l,g))}function S(M){tle(M)||(li(!1,M.toString()),a&&a(M))}const x=I.useMemo(()=>l.getViewport({scale:g*s,rotation:h}),[s,l,h,g]),_=I.useMemo(()=>l.getViewport({scale:g,rotation:h}),[l,h,g]);I.useEffect(function(){if(!l)return;l.cleanup();const{current:F}=b;if(!F)return;F.width=x.width,F.height=x.height,F.style.width=`${Math.floor(_.width)}px`,F.style.height=`${Math.floor(_.height)}px`,F.style.visibility="hidden";const R={annotationMode:c?CH.ENABLE_FORMS:CH.ENABLE,canvas:F,canvasContext:F.getContext("2d",{alpha:!1}),viewport:x};i&&(R.background=i);const L=l.render(R),K=L;return L.promise.then(()=>{F.style.visibility="",B()}).catch(S),()=>bd(K)},[i,l,c,x,_]);const T=I.useCallback(()=>{const{current:M}=b;M&&(M.width=0,M.height=0)},[]);return I.useEffect(()=>T,[T]),N.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:j8(v,b),style:{display:"block",userSelect:"none"},children:f?N.jsx(cle,{}):null})}function dle(n){return"str"in n}function hle(){const n=YS();Xt(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:a,pageIndex:A,pageNumber:l,rotate:c,scale:f}=n;Xt(a);const[h,g]=Qg(),{value:v,error:b}=h,B=I.useRef(null);li(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){v&&r&&r(v)}function x(){b&&(li(!1,b.toString()),t&&t(b))}I.useEffect(function(){g({type:"RESET"})},[a,g]),I.useEffect(function(){if(!a)return;const K=bw(a.getTextContent()),O=K;return K.promise.then($=>{g({type:"RESOLVE",value:$})}).catch($=>{g({type:"REJECT",error:$})}),()=>bd(O)},[a,g]),I.useEffect(()=>{if(v!==void 0){if(v===!1){x();return}S()}},[v]);const _=I.useCallback(()=>{s&&s()},[s]),T=I.useCallback(L=>{li(!1,L.toString()),i&&i(L)},[i]);function M(){const L=B.current;L&&L.classList.add("selecting")}function F(){const L=B.current;L&&L.classList.remove("selecting")}const R=I.useMemo(()=>a.getViewport({scale:f,rotation:c}),[a,c,f]);return I.useLayoutEffect(function(){if(!a||!v)return;const{current:K}=B;if(!K)return;K.innerHTML="";const O=a.streamTextContent({includeMarkedContent:!0}),$={container:K,textContentSource:O,viewport:R},G=new dy($),Y=G;return G.render().then(()=>{const J=document.createElement("div");J.className="endOfContent",K.append(J);const ne=K.querySelectorAll('[role="presentation"]');if(e){let fe=0;v.items.forEach((H,z)=>{if(!dle(H))return;const oe=ne[fe];if(!oe)return;const le=e({pageIndex:A,pageNumber:l,itemIndex:z,...H});oe.innerHTML=le,fe+=H.str&&H.hasEOL?2:1})}_()}).catch(T),()=>bd(Y)},[e,T,_,a,A,l,v,R]),N.jsx("div",{className:kt("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:M,ref:B})}const BH=1;function ple(n){const t={...W8(),...n},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:a,children:A,className:l,customRenderer:c,customTextRenderer:f,devicePixelRatio:h,error:g="Failed to load the page.",height:v,inputRef:b,loading:B="Loading page",noData:S="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:_,onGetStructTreeError:T,onGetStructTreeSuccess:M,onGetTextError:F,onGetTextSuccess:R,onLoadError:L,onLoadSuccess:K,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:$,onRenderError:G,onRenderSuccess:Y,onRenderTextLayerError:J,onRenderTextLayerSuccess:ne,pageIndex:fe,pageNumber:H,pdf:z,registerPage:oe,renderAnnotationLayer:le=!0,renderForms:Ce=!1,renderMode:V="canvas",renderTextLayer:W=!0,rotate:ae,scale:ue=BH,unregisterPage:we,width:ve,...ye}=t,[rt,re]=Qg(),{value:be,error:ke}=rt,he=I.useRef(null);Xt(z);const He=Kc(H)?H-1:fe??null,Ie=H??(Kc(fe)?fe+1:null),Ke=ae??(be?be.rotate:null),tt=I.useMemo(()=>{if(!be)return null;let We=1;const Oe=ue??BH;if(ve||v){const _t=be.getViewport({scale:1,rotation:Ke});ve?We=ve/_t.width:v&&(We=v/_t.height)}return Oe*We},[v,be,Ke,ue,ve]);I.useEffect(function(){return()=>{Kc(He)&&i&&we&&we(He)}},[i,z,He,we]);function Cn(){if(K){if(!be||!tt)return;K(lM(be,tt))}if(i&&oe){if(!Kc(He)||!he.current)return;oe(He,he.current)}}function dr(){ke&&(li(!1,ke.toString()),L&&L(ke))}I.useEffect(function(){re({type:"RESET"})},[re,z,He]),I.useEffect(function(){if(!z||!Ie)return;const Oe=bw(z.getPage(Ie)),_t=Oe;return Oe.promise.then(Ft=>{re({type:"RESOLVE",value:Ft})}).catch(Ft=>{re({type:"REJECT",error:Ft})}),()=>bd(_t)},[re,z,Ie]),I.useEffect(()=>{if(be!==void 0){if(be===!1){dr();return}Cn()}},[be,tt]);const _i=I.useMemo(()=>Kc(He)&&Ie&&Kc(Ke)&&Kc(tt)?{_className:r,canvasBackground:s,customTextRenderer:f,devicePixelRatio:h,onGetAnnotationsError:x,onGetAnnotationsSuccess:_,onGetStructTreeError:T,onGetStructTreeSuccess:M,onGetTextError:F,onGetTextSuccess:R,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:$,onRenderError:G,onRenderSuccess:Y,onRenderTextLayerError:J,onRenderTextLayerSuccess:ne,page:be,pageIndex:He,pageNumber:Ie,renderForms:Ce,renderTextLayer:W,rotate:Ke,scale:tt}:null,[r,s,f,h,x,_,T,M,F,R,O,$,G,Y,J,ne,be,He,Ie,Ce,W,Ke,tt]),Ea=I.useMemo(()=>q8(ye,()=>be&&(tt?lM(be,tt):void 0)),[ye,be,tt]),ge=`${He}@${tt}/${Ke}`;function Re(){switch(V){case"custom":return Xt(c),N.jsx(c,{},`${ge}_custom`);case"none":return null;case"canvas":default:return N.jsx(fle,{canvasRef:a},`${ge}_canvas`)}}function pe(){return W?N.jsx(hle,{},`${ge}_text`):null}function Be(){return le?N.jsx(ale,{},`${ge}_annotations`):null}function Xe(){function We(_t){return!!(_t!=null&&_t.page)}if(!We(_i))throw new Error("page is undefined");const Oe=typeof A=="function"?A(_i):A;return N.jsxs(J8.Provider,{value:_i,children:[Re(),pe(),Be(),Oe]})}function Ye(){return Ie?z===null||be===void 0||be===null?N.jsx(ip,{type:"loading",children:typeof B=="function"?B():B}):z===!1||be===!1?N.jsx(ip,{type:"error",children:typeof g=="function"?g():g}):Xe():N.jsx(ip,{type:"no-data",children:typeof S=="function"?S():S})}return N.jsx("div",{className:kt(r,l),"data-page-number":Ie,ref:j8(b,he),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${tt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ea,children:Ye()})}ele();_s.workerSrc="pdf.worker.mjs";_s.workerSrc=`https://unpkg.com/pdfjs-dist@${eR}/build/pdf.worker.min.mjs`;const gle=({file:n})=>{const[e,t]=I.useState(null),[r,i]=I.useState(1),s=({numPages:l})=>{t(l),i(1)},a=()=>{i(l=>l>1?l-1:l)},A=()=>{i(l=>e&&l<e?l+1:l)};return N.jsxs("div",{className:"pdf_viewer_container flex flex-col items-center gap-3",children:[N.jsx("div",{className:"border border-slate-200 shadow-sm bg-white",children:N.jsx(sle,{file:n,onLoadSuccess:s,children:N.jsx(ple,{pageNumber:r,renderTextLayer:!0,renderAnnotationLayer:!0,scale:1.3})})}),e&&N.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[N.jsx("button",{onClick:a,className:"px-8 py-4 border border-slate-300 rounded-md text-xs hover:bg-slate-100",children:""}),N.jsxs("span",{children:["Page ",r," / ",e]}),N.jsx("button",{onClick:A,className:"px-8 py-4 border border-slate-300 rounded-md text-xs hover:bg-slate-100",children:""})]})]})},mle=()=>{const{chapters:n,currentChapterIndex:e,goToNextChapter:t,goToPrevChapter:r,goToChapter:i}=Dd(),[s,a]=I.useState((e+1).toString());I.useEffect(()=>{a((e+1).toString())},[e]);const A=c=>{c.preventDefault();const f=parseInt(s);!isNaN(f)&&f>=1&&f<=n.length?i(f-1):a((e+1).toString())},l=c=>{const f=parseInt(c.target.value);i(f)};return N.jsxs("div",{className:"bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-200",children:[N.jsxs("div",{className:"relative w-full h-4 bg-slate-100 dark:bg-slate-800 group cursor-pointer",children:[N.jsx("input",{type:"range",min:"0",max:n.length-1,value:e,onChange:l,className:"absolute inset-0 w-full h-full opacity-0 z-20 cursor-pointer"}),N.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300 ease-out relative z-10",style:{width:`${(e+1)/n.length*100}%`},children:N.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-4 h-4 bg-white border-2 border-blue-600 rounded-full shadow opacity-0 group-hover:opacity-100 transition-opacity"})})]}),N.jsxs("div",{className:"px-4 py-3 flex items-center justify-between max-w-3xl mx-auto",children:[N.jsxs("button",{onClick:r,disabled:e===0,className:`
            flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-colors text-sm
            ${e===0?"text-slate-300 dark:text-slate-700 cursor-not-allowed":"text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}
          `,children:[N.jsx(Soe,{size:18}),N.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),N.jsxs("div",{className:"flex flex-col items-center gap-1",children:[N.jsxs("form",{onSubmit:A,className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Page"}),N.jsx("input",{type:"text",value:s,onChange:c=>a(c.target.value),className:"w-10 text-center text-sm font-semibold bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded focus:ring-2 focus:ring-blue-500 outline-none text-slate-900 dark:text-white"}),N.jsxs("span",{className:"text-sm text-slate-400",children:["/ ",n.length]})]}),N.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 truncate max-w-[120px] sm:max-w-xs text-center",children:n[e].title.split(":")[1]||n[e].title})]}),N.jsxs("button",{onClick:t,disabled:e===n.length-1,className:`
            flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-colors text-sm
            ${e===n.length-1?"text-slate-300 dark:text-slate-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}
          `,children:[N.jsx("span",{className:"hidden sm:inline",children:"Next"}),N.jsx(Toe,{size:18})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uM=function(n,e){return uM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},uM(n,e)};function to(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uM(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var cM=function(){return cM=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},cM.apply(this,arguments)};function wi(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function A(f){try{c(r.next(f))}catch(h){a(h)}}function l(f){try{c(r.throw(f))}catch(h){a(h)}}function c(f){f.done?s(f.value):i(f.value).then(A,l)}c((r=r.apply(n,[])).next())})}function si(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function mB(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var fl=(function(){function n(e,t,r,i){this.left=e,this.top=t,this.width=r,this.height=i}return n.prototype.add=function(e,t,r,i){return new n(this.left+e,this.top+t,this.width+r,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(i){return i.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),WS=function(n,e){return fl.fromClientRect(n,e.getBoundingClientRect())},vle=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new fl(0,0,r,i)},jS=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Kn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},bH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yle=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vB=0;vB<bH.length;vB++)yle[bH.charCodeAt(vB)]=vB;var EH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yB=0;yB<EH.length;yB++)Vv[EH.charCodeAt(yB)]=yB;var wle=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,A,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<t;r+=4)s=Vv[n.charCodeAt(r)],a=Vv[n.charCodeAt(r+1)],A=Vv[n.charCodeAt(r+2)],l=Vv[n.charCodeAt(r+3)],f[i++]=s<<2|a>>4,f[i++]=(a&15)<<4|A>>2,f[i++]=(A&3)<<6|l&63;return c},Cle=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},Ble=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},gd=5,aR=11,B_=2,ble=aR-gd,rq=65536>>gd,Ele=1<<gd,b_=Ele-1,Sle=1024>>gd,xle=rq+Sle,Tle=xle,_le=32,Ile=Tle+_le,Ule=65536>>aR,Fle=1<<ble,Mle=Fle-1,SH=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Dle=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Rle=function(n,e){var t=wle(n),r=Array.isArray(t)?Ble(t):new Uint32Array(t),i=Array.isArray(t)?Cle(t):new Uint16Array(t),s=24,a=SH(i,s/2,r[4]/2),A=r[5]===2?SH(i,(s+r[4])/2):Dle(r,Math.ceil((s+r[4])/4));return new Ple(r[0],r[1],r[2],r[3],a,A)},Ple=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>gd],t=(t<<B_)+(e&b_),this.data[t];if(e<=65535)return t=this.index[rq+(e-55296>>gd)],t=(t<<B_)+(e&b_),this.data[t];if(e<this.highStart)return t=Ile-Ule+(e>>aR),t=this.index[t],t+=e>>gd&Mle,t=this.index[t],t=(t<<B_)+(e&b_),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),xH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qle=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wB=0;wB<xH.length;wB++)Qle[xH.charCodeAt(wB)]=wB;var Nle="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",TH=50,Lle=1,iq=2,sq=3,kle=4,Ole=5,_H=7,aq=8,IH=9,ic=10,fM=11,UH=12,dM=13,Hle=14,zv=15,hM=16,CB=17,uv=18,Kle=19,FH=20,pM=21,cv=22,E_=23,Eh=24,ss=25,qv=26,$v=27,Sh=28,Gle=29,Wc=30,Vle=31,BB=32,bB=33,gM=34,mM=35,vM=36,gy=37,yM=38,Gb=39,Vb=40,S_=41,oq=42,zle=43,qle=[9001,65288],Aq="!",vt="",EB="",wM=Rle(Nle),cA=[Wc,vM],CM=[Lle,iq,sq,Ole],lq=[ic,aq],MH=[$v,qv],$le=CM.concat(lq),DH=[yM,Gb,Vb,gM,mM],Yle=[zv,dM],Xle=function(n,e){e===void 0&&(e="strict");var t=[],r=[],i=[];return n.forEach(function(s,a){var A=wM.get(s);if(A>TH?(i.push(!0),A-=TH):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),t.push(hM);if(A===kle||A===fM){if(a===0)return r.push(a),t.push(Wc);var l=t[a-1];return $le.indexOf(l)===-1?(r.push(r[a-1]),t.push(l)):(r.push(a),t.push(Wc))}if(r.push(a),A===Vle)return t.push(e==="strict"?pM:gy);if(A===oq||A===Gle)return t.push(Wc);if(A===zle)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(gy):t.push(Wc);t.push(A)}),[r,t,i]},x_=function(n,e,t,r){var i=r[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var s=t;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==ic)break}if(i===ic)for(var s=t;s>0;){s--;var A=r[s];if(Array.isArray(n)?n.indexOf(A)!==-1:n===A)for(var l=t;l<=r.length;){l++;var a=r[l];if(a===e)return!0;if(a!==ic)break}if(A!==ic)break}return!1},RH=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===ic)t--;else return r}return 0},Wle=function(n,e,t,r,i){if(t[r]===0)return vt;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return vt;var a=s-1,A=s+1,l=e[s],c=a>=0?e[a]:0,f=e[A];if(l===iq&&f===sq)return vt;if(CM.indexOf(l)!==-1)return Aq;if(CM.indexOf(f)!==-1||lq.indexOf(f)!==-1)return vt;if(RH(s,e)===aq)return EB;if(wM.get(n[s])===fM||(l===BB||l===bB)&&wM.get(n[A])===fM||l===_H||f===_H||l===IH||[ic,dM,zv].indexOf(l)===-1&&f===IH||[CB,uv,Kle,Eh,Sh].indexOf(f)!==-1||RH(s,e)===cv||x_(E_,cv,s,e)||x_([CB,uv],pM,s,e)||x_(UH,UH,s,e))return vt;if(l===ic)return EB;if(l===E_||f===E_)return vt;if(f===hM||l===hM)return EB;if([dM,zv,pM].indexOf(f)!==-1||l===Hle||c===vM&&Yle.indexOf(l)!==-1||l===Sh&&f===vM||f===FH||cA.indexOf(f)!==-1&&l===ss||cA.indexOf(l)!==-1&&f===ss||l===$v&&[gy,BB,bB].indexOf(f)!==-1||[gy,BB,bB].indexOf(l)!==-1&&f===qv||cA.indexOf(l)!==-1&&MH.indexOf(f)!==-1||MH.indexOf(l)!==-1&&cA.indexOf(f)!==-1||[$v,qv].indexOf(l)!==-1&&(f===ss||[cv,zv].indexOf(f)!==-1&&e[A+1]===ss)||[cv,zv].indexOf(l)!==-1&&f===ss||l===ss&&[ss,Sh,Eh].indexOf(f)!==-1)return vt;if([ss,Sh,Eh,CB,uv].indexOf(f)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===ss)return vt;if([Sh,Eh].indexOf(g)!==-1)h--;else break}if([$v,qv].indexOf(f)!==-1)for(var h=[CB,uv].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===ss)return vt;if([Sh,Eh].indexOf(g)!==-1)h--;else break}if(yM===l&&[yM,Gb,gM,mM].indexOf(f)!==-1||[Gb,gM].indexOf(l)!==-1&&[Gb,Vb].indexOf(f)!==-1||[Vb,mM].indexOf(l)!==-1&&f===Vb||DH.indexOf(l)!==-1&&[FH,qv].indexOf(f)!==-1||DH.indexOf(f)!==-1&&l===$v||cA.indexOf(l)!==-1&&cA.indexOf(f)!==-1||l===Eh&&cA.indexOf(f)!==-1||cA.concat(ss).indexOf(l)!==-1&&f===cv&&qle.indexOf(n[A])===-1||cA.concat(ss).indexOf(f)!==-1&&l===uv)return vt;if(l===S_&&f===S_){for(var v=t[s],b=1;v>0&&(v--,e[v]===S_);)b++;if(b%2!==0)return vt}return l===BB&&f===bB?vt:EB},jle=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Xle(n,e.lineBreak),r=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(A){return[ss,Wc,oq].indexOf(A)!==-1?gy:A}));var a=e.wordBreak==="keep-all"?s.map(function(A,l){return A&&n[l]>=19968&&n[l]<=40959}):void 0;return[r,i,a]},Jle=(function(){function n(e,t,r,i){this.codePoints=e,this.required=t===Aq,this.start=r,this.end=i}return n.prototype.slice=function(){return Kn.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),Zle=function(n,e){var t=jS(n),r=jle(t,e),i=r[0],s=r[1],a=r[2],A=t.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var f=vt;c<A&&(f=Wle(t,s,i,++c,a))===vt;);if(f!==vt||c===A){var h=new Jle(t,f,l,c);return l=c,{value:h,done:!1}}return{done:!0,value:null}}}},eue=1,tue=2,Ew=4,PH=8,gE=10,QH=47,ty=92,nue=9,rue=32,SB=34,fv=61,iue=35,sue=36,aue=37,xB=39,TB=40,dv=41,oue=95,$i=45,Aue=33,lue=60,uue=62,cue=64,fue=91,due=93,hue=61,pue=123,_B=63,gue=125,NH=124,mue=126,vue=128,LH=65533,T_=42,ef=43,yue=44,wue=58,Cue=59,my=46,Bue=0,bue=8,Eue=11,Sue=14,xue=31,Tue=127,co=-1,uq=48,cq=97,fq=101,_ue=102,Iue=117,Uue=122,dq=65,hq=69,pq=70,Fue=85,Mue=90,Ai=function(n){return n>=uq&&n<=57},Due=function(n){return n>=55296&&n<=57343},xh=function(n){return Ai(n)||n>=dq&&n<=pq||n>=cq&&n<=_ue},Rue=function(n){return n>=cq&&n<=Uue},Pue=function(n){return n>=dq&&n<=Mue},Que=function(n){return Rue(n)||Pue(n)},Nue=function(n){return n>=vue},IB=function(n){return n===gE||n===nue||n===rue},mE=function(n){return Que(n)||Nue(n)||n===oue},kH=function(n){return mE(n)||Ai(n)||n===$i},Lue=function(n){return n>=Bue&&n<=bue||n===Eue||n>=Sue&&n<=xue||n===Tue},su=function(n,e){return n!==ty?!1:e!==gE},UB=function(n,e,t){return n===$i?mE(e)||su(e,t):mE(n)?!0:!!(n===ty&&su(n,e))},__=function(n,e,t){return n===ef||n===$i?Ai(e)?!0:e===my&&Ai(t):Ai(n===my?e:n)},kue=function(n){var e=0,t=1;(n[e]===ef||n[e]===$i)&&(n[e]===$i&&(t=-1),e++);for(var r=[];Ai(n[e]);)r.push(n[e++]);var i=r.length?parseInt(Kn.apply(void 0,r),10):0;n[e]===my&&e++;for(var s=[];Ai(n[e]);)s.push(n[e++]);var a=s.length,A=a?parseInt(Kn.apply(void 0,s),10):0;(n[e]===hq||n[e]===fq)&&e++;var l=1;(n[e]===ef||n[e]===$i)&&(n[e]===$i&&(l=-1),e++);for(var c=[];Ai(n[e]);)c.push(n[e++]);var f=c.length?parseInt(Kn.apply(void 0,c),10):0;return t*(i+A*Math.pow(10,-a))*Math.pow(10,l*f)},Oue={type:2},Hue={type:3},Kue={type:4},Gue={type:13},Vue={type:8},zue={type:21},que={type:9},$ue={type:10},Yue={type:11},Xue={type:12},Wue={type:14},FB={type:23},jue={type:1},Jue={type:25},Zue={type:24},ece={type:26},tce={type:27},nce={type:28},rce={type:29},ice={type:31},BM={type:32},gq=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(jS(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==BM;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case SB:return this.consumeStringToken(SB);case iue:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(kH(t)||su(r,i)){var s=UB(t,r,i)?tue:eue,a=this.consumeName();return{type:5,value:a,flags:s}}break;case sue:if(this.peekCodePoint(0)===fv)return this.consumeCodePoint(),Gue;break;case xB:return this.consumeStringToken(xB);case TB:return Oue;case dv:return Hue;case T_:if(this.peekCodePoint(0)===fv)return this.consumeCodePoint(),Wue;break;case ef:if(__(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case yue:return Kue;case $i:var A=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(__(A,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(UB(A,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===$i&&c===uue)return this.consumeCodePoint(),this.consumeCodePoint(),Zue;break;case my:if(__(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case QH:if(this.peekCodePoint(0)===T_)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===T_&&(f=this.consumeCodePoint(),f===QH))return this.consumeToken();if(f===co)return this.consumeToken()}break;case wue:return ece;case Cue:return tce;case lue:if(this.peekCodePoint(0)===Aue&&this.peekCodePoint(1)===$i&&this.peekCodePoint(2)===$i)return this.consumeCodePoint(),this.consumeCodePoint(),Jue;break;case cue:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(UB(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case fue:return nce;case ty:if(su(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case due:return rce;case hue:if(this.peekCodePoint(0)===fv)return this.consumeCodePoint(),Vue;break;case pue:return Yue;case gue:return Xue;case Iue:case Fue:var b=this.peekCodePoint(0),B=this.peekCodePoint(1);return b===ef&&(xh(B)||B===_B)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case NH:if(this.peekCodePoint(0)===fv)return this.consumeCodePoint(),que;if(this.peekCodePoint(0)===NH)return this.consumeCodePoint(),zue;break;case mue:if(this.peekCodePoint(0)===fv)return this.consumeCodePoint(),$ue;break;case co:return BM}return IB(e)?(this.consumeWhiteSpace(),ice):Ai(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):mE(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Kn(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();xh(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===_B&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Kn.apply(void 0,e.map(function(l){return l===_B?uq:l})),16),s=parseInt(Kn.apply(void 0,e.map(function(l){return l===_B?pq:l})),16);return{type:30,start:i,end:s}}var a=parseInt(Kn.apply(void 0,e),16);if(this.peekCodePoint(0)===$i&&xh(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var A=[];xh(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();var s=parseInt(Kn.apply(void 0,A),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===TB?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===TB?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===co)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===xB||t===SB){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===co||this.peekCodePoint(0)===dv)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),FB)}for(;;){var i=this.consumeCodePoint();if(i===co||i===dv)return{type:22,value:Kn.apply(void 0,e)};if(IB(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===co||this.peekCodePoint(0)===dv?(this.consumeCodePoint(),{type:22,value:Kn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),FB);if(i===SB||i===xB||i===TB||Lue(i))return this.consumeBadUrlRemnants(),FB;if(i===ty)if(su(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),FB;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;IB(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===dv||e===co)return;su(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var i=Math.min(t,e);r+=Kn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var i=this._value[r];if(i===co||i===void 0||i===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(i===gE)return this._value.splice(0,r),jue;if(i===ty){var s=this._value[r+1];s!==co&&s!==void 0&&(s===gE?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):su(i,s)&&(t+=this.consumeStringSlice(r),t+=Kn(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=Ew,r=this.peekCodePoint(0);for((r===ef||r===$i)&&e.push(this.consumeCodePoint());Ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===my&&Ai(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=PH;Ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===hq||r===fq)&&((i===ef||i===$i)&&Ai(s)||Ai(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=PH;Ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[kue(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(UB(i,s,a)){var A=this.consumeName();return{type:15,number:t,flags:r,unit:A}}return i===aue?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(xh(e)){for(var t=Kn(e);xh(this.peekCodePoint(0))&&t.length<6;)t+=Kn(this.consumeCodePoint());IB(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||Due(r)||r>1114111?LH:r}return e===co?LH:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(kH(t))e+=Kn(t);else if(su(t,this.peekCodePoint(0)))e+=Kn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),mq=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new gq;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||ace(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?BM:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),Sw=function(n){return n.type===15},nm=function(n){return n.type===17},jt=function(n){return n.type===20},sce=function(n){return n.type===0},bM=function(n,e){return jt(n)&&n.value===e},vq=function(n){return n.type!==31},Ng=function(n){return n.type!==31&&n.type!==4},zo=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},ace=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},fc=function(n){return n.type===17||n.type===15},Jn=function(n){return n.type===16||fc(n)},yq=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Yr={type:17,number:0,flags:Ew},oR={type:16,number:50,flags:Ew},sc={type:16,number:100,flags:Ew},Yv=function(n,e,t){var r=n[0],i=n[1];return[on(r,e),on(typeof i<"u"?i:r,t)]},on=function(n,e){if(n.type===16)return n.number/100*e;if(Sw(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},wq="deg",Cq="grad",Bq="rad",bq="turn",JS={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case wq:return Math.PI*e.number/180;case Cq:return Math.PI/200*e.number;case Bq:return e.number;case bq:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Eq=function(n){return n.type===15&&(n.unit===wq||n.unit===Cq||n.unit===Bq||n.unit===bq)},Sq=function(n){var e=n.filter(jt).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Yr,Yr];case"to top":case"bottom":return da(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Yr,sc];case"to right":case"left":return da(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[sc,sc];case"to bottom":case"top":return da(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[sc,Yr];case"to left":case"right":return da(270)}return 0},da=function(n){return Math.PI*n/180},oc={name:"color",parse:function(n,e){if(e.type===18){var t=oce[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return ac(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return ac(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return ac(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return ac(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var A=il[e.value.toUpperCase()];if(typeof A<"u")return A}return il.TRANSPARENT}},Ac=function(n){return(255&n)===0},gr=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+r+","+t+","+e/255+")":"rgb("+i+","+r+","+t+")"},ac=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},OH=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},HH=function(n,e){var t=e.filter(Ng);if(t.length===3){var r=t.map(OH),i=r[0],s=r[1],a=r[2];return ac(i,s,a,1)}if(t.length===4){var A=t.map(OH),i=A[0],s=A[1],a=A[2],l=A[3];return ac(i,s,a,l)}return 0};function I_(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var KH=function(n,e){var t=e.filter(Ng),r=t[0],i=t[1],s=t[2],a=t[3],A=(r.type===17?da(r.number):JS.parse(n,r))/(Math.PI*2),l=Jn(i)?i.number/100:0,c=Jn(s)?s.number/100:0,f=typeof a<"u"&&Jn(a)?on(a,1):1;if(l===0)return ac(c*255,c*255,c*255,1);var h=c<=.5?c*(l+1):c+l-c*l,g=c*2-h,v=I_(g,h,A+1/3),b=I_(g,h,A),B=I_(g,h,A-1/3);return ac(v*255,b*255,B*255,f)},oce={hsl:KH,hsla:KH,rgb:HH,rgba:HH},ny=function(n,e){return oc.parse(n,mq.create(e).parseComponentValue())},il={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ace={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(jt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},lce={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ZS=function(n,e){var t=oc.parse(n,e[0]),r=e[1];return r&&Jn(r)?{color:t,stop:r}:{color:t,stop:null}},GH=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=Yr),r.stop===null&&(r.stop=sc);for(var i=[],s=0,a=0;a<n.length;a++){var A=n[a].stop;if(A!==null){var l=on(A,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var f=i[a];if(f===null)c===null&&(c=a);else if(c!==null){for(var h=a-c,g=i[c-1],v=(f-g)/(h+1),b=1;b<=h;b++)i[c+b-1]=v*b;c=null}}return n.map(function(B,S){var x=B.color;return{color:x,stop:Math.max(Math.min(1,i[S]/e),0)}})},uce=function(n,e,t){var r=e/2,i=t/2,s=on(n[0],e)-r,a=i-on(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},cce=function(n,e,t){var r=typeof n=="number"?n:uce(n,e,t),i=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),s=e/2,a=t/2,A=i/2,l=Math.sin(r-Math.PI/2)*A,c=Math.cos(r-Math.PI/2)*A;return[i,s-c,s+c,a-l,a+l]},Ia=function(n,e){return Math.sqrt(n*n+e*e)},VH=function(n,e,t,r,i){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,A){var l=A[0],c=A[1],f=Ia(t-l,r-c);return(i?f<a.optimumDistance:f>a.optimumDistance)?{optimumCorner:A,optimumDistance:f}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},fce=function(n,e,t,r,i){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)s=a=Math.min(Ia(e,t),Ia(e,t-i),Ia(e-r,t),Ia(e-r,t-i));else if(n.shape===1){var A=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=VH(r,i,e,t,!0),c=l[0],f=l[1];s=Ia(c-e,(f-t)/A),a=A*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)s=a=Math.max(Ia(e,t),Ia(e,t-i),Ia(e-r,t),Ia(e-r,t-i));else if(n.shape===1){var A=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-r)),h=VH(r,i,e,t,!1),c=h[0],f=h[1];s=Ia(c-e,(f-t)/A),a=A*s}break}return Array.isArray(n.size)&&(s=on(n.size[0],r),a=n.size.length===2?on(n.size[1],i):s),[s,a]},dce=function(n,e){var t=da(180),r=[];return zo(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=Sq(i);return}else if(Eq(a)){t=JS.parse(n,a);return}}var A=ZS(n,i);r.push(A)}),{angle:t,stops:r,type:1}},MB=function(n,e){var t=da(180),r=[];return zo(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=Sq(i);return}else if(Eq(a)){t=(JS.parse(n,a)+da(270))%da(360);return}}var A=ZS(n,i);r.push(A)}),{angle:t,stops:r,type:1}},hce=function(n,e){var t=da(180),r=[],i=1,s=0,a=3,A=[];return zo(e).forEach(function(l,c){var f=l[0];if(c===0){if(jt(f)&&f.value==="linear"){i=1;return}else if(jt(f)&&f.value==="radial"){i=2;return}}if(f.type===18){if(f.name==="from"){var h=oc.parse(n,f.values[0]);r.push({stop:Yr,color:h})}else if(f.name==="to"){var h=oc.parse(n,f.values[0]);r.push({stop:sc,color:h})}else if(f.name==="color-stop"){var g=f.values.filter(Ng);if(g.length===2){var h=oc.parse(n,g[1]),v=g[0];nm(v)&&r.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),i===1?{angle:(t+da(180))%da(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:A,type:i}},xq="closest-side",Tq="farthest-side",_q="closest-corner",Iq="farthest-corner",Uq="circle",Fq="ellipse",Mq="cover",Dq="contain",pce=function(n,e){var t=0,r=3,i=[],s=[];return zo(e).forEach(function(a,A){var l=!0;if(A===0){var c=!1;l=a.reduce(function(h,g){if(c)if(jt(g))switch(g.value){case"center":return s.push(oR),h;case"top":case"left":return s.push(Yr),h;case"right":case"bottom":return s.push(sc),h}else(Jn(g)||fc(g))&&s.push(g);else if(jt(g))switch(g.value){case Uq:return t=0,!1;case Fq:return t=1,!1;case"at":return c=!0,!1;case xq:return r=0,!1;case Mq:case Tq:return r=1,!1;case Dq:case _q:return r=2,!1;case Iq:return r=3,!1}else if(fc(g)||Jn(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return h},l)}if(l){var f=ZS(n,a);i.push(f)}}),{size:r,shape:t,stops:i,position:s,type:2}},DB=function(n,e){var t=0,r=3,i=[],s=[];return zo(e).forEach(function(a,A){var l=!0;if(A===0?l=a.reduce(function(f,h){if(jt(h))switch(h.value){case"center":return s.push(oR),!1;case"top":case"left":return s.push(Yr),!1;case"right":case"bottom":return s.push(sc),!1}else if(Jn(h)||fc(h))return s.push(h),!1;return f},l):A===1&&(l=a.reduce(function(f,h){if(jt(h))switch(h.value){case Uq:return t=0,!1;case Fq:return t=1,!1;case Dq:case xq:return r=0,!1;case Tq:return r=1,!1;case _q:return r=2,!1;case Mq:case Iq:return r=3,!1}else if(fc(h)||Jn(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return f},l)),l){var c=ZS(n,a);i.push(c)}}),{size:r,shape:t,stops:i,position:s,type:2}},gce=function(n){return n.type===1},mce=function(n){return n.type===2},AR={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=Rq[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function vce(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!Rq[n.name])}var Rq={"linear-gradient":dce,"-moz-linear-gradient":MB,"-ms-linear-gradient":MB,"-o-linear-gradient":MB,"-webkit-linear-gradient":MB,"radial-gradient":pce,"-moz-radial-gradient":DB,"-ms-radial-gradient":DB,"-o-radial-gradient":DB,"-webkit-radial-gradient":DB,"-webkit-gradient":hce},yce={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return Ng(r)&&vce(r)}).map(function(r){return AR.parse(n,r)})}},wce={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(jt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Cce={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return zo(e).map(function(t){return t.filter(Jn)}).map(yq)}},Bce={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return zo(e).map(function(t){return t.filter(jt).map(function(r){return r.value}).join(" ")}).map(bce)}},bce=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},sp;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(sp||(sp={}));var Ece={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return zo(e).map(function(t){return t.filter(Sce)})}},Sce=function(n){return jt(n)||Jn(n)},ex=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},xce=ex("top"),Tce=ex("right"),_ce=ex("bottom"),Ice=ex("left"),tx=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return yq(t.filter(Jn))}}},Uce=tx("top-left"),Fce=tx("top-right"),Mce=tx("bottom-right"),Dce=tx("bottom-left"),nx=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Rce=nx("top"),Pce=nx("right"),Qce=nx("bottom"),Nce=nx("left"),rx=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Sw(t)?t.number:0}}},Lce=rx("top"),kce=rx("right"),Oce=rx("bottom"),Hce=rx("left"),Kce={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gce={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Vce={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(jt).reduce(function(t,r){return t|zce(r.value)},0)}},zce=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},qce={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},$ce={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},vE;(function(n){n.NORMAL="normal",n.STRICT="strict"})(vE||(vE={}));var Yce={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return vE.STRICT;case"normal":default:return vE.NORMAL}}},Xce={name:"line-height",initialValue:"normal",prefix:!1,type:4},zH=function(n,e){return jt(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Jn(n)?on(n,e):e},Wce={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:AR.parse(n,e)}},jce={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},EM={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ix=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Jce=ix("top"),Zce=ix("right"),efe=ix("bottom"),tfe=ix("left"),nfe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(jt).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},rfe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},sx=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ife=sx("top"),sfe=sx("right"),afe=sx("bottom"),ofe=sx("left"),Afe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},lfe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ufe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&bM(e[0],"none")?[]:zo(e).map(function(t){for(var r={color:il.TRANSPARENT,offsetX:Yr,offsetY:Yr,blur:Yr},i=0,s=0;s<t.length;s++){var a=t[s];fc(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=oc.parse(n,a)}return r})}},cfe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ffe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=pfe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},dfe=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},hfe=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],A=e[13];return e[14],e[15],e.length===16?[t,r,i,s,a,A]:null},pfe={matrix:dfe,matrix3d:hfe},qH={type:16,number:50,flags:Ew},gfe=[qH,qH],mfe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Jn);return t.length!==2?gfe:[t[0],t[1]]}},vfe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ry;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(ry||(ry={}));var yfe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return ry.BREAK_ALL;case"keep-all":return ry.KEEP_ALL;case"normal":default:return ry.NORMAL}}},wfe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(nm(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Pq={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Cfe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return nm(e)?e.number:1}},Bfe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},bfe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(jt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Efe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Sfe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},xfe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(nm(e))return e.number;if(jt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Tfe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(jt).map(function(t){return t.value})}},_fe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},or=function(n,e){return(n&e)!==0},Ife={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Ufe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],i=e.filter(vq),s=0;s<i.length;s++){var a=i[s],A=i[s+1];if(a.type===20){var l=A&&nm(A)?A.number:1;r.push({counter:a.value,increment:l})}}return r}},Ffe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(vq),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(jt(s)&&s.value!=="none"){var A=a&&nm(a)?a.number:0;t.push({counter:s.value,reset:A})}}return t}},Mfe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(Sw).map(function(t){return Pq.parse(n,t)})}},Dfe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],i=e.filter(sce);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,A=i[s+1].value;r.push({open:a,close:A})}return r}},$H=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},Rfe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&bM(e[0],"none")?[]:zo(e).map(function(t){for(var r={color:255,offsetX:Yr,offsetY:Yr,blur:Yr,spread:Yr,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];bM(a,"inset")?r.inset=!0:fc(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=oc.parse(n,a)}return r})}},Pfe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(jt).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Qfe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Nfe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return Sw(e)?e.number:0}},Lfe=(function(){function n(e,t){var r,i;this.animationDuration=_e(e,Mfe,t.animationDuration),this.backgroundClip=_e(e,Ace,t.backgroundClip),this.backgroundColor=_e(e,lce,t.backgroundColor),this.backgroundImage=_e(e,yce,t.backgroundImage),this.backgroundOrigin=_e(e,wce,t.backgroundOrigin),this.backgroundPosition=_e(e,Cce,t.backgroundPosition),this.backgroundRepeat=_e(e,Bce,t.backgroundRepeat),this.backgroundSize=_e(e,Ece,t.backgroundSize),this.borderTopColor=_e(e,xce,t.borderTopColor),this.borderRightColor=_e(e,Tce,t.borderRightColor),this.borderBottomColor=_e(e,_ce,t.borderBottomColor),this.borderLeftColor=_e(e,Ice,t.borderLeftColor),this.borderTopLeftRadius=_e(e,Uce,t.borderTopLeftRadius),this.borderTopRightRadius=_e(e,Fce,t.borderTopRightRadius),this.borderBottomRightRadius=_e(e,Mce,t.borderBottomRightRadius),this.borderBottomLeftRadius=_e(e,Dce,t.borderBottomLeftRadius),this.borderTopStyle=_e(e,Rce,t.borderTopStyle),this.borderRightStyle=_e(e,Pce,t.borderRightStyle),this.borderBottomStyle=_e(e,Qce,t.borderBottomStyle),this.borderLeftStyle=_e(e,Nce,t.borderLeftStyle),this.borderTopWidth=_e(e,Lce,t.borderTopWidth),this.borderRightWidth=_e(e,kce,t.borderRightWidth),this.borderBottomWidth=_e(e,Oce,t.borderBottomWidth),this.borderLeftWidth=_e(e,Hce,t.borderLeftWidth),this.boxShadow=_e(e,Rfe,t.boxShadow),this.color=_e(e,Kce,t.color),this.direction=_e(e,Gce,t.direction),this.display=_e(e,Vce,t.display),this.float=_e(e,qce,t.cssFloat),this.fontFamily=_e(e,Efe,t.fontFamily),this.fontSize=_e(e,Sfe,t.fontSize),this.fontStyle=_e(e,_fe,t.fontStyle),this.fontVariant=_e(e,Tfe,t.fontVariant),this.fontWeight=_e(e,xfe,t.fontWeight),this.letterSpacing=_e(e,$ce,t.letterSpacing),this.lineBreak=_e(e,Yce,t.lineBreak),this.lineHeight=_e(e,Xce,t.lineHeight),this.listStyleImage=_e(e,Wce,t.listStyleImage),this.listStylePosition=_e(e,jce,t.listStylePosition),this.listStyleType=_e(e,EM,t.listStyleType),this.marginTop=_e(e,Jce,t.marginTop),this.marginRight=_e(e,Zce,t.marginRight),this.marginBottom=_e(e,efe,t.marginBottom),this.marginLeft=_e(e,tfe,t.marginLeft),this.opacity=_e(e,Cfe,t.opacity);var s=_e(e,nfe,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=_e(e,rfe,t.overflowWrap),this.paddingTop=_e(e,ife,t.paddingTop),this.paddingRight=_e(e,sfe,t.paddingRight),this.paddingBottom=_e(e,afe,t.paddingBottom),this.paddingLeft=_e(e,ofe,t.paddingLeft),this.paintOrder=_e(e,Pfe,t.paintOrder),this.position=_e(e,lfe,t.position),this.textAlign=_e(e,Afe,t.textAlign),this.textDecorationColor=_e(e,Bfe,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=_e(e,bfe,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=_e(e,ufe,t.textShadow),this.textTransform=_e(e,cfe,t.textTransform),this.transform=_e(e,ffe,t.transform),this.transformOrigin=_e(e,mfe,t.transformOrigin),this.visibility=_e(e,vfe,t.visibility),this.webkitTextStrokeColor=_e(e,Qfe,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=_e(e,Nfe,t.webkitTextStrokeWidth),this.wordBreak=_e(e,yfe,t.wordBreak),this.zIndex=_e(e,wfe,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Ac(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return or(this.display,4)||or(this.display,33554432)||or(this.display,268435456)||or(this.display,536870912)||or(this.display,67108864)||or(this.display,134217728)},n})(),kfe=(function(){function n(e,t){this.content=_e(e,Ife,t.content),this.quotes=_e(e,Dfe,t.quotes)}return n})(),YH=(function(){function n(e,t){this.counterIncrement=_e(e,Ufe,t.counterIncrement),this.counterReset=_e(e,Ffe,t.counterReset)}return n})(),_e=function(n,e,t){var r=new gq,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(i);var s=new mq(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,jt(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return JS.parse(n,s.parseComponentValue());case"color":return oc.parse(n,s.parseComponentValue());case"image":return AR.parse(n,s.parseComponentValue());case"length":var A=s.parseComponentValue();return fc(A)?A:Yr;case"length-percentage":var l=s.parseComponentValue();return Jn(l)?l:Yr;case"time":return Pq.parse(n,s.parseComponentValue())}break}},Ofe="data-html2canvas-debug",Hfe=function(n){var e=n.getAttribute(Ofe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},SM=function(n,e){var t=Hfe(n);return t===1||e===t},qo=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,SM(t,3))debugger;this.styles=new Lfe(e,window.getComputedStyle(t,null)),_M(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=WS(this.context,t),SM(t,4)&&(this.flags|=16)}return n})(),Kfe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",XH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var RB=0;RB<XH.length;RB++)Xv[XH.charCodeAt(RB)]=RB;var Gfe=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,A,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<t;r+=4)s=Xv[n.charCodeAt(r)],a=Xv[n.charCodeAt(r+1)],A=Xv[n.charCodeAt(r+2)],l=Xv[n.charCodeAt(r+3)],f[i++]=s<<2|a>>4,f[i++]=(a&15)<<4|A>>2,f[i++]=(A&3)<<6|l&63;return c},Vfe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},zfe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},md=5,lR=11,U_=2,qfe=lR-md,Qq=65536>>md,$fe=1<<md,F_=$fe-1,Yfe=1024>>md,Xfe=Qq+Yfe,Wfe=Xfe,jfe=32,Jfe=Wfe+jfe,Zfe=65536>>lR,ede=1<<qfe,tde=ede-1,WH=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},nde=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},rde=function(n,e){var t=Gfe(n),r=Array.isArray(t)?zfe(t):new Uint32Array(t),i=Array.isArray(t)?Vfe(t):new Uint16Array(t),s=24,a=WH(i,s/2,r[4]/2),A=r[5]===2?WH(i,(s+r[4])/2):nde(r,Math.ceil((s+r[4])/4));return new ide(r[0],r[1],r[2],r[3],a,A)},ide=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>md],t=(t<<U_)+(e&F_),this.data[t];if(e<=65535)return t=this.index[Qq+(e-55296>>md)],t=(t<<U_)+(e&F_),this.data[t];if(e<this.highStart)return t=Jfe-Zfe+(e>>lR),t=this.index[t],t+=e>>md&tde,t=this.index[t],t=(t<<U_)+(e&F_),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),jH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sde=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var PB=0;PB<jH.length;PB++)sde[jH.charCodeAt(PB)]=PB;var ade=1,M_=2,D_=3,JH=4,ZH=5,ode=7,e4=8,R_=9,P_=10,t4=11,n4=12,r4=13,i4=14,Q_=15,Ade=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},lde=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},ude=rde(Kfe),Zs="",N_="",cde=function(n){return ude.get(n)},fde=function(n,e,t){var r=t-2,i=e[r],s=e[t-1],a=e[t];if(s===M_&&a===D_)return Zs;if(s===M_||s===D_||s===JH||a===M_||a===D_||a===JH)return N_;if(s===e4&&[e4,R_,t4,n4].indexOf(a)!==-1||(s===t4||s===R_)&&(a===R_||a===P_)||(s===n4||s===P_)&&a===P_||a===r4||a===ZH||a===ode||s===ade)return Zs;if(s===r4&&a===i4){for(;i===ZH;)i=e[--r];if(i===i4)return Zs}if(s===Q_&&a===Q_){for(var A=0;i===Q_;)A++,i=e[--r];if(A%2===0)return Zs}return N_},dde=function(n){var e=Ade(n),t=e.length,r=0,i=0,s=e.map(cde);return{next:function(){if(r>=t)return{done:!0,value:null};for(var a=Zs;r<t&&(a=fde(e,s,++r))===Zs;);if(a!==Zs||r===t){var A=lde.apply(null,e.slice(i,r));return i=r,{value:A,done:!1}}return{done:!0,value:null}}}},hde=function(n){for(var e=dde(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},pde=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(n.body.removeChild(r),s===e)return!0}}return!1},gde=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=jS(r.data).map(function(l){return Kn(l)}),s=0,a={},A=i.every(function(l,c){t.setStart(r,s),t.setEnd(r,s+l.length);var f=t.getBoundingClientRect();s+=l.length;var h=f.x>a.x||f.y>a.y;return a=f,c===0?!0:h});return n.body.removeChild(e),A},mde=function(){return typeof new Image().crossOrigin<"u"},vde=function(){return typeof new XMLHttpRequest().responseType=="string"},yde=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},s4=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},wde=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=xM(t,t,0,0,i);return r.fillStyle="red",r.fillRect(0,0,t,t),a4(a).then(function(A){r.drawImage(A,0,0);var l=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var c=n.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=t+"px",s4(l)?a4(xM(t,t,0,0,c)):Promise.reject(!1)}).then(function(A){return r.drawImage(A,0,0),s4(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},xM=function(n,e,t,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),A=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",t.toString()),A.setAttributeNS(null,"y",r.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(i),a},a4=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Gr={get SUPPORT_RANGE_BOUNDS(){var n=pde(document);return Object.defineProperty(Gr,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=Gr.SUPPORT_RANGE_BOUNDS&&gde(document);return Object.defineProperty(Gr,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=yde(document);return Object.defineProperty(Gr,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?wde(document):Promise.resolve(!1);return Object.defineProperty(Gr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=mde();return Object.defineProperty(Gr,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=vde();return Object.defineProperty(Gr,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Gr,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Gr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},iy=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),Cde=function(n,e,t,r){var i=Ede(e,t),s=[],a=0;return i.forEach(function(A){if(t.textDecorationLine.length||A.trim().length>0)if(Gr.SUPPORT_RANGE_BOUNDS){var l=o4(r,a,A.length).getClientRects();if(l.length>1){var c=uR(A),f=0;c.forEach(function(g){s.push(new iy(g,fl.fromDOMRectList(n,o4(r,f+a,g.length).getClientRects()))),f+=g.length})}else s.push(new iy(A,fl.fromDOMRectList(n,l)))}else{var h=r.splitText(A.length);s.push(new iy(A,Bde(n,r))),r=h}else Gr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(A.length));a+=A.length}),s},Bde=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=WS(n,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return fl.EMPTY},o4=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},uR=function(n){if(Gr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return hde(n)},bde=function(n,e){if(Gr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return xde(n,e)},Ede=function(n,e){return e.letterSpacing!==0?uR(n):bde(n,e)},Sde=[32,160,4961,65792,65793,4153,4241],xde=function(n,e){for(var t=Zle(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),A=jS(a),l="";A.forEach(function(c){Sde.indexOf(c)===-1?l+=Kn(c):(l.length&&r.push(l),r.push(Kn(c)),l="")}),l.length&&r.push(l)}};!(i=t.next()).done;)s();return r},Tde=(function(){function n(e,t,r){this.text=_de(t.data,r.textTransform),this.textBounds=Cde(e,this.text,r,t)}return n})(),_de=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(Ide,Ude);case 2:return n.toUpperCase();default:return n}},Ide=/(^|\s|:|-|\(|\))([a-z])/g,Ude=function(n,e,t){return n.length>0?e+t.toUpperCase():n},Nq=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(qo),Lq=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(qo),kq=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=new XMLSerializer,a=WS(t,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(qo),Oq=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(qo),TM=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(qo),Fde=[{type:15,flags:0,unit:"px",number:3}],Mde=[{type:16,flags:0,number:50}],Dde=function(n){return n.width>n.height?new fl(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new fl(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Rde=function(n){var e=n.type===Pde?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},yE="checkbox",wE="radio",Pde="password",A4=707406591,cR=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Rde(r),(i.type===yE||i.type===wE)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Dde(i.bounds)),i.type){case yE:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Fde;break;case wE:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Mde;break}return i}return e})(qo),Hq=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(qo),Kq=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(qo),Gq=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=zq(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?ny(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):il.TRANSPARENT,a=r.contentWindow.document.body?ny(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):il.TRANSPARENT;i.backgroundColor=Ac(s)?Ac(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e})(qo),Qde=["OL","UL","MENU"],zb=function(n,e,t,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,qq(i)&&i.data.trim().length>0)t.textNodes.push(new Tde(n,i,t.styles));else if(qh(i))if(Wq(i)&&i.assignedNodes)i.assignedNodes().forEach(function(A){return zb(n,A,t,r)});else{var a=Vq(n,i);a.styles.isVisible()&&(Nde(i,a,r)?a.flags|=4:Lde(a.styles)&&(a.flags|=2),Qde.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?zb(n,i.shadowRoot,a,r):!CE(i)&&!$q(i)&&!BE(i)&&zb(n,i,a,r))}},Vq=function(n,e){return IM(e)?new Nq(n,e):Yq(e)?new Lq(n,e):$q(e)?new kq(n,e):kde(e)?new Oq(n,e):Ode(e)?new TM(n,e):Hde(e)?new cR(n,e):BE(e)?new Hq(n,e):CE(e)?new Kq(n,e):Xq(e)?new Gq(n,e):new qo(n,e)},zq=function(n,e){var t=Vq(n,e);return t.flags|=4,zb(n,e,t,t),t},Nde=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||fR(n)&&t.styles.isTransparent()},Lde=function(n){return n.isPositioned()||n.isFloating()},qq=function(n){return n.nodeType===Node.TEXT_NODE},qh=function(n){return n.nodeType===Node.ELEMENT_NODE},_M=function(n){return qh(n)&&typeof n.style<"u"&&!qb(n)},qb=function(n){return typeof n.className=="object"},kde=function(n){return n.tagName==="LI"},Ode=function(n){return n.tagName==="OL"},Hde=function(n){return n.tagName==="INPUT"},Kde=function(n){return n.tagName==="HTML"},$q=function(n){return n.tagName==="svg"},fR=function(n){return n.tagName==="BODY"},Yq=function(n){return n.tagName==="CANVAS"},l4=function(n){return n.tagName==="VIDEO"},IM=function(n){return n.tagName==="IMG"},Xq=function(n){return n.tagName==="IFRAME"},u4=function(n){return n.tagName==="STYLE"},Gde=function(n){return n.tagName==="SCRIPT"},CE=function(n){return n.tagName==="TEXTAREA"},BE=function(n){return n.tagName==="SELECT"},Wq=function(n){return n.tagName==="SLOT"},c4=function(n){return n.tagName.indexOf("-")>0},Vde=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(A){var l=t.counters[A.counter];l&&A.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var a=[];return s&&i.forEach(function(A){var l=t.counters[A.counter];a.push(A.counter),l||(l=t.counters[A.counter]=[]),l.push(A.reset)}),a},n})(),f4={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},d4={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zde={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qde={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Th=function(n,e,t,r,i,s){return n<e||n>t?vy(n,i,s.length>0):r.integers.reduce(function(a,A,l){for(;n>=A;)n-=A,a+=r.values[l];return a},"")+s},jq=function(n,e,t,r){var i="";do t||n--,i=r(n)+i,n/=e;while(n*e>=e);return i},Nn=function(n,e,t,r,i){var s=t-e+1;return(n<0?"-":"")+(jq(Math.abs(n),s,r,function(a){return Kn(Math.floor(a%s)+e)})+i)},Gc=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return jq(Math.abs(n),r,!1,function(i){return e[Math.floor(i%r)]})+t},Hh=1,ru=2,iu=4,Wv=8,fA=function(n,e,t,r,i,s){if(n<-9999||n>9999)return vy(n,4,i.length>0);var a=Math.abs(n),A=i;if(a===0)return e[0]+A;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&or(s,Hh)&&A!==""?A=e[c]+A:c>1||c===1&&l===0||c===1&&l===1&&or(s,ru)||c===1&&l===1&&or(s,iu)&&n>100||c===1&&l>1&&or(s,Wv)?A=e[c]+(l>0?t[l-1]:"")+A:c===1&&l>0&&(A=t[l-1]+A),a=Math.floor(a/10)}return(n<0?r:"")+A},h4="",p4="",g4="",L_="",vy=function(n,e,t){var r=t?". ":"",i=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=Nn(n,48,57,!0,r);return A.length<4?"0"+A:A;case 4:return Gc(n,"",i);case 6:return Th(n,1,3999,f4,3,r).toLowerCase();case 7:return Th(n,1,3999,f4,3,r);case 8:return Nn(n,945,969,!1,r);case 9:return Nn(n,97,122,!1,r);case 10:return Nn(n,65,90,!1,r);case 11:return Nn(n,1632,1641,!0,r);case 12:case 49:return Th(n,1,9999,d4,3,r);case 35:return Th(n,1,9999,d4,3,r).toLowerCase();case 13:return Nn(n,2534,2543,!0,r);case 14:case 30:return Nn(n,6112,6121,!0,r);case 15:return Gc(n,"",i);case 16:return Gc(n,"",i);case 17:case 48:return fA(n,"",h4,"",i,ru|iu|Wv);case 47:return fA(n,"",p4,"",i,Hh|ru|iu|Wv);case 42:return fA(n,"",h4,"",i,ru|iu|Wv);case 41:return fA(n,"",p4,"",i,Hh|ru|iu|Wv);case 26:return fA(n,"","",g4,i,0);case 25:return fA(n,"","",g4,i,Hh|ru|iu);case 31:return fA(n,"","",L_,s,Hh|ru|iu);case 33:return fA(n,"","",L_,s,0);case 32:return fA(n,"","",L_,s,Hh|ru|iu);case 18:return Nn(n,2406,2415,!0,r);case 20:return Th(n,1,19999,qde,3,r);case 21:return Nn(n,2790,2799,!0,r);case 22:return Nn(n,2662,2671,!0,r);case 22:return Th(n,1,10999,zde,3,r);case 23:return Gc(n,"");case 24:return Gc(n,"");case 27:return Nn(n,3302,3311,!0,r);case 28:return Gc(n,"",i);case 29:return Gc(n,"",i);case 34:return Nn(n,3792,3801,!0,r);case 37:return Nn(n,6160,6169,!0,r);case 38:return Nn(n,4160,4169,!0,r);case 39:return Nn(n,2918,2927,!0,r);case 40:return Nn(n,1776,1785,!0,r);case 43:return Nn(n,3046,3055,!0,r);case 44:return Nn(n,3174,3183,!0,r);case 45:return Nn(n,3664,3673,!0,r);case 46:return Nn(n,3872,3881,!0,r);case 3:default:return Nn(n,48,57,!0,r)}},Jq="data-html2canvas-ignore",m4=(function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new Vde,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,i=$de(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=i.contentWindow,l=A.document,c=Wde(i).then(function(){return wi(r,void 0,void 0,function(){var f,h;return si(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(ehe),A&&(A.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==t.top||A.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-t.left,A.scrollY-t.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Xde(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(l,h)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Jde(document.doctype)+"<html></html>"),Zde(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},n.prototype.createElementClone=function(e){if(SM(e,2))debugger;if(Yq(e))return this.createCanvasClone(e);if(l4(e))return this.createVideoClone(e);if(u4(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return IM(t)&&(IM(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),c4(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return k_(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var A=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,r){(!qh(t)||!Gde(t)&&!t.hasAttribute(Jq)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!qh(t)||!u4(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(qh(s)&&Wq(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(A){return i.appendChildNode(t,A,r)})}else this.appendChildNode(t,s,r)},n.prototype.cloneNode=function(e,t){if(qq(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&qh(e)&&(_M(e)||qb(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),A=r.getComputedStyle(e,":after");this.referenceElement===e&&_M(i)&&(this.clonedReferenceElement=i),fR(i)&&rhe(i);var l=this.counters.parse(new YH(this.context,s)),c=this.resolvePseudoContent(e,i,a,sy.BEFORE);c4(e)&&(t=!0),l4(e)||this.cloneChildNodes(e,i,t),c&&i.insertBefore(c,i.firstChild);var f=this.resolvePseudoContent(e,i,A,sy.AFTER);return f&&i.appendChild(f),this.counters.pop(l),(s&&(this.options.copyStyles||qb(e))&&!Xq(e)||t)&&k_(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(CE(e)||BE(e))&&(CE(i)||BE(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,i){var s=this;if(r){var a=r.content,A=t.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new YH(this.context,r));var l=new kfe(this.context,r),c=A.createElement("html2canvaspseudoelement");k_(r,c),l.content.forEach(function(h){if(h.type===0)c.appendChild(A.createTextNode(h.value));else if(h.type===22){var g=A.createElement("img");g.src=h.value,g.style.opacity="1",c.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(jt);v.length&&c.appendChild(A.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(Ng),B=b[0],S=b[1];if(B&&jt(B)){var x=s.counters.getCounterValue(B.value),_=S&&jt(S)?EM.parse(s.context,S.value):3;c.appendChild(A.createTextNode(vy(x,_,!1)))}}else if(h.name==="counters"){var T=h.values.filter(Ng),B=T[0],M=T[1],S=T[2];if(B&&jt(B)){var F=s.counters.getCounterValues(B.value),R=S&&jt(S)?EM.parse(s.context,S.value):3,L=M&&M.type===0?M.value:"",K=F.map(function(G){return vy(G,R,!1)}).join(L);c.appendChild(A.createTextNode(K))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(A.createTextNode($H(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode($H(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(h.value))}}),c.className=UM+" "+FM;var f=i===sy.BEFORE?" "+UM:" "+FM;return qb(t)?t.className.baseValue+=f:t.className+=f,c}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),sy;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(sy||(sy={}));var $de=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(Jq,"true"),n.body.appendChild(t),t},Yde=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Xde=function(n){return Promise.all([].slice.call(n.images,0).map(Yde))},Wde=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var i=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},jde=["all","d","content"],k_=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);jde.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},Jde=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Zde=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},ehe=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},the=":before",nhe=":after",UM="___html2canvas___pseudoelement_before",FM="___html2canvas___pseudoelement_after",v4=`{
    content: "" !important;
    display: none !important;
}`,rhe=function(n){ihe(n,"."+UM+the+v4+`
         .`+FM+nhe+v4)},ihe=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},Zq=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),she=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(H_(e)||lhe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return wi(this,void 0,void 0,function(){var t,r,i,s,a=this;return si(this,function(A){switch(A.label){case 0:return t=Zq.isSameOrigin(e),r=!O_(e)&&this._options.useCORS===!0&&Gr.SUPPORT_CORS_IMAGES&&!t,i=!O_(e)&&!t&&!H_(e)&&typeof this._options.proxy=="string"&&Gr.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!O_(e)&&!H_(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var f=new Image;f.onload=function(){return l(f)},f.onerror=c,(uhe(s)||r)&&(f.crossOrigin="anonymous"),f.src=s,f.complete===!0&&setTimeout(function(){return l(f)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var A=Gr.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),t._options.imageTimeout){var f=t._options.imageTimeout;l.timeout=f,l.ontimeout=function(){return a("Timed out ("+f+"ms) proxying "+i)}}l.send()})},n})(),ahe=/^data:image\/svg\+xml/i,ohe=/^data:image\/.*;base64,/i,Ahe=/^data:image\/.*/i,lhe=function(n){return Gr.SUPPORT_SVG_DRAWING||!che(n)},O_=function(n){return Ahe.test(n)},uhe=function(n){return ohe.test(n)},H_=function(n){return n.substr(0,4)==="blob"},che=function(n){return n.substr(-3).toLowerCase()==="svg"||ahe.test(n)},Te=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),_h=function(n,e,t){return new Te(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},QB=(function(){function n(e,t,r,i){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=i}return n.prototype.subdivide=function(e,t){var r=_h(this.start,this.startControl,e),i=_h(this.startControl,this.endControl,e),s=_h(this.endControl,this.end,e),a=_h(r,i,e),A=_h(i,s,e),l=_h(a,A,e);return t?new n(this.start,r,a,l):new n(l,A,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),ca=function(n){return n.type===1},fhe=(function(){function n(e){var t=e.styles,r=e.bounds,i=Yv(t.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],A=Yv(t.borderTopRightRadius,r.width,r.height),l=A[0],c=A[1],f=Yv(t.borderBottomRightRadius,r.width,r.height),h=f[0],g=f[1],v=Yv(t.borderBottomLeftRadius,r.width,r.height),b=v[0],B=v[1],S=[];S.push((s+l)/r.width),S.push((b+h)/r.width),S.push((a+B)/r.height),S.push((c+g)/r.height);var x=Math.max.apply(Math,S);x>1&&(s/=x,a/=x,l/=x,c/=x,h/=x,g/=x,b/=x,B/=x);var _=r.width-l,T=r.height-g,M=r.width-h,F=r.height-B,R=t.borderTopWidth,L=t.borderRightWidth,K=t.borderBottomWidth,O=t.borderLeftWidth,$=on(t.paddingTop,e.bounds.width),G=on(t.paddingRight,e.bounds.width),Y=on(t.paddingBottom,e.bounds.width),J=on(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?pn(r.left+O/3,r.top+R/3,s-O/3,a-R/3,Mt.TOP_LEFT):new Te(r.left+O/3,r.top+R/3),this.topRightBorderDoubleOuterBox=s>0||a>0?pn(r.left+_,r.top+R/3,l-L/3,c-R/3,Mt.TOP_RIGHT):new Te(r.left+r.width-L/3,r.top+R/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?pn(r.left+M,r.top+T,h-L/3,g-K/3,Mt.BOTTOM_RIGHT):new Te(r.left+r.width-L/3,r.top+r.height-K/3),this.bottomLeftBorderDoubleOuterBox=b>0||B>0?pn(r.left+O/3,r.top+F,b-O/3,B-K/3,Mt.BOTTOM_LEFT):new Te(r.left+O/3,r.top+r.height-K/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?pn(r.left+O*2/3,r.top+R*2/3,s-O*2/3,a-R*2/3,Mt.TOP_LEFT):new Te(r.left+O*2/3,r.top+R*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?pn(r.left+_,r.top+R*2/3,l-L*2/3,c-R*2/3,Mt.TOP_RIGHT):new Te(r.left+r.width-L*2/3,r.top+R*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?pn(r.left+M,r.top+T,h-L*2/3,g-K*2/3,Mt.BOTTOM_RIGHT):new Te(r.left+r.width-L*2/3,r.top+r.height-K*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||B>0?pn(r.left+O*2/3,r.top+F,b-O*2/3,B-K*2/3,Mt.BOTTOM_LEFT):new Te(r.left+O*2/3,r.top+r.height-K*2/3),this.topLeftBorderStroke=s>0||a>0?pn(r.left+O/2,r.top+R/2,s-O/2,a-R/2,Mt.TOP_LEFT):new Te(r.left+O/2,r.top+R/2),this.topRightBorderStroke=s>0||a>0?pn(r.left+_,r.top+R/2,l-L/2,c-R/2,Mt.TOP_RIGHT):new Te(r.left+r.width-L/2,r.top+R/2),this.bottomRightBorderStroke=h>0||g>0?pn(r.left+M,r.top+T,h-L/2,g-K/2,Mt.BOTTOM_RIGHT):new Te(r.left+r.width-L/2,r.top+r.height-K/2),this.bottomLeftBorderStroke=b>0||B>0?pn(r.left+O/2,r.top+F,b-O/2,B-K/2,Mt.BOTTOM_LEFT):new Te(r.left+O/2,r.top+r.height-K/2),this.topLeftBorderBox=s>0||a>0?pn(r.left,r.top,s,a,Mt.TOP_LEFT):new Te(r.left,r.top),this.topRightBorderBox=l>0||c>0?pn(r.left+_,r.top,l,c,Mt.TOP_RIGHT):new Te(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||g>0?pn(r.left+M,r.top+T,h,g,Mt.BOTTOM_RIGHT):new Te(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=b>0||B>0?pn(r.left,r.top+F,b,B,Mt.BOTTOM_LEFT):new Te(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?pn(r.left+O,r.top+R,Math.max(0,s-O),Math.max(0,a-R),Mt.TOP_LEFT):new Te(r.left+O,r.top+R),this.topRightPaddingBox=l>0||c>0?pn(r.left+Math.min(_,r.width-L),r.top+R,_>r.width+L?0:Math.max(0,l-L),Math.max(0,c-R),Mt.TOP_RIGHT):new Te(r.left+r.width-L,r.top+R),this.bottomRightPaddingBox=h>0||g>0?pn(r.left+Math.min(M,r.width-O),r.top+Math.min(T,r.height-K),Math.max(0,h-L),Math.max(0,g-K),Mt.BOTTOM_RIGHT):new Te(r.left+r.width-L,r.top+r.height-K),this.bottomLeftPaddingBox=b>0||B>0?pn(r.left+O,r.top+Math.min(F,r.height-K),Math.max(0,b-O),Math.max(0,B-K),Mt.BOTTOM_LEFT):new Te(r.left+O,r.top+r.height-K),this.topLeftContentBox=s>0||a>0?pn(r.left+O+J,r.top+R+$,Math.max(0,s-(O+J)),Math.max(0,a-(R+$)),Mt.TOP_LEFT):new Te(r.left+O+J,r.top+R+$),this.topRightContentBox=l>0||c>0?pn(r.left+Math.min(_,r.width+O+J),r.top+R+$,_>r.width+O+J?0:l-O+J,c-(R+$),Mt.TOP_RIGHT):new Te(r.left+r.width-(L+G),r.top+R+$),this.bottomRightContentBox=h>0||g>0?pn(r.left+Math.min(M,r.width-(O+J)),r.top+Math.min(T,r.height+R+$),Math.max(0,h-(L+G)),g-(K+Y),Mt.BOTTOM_RIGHT):new Te(r.left+r.width-(L+G),r.top+r.height-(K+Y)),this.bottomLeftContentBox=b>0||B>0?pn(r.left+O+J,r.top+F,Math.max(0,b-(O+J)),B-(K+Y),Mt.BOTTOM_LEFT):new Te(r.left+O+J,r.top+r.height-(K+Y))}return n})(),Mt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Mt||(Mt={}));var pn=function(n,e,t,r,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,A=r*s,l=n+t,c=e+r;switch(i){case Mt.TOP_LEFT:return new QB(new Te(n,c),new Te(n,c-A),new Te(l-a,e),new Te(l,e));case Mt.TOP_RIGHT:return new QB(new Te(n,e),new Te(n+a,e),new Te(l,c-A),new Te(l,c));case Mt.BOTTOM_RIGHT:return new QB(new Te(l,e),new Te(l,e+A),new Te(n+a,c),new Te(n,c));case Mt.BOTTOM_LEFT:default:return new QB(new Te(l,c),new Te(l-a,c),new Te(n,e+A),new Te(n,e))}},bE=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},dhe=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},EE=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},hhe=(function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n})(),NB=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),phe=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),ghe=function(n){return n.type===0},e6=function(n){return n.type===1},mhe=function(n){return n.type===2},y4=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},vhe=function(n,e,t,r,i){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+r,t);case 2:return s.add(e+r,t+i);case 3:return s.add(e,t+i)}return s})},t6=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),n6=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new fhe(this.container),this.container.styles.opacity<1&&this.effects.push(new phe(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new hhe(r,i,s))}if(this.container.styles.overflowX!==0){var a=bE(this.curves),A=EE(this.curves);y4(a,A)?this.effects.push(new NB(a,6)):(this.effects.push(new NB(a,2)),this.effects.push(new NB(A,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!e6(l)});if(t||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=bE(r.curves),A=EE(r.curves);y4(a,A)||i.unshift(new NB(A,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return or(l.target,e)})},n})(),MM=function(n,e,t,r){n.container.elements.forEach(function(i){var s=or(i.flags,4),a=or(i.flags,2),A=new n6(i,n);or(i.styles.display,2048)&&r.push(A);var l=or(i.flags,8)?[]:r;if(s||a){var c=s||i.styles.isPositioned()?t:e,f=new t6(A);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var g=0;c.negativeZIndex.some(function(b,B){return h>b.element.container.styles.zIndex.order?(g=B,!1):g>0}),c.negativeZIndex.splice(g,0,f)}else if(h>0){var v=0;c.positiveZIndex.some(function(b,B){return h>=b.element.container.styles.zIndex.order?(v=B+1,!1):v>0}),c.positiveZIndex.splice(v,0,f)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else i.styles.isFloating()?c.nonPositionedFloats.push(f):c.nonPositionedInlineLevel.push(f);MM(A,f,s?f:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(A):e.nonInlineLevel.push(A),MM(A,e,t,l);or(i.flags,8)&&r6(i,l)})},r6=function(n,e){for(var t=n instanceof TM?n.start:1,r=n instanceof TM?n.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof Oq&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=vy(t,s.container.styles.listStyleType,!0),t+=r?-1:1}},yhe=function(n){var e=new n6(n,null),t=new t6(e),r=[];return MM(e,t,t,r),r6(e.container,r),t},w4=function(n,e){switch(e){case 0:return ha(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return ha(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return ha(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return ha(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},whe=function(n,e){switch(e){case 0:return ha(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return ha(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return ha(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return ha(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},Che=function(n,e){switch(e){case 0:return ha(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return ha(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return ha(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return ha(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},Bhe=function(n,e){switch(e){case 0:return LB(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return LB(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return LB(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return LB(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},LB=function(n,e){var t=[];return ca(n)?t.push(n.subdivide(.5,!1)):t.push(n),ca(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},ha=function(n,e,t,r){var i=[];return ca(n)?i.push(n.subdivide(.5,!1)):i.push(n),ca(t)?i.push(t.subdivide(.5,!0)):i.push(t),ca(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),ca(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},i6=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},SE=function(n){var e=n.styles,t=n.bounds,r=on(e.paddingLeft,t.width),i=on(e.paddingRight,t.width),s=on(e.paddingTop,t.width),a=on(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},bhe=function(n,e){return n===0?e.bounds:n===2?SE(e):i6(e)},Ehe=function(n,e){return n===0?e.bounds:n===2?SE(e):i6(e)},K_=function(n,e,t){var r=bhe(Kh(n.styles.backgroundOrigin,e),n),i=Ehe(Kh(n.styles.backgroundClip,e),n),s=She(Kh(n.styles.backgroundSize,e),t,r),a=s[0],A=s[1],l=Yv(Kh(n.styles.backgroundPosition,e),r.width-a,r.height-A),c=xhe(Kh(n.styles.backgroundRepeat,e),l,s,r,i),f=Math.round(r.left+l[0]),h=Math.round(r.top+l[1]);return[c,f,h,a,A]},Ih=function(n){return jt(n)&&n.value===sp.AUTO},kB=function(n){return typeof n=="number"},She=function(n,e,t){var r=e[0],i=e[1],s=e[2],a=n[0],A=n[1];if(!a)return[0,0];if(Jn(a)&&A&&Jn(A))return[on(a,t.width),on(A,t.height)];var l=kB(s);if(jt(a)&&(a.value===sp.CONTAIN||a.value===sp.COVER)){if(kB(s)){var c=t.width/t.height;return c<s!=(a.value===sp.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var f=kB(r),h=kB(i),g=f||h;if(Ih(a)&&(!A||Ih(A))){if(f&&h)return[r,i];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=f?r:i*s,b=h?i:r/s;return[v,b]}var B=f?r:t.width,S=h?i:t.height;return[B,S]}if(l){var x=0,_=0;return Jn(a)?x=on(a,t.width):Jn(A)&&(_=on(A,t.height)),Ih(a)?x=_*s:(!A||Ih(A))&&(_=x/s),[x,_]}var T=null,M=null;if(Jn(a)?T=on(a,t.width):A&&Jn(A)&&(M=on(A,t.height)),T!==null&&(!A||Ih(A))&&(M=f&&h?T/r*i:t.height),M!==null&&Ih(a)&&(T=f&&h?M/i*r:t.width),T!==null&&M!==null)return[T,M];throw new Error("Unable to calculate background-size for element")},Kh=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},xhe=function(n,e,t,r,i){var s=e[0],a=e[1],A=t[0],l=t[1];switch(n){case 2:return[new Te(Math.round(r.left),Math.round(r.top+a)),new Te(Math.round(r.left+r.width),Math.round(r.top+a)),new Te(Math.round(r.left+r.width),Math.round(l+r.top+a)),new Te(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new Te(Math.round(r.left+s),Math.round(r.top)),new Te(Math.round(r.left+s+A),Math.round(r.top)),new Te(Math.round(r.left+s+A),Math.round(r.height+r.top)),new Te(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new Te(Math.round(r.left+s),Math.round(r.top+a)),new Te(Math.round(r.left+s+A),Math.round(r.top+a)),new Te(Math.round(r.left+s+A),Math.round(r.top+a+l)),new Te(Math.round(r.left+s),Math.round(r.top+a+l))];default:return[new Te(Math.round(i.left),Math.round(i.top)),new Te(Math.round(i.left+i.width),Math.round(i.top)),new Te(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Te(Math.round(i.left),Math.round(i.height+i.top))]}},The="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",C4="Hidden Text",_he=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=The,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(C4)),r.appendChild(s),r.appendChild(i);var A=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(C4)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:A,middle:l}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n})(),s6=(function(){function n(e,t){this.context=e,this.options=t}return n})(),Ihe=1e4,Uhe=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new _he(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),mhe(t)&&(this.ctx.globalAlpha=t.opacity),ghe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),e6(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return wi(this,void 0,void 0,function(){var r;return si(this,function(i){switch(i.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return wi(this,void 0,void 0,function(){return si(this,function(r){switch(r.label){case 0:if(or(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,i){var s=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=uR(t.text);a.reduce(function(A,l){return s.ctx.fillText(l,A,t.bounds.top+i),A+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Phe(t.fontFamily).join(", "),s=Sw(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,r){return wi(this,void 0,void 0,function(){var i,s,a,A,l,c,f,h,g=this;return si(this,function(v){return i=this.createFontStyle(r),s=i[0],a=i[1],A=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,A),c=l.baseline,f=l.middle,h=r.paintOrder,t.textBounds.forEach(function(b){h.forEach(function(B){switch(B){case 0:g.ctx.fillStyle=gr(r.color),g.renderTextWithLetterSpacing(b,r.letterSpacing,c);var S=r.textShadow;S.length&&b.text.trim().length&&(S.slice(0).reverse().forEach(function(x){g.ctx.shadowColor=gr(x.color),g.ctx.shadowOffsetX=x.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=x.offsetY.number*g.options.scale,g.ctx.shadowBlur=x.blur.number,g.renderTextWithLetterSpacing(b,r.letterSpacing,c)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=gr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+c),b.bounds.width,1);break;case 2:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:g.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+f),b.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&b.text.trim().length&&(g.ctx.strokeStyle=gr(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+c)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=SE(t),a=EE(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return wi(this,void 0,void 0,function(){var r,i,s,a,A,l,_,_,c,f,h,g,M,v,b,F,B,S,x,_,T,M,F;return si(this,function(R){switch(R.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,i=t.curves,s=r.styles,a=0,A=r.textNodes,R.label=1;case 1:return a<A.length?(l=A[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:R.sent(),R.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof Nq))return[3,8];R.label=5;case 5:return R.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return _=R.sent(),this.renderReplacedElement(r,i,_),[3,8];case 7:return R.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Lq&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof kq))return[3,12];R.label=9;case 9:return R.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return _=R.sent(),this.renderReplacedElement(r,i,_),[3,12];case 11:return R.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Gq&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:f=R.sent(),r.width&&r.height&&this.ctx.drawImage(f,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),R.label=14;case 14:if(r instanceof cR&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===yE?r.checked&&(this.ctx.save(),this.path([new Te(r.bounds.left+h*.39363,r.bounds.top+h*.79),new Te(r.bounds.left+h*.16,r.bounds.top+h*.5549),new Te(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new Te(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new Te(r.bounds.left+h*.72983,r.bounds.top+h*.23),new Te(r.bounds.left+h*.84,r.bounds.top+h*.34085),new Te(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=gr(A4),this.ctx.fill(),this.ctx.restore()):r.type===wE&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=gr(A4),this.ctx.fill(),this.ctx.restore())),Fhe(r)&&r.value.length){switch(g=this.createFontStyle(s),M=g[0],v=g[1],b=this.fontMetrics.getMetrics(M,v).baseline,this.ctx.font=M,this.ctx.fillStyle=gr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Dhe(r.styles.textAlign),F=SE(r),B=0,r.styles.textAlign){case 1:B+=F.width/2;break;case 2:B+=F.width;break}S=F.add(B,0,0,-F.height/2+1),this.ctx.save(),this.path([new Te(F.left,F.top),new Te(F.left+F.width,F.top),new Te(F.left+F.width,F.top+F.height),new Te(F.left,F.top+F.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new iy(r.value,S),s.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!or(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];_=void 0,T=x.url,R.label=15;case 15:return R.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return _=R.sent(),this.ctx.drawImage(_,r.bounds.left-(_.width+10),r.bounds.top),[3,18];case 17:return R.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(M=this.createFontStyle(s)[0],this.ctx.font=M,this.ctx.fillStyle=gr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",F=new fl(r.bounds.left,r.bounds.top+on(r.styles.paddingTop,r.bounds.width),r.bounds.width,zH(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new iy(t.listValue,F),s.letterSpacing,zH(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),R.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return wi(this,void 0,void 0,function(){var r,i,x,s,a,x,A,l,x,c,f,x,h,g,x,v,b,x,B,S,x;return si(this,function(_){switch(_.label){case 0:if(or(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:_.sent(),r=0,i=t.negativeZIndex,_.label=2;case 2:return r<i.length?(x=i[r],[4,this.renderStack(x)]):[3,5];case 3:_.sent(),_.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:_.sent(),s=0,a=t.nonInlineLevel,_.label=7;case 7:return s<a.length?(x=a[s],[4,this.renderNode(x)]):[3,10];case 8:_.sent(),_.label=9;case 9:return s++,[3,7];case 10:A=0,l=t.nonPositionedFloats,_.label=11;case 11:return A<l.length?(x=l[A],[4,this.renderStack(x)]):[3,14];case 12:_.sent(),_.label=13;case 13:return A++,[3,11];case 14:c=0,f=t.nonPositionedInlineLevel,_.label=15;case 15:return c<f.length?(x=f[c],[4,this.renderStack(x)]):[3,18];case 16:_.sent(),_.label=17;case 17:return c++,[3,15];case 18:h=0,g=t.inlineLevel,_.label=19;case 19:return h<g.length?(x=g[h],[4,this.renderNode(x)]):[3,22];case 20:_.sent(),_.label=21;case 21:return h++,[3,19];case 22:v=0,b=t.zeroOrAutoZIndexOrTransformedOrOpacity,_.label=23;case 23:return v<b.length?(x=b[v],[4,this.renderStack(x)]):[3,26];case 24:_.sent(),_.label=25;case 25:return v++,[3,23];case 26:B=0,S=t.positiveZIndex,_.label=27;case 27:return B<S.length?(x=S[B],[4,this.renderStack(x)]):[3,30];case 28:_.sent(),_.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(i,s){var a=ca(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),ca(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,r,i,s){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,r,i){var s;if(t.width===r&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,A=a.createElement("canvas");A.width=Math.max(1,r),A.height=Math.max(1,i);var l=A.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,r,i),A},e.prototype.renderBackgroundImage=function(t){return wi(this,void 0,void 0,function(){var r,i,s,a,A,l;return si(this,function(c){switch(c.label){case 0:r=t.styles.backgroundImage.length-1,i=function(f){var h,g,v,$,H,z,J,ne,K,b,$,H,z,J,ne,B,S,x,_,T,M,F,R,L,K,O,$,G,Y,J,ne,fe,H,z,oe,le,Ce,V,W,ae,ue,we;return si(this,function(ve){switch(ve.label){case 0:if(f.type!==0)return[3,5];h=void 0,g=f.url,ve.label=1;case 1:return ve.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=ve.sent(),[3,4];case 3:return ve.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=K_(t,r,[h.width,h.height,h.width/h.height]),$=v[0],H=v[1],z=v[2],J=v[3],ne=v[4],K=s.ctx.createPattern(s.resizeImage(h,J,ne),"repeat"),s.renderRepeat($,K,H,z)),[3,6];case 5:gce(f)?(b=K_(t,r,[null,null,null]),$=b[0],H=b[1],z=b[2],J=b[3],ne=b[4],B=cce(f.angle,J,ne),S=B[0],x=B[1],_=B[2],T=B[3],M=B[4],F=document.createElement("canvas"),F.width=J,F.height=ne,R=F.getContext("2d"),L=R.createLinearGradient(x,T,_,M),GH(f.stops,S).forEach(function(ye){return L.addColorStop(ye.stop,gr(ye.color))}),R.fillStyle=L,R.fillRect(0,0,J,ne),J>0&&ne>0&&(K=s.ctx.createPattern(F,"repeat"),s.renderRepeat($,K,H,z))):mce(f)&&(O=K_(t,r,[null,null,null]),$=O[0],G=O[1],Y=O[2],J=O[3],ne=O[4],fe=f.position.length===0?[oR]:f.position,H=on(fe[0],J),z=on(fe[fe.length-1],ne),oe=fce(f,H,z,J,ne),le=oe[0],Ce=oe[1],le>0&&Ce>0&&(V=s.ctx.createRadialGradient(G+H,Y+z,0,G+H,Y+z,le),GH(f.stops,le*2).forEach(function(ye){return V.addColorStop(ye.stop,gr(ye.color))}),s.path($),s.ctx.fillStyle=V,le!==Ce?(W=t.bounds.left+.5*t.bounds.width,ae=t.bounds.top+.5*t.bounds.height,ue=Ce/le,we=1/ue,s.ctx.save(),s.ctx.translate(W,ae),s.ctx.transform(1,0,0,ue,0,0),s.ctx.translate(-W,-ae),s.ctx.fillRect(G,we*(Y-ae)+ae,J,ne*we),s.ctx.restore()):s.ctx.fill())),ve.label=6;case 6:return r--,[2]}})},s=this,a=0,A=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<A.length?(l=A[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,i){return wi(this,void 0,void 0,function(){return si(this,function(s){return this.path(w4(i,r)),this.ctx.fillStyle=gr(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,i,s){return wi(this,void 0,void 0,function(){var a,A;return si(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=whe(s,i),this.path(a),this.ctx.fillStyle=gr(t),this.ctx.fill(),A=Che(s,i),this.path(A),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return wi(this,void 0,void 0,function(){var r,i,s,a,A,l,c,f,h=this;return si(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,i=!Ac(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=Mhe(Kh(r.backgroundClip,0),t.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ac(r.backgroundColor)||(this.ctx.fillStyle=gr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var b=bE(t.curves),B=v.inset?0:Ihe,S=vhe(b,-B+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(b),h.ctx.clip(),h.mask(S)):(h.mask(b),h.ctx.clip(),h.path(S)),h.ctx.shadowOffsetX=v.offsetX.number+B,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=gr(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?gr(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:A=0,l=0,c=s,g.label=3;case 3:return l<c.length?(f=c[l],f.style!==0&&!Ac(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,A,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,A,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,A,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,A,t.curves)];case 10:g.sent(),g.label=11;case 11:A++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,i,s,a){return wi(this,void 0,void 0,function(){var A,l,c,f,h,g,v,b,B,S,x,_,T,M,F,R,F,R;return si(this,function(L){return this.ctx.save(),A=Bhe(s,i),l=w4(s,i),a===2&&(this.path(l),this.ctx.clip()),ca(l[0])?(c=l[0].start.x,f=l[0].start.y):(c=l[0].x,f=l[0].y),ca(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),i===0||i===2?v=Math.abs(c-h):v=Math.abs(f-g),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(l.slice(0,2)),b=r<3?r*3:r*2,B=r<3?r*2:r,a===3&&(b=r,B=r),S=!0,v<=b*2?S=!1:v<=b*2+B?(x=v/(2*b+B),b*=x,B*=x):(_=Math.floor((v+B)/(b+B)),T=(v-_*b)/(_-1),M=(v-(_+1)*b)/_,B=M<=0||Math.abs(B-T)<Math.abs(B-M)?T:M),S&&(a===3?this.ctx.setLineDash([0,b+B]):this.ctx.setLineDash([b,B])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=gr(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(ca(l[0])&&(F=l[3],R=l[0],this.ctx.beginPath(),this.formatPath([new Te(F.end.x,F.end.y),new Te(R.start.x,R.start.y)]),this.ctx.stroke()),ca(l[1])&&(F=l[1],R=l[2],this.ctx.beginPath(),this.formatPath([new Te(F.end.x,F.end.y),new Te(R.start.x,R.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return wi(this,void 0,void 0,function(){var r;return si(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=gr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=yhe(t),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(s6),Fhe=function(n){return n instanceof Kq||n instanceof Hq?!0:n instanceof cR&&n.type!==wE&&n.type!==yE},Mhe=function(n,e){switch(n){case 0:return bE(e);case 2:return dhe(e);case 1:default:return EE(e)}},Dhe=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Rhe=["-apple-system","system-ui"],Phe=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return Rhe.indexOf(e)===-1}):n},Qhe=(function(n){to(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(t){return wi(this,void 0,void 0,function(){var r,i;return si(this,function(s){switch(s.label){case 0:return r=xM(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Nhe(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=gr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(s6),Nhe=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Lhe=(function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,mB([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,mB([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,mB([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,mB([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),khe=(function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new Lhe({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new she(this,e)}return n.instanceCount=1,n})(),Ohe=function(n,e){return e===void 0&&(e={}),Hhe(n,e)};typeof window<"u"&&Zq.setContext(window);var Hhe=function(n,e){return wi(void 0,void 0,void 0,function(){var t,r,i,s,a,A,l,c,f,h,g,v,b,B,S,x,_,T,M,F,L,R,L,K,O,$,G,Y,J,ne,fe,H,z,oe,le,Ce,V,W,ae,ue;return si(this,function(we){switch(we.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(K=e.allowTaint)!==null&&K!==void 0?K:!1,imageTimeout:(O=e.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:e.proxy,useCORS:($=e.useCORS)!==null&&$!==void 0?$:!1},s=cM({logging:(G=e.logging)!==null&&G!==void 0?G:!0,cache:e.cache},i),a={windowWidth:(Y=e.windowWidth)!==null&&Y!==void 0?Y:r.innerWidth,windowHeight:(J=e.windowHeight)!==null&&J!==void 0?J:r.innerHeight,scrollX:(ne=e.scrollX)!==null&&ne!==void 0?ne:r.pageXOffset,scrollY:(fe=e.scrollY)!==null&&fe!==void 0?fe:r.pageYOffset},A=new fl(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new khe(s,A),c=(H=e.foreignObjectRendering)!==null&&H!==void 0?H:!1,f={allowTaint:(z=e.allowTaint)!==null&&z!==void 0?z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),h=new m4(l,n,f),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=we.sent(),b=fR(g)||Kde(g)?vle(g.ownerDocument):WS(l,g),B=b.width,S=b.height,x=b.left,_=b.top,T=Khe(l,g,e.backgroundColor),M={canvas:e.canvas,backgroundColor:T,scale:(le=(oe=e.scale)!==null&&oe!==void 0?oe:r.devicePixelRatio)!==null&&le!==void 0?le:1,x:((Ce=e.x)!==null&&Ce!==void 0?Ce:0)+x,y:((V=e.y)!==null&&V!==void 0?V:0)+_,width:(W=e.width)!==null&&W!==void 0?W:Math.ceil(B),height:(ae=e.height)!==null&&ae!==void 0?ae:Math.ceil(S)},c?(l.logger.debug("Document cloned, using foreign object rendering"),L=new Qhe(l,M),[4,L.render(g)]):[3,3];case 2:return F=we.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+_+" with size "+B+"x"+S+" using computed rendering"),l.logger.debug("Starting DOM parsing"),R=zq(l,g),T===R.styles.backgroundColor&&(R.styles.backgroundColor=il.TRANSPARENT),l.logger.debug("Starting renderer for element at "+M.x+","+M.y+" with size "+M.width+"x"+M.height),L=new Uhe(l,M),[4,L.render(R)];case 4:F=we.sent(),we.label=5;case 5:return(!((ue=e.removeContainer)!==null&&ue!==void 0)||ue)&&(m4.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,F]}})})},Khe=function(n,e,t){var r=e.ownerDocument,i=r.documentElement?ny(n,getComputedStyle(r.documentElement).backgroundColor):il.TRANSPARENT,s=r.body?ny(n,getComputedStyle(r.body).backgroundColor):il.TRANSPARENT,a=typeof t=="string"?ny(n,t):t===null?il.TRANSPARENT:4294967295;return e===r.documentElement?Ac(i)?Ac(s)?a:s:i:a};const Ghe=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:r,viewMode:i,addHighlight:s,drawingMode:a,penColor:A,penWidth:l,penOpacity:c,chapterStrokes:f,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:b,showAnnotations:B,triggerSmartExplain:S,isCaptureMode:x,setCaptureMode:_,setCapturedImage:T}=Dd(),M=n||t,F=e==="main",R=I.useRef(null),L=I.useRef(null),K=I.useRef(0),[O,$]=I.useState({text:"",top:0,left:0,show:!1}),[G,Y]=I.useState({show:!1,text:""}),[J,ne]=I.useState(!1),[fe,H]=I.useState([]),[z,oe]=I.useState(null),[le,Ce]=I.useState(null);I.useEffect(()=>{if(!F)return;const pe=Be=>{Be.key==="Escape"&&x&&(_(!1),oe(null),Ce(null))};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[x,_,F]);const V=I.useMemo(()=>{let pe=M.content;return B&&[...v.filter(Ye=>Ye.chapterId===M.id)].sort((Ye,We)=>We.text.length-Ye.text.length).forEach(Ye=>{const We=Ye.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Oe=new RegExp(We,"g"),_t=`<mark id="hl-${Ye.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${Ye.note||"Highlight"}">${Ye.text}</mark>`;pe=pe.replace(Oe,_t)}),pe},[M.content,M.id,v,B]);I.useEffect(()=>{if(b&&B){const pe=document.getElementById(`hl-${b}`);pe&&document.body.contains(pe)&&(pe.scrollIntoView({behavior:"smooth",block:"center"}),pe.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{pe.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[b,V,B]),I.useEffect(()=>{const pe=Be=>{const Xe=Be.target;!Xe.closest(`#selection-menu-${e}`)&&!Xe.closest(`#memo-dialog-${e}`)&&$(Ye=>({...Ye,show:!1}))};return document.addEventListener("mousedown",pe),()=>document.removeEventListener("mousedown",pe)},[e]);const W=()=>{var Be,Xe;const pe=window.getSelection();if(pe&&pe.toString().trim().length>0){if(!(((Be=R.current)==null?void 0:Be.contains(pe.anchorNode))||((Xe=R.current)==null?void 0:Xe.contains(pe.focusNode))))return;const Oe=pe.getRangeAt(0).getBoundingClientRect();let _t=Oe.top-60,Ft=Oe.left+Oe.width/2-100;_t<0&&(_t=Oe.bottom+10),Ft<10&&(Ft=10),Ft+200>window.innerWidth&&(Ft=window.innerWidth-220),$({text:pe.toString(),top:_t,left:Ft,show:!0})}else $(Ye=>({...Ye,show:!1}))},ae=pe=>{F&&x||a==="idle"&&setTimeout(W,10)},ue=()=>{var pe;s(O.text,void 0,M.id),$(Be=>({...Be,show:!1})),(pe=window.getSelection())==null||pe.removeAllRanges()},we=()=>{$(pe=>({...pe,show:!1})),Y({show:!0,text:""})},ve=()=>{var pe;G.text.trim()&&s(O.text,G.text,M.id),Y({show:!1,text:""}),(pe=window.getSelection())==null||pe.removeAllRanges()},ye=()=>{var pe;S(O.text),$(Be=>({...Be,show:!1})),(pe=window.getSelection())==null||pe.removeAllRanges()},rt=pe=>{if(!L.current)return null;const Be=L.current.getBoundingClientRect();if(Be.width===0||Be.height===0)return null;const Xe=L.current.width/Be.width,Ye=L.current.height/Be.height;return{x:(pe.clientX-Be.left)*Xe,y:(pe.clientY-Be.top)*Ye}},re=pe=>{var Xe;if(F&&x||a==="idle")return;pe.target.setPointerCapture(pe.pointerId);const Be=rt(pe);if(Be&&(ne(!0),H([Be]),R.current&&a==="pen")){const Ye=Array.from(R.current.children);let We=0;const Oe=(Xe=L.current)==null?void 0:Xe.getBoundingClientRect(),_t=pe.clientY-((Oe==null?void 0:Oe.top)||0);for(let Ft=0;Ft<Ye.length;Ft++){const Wr=Ye[Ft];if(_t>=Wr.offsetTop&&_t<=Wr.offsetTop+Wr.offsetHeight){We=Ft;break}if(_t<Wr.offsetTop){We=Math.max(0,Ft-1);break}We=Ft}K.current=We}},be=pe=>{if(F&&x||!J||a==="idle")return;pe.preventDefault();const Be=rt(pe);if(Be){if(a==="pen")H(Xe=>[...Xe,Be]);else if(a==="eraser"){const Xe=f[M.id]||[],Ye=R.current?Array.from(R.current.children):[];Xe.forEach(We=>{let Oe=We.points;if(We.anchorIndex!==void 0&&Ye[We.anchorIndex]){const Ft=Ye[We.anchorIndex].offsetTop;Oe=We.points.map(Wr=>({x:Wr.x,y:Wr.y+Ft}))}Oe.some(Ft=>Math.hypot(Ft.x-Be.x,Ft.y-Be.y)<20)&&g(M.id,We.id)})}}},ke=pe=>{if(!(F&&x)&&J){if(pe.target.releasePointerCapture(pe.pointerId),ne(!1),a==="pen"&&fe.length>1){let Be=fe,Xe;if(R.current){Xe=K.current;const We=R.current.children;if(We[Xe]){const Oe=We[Xe].offsetTop;Be=fe.map(_t=>({x:_t.x,y:_t.y-Oe}))}}const Ye={id:Date.now().toString(),points:Be,color:A,width:l,opacity:c,anchorIndex:Xe};h(M.id,Ye)}H([])}},he=pe=>{if(!F||!x)return;const Be={x:pe.clientX,y:pe.clientY};oe(Be),Ce(Be)},He=pe=>{!F||!x||!z||Ce({x:pe.clientX,y:pe.clientY})},Ie=async pe=>{if(!F||!x||!z||!le){oe(null),Ce(null);return}const Be=z,Xe={x:pe.clientX,y:pe.clientY},Ye={x:Math.min(Be.x,Xe.x),y:Math.min(Be.y,Xe.y),width:Math.abs(Xe.x-Be.x),height:Math.abs(Xe.y-Be.y)};if(oe(null),Ce(null),!(Ye.width<10||Ye.height<10))try{const We=await Ohe(document.body,{x:Ye.x+window.scrollX,y:Ye.y+window.scrollY,width:Ye.width,height:Ye.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:Oe=>Oe.classList.contains("capture-overlay-ui")});T(We.toDataURL())}catch(We){console.error(We)}finally{_(!1)}};I.useEffect(()=>{const pe=L.current;if(!pe||!R.current)return;const Be=()=>{if(!pe||!R.current)return;const Ye=window.devicePixelRatio||1;pe.width=R.current.offsetWidth*Ye,pe.height=R.current.offsetHeight*Ye;const We=pe.getContext("2d");We&&We.scale(Ye,Ye)};Be();const Xe=new ResizeObserver(Be);return Xe.observe(R.current),()=>Xe.disconnect()},[M.id,i]),I.useEffect(()=>{const pe=L.current;if(!pe||!R.current)return;const Be=pe.getContext("2d");if(!Be||(Be.save(),Be.setTransform(1,0,0,1,0,0),Be.clearRect(0,0,pe.width,pe.height),Be.restore(),!B&&!J))return;const Xe=(Oe,_t,Ft,Wr)=>{if(!(Oe.length<2)){Be.beginPath(),Be.lineWidth=Ft,Be.strokeStyle=_t,Be.lineCap="round",Be.lineJoin="round",Be.globalAlpha=Wr,Be.moveTo(Oe[0].x,Oe[0].y);for(let ji=1;ji<Oe.length-1;ji++){const ro={x:(Oe[ji].x+Oe[ji+1].x)/2,y:(Oe[ji].y+Oe[ji+1].y)/2};Be.quadraticCurveTo(Oe[ji].x,Oe[ji].y,ro.x,ro.y)}Be.lineTo(Oe[Oe.length-1].x,Oe[Oe.length-1].y),Be.stroke(),Be.globalAlpha=1}},Ye=Array.from(R.current.children);(f[M.id]||[]).forEach(Oe=>{let _t=Oe.points;if(Oe.anchorIndex!==void 0&&Ye[Oe.anchorIndex]){const Ft=Ye[Oe.anchorIndex].offsetTop;_t=Oe.points.map(Wr=>({x:Wr.x,y:Wr.y+Ft}))}Xe(_t,Oe.color,Oe.width||3,Oe.opacity!==void 0?Oe.opacity:1)}),J&&fe.length>1&&a==="pen"&&Xe(fe,A,l,c)},[f,M.id,J,fe,A,l,c,a,B]);const Ke=()=>{switch(r){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},tt=F&&x&&z&&le?{position:"fixed",left:Math.min(z.x,le.x),top:Math.min(z.y,le.y),width:Math.abs(le.x-z.x),height:Math.abs(le.y-z.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},Cn={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},dr=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,_i=e==="main"&&i==="double",Ea=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${_i?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",ge=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${Ke()} ${_i?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,Re=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return N.jsxs("div",{className:Re,onPointerUp:ae,children:[F&&x&&N.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:he,onMouseMove:He,onMouseUp:Ie,children:!z&&N.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),F&&x&&z&&le&&N.jsx("div",{style:tt,className:"capture-overlay-ui"}),N.jsxs("div",{className:Ea,children:[N.jsx("div",{ref:R,className:ge,dangerouslySetInnerHTML:{__html:V},onContextMenu:pe=>pe.preventDefault()}),N.jsx("canvas",{ref:L,className:dr,style:Cn,onPointerDown:re,onPointerMove:be,onPointerUp:ke,onPointerLeave:ke})]}),O.show&&!x&&N.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:O.top,left:O.left},children:[N.jsxs("button",{onClick:ue,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[N.jsx(Hb,{size:14,className:"text-yellow-400"})," High"]}),N.jsx("div",{className:"w-px h-4 bg-slate-600"}),N.jsxs("button",{onClick:we,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[N.jsx(pAe,{size:14,className:"text-green-400"})," Memo"]}),N.jsx("div",{className:"w-px h-4 bg-slate-600"}),N.jsxs("button",{onClick:ye,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[N.jsx(Yoe,{size:14,className:"text-blue-400"})," AI"]})]}),G.show&&N.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:N.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[N.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),N.jsx("textarea",{autoFocus:!0,value:G.text,onChange:pe=>Y(Be=>({...Be,text:pe.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),N.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[N.jsx("button",{onClick:()=>Y({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),N.jsx("button",{onClick:ve,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},hv=({text:n,query:e})=>{if(!e||!e.trim())return N.jsx(N.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp(`(${t})`,"gi"),i=n.split(r);return N.jsx("span",{children:i.map((s,a)=>r.test(s)?N.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},a6=({isOpen:n,onClose:e,side:t,title:r,children:i})=>N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`fixed inset-0 bg-black/20 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),N.jsx("aside",{className:`fixed md:relative z-50 h-full bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-xl md:shadow-none transition-transform duration-300 ease-in-out overflow-hidden flex flex-col ${t==="left"?"left-0 border-r":"right-0 border-l"} ${n?"translate-x-0":t==="left"?"-translate-x-full md:translate-x-0":"translate-x-full md:translate-x-0"} w-80 md:w-full`,children:N.jsxs("div",{className:"w-80 md:w-96 flex flex-col h-full",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-800 md:hidden",children:[r&&N.jsx("h2",{className:"font-semibold text-slate-800 dark:text-slate-200",children:r}),N.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-500",children:N.jsx(G8,{size:18})})]}),N.jsx("div",{className:"flex-1 overflow-y-auto",children:i})]})})]}),Vhe=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:r,goToChapter:i,hasStrokes:s,bookmarks:a}=Dd(),[A,l]=I.useState("contents");return N.jsx(a6,{isOpen:n,onClose:e,side:"left",title:"Contents",children:N.jsxs("div",{className:"flex flex-col h-full w-full",children:[N.jsxs("div",{className:"flex p-2 gap-1 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800",children:[N.jsxs("button",{onClick:()=>l("contents"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-medium transition-all ${A==="contents"?"bg-white dark:bg-slate-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[N.jsx(Goe,{size:14})," Chapters"]}),N.jsxs("button",{onClick:()=>l("bookmarks"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-medium transition-all ${A==="bookmarks"?"bg-white dark:bg-slate-800 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[N.jsx(Ob,{size:14})," Favorites"]})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto py-2",children:[A==="contents"&&t.map((c,f)=>N.jsx("button",{onClick:()=>{i(f),window.innerWidth<768&&e()},className:`w-full text-left px-5 py-3 text-sm transition-all border-l-2 ${f===r?"bg-blue-50 dark:bg-slate-800/50 border-blue-500 text-blue-700 dark:text-blue-400 font-medium":"border-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:`text-xs ${f===r?"text-blue-400":"text-slate-300"}`,children:String(f+1).padStart(2,"0")}),N.jsx("span",{className:"line-clamp-1",children:c.title})]}),s(c.id)&&N.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:N.jsx(H8,{size:10})})]})},c.id)),A==="bookmarks"&&a.map(c=>{const f=t.find(h=>h.id===c);return f?N.jsx("button",{onClick:()=>{i(t.findIndex(h=>h.id===c)),window.innerWidth<768&&e()},className:"w-full text-left px-5 py-3 text-sm transition-all border-l-2 border-transparent hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(Ob,{size:14,className:"text-amber-500 fill-amber-500"}),N.jsx("span",{className:"line-clamp-1",children:f.title})]})},c):null}),A==="bookmarks"&&a.length===0&&N.jsxs("div",{className:"text-center py-10 opacity-50",children:[N.jsx(Ob,{size:24,className:"mx-auto mb-2 text-slate-400"}),N.jsx("p",{className:"text-sm",children:"No bookmarks"})]})]})]})})},zhe=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:r,updateHighlight:i,currentChapter:s,incrementAiCount:a,generalNotes:A,addGeneralNote:l,updateGeneralNote:c,removeGeneralNote:f,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:b,chapters:B,aiChatHistory:S,addChatMessage:x,activeToolTab:_,setActiveToolTab:T,setCaptureMode:M,capturedImage:F,setCapturedImage:R,referenceDocument:L,uploadBook:K,searchQuery:O,setSearchQuery:$,performSearch:G}=Dd(),[Y,J]=I.useState(""),[ne,fe]=I.useState(!1),[H,z]=I.useState(null),[oe,le]=I.useState(null),[Ce,V]=I.useState(""),[W,ae]=I.useState(""),ue=I.useRef(null),we=I.useRef(null);I.useEffect(()=>{H&&ue.current&&ue.current.innerHTML!==(H.content||"")&&(ue.current.innerHTML=H.content||"")},[H==null?void 0:H.id]);const ve=()=>ue.current?ue.current.innerHTML:"",ye=ge=>{if(_==="notebook"&&H){const Re=ve();z(pe=>pe?{...pe,content:Re}:null)}T(ge),ae("")},rt=ge=>{le(ge.id),V(ge.note||"")},re=ge=>{i(ge,Ce),le(null),V("")},be=t.filter(ge=>ge.text.toLowerCase().includes(W.toLowerCase())||ge.note&&ge.note.toLowerCase().includes(W.toLowerCase())),ke=A.filter(ge=>ge.title.toLowerCase().includes(W.toLowerCase())||ge.content.toLowerCase().includes(W.toLowerCase()));I.useEffect(()=>{if(F&&H){const ge=`<div class="capture-img-container"><img src="${F}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,Re=(H.content||"")+ge;z(pe=>pe?{...pe,content:Re}:null),ue.current&&(ue.current.innerHTML=Re),R(null)}},[F,R]);const he=async ge=>{if(ge.preventDefault(),!Y.trim())return;const Re=Y;x("user",Re),J(""),fe(!0),a();const pe=await xz(Re,s.content.substring(0,1e3));x("model",pe),fe(!1)},He=()=>{if(H){const ge=ve();H.title&&(H.id?c(H.id,H.title,ge):l(H.title,ge),z(null))}},Ie=(ge,Re=void 0)=>{document.execCommand(ge,!1,Re),ue.current&&ue.current.focus()},Ke=(ge,Re,pe)=>{ge.preventDefault(),Ie(Re,pe)},tt=ge=>{ge.preventDefault();const Re=ve();z(pe=>pe?{...pe,content:Re}:null),setTimeout(()=>M(!0),50)},Cn=ge=>{ge.preventDefault();const Re=window.getSelection();if(Re&&Re.rangeCount>0){const Xe=Re.getRangeAt(0);ue.current&&ue.current.contains(Xe.commonAncestorContainer)?we.current=Xe.cloneRange():we.current=null}const pe=parseInt(prompt("Rows:","2")||"0"),Be=parseInt(prompt("Columns:","2")||"0");if(ue.current&&(ue.current.focus(),we.current&&(Re==null||Re.removeAllRanges(),Re==null||Re.addRange(we.current)),pe>0&&Be>0)){let Xe='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let Ye=0;Ye<pe;Ye++){Xe+="<tr>";for(let We=0;We<Be;We++)Xe+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';Xe+="</tr>"}Xe+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,Xe)}},dr=ge=>{ge.target.files&&ge.target.files[0]&&K(ge.target.files[0])},_i=()=>{const ge=ve();z(Re=>Re?{...Re,content:ge}:null)},Ea=()=>{if(!H)return;const ge=ve(),Re=window.open("","","height=600,width=800");Re&&(Re.document.write(`<html><head><title>${H.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${H.title}</h1>${ge}</body></html>`),Re.document.close(),Re.print())};return _==="search"&&G(O),N.jsx(a6,{isOpen:n,onClose:e,side:"right",children:N.jsxs("div",{className:"flex flex-col h-full w-full",children:[N.jsxs("div",{className:"flex p-2 gap-1 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 overflow-x-auto no-scrollbar",children:[N.jsx("button",{onClick:()=>ye("ai"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${_==="ai"?"bg-white dark:bg-slate-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"AI",children:N.jsx(w_,{size:14})}),N.jsx("button",{onClick:()=>ye("notes"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${_==="notes"?"bg-white dark:bg-slate-800 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Highlights",children:N.jsx(Hb,{size:14})}),N.jsx("button",{onClick:()=>ye("notebook"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${_==="notebook"?"bg-white dark:bg-slate-800 text-green-600 dark:text-green-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Notebook",children:N.jsx(sM,{size:14})}),N.jsx("button",{onClick:()=>ye("reference"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${_==="reference"?"bg-white dark:bg-slate-800 text-purple-600 dark:text-purple-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Reference PDF",children:N.jsx(uH,{size:14})}),N.jsx("button",{onClick:()=>ye("search"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${_==="search"?"bg-white dark:bg-slate-800 text-red-600 dark:text-red-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Search",children:N.jsx(Kb,{size:14})})]}),N.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[_==="ai"&&N.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[N.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[S.length===0&&N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 opacity-60",children:[N.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-3",children:N.jsx(w_,{className:"text-blue-500",size:24})}),N.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:"AI Study Companion"})]}),S.map((ge,Re)=>N.jsx("div",{className:`flex flex-col ${ge.role==="user"?"items-end":"items-start"}`,children:N.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-3 text-sm shadow-sm whitespace-pre-wrap ${ge.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-700 rounded-bl-none"}`,children:ge.text})},Re)),ne&&N.jsx("div",{className:"flex flex-col items-start",children:N.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:N.jsxs("div",{className:"flex space-x-1",children:[N.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),N.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),N.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})})]}),N.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800",children:N.jsxs("form",{onSubmit:he,className:"relative",children:[N.jsx("input",{type:"text",value:Y,onChange:ge=>J(ge.target.value),placeholder:"Ask AI...",className:"w-full pl-4 pr-10 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-sm focus:outline-none focus:border-blue-500 dark:focus:border-blue-500 dark:text-white transition-colors"}),N.jsx("button",{type:"submit",disabled:!Y.trim()||ne,className:"absolute right-2 top-2 p-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:N.jsx(w_,{size:16})})]})})]}),_==="notes"&&N.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[N.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:N.jsxs("div",{className:"relative",children:[N.jsx("input",{type:"text",placeholder:"Filter highlights...",value:W,onChange:ge=>ae(ge.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),N.jsx(cH,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),N.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[be.length===0&&N.jsxs("div",{className:"text-center py-10 opacity-50",children:[N.jsx(Hb,{size:24,className:"mx-auto mb-2"}),N.jsx("p",{className:"text-sm",children:"No highlights"})]}),be.map(ge=>N.jsxs("div",{onClick:()=>{b(B.findIndex(Re=>Re.id===ge.chapterId)),v(ge.id)},className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[N.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[N.jsx("span",{children:ge.chapterId==="reference-doc"?"Reference PDF":`Chapter ${B.findIndex(Re=>Re.id===ge.chapterId)+1}`}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:Re=>{Re.stopPropagation(),rt(ge)},title:"Edit Note",children:N.jsx(rAe,{size:12})}),N.jsx("button",{onClick:Re=>{Re.stopPropagation(),r(ge.id)},title:"Delete",children:N.jsx(dH,{size:12})})]})]}),N.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',N.jsx(hv,{text:ge.text,query:W}),'"']}),oe===ge.id?N.jsxs("div",{onClick:Re=>Re.stopPropagation(),className:"mt-2 animate-fade-in",children:[N.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:Ce,onChange:Re=>V(Re.target.value),autoFocus:!0,rows:3}),N.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[N.jsx("button",{onClick:()=>le(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),N.jsx("button",{onClick:()=>re(ge.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):ge.note?N.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:N.jsx(hv,{text:ge.note,query:W})}):N.jsxs("button",{onClick:Re=>{Re.stopPropagation(),rt(ge)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[N.jsx(oM,{size:10})," Add Note"]})]},ge.id))]})]}),_==="notebook"&&N.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:H?N.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[N.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[N.jsx("button",{onClick:()=>z(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),N.jsxs("button",{onClick:He,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[N.jsx(K8,{size:14})," Save"]})]}),N.jsx("div",{className:"px-4 pt-4 pb-2",children:N.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:H.title||"",onChange:ge=>{const Re=ve();z(pe=>pe?{...pe,title:ge.target.value,content:Re}:null)}})}),N.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[N.jsx("button",{onMouseDown:ge=>Ke(ge,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:N.jsx(goe,{size:14})}),N.jsx("button",{onMouseDown:ge=>Ke(ge,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:N.jsx("span",{className:"italic",children:"I"})}),N.jsx("button",{onMouseDown:ge=>Ke(ge,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:N.jsx(Hb,{size:14})}),N.jsx("button",{onMouseDown:Cn,className:"p-1.5 rounded hover:bg-slate-200",children:N.jsx(mAe,{size:14})}),N.jsx("button",{onMouseDown:tt,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:N.jsx(boe,{size:14})}),N.jsx("button",{onClick:Ea,className:"p-1.5 rounded hover:bg-slate-200",children:N.jsx(lAe,{size:14})})]}),N.jsx("div",{ref:ue,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:_i},H.id)]}):N.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[N.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",A.length,")"]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[N.jsx(BAe,{size:14}),N.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:dr})]}),N.jsxs("button",{onClick:()=>z({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[N.jsx(oM,{size:14})," New"]})]})]}),N.jsxs("div",{className:"relative",children:[N.jsx("input",{type:"text",placeholder:"Search notes...",value:W,onChange:ge=>ae(ge.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),N.jsx(cH,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[ke.length===0&&N.jsxs("div",{className:"text-center py-10 opacity-50",children:[N.jsx(sM,{size:32,className:"mx-auto text-slate-300 mb-2"}),N.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),ke.map(ge=>N.jsxs("div",{onClick:()=>z(ge),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[N.jsxs("div",{className:"flex justify-between mb-1",children:[N.jsx("h4",{className:"font-semibold text-sm",children:N.jsx(hv,{text:ge.title,query:W})}),N.jsx("button",{onClick:Re=>{Re.stopPropagation(),f(ge.id)},children:N.jsx(dH,{size:12,"text-slate-300":!0})})]}),N.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:N.jsx(hv,{text:ge.content.replace(/<[^>]+>/g," "),query:W})})]},ge.id))]})]})}),_==="reference"&&N.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:L?N.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:N.jsx(Ghe,{customChapter:L,variant:"side"})}):N.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[N.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:N.jsx(uH,{size:32,className:"text-slate-400"})}),N.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),N.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",N.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",N.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),N.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[N.jsx(aM,{size:16}),N.jsx("span",{children:"Upload PDF"}),N.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:dr})]})]})}),_==="search"&&N.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[N.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:N.jsxs("div",{className:"relative",children:[N.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:O,onChange:ge=>$(ge.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),N.jsx(Kb,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:O.length>1?_==="search"&&G(O).length>0?G(O).map(ge=>N.jsxs("div",{onClick:()=>{if(ge.type==="note"){const Re=A.find(pe=>`note-${pe.id}`===ge.id);Re&&(z(Re),T("notebook"))}else{const Re=B.findIndex(pe=>pe.id===ge.chapterId);Re!==-1&&(b(Re),ge.type==="highlight"&&v(ge.id.replace("hl-","")))}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[N.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${ge.type==="chapter"?"bg-blue-100 text-blue-600":ge.type==="highlight"?"bg-yellow-100 text-yellow-600":"bg-green-100 text-green-600"}`,children:ge.type}),N.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:ge.title})]}),N.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:N.jsx(hv,{text:ge.contentSnippet,query:O})})]},ge.id)):N.jsx("div",{className:"text-center py-10 opacity-50",children:N.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',O,'"']})}):N.jsxs("div",{className:"text-center py-10 opacity-50",children:[N.jsx(Kb,{size:24,className:"mx-auto mb-2 text-slate-300"}),N.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})})},qhe=()=>{const[n,e]=I.useState(!0),{isToolsOpen:t,setToolsOpen:r}=Dd(),[i,s]=I.useState(300),[a,A]=I.useState(350),[l,c]=I.useState(!1),[f,h]=I.useState(!1),g=I.useRef(null);I.useEffect(()=>{const B=()=>{window.innerWidth<1024?(e(!1),r(!1)):(e(!0),r(!0))};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[r]),I.useEffect(()=>{const B=x=>{if(!g.current)return;(l||f)&&x.preventDefault();const _=g.current.getBoundingClientRect();if(l){const T=x.clientX-_.left;T>200&&T<500&&s(T)}if(f){const T=_.right-x.clientX;T>280&&T<600&&A(T)}},S=()=>{c(!1),h(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(l||f)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",B),window.addEventListener("mouseup",S)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",S),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[l,f]);const v=()=>e(!n);return N.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 transition-colors duration-200 font-sans overflow-hidden",children:[N.jsx(V8,{toggleSidebar:v,isSidebarOpen:n}),N.jsxs("div",{ref:g,className:"flex flex-1 pt-16 overflow-auto relative",children:[N.jsxs("div",{className:`relative flex-shrink-0 transition-[width] duration-100 ease-linear ${n?"border-r border-slate-200 dark:border-slate-800":"w-0 border-none"}`,style:{width:n?window.innerWidth<768?"0px":`${i}px`:"0px"},children:[N.jsx("div",{className:"h-full w-full overflow-hidden",children:N.jsx(Vhe,{isOpen:n,onClose:()=>e(!1)})}),n&&window.innerWidth>=768&&N.jsx("div",{className:"absolute top-0 right-[-4px] w-2 h-full cursor-col-resize z-50 flex items-center justify-center group hover:bg-blue-500/10 transition-colors",onMouseDown:()=>c(!0),children:N.jsx("div",{className:"w-[1px] h-8 bg-slate-300 dark:bg-slate-700 group-hover:bg-blue-400"})})]}),N.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-white dark:bg-slate-950 relative z-0",children:[N.jsx("div",{className:"max-w-3xl mx-auto min_h_[calc(100vh-12rem)]",children:N.jsx(gle,{file:"/campusbook-viewer-ai/pdf/test2.pdf"})}),N.jsx("div",{className:"sticky bottom-0 z-30 w-full",children:N.jsx(mle,{})})]}),N.jsxs("div",{className:`relative flex-shrink-0 transition-[width] duration-100 ease-linear ${t?"border-l border-slate-200 dark:border-slate-800":"w-0 border-none"}`,style:{width:t?window.innerWidth<768?"0px":`${a}px`:"0px"},children:[t&&window.innerWidth>=768&&N.jsx("div",{className:"absolute top-0 left-[-4px] w-2 h-full cursor-col-resize z-50 flex items-center justify-center group hover:bg-blue-500/10 transition-colors",onMouseDown:()=>h(!0),children:N.jsx("div",{className:"w-[1px] h-8 bg-slate-300 dark:bg-slate-700 group-hover:bg-blue-400"})}),N.jsx("div",{className:"h-full w-full overflow-hidden",children:N.jsx(zhe,{isOpen:t,onClose:()=>r(!1)})})]})]})]})};var $he=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function dR(n){if(typeof n!="string")return!1;var e=$he;return e.includes(n)}var Yhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Xhe=new Set(Yhe);function o6(n){return typeof n!="string"?!1:Xhe.has(n)}function A6(n){return typeof n=="string"&&n.startsWith("data-")}function dc(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(o6(t)||A6(t))&&(e[t]=n[t]);return e}function hR(n){if(n==null)return null;if(I.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return dc(e)}return typeof n=="object"&&!Array.isArray(n)?dc(n):null}function ya(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(o6(t)||A6(t)||dR(t))&&(e[t]=n[t]);return e}var Whe=["children","width","height","viewBox","className","style","title","desc"];function DM(){return DM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DM.apply(null,arguments)}function jhe(n,e){if(n==null)return{};var t,r,i=Jhe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Jhe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var l6=I.forwardRef((n,e)=>{var{children:t,width:r,height:i,viewBox:s,className:a,style:A,title:l,desc:c}=n,f=jhe(n,Whe),h=s||{width:r,height:i,x:0,y:0},g=kt("recharts-surface",a);return I.createElement("svg",DM({},ya(f),{className:g,width:r,height:i,style:A,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),I.createElement("title",null,l),I.createElement("desc",null,c),t)}),Zhe=["children","className"];function RM(){return RM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},RM.apply(null,arguments)}function epe(n,e){if(n==null)return{};var t,r,i=tpe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function tpe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var dl=I.forwardRef((n,e)=>{var{children:t,className:r}=n,i=epe(n,Zhe),s=kt("recharts-layer",r);return I.createElement("g",RM({className:s},ya(i),{ref:e}),t)}),npe=I.createContext(null);function an(n){return function(){return n}}const u6=Math.cos,xE=Math.sin,no=Math.sqrt,TE=Math.PI,ax=2*TE,PM=Math.PI,QM=2*PM,$c=1e-6,rpe=QM-$c;function c6(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function ipe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return c6;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class spe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?c6:ipe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,a){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,A=this._y1,l=r-e,c=i-t,f=a-e,h=A-t,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>$c)if(!(Math.abs(h*l-c*f)>$c)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=r-a,b=i-A,B=l*l+c*c,S=v*v+b*b,x=Math.sqrt(B),_=Math.sqrt(g),T=s*Math.tan((PM-Math.acos((B+g-S)/(2*x*_)))/2),M=T/_,F=T/x;Math.abs(M-1)>$c&&this._append`L${e+M*f},${t+M*h}`,this._append`A${s},${s},0,0,${+(h*v>f*b)},${this._x1=e+F*l},${this._y1=t+F*c}`}}arc(e,t,r,i,s,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let A=r*Math.cos(i),l=r*Math.sin(i),c=e+A,f=t+l,h=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>$c||Math.abs(this._y1-f)>$c)&&this._append`L${c},${f}`,r&&(g<0&&(g=g%QM+QM),g>rpe?this._append`A${r},${r},0,1,${h},${e-A},${t-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=f}`:g>$c&&this._append`A${r},${r},0,${+(g>=PM)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function pR(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new spe(e)}function gR(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function f6(n){this._context=n}f6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function ox(n){return new f6(n)}function d6(n){return n[0]}function h6(n){return n[1]}function p6(n,e){var t=an(!0),r=null,i=ox,s=null,a=pR(A);n=typeof n=="function"?n:n===void 0?d6:an(n),e=typeof e=="function"?e:e===void 0?h6:an(e);function A(l){var c,f=(l=gR(l)).length,h,g=!1,v;for(r==null&&(s=i(v=a())),c=0;c<=f;++c)!(c<f&&t(h=l[c],c,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,c,l),+e(h,c,l));if(v)return s=null,v+""||null}return A.x=function(l){return arguments.length?(n=typeof l=="function"?l:an(+l),A):n},A.y=function(l){return arguments.length?(e=typeof l=="function"?l:an(+l),A):e},A.defined=function(l){return arguments.length?(t=typeof l=="function"?l:an(!!l),A):t},A.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),A):i},A.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),A):r},A}function OB(n,e,t){var r=null,i=an(!0),s=null,a=ox,A=null,l=pR(c);n=typeof n=="function"?n:n===void 0?d6:an(+n),e=typeof e=="function"?e:an(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?h6:an(+t);function c(h){var g,v,b,B=(h=gR(h)).length,S,x=!1,_,T=new Array(B),M=new Array(B);for(s==null&&(A=a(_=l())),g=0;g<=B;++g){if(!(g<B&&i(S=h[g],g,h))===x)if(x=!x)v=g,A.areaStart(),A.lineStart();else{for(A.lineEnd(),A.lineStart(),b=g-1;b>=v;--b)A.point(T[b],M[b]);A.lineEnd(),A.areaEnd()}x&&(T[g]=+n(S,g,h),M[g]=+e(S,g,h),A.point(r?+r(S,g,h):T[g],t?+t(S,g,h):M[g]))}if(_)return A=null,_+""||null}function f(){return p6().defined(i).curve(a).context(s)}return c.x=function(h){return arguments.length?(n=typeof h=="function"?h:an(+h),r=null,c):n},c.x0=function(h){return arguments.length?(n=typeof h=="function"?h:an(+h),c):n},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:an(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:an(+h),t=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:an(+h),c):e},c.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:an(+h),c):t},c.lineX0=c.lineY0=function(){return f().x(n).y(e)},c.lineY1=function(){return f().x(n).y(t)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:an(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,s!=null&&(A=a(s)),c):a},c.context=function(h){return arguments.length?(h==null?s=A=null:A=a(s=h),c):s},c}class g6{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function ape(n){return new g6(n,!0)}function ope(n){return new g6(n,!1)}const mR={draw(n,e){const t=no(e/TE);n.moveTo(t,0),n.arc(0,0,t,0,ax)}},Ape={draw(n,e){const t=no(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},m6=no(1/3),lpe=m6*2,upe={draw(n,e){const t=no(e/lpe),r=t*m6;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},cpe={draw(n,e){const t=no(e),r=-t/2;n.rect(r,r,t,t)}},fpe=.8908130915292852,v6=xE(TE/10)/xE(7*TE/10),dpe=xE(ax/10)*v6,hpe=-u6(ax/10)*v6,ppe={draw(n,e){const t=no(e*fpe),r=dpe*t,i=hpe*t;n.moveTo(0,-t),n.lineTo(r,i);for(let s=1;s<5;++s){const a=ax*s/5,A=u6(a),l=xE(a);n.lineTo(l*t,-A*t),n.lineTo(A*r-l*i,l*r+A*i)}n.closePath()}},G_=no(3),gpe={draw(n,e){const t=-no(e/(G_*3));n.moveTo(0,t*2),n.lineTo(-G_*t,-t),n.lineTo(G_*t,-t),n.closePath()}},Ws=-.5,js=no(3)/2,NM=1/no(12),mpe=(NM/2+1)*3,vpe={draw(n,e){const t=no(e/mpe),r=t/2,i=t*NM,s=r,a=t*NM+t,A=-s,l=a;n.moveTo(r,i),n.lineTo(s,a),n.lineTo(A,l),n.lineTo(Ws*r-js*i,js*r+Ws*i),n.lineTo(Ws*s-js*a,js*s+Ws*a),n.lineTo(Ws*A-js*l,js*A+Ws*l),n.lineTo(Ws*r+js*i,Ws*i-js*r),n.lineTo(Ws*s+js*a,Ws*a-js*s),n.lineTo(Ws*A+js*l,Ws*l-js*A),n.closePath()}};function ype(n,e){let t=null,r=pR(i);n=typeof n=="function"?n:an(n||mR),e=typeof e=="function"?e:an(e===void 0?64:+e);function i(){let s;if(t||(t=s=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(n=typeof s=="function"?s:an(s),i):n},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:an(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function _E(){}function IE(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function y6(n){this._context=n}y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:IE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:IE(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function wpe(n){return new y6(n)}function w6(n){this._context=n}w6.prototype={areaStart:_E,areaEnd:_E,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:IE(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Cpe(n){return new w6(n)}function C6(n){this._context=n}C6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:IE(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Bpe(n){return new C6(n)}function B6(n){this._context=n}B6.prototype={areaStart:_E,areaEnd:_E,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function bpe(n){return new B6(n)}function B4(n){return n<0?-1:1}function b4(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),a=(t-n._y1)/(i||r<0&&-0),A=(s*i+a*r)/(r+i);return(B4(s)+B4(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(A))||0}function E4(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function V_(n,e,t){var r=n._x0,i=n._y0,s=n._x1,a=n._y1,A=(s-r)/3;n._context.bezierCurveTo(r+A,i+A*e,s-A,a-A*t,s,a)}function UE(n){this._context=n}UE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V_(this,this._t0,E4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,V_(this,E4(this,t=b4(this,n,e)),t);break;default:V_(this,this._t0,t=b4(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function b6(n){this._context=new E6(n)}(b6.prototype=Object.create(UE.prototype)).point=function(n,e){UE.prototype.point.call(this,e,n)};function E6(n){this._context=n}E6.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function Epe(n){return new UE(n)}function Spe(n){return new b6(n)}function S6(n){this._context=n}S6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=S4(n),i=S4(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function S4(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),a=new Array(t);for(i[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function xpe(n){return new S6(n)}function Ax(n,e){this._context=n,this._t=e}Ax.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function Tpe(n){return new Ax(n,.5)}function _pe(n){return new Ax(n,0)}function Ipe(n){return new Ax(n,1)}function Lg(n,e){if((a=n.length)>1)for(var t=1,r,i,s=n[e[0]],a,A=s.length;t<a;++t)for(i=s,s=n[e[t]],r=0;r<A;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function LM(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Upe(n,e){return n[e]}function Fpe(n){const e=[];return e.key=n,e}function Mpe(){var n=an([]),e=LM,t=Lg,r=Upe;function i(s){var a=Array.from(n.apply(this,arguments),Fpe),A,l=a.length,c=-1,f;for(const h of s)for(A=0,++c;A<l;++A)(a[A][c]=[0,+r(h,a[A].key,c,s)]).data=h;for(A=0,f=gR(e(a));A<l;++A)a[f[A]].index=A;return t(a,f),a}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:an(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:an(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?LM:typeof s=="function"?s:an(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??Lg,i):t},i}function Dpe(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,a;i<s;++i){for(a=t=0;t<r;++t)a+=n[t][i][1]||0;if(a)for(t=0;t<r;++t)n[t][i][1]/=a}Lg(n,e)}}function Rpe(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var a=0,A=0;a<i;++a)A+=n[a][t][1]||0;r[t][1]+=r[t][0]=-A/2}Lg(n,e)}}function Ppe(n,e){if(!(!((a=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,a;r<s;++r){for(var A=0,l=0,c=0;A<a;++A){for(var f=n[e[A]],h=f[r][1]||0,g=f[r-1][1]||0,v=(h-g)/2,b=0;b<A;++b){var B=n[e[b]],S=B[r][1]||0,x=B[r-1][1]||0;v+=S-x}l+=h,c+=v*h}i[r-1][1]+=i[r-1][0]=t,l&&(t-=c/l)}i[r-1][1]+=i[r-1][0]=t,Lg(n,e)}}var z_={},q_={},x4;function Qpe(){return x4||(x4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(q_)),q_}var $_={},T4;function x6(){return T4||(T4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})($_)),$_}var Y_={},_4;function vR(){return _4||(_4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;return typeof t=="string"||typeof t=="symbol"?t:Object.is((r=t==null?void 0:t.valueOf)==null?void 0:r.call(t),-0)?"-0":String(t)}n.toKey=e})(Y_)),Y_}var X_={},W_={},I4;function Npe(){return I4||(I4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return r==="0"&&Object.is(Number(t),-0)?"-0":r}n.toString=e})(W_)),W_}var U4;function yR(){return U4||(U4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Npe(),t=vR();function r(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let A=0,l="",c="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),A++);A<a;){const h=i[A];c?h==="\\"&&A+1<a?(A++,l+=i[A]):h===c?c="":l+=h:f?h==='"'||h==="'"?c=h:h==="]"?(f=!1,s.push(l),l=""):l+=h:h==="["?(f=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,A++}return l&&s.push(l),s}n.toPath=r})(X_)),X_}var F4;function wR(){return F4||(F4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Qpe(),t=x6(),r=vR(),i=yR();function s(A,l,c){if(A==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const f=A[l];return f===void 0?t.isDeepKey(l)?s(A,i.toPath(l),c):c:f}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const f=A[l];return f===void 0?c:f}default:{if(Array.isArray(l))return a(A,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const f=A[l];return f===void 0?c:f}}}function a(A,l,c){if(l.length===0)return c;let f=A;for(let h=0;h<l.length;h++){if(f==null||e.isUnsafeProperty(l[h]))return c;f=f[l[h]]}return f===void 0?c:f}n.get=s})(z_)),z_}var j_,M4;function Lpe(){return M4||(M4=1,j_=wR().get),j_}var kpe=Lpe();const kg=Ja(kpe);var Us=n=>n===0?0:n>0?1:-1,Ho=n=>typeof n=="number"&&n!=+n,hl=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,qe=n=>(typeof n=="number"||n instanceof Number)&&!Ho(n),Ko=n=>qe(n)||typeof n=="string",Ope=0,yy=n=>{var e=++Ope;return"".concat(n||"").concat(e)},Xa=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(e)&&typeof e!="string")return r;var s;if(hl(e)){if(t==null)return r;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return Ho(s)&&(s=r),i&&t!=null&&s>t&&(s=t),s},T6=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},r=0;r<e;r++)if(!t[n[r]])t[n[r]]=!0;else return!0;return!1};function zr(n,e,t){return qe(n)&&qe(e)?n+t*(e-n):e}function Hpe(n,e,t){if(!(!n||!n.length))return n.find(r=>r&&(typeof e=="function"?e(r):kg(r,e))===t)}var _r=n=>n===null||typeof n>"u",xw=n=>_r(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function Kpe(n){return n!=null}function Tw(){}var Gpe=["type","size","sizeType"];function kM(){return kM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kM.apply(null,arguments)}function D4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function R4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(t),!0).forEach(function(r){Vpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D4(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Vpe(n,e,t){return(e=zpe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zpe(n){var e=qpe(n,"string");return typeof e=="symbol"?e:e+""}function qpe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $pe(n,e){if(n==null)return{};var t,r,i=Ype(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Ype(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var _6={symbolCircle:mR,symbolCross:Ape,symbolDiamond:upe,symbolSquare:cpe,symbolStar:ppe,symbolTriangle:gpe,symbolWye:vpe},Xpe=Math.PI/180,Wpe=n=>{var e="symbol".concat(xw(n));return _6[e]||mR},jpe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var r=18*Xpe;return 1.25*n*n*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},Jpe=(n,e)=>{_6["symbol".concat(xw(n))]=e},I6=n=>{var{type:e="circle",size:t=64,sizeType:r="area"}=n,i=$pe(n,Gpe),s=R4(R4({},i),{},{type:e,size:t,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var A=()=>{var g=Wpe(a),v=ype().type(g).size(jpe(t,r,a)),b=v();if(b!==null)return b},{className:l,cx:c,cy:f}=s,h=ya(s);return qe(c)&&qe(f)&&qe(t)?I.createElement("path",kM({},h,{className:kt("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(f,")"),d:A()})):null};I6.registerSymbol=Jpe;var U6=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,Zpe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(I.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var r={};return Object.keys(t).forEach(i=>{dR(i)&&(r[i]=(s=>t[i](t,s)))}),r},ege=(n,e,t)=>r=>(n(e,t,r),null),CR=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var r=null;return Object.keys(n).forEach(i=>{var s=n[i];dR(i)&&typeof s=="function"&&(r||(r={}),r[i]=ege(s,e,t))}),r};function P4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(t),!0).forEach(function(r){nge(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P4(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nge(n,e,t){return(e=rge(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rge(n){var e=ige(n,"string");return typeof e=="symbol"?e:e+""}function ige(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ba(n,e){var t=tge({},n),r=e,i=Object.keys(e),s=i.reduce((a,A)=>(a[A]===void 0&&r[A]!==void 0&&(a[A]=r[A]),a),t);return s}var J_={},Z_={},Q4;function sge(){return Q4||(Q4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){const i=new Map;for(let s=0;s<t.length;s++){const a=t[s],A=r(a);i.has(A)||i.set(A,a)}return Array.from(i.values())}n.uniqBy=e})(Z_)),Z_}var eI={},N4;function F6(){return N4||(N4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(eI)),eI}var tI={},nI={},rI={},L4;function age(){return L4||(L4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(rI)),rI}var k4;function BR(){return k4||(k4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=age();function t(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}n.isArrayLike=t})(nI)),nI}var iI={},O4;function oge(){return O4||(O4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(iI)),iI}var H4;function Age(){return H4||(H4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=BR(),t=oge();function r(i){return t.isObjectLike(i)&&e.isArrayLike(i)}n.isArrayLikeObject=r})(tI)),tI}var sI={},aI={},K4;function lge(){return K4||(K4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=wR();function t(r){return function(i){return e.get(i,r)}}n.property=t})(aI)),aI}var oI={},AI={},lI={},uI={},G4;function M6(){return G4||(G4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(uI)),uI}var cI={},V4;function D6(){return V4||(V4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(cI)),cI}var fI={},z4;function R6(){return z4||(z4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){return t===r||Number.isNaN(t)&&Number.isNaN(r)}n.eq=e})(fI)),fI}var q4;function uge(){return q4||(q4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=M6(),t=D6(),r=R6();function i(f,h,g){return typeof g!="function"?i(f,h,()=>{}):s(f,h,function v(b,B,S,x,_,T){const M=g(b,B,S,x,_,T);return M!==void 0?!!M:s(b,B,v,T)},new Map)}function s(f,h,g,v){if(h===f)return!0;switch(typeof h){case"object":return a(f,h,g,v);case"function":return Object.keys(h).length>0?s(f,{...h},g,v):r.eq(f,h);default:return e.isObject(f)?typeof h=="string"?h==="":!0:r.eq(f,h)}}function a(f,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(f,h,g,v);if(h instanceof Map)return A(f,h,g,v);if(h instanceof Set)return c(f,h,g,v);const b=Object.keys(h);if(f==null)return b.length===0;if(b.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===f;v==null||v.set(h,f);try{for(let B=0;B<b.length;B++){const S=b[B];if(!t.isPrimitive(f)&&!(S in f)||h[S]===void 0&&f[S]!==void 0||h[S]===null&&f[S]!==null||!g(f[S],h[S],S,f,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function A(f,h,g,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,B]of h.entries()){const S=f.get(b);if(g(S,B,b,f,h,v)===!1)return!1}return!0}function l(f,h,g,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let B=0;B<h.length;B++){const S=h[B];let x=!1;for(let _=0;_<f.length;_++){if(b.has(_))continue;const T=f[_];let M=!1;if(g(T,S,B,f,h,v)&&(M=!0),M){b.add(_),x=!0;break}}if(!x)return!1}return!0}function c(f,h,g,v){return h.size===0?!0:f instanceof Set?l([...f],[...h],g,v):!1}n.isMatchWith=i,n.isSetMatch=c})(lI)),lI}var $4;function P6(){return $4||($4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=uge();function t(r,i){return e.isMatchWith(r,i,()=>{})}n.isMatch=t})(AI)),AI}var dI={},hI={},pI={},Y4;function cge(){return Y4||(Y4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}n.getSymbols=e})(pI)),pI}var gI={},X4;function Q6(){return X4||(X4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(gI)),gI}var mI={},W4;function N6(){return W4||(W4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",A="[object Date]",l="[object Map]",c="[object Set]",f="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",B="[object DataView]",S="[object Uint8Array]",x="[object Uint8ClampedArray]",_="[object Uint16Array]",T="[object Uint32Array]",M="[object BigUint64Array]",F="[object Int8Array]",R="[object Int16Array]",L="[object Int32Array]",K="[object BigInt64Array]",O="[object Float32Array]",$="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=f,n.bigInt64ArrayTag=K,n.bigUint64ArrayTag=M,n.booleanTag=i,n.dataViewTag=B,n.dateTag=A,n.errorTag=b,n.float32ArrayTag=O,n.float64ArrayTag=$,n.functionTag=h,n.int16ArrayTag=R,n.int32ArrayTag=L,n.int8ArrayTag=F,n.mapTag=l,n.numberTag=r,n.objectTag=v,n.regexpTag=e,n.setTag=c,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=_,n.uint32ArrayTag=T,n.uint8ArrayTag=S,n.uint8ClampedArrayTag=x})(mI)),mI}var vI={},j4;function fge(){return j4||(j4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(vI)),vI}var J4;function L6(){return J4||(J4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=cge(),t=Q6(),r=N6(),i=D6(),s=fge();function a(f,h){return A(f,void 0,f,new Map,h)}function A(f,h,g,v=new Map,b=void 0){const B=b==null?void 0:b(f,h,g,v);if(B!==void 0)return B;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const S=new Array(f.length);v.set(f,S);for(let x=0;x<f.length;x++)S[x]=A(f[x],x,g,v,b);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;v.set(f,S);for(const[x,_]of f)S.set(x,A(_,x,g,v,b));return S}if(f instanceof Set){const S=new Set;v.set(f,S);for(const x of f)S.add(A(x,void 0,g,v,b));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,S);for(let x=0;x<f.length;x++)S[x]=A(f[x],x,g,v,b);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,S),l(S,f,g,v,b),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return v.set(f,S),l(S,f,g,v,b),S}if(typeof Blob<"u"&&f instanceof Blob){const S=new Blob([f],{type:f.type});return v.set(f,S),l(S,f,g,v,b),S}if(f instanceof Error){const S=new f.constructor;return v.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,l(S,f,g,v,b),S}if(f instanceof Boolean){const S=new Boolean(f.valueOf());return v.set(f,S),l(S,f,g,v,b),S}if(f instanceof Number){const S=new Number(f.valueOf());return v.set(f,S),l(S,f,g,v,b),S}if(f instanceof String){const S=new String(f.valueOf());return v.set(f,S),l(S,f,g,v,b),S}if(typeof f=="object"&&c(f)){const S=Object.create(Object.getPrototypeOf(f));return v.set(f,S),l(S,f,g,v,b),S}return f}function l(f,h,g=f,v,b){const B=[...Object.keys(h),...e.getSymbols(h)];for(let S=0;S<B.length;S++){const x=B[S],_=Object.getOwnPropertyDescriptor(f,x);(_==null||_.writable)&&(f[x]=A(h[x],x,g,v,b))}}function c(f){switch(t.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=A,n.copyProperties=l})(hI)),hI}var Z4;function dge(){return Z4||(Z4=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=L6();function t(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}n.cloneDeep=t})(dI)),dI}var e3;function hge(){return e3||(e3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=P6(),t=dge();function r(i){return i=t.cloneDeep(i),s=>e.isMatch(s,i)}n.matches=r})(oI)),oI}var yI={},wI={},CI={},t3;function pge(){return t3||(t3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=L6(),t=N6();function r(i,s){return e.cloneDeepWith(i,(a,A,l,c)=>{const f=s==null?void 0:s(a,A,l,c);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case t.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}n.cloneDeepWith=r})(CI)),CI}var n3;function gge(){return n3||(n3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=pge();function t(r){return e.cloneDeepWith(r)}n.cloneDeep=t})(wI)),wI}var BI={},bI={},r3;function k6(){return r3||(r3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}n.isIndex=t})(bI)),bI}var EI={},i3;function mge(){return i3||(i3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Q6();function t(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}n.isArguments=t})(EI)),EI}var s3;function vge(){return s3||(s3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x6(),t=k6(),r=mge(),i=yR();function s(a,A){let l;if(Array.isArray(A)?l=A:typeof A=="string"&&e.isDeepKey(A)&&(a==null?void 0:a[A])==null?l=i.toPath(A):l=[A],l.length===0)return!1;let c=a;for(let f=0;f<l.length;f++){const h=l[f];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||r.isArguments(c))&&t.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}n.has=s})(BI)),BI}var a3;function yge(){return a3||(a3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=P6(),t=vR(),r=gge(),i=wR(),s=vge();function a(A,l){switch(typeof A){case"object":{Object.is(A==null?void 0:A.valueOf(),-0)&&(A="-0");break}case"number":{A=t.toKey(A);break}}return l=r.cloneDeep(l),function(c){const f=i.get(c,A);return f===void 0?s.has(c,A):l===void 0?f===void 0:e.isMatch(f,l)}}n.matchesProperty=a})(yI)),yI}var o3;function wge(){return o3||(o3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=F6(),t=lge(),r=hge(),i=yge();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(sI)),sI}var A3;function Cge(){return A3||(A3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=sge(),t=F6(),r=Age(),i=wge();function s(a,A=t.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(A)):[]}n.uniqBy=s})(J_)),J_}var SI,l3;function Bge(){return l3||(l3=1,SI=Cge().uniqBy),SI}var bge=Bge();const u3=Ja(bge);function Ege(n,e,t){return e===!0?u3(n,t):typeof e=="function"?u3(n,e):n}var xI={exports:{}},TI={},_I={exports:{}},II={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3;function Sge(){if(c3)return II;c3=1;var n=Xg();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function A(h,g){var v=g(),b=r({inst:{value:v,getSnapshot:g}}),B=b[0].inst,S=b[1];return s(function(){B.value=v,B.getSnapshot=g,l(B)&&S({inst:B})},[h,v,g]),i(function(){return l(B)&&S({inst:B}),h(function(){l(B)&&S({inst:B})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function c(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:A;return II.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,II}var f3;function xge(){return f3||(f3=1,_I.exports=Sge()),_I.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3;function Tge(){if(d3)return TI;d3=1;var n=Xg(),e=xge();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,A=n.useMemo,l=n.useDebugValue;return TI.useSyncExternalStoreWithSelector=function(c,f,h,g,v){var b=s(null);if(b.current===null){var B={hasValue:!1,value:null};b.current=B}else B=b.current;b=A(function(){function x(R){if(!_){if(_=!0,T=R,R=g(R),v!==void 0&&B.hasValue){var L=B.value;if(v(L,R))return M=L}return M=R}if(L=M,r(T,R))return L;var K=g(R);return v!==void 0&&v(L,K)?(T=R,L):(T=R,M=K)}var _=!1,T,M,F=h===void 0?null:h;return[function(){return x(f())},F===null?void 0:function(){return x(F())}]},[f,h,g,v]);var S=i(c,b[0],b[1]);return a(function(){B.hasValue=!0,B.value=S},[S]),l(S),S},TI}var h3;function _ge(){return h3||(h3=1,xI.exports=Tge()),xI.exports}var Ige=_ge(),bR=I.createContext(null),Uge=n=>n,Vn=()=>{var n=I.useContext(bR);return n?n.store.dispatch:Uge},$b=()=>{},Fge=()=>$b,Mge=(n,e)=>n===e;function Ve(n){var e=I.useContext(bR);return Ige.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Fge,e?e.store.getState:$b,e?e.store.getState:$b,e?n:$b,Mge)}function Dge(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function Rge(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function Pge(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var p3=n=>Array.isArray(n)?n:[n];function Qge(n){const e=Array.isArray(n[0])?n[0]:n;return Pge(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Nge(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var Lge=class{constructor(n){this.value=n}deref(){return this.value}},kge=typeof WeakRef<"u"?WeakRef:Lge,Oge=0,g3=1;function HB(){return{s:Oge,v:void 0,o:null,p:null}}function O6(n,e={}){let t=HB();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var h;let A=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let B=A.o;B===null&&(A.o=B=new WeakMap);const S=B.get(b);S===void 0?(A=HB(),B.set(b,A)):A=S}else{let B=A.p;B===null&&(A.p=B=new Map);const S=B.get(b);S===void 0?(A=HB(),B.set(b,A)):A=S}}const c=A;let f;if(A.s===g3)f=A.v;else if(f=n.apply(null,arguments),s++,r){const g=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;g!=null&&r(g,f)&&(f=g,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new kge(f):f}return c.s=g3,c.v=f,f}return a.clearCache=()=>{t=HB(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Hge(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let s=0,a=0,A,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),Dge(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const f={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=O6,argsMemoizeOptions:b=[]}=f,B=p3(g),S=p3(b),x=Qge(i),_=h(function(){return s++,c.apply(null,arguments)},...B),T=v(function(){a++;const F=Nge(x,arguments);return A=_.apply(null,F),A},...S);return Object.assign(T,{resultFunc:c,memoizedResultFunc:_,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>A,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var se=Hge(O6),Kge=Object.assign((n,e=se)=>{Rge(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(s=>n[s]);return e(r,(...s)=>s.reduce((a,A,l)=>(a[t[l]]=A,a),{}))},{withTypes:()=>Kge}),UI={},FI={},MI={},m3;function Gge(){return m3||(m3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const t=(r,i,s)=>{if(r!==i){const a=e(r),A=e(i);if(a===A&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?A-a:a-A}return 0};n.compareValues=t})(MI)),MI}var DI={},RI={},v3;function H6(){return v3||(v3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(RI)),RI}var y3;function Vge(){return y3||(y3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=H6(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=i})(DI)),DI}var w3;function zge(){return w3||(w3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Gge(),t=Vge(),r=yR();function i(s,a,A,l){if(s==null)return[];A=l?void 0:A,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(A)||(A=A==null?[]:[A]),A=A.map(v=>String(v));const c=(v,b)=>{let B=v;for(let S=0;S<b.length&&B!=null;++S)B=B[b[S]];return B},f=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:c(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?c(b,v):typeof b=="object"?b[v]:b,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(b=>f(b,v))})).slice().sort((v,b)=>{for(let B=0;B<h.length;B++){const S=e.compareValues(v.criteria[B],b.criteria[B],A[B]);if(S!==0)return S}return 0}).map(v=>v.original)}n.orderBy=i})(FI)),FI}var PI={},C3;function qge(){return C3||(C3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r=1){const i=[],s=Math.floor(r),a=(A,l)=>{for(let c=0;c<A.length;c++){const f=A[c];Array.isArray(f)&&l<s?a(f,l+1):i.push(f)}};return a(t,0),i}n.flatten=e})(PI)),PI}var QI={},B3;function K6(){return B3||(B3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=k6(),t=BR(),r=M6(),i=R6();function s(a,A,l){return r.isObject(l)&&(typeof A=="number"&&t.isArrayLike(l)&&e.isIndex(A)&&A<l.length||typeof A=="string"&&A in l)?i.eq(l[A],a):!1}n.isIterateeCall=s})(QI)),QI}var b3;function $ge(){return b3||(b3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=zge(),t=qge(),r=K6();function i(s,...a){const A=a.length;return A>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:A>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=i})(UI)),UI}var NI,E3;function Yge(){return E3||(E3=1,NI=$ge().sortBy),NI}var Xge=Yge();const lx=Ja(Xge);var G6=n=>n.legend.settings,Wge=n=>n.legend.size,jge=n=>n.legend.payload;se([jge,G6],(n,e)=>{var{itemSorter:t}=e,r=n.flat(1);return t?lx(r,t):r});var KB=1;function Jge(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=I.useState({height:0,left:0,top:0,width:0}),r=I.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>KB||Math.abs(a.left-e.left)>KB||Math.abs(a.top-e.top)>KB||Math.abs(a.width-e.width)>KB)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,r]}function Kr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Zge=typeof Symbol=="function"&&Symbol.observable||"@@observable",S3=Zge,LI=()=>Math.random().toString(36).substring(7).split("").join("."),eme={INIT:`@@redux/INIT${LI()}`,REPLACE:`@@redux/REPLACE${LI()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${LI()}`},FE=eme;function ER(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function V6(n,e,t){if(typeof n!="function")throw new Error(Kr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Kr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Kr(1));return t(V6)(n,e)}let r=n,i=e,s=new Map,a=s,A=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((S,x)=>{a.set(x,S)}))}function f(){if(l)throw new Error(Kr(3));return i}function h(S){if(typeof S!="function")throw new Error(Kr(4));if(l)throw new Error(Kr(5));let x=!0;c();const _=A++;return a.set(_,S),function(){if(x){if(l)throw new Error(Kr(6));x=!1,c(),a.delete(_),s=null}}}function g(S){if(!ER(S))throw new Error(Kr(7));if(typeof S.type>"u")throw new Error(Kr(8));if(typeof S.type!="string")throw new Error(Kr(17));if(l)throw new Error(Kr(9));try{l=!0,i=r(i,S)}finally{l=!1}return(s=a).forEach(_=>{_()}),S}function v(S){if(typeof S!="function")throw new Error(Kr(10));r=S,g({type:FE.REPLACE})}function b(){const S=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Kr(11));function _(){const M=x;M.next&&M.next(f())}return _(),{unsubscribe:S(_)}},[S3](){return this}}}return g({type:FE.INIT}),{dispatch:g,subscribe:h,getState:f,replaceReducer:v,[S3]:b}}function tme(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:FE.INIT})>"u")throw new Error(Kr(12));if(typeof t(void 0,{type:FE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kr(13))})}function z6(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const r=Object.keys(t);let i;try{tme(t)}catch(s){i=s}return function(a={},A){if(i)throw i;let l=!1;const c={};for(let f=0;f<r.length;f++){const h=r[f],g=t[h],v=a[h],b=g(v,A);if(typeof b>"u")throw A&&A.type,new Error(Kr(14));c[h]=b,l=l||b!==v}return l=l||r.length!==Object.keys(a).length,l?c:a}}function ME(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function nme(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(Kr(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},A=n.map(l=>l(a));return s=ME(...A)(i.dispatch),{...i,dispatch:s}}}function q6(n){return ER(n)&&"type"in n&&typeof n.type=="string"}var $6=Symbol.for("immer-nothing"),x3=Symbol.for("immer-draftable"),xi=Symbol.for("immer-state");function Ga(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Fs=Object,Og=Fs.getPrototypeOf,DE="constructor",ux="prototype",OM="configurable",RE="enumerable",Yb="writable",wy="value",pl=n=>!!n&&!!n[xi];function Wa(n){var e;return n?Y6(n)||cx(n)||!!n[x3]||!!((e=n[DE])!=null&&e[x3])||fx(n)||dx(n):!1}var rme=Fs[ux][DE].toString(),T3=new WeakMap;function Y6(n){if(!n||!SR(n))return!1;const e=Og(n);if(e===null||e===Fs[ux])return!0;const t=Fs.hasOwnProperty.call(e,DE)&&e[DE];if(t===Object)return!0;if(!Gh(t))return!1;let r=T3.get(t);return r===void 0&&(r=Function.toString.call(t),T3.set(t,r)),r===rme}function _w(n,e,t=!0){Iw(n)===0?(t?Reflect.ownKeys(n):Fs.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function Iw(n){const e=n[xi];return e?e.type_:cx(n)?1:fx(n)?2:dx(n)?3:0}var _3=(n,e,t=Iw(n))=>t===2?n.has(e):Fs[ux].hasOwnProperty.call(n,e),HM=(n,e,t=Iw(n))=>t===2?n.get(e):n[e],PE=(n,e,t,r=Iw(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function ime(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var cx=Array.isArray,fx=n=>n instanceof Map,dx=n=>n instanceof Set,SR=n=>typeof n=="object",Gh=n=>typeof n=="function",kI=n=>typeof n=="boolean",vA=n=>n.copy_||n.base_,xR=n=>n.modified_?n.copy_:n.base_;function KM(n,e){if(fx(n))return new Map(n);if(dx(n))return new Set(n);if(cx(n))return Array[ux].slice.call(n);const t=Y6(n);if(e===!0||e==="class_only"&&!t){const r=Fs.getOwnPropertyDescriptors(n);delete r[xi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],A=r[a];A[Yb]===!1&&(A[Yb]=!0,A[OM]=!0),(A.get||A.set)&&(r[a]={[OM]:!0,[Yb]:!0,[RE]:A[RE],[wy]:n[a]})}return Fs.create(Og(n),r)}else{const r=Og(n);if(r!==null&&t)return{...n};const i=Fs.create(r);return Fs.assign(i,n)}}function TR(n,e=!1){return hx(n)||pl(n)||!Wa(n)||(Iw(n)>1&&Fs.defineProperties(n,{set:GB,add:GB,clear:GB,delete:GB}),Fs.freeze(n),e&&_w(n,(t,r)=>{TR(r,!0)},!1)),n}function sme(){Ga(2)}var GB={[wy]:sme};function hx(n){return n===null||!SR(n)?!0:Fs.isFrozen(n)}var QE="MapSet",GM="Patches",X6={};function Hg(n){const e=X6[n];return e||Ga(0,n),e}var ame=n=>!!X6[n],Cy,W6=()=>Cy,ome=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ame(QE)?Hg(QE):void 0});function I3(n,e){e&&(n.patchPlugin_=Hg(GM),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function VM(n){zM(n),n.drafts_.forEach(Ame),n.drafts_=null}function zM(n){n===Cy&&(Cy=n.parent_)}var U3=n=>Cy=ome(Cy,n);function Ame(n){const e=n[xi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function F3(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[xi].modified_&&(VM(e),Ga(4)),Wa(n)&&(n=M3(e,n));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[xi].base_,n,e)}else n=M3(e,t);return lme(e,n,!0),VM(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==$6?n:void 0}function M3(n,e){if(hx(e))return e;const t=e[xi];if(!t)return _R(e,n.handledSet_,n);if(!px(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);Z6(t,n)}return t.copy_}function lme(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&TR(e,t)}function j6(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var px=(n,e)=>n.scope_===e,ume=[];function J6(n,e,t,r){const i=vA(n),s=n.type_;if(r!==void 0&&HM(i,r,s)===e){PE(i,r,t,s);return}if(!n.draftLocations_){const A=n.draftLocations_=new Map;_w(i,(l,c)=>{if(pl(c)){const f=A.get(c)||[];f.push(l),A.set(c,f)}})}const a=n.draftLocations_.get(e)??ume;for(const A of a)PE(i,A,t,s)}function cme(n,e,t){n.callbacks_.push(function(i){var A;const s=e;if(!s||!px(s,i))return;(A=i.mapSetPlugin_)==null||A.fixSetContents(s);const a=xR(s);J6(n,s.draft_??s,a,t),Z6(s,i)})}function Z6(n,e){var r;if(n.modified_&&!n.finalized_&&(n.type_===3||(((r=n.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(n);s&&i.generatePatches_(n,s,e)}j6(n)}}function fme(n,e,t){const{scope_:r}=n;if(pl(t)){const i=t[xi];px(i,r)&&i.callbacks_.push(function(){Xb(n);const a=xR(i);J6(n,t,a,e)})}else Wa(t)&&n.callbacks_.push(function(){const s=vA(n);HM(s,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&_R(HM(n.copy_,e,n.type_),r.handledSet_,r)})}function _R(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||pl(n)||e.has(n)||!Wa(n)||hx(n)||(e.add(n),_w(n,(r,i)=>{if(pl(i)){const s=i[xi];if(px(s,t)){const a=xR(s);PE(n,r,a,n.type_),j6(s)}}else Wa(i)&&_R(i,e,t)})),n}function dme(n,e){const t=cx(n),r={type_:t?1:0,scope_:e?e.scope_:W6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=IR;t&&(i=[r],s=By);const{revoke:a,proxy:A}=Proxy.revocable(i,s);return r.draft_=A,r.revoke_=a,[A,r]}var IR={get(n,e){if(e===xi)return n;const t=vA(n);if(!_3(t,e,n.type_))return hme(n,t,e);const r=t[e];if(n.finalized_||!Wa(r))return r;if(r===OI(n.base_,e)){Xb(n);const i=n.type_===1?+e:e,s=$M(n.scope_,r,n,i);return n.copy_[i]=s}return r},has(n,e){return e in vA(n)},ownKeys(n){return Reflect.ownKeys(vA(n))},set(n,e,t){const r=e$(vA(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=OI(vA(n),e),s=i==null?void 0:i[xi];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(ime(t,i)&&(t!==void 0||_3(n.base_,e,n.type_)))return!0;Xb(n),qM(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),fme(n,e,t)),!0},deleteProperty(n,e){return Xb(n),OI(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),qM(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=vA(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[Yb]:!0,[OM]:n.type_!==1||e!=="length",[RE]:r[RE],[wy]:t[e]}},defineProperty(){Ga(11)},getPrototypeOf(n){return Og(n.base_)},setPrototypeOf(){Ga(12)}},By={};_w(IR,(n,e)=>{By[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});By.deleteProperty=function(n,e){return By.set.call(this,n,e,void 0)};By.set=function(n,e,t){return IR.set.call(this,n[0],e,t,n[0])};function OI(n,e){const t=n[xi];return(t?vA(t):n)[e]}function hme(n,e,t){var i;const r=e$(e,t);return r?wy in r?r[wy]:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function e$(n,e){if(!(e in n))return;let t=Og(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Og(t)}}function qM(n){n.modified_||(n.modified_=!0,n.parent_&&qM(n.parent_))}function Xb(n){n.copy_||(n.assigned_=new Map,n.copy_=KM(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var pme=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,i)=>{if(Gh(t)&&!Gh(r)){const a=r;r=t;const A=this;return function(c=a,...f){return A.produce(c,h=>r.call(this,h,...f))}}Gh(r)||Ga(6),i!==void 0&&!Gh(i)&&Ga(7);let s;if(Wa(t)){const a=U3(this),A=$M(a,t,void 0);let l=!0;try{s=r(A),l=!1}finally{l?VM(a):zM(a)}return I3(a,i),F3(s,a)}else if(!t||!SR(t)){if(s=r(t),s===void 0&&(s=t),s===$6&&(s=void 0),this.autoFreeze_&&TR(s,!0),i){const a=[],A=[];Hg(GM).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:A}),i(a,A)}return s}else Ga(1,t)},this.produceWithPatches=(t,r)=>{if(Gh(t))return(A,...l)=>this.produceWithPatches(A,c=>t(c,...l));let i,s;return[this.produce(t,r,(A,l)=>{i=A,s=l}),i,s]},kI(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),kI(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),kI(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Wa(e)||Ga(8),pl(e)&&(e=$a(e));const t=U3(this),r=$M(t,e,void 0);return r[xi].isManual_=!0,zM(t),r}finishDraft(e,t){const r=e&&e[xi];(!r||!r.isManual_)&&Ga(9);const{scope_:i}=r;return I3(i,t),F3(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const i=Hg(GM).applyPatches_;return pl(e)?i(e,t):this.produce(e,s=>i(s,t))}};function $M(n,e,t,r){const[i,s]=fx(e)?Hg(QE).proxyMap_(e,t):dx(e)?Hg(QE).proxySet_(e,t):dme(e,t);return((t==null?void 0:t.scope_)??W6()).drafts_.push(i),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=r,t&&r!==void 0?cme(t,s,r):s.callbacks_.push(function(l){var f;(f=l.mapSetPlugin_)==null||f.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),i}function $a(n){return pl(n)||Ga(10,n),t$(n)}function t$(n){if(!Wa(n)||hx(n))return n;const e=n[xi];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=KM(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=KM(n,!0);return _w(t,(i,s)=>{PE(t,i,t$(s))},r),e&&(e.finalized_=!1),t}var gme=new pme,n$=gme.produce;function r$(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var mme=r$(),vme=r$,yme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ME:ME.apply(null,arguments)};function wa(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(Ms(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>q6(r)&&r.type===n,t}var i$=class jv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jv.prototype)}static get[Symbol.species](){return jv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jv(...e[0].concat(this)):new jv(...e.concat(this))}};function D3(n){return Wa(n)?n$(n,()=>{}):n}function VB(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function wme(n){return typeof n=="boolean"}var Cme=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new i$;return t&&(wme(t)?a.push(mme):a.push(vme(t.extraArgument))),a},s$="RTK_autoBatch",yn=()=>n=>({payload:n,meta:{[s$]:!0}}),R3=n=>e=>{setTimeout(e,n)},a$=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,a=!1;const A=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:R3(10):n.type==="callback"?n.queueNotification:R3(n.timeout),c=()=>{a=!1,s&&(s=!1,A.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const h=()=>i&&f(),g=r.subscribe(h);return A.add(f),()=>{g(),A.delete(f)}},dispatch(f){var h;try{return i=!((h=f==null?void 0:f.meta)!=null&&h[s$]),s=!i,s&&(a||(a=!0,l(c))),r.dispatch(f)}finally{i=!0}}})},Bme=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new i$(n);return r&&i.push(a$(typeof r=="object"?r:void 0)),i};function bme(n){const e=Cme(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let A;if(typeof t=="function")A=t;else if(ER(t))A=z6(t);else throw new Error(Ms(1));let l;typeof r=="function"?l=r(e):l=e();let c=ME;i&&(c=yme({trace:!1,...typeof i=="object"&&i}));const f=nme(...l),h=Bme(f);let g=typeof a=="function"?a(h):h();const v=c(...g);return V6(A,s,v)}function o$(n){const e={},t=[];let r;const i={addCase(s,a){const A=typeof s=="string"?s:s.type;if(!A)throw new Error(Ms(28));if(A in e)throw new Error(Ms(29));return e[A]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function Eme(n){return typeof n=="function"}function Sme(n,e){let[t,r,i]=o$(e),s;if(Eme(n))s=()=>D3(n());else{const A=D3(n);s=()=>A}function a(A=s(),l){let c=[t[l.type],...r.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[i]),c.reduce((f,h)=>{if(h)if(pl(f)){const v=h(f,l);return v===void 0?f:v}else{if(Wa(f))return n$(f,g=>h(g,l));{const g=h(f,l);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},A)}return a.getInitialState=s,a}var xme="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tme=(n=21)=>{let e="",t=n;for(;t--;)e+=xme[Math.random()*64|0];return e},_me=Symbol.for("rtk-slice-createasyncthunk");function Ime(n,e){return`${n}/${e}`}function Ume({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[_me];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Ms(11));const A=(typeof i.reducers=="function"?i.reducers(Mme()):i.reducers)||{},l=Object.keys(A),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(M,F){const R=typeof M=="string"?M:M.type;if(!R)throw new Error(Ms(12));if(R in c.sliceCaseReducersByType)throw new Error(Ms(13));return c.sliceCaseReducersByType[R]=F,f},addMatcher(M,F){return c.sliceMatchers.push({matcher:M,reducer:F}),f},exposeAction(M,F){return c.actionCreators[M]=F,f},exposeCaseReducer(M,F){return c.sliceCaseReducersByName[M]=F,f}};l.forEach(M=>{const F=A[M],R={reducerName:M,type:Ime(s,M),createNotation:typeof i.reducers=="function"};Rme(F)?Qme(R,F,f,e):Dme(R,F,f)});function h(){const[M={},F=[],R=void 0]=typeof i.extraReducers=="function"?o$(i.extraReducers):[i.extraReducers],L={...M,...c.sliceCaseReducersByType};return Sme(i.initialState,K=>{for(let O in L)K.addCase(O,L[O]);for(let O of c.sliceMatchers)K.addMatcher(O.matcher,O.reducer);for(let O of F)K.addMatcher(O.matcher,O.reducer);R&&K.addDefaultCase(R)})}const g=M=>M,v=new Map,b=new WeakMap;let B;function S(M,F){return B||(B=h()),B(M,F)}function x(){return B||(B=h()),B.getInitialState()}function _(M,F=!1){function R(K){let O=K[M];return typeof O>"u"&&F&&(O=VB(b,R,x)),O}function L(K=g){const O=VB(v,F,()=>new WeakMap);return VB(O,K,()=>{const $={};for(const[G,Y]of Object.entries(i.selectors??{}))$[G]=Fme(Y,K,()=>VB(b,K,x),F);return $})}return{reducerPath:M,getSelectors:L,get selectors(){return L(R)},selectSlice:R}}const T={name:s,reducer:S,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,..._(a),injectInto(M,{reducerPath:F,...R}={}){const L=F??a;return M.inject({reducerPath:L,reducer:S},R),{...T,..._(L,!0)}}};return T}}function Fme(n,e,t,r){function i(s,...a){let A=e(s);return typeof A>"u"&&r&&(A=t()),n(A,...a)}return i.unwrapped=n,i}var Wi=Ume();function Mme(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function Dme({type:n,reducerName:e,createNotation:t},r,i){let s,a;if("reducer"in r){if(t&&!Pme(r))throw new Error(Ms(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?wa(n,a):wa(n))}function Rme(n){return n._reducerDefinitionType==="asyncThunk"}function Pme(n){return n._reducerDefinitionType==="reducerWithPrepare"}function Qme({type:n,reducerName:e},t,r,i){if(!i)throw new Error(Ms(18));const{payloadCreator:s,fulfilled:a,pending:A,rejected:l,settled:c,options:f}=t,h=i(n,s,f);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),A&&r.addCase(h.pending,A),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:a||zB,pending:A||zB,rejected:l||zB,settled:c||zB})}function zB(){}var Nme="task",A$="listener",l$="completed",UR="cancelled",Lme=`task-${UR}`,kme=`task-${l$}`,YM=`${A$}-${UR}`,Ome=`${A$}-${l$}`,gx=class{constructor(n){me(this,"name","TaskAbortError");me(this,"message");this.code=n,this.message=`${Nme} ${UR} (reason: ${n})`}},FR=(n,e)=>{if(typeof n!="function")throw new TypeError(Ms(32))},NE=()=>{},u$=(n,e=NE)=>(n.catch(e),n),c$=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),vd=n=>{if(n.aborted)throw new gx(n.reason)};function f$(n,e){let t=NE;return new Promise((r,i)=>{const s=()=>i(new gx(n.reason));if(n.aborted){s();return}t=c$(n,s),e.finally(()=>t()).then(r,i)}).finally(()=>{t=NE})}var Hme=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof gx?"cancelled":"rejected",error:t}}finally{e==null||e()}},LE=n=>e=>u$(f$(n,e).then(t=>(vd(n),t))),d$=n=>{const e=LE(n);return t=>e(new Promise(r=>setTimeout(r,t)))},{assign:ap}=Object,P3={},mx="listenerMiddleware",Kme=(n,e)=>{const t=r=>c$(n,()=>r.abort(n.reason));return(r,i)=>{FR(r);const s=new AbortController;t(s);const a=Hme(async()=>{vd(n),vd(s.signal);const A=await r({pause:LE(s.signal),delay:d$(s.signal),signal:s.signal});return vd(s.signal),A},()=>s.abort(kme));return i!=null&&i.autoJoin&&e.push(a.catch(NE)),{result:LE(n)(a),cancel(){s.abort(Lme)}}}},Gme=(n,e)=>{const t=async(r,i)=>{vd(e);let s=()=>{};const A=[new Promise((l,c)=>{let f=n({predicate:r,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{f(),c()}})];i!=null&&A.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await f$(e,Promise.race(A));return vd(e),l}finally{s()}};return(r,i)=>u$(t(r,i))},h$=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:s}=n;if(e)i=wa(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(Ms(21));return FR(s),{predicate:i,type:e,effect:s}},p$=ap(n=>{const{type:e,predicate:t,effect:r}=h$(n);return{id:Tme(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Ms(22))}}},{withTypes:()=>p$}),Q3=(n,e)=>{const{type:t,effect:r,predicate:i}=h$(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===i)&&s.effect===r)},XM=n=>{n.pending.forEach(e=>{e.abort(YM)})},Vme=(n,e)=>()=>{for(const t of e.keys())XM(t);n.clear()},N3=(n,e,t)=>{try{n(e,t)}catch(r){setTimeout(()=>{throw r},0)}},g$=ap(wa(`${mx}/add`),{withTypes:()=>g$}),zme=wa(`${mx}/removeAll`),m$=ap(wa(`${mx}/remove`),{withTypes:()=>m$}),qme=(...n)=>{console.error(`${mx}/error`,...n)},Uw=(n={})=>{const e=new Map,t=new Map,r=v=>{const b=t.get(v)??0;t.set(v,b+1)},i=v=>{const b=t.get(v)??1;b===1?t.delete(v):t.set(v,b-1)},{extra:s,onError:a=qme}=n;FR(a);const A=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b!=null&&b.cancelActive&&XM(v)}),l=v=>{const b=Q3(e,v)??p$(v);return A(b)};ap(l,{withTypes:()=>l});const c=v=>{const b=Q3(e,v);return b&&(b.unsubscribe(),v.cancelActive&&XM(b)),!!b};ap(c,{withTypes:()=>c});const f=async(v,b,B,S)=>{const x=new AbortController,_=Gme(l,x.signal),T=[];try{v.pending.add(x),r(v),await Promise.resolve(v.effect(b,ap({},B,{getOriginalState:S,condition:(M,F)=>_(M,F).then(Boolean),take:_,delay:d$(x.signal),pause:LE(x.signal),extra:s,signal:x.signal,fork:Kme(x.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((M,F,R)=>{M!==x&&(M.abort(YM),R.delete(M))})},cancel:()=>{x.abort(YM),v.pending.delete(x)},throwIfCancelled:()=>{vd(x.signal)}})))}catch(M){M instanceof gx||N3(a,M,{raisedBy:"effect"})}finally{await Promise.all(T),x.abort(Ome),i(v),v.pending.delete(x)}},h=Vme(e,t);return{middleware:v=>b=>B=>{if(!q6(B))return b(B);if(g$.match(B))return l(B.payload);if(zme.match(B)){h();return}if(m$.match(B))return c(B.payload);let S=v.getState();const x=()=>{if(S===P3)throw new Error(Ms(23));return S};let _;try{if(_=b(B),e.size>0){const T=v.getState(),M=Array.from(e.values());for(const F of M){let R=!1;try{R=F.predicate(B,T,S)}catch(L){R=!1,N3(a,L,{raisedBy:"predicate"})}R&&f(F,B,v,x)}}}finally{S=P3}return _},startListening:l,stopListening:c,clearListeners:h}};function Ms(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var $me={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},v$=Wi({name:"chartLayout",initialState:$me,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,r,i,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,n.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:Yme,setLayout:Xme,setChartSize:Wme,setScale:jme}=v$.actions,Jme=v$.reducer;function y$(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function L3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $h(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(t),!0).forEach(function(r){Zme(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Zme(n,e,t){return(e=eve(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eve(n){var e=tve(n,"string");return typeof e=="symbol"?e:e+""}function tve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ci(n,e,t){return _r(n)||_r(e)?t:Ko(e)?kg(n,e,t):typeof e=="function"?e(n):t}var nve=(n,e,t)=>{if(e&&t){var{width:r,height:i}=t,{align:s,verticalAlign:a,layout:A}=e;if((A==="vertical"||A==="horizontal"&&a==="middle")&&s!=="center"&&qe(n[s]))return $h($h({},n),{},{[s]:n[s]+(r||0)});if((A==="horizontal"||A==="vertical"&&s==="center")&&a!=="middle"&&qe(n[a]))return $h($h({},n),{},{[a]:n[a]+(i||0)})}return n},Rd=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",k3=1e-4,rve=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,r=n.range(),i=Math.min(r[0],r[1])-k3,s=Math.max(r[0],r[1])+k3,a=n(e[0]),A=n(e[t-1]);(a<i||a>s||A<i||A>s)&&n.domain([e[0],e[t-1]])}},ive=(n,e)=>{if(!e||e.length!==2||!qe(e[0])||!qe(e[1]))return n;var t=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[n[0],n[1]];return(!qe(n[0])||n[0]<t)&&(i[0]=t),(!qe(n[1])||n[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<t&&(i[1]=t),i},sve=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0,a=0;a<e;++a){var A=Ho(n[a][t][1])?n[a][t][0]:n[a][t][1];A>=0?(n[a][t][0]=i,n[a][t][1]=i+A,i=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+A,s=n[a][t][1])}},ave=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0;s<e;++s){var a=Ho(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=i,n[s][t][1]=i+a,i=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},ove={sign:sve,expand:Dpe,none:Lg,silhouette:Rpe,wiggle:Ppe,positive:ave},Ave=(n,e,t)=>{var r=ove[t],i=Mpe().keys(e).value((s,a)=>Number(ci(s,a,0))).order(LM).offset(r);return i(n)};function lve(n){return n==null?void 0:String(n)}var O3=n=>{var{axis:e,ticks:t,offset:r,bandSize:i,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+r:null;var A=ci(s,e.dataKey,e.scale.domain()[a]);return _r(A)?null:e.scale(A)-i/2+r},uve=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return r<=0&&i>=0?0:i<0?i:r}return t[0]},cve=n=>{var e=n.flat(2).filter(qe);return[Math.min(...e),Math.max(...e)]},fve=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],dve=(n,e,t)=>{if(n!=null)return fve(Object.keys(n).reduce((r,i)=>{var s=n[i],{stackedData:a}=s,A=a.reduce((l,c)=>{var f=y$(c,e,t),h=cve(f);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(A[0],r[0]),Math.max(A[1],r[1])]},[1/0,-1/0]))},H3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kE=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var r=n.scale.bandwidth();if(!t||r>0)return r}if(n&&e&&e.length>=2){for(var i=lx(e,f=>f.coordinate),s=1/0,a=1,A=i.length;a<A;a++){var l=i[a],c=i[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function G3(n){var{tooltipEntrySettings:e,dataKey:t,payload:r,value:i,name:s}=n;return $h($h({},e),{},{dataKey:t,payload:r,value:i,name:s})}function w$(n,e){if(n)return String(n);if(typeof e=="string")return e}var hve=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},pve=(n,e)=>e==="centric"?n.angle:n.radius,xl=n=>n.layout.width,Tl=n=>n.layout.height,gve=n=>n.layout.scale,C$=n=>n.layout.margin,vx=se(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),yx=se(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),mve="data-recharts-item-index",vve="data-recharts-item-data-key",Fw=60;function V3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(t),!0).forEach(function(r){yve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yve(n,e,t){return(e=wve(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wve(n){var e=Cve(n,"string");return typeof e=="symbol"?e:e+""}function Cve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Bve=n=>n.brush.height;function bve(n){var e=yx(n);return e.reduce((t,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fw;return t+i}return t},0)}function Eve(n){var e=yx(n);return e.reduce((t,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fw;return t+i}return t},0)}function Sve(n){var e=vx(n);return e.reduce((t,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?t+r.height:t,0)}function xve(n){var e=vx(n);return e.reduce((t,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?t+r.height:t,0)}var Ir=se([xl,Tl,C$,Bve,bve,Eve,Sve,xve,G6,Wge],(n,e,t,r,i,s,a,A,l,c)=>{var f={left:(t.left||0)+i,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+A},g=qB(qB({},h),f),v=g.bottom;g.bottom+=r,g=nve(g,l,c);var b=n-g.left-g.right,B=e-g.top-g.bottom;return qB(qB({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(B,0)})}),Tve=se(Ir,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),MR=se(xl,Tl,(n,e)=>({x:0,y:0,width:n,height:e})),_ve=I.createContext(null),Qs=()=>I.useContext(_ve)!=null,wx=n=>n.brush,Cx=se([wx,Ir,C$],(n,e,t)=>({height:n.height,x:qe(n.x)?n.x:e.left,y:qe(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:qe(n.width)?n.width:e.width})),HI={},KI={},GI={},z3;function Ive(){return z3||(z3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r,{signal:i,edges:s}={}){let a,A=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),f=()=>{A!==null&&(t.apply(a,A),a=void 0,A=null)},h=()=>{c&&f(),B()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},r)},b=()=>{g!==null&&(clearTimeout(g),g=null)},B=()=>{b(),a=void 0,A=null},S=()=>{f()},x=function(..._){if(i!=null&&i.aborted)return;a=this,A=_;const T=g==null;v(),l&&T&&f()};return x.schedule=v,x.cancel=B,x.flush=S,i==null||i.addEventListener("abort",B,{once:!0}),x}n.debounce=e})(GI)),GI}var q3;function Uve(){return q3||(q3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Ive();function t(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:A=!0,maxWait:l}=s,c=Array(2);a&&(c[0]="leading"),A&&(c[1]="trailing");let f,h=null;const g=e.debounce(function(...B){f=r.apply(this,B),h=null},i,{edges:c}),v=function(...B){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(f=r.apply(this,B),h=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,B),f)},b=()=>(g.flush(),f);return v.cancel=g.cancel,v.flush=b,v}n.debounce=t})(KI)),KI}var $3;function Fve(){return $3||($3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Uve();function t(r,i=0,s={}){const{leading:a=!0,trailing:A=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:A})}n.throttle=t})(HI)),HI}var VI,Y3;function Mve(){return Y3||(Y3=1,VI=Fve().throttle),VI}var Dve=Mve();const Rve=Ja(Dve);var X3=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>i[a++]))}},B$=(n,e,t)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=t,A=hl(r)?n:Number(r),l=hl(i)?e:Number(i);return s&&s>0&&(A?l=A/s:l&&(A=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:A,calculatedHeight:l}},Pve={width:0,height:0,overflow:"visible"},Qve={width:0,overflowX:"visible"},Nve={height:0,overflowY:"visible"},Lve={},kve=n=>{var{width:e,height:t}=n,r=hl(e),i=hl(t);return r&&i?Pve:r?Qve:i?Nve:Lve};function Ove(n){var{width:e,height:t,aspect:r}=n,i=e,s=t;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function Gn(n){return Number.isFinite(n)}function hc(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function WM(){return WM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},WM.apply(null,arguments)}function W3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function j3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(t),!0).forEach(function(r){Hve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Hve(n,e,t){return(e=Kve(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kve(n){var e=Gve(n,"string");return typeof e=="symbol"?e:e+""}function Gve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var b$=I.createContext({width:-1,height:-1});function Vve(n){return hc(n.width)&&hc(n.height)}function E$(n){var{children:e,width:t,height:r}=n,i=I.useMemo(()=>({width:t,height:r}),[t,r]);return Vve(i)?I.createElement(b$.Provider,{value:i},e):null}var DR=()=>I.useContext(b$),zve=I.forwardRef((n,e)=>{var{aspect:t,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:A,maxHeight:l,children:c,debounce:f=0,id:h,className:g,onResize:v,style:b={}}=n,B=I.useRef(null),S=I.useRef();S.current=v,I.useImperativeHandle(e,()=>B.current);var[x,_]=I.useState({containerWidth:r.width,containerHeight:r.height}),T=I.useCallback((K,O)=>{_($=>{var G=Math.round(K),Y=Math.round(O);return $.containerWidth===G&&$.containerHeight===Y?$:{containerWidth:G,containerHeight:Y}})},[]);I.useEffect(()=>{if(B.current==null||typeof ResizeObserver>"u")return Tw;var K=Y=>{var J,{width:ne,height:fe}=Y[0].contentRect;T(ne,fe),(J=S.current)===null||J===void 0||J.call(S,ne,fe)};f>0&&(K=Rve(K,f,{trailing:!0,leading:!1}));var O=new ResizeObserver(K),{width:$,height:G}=B.current.getBoundingClientRect();return T($,G),O.observe(B.current),()=>{O.disconnect()}},[T,f]);var{containerWidth:M,containerHeight:F}=x;X3(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:R,calculatedHeight:L}=B$(M,F,{width:i,height:s,aspect:t,maxHeight:l});return X3(R!=null&&R>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,L,i,s,a,A,t),I.createElement("div",{id:h?"".concat(h):void 0,className:kt("recharts-responsive-container",g),style:j3(j3({},b),{},{width:i,height:s,minWidth:a,minHeight:A,maxHeight:l}),ref:B},I.createElement("div",{style:kve({width:i,height:s})},I.createElement(E$,{width:R,height:L},c)))}),qve=I.forwardRef((n,e)=>{var t=DR();if(hc(t.width)&&hc(t.height))return n.children;var{width:r,height:i}=Ove({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=B$(void 0,void 0,{width:r,height:i,aspect:n.aspect,maxHeight:n.maxHeight});return qe(s)&&qe(a)?I.createElement(E$,{width:s,height:a},n.children):I.createElement(zve,WM({},n,{width:r,height:i,ref:e}))});function S$(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var Bx=()=>{var n,e=Qs(),t=Ve(Tve),r=Ve(Cx),i=(n=Ve(wx))===null||n===void 0?void 0:n.padding;return!e||!r||!i?t:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},$ve={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Yve=()=>{var n;return(n=Ve(Ir))!==null&&n!==void 0?n:$ve},Xve=()=>Ve(xl),Wve=()=>Ve(Tl),Ot=n=>n.layout.layoutType,bx=()=>Ve(Ot),jve=()=>{var n=bx();return n!==void 0},Ex=n=>{var e=Vn(),t=Qs(),{width:r,height:i}=n,s=DR(),a=r,A=i;return s&&(a=s.width>0?s.width:r,A=s.height>0?s.height:i),I.useEffect(()=>{!t&&hc(a)&&hc(A)&&e(Wme({width:a,height:A}))},[e,t,a,A]),null},x$=Symbol.for("immer-nothing"),J3=Symbol.for("immer-draftable"),Ps=Symbol.for("immer-state");function Va(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var by=Object.getPrototypeOf;function Kg(n){return!!n&&!!n[Ps]}function Ed(n){var e;return n?T$(n)||Array.isArray(n)||!!n[J3]||!!((e=n.constructor)!=null&&e[J3])||Mw(n)||xx(n):!1}var Jve=Object.prototype.constructor.toString(),Z3=new WeakMap;function T$(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let r=Z3.get(t);return r===void 0&&(r=Function.toString.call(t),Z3.set(t,r)),r===Jve}function OE(n,e,t=!0){Sx(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function Sx(n){const e=n[Ps];return e?e.type_:Array.isArray(n)?1:Mw(n)?2:xx(n)?3:0}function jM(n,e){return Sx(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function _$(n,e,t){const r=Sx(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function Zve(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Mw(n){return n instanceof Map}function xx(n){return n instanceof Set}function Yc(n){return n.copy_||n.base_}function JM(n,e){if(Mw(n))return new Map(n);if(xx(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=T$(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Ps];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],A=r[a];A.writable===!1&&(A.writable=!0,A.configurable=!0),(A.get||A.set)&&(r[a]={configurable:!0,writable:!0,enumerable:A.enumerable,value:n[a]})}return Object.create(by(n),r)}else{const r=by(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function RR(n,e=!1){return Tx(n)||Kg(n)||!Ed(n)||(Sx(n)>1&&Object.defineProperties(n,{set:$B,add:$B,clear:$B,delete:$B}),Object.freeze(n),e&&Object.values(n).forEach(t=>RR(t,!0))),n}function eye(){Va(2)}var $B={value:eye};function Tx(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var tye={};function Sd(n){const e=tye[n];return e||Va(0,n),e}var Ey;function I$(){return Ey}function nye(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eK(n,e){e&&(Sd("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function ZM(n){eD(n),n.drafts_.forEach(rye),n.drafts_=null}function eD(n){n===Ey&&(Ey=n.parent_)}function tK(n){return Ey=nye(Ey,n)}function rye(n){const e=n[Ps];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nK(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Ps].modified_&&(ZM(e),Va(4)),Ed(n)&&(n=HE(e,n),e.parent_||KE(e,n)),e.patches_&&Sd("Patches").generateReplacementPatches_(t[Ps].base_,n,e.patches_,e.inversePatches_)):n=HE(e,t,[]),ZM(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==x$?n:void 0}function HE(n,e,t){if(Tx(e))return e;const r=n.immer_.shouldUseStrictIteration(),i=e[Ps];if(!i)return OE(e,(s,a)=>rK(n,i,e,s,a,t),r),e;if(i.scope_!==n)return e;if(!i.modified_)return KE(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,A=!1;i.type_===3&&(a=new Set(s),s.clear(),A=!0),OE(a,(l,c)=>rK(n,i,s,l,c,t,A),r),KE(n,s,!1),t&&n.patches_&&Sd("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function rK(n,e,t,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const A=Tx(i);if(!(A&&!a)){if(Kg(i)){const l=s&&e&&e.type_!==3&&!jM(e.assigned_,r)?s.concat(r):void 0,c=HE(n,i,l);if(_$(t,r,c),Kg(c))n.canAutoFreeze_=!1;else return}else a&&t.add(i);if(Ed(i)&&!A){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&A)return;HE(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Mw(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&KE(n,i)}}}function KE(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&RR(e,t)}function iye(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:I$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=PR;t&&(i=[r],s=Sy);const{revoke:a,proxy:A}=Proxy.revocable(i,s);return r.draft_=A,r.revoke_=a,A}var PR={get(n,e){if(e===Ps)return n;const t=Yc(n);if(!jM(t,e))return sye(n,t,e);const r=t[e];return n.finalized_||!Ed(r)?r:r===zI(n.base_,e)?(qI(n),n.copy_[e]=nD(r,n)):r},has(n,e){return e in Yc(n)},ownKeys(n){return Reflect.ownKeys(Yc(n))},set(n,e,t){const r=U$(Yc(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=zI(Yc(n),e),s=i==null?void 0:i[Ps];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(Zve(t,i)&&(t!==void 0||jM(n.base_,e)))return!0;qI(n),tD(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return zI(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,qI(n),tD(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Yc(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Va(11)},getPrototypeOf(n){return by(n.base_)},setPrototypeOf(){Va(12)}},Sy={};OE(PR,(n,e)=>{Sy[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Sy.deleteProperty=function(n,e){return Sy.set.call(this,n,e,void 0)};Sy.set=function(n,e,t){return PR.set.call(this,n[0],e,t,n[0])};function zI(n,e){const t=n[Ps];return(t?Yc(t):n)[e]}function sye(n,e,t){var i;const r=U$(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function U$(n,e){if(!(e in n))return;let t=by(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=by(t)}}function tD(n){n.modified_||(n.modified_=!0,n.parent_&&tD(n.parent_))}function qI(n){n.copy_||(n.copy_=JM(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var aye=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...c){return a.produce(l,f=>t.call(this,f,...c))}}typeof t!="function"&&Va(6),r!==void 0&&typeof r!="function"&&Va(7);let i;if(Ed(e)){const s=tK(this),a=nD(e,void 0);let A=!0;try{i=t(a),A=!1}finally{A?ZM(s):eD(s)}return eK(s,r),nK(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===x$&&(i=void 0),this.autoFreeze_&&RR(i,!0),r){const s=[],a=[];Sd("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Va(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...A)=>this.produceWithPatches(a,l=>e(l,...A));let r,i;return[this.produce(e,t,(a,A)=>{r=a,i=A}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Ed(n)||Va(8),Kg(n)&&(n=oye(n));const e=tK(this),t=nD(n,void 0);return t[Ps].isManual_=!0,eD(e),t}finishDraft(n,e){const t=n&&n[Ps];(!t||!t.isManual_)&&Va(9);const{scope_:r}=t;return eK(r,e),nK(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Sd("Patches").applyPatches_;return Kg(n)?r(n,e):this.produce(n,i=>r(i,e))}};function nD(n,e){const t=Mw(n)?Sd("MapSet").proxyMap_(n,e):xx(n)?Sd("MapSet").proxySet_(n,e):iye(n,e);return(e?e.scope_:I$()).drafts_.push(t),t}function oye(n){return Kg(n)||Va(10,n),F$(n)}function F$(n){if(!Ed(n)||Tx(n))return n;const e=n[Ps];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=JM(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=JM(n,!0);return OE(t,(i,s)=>{_$(t,i,F$(s))},r),e&&(e.finalized_=!1),t}var Aye=new aye;Aye.produce;var lye={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},M$=Wi({name:"legend",initialState:lye,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:yn()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:r}=e.payload,i=$a(n).payload.indexOf(t);i>-1&&(n.payload[i]=r)},prepare:yn()},removeLegendPayload:{reducer(n,e){var t=$a(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:yn()}}}),{setLegendSize:sUe,setLegendSettings:aUe,addLegendPayload:uye,replaceLegendPayload:cye,removeLegendPayload:fye}=M$.actions,dye=M$.reducer;function rD(){return rD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rD.apply(null,arguments)}function iK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $I(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iK(Object(t),!0).forEach(function(r){hye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hye(n,e,t){return(e=pye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pye(n){var e=gye(n,"string");return typeof e=="symbol"?e:e+""}function gye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mye(n){return Array.isArray(n)&&Ko(n[0])&&Ko(n[1])?n.join(" ~ "):n}var vye=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:A,wrapperClassName:l,labelClassName:c,label:f,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var F={padding:0,margin:0},R=(A?lx(s,A):s).map((L,K)=>{if(L.type==="none")return null;var O=L.formatter||a||mye,{value:$,name:G}=L,Y=$,J=G;if(O){var ne=O($,G,L,K,s);if(Array.isArray(ne))[Y,J]=ne;else if(ne!=null)Y=ne;else return null}var fe=$I({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:fe},Ko(J)?I.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Ko(J)?I.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,I.createElement("span",{className:"recharts-tooltip-item-value"},Y),I.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:F},R)}return null},b=$I({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),B=$I({margin:0},i),S=!_r(f),x=S?f:"",_=kt("recharts-default-tooltip",l),T=kt("recharts-tooltip-label",c);S&&h&&s!==void 0&&s!==null&&(x=h(f,s));var M=g?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",rD({className:_,style:b},M),I.createElement("p",{className:T,style:B},I.isValidElement(x)?x:"".concat(x)),v())},pv="recharts-tooltip-wrapper",yye={visibility:"hidden"};function wye(n){var{coordinate:e,translateX:t,translateY:r}=n;return kt(pv,{["".concat(pv,"-right")]:qe(t)&&e&&qe(e.x)&&t>=e.x,["".concat(pv,"-left")]:qe(t)&&e&&qe(e.x)&&t<e.x,["".concat(pv,"-bottom")]:qe(r)&&e&&qe(e.y)&&r>=e.y,["".concat(pv,"-top")]:qe(r)&&e&&qe(e.y)&&r<e.y})}function sK(n){var{allowEscapeViewBox:e,coordinate:t,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:A,viewBox:l,viewBoxDimension:c}=n;if(s&&qe(s[r]))return s[r];var f=t[r]-A-(i>0?i:0),h=t[r]+i;if(e[r])return a[r]?f:h;var g=l[r];if(g==null)return 0;if(a[r]){var v=f,b=g;return v<b?Math.max(h,g):Math.max(f,g)}if(c==null)return 0;var B=h+A,S=g+c;return B>S?Math.max(f,g):Math.max(h,g)}function Cye(n){var{translateX:e,translateY:t,useTranslate3d:r}=n;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function Bye(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:A,viewBox:l}=n,c,f,h;return a.height>0&&a.width>0&&t?(f=sK({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=sK({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Cye({translateX:f,translateY:h,useTranslate3d:A})):c=yye,{cssProperties:c,cssClasses:wye({translateX:f,translateY:h,coordinate:t})}}function aK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function YB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aK(Object(t),!0).forEach(function(r){iD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iD(n,e,t){return(e=bye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bye(n){var e=Eye(n,"string");return typeof e=="symbol"?e:e+""}function Eye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Sye extends I.PureComponent{constructor(){super(...arguments),iD(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iD(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&t!==void 0?t:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:A,isAnimationActive:l,offset:c,position:f,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:B,innerRef:S,hasPortalFromProps:x}=this.props,{cssClasses:_,cssProperties:T}=Bye({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:c,position:f,reverseDirection:h,tooltipBox:{height:B.height,width:B.width},useTranslate3d:g,viewBox:v}),M=x?{}:YB(YB({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&A?"visible":"hidden",position:"absolute",top:0,left:0}),F=YB(YB({},M),{},{visibility:!this.state.dismissed&&e&&A?"visible":"hidden"},b);return I.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:F,ref:S},s)}}var D$=()=>{var n;return(n=Ve(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function sD(){return sD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sD.apply(null,arguments)}function oK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function AK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oK(Object(t),!0).forEach(function(r){xye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xye(n,e,t){return(e=Tye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tye(n){var e=_ye(n,"string");return typeof e=="symbol"?e:e+""}function _ye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lK={curveBasisClosed:Cpe,curveBasisOpen:Bpe,curveBasis:wpe,curveBumpX:ape,curveBumpY:ope,curveLinearClosed:bpe,curveLinear:ox,curveMonotoneX:Epe,curveMonotoneY:Spe,curveNatural:xpe,curveStep:Tpe,curveStepAfter:Ipe,curveStepBefore:_pe},GE=n=>Gn(n.x)&&Gn(n.y),uK=n=>n.base!=null&&GE(n.base)&&GE(n),gv=n=>n.x,mv=n=>n.y,Iye=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(xw(n));return(t==="curveMonotone"||t==="curveBump")&&e?lK["".concat(t).concat(e==="vertical"?"Y":"X")]:lK[t]||ox},Uye=n=>{var{type:e="linear",points:t=[],baseLine:r,layout:i,connectNulls:s=!1}=n,a=Iye(e,i),A=s?t.filter(GE):t,l;if(Array.isArray(r)){var c=t.map((v,b)=>AK(AK({},v),{},{base:r[b]}));i==="vertical"?l=OB().y(mv).x1(gv).x0(v=>v.base.x):l=OB().x(gv).y1(mv).y0(v=>v.base.y);var f=l.defined(uK).curve(a),h=s?c.filter(uK):c;return f(h)}i==="vertical"&&qe(r)?l=OB().y(mv).x1(gv).x0(r):qe(r)?l=OB().x(gv).y1(mv).y0(r):l=p6().x(gv).y(mv);var g=l.defined(GE).curve(a);return g(A)},R$=n=>{var{className:e,points:t,path:r,pathRef:i}=n;if((!t||!t.length)&&!r)return null;var s=t&&t.length?Uye(n):r;return I.createElement("path",sD({},dc(n),Zpe(n),{className:kt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Fye=["x","y","top","left","width","height","className"];function aD(){return aD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},aD.apply(null,arguments)}function cK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mye(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cK(Object(t),!0).forEach(function(r){Dye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dye(n,e,t){return(e=Rye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rye(n){var e=Pye(n,"string");return typeof e=="symbol"?e:e+""}function Pye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qye(n,e){if(n==null)return{};var t,r,i=Nye(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Nye(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Lye=(n,e,t,r,i,s)=>"M".concat(n,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(t),kye=n=>{var{x:e=0,y:t=0,top:r=0,left:i=0,width:s=0,height:a=0,className:A}=n,l=Qye(n,Fye),c=Mye({x:e,y:t,top:r,left:i,width:s,height:a},l);return!qe(e)||!qe(t)||!qe(s)||!qe(a)||!qe(r)||!qe(i)?null:I.createElement("path",aD({},ya(c),{className:kt("recharts-cross",A),d:Lye(e,t,s,a,r,i)}))};function Oye(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function fK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fK(Object(t),!0).forEach(function(r){Hye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Hye(n,e,t){return(e=Kye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kye(n){var e=Gye(n,"string");return typeof e=="symbol"?e:e+""}function Gye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Vye=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),P$=(n,e,t)=>n.map(r=>"".concat(Vye(r)," ").concat(e,"ms ").concat(t)).join(","),zye=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,r)=>t.filter(i=>r.includes(i))),xy=(n,e)=>Object.keys(e).reduce((t,r)=>dK(dK({},t),{},{[r]:n(r,e[r])}),{});function hK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ar(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hK(Object(t),!0).forEach(function(r){qye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qye(n,e,t){return(e=$ye(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $ye(n){var e=Yye(n,"string");return typeof e=="symbol"?e:e+""}function Yye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var VE=(n,e,t)=>n+(e-n)*t,oD=n=>{var{from:e,to:t}=n;return e!==t},Q$=(n,e,t)=>{var r=xy((i,s)=>{if(oD(s)){var[a,A]=n(s.from,s.to,s.velocity);return ar(ar({},s),{},{from:a,velocity:A})}return s},e);return t<1?xy((i,s)=>oD(s)?ar(ar({},s),{},{velocity:VE(s.velocity,r[i].velocity,t),from:VE(s.from,r[i].from,t)}):s,e):Q$(n,r,t-1)};function Xye(n,e,t,r,i,s){var a,A=r.reduce((g,v)=>ar(ar({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>xy((g,v)=>v.from,A),c=()=>!Object.values(A).filter(oD).length,f=null,h=g=>{a||(a=g);var v=g-a,b=v/t.dt;A=Q$(t,A,b),i(ar(ar(ar({},n),e),l())),a=g,c()||(f=s.setTimeout(h))};return()=>(f=s.setTimeout(h),()=>{var g;(g=f)===null||g===void 0||g()})}function Wye(n,e,t,r,i,s,a){var A=null,l=i.reduce((h,g)=>ar(ar({},h),{},{[g]:[n[g],e[g]]}),{}),c,f=h=>{c||(c=h);var g=(h-c)/r,v=xy((B,S)=>VE(...S,t(g)),l);if(s(ar(ar(ar({},n),e),v)),g<1)A=a.setTimeout(f);else{var b=xy((B,S)=>VE(...S,t(1)),l);s(ar(ar(ar({},n),e),b))}};return()=>(A=a.setTimeout(f),()=>{var h;(h=A)===null||h===void 0||h()})}const jye=(n,e,t,r,i,s)=>{var a=zye(n,e);return t==null?()=>(i(ar(ar({},n),e)),()=>{}):t.isStepper===!0?Xye(n,e,t,a,i,s):Wye(n,e,t,r,a,i,s)};var zE=1e-4,N$=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],L$=(n,e)=>n.map((t,r)=>t*e**r).reduce((t,r)=>t+r),pK=(n,e)=>t=>{var r=N$(n,e);return L$(r,t)},Jye=(n,e)=>t=>{var r=N$(n,e),i=[...r.map((s,a)=>s*a).slice(1),0];return L$(i,t)},Zye=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(A=>parseFloat(A));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},e0e=(n,e,t,r)=>{var i=pK(n,t),s=pK(e,r),a=Jye(n,t),A=c=>c>1?1:c<0?0:c,l=c=>{for(var f=c>1?1:c,h=f,g=0;g<8;++g){var v=i(h)-f,b=a(h);if(Math.abs(v-f)<zE||b<zE)return s(h);h=A(h-v/b)}return s(h)};return l.isStepper=!1,l},gK=function(){return e0e(...Zye(...arguments))},t0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:r=8,dt:i=17}=e,s=(a,A,l)=>{var c=-(a-A)*t,f=l*r,h=l+(c-f)*i/1e3,g=l*i/1e3+a;return Math.abs(g-A)<zE&&Math.abs(h)<zE?[A,0]:[g,h]};return s.isStepper=!0,s.dt=i,s},n0e=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gK(n);case"spring":return t0e();default:if(n.split("(")[0]==="cubic-bezier")return gK(n)}return typeof n=="function"?n:null};function r0e(n){var e,t=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var A=a,[l,...c]=A;if(typeof l=="number"){i=n.setTimeout(s.bind(null,c),l);return}s(l),i=n.setTimeout(s.bind(null,c));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class i0e{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=t?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function s0e(){return r0e(new i0e)}var a0e=I.createContext(s0e);function o0e(n,e){var t=I.useContext(a0e);return I.useMemo(()=>e??t(n),[n,e,t])}var A0e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Dw={devToolsEnabled:!1,isSsr:A0e()},l0e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mK={t:0},YI={t:1};function QR(n){var e=Ba(n,l0e),{isActive:t,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:A,onAnimationStart:l,children:c}=e,f=t==="auto"?!Dw.isSsr:t,h=o0e(e.animationId,e.animationManager),[g,v]=I.useState(f?mK:YI),b=I.useRef(null);return I.useEffect(()=>{f||v(YI)},[f]),I.useEffect(()=>{if(!f||!r)return Tw;var B=jye(mK,YI,n0e(s),i,v,h.getTimeoutController()),S=()=>{b.current=B()};return h.start([l,a,S,i,A]),()=>{h.stop(),b.current&&b.current(),A()}},[f,r,i,s,a,l,A,h]),c(g.t)}function NR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=I.useRef(yy(e)),r=I.useRef(n);return r.current!==n&&(t.current=yy(e),r.current=n),t.current}var u0e=["radius"],c0e=["radius"];function vK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vK(Object(t),!0).forEach(function(r){f0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function f0e(n,e,t){return(e=d0e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function d0e(n){var e=h0e(n,"string");return typeof e=="symbol"?e:e+""}function h0e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qE(){return qE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qE.apply(null,arguments)}function wK(n,e){if(n==null)return{};var t,r,i=p0e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function p0e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var CK=(n,e,t,r,i)=>{var s=Math.min(Math.abs(t)/2,Math.abs(r)/2),a=r>=0?1:-1,A=t>=0?1:-1,l=r>=0&&t>=0||r<0&&t<0?1:0,c;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=i[h]>s?s:i[h];c="M".concat(n,",").concat(e+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(l,",").concat(n+A*f[0],",").concat(e)),c+="L ".concat(n+t-A*f[1],",").concat(e),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*f[1])),c+="L ".concat(n+t,",").concat(e+r-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(l,`,
        `).concat(n+t-A*f[2],",").concat(e+r)),c+="L ".concat(n+A*f[3],",").concat(e+r),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+r-a*f[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);c="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+A*v,",").concat(e,`
            L `).concat(n+t-A*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+r-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-A*v,",").concat(e+r,`
            L `).concat(n+A*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+r-a*v," Z")}else c="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(r," h ").concat(-t," Z");return c},BK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k$=n=>{var e=Ba(n,BK),t=I.useRef(null),[r,i]=I.useState(-1);I.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var z=t.current.getTotalLength();z&&i(z)}catch{}},[]);var{x:s,y:a,width:A,height:l,radius:c,className:f}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:B}=e,S=I.useRef(A),x=I.useRef(l),_=I.useRef(s),T=I.useRef(a),M=I.useMemo(()=>({x:s,y:a,width:A,height:l,radius:c}),[s,a,A,l,c]),F=NR(M,"rectangle-");if(s!==+s||a!==+a||A!==+A||l!==+l||A===0||l===0)return null;var R=kt("recharts-rectangle",f);if(!B){var L=ya(e),{radius:K}=L,O=wK(L,u0e);return I.createElement("path",qE({},O,{radius:typeof c=="number"?c:void 0,className:R,d:CK(s,a,A,l,c)}))}var $=S.current,G=x.current,Y=_.current,J=T.current,ne="0px ".concat(r===-1?1:r,"px"),fe="".concat(r,"px 0px"),H=P$(["strokeDasharray"],g,typeof h=="string"?h:BK.animationEasing);return I.createElement(QR,{animationId:F,key:F,canBegin:r>0,duration:g,easing:h,isActive:B,begin:v},z=>{var oe=zr($,A,z),le=zr(G,l,z),Ce=zr(Y,s,z),V=zr(J,a,z);t.current&&(S.current=oe,x.current=le,_.current=Ce,T.current=V);var W;b?z>0?W={transition:H,strokeDasharray:fe}:W={strokeDasharray:ne}:W={strokeDasharray:fe};var ae=ya(e),{radius:ue}=ae,we=wK(ae,c0e);return I.createElement("path",qE({},we,{radius:typeof c=="number"?c:void 0,className:R,d:CK(Ce,V,oe,le,c),ref:t,style:yK(yK({},W),e.style)}))})};function bK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function EK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bK(Object(t),!0).forEach(function(r){g0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function g0e(n,e,t){return(e=m0e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function m0e(n){var e=v0e(n,"string");return typeof e=="symbol"?e:e+""}function v0e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $E=Math.PI/180,y0e=n=>n*180/Math.PI,Xr=(n,e,t,r)=>({x:n+Math.cos(-$E*r)*t,y:e+Math.sin(-$E*r)*t}),w0e=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},C0e=(n,e)=>{var{x:t,y:r}=n,{x:i,y:s}=e;return Math.sqrt((t-i)**2+(r-s)**2)},B0e=(n,e)=>{var{x:t,y:r}=n,{cx:i,cy:s}=e,a=C0e({x:t,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var A=(t-i)/a,l=Math.acos(A);return r>s&&(l=2*Math.PI-l),{radius:a,angle:y0e(l),angleInRadian:l}},b0e=n=>{var{startAngle:e,endAngle:t}=n,r=Math.floor(e/360),i=Math.floor(t/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:t-s*360}},E0e=(n,e)=>{var{startAngle:t,endAngle:r}=e,i=Math.floor(t/360),s=Math.floor(r/360),a=Math.min(i,s);return n+a*360},S0e=(n,e)=>{var{chartX:t,chartY:r}=n,{radius:i,angle:s}=B0e({x:t,y:r},e),{innerRadius:a,outerRadius:A}=e;if(i<a||i>A||i===0)return null;var{startAngle:l,endAngle:c}=b0e(e),f=s,h;if(l<=c){for(;f>c;)f-=360;for(;f<l;)f+=360;h=f>=l&&f<=c}else{for(;f>l;)f-=360;for(;f<c;)f+=360;h=f>=c&&f<=l}return h?EK(EK({},e),{},{radius:i,angle:E0e(f,e)}):null};function O$(n){var{cx:e,cy:t,radius:r,startAngle:i,endAngle:s}=n,a=Xr(e,t,r,i),A=Xr(e,t,r,s);return{points:[a,A],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}function AD(){return AD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AD.apply(null,arguments)}var x0e=(n,e)=>{var t=Us(e-n),r=Math.min(Math.abs(e-n),359.999);return t*r},XB=n=>{var{cx:e,cy:t,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:A,cornerIsExternal:l}=n,c=A*(a?1:-1)+r,f=Math.asin(A/c)/$E,h=l?i:i+s*f,g=Xr(e,t,c,h),v=Xr(e,t,r,h),b=l?i-s*f:i,B=Xr(e,t,c*Math.cos(f*$E),b);return{center:g,circleTangency:v,lineTangency:B,theta:f}},H$=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=n,A=x0e(s,a),l=s+A,c=Xr(e,t,i,s),f=Xr(e,t,i,l),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(A)>180),",").concat(+(s>l),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var g=Xr(e,t,r,s),v=Xr(e,t,r,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(A)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},T0e=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:A,startAngle:l,endAngle:c}=n,f=Us(c-l),{circleTangency:h,lineTangency:g,theta:v}=XB({cx:e,cy:t,radius:i,angle:l,sign:f,cornerRadius:s,cornerIsExternal:A}),{circleTangency:b,lineTangency:B,theta:S}=XB({cx:e,cy:t,radius:i,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:A}),x=A?Math.abs(l-c):Math.abs(l-c)-v-S;if(x<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):H$({cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(B.x,",").concat(B.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:M,theta:F}=XB({cx:e,cy:t,radius:r,angle:l,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:A}),{circleTangency:R,lineTangency:L,theta:K}=XB({cx:e,cy:t,radius:r,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:A}),O=A?Math.abs(l-c):Math.abs(l-c)-F-K;if(O<0&&s===0)return"".concat(_,"L").concat(e,",").concat(t,"Z");_+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,"Z")}else _+="L".concat(e,",").concat(t,"Z");return _},_0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},K$=n=>{var e=Ba(n,_0e),{cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:A,cornerIsExternal:l,startAngle:c,endAngle:f,className:h}=e;if(s<i||c===f)return null;var g=kt("recharts-sector",h),v=s-i,b=Xa(a,v,0,!0),B;return b>0&&Math.abs(c-f)<360?B=T0e({cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:A,cornerIsExternal:l,startAngle:c,endAngle:f}):B=H$({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:f}),I.createElement("path",AD({},ya(e),{className:g,d:B}))};function I0e(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(U6(e)){if(n==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:A}=e,l=Xr(r,i,s,A),c=Xr(r,i,a,A);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return O$(e)}}var XI={},WI={},jI={},SK;function U0e(){return SK||(SK=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=H6();function t(r){return e.isSymbol(r)?NaN:Number(r)}n.toNumber=t})(jI)),jI}var xK;function F0e(){return xK||(xK=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=U0e();function t(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}n.toFinite=t})(WI)),WI}var TK;function M0e(){return TK||(TK=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=K6(),t=F0e();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=t.toFinite(i),s===void 0?(s=i,i=0):s=t.toFinite(s),a=a===void 0?i<s?1:-1:t.toFinite(a);const A=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(A);for(let c=0;c<A;c++)l[c]=i,i+=a;return l}n.range=r})(XI)),XI}var JI,_K;function D0e(){return _K||(_K=1,JI=M0e().range),JI}var R0e=D0e();const G$=Ja(R0e);function lc(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function P0e(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function LR(n){let e,t,r;n.length!==2?(e=lc,t=(A,l)=>lc(n(A),l),r=(A,l)=>n(A)-l):(e=n===lc||n===P0e?n:Q0e,t=n,r=n);function i(A,l,c=0,f=A.length){if(c<f){if(e(l,l)!==0)return f;do{const h=c+f>>>1;t(A[h],l)<0?c=h+1:f=h}while(c<f)}return c}function s(A,l,c=0,f=A.length){if(c<f){if(e(l,l)!==0)return f;do{const h=c+f>>>1;t(A[h],l)<=0?c=h+1:f=h}while(c<f)}return c}function a(A,l,c=0,f=A.length){const h=i(A,l,c,f-1);return h>c&&r(A[h-1],l)>-r(A[h],l)?h-1:h}return{left:i,center:a,right:s}}function Q0e(){return 0}function V$(n){return n===null?NaN:+n}function*N0e(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const L0e=LR(lc),Rw=L0e.right;LR(V$).center;class IK extends Map{constructor(e,t=H0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(UK(this,e))}has(e){return super.has(UK(this,e))}set(e,t){return super.set(k0e(this,e),t)}delete(e){return super.delete(O0e(this,e))}}function UK({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function k0e({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function O0e({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function H0e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function K0e(n=lc){if(n===lc)return z$;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function z$(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const G0e=Math.sqrt(50),V0e=Math.sqrt(10),z0e=Math.sqrt(2);function YE(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=G0e?10:s>=V0e?5:s>=z0e?2:1;let A,l,c;return i<0?(c=Math.pow(10,-i)/a,A=Math.round(n*c),l=Math.round(e*c),A/c<n&&++A,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,A=Math.round(n/c),l=Math.round(e/c),A*c<n&&++A,l*c>e&&--l),l<A&&.5<=t&&t<2?YE(n,e,t*2):[A,l,c]}function lD(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,a]=r?YE(e,n,t):YE(n,e,t);if(!(s>=i))return[];const A=s-i+1,l=new Array(A);if(r)if(a<0)for(let c=0;c<A;++c)l[c]=(s-c)/-a;else for(let c=0;c<A;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<A;++c)l[c]=(i+c)/-a;else for(let c=0;c<A;++c)l[c]=(i+c)*a;return l}function uD(n,e,t){return e=+e,n=+n,t=+t,YE(n,e,t)[2]}function cD(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?uD(e,n,t):uD(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function FK(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function MK(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function q$(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?z$:K0e(i);r>t;){if(r-t>600){const l=r-t+1,c=e-t+1,f=Math.log(l),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(l-h)/l)*(c-l/2<0?-1:1),v=Math.max(t,Math.floor(e-c*h/l+g)),b=Math.min(r,Math.floor(e+(l-c)*h/l+g));q$(n,e,v,b,i)}const s=n[e];let a=t,A=r;for(vv(n,t,e),i(n[r],s)>0&&vv(n,t,r);a<A;){for(vv(n,a,A),++a,--A;i(n[a],s)<0;)++a;for(;i(n[A],s)>0;)--A}i(n[t],s)===0?vv(n,t,A):(++A,vv(n,A,r)),A<=e&&(t=A+1),e<=A&&(r=A-1)}return n}function vv(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function q0e(n,e,t){if(n=Float64Array.from(N0e(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return MK(n);if(e>=1)return FK(n);var r,i=(r-1)*e,s=Math.floor(i),a=FK(q$(n,s).subarray(0,s+1)),A=MK(n.subarray(s+1));return a+(A-a)*(i-s)}}function $0e(n,e,t=V$){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),a=+t(n[s],s,n),A=+t(n[s+1],s+1,n);return a+(A-a)*(i-s)}}function Y0e(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function ba(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function _l(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fD=Symbol("implicit");function kR(){var n=new IK,e=[],t=[],r=fD;function i(s){let a=n.get(s);if(a===void 0){if(r!==fD)return r;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new IK;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return kR(e,t).unknown(r)},ba.apply(i,arguments),i}function OR(){var n=kR().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,a,A=!1,l=0,c=0,f=.5;delete n.unknown;function h(){var g=e().length,v=i<r,b=v?i:r,B=v?r:i;s=(B-b)/Math.max(1,g-l+c*2),A&&(s=Math.floor(s)),b+=(B-b-s*(g-l))*f,a=s*(1-l),A&&(b=Math.round(b),a=Math.round(a));var S=Y0e(g).map(function(x){return b+s*x});return t(v?S.reverse():S)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},n.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,A=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(A=!!g,h()):A},n.padding=function(g){return arguments.length?(l=Math.min(1,c=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(c=+g,h()):c},n.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},n.copy=function(){return OR(e(),[r,i]).round(A).paddingInner(l).paddingOuter(c).align(f)},ba.apply(h(),arguments)}function $$(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return $$(e())},n}function X0e(){return $$(OR.apply(null,arguments).paddingInner(1))}function HR(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Y$(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Pw(){}var Ty=.7,XE=1/Ty,op="\\s*([+-]?\\d+)\\s*",_y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W0e=/^#([0-9a-f]{3,8})$/,j0e=new RegExp(`^rgb\\(${op},${op},${op}\\)$`),J0e=new RegExp(`^rgb\\(${Oo},${Oo},${Oo}\\)$`),Z0e=new RegExp(`^rgba\\(${op},${op},${op},${_y}\\)$`),ewe=new RegExp(`^rgba\\(${Oo},${Oo},${Oo},${_y}\\)$`),twe=new RegExp(`^hsl\\(${_y},${Oo},${Oo}\\)$`),nwe=new RegExp(`^hsla\\(${_y},${Oo},${Oo},${_y}\\)$`),DK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HR(Pw,Iy,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:RK,formatHex:RK,formatHex8:rwe,formatHsl:iwe,formatRgb:PK,toString:PK});function RK(){return this.rgb().formatHex()}function rwe(){return this.rgb().formatHex8()}function iwe(){return X$(this).formatHsl()}function PK(){return this.rgb().formatRgb()}function Iy(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=W0e.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?QK(e):t===3?new Yi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?WB(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?WB(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=j0e.exec(n))?new Yi(e[1],e[2],e[3],1):(e=J0e.exec(n))?new Yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Z0e.exec(n))?WB(e[1],e[2],e[3],e[4]):(e=ewe.exec(n))?WB(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=twe.exec(n))?kK(e[1],e[2]/100,e[3]/100,1):(e=nwe.exec(n))?kK(e[1],e[2]/100,e[3]/100,e[4]):DK.hasOwnProperty(n)?QK(DK[n]):n==="transparent"?new Yi(NaN,NaN,NaN,0):null}function QK(n){return new Yi(n>>16&255,n>>8&255,n&255,1)}function WB(n,e,t,r){return r<=0&&(n=e=t=NaN),new Yi(n,e,t,r)}function swe(n){return n instanceof Pw||(n=Iy(n)),n?(n=n.rgb(),new Yi(n.r,n.g,n.b,n.opacity)):new Yi}function dD(n,e,t,r){return arguments.length===1?swe(n):new Yi(n,e,t,r??1)}function Yi(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}HR(Yi,dD,Y$(Pw,{brighter(n){return n=n==null?XE:Math.pow(XE,n),new Yi(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Ty:Math.pow(Ty,n),new Yi(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Yi(yd(this.r),yd(this.g),yd(this.b),WE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NK,formatHex:NK,formatHex8:awe,formatRgb:LK,toString:LK}));function NK(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function awe(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function LK(){const n=WE(this.opacity);return`${n===1?"rgb(":"rgba("}${yd(this.r)}, ${yd(this.g)}, ${yd(this.b)}${n===1?")":`, ${n})`}`}function WE(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function yd(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function tf(n){return n=yd(n),(n<16?"0":"")+n.toString(16)}function kK(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new za(n,e,t,r)}function X$(n){if(n instanceof za)return new za(n.h,n.s,n.l,n.opacity);if(n instanceof Pw||(n=Iy(n)),!n)return new za;if(n instanceof za)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),a=NaN,A=s-i,l=(s+i)/2;return A?(e===s?a=(t-r)/A+(t<r)*6:t===s?a=(r-e)/A+2:a=(e-t)/A+4,A/=l<.5?s+i:2-s-i,a*=60):A=l>0&&l<1?0:a,new za(a,A,l,n.opacity)}function owe(n,e,t,r){return arguments.length===1?X$(n):new za(n,e,t,r??1)}function za(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}HR(za,owe,Y$(Pw,{brighter(n){return n=n==null?XE:Math.pow(XE,n),new za(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ty:Math.pow(Ty,n),new za(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Yi(ZI(n>=240?n-240:n+120,i,r),ZI(n,i,r),ZI(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new za(OK(this.h),jB(this.s),jB(this.l),WE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=WE(this.opacity);return`${n===1?"hsl(":"hsla("}${OK(this.h)}, ${jB(this.s)*100}%, ${jB(this.l)*100}%${n===1?")":`, ${n})`}`}}));function OK(n){return n=(n||0)%360,n<0?n+360:n}function jB(n){return Math.max(0,Math.min(1,n||0))}function ZI(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const KR=n=>()=>n;function Awe(n,e){return function(t){return n+t*e}}function lwe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function uwe(n){return(n=+n)==1?W$:function(e,t){return t-e?lwe(e,t,n):KR(isNaN(e)?t:e)}}function W$(n,e){var t=e-n;return t?Awe(n,t):KR(isNaN(n)?e:n)}const HK=(function n(e){var t=uwe(e);function r(i,s){var a=t((i=dD(i)).r,(s=dD(s)).r),A=t(i.g,s.g),l=t(i.b,s.b),c=W$(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=A(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=n,r})(1);function cwe(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function fwe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function dwe(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),a;for(a=0;a<r;++a)i[a]=rm(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(A){for(a=0;a<r;++a)s[a]=i[a](A);return s}}function hwe(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function jE(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function pwe(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=rm(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var hD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eU=new RegExp(hD.source,"g");function gwe(n){return function(){return n}}function mwe(n){return function(e){return n(e)+""}}function vwe(n,e){var t=hD.lastIndex=eU.lastIndex=0,r,i,s,a=-1,A=[],l=[];for(n=n+"",e=e+"";(r=hD.exec(n))&&(i=eU.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),A[a]?A[a]+=s:A[++a]=s),(r=r[0])===(i=i[0])?A[a]?A[a]+=i:A[++a]=i:(A[++a]=null,l.push({i:a,x:jE(r,i)})),t=eU.lastIndex;return t<e.length&&(s=e.slice(t),A[a]?A[a]+=s:A[++a]=s),A.length<2?l[0]?mwe(l[0].x):gwe(e):(e=l.length,function(c){for(var f=0,h;f<e;++f)A[(h=l[f]).i]=h.x(c);return A.join("")})}function rm(n,e){var t=typeof e,r;return e==null||t==="boolean"?KR(e):(t==="number"?jE:t==="string"?(r=Iy(e))?(e=r,HK):vwe:e instanceof Iy?HK:e instanceof Date?hwe:fwe(e)?cwe:Array.isArray(e)?dwe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pwe:jE)(n,e)}function GR(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function ywe(n,e){e===void 0&&(e=n,n=rm);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(a){var A=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[A](a-A)}}function wwe(n){return function(){return n}}function JE(n){return+n}var KK=[0,1];function bi(n){return n}function pD(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:wwe(isNaN(e)?NaN:.5)}function Cwe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function Bwe(n,e,t){var r=n[0],i=n[1],s=e[0],a=e[1];return i<r?(r=pD(i,r),s=t(a,s)):(r=pD(r,i),s=t(s,a)),function(A){return s(r(A))}}function bwe(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=pD(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(A){var l=Rw(n,A,1,r)-1;return s[l](i[l](A))}}function Qw(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function _x(){var n=KK,e=KK,t=rm,r,i,s,a=bi,A,l,c;function f(){var g=Math.min(n.length,e.length);return a!==bi&&(a=Cwe(n[0],n[g-1])),A=g>2?bwe:Bwe,l=c=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=A(n.map(r),e,t)))(r(a(g)))}return h.invert=function(g){return a(i((c||(c=A(e,n.map(r),jE)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,JE),f()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=GR,f()},h.clamp=function(g){return arguments.length?(a=g?!0:bi,f()):a!==bi},h.interpolate=function(g){return arguments.length?(t=g,f()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return r=g,i=v,f()}}function VR(){return _x()(bi,bi)}function Ewe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function ZE(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function Gg(n){return n=ZE(Math.abs(n)),n?n[1]:NaN}function Swe(n,e){return function(t,r){for(var i=t.length,s=[],a=0,A=n[0],l=0;i>0&&A>0&&(l+A+1>r&&(A=Math.max(1,r-l)),s.push(t.substring(i-=A,i+A)),!((l+=A+1)>r));)A=n[a=(a+1)%n.length];return s.reverse().join(e)}}function xwe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var Twe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uy(n){if(!(e=Twe.exec(n)))throw new Error("invalid format: "+n);var e;return new zR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Uy.prototype=zR.prototype;function zR(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}zR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _we(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var j$;function Iwe(n,e){var t=ZE(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(j$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ZE(n,Math.max(0,e+s-1))[0]}function GK(n,e){var t=ZE(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const VK={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Ewe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>GK(n*100,e),r:GK,s:Iwe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function zK(n){return n}var qK=Array.prototype.map,$K=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Uwe(n){var e=n.grouping===void 0||n.thousands===void 0?zK:Swe(qK.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?zK:xwe(qK.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",A=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(h){h=Uy(h);var g=h.fill,v=h.align,b=h.sign,B=h.symbol,S=h.zero,x=h.width,_=h.comma,T=h.precision,M=h.trim,F=h.type;F==="n"?(_=!0,F="g"):VK[F]||(T===void 0&&(T=12),M=!0,F="g"),(S||g==="0"&&v==="=")&&(S=!0,g="0",v="=");var R=B==="$"?t:B==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",L=B==="$"?r:/[%p]/.test(F)?a:"",K=VK[F],O=/[defgprs%]/.test(F);T=T===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function $(G){var Y=R,J=L,ne,fe,H;if(F==="c")J=K(G)+J,G="";else{G=+G;var z=G<0||1/G<0;if(G=isNaN(G)?l:K(Math.abs(G),T),M&&(G=_we(G)),z&&+G==0&&b!=="+"&&(z=!1),Y=(z?b==="("?b:A:b==="-"||b==="("?"":b)+Y,J=(F==="s"?$K[8+j$/3]:"")+J+(z&&b==="("?")":""),O){for(ne=-1,fe=G.length;++ne<fe;)if(H=G.charCodeAt(ne),48>H||H>57){J=(H===46?i+G.slice(ne+1):G.slice(ne))+J,G=G.slice(0,ne);break}}}_&&!S&&(G=e(G,1/0));var oe=Y.length+G.length+J.length,le=oe<x?new Array(x-oe+1).join(g):"";switch(_&&S&&(G=e(le+G,le.length?x-J.length:1/0),le=""),v){case"<":G=Y+G+J+le;break;case"=":G=Y+le+G+J;break;case"^":G=le.slice(0,oe=le.length>>1)+Y+G+J+le.slice(oe);break;default:G=le+Y+G+J;break}return s(G)}return $.toString=function(){return h+""},$}function f(h,g){var v=c((h=Uy(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(Gg(g)/3)))*3,B=Math.pow(10,-b),S=$K[8+b/3];return function(x){return v(B*x)+S}}return{format:c,formatPrefix:f}}var JB,qR,J$;Fwe({thousands:",",grouping:[3],currency:["$",""]});function Fwe(n){return JB=Uwe(n),qR=JB.format,J$=JB.formatPrefix,JB}function Mwe(n){return Math.max(0,-Gg(Math.abs(n)))}function Dwe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gg(e)/3)))*3-Gg(Math.abs(n)))}function Rwe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Gg(e)-Gg(n))+1}function Z$(n,e,t,r){var i=cD(n,e,t),s;switch(r=Uy(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=Dwe(i,a))&&(r.precision=s),J$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Rwe(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Mwe(i))&&(r.precision=s-(r.type==="%")*2);break}}return qR(r)}function wc(n){var e=n.domain;return n.ticks=function(t){var r=e();return lD(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return Z$(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,a=r[i],A=r[s],l,c,f=10;for(A<a&&(c=a,a=A,A=c,c=i,i=s,s=c);f-- >0;){if(c=uD(a,A,t),c===l)return r[i]=a,r[s]=A,e(r);if(c>0)a=Math.floor(a/c)*c,A=Math.ceil(A/c)*c;else if(c<0)a=Math.ceil(a*c)/c,A=Math.floor(A*c)/c;else break;l=c}return n},n}function eY(){var n=VR();return n.copy=function(){return Qw(n,eY())},ba.apply(n,arguments),wc(n)}function tY(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,JE),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return tY(n).unknown(e)},n=arguments.length?Array.from(n,JE):[0,1],wc(t)}function nY(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],a;return s<i&&(a=t,t=r,r=a,a=i,i=s,s=a),n[t]=e.floor(i),n[r]=e.ceil(s),n}function YK(n){return Math.log(n)}function XK(n){return Math.exp(n)}function Pwe(n){return-Math.log(-n)}function Qwe(n){return-Math.exp(-n)}function Nwe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Lwe(n){return n===10?Nwe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function kwe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function WK(n){return(e,t)=>-n(-e,t)}function $R(n){const e=n(YK,XK),t=e.domain;let r=10,i,s;function a(){return i=kwe(r),s=Lwe(r),t()[0]<0?(i=WK(i),s=WK(s),n(Pwe,Qwe)):n(YK,XK),e}return e.base=function(A){return arguments.length?(r=+A,a()):r},e.domain=function(A){return arguments.length?(t(A),a()):t()},e.ticks=A=>{const l=t();let c=l[0],f=l[l.length-1];const h=f<c;h&&([c,f]=[f,c]);let g=i(c),v=i(f),b,B;const S=A==null?10:+A;let x=[];if(!(r%1)&&v-g<S){if(g=Math.floor(g),v=Math.ceil(v),c>0){for(;g<=v;++g)for(b=1;b<r;++b)if(B=g<0?b/s(-g):b*s(g),!(B<c)){if(B>f)break;x.push(B)}}else for(;g<=v;++g)for(b=r-1;b>=1;--b)if(B=g>0?b/s(-g):b*s(g),!(B<c)){if(B>f)break;x.push(B)}x.length*2<S&&(x=lD(c,f,S))}else x=lD(g,v,Math.min(v-g,S)).map(s);return h?x.reverse():x},e.tickFormat=(A,l)=>{if(A==null&&(A=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Uy(l)).precision==null&&(l.trim=!0),l=qR(l)),A===1/0)return l;const c=Math.max(1,r*A/e.ticks().length);return f=>{let h=f/s(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=c?l(f):""}},e.nice=()=>t(nY(t(),{floor:A=>s(Math.floor(i(A))),ceil:A=>s(Math.ceil(i(A)))})),e}function rY(){const n=$R(_x()).domain([1,10]);return n.copy=()=>Qw(n,rY()).base(n.base()),ba.apply(n,arguments),n}function jK(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function JK(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function YR(n){var e=1,t=n(jK(e),JK(e));return t.constant=function(r){return arguments.length?n(jK(e=+r),JK(e)):e},wc(t)}function iY(){var n=YR(_x());return n.copy=function(){return Qw(n,iY()).constant(n.constant())},ba.apply(n,arguments)}function ZK(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function Owe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Hwe(n){return n<0?-n*n:n*n}function XR(n){var e=n(bi,bi),t=1;function r(){return t===1?n(bi,bi):t===.5?n(Owe,Hwe):n(ZK(t),ZK(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},wc(e)}function WR(){var n=XR(_x());return n.copy=function(){return Qw(n,WR()).exponent(n.exponent())},ba.apply(n,arguments),n}function Kwe(){return WR.apply(null,arguments).exponent(.5)}function eG(n){return Math.sign(n)*n*n}function Gwe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function sY(){var n=VR(),e=[0,1],t=!1,r;function i(s){var a=Gwe(n(s));return isNaN(a)?r:t?Math.round(a):a}return i.invert=function(s){return n.invert(eG(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,JE)).map(eG)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return sY(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},ba.apply(i,arguments),wc(i)}function aY(){var n=[],e=[],t=[],r;function i(){var a=0,A=Math.max(1,e.length);for(t=new Array(A-1);++a<A;)t[a-1]=$0e(n,a/A);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Rw(t,a)]}return s.invertExtent=function(a){var A=e.indexOf(a);return A<0?[NaN,NaN]:[A>0?t[A-1]:n[0],A<t.length?t[A]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let A of a)A!=null&&!isNaN(A=+A)&&n.push(A);return n.sort(lc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return aY().domain(n).range(e).unknown(r)},ba.apply(s,arguments)}function oY(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Rw(r,l,0,t)]:s}function A(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,A()):[n,e]},a.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,A()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=t?[r[t-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return oY().domain([n,e]).range(i).unknown(s)},ba.apply(wc(a),arguments)}function AY(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[Rw(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return AY().domain(n).range(e).unknown(t)},ba.apply(i,arguments)}const tU=new Date,nU=new Date;function lr(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const a=i(s),A=i.ceil(s);return s-a<A-s?a:A},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,A)=>{const l=[];if(s=i.ceil(s),A=A==null?1:Math.floor(A),!(s<a)||!(A>0))return l;let c;do l.push(c=new Date(+s)),e(s,A),n(s);while(c<s&&s<a);return l},i.filter=s=>lr(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,A)=>{if(a>=a)if(A<0)for(;++A<=0;)for(;e(a,-1),!s(a););else for(;--A>=0;)for(;e(a,1),!s(a););}),t&&(i.count=(s,a)=>(tU.setTime(+s),nU.setTime(+a),n(tU),n(nU),Math.floor(t(tU,nU))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const eS=lr(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);eS.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?lr(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):eS);eS.range;const tl=1e3,pa=tl*60,nl=pa*60,gl=nl*24,jR=gl*7,tG=gl*30,rU=gl*365,nf=lr(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*tl)},(n,e)=>(e-n)/tl,n=>n.getUTCSeconds());nf.range;const JR=lr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*tl)},(n,e)=>{n.setTime(+n+e*pa)},(n,e)=>(e-n)/pa,n=>n.getMinutes());JR.range;const ZR=lr(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*pa)},(n,e)=>(e-n)/pa,n=>n.getUTCMinutes());ZR.range;const eP=lr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*tl-n.getMinutes()*pa)},(n,e)=>{n.setTime(+n+e*nl)},(n,e)=>(e-n)/nl,n=>n.getHours());eP.range;const tP=lr(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*nl)},(n,e)=>(e-n)/nl,n=>n.getUTCHours());tP.range;const Nw=lr(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*pa)/gl,n=>n.getDate()-1);Nw.range;const Ix=lr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/gl,n=>n.getUTCDate()-1);Ix.range;const lY=lr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/gl,n=>Math.floor(n/gl));lY.range;function Pd(n){return lr(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pa)/jR)}const Ux=Pd(0),tS=Pd(1),Vwe=Pd(2),zwe=Pd(3),Vg=Pd(4),qwe=Pd(5),$we=Pd(6);Ux.range;tS.range;Vwe.range;zwe.range;Vg.range;qwe.range;$we.range;function Qd(n){return lr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/jR)}const Fx=Qd(0),nS=Qd(1),Ywe=Qd(2),Xwe=Qd(3),zg=Qd(4),Wwe=Qd(5),jwe=Qd(6);Fx.range;nS.range;Ywe.range;Xwe.range;zg.range;Wwe.range;jwe.range;const nP=lr(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());nP.range;const rP=lr(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());rP.range;const ml=lr(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());ml.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:lr(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});ml.range;const vl=lr(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());vl.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:lr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});vl.range;function uY(n,e,t,r,i,s){const a=[[nf,1,tl],[nf,5,5*tl],[nf,15,15*tl],[nf,30,30*tl],[s,1,pa],[s,5,5*pa],[s,15,15*pa],[s,30,30*pa],[i,1,nl],[i,3,3*nl],[i,6,6*nl],[i,12,12*nl],[r,1,gl],[r,2,2*gl],[t,1,jR],[e,1,tG],[e,3,3*tG],[n,1,rU]];function A(c,f,h){const g=f<c;g&&([c,f]=[f,c]);const v=h&&typeof h.range=="function"?h:l(c,f,h),b=v?v.range(c,+f+1):[];return g?b.reverse():b}function l(c,f,h){const g=Math.abs(f-c)/h,v=LR(([,,S])=>S).right(a,g);if(v===a.length)return n.every(cD(c/rU,f/rU,h));if(v===0)return eS.every(Math.max(cD(c,f,h),1));const[b,B]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(B)}return[A,l]}const[Jwe,Zwe]=uY(vl,rP,Fx,lY,tP,ZR),[eCe,tCe]=uY(ml,nP,Ux,Nw,eP,JR);function iU(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function sU(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function yv(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function nCe(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,a=n.shortDays,A=n.months,l=n.shortMonths,c=wv(i),f=Cv(i),h=wv(s),g=Cv(s),v=wv(a),b=Cv(a),B=wv(A),S=Cv(A),x=wv(l),_=Cv(l),T={a:z,A:oe,b:le,B:Ce,c:null,d:oG,e:oG,f:SCe,g:PCe,G:NCe,H:BCe,I:bCe,j:ECe,L:cY,m:xCe,M:TCe,p:V,q:W,Q:uG,s:cG,S:_Ce,u:ICe,U:UCe,V:FCe,w:MCe,W:DCe,x:null,X:null,y:RCe,Y:QCe,Z:LCe,"%":lG},M={a:ae,A:ue,b:we,B:ve,c:null,d:AG,e:AG,f:KCe,g:JCe,G:eBe,H:kCe,I:OCe,j:HCe,L:dY,m:GCe,M:VCe,p:ye,q:rt,Q:uG,s:cG,S:zCe,u:qCe,U:$Ce,V:YCe,w:XCe,W:WCe,x:null,X:null,y:jCe,Y:ZCe,Z:tBe,"%":lG},F={a:$,A:G,b:Y,B:J,c:ne,d:sG,e:sG,f:vCe,g:iG,G:rG,H:aG,I:aG,j:hCe,L:mCe,m:dCe,M:pCe,p:O,q:fCe,Q:wCe,s:CCe,S:gCe,u:oCe,U:ACe,V:lCe,w:aCe,W:uCe,x:fe,X:H,y:iG,Y:rG,Z:cCe,"%":yCe};T.x=R(t,T),T.X=R(r,T),T.c=R(e,T),M.x=R(t,M),M.X=R(r,M),M.c=R(e,M);function R(re,be){return function(ke){var he=[],He=-1,Ie=0,Ke=re.length,tt,Cn,dr;for(ke instanceof Date||(ke=new Date(+ke));++He<Ke;)re.charCodeAt(He)===37&&(he.push(re.slice(Ie,He)),(Cn=nG[tt=re.charAt(++He)])!=null?tt=re.charAt(++He):Cn=tt==="e"?" ":"0",(dr=be[tt])&&(tt=dr(ke,Cn)),he.push(tt),Ie=He+1);return he.push(re.slice(Ie,He)),he.join("")}}function L(re,be){return function(ke){var he=yv(1900,void 0,1),He=K(he,re,ke+="",0),Ie,Ke;if(He!=ke.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(be&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ie=sU(yv(he.y,0,1)),Ke=Ie.getUTCDay(),Ie=Ke>4||Ke===0?nS.ceil(Ie):nS(Ie),Ie=Ix.offset(Ie,(he.V-1)*7),he.y=Ie.getUTCFullYear(),he.m=Ie.getUTCMonth(),he.d=Ie.getUTCDate()+(he.w+6)%7):(Ie=iU(yv(he.y,0,1)),Ke=Ie.getDay(),Ie=Ke>4||Ke===0?tS.ceil(Ie):tS(Ie),Ie=Nw.offset(Ie,(he.V-1)*7),he.y=Ie.getFullYear(),he.m=Ie.getMonth(),he.d=Ie.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Ke="Z"in he?sU(yv(he.y,0,1)).getUTCDay():iU(yv(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Ke+5)%7:he.w+he.U*7-(Ke+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,sU(he)):iU(he)}}function K(re,be,ke,he){for(var He=0,Ie=be.length,Ke=ke.length,tt,Cn;He<Ie;){if(he>=Ke)return-1;if(tt=be.charCodeAt(He++),tt===37){if(tt=be.charAt(He++),Cn=F[tt in nG?be.charAt(He++):tt],!Cn||(he=Cn(re,ke,he))<0)return-1}else if(tt!=ke.charCodeAt(he++))return-1}return he}function O(re,be,ke){var he=c.exec(be.slice(ke));return he?(re.p=f.get(he[0].toLowerCase()),ke+he[0].length):-1}function $(re,be,ke){var he=v.exec(be.slice(ke));return he?(re.w=b.get(he[0].toLowerCase()),ke+he[0].length):-1}function G(re,be,ke){var he=h.exec(be.slice(ke));return he?(re.w=g.get(he[0].toLowerCase()),ke+he[0].length):-1}function Y(re,be,ke){var he=x.exec(be.slice(ke));return he?(re.m=_.get(he[0].toLowerCase()),ke+he[0].length):-1}function J(re,be,ke){var he=B.exec(be.slice(ke));return he?(re.m=S.get(he[0].toLowerCase()),ke+he[0].length):-1}function ne(re,be,ke){return K(re,e,be,ke)}function fe(re,be,ke){return K(re,t,be,ke)}function H(re,be,ke){return K(re,r,be,ke)}function z(re){return a[re.getDay()]}function oe(re){return s[re.getDay()]}function le(re){return l[re.getMonth()]}function Ce(re){return A[re.getMonth()]}function V(re){return i[+(re.getHours()>=12)]}function W(re){return 1+~~(re.getMonth()/3)}function ae(re){return a[re.getUTCDay()]}function ue(re){return s[re.getUTCDay()]}function we(re){return l[re.getUTCMonth()]}function ve(re){return A[re.getUTCMonth()]}function ye(re){return i[+(re.getUTCHours()>=12)]}function rt(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var be=R(re+="",T);return be.toString=function(){return re},be},parse:function(re){var be=L(re+="",!1);return be.toString=function(){return re},be},utcFormat:function(re){var be=R(re+="",M);return be.toString=function(){return re},be},utcParse:function(re){var be=L(re+="",!0);return be.toString=function(){return re},be}}}var nG={"-":"",_:" ",0:"0"},Ur=/^\s*\d+/,rCe=/^%/,iCe=/[\\^$*+?|[\]().{}]/g;function Tt(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function sCe(n){return n.replace(iCe,"\\$&")}function wv(n){return new RegExp("^(?:"+n.map(sCe).join("|")+")","i")}function Cv(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function aCe(n,e,t){var r=Ur.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function oCe(n,e,t){var r=Ur.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function ACe(n,e,t){var r=Ur.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function lCe(n,e,t){var r=Ur.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function uCe(n,e,t){var r=Ur.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function rG(n,e,t){var r=Ur.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function iG(n,e,t){var r=Ur.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function cCe(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function fCe(n,e,t){var r=Ur.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function dCe(n,e,t){var r=Ur.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function sG(n,e,t){var r=Ur.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function hCe(n,e,t){var r=Ur.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function aG(n,e,t){var r=Ur.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function pCe(n,e,t){var r=Ur.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function gCe(n,e,t){var r=Ur.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function mCe(n,e,t){var r=Ur.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function vCe(n,e,t){var r=Ur.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function yCe(n,e,t){var r=rCe.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function wCe(n,e,t){var r=Ur.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function CCe(n,e,t){var r=Ur.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function oG(n,e){return Tt(n.getDate(),e,2)}function BCe(n,e){return Tt(n.getHours(),e,2)}function bCe(n,e){return Tt(n.getHours()%12||12,e,2)}function ECe(n,e){return Tt(1+Nw.count(ml(n),n),e,3)}function cY(n,e){return Tt(n.getMilliseconds(),e,3)}function SCe(n,e){return cY(n,e)+"000"}function xCe(n,e){return Tt(n.getMonth()+1,e,2)}function TCe(n,e){return Tt(n.getMinutes(),e,2)}function _Ce(n,e){return Tt(n.getSeconds(),e,2)}function ICe(n){var e=n.getDay();return e===0?7:e}function UCe(n,e){return Tt(Ux.count(ml(n)-1,n),e,2)}function fY(n){var e=n.getDay();return e>=4||e===0?Vg(n):Vg.ceil(n)}function FCe(n,e){return n=fY(n),Tt(Vg.count(ml(n),n)+(ml(n).getDay()===4),e,2)}function MCe(n){return n.getDay()}function DCe(n,e){return Tt(tS.count(ml(n)-1,n),e,2)}function RCe(n,e){return Tt(n.getFullYear()%100,e,2)}function PCe(n,e){return n=fY(n),Tt(n.getFullYear()%100,e,2)}function QCe(n,e){return Tt(n.getFullYear()%1e4,e,4)}function NCe(n,e){var t=n.getDay();return n=t>=4||t===0?Vg(n):Vg.ceil(n),Tt(n.getFullYear()%1e4,e,4)}function LCe(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tt(e/60|0,"0",2)+Tt(e%60,"0",2)}function AG(n,e){return Tt(n.getUTCDate(),e,2)}function kCe(n,e){return Tt(n.getUTCHours(),e,2)}function OCe(n,e){return Tt(n.getUTCHours()%12||12,e,2)}function HCe(n,e){return Tt(1+Ix.count(vl(n),n),e,3)}function dY(n,e){return Tt(n.getUTCMilliseconds(),e,3)}function KCe(n,e){return dY(n,e)+"000"}function GCe(n,e){return Tt(n.getUTCMonth()+1,e,2)}function VCe(n,e){return Tt(n.getUTCMinutes(),e,2)}function zCe(n,e){return Tt(n.getUTCSeconds(),e,2)}function qCe(n){var e=n.getUTCDay();return e===0?7:e}function $Ce(n,e){return Tt(Fx.count(vl(n)-1,n),e,2)}function hY(n){var e=n.getUTCDay();return e>=4||e===0?zg(n):zg.ceil(n)}function YCe(n,e){return n=hY(n),Tt(zg.count(vl(n),n)+(vl(n).getUTCDay()===4),e,2)}function XCe(n){return n.getUTCDay()}function WCe(n,e){return Tt(nS.count(vl(n)-1,n),e,2)}function jCe(n,e){return Tt(n.getUTCFullYear()%100,e,2)}function JCe(n,e){return n=hY(n),Tt(n.getUTCFullYear()%100,e,2)}function ZCe(n,e){return Tt(n.getUTCFullYear()%1e4,e,4)}function eBe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?zg(n):zg.ceil(n),Tt(n.getUTCFullYear()%1e4,e,4)}function tBe(){return"+0000"}function lG(){return"%"}function uG(n){return+n}function cG(n){return Math.floor(+n/1e3)}var Uh,pY,gY;nBe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nBe(n){return Uh=nCe(n),pY=Uh.format,Uh.parse,gY=Uh.utcFormat,Uh.utcParse,Uh}function rBe(n){return new Date(n)}function iBe(n){return n instanceof Date?+n:+new Date(+n)}function iP(n,e,t,r,i,s,a,A,l,c){var f=VR(),h=f.invert,g=f.domain,v=c(".%L"),b=c(":%S"),B=c("%I:%M"),S=c("%I %p"),x=c("%a %d"),_=c("%b %d"),T=c("%B"),M=c("%Y");function F(R){return(l(R)<R?v:A(R)<R?b:a(R)<R?B:s(R)<R?S:r(R)<R?i(R)<R?x:_:t(R)<R?T:M)(R)}return f.invert=function(R){return new Date(h(R))},f.domain=function(R){return arguments.length?g(Array.from(R,iBe)):g().map(rBe)},f.ticks=function(R){var L=g();return n(L[0],L[L.length-1],R??10)},f.tickFormat=function(R,L){return L==null?F:c(L)},f.nice=function(R){var L=g();return(!R||typeof R.range!="function")&&(R=e(L[0],L[L.length-1],R??10)),R?g(nY(L,R)):f},f.copy=function(){return Qw(f,iP(n,e,t,r,i,s,a,A,l,c))},f}function sBe(){return ba.apply(iP(eCe,tCe,ml,nP,Ux,Nw,eP,JR,nf,pY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aBe(){return ba.apply(iP(Jwe,Zwe,vl,rP,Fx,Ix,tP,ZR,nf,gY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mx(){var n=0,e=1,t,r,i,s,a=bi,A=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-t)*i,A?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),c):[n,e]},c.clamp=function(h){return arguments.length?(A=!!h,c):A},c.interpolator=function(h){return arguments.length?(a=h,c):a};function f(h){return function(g){var v,b;return arguments.length?([v,b]=g,a=h(v,b),c):[a(0),a(1)]}}return c.range=f(rm),c.rangeRound=f(GR),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,t=h(n),r=h(e),i=t===r?0:1/(r-t),c}}function Cc(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function mY(){var n=wc(Mx()(bi));return n.copy=function(){return Cc(n,mY())},_l.apply(n,arguments)}function vY(){var n=$R(Mx()).domain([1,10]);return n.copy=function(){return Cc(n,vY()).base(n.base())},_l.apply(n,arguments)}function yY(){var n=YR(Mx());return n.copy=function(){return Cc(n,yY()).constant(n.constant())},_l.apply(n,arguments)}function sP(){var n=XR(Mx());return n.copy=function(){return Cc(n,sP()).exponent(n.exponent())},_l.apply(n,arguments)}function oBe(){return sP.apply(null,arguments).exponent(.5)}function wY(){var n=[],e=bi;function t(r){if(r!=null&&!isNaN(r=+r))return e((Rw(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(lc),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>q0e(n,s/r))},t.copy=function(){return wY(e).domain(n)},_l.apply(t,arguments)}function Dx(){var n=0,e=.5,t=1,r=1,i,s,a,A,l,c=bi,f,h=!1,g;function v(B){return isNaN(B=+B)?g:(B=.5+((B=+f(B))-s)*(r*B<r*s?A:l),c(h?Math.max(0,Math.min(1,B)):B))}v.domain=function(B){return arguments.length?([n,e,t]=B,i=f(n=+n),s=f(e=+e),a=f(t=+t),A=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v):[n,e,t]},v.clamp=function(B){return arguments.length?(h=!!B,v):h},v.interpolator=function(B){return arguments.length?(c=B,v):c};function b(B){return function(S){var x,_,T;return arguments.length?([x,_,T]=S,c=ywe(B,[x,_,T]),v):[c(0),c(.5),c(1)]}}return v.range=b(rm),v.rangeRound=b(GR),v.unknown=function(B){return arguments.length?(g=B,v):g},function(B){return f=B,i=B(n),s=B(e),a=B(t),A=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function CY(){var n=wc(Dx()(bi));return n.copy=function(){return Cc(n,CY())},_l.apply(n,arguments)}function BY(){var n=$R(Dx()).domain([.1,1,10]);return n.copy=function(){return Cc(n,BY()).base(n.base())},_l.apply(n,arguments)}function bY(){var n=YR(Dx());return n.copy=function(){return Cc(n,bY()).constant(n.constant())},_l.apply(n,arguments)}function aP(){var n=XR(Dx());return n.copy=function(){return Cc(n,aP()).exponent(n.exponent())},_l.apply(n,arguments)}function ABe(){return aP.apply(null,arguments).exponent(.5)}const Jv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OR,scaleDiverging:CY,scaleDivergingLog:BY,scaleDivergingPow:aP,scaleDivergingSqrt:ABe,scaleDivergingSymlog:bY,scaleIdentity:tY,scaleImplicit:fD,scaleLinear:eY,scaleLog:rY,scaleOrdinal:kR,scalePoint:X0e,scalePow:WR,scaleQuantile:aY,scaleQuantize:oY,scaleRadial:sY,scaleSequential:mY,scaleSequentialLog:vY,scaleSequentialPow:sP,scaleSequentialQuantile:wY,scaleSequentialSqrt:oBe,scaleSequentialSymlog:yY,scaleSqrt:Kwe,scaleSymlog:iY,scaleThreshold:AY,scaleTime:sBe,scaleUtc:aBe,tickFormat:Z$},Symbol.toStringTag,{value:"Module"}));var Bc=n=>n.chartData,lBe=se([Bc],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),oP=(n,e,t,r)=>r?lBe(n):Bc(n);function pc(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(Gn(e)&&Gn(t))return!0}return!1}function fG(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function EY(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,r]=n,i,s;if(Gn(t))i=t;else if(typeof t=="function")return;if(Gn(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(pc(a))return a}}function uBe(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var r=n(e,t);if(pc(r))return fG(r,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[i,s]=n,a,A;if(i==="auto")e!=null&&(a=Math.min(...e));else if(qe(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&H3.test(i)){var l=H3.exec(i);if(l==null||e==null)a=void 0;else{var c=+l[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(A=Math.max(...e));else if(qe(s))A=s;else if(typeof s=="function")try{e!=null&&(A=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&K3.test(s)){var f=K3.exec(s);if(f==null||e==null)A=void 0;else{var h=+f[1];A=e[1]+h}}else A=e==null?void 0:e[1];var g=[a,A];if(pc(g))return e==null?g:fG(g,e,t)}}}var im=1e9,cBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lP,wn=!0,Ca="[DecimalError] ",wd=Ca+"Invalid argument: ",AP=Ca+"Exponent out of range: ",sm=Math.floor,Xc=Math.pow,fBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Is,xr=1e7,dn=7,SY=9007199254740991,rS=sm(SY/dn),De={};De.absoluteValue=De.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};De.comparedTo=De.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};De.decimalPlaces=De.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*dn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};De.dividedBy=De.div=function(n){return sl(this,new this.constructor(n))};De.dividedToIntegerBy=De.idiv=function(n){var e=this,t=e.constructor;return rn(sl(e,new t(n),0,1),t.precision)};De.equals=De.eq=function(n){return!this.cmp(n)};De.exponent=function(){return Zn(this)};De.greaterThan=De.gt=function(n){return this.cmp(n)>0};De.greaterThanOrEqualTo=De.gte=function(n){return this.cmp(n)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(n){return this.cmp(n)<0};De.lessThanOrEqualTo=De.lte=function(n){return this.cmp(n)<1};De.logarithm=De.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(Is))throw Error(Ca+"NaN");if(t.s<1)throw Error(Ca+(t.s?"NaN":"-Infinity"));return t.eq(Is)?new r(0):(wn=!1,e=sl(Fy(t,s),Fy(n,s),s),wn=!0,rn(e,i))};De.minus=De.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?_Y(e,n):xY(e,(n.s=-n.s,n))};De.modulo=De.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(Ca+"NaN");return t.s?(wn=!1,e=sl(t,n,0,1).times(n),wn=!0,t.minus(e)):rn(new r(t),i)};De.naturalExponential=De.exp=function(){return TY(this)};De.naturalLogarithm=De.ln=function(){return Fy(this)};De.negated=De.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};De.plus=De.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?xY(e,n):_Y(e,(n.s=-n.s,n))};De.precision=De.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(wd+n);if(e=Zn(i)+1,r=i.d.length-1,t=r*dn+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};De.squareRoot=De.sqrt=function(){var n,e,t,r,i,s,a,A=this,l=A.constructor;if(A.s<1){if(!A.s)return new l(0);throw Error(Ca+"NaN")}for(n=Zn(A),wn=!1,i=Math.sqrt(+A),i==0||i==1/0?(e=ko(A.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=sm((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=a=t+3;;)if(s=r,r=s.plus(sl(A,s,a+2)).times(.5),ko(s.d).slice(0,a)===(e=ko(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(rn(s,t+1,0),s.times(s).eq(A)){r=s;break}}else if(e!="9999")break;a+=4}return wn=!0,rn(r,t)};De.times=De.mul=function(n){var e,t,r,i,s,a,A,l,c,f=this,h=f.constructor,g=f.d,v=(n=new h(n)).d;if(!f.s||!n.s)return new h(0);for(n.s*=f.s,t=f.e+n.e,l=g.length,c=v.length,l<c&&(s=g,g=v,v=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)A=s[i]+v[r]*g[i-r-1]+e,s[i--]=A%xr|0,e=A/xr|0;s[i]=(s[i]+e)%xr|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,wn?rn(n,h.precision):n};De.toDecimalPlaces=De.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(Go(n,0,im),e===void 0?e=r.rounding:Go(e,0,8),rn(t,n+Zn(t)+1,e))};De.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=xd(r,!0):(Go(n,0,im),e===void 0?e=i.rounding:Go(e,0,8),r=rn(new i(r),n+1,e),t=xd(r,!0,n+1)),t};De.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?xd(i):(Go(n,0,im),e===void 0?e=s.rounding:Go(e,0,8),r=rn(new s(i),n+Zn(i)+1,e),t=xd(r.abs(),!1,n+Zn(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};De.toInteger=De.toint=function(){var n=this,e=n.constructor;return rn(new e(n),Zn(n)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(n){var e,t,r,i,s,a,A=this,l=A.constructor,c=12,f=+(n=new l(n));if(!n.s)return new l(Is);if(A=new l(A),!A.s){if(n.s<1)throw Error(Ca+"Infinity");return A}if(A.eq(Is))return A;if(r=l.precision,n.eq(Is))return rn(A,r);if(e=n.e,t=n.d.length-1,a=e>=t,s=A.s,a){if((t=f<0?-f:f)<=SY){for(i=new l(Is),e=Math.ceil(r/dn+4),wn=!1;t%2&&(i=i.times(A),hG(i.d,e)),t=sm(t/2),t!==0;)A=A.times(A),hG(A.d,e);return wn=!0,n.s<0?new l(Is).div(i):rn(i,r)}}else if(s<0)throw Error(Ca+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,A.s=1,wn=!1,i=n.times(Fy(A,r+c)),wn=!0,i=TY(i),i.s=s,i};De.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=Zn(i),r=xd(i,t<=s.toExpNeg||t>=s.toExpPos)):(Go(n,1,im),e===void 0?e=s.rounding:Go(e,0,8),i=rn(new s(i),n,e),t=Zn(i),r=xd(i,n<=t||t<=s.toExpNeg,n)),r};De.toSignificantDigits=De.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(Go(n,1,im),e===void 0?e=r.rounding:Go(e,0,8)),rn(new r(t),n,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Zn(n),t=n.constructor;return xd(n,e<=t.toExpNeg||e>=t.toExpPos)};function xY(n,e){var t,r,i,s,a,A,l,c,f=n.constructor,h=f.precision;if(!n.s||!e.s)return e.s||(e=new f(n)),wn?rn(e,h):e;if(l=n.d,c=e.d,a=n.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,A=c.length):(r=c,i=a,A=l.length),a=Math.ceil(h/dn),A=a>A?a+1:A+1,s>A&&(s=A,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(A=l.length,s=c.length,A-s<0&&(s=A,r=c,c=l,l=r),t=0;s;)t=(l[--s]=l[s]+c[s]+t)/xr|0,l[s]%=xr;for(t&&(l.unshift(t),++i),A=l.length;l[--A]==0;)l.pop();return e.d=l,e.e=i,wn?rn(e,h):e}function Go(n,e,t){if(n!==~~n||n<e||n>t)throw Error(wd+n)}function ko(n){var e,t,r,i=n.length-1,s="",a=n[0];if(i>0){for(s+=a,e=1;e<i;e++)r=n[e]+"",t=dn-r.length,t&&(s+=au(t)),s+=r;a=n[e],r=a+"",t=dn-r.length,t&&(s+=au(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var sl=(function(){function n(r,i){var s,a=0,A=r.length;for(r=r.slice();A--;)s=r[A]*i+a,r[A]=s%xr|0,a=s/xr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var A,l;if(s!=a)l=s>a?1:-1;else for(A=l=0;A<s;A++)if(r[A]!=i[A]){l=r[A]>i[A]?1:-1;break}return l}function t(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*xr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var A,l,c,f,h,g,v,b,B,S,x,_,T,M,F,R,L,K,O=r.constructor,$=r.s==i.s?1:-1,G=r.d,Y=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Ca+"Division by zero");for(l=r.e-i.e,L=Y.length,F=G.length,v=new O($),b=v.d=[],c=0;Y[c]==(G[c]||0);)++c;if(Y[c]>(G[c]||0)&&--l,s==null?_=s=O.precision:a?_=s+(Zn(r)-Zn(i))+1:_=s,_<0)return new O(0);if(_=_/dn+2|0,c=0,L==1)for(f=0,Y=Y[0],_++;(c<F||f)&&_--;c++)T=f*xr+(G[c]||0),b[c]=T/Y|0,f=T%Y|0;else{for(f=xr/(Y[0]+1)|0,f>1&&(Y=n(Y,f),G=n(G,f),L=Y.length,F=G.length),M=L,B=G.slice(0,L),S=B.length;S<L;)B[S++]=0;K=Y.slice(),K.unshift(0),R=Y[0],Y[1]>=xr/2&&++R;do f=0,A=e(Y,B,L,S),A<0?(x=B[0],L!=S&&(x=x*xr+(B[1]||0)),f=x/R|0,f>1?(f>=xr&&(f=xr-1),h=n(Y,f),g=h.length,S=B.length,A=e(h,B,g,S),A==1&&(f--,t(h,L<g?K:Y,g))):(f==0&&(A=f=1),h=Y.slice()),g=h.length,g<S&&h.unshift(0),t(B,h,S),A==-1&&(S=B.length,A=e(Y,B,L,S),A<1&&(f++,t(B,L<S?K:Y,S))),S=B.length):A===0&&(f++,B=[0]),b[c++]=f,A&&B[0]?B[S++]=G[M]||0:(B=[G[M]],S=1);while((M++<F||B[0]!==void 0)&&_--)}return b[0]||b.shift(),v.e=l,rn(v,a?s+Zn(v)+1:s)}})();function TY(n,e){var t,r,i,s,a,A,l=0,c=0,f=n.constructor,h=f.precision;if(Zn(n)>16)throw Error(AP+Zn(n));if(!n.s)return new f(Is);for(wn=!1,A=h,a=new f(.03125);n.abs().gte(.1);)n=n.times(a),c+=5;for(r=Math.log(Xc(2,c))/Math.LN10*2+5|0,A+=r,t=i=s=new f(Is),f.precision=A;;){if(i=rn(i.times(n),A),t=t.times(++l),a=s.plus(sl(i,t,A)),ko(a.d).slice(0,A)===ko(s.d).slice(0,A)){for(;c--;)s=rn(s.times(s),A);return f.precision=h,e==null?(wn=!0,rn(s,h)):s}s=a}}function Zn(n){for(var e=n.e*dn,t=n.d[0];t>=10;t/=10)e++;return e}function aU(n,e,t){if(e>n.LN10.sd())throw wn=!0,t&&(n.precision=t),Error(Ca+"LN10 precision limit exceeded");return rn(new n(n.LN10),e)}function au(n){for(var e="";n--;)e+="0";return e}function Fy(n,e){var t,r,i,s,a,A,l,c,f,h=1,g=10,v=n,b=v.d,B=v.constructor,S=B.precision;if(v.s<1)throw Error(Ca+(v.s?"NaN":"-Infinity"));if(v.eq(Is))return new B(0);if(e==null?(wn=!1,c=S):c=e,v.eq(10))return e==null&&(wn=!0),aU(B,c);if(c+=g,B.precision=c,t=ko(b),r=t.charAt(0),s=Zn(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)v=v.times(n),t=ko(v.d),r=t.charAt(0),h++;s=Zn(v),r>1?(v=new B("0."+t),s++):v=new B(r+"."+t.slice(1))}else return l=aU(B,c+2,S).times(s+""),v=Fy(new B(r+"."+t.slice(1)),c-g).plus(l),B.precision=S,e==null?(wn=!0,rn(v,S)):v;for(A=a=v=sl(v.minus(Is),v.plus(Is),c),f=rn(v.times(v),c),i=3;;){if(a=rn(a.times(f),c),l=A.plus(sl(a,new B(i),c)),ko(l.d).slice(0,c)===ko(A.d).slice(0,c))return A=A.times(2),s!==0&&(A=A.plus(aU(B,c+2,S).times(s+""))),A=sl(A,new B(h),c),B.precision=S,e==null?(wn=!0,rn(A,S)):A;A=l,i+=2}}function dG(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=sm(t/dn),n.d=[],r=(t+1)%dn,t<0&&(r+=dn),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=dn;r<i;)n.d.push(+e.slice(r,r+=dn));e=e.slice(r),r=dn-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),wn&&(n.e>rS||n.e<-rS))throw Error(AP+t)}else n.s=0,n.e=0,n.d=[0];return n}function rn(n,e,t){var r,i,s,a,A,l,c,f,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=dn,i=e,c=h[f=0];else{if(f=Math.ceil((r+1)/dn),s=h.length,f>=s)return n;for(c=s=h[f],a=1;s>=10;s/=10)a++;r%=dn,i=r-dn+a}if(t!==void 0&&(s=Xc(10,a-i-1),A=c/s%10|0,l=e<0||h[f+1]!==void 0||c%s,l=t<4?(A||l)&&(t==0||t==(n.s<0?3:2)):A>5||A==5&&(t==4||l||t==6&&(r>0?i>0?c/Xc(10,a-i):0:h[f-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=Zn(n),h.length=1,e=e-s-1,h[0]=Xc(10,(dn-e%dn)%dn),n.e=sm(-e/dn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(r==0?(h.length=f,s=1,f--):(h.length=f+1,s=Xc(10,dn-r),h[f]=i>0?(c/Xc(10,a-i)%Xc(10,i)|0)*s:0),l)for(;;)if(f==0){(h[0]+=s)==xr&&(h[0]=1,++n.e);break}else{if(h[f]+=s,h[f]!=xr)break;h[f--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(wn&&(n.e>rS||n.e<-rS))throw Error(AP+Zn(n));return n}function _Y(n,e){var t,r,i,s,a,A,l,c,f,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),wn?rn(e,v):e;if(l=n.d,h=e.d,r=e.e,c=n.e,l=l.slice(),a=c-r,a){for(f=a<0,f?(t=l,a=-a,A=h.length):(t=h,r=c,A=l.length),i=Math.max(Math.ceil(v/dn),A)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=l.length,A=h.length,f=i<A,f&&(A=i),i=0;i<A;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}a=0}for(f&&(t=l,l=h,h=t,e.s=-e.s),A=l.length,i=h.length-A;i>0;--i)l[A++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=xr-1;--l[s],l[i]+=xr}l[i]-=h[i]}for(;l[--A]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,wn?rn(e,v):e):new g(0)}function xd(n,e,t){var r,i=Zn(n),s=ko(n.d),a=s.length;return e?(t&&(r=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+au(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+au(-i-1)+s,t&&(r=t-a)>0&&(s+=au(r))):i>=a?(s+=au(i+1-a),t&&(r=t-i-1)>0&&(s=s+"."+au(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-a)>0&&(i+1===a&&(s+="."),s+=au(r))),n.s<0?"-"+s:s}function hG(n,e){if(n.length>e)return n.length=e,!0}function IY(n){var e,t,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wd+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return dG(a,s.toString())}else if(typeof s!="string")throw Error(wd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,fBe.test(s))dG(a,s);else throw Error(wd+s)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=IY,i.config=i.set=dBe,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function dBe(n){if(!n||typeof n!="object")throw Error(Ca+"Object expected");var e,t,r,i=["precision",1,im,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(sm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(wd+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(wd+t+": "+r);return this}var lP=IY(cBe);Is=new lP(1);const Lt=lP;var hBe=n=>n,UY={},FY=n=>n===UY,pG=n=>function e(){return arguments.length===0||arguments.length===1&&FY(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},MY=(n,e)=>n===1?e:pG(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=r.filter(a=>a!==UY).length;return s>=n?e(...r):MY(n-s,pG(function(){for(var a=arguments.length,A=new Array(a),l=0;l<a;l++)A[l]=arguments[l];var c=r.map(f=>FY(f)?A.shift():f);return e(...c,...A)}))}),pBe=n=>MY(n.length,n),gD=(n,e)=>{for(var t=[],r=n;r<e;++r)t[r-n]=r;return t},gBe=pBe((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),mBe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return hBe;var i=t.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((A,l)=>l(A),s(...arguments))}},mD=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function DY(n){var e;return n===0?e=1:e=Math.floor(new Lt(n).abs().log(10).toNumber())+1,e}function RY(n,e,t){for(var r=new Lt(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}var PY=n=>{var[e,t]=n,[r,i]=[e,t];return e>t&&([r,i]=[t,e]),[r,i]},QY=(n,e,t)=>{if(n.lte(0))return new Lt(0);var r=DY(n.toNumber()),i=new Lt(10).pow(r),s=n.div(i),a=r!==1?.05:.1,A=new Lt(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=A.mul(i);return e?new Lt(l.toNumber()):new Lt(Math.ceil(l.toNumber()))},vBe=(n,e,t)=>{var r=new Lt(1),i=new Lt(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new Lt(10).pow(DY(n)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Lt(Math.floor(n)))}else n===0?i=new Lt(Math.floor((e-1)/2)):t||(i=new Lt(Math.floor(n)));var a=Math.floor((e-1)/2),A=mBe(gBe(l=>i.add(new Lt(l-a).mul(r)).toNumber()),gD);return A(0,e)},NY=function(e,t,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var a=QY(new Lt(t).sub(e).div(r-1),i,s),A;e<=0&&t>=0?A=new Lt(0):(A=new Lt(e).add(t).div(2),A=A.sub(new Lt(A).mod(a)));var l=Math.ceil(A.sub(e).div(a).toNumber()),c=Math.ceil(new Lt(t).sub(A).div(a).toNumber()),f=l+c+1;return f>r?NY(e,t,r,i,s+1):(f<r&&(c=t>0?c+(r-f):c,l=t>0?l:l+(r-f)),{step:a,tickMin:A.sub(new Lt(l).mul(a)),tickMax:A.add(new Lt(c).mul(a))})},yBe=function(e){var[t,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[A,l]=PY([t,r]);if(A===-1/0||l===1/0){var c=l===1/0?[A,...gD(0,i-1).map(()=>1/0)]:[...gD(0,i-1).map(()=>-1/0),l];return t>r?mD(c):c}if(A===l)return vBe(A,i,s);var{step:f,tickMin:h,tickMax:g}=NY(A,l,a,s,0),v=RY(h,g.add(new Lt(.1).mul(f)),f);return t>r?mD(v):v},wBe=function(e,t){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,A]=PY([r,i]);if(a===-1/0||A===1/0)return[r,i];if(a===A)return[a];var l=Math.max(t,2),c=QY(new Lt(A).sub(a).div(l-1),s,0),f=[...RY(new Lt(a),new Lt(A),c),A];return s===!1&&(f=f.map(h=>Math.round(h))),r>i?mD(f):f},LY=n=>n.rootProps.maxBarSize,CBe=n=>n.rootProps.barGap,kY=n=>n.rootProps.barCategoryGap,BBe=n=>n.rootProps.barSize,Rx=n=>n.rootProps.stackOffset,OY=n=>n.rootProps.reverseStackOrder,uP=n=>n.options.chartName,cP=n=>n.rootProps.syncId,HY=n=>n.rootProps.syncMethod,fP=n=>n.options.eventEmitter,Xi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ZA={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xs={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Px=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},bBe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ZA.angleAxisId,includeHidden:!1,name:void 0,reversed:ZA.reversed,scale:ZA.scale,tick:ZA.tick,tickCount:void 0,ticks:void 0,type:ZA.type,unit:void 0},EBe={allowDataOverflow:xs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xs.scale,tick:xs.tick,tickCount:xs.tickCount,ticks:void 0,type:xs.type,unit:void 0},SBe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ZA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ZA.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ZA.scale,tick:ZA.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xBe={allowDataOverflow:xs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xs.scale,tick:xs.tick,tickCount:xs.tickCount,ticks:void 0,type:"category",unit:void 0},dP=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?SBe:bBe,hP=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?xBe:EBe,Qx=n=>n.polarOptions,pP=se([xl,Tl,Ir],w0e),KY=se([Qx,pP],(n,e)=>{if(n!=null)return Xa(n.innerRadius,e,0)}),GY=se([Qx,pP],(n,e)=>{if(n!=null)return Xa(n.outerRadius,e,e*.8)}),TBe=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},VY=se([Qx],TBe);se([dP,VY],Px);var zY=se([pP,KY,GY],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});se([hP,zY],Px);var qY=se([Ot,Qx,KY,GY,xl,Tl],(n,e,t,r,i,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||r==null)){var{cx:a,cy:A,startAngle:l,endAngle:c}=e;return{cx:Xa(a,i,i/2),cy:Xa(A,s,s/2),innerRadius:t,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),ur=(n,e)=>e,Nx=(n,e,t)=>t;function gP(n){return n==null?void 0:n.id}function $Y(n,e,t){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=t,a=new Map;return n.forEach(A=>{var l,c=(l=A.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var f=gP(A);c.forEach((h,g)=>{var v=s==null||i?g:String(ci(h,s,null)),b=ci(h,A.dataKey,0),B;a.has(v)?B=a.get(v):B={},Object.assign(B,{[f]:b}),a.set(v,B)})}}),Array.from(a.values())}function Lx(n){return n.stackId!=null&&n.dataKey!=null}var kx=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function Ox(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function _Be(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var cr=n=>{var e=Ot(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},am=n=>n.tooltip.settings.axisId;function gG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function iS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gG(Object(t),!0).forEach(function(r){IBe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function IBe(n,e,t){return(e=UBe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UBe(n){var e=FBe(n,"string");return typeof e=="symbol"?e:e+""}function FBe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vD=[0,"auto"],mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},YY=(n,e)=>n.cartesianAxis.xAxis[e],Il=(n,e)=>{var t=YY(n,e);return t??mr},vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vD,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Fw},XY=(n,e)=>n.cartesianAxis.yAxis[e],Ul=(n,e)=>{var t=XY(n,e);return t??vr},MBe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},mP=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??MBe},Ti=(n,e,t)=>{switch(e){case"xAxis":return Il(n,t);case"yAxis":return Ul(n,t);case"zAxis":return mP(n,t);case"angleAxis":return dP(n,t);case"radiusAxis":return hP(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},DBe=(n,e,t)=>{switch(e){case"xAxis":return Il(n,t);case"yAxis":return Ul(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},Lw=(n,e,t)=>{switch(e){case"xAxis":return Il(n,t);case"yAxis":return Ul(n,t);case"angleAxis":return dP(n,t);case"radiusAxis":return hP(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},WY=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function jY(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var vP=n=>n.graphicalItems.cartesianItems,RBe=se([ur,Nx],jY),JY=(n,e,t)=>n.filter(t).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),kw=se([vP,Ti,RBe],JY,{memoizeOptions:{resultEqualityCheck:Ox}}),ZY=se([kw],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(Lx)),eX=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),PBe=se([kw],eX),tX=n=>n.map(e=>e.data).filter(Boolean).flat(1),QBe=se([kw],tX,{memoizeOptions:{resultEqualityCheck:Ox}}),nX=(n,e)=>{var{chartData:t=[],dataStartIndex:r,dataEndIndex:i}=e;return n.length>0?n:t.slice(r,i+1)},yP=se([QBe,oP],nX),rX=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(r=>({value:ci(r,e.dataKey)})):t.length>0?t.map(r=>r.dataKey).flatMap(r=>n.map(i=>({value:ci(i,r)}))):n.map(r=>({value:r})),Hx=se([yP,Ti,kw],rX);function iX(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Wb(n){if(Ko(n)||n instanceof Date){var e=Number(n);if(Gn(e))return e}}function mG(n){if(Array.isArray(n)){var e=[Wb(n[0]),Wb(n[1])];return pc(e)?e:void 0}var t=Wb(n);if(t!=null)return[t,t]}function yl(n){return n.map(Wb).filter(Kpe)}function NBe(n,e,t){return!t||typeof e!="number"||Ho(e)?[]:t.length?yl(t.flatMap(r=>{var i=ci(n,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Gn(s)||!Gn(a)))return[e-s,e+a]})):[]}var fr=n=>{var e=cr(n),t=am(n);return Lw(n,e,t)},Ow=se([fr],n=>n==null?void 0:n.dataKey),LBe=se([ZY,oP,fr],$Y),sX=(n,e,t,r)=>{var i={},s=e.reduce((a,A)=>(A.stackId==null||(a[A.stackId]==null&&(a[A.stackId]=[]),a[A.stackId].push(A)),a),i);return Object.fromEntries(Object.entries(s).map(a=>{var[A,l]=a,c=r?[...l].reverse():l,f=c.map(gP);return[A,{stackedData:Ave(n,f,t),graphicalItems:c}]}))},yD=se([LBe,ZY,Rx,OY],sX),aX=(n,e,t,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&t!=="zAxis"){var a=dve(n,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},kBe=se([Ti],n=>n.allowDataOverflow),wP=n=>{var e;if(n==null||!("domain"in n))return vD;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=yl(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:vD},oX=se([Ti],wP),AX=se([oX,kBe],EY),OBe=se([yD,Bc,ur,AX],aX,{memoizeOptions:{resultEqualityCheck:kx}}),CP=n=>n.errorBars,HBe=(n,e,t)=>n.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>iX(t,r)),sS=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),A=Math.max(...s);return[a,A]}},lX=(n,e,t,r,i)=>{var s,a;if(t.length>0&&n.forEach(A=>{t.forEach(l=>{var c,f,h=(c=r[l.id])===null||c===void 0?void 0:c.filter(x=>iX(i,x)),g=ci(A,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey),v=NBe(A,g,h);if(v.length>=2){var b=Math.min(...v),B=Math.max(...v);(s==null||b<s)&&(s=b),(a==null||B>a)&&(a=B)}var S=mG(g);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),a=a==null?S[1]:Math.max(a,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(A=>{var l=mG(ci(A,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Gn(s)&&Gn(a))return[s,a]},KBe=se([yP,Ti,PBe,CP,ur],lX,{memoizeOptions:{resultEqualityCheck:kx}});function GBe(n){var{value:e}=n;if(Ko(e)||e instanceof Date)return e}var VBe=(n,e,t)=>{var r=n.map(GBe).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&T6(r))?G$(0,n.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},uX=n=>n.referenceElements.dots,om=(n,e,t)=>n.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===t:r.yAxisId===t),zBe=se([uX,ur,Nx],om),cX=n=>n.referenceElements.areas,qBe=se([cX,ur,Nx],om),fX=n=>n.referenceElements.lines,$Be=se([fX,ur,Nx],om),dX=(n,e)=>{var t=yl(n.map(r=>e==="xAxis"?r.x:r.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},YBe=se(zBe,ur,dX),hX=(n,e)=>{var t=yl(n.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},XBe=se([qBe,ur],hX);function WBe(n){var e;if(n.x!=null)return yl([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.x);return t==null||t.length===0?[]:yl(t)}function jBe(n){var e;if(n.y!=null)return yl([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.y);return t==null||t.length===0?[]:yl(t)}var pX=(n,e)=>{var t=n.flatMap(r=>e==="xAxis"?WBe(r):jBe(r));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},JBe=se([$Be,ur],pX),ZBe=se(YBe,JBe,XBe,(n,e,t)=>sS(n,t,e)),gX=(n,e,t,r,i,s,a,A)=>{if(t!=null)return t;var l=a==="vertical"&&A==="xAxis"||a==="horizontal"&&A==="yAxis",c=l?sS(r,s,i):sS(s,i);return uBe(e,c,n.allowDataOverflow)},ebe=se([Ti,oX,AX,OBe,KBe,ZBe,Ot,ur],gX,{memoizeOptions:{resultEqualityCheck:kx}}),tbe=[0,1],mX=(n,e,t,r,i,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:A,type:l}=n,c=Rd(e,s);if(c&&A==null){var f;return G$(0,(f=t==null?void 0:t.length)!==null&&f!==void 0?f:0)}return l==="category"?VBe(r,n,c):i==="expand"?tbe:a}},BP=se([Ti,Ot,yP,Hx,Rx,ur,ebe],mX),vX=(n,e,t,r,i)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var A="scale".concat(xw(s));return A in Jv?A:"point"}}},Hw=se([Ti,Ot,WY,uP,ur],vX);function nbe(n){if(n!=null){if(n in Jv)return Jv[n]();var e="scale".concat(xw(n));if(e in Jv)return Jv[e]()}}function bP(n,e,t,r){if(!(t==null||r==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(r);var i=nbe(e);if(i!=null){var s=i.domain(t).range(r);return rve(s),s}}}var yX=(n,e,t)=>{var r=wP(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&pc(n))return yBe(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&pc(n))return wBe(n,e.tickCount,e.allowDecimals)}},EP=se([BP,Lw,Hw],yX),wX=(n,e,t,r)=>{if(r!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&pc(e)&&Array.isArray(t)&&t.length>0){var i=e[0],s=t[0],a=e[1],A=t[t.length-1];return[Math.min(i,s),Math.max(a,A)]}return e},rbe=se([Ti,BP,EP,ur],wX),ibe=se(Hx,Ti,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,r=Array.from(yl(n.map(A=>A.value))).sort((A,l)=>A-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];t=Math.min(t,a)}return t/i}}),CX=se(ibe,Ot,kY,Ir,(n,e,t,r)=>r,(n,e,t,r,i)=>{if(!Gn(n))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return n*s/2;if(i==="no-gap"){var a=Xa(t,n*s),A=n*s/2;return A-a-(A-a)/s*a}return 0}),sbe=(n,e)=>{var t=Il(n,e);return t==null||typeof t.padding!="string"?0:CX(n,"xAxis",e,t.padding)},abe=(n,e)=>{var t=Ul(n,e);return t==null||typeof t.padding!="string"?0:CX(n,"yAxis",e,t.padding)},obe=se(Il,sbe,(n,e)=>{var t,r;if(n==null)return{left:0,right:0};var{padding:i}=n;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Abe=se(Ul,abe,(n,e)=>{var t,r;if(n==null)return{top:0,bottom:0};var{padding:i}=n;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),lbe=se([Ir,obe,Cx,wx,(n,e,t)=>t],(n,e,t,r,i)=>{var{padding:s}=r;return i?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),ube=se([Ir,Ot,Abe,Cx,wx,(n,e,t)=>t],(n,e,t,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),Kw=(n,e,t,r)=>{var i;switch(e){case"xAxis":return lbe(n,t,r);case"yAxis":return ube(n,t,r);case"zAxis":return(i=mP(n,t))===null||i===void 0?void 0:i.range;case"angleAxis":return VY(n);case"radiusAxis":return zY(n,t);default:return}},BX=se([Ti,Kw],Px),Am=se([Ti,Hw,rbe,BX],bP);se([kw,CP,ur],HBe);function bX(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var Kx=(n,e)=>e,Gx=(n,e,t)=>t,cbe=se(vx,Kx,Gx,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(bX)),fbe=se(yx,Kx,Gx,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(bX)),EX=(n,e)=>({width:n.width,height:e.height}),dbe=(n,e)=>{var t=typeof e.width=="number"?e.width:Fw;return{width:t,height:n.height}},SX=se(Ir,Il,EX),hbe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},pbe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},gbe=se(Tl,Ir,cbe,Kx,Gx,(n,e,t,r,i)=>{var s={},a;return t.forEach(A=>{var l=EX(e,A);a==null&&(a=hbe(e,r,n));var c=r==="top"&&!i||r==="bottom"&&i;s[A.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s}),mbe=se(xl,Ir,fbe,Kx,Gx,(n,e,t,r,i)=>{var s={},a;return t.forEach(A=>{var l=dbe(e,A);a==null&&(a=pbe(e,r,n));var c=r==="left"&&!i||r==="right"&&i;s[A.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s}),vbe=(n,e)=>{var t=Il(n,e);if(t!=null)return gbe(n,t.orientation,t.mirror)},ybe=se([Ir,Il,vbe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}}),wbe=(n,e)=>{var t=Ul(n,e);if(t!=null)return mbe(n,t.orientation,t.mirror)},Cbe=se([Ir,Ul,wbe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}}),xX=se(Ir,Ul,(n,e)=>{var t=typeof e.width=="number"?e.width:Fw;return{width:t,height:n.height}}),vG=(n,e,t)=>{switch(e){case"xAxis":return SX(n,t).width;case"yAxis":return xX(n,t).height;default:return}},TX=(n,e,t,r)=>{if(t!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=t,A=Rd(n,r),l=e.map(c=>c.value);if(a&&A&&s==="category"&&i&&T6(l))return l}},SP=se([Ot,Hx,Ti,ur],TX),_X=(n,e,t,r)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:s}=t,a=Rd(n,r);if(a&&(i==="number"||s!=="auto"))return e.map(A=>A.value)}},xP=se([Ot,Hx,Lw,ur],_X);se([Ot,DBe,Hw,Am,SP,xP,Kw,EP,ur],(n,e,t,r,i,s,a,A,l)=>{if(e!=null){var c=Rd(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:A,range:a,realScaleType:t,scale:r}}});var Bbe=(n,e,t,r,i,s,a,A,l)=>{if(!(e==null||r==null)){var c=Rd(n,l),{type:f,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=f==="category"&&r.bandwidth?r.bandwidth()/v:0;b=l==="angleAxis"&&s!=null&&s.length>=2?Us(s[0]-s[1])*2*b:b;var B=h||i;if(B){var S=B.map((x,_)=>{var T=a?a.indexOf(x):x;return{index:_,coordinate:r(T)+b,value:x,offset:b}});return S.filter(x=>Gn(x.coordinate))}return c&&A?A.map((x,_)=>({coordinate:r(x)+b,value:x,index:_,offset:b})).filter(x=>Gn(x.coordinate)):r.ticks?r.ticks(g).map(x=>({coordinate:r(x)+b,value:x,offset:b})):r.domain().map((x,_)=>({coordinate:r(x)+b,value:a?a[x]:x,index:_,offset:b}))}},IX=se([Ot,Lw,Hw,Am,EP,Kw,SP,xP,ur],Bbe),bbe=(n,e,t,r,i,s,a)=>{if(!(e==null||t==null||r==null||r[0]===r[1])){var A=Rd(n,a),{tickCount:l}=e,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Us(r[0]-r[1])*2*c:c,A&&s?s.map((f,h)=>({coordinate:t(f)+c,value:f,index:h,offset:c})):t.ticks?t.ticks(l).map(f=>({coordinate:t(f)+c,value:f,offset:c})):t.domain().map((f,h)=>({coordinate:t(f)+c,value:i?i[f]:f,index:h,offset:c}))}},qg=se([Ot,Lw,Am,Kw,SP,xP,ur],bbe),$g=se(Ti,Am,(n,e)=>{if(!(n==null||e==null))return iS(iS({},n),{},{scale:e})}),Ebe=se([Ti,Hw,BP,BX],bP);se((n,e,t)=>mP(n,t),Ebe,(n,e)=>{if(!(n==null||e==null))return iS(iS({},n),{},{scale:e})});var Sbe=se([Ot,vx,yx],(n,e,t)=>{switch(n){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),UX=n=>n.options.defaultTooltipEventType,FX=n=>n.options.validateTooltipEventTypes;function MX(n,e,t){if(n==null)return e;var r=n?"axis":"item";return t==null?e:t.includes(r)?r:e}function TP(n,e){var t=UX(n),r=FX(n);return MX(e,t,r)}function xbe(n){return Ve(e=>TP(e,n))}var DX=(n,e)=>{var t,r=Number(e);if(!(Ho(r)||e==null))return r>=0?n==null||(t=n[r])===null||t===void 0?void 0:t.value:void 0},Tbe=n=>n.tooltip.settings,Au={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_be={itemInteraction:{click:Au,hover:Au},axisInteraction:{click:Au,hover:Au},keyboardInteraction:Au,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},RX=Wi({name:"tooltip",initialState:_be,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:yn()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:r}=e.payload,i=$a(n).tooltipItemPayloads.indexOf(t);i>-1&&(n.tooltipItemPayloads[i]=r)},prepare:yn()},removeTooltipEntrySettings:{reducer(n,e){var t=$a(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:yn()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Ibe,replaceTooltipEntrySettings:Ube,removeTooltipEntrySettings:Fbe,setTooltipSettingsState:Mbe,setActiveMouseOverItemIndex:PX,mouseLeaveItem:Dbe,mouseLeaveChart:QX,setActiveClickItemIndex:Rbe,setMouseOverAxisIndex:NX,setMouseClickAxisIndex:Pbe,setSyncInteraction:wD,setKeyboardInteraction:CD}=RX.actions,Qbe=RX.reducer;function yG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ZB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yG(Object(t),!0).forEach(function(r){Nbe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Nbe(n,e,t){return(e=Lbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lbe(n){var e=kbe(n,"string");return typeof e=="symbol"?e:e+""}function kbe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Obe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function Hbe(n){return n.index!=null}var LX=(n,e,t,r)=>{if(e==null)return Au;var i=Obe(n,e,t);if(i==null)return Au;if(i.active)return i;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(Hbe(i)){if(s)return ZB(ZB({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return ZB(ZB({},Au),{},{coordinate:i.coordinate})};function Kbe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function Gbe(n,e){var t=Kbe(n),r=e[0],i=e[1];if(t===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return t>=s&&t<=a}function Vbe(n,e,t){if(t==null||e==null)return!0;var r=ci(n,e);return r==null||!pc(t)?!0:Gbe(r,t)}var _P=(n,e,t,r)=>{var i=n==null?void 0:n.index;if(i==null)return null;var s=Number(i);if(!Gn(s))return i;var a=0,A=1/0;e.length>0&&(A=e.length-1);var l=Math.max(a,Math.min(s,A)),c=e[l];return c==null||Vbe(c,t,r)?String(l):null},kX=(n,e,t,r,i,s,a,A)=>{if(!(s==null||A==null)){var l=a[0],c=l==null?void 0:A(l.positions,s);if(c!=null)return c;var f=i==null?void 0:i[Number(s)];if(f)switch(t){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+n)/2,y:f.coordinate}}}},OX=(n,e,t,r)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var i;return t==="hover"?i=n.itemInteraction.hover.dataKey:i=n.itemInteraction.click.dataKey,i==null&&r!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Gw=n=>n.options.tooltipPayloadSearcher,lm=n=>n.tooltip;function wG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wG(Object(t),!0).forEach(function(r){zbe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zbe(n,e,t){return(e=qbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qbe(n){var e=$be(n,"string");return typeof e=="symbol"?e:e+""}function $be(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ybe(n,e){return n??e}var HX=(n,e,t,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:A,computedData:l,dataStartIndex:c,dataEndIndex:f}=t,h=[];return n.reduce((g,v)=>{var b,{dataDefinedOnItem:B,settings:S}=v,x=Ybe(B,A),_=Array.isArray(x)?y$(x,c,f):x,T=(b=S==null?void 0:S.dataKey)!==null&&b!==void 0?b:r,M=S==null?void 0:S.nameKey,F;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&a==="axis"?F=Hpe(_,r,i):F=s(_,e,l,M),Array.isArray(F))F.forEach(L=>{var K=CG(CG({},S),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(G3({tooltipEntrySettings:K,dataKey:L.dataKey,payload:L.payload,value:ci(L.payload,L.dataKey),name:L.name}))});else{var R;g.push(G3({tooltipEntrySettings:S,dataKey:T,payload:F,value:ci(F,T),name:(R=ci(F,M))!==null&&R!==void 0?R:S==null?void 0:S.name}))}return g},h)}},IP=se([fr,Ot,WY,uP,cr],vX),Xbe=se([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),Wbe=se([cr,am],jY),Vw=se([Xbe,fr,Wbe],JY,{memoizeOptions:{resultEqualityCheck:Ox}}),jbe=se([Vw],n=>n.filter(Lx)),Jbe=se([Vw],tX,{memoizeOptions:{resultEqualityCheck:Ox}}),um=se([Jbe,Bc],nX),Zbe=se([jbe,Bc,fr],$Y),UP=se([um,fr,Vw],rX),KX=se([fr],wP),eEe=se([fr],n=>n.allowDataOverflow),GX=se([KX,eEe],EY),tEe=se([Vw],n=>n.filter(Lx)),nEe=se([Zbe,tEe,Rx,OY],sX),rEe=se([nEe,Bc,cr,GX],aX),iEe=se([Vw],eX),sEe=se([um,fr,iEe,CP,cr],lX,{memoizeOptions:{resultEqualityCheck:kx}}),aEe=se([uX,cr,am],om),oEe=se([aEe,cr],dX),AEe=se([cX,cr,am],om),lEe=se([AEe,cr],hX),uEe=se([fX,cr,am],om),cEe=se([uEe,cr],pX),fEe=se([oEe,cEe,lEe],sS),dEe=se([fr,KX,GX,rEe,sEe,fEe,Ot,cr],gX),zw=se([fr,Ot,um,UP,Rx,cr,dEe],mX),hEe=se([zw,fr,IP],yX),pEe=se([fr,zw,hEe,cr],wX),VX=n=>{var e=cr(n),t=am(n),r=!1;return Kw(n,e,t,r)},zX=se([fr,VX],Px),qX=se([fr,IP,pEe,zX],bP),gEe=se([Ot,UP,fr,cr],TX),mEe=se([Ot,UP,fr,cr],_X),vEe=(n,e,t,r,i,s,a,A)=>{if(e){var{type:l}=e,c=Rd(n,A);if(r){var f=t==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/f:0;return h=A==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Us(i[0]-i[1])*2*h:h,c&&a?a.map((g,v)=>({coordinate:r(g)+h,value:g,index:v,offset:h})):r.domain().map((g,v)=>({coordinate:r(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},Fl=se([Ot,fr,IP,qX,VX,gEe,mEe,cr],vEe),FP=se([UX,FX,Tbe],(n,e,t)=>MX(t.shared,n,e)),$X=n=>n.tooltip.settings.trigger,MP=n=>n.tooltip.settings.defaultIndex,qw=se([lm,FP,$X,MP],LX),Yg=se([qw,um,Ow,zw],_P),YX=se([Fl,Yg],DX),XX=se([qw],n=>{if(n)return n.dataKey});se([qw],n=>{if(n)return n.graphicalItemId});var WX=se([lm,FP,$X,MP],OX),yEe=se([xl,Tl,Ot,Ir,Fl,MP,WX,Gw],kX),wEe=se([qw,yEe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),CEe=se([qw],n=>n.active),BEe=se([WX,Yg,Bc,Ow,YX,Gw,FP],HX);se([BEe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function BG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function bG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BG(Object(t),!0).forEach(function(r){bEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bEe(n,e,t){return(e=EEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EEe(n){var e=SEe(n,"string");return typeof e=="symbol"?e:e+""}function SEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var xEe=()=>Ve(fr),TEe=()=>{var n=xEe(),e=Ve(Fl),t=Ve(qX);return kE(!n||!t?void 0:bG(bG({},n),{},{scale:t}),e)};function EG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EG(Object(t),!0).forEach(function(r){_Ee(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _Ee(n,e,t){return(e=IEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IEe(n){var e=UEe(n,"string");return typeof e=="symbol"?e:e+""}function UEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var FEe=(n,e,t,r)=>{var i=e.find(s=>s&&s.index===t);if(i){if(n==="horizontal")return{x:i.coordinate,y:r.chartY};if(n==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},MEe=(n,e,t,r)=>{var i=e.find(c=>c&&c.index===t);if(i){if(n==="centric"){var s=i.coordinate,{radius:a}=r;return Fh(Fh(Fh({},r),Xr(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var A=i.coordinate,{angle:l}=r;return Fh(Fh(Fh({},r),Xr(r.cx,r.cy,A,l)),{},{angle:l,radius:A})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function DEe(n,e){var{chartX:t,chartY:r}=n;return t>=e.left&&t<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var jX=(n,e,t,r,i)=>{var s,a=-1,A=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(A<=1||n==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<A;l++){var c=l>0?t[l-1].coordinate:t[A-1].coordinate,f=t[l].coordinate,h=l>=A-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if(Us(f-c)!==Us(h-f)){var v=[];if(Us(h-f)===Us(i[1]-i[0])){g=h;var b=f+i[1]-i[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{g=c;var B=h+i[1]-i[0];v[0]=Math.min(f,(B+f)/2),v[1]=Math.max(f,(B+f)/2)}var S=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(n>S[0]&&n<=S[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var x=Math.min(c,h),_=Math.max(c,h);if(n>(x+f)/2&&n<=(_+f)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<A;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<A-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===A-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},REe=()=>Ve(uP),DP=(n,e)=>e,JX=(n,e,t)=>t,RP=(n,e,t,r)=>r,PEe=se(Fl,n=>lx(n,e=>e.coordinate)),PP=se([lm,DP,JX,RP],LX),QP=se([PP,um,Ow,zw],_P),QEe=(n,e,t)=>{if(e!=null){var r=lm(n);return e==="axis"?t==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:t==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},ZX=se([lm,DP,JX,RP],OX),aS=se([xl,Tl,Ot,Ir,Fl,RP,ZX,Gw],kX),NEe=se([PP,aS],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),eW=se([Fl,QP],DX),LEe=se([ZX,QP,Bc,Ow,eW,Gw,DP],HX),kEe=se([PP,QP],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),OEe=(n,e,t,r,i,s,a)=>{if(!(!n||!t||!r||!i)&&DEe(n,a)){var A=hve(n,e),l=jX(A,s,i,t,r),c=FEe(e,i,l,n);return{activeIndex:String(l),activeCoordinate:c}}},HEe=(n,e,t,r,i,s,a)=>{if(!(!n||!r||!i||!s||!t)){var A=S0e(n,t);if(A){var l=pve(A,e),c=jX(l,a,s,r,i),f=MEe(e,s,c,A);return{activeIndex:String(c),activeCoordinate:f}}}},KEe=(n,e,t,r,i,s,a,A)=>{if(!(!n||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?OEe(n,e,r,i,s,a,A):HEe(n,e,t,r,i,s,a)},GEe=se(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var r=n[e];if(r!=null)return t?r.panoramaElementId:r.elementId}}),VEe=se(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(r=>parseInt(r,10)).concat(Object.values(Xi)),t=Array.from(new Set(e));return t.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:_Be}});function SG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SG(Object(t),!0).forEach(function(r){zEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zEe(n,e,t){return(e=qEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qEe(n){var e=$Ee(n,"string");return typeof e=="symbol"?e:e+""}function $Ee(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var YEe={},XEe={zIndexMap:Object.values(Xi).reduce((n,e)=>xG(xG({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),YEe)},WEe=new Set(Object.values(Xi));function jEe(n){return WEe.has(n)}var tW=Wi({name:"zIndex",initialState:XEe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:yn()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!jEe(t)&&delete n.zIndexMap[t])},prepare:yn()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:r,isPanorama:i}=e.payload;n.zIndexMap[t]?i?n.zIndexMap[t].panoramaElementId=r:n.zIndexMap[t].elementId=r:n.zIndexMap[t]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:yn()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:yn()}}}),{registerZIndexPortal:JEe,unregisterZIndexPortal:ZEe,registerZIndexPortalId:eSe,unregisterZIndexPortalId:tSe}=tW.actions,nSe=tW.reducer;function bc(n){var{zIndex:e,children:t}=n,r=jve(),i=r&&e!==void 0&&e!==0,s=Qs(),a=Vn();I.useLayoutEffect(()=>i?(a(JEe({zIndex:e})),()=>{a(ZEe({zIndex:e}))}):Tw,[a,e,i]);var A=Ve(c=>GEe(c,e,s));if(!i)return t;if(!A)return null;var l=document.getElementById(A);return l?jV.createPortal(t,l):null}function BD(){return BD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BD.apply(null,arguments)}function TG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function eb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TG(Object(t),!0).forEach(function(r){rSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rSe(n,e,t){return(e=iSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iSe(n){var e=sSe(n,"string");return typeof e=="symbol"?e:e+""}function sSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aSe(n){var{cursor:e,cursorComp:t,cursorProps:r}=n;return I.isValidElement(e)?I.cloneElement(e,r):I.createElement(t,r)}function oSe(n){var e,{coordinate:t,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:A,cursor:l,tooltipEventType:c,chartName:f}=n,h=t,g=r,v=i;if(!l||!h||f!=="ScatterChart"&&c!=="axis")return null;var b,B,S;if(f==="ScatterChart")b=h,B=kye,S=Xi.cursorLine;else if(f==="BarChart")b=Oye(A,h,s,a),B=k$,S=Xi.cursorRectangle;else if(A==="radial"&&U6(h)){var{cx:x,cy:_,radius:T,startAngle:M,endAngle:F}=O$(h);b={cx:x,cy:_,startAngle:M,endAngle:F,innerRadius:T,outerRadius:T},B=K$,S=Xi.cursorLine}else b={points:I0e(A,h,s)},B=R$,S=Xi.cursorLine;var R=typeof l=="object"&&"className"in l?l.className:void 0,L=eb(eb(eb(eb({stroke:"#ccc",pointerEvents:"none"},s),b),hR(l)),{},{payload:g,payloadIndex:v,className:kt("recharts-tooltip-cursor",R)});return I.createElement(bc,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:S},I.createElement(aSe,{cursor:l,cursorComp:B,cursorProps:L}))}function ASe(n){var e=TEe(),t=Yve(),r=bx(),i=REe();return e==null||t==null||r==null||i==null?null:I.createElement(oSe,BD({},n,{offset:t,layout:r,tooltipAxisBandSize:e,chartName:i}))}var nW=I.createContext(null),lSe=()=>I.useContext(nW),oU={exports:{}},_G;function uSe(){return _G||(_G=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function s(l,c,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||l,g),b=t?t+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],v]:l._events[b].push(v):(l._events[b]=v,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function A(){this._events=new r,this._eventsCount=0}A.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)e.call(f,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},A.prototype.listeners=function(c){var f=t?t+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,b=new Array(v);g<v;g++)b[g]=h[g].fn;return b},A.prototype.listenerCount=function(c){var f=t?t+c:c,h=this._events[f];return h?h.fn?1:h.length:0},A.prototype.emit=function(c,f,h,g,v,b){var B=t?t+c:c;if(!this._events[B])return!1;var S=this._events[B],x=arguments.length,_,T;if(S.fn){switch(S.once&&this.removeListener(c,S.fn,void 0,!0),x){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,h),!0;case 4:return S.fn.call(S.context,f,h,g),!0;case 5:return S.fn.call(S.context,f,h,g,v),!0;case 6:return S.fn.call(S.context,f,h,g,v,b),!0}for(T=1,_=new Array(x-1);T<x;T++)_[T-1]=arguments[T];S.fn.apply(S.context,_)}else{var M=S.length,F;for(T=0;T<M;T++)switch(S[T].once&&this.removeListener(c,S[T].fn,void 0,!0),x){case 1:S[T].fn.call(S[T].context);break;case 2:S[T].fn.call(S[T].context,f);break;case 3:S[T].fn.call(S[T].context,f,h);break;case 4:S[T].fn.call(S[T].context,f,h,g);break;default:if(!_)for(F=1,_=new Array(x-1);F<x;F++)_[F-1]=arguments[F];S[T].fn.apply(S[T].context,_)}}return!0},A.prototype.on=function(c,f,h){return s(this,c,f,h,!1)},A.prototype.once=function(c,f,h){return s(this,c,f,h,!0)},A.prototype.removeListener=function(c,f,h,g){var v=t?t+c:c;if(!this._events[v])return this;if(!f)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===f&&(!g||b.once)&&(!h||b.context===h)&&a(this,v);else{for(var B=0,S=[],x=b.length;B<x;B++)(b[B].fn!==f||g&&!b[B].once||h&&b[B].context!==h)&&S.push(b[B]);S.length?this._events[v]=S.length===1?S[0]:S:a(this,v)}return this},A.prototype.removeAllListeners=function(c){var f;return c?(f=t?t+c:c,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},A.prototype.off=A.prototype.removeListener,A.prototype.addListener=A.prototype.on,A.prefixed=t,A.EventEmitter=A,n.exports=A})(oU)),oU.exports}var cSe=uSe();const fSe=Ja(cSe);var My=new fSe,bD="recharts.syncEvent.tooltip",IG="recharts.syncEvent.brush";function dSe(n,e){if(e){var t=Number.parseInt(e,10);if(!Ho(t))return n==null?void 0:n[t]}}var hSe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},rW=Wi({name:"options",initialState:hSe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pSe=rW.reducer,{createEventEmitter:gSe}=rW.actions;function mSe(n){return n.tooltip.syncInteraction}var vSe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},iW=Wi({name:"chartData",initialState:vSe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:r}=e.payload;t!=null&&(n.dataStartIndex=t),r!=null&&(n.dataEndIndex=r)}}}),{setChartData:UG,setDataStartEndIndexes:ySe,setComputedData:oUe}=iW.actions,wSe=iW.reducer,CSe=["x","y"];function FG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FG(Object(t),!0).forEach(function(r){BSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function BSe(n,e,t){return(e=bSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bSe(n){var e=ESe(n,"string");return typeof e=="symbol"?e:e+""}function ESe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SSe(n,e){if(n==null)return{};var t,r,i=xSe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function xSe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function TSe(){var n=Ve(cP),e=Ve(fP),t=Vn(),r=Ve(HY),i=Ve(Fl),s=bx(),a=Bx(),A=Ve(l=>l.rootProps.className);I.useEffect(()=>{if(n==null)return Tw;var l=(c,f,h)=>{if(e!==h&&n===c){if(r==="index"){var g;if(a&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:b,y:B}=v,S=SSe(v,CSe),{x,y:_,width:T,height:M}=f.payload.sourceViewBox,F=Mh(Mh({},S),{},{x:a.x+(T?(b-x)/T:0)*a.width,y:a.y+(M?(B-_)/M:0)*a.height});t(Mh(Mh({},f),{},{payload:Mh(Mh({},f.payload),{},{coordinate:F})}))}else t(f);return}if(i!=null){var R;if(typeof r=="function"){var L={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},K=r(i,L);R=i[K]}else r==="value"&&(R=i.find(H=>String(H.value)===f.payload.label));var{coordinate:O}=f.payload;if(R==null||f.payload.active===!1||O==null||a==null){t(wD({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$,y:G}=O,Y=Math.min($,a.x+a.width),J=Math.min(G,a.y+a.height),ne={x:s==="horizontal"?R.coordinate:Y,y:s==="horizontal"?J:R.coordinate},fe=wD({active:f.payload.active,coordinate:ne,dataKey:f.payload.dataKey,index:String(R.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});t(fe)}}};return My.on(bD,l),()=>{My.off(bD,l)}},[A,t,e,n,r,i,s,a])}function _Se(){var n=Ve(cP),e=Ve(fP),t=Vn();I.useEffect(()=>{if(n==null)return Tw;var r=(i,s,a)=>{e!==a&&n===i&&t(ySe(s))};return My.on(IG,r),()=>{My.off(IG,r)}},[t,e,n])}function ISe(){var n=Vn();I.useEffect(()=>{n(gSe())},[n]),TSe(),_Se()}function USe(n,e,t,r,i,s){var a=Ve(v=>QEe(v,n,e)),A=Ve(fP),l=Ve(cP),c=Ve(HY),f=Ve(mSe),h=f==null?void 0:f.active,g=Bx();I.useEffect(()=>{if(!h&&l!=null&&A!=null){var v=wD({active:s,coordinate:t,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});My.emit(bD,l,v,A)}},[h,t,a,i,r,A,l,c,s,g])}function MG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MG(Object(t),!0).forEach(function(r){FSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FSe(n,e,t){return(e=MSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MSe(n){var e=DSe(n,"string");return typeof e=="symbol"?e:e+""}function DSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RSe(n){return n.dataKey}function PSe(n,e){return I.isValidElement(n)?I.cloneElement(n,e):typeof n=="function"?I.createElement(n,e):I.createElement(vye,e)}var RG=[],QSe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function NSe(n){var e,t,r=Ba(n,QSe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:A,content:l,filterNull:c,isAnimationActive:f,offset:h,payloadUniqBy:g,position:v,reverseDirection:b,useTranslate3d:B,wrapperStyle:S,cursor:x,shared:_,trigger:T,defaultIndex:M,portal:F,axisId:R}=r,L=Vn(),K=typeof M=="number"?String(M):M;I.useEffect(()=>{L(Mbe({shared:_,trigger:T,axisId:R,active:i,defaultIndex:K}))},[L,_,T,R,i,K]);var O=Bx(),$=D$(),G=xbe(_),{activeIndex:Y,isActive:J}=(e=Ve(ye=>kEe(ye,G,T,K)))!==null&&e!==void 0?e:{},ne=Ve(ye=>LEe(ye,G,T,K)),fe=Ve(ye=>eW(ye,G,T,K)),H=Ve(ye=>NEe(ye,G,T,K)),z=ne,oe=lSe(),le=(t=i??J)!==null&&t!==void 0?t:!1,[Ce,V]=Jge([z,le]),W=G==="axis"?fe:void 0;USe(G,T,H,W,Y,le);var ae=F??oe;if(ae==null||O==null||G==null)return null;var ue=z??RG;le||(ue=RG),c&&ue.length&&(ue=Ege(ue.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),g,RSe));var we=ue.length>0,ve=I.createElement(Sye,{allowEscapeViewBox:s,animationDuration:a,animationEasing:A,isAnimationActive:f,active:le,coordinate:H,hasPayload:we,offset:h,position:v,reverseDirection:b,useTranslate3d:B,viewBox:O,wrapperStyle:S,lastBoundingBox:Ce,innerRef:V,hasPortalFromProps:!!F},PSe(l,DG(DG({},r),{},{payload:ue,label:W,active:le,activeIndex:Y,coordinate:H,accessibilityLayer:$})));return I.createElement(I.Fragment,null,jV.createPortal(ve,ae),le&&I.createElement(ASe,{cursor:x,tooltipEventType:G,coordinate:H,payload:ue,index:Y}))}var NP=n=>null;NP.displayName="Cell";function LSe(n,e,t){return(e=kSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kSe(n){var e=OSe(n,"string");return typeof e=="symbol"?e:e+""}function OSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class HSe{constructor(e){LSe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function PG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function KSe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PG(Object(t),!0).forEach(function(r){GSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function GSe(n,e,t){return(e=VSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VSe(n){var e=zSe(n,"string");return typeof e=="symbol"?e:e+""}function zSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var qSe={cacheSize:2e3,enableCache:!0},sW=KSe({},qSe),QG=new HSe(sW.cacheSize),$Se={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NG="recharts_measurement_span";function YSe(n,e){var t=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",A=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(A)}var LG=(n,e)=>{try{var t=document.getElementById(NG);t||(t=document.createElement("span"),t.setAttribute("id",NG),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,$Se,e),t.textContent="".concat(n);var r=t.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ay=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Dw.isSsr)return{width:0,height:0};if(!sW.enableCache)return LG(e,t);var r=YSe(e,t),i=QG.get(r);if(i)return i;var s=LG(e,t);return QG.set(r,s),s},kG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XSe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,WSe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jSe=Object.keys(aW),Yh="NaN";function JSe(n,e){return n*aW[e]}class qi{static parse(e){var t,[,r,i]=(t=WSe.exec(e))!==null&&t!==void 0?t:[];return new qi(parseFloat(r),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Ho(e)&&(this.unit=""),t!==""&&!XSe.test(t)&&(this.num=NaN,this.unit=""),jSe.includes(t)&&(this.num=JSe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new qi(NaN,""):new qi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new qi(NaN,""):new qi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qi(NaN,""):new qi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qi(NaN,""):new qi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ho(this.num)}}function oW(n){if(n.includes(Yh))return Yh;for(var e=n;e.includes("*")||e.includes("/");){var t,[,r,i,s]=(t=kG.exec(e))!==null&&t!==void 0?t:[],a=qi.parse(r??""),A=qi.parse(s??""),l=i==="*"?a.multiply(A):a.divide(A);if(l.isNaN())return Yh;e=e.replace(kG,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,f,h,g]=(c=OG.exec(e))!==null&&c!==void 0?c:[],v=qi.parse(f??""),b=qi.parse(g??""),B=h==="+"?v.add(b):v.subtract(b);if(B.isNaN())return Yh;e=e.replace(OG,B.toString())}return e}var HG=/\(([^()]*)\)/;function ZSe(n){for(var e=n,t;(t=HG.exec(e))!=null;){var[,r]=t;e=e.replace(HG,oW(r))}return e}function exe(n){var e=n.replace(/\s+/g,"");return e=ZSe(e),e=oW(e),e}function txe(n){try{return exe(n)}catch{return Yh}}function AU(n){var e=txe(n.slice(5,-1));return e===Yh?"":e}var nxe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rxe=["dx","dy","angle","className","breakAll"];function ED(){return ED=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ED.apply(null,arguments)}function KG(n,e){if(n==null)return{};var t,r,i=ixe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ixe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var AW=/[ \f\n\r\t\v\u2028\u2029]+/,lW=n=>{var{children:e,breakAll:t,style:r}=n;try{var i=[];_r(e)||(t?i=e.toString().split(""):i=e.toString().split(AW));var s=i.map(A=>({word:A,width:ay(A,r).width})),a=t?0:ay("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function sxe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var uW=(n,e,t,r)=>n.reduce((i,s)=>{var{word:a,width:A}=s,l=i[i.length-1];if(l&&A!=null&&(e==null||r||l.width+A+t<Number(e)))l.words.push(a),l.width+=A+t;else{var c={words:[a],width:A};i.push(c)}return i},[]),cW=n=>n.reduce((e,t)=>e.width>t.width?e:t),axe="",GG=(n,e,t,r,i,s,a,A)=>{var l=n.slice(0,e),c=lW({breakAll:t,style:r,children:l+axe});if(!c)return[!1,[]];var f=uW(c.wordsWithComputedWidth,s,a,A),h=f.length>i||cW(f).width>Number(s);return[h,f]},oxe=(n,e,t,r,i)=>{var{maxLines:s,children:a,style:A,breakAll:l}=n,c=qe(s),f=String(a),h=uW(e,r,t,i);if(!c||i)return h;var g=h.length>s||cW(h).width>Number(r);if(!g)return h;for(var v=0,b=f.length-1,B=0,S;v<=b&&B<=f.length-1;){var x=Math.floor((v+b)/2),_=x-1,[T,M]=GG(f,_,l,A,s,r,t,i),[F]=GG(f,x,l,A,s,r,t,i);if(!T&&!F&&(v=x+1),T&&F&&(b=x-1),!T&&F){S=M;break}B++}return S||h},VG=n=>{var e=_r(n)?[]:n.toString().split(AW);return[{words:e,width:void 0}]},Axe=n=>{var{width:e,scaleToFit:t,children:r,style:i,breakAll:s,maxLines:a}=n;if((e||t)&&!Dw.isSsr){var A,l,c=lW({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:f,spaceWidth:h}=c;A=f,l=h}else return VG(r);return oxe({breakAll:s,children:r,maxLines:a,style:i},A,l,e,!!t)}return VG(r)},fW="#808080",lxe={angle:0,breakAll:!1,capHeight:"0.71em",fill:fW,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},LP=I.forwardRef((n,e)=>{var t=Ba(n,lxe),{x:r,y:i,lineHeight:s,capHeight:a,fill:A,scaleToFit:l,textAnchor:c,verticalAnchor:f}=t,h=KG(t,nxe),g=I.useMemo(()=>Axe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:b,angle:B,className:S,breakAll:x}=h,_=KG(h,rxe);if(!Ko(r)||!Ko(i)||g.length===0)return null;var T=Number(r)+(qe(v)?v:0),M=Number(i)+(qe(b)?b:0);if(!Gn(T)||!Gn(M))return null;var F;switch(f){case"start":F=AU("calc(".concat(a,")"));break;case"middle":F=AU("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:F=AU("calc(".concat(g.length-1," * -").concat(s,")"));break}var R=[];if(l){var L=g[0].width,{width:K}=h;R.push("scale(".concat(qe(K)&&qe(L)?K/L:1,")"))}return B&&R.push("rotate(".concat(B,", ").concat(T,", ").concat(M,")")),R.length&&(_.transform=R.join(" ")),I.createElement("text",ED({},ya(_),{ref:e,x:T,y:M,className:kt("recharts-text",S),textAnchor:c,fill:A.includes("url")?fW:A}),g.map((O,$)=>{var G=O.words.join(x?"":" ");return I.createElement("tspan",{x:T,dy:$===0?F:s,key:"".concat(G,"-").concat($)},G)}))});LP.displayName="Text";var uxe=["labelRef"];function cxe(n,e){if(n==null)return{};var t,r,i=fxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function fxe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function zG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zG(Object(t),!0).forEach(function(r){dxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dxe(n,e,t){return(e=hxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hxe(n){var e=pxe(n,"string");return typeof e=="symbol"?e:e+""}function pxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function el(){return el=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},el.apply(null,arguments)}var dW=I.createContext(null),gxe=n=>{var{x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a,children:A}=n,l=I.useMemo(()=>({x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,t,r,i,s,a]);return I.createElement(dW.Provider,{value:l},A)},hW=()=>{var n=I.useContext(dW),e=Bx();return n||S$(e)},mxe=I.createContext(null),vxe=()=>{var n=I.useContext(mxe),e=Ve(qY);return n||e},yxe=n=>{var{value:e,formatter:t}=n,r=_r(n.children)?e:n.children;return typeof t=="function"?t(r):r},kP=n=>n!=null&&typeof n=="function",wxe=(n,e)=>{var t=Us(e-n),r=Math.min(Math.abs(e-n),360);return t*r},Cxe=(n,e,t,r,i)=>{var{offset:s,className:a}=n,{cx:A,cy:l,innerRadius:c,outerRadius:f,startAngle:h,endAngle:g,clockWise:v}=i,b=(c+f)/2,B=wxe(h,g),S=B>=0?1:-1,x,_;switch(e){case"insideStart":x=h+S*s,_=v;break;case"insideEnd":x=g-S*s,_=!v;break;case"end":x=g+S*s,_=v;break;default:throw new Error("Unsupported position ".concat(e))}_=B<=0?_:!_;var T=Xr(A,l,b,x),M=Xr(A,l,b,x+(_?1:-1)*359),F="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(M.x,",").concat(M.y),R=_r(n.id)?yy("recharts-radial-line-"):n.id;return I.createElement("text",el({},r,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",a)}),I.createElement("defs",null,I.createElement("path",{id:R,d:F})),I.createElement("textPath",{xlinkHref:"#".concat(R)},t))},Bxe=(n,e,t)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:A,endAngle:l}=n,c=(A+l)/2;if(t==="outside"){var{x:f,y:h}=Xr(r,i,a+e,c);return{x:f,y:h,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:b}=Xr(r,i,g,c);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},SD=n=>"cx"in n&&qe(n.cx),bxe=(n,e)=>{var{parentViewBox:t,offset:r,position:i}=n,s;t!=null&&!SD(t)&&(s=t);var{x:a,y:A,upperWidth:l,lowerWidth:c,height:f}=e,h=a,g=a+(l-c)/2,v=(h+g)/2,b=(l+c)/2,B=h+l/2,S=f>=0?1:-1,x=S*r,_=S>0?"end":"start",T=S>0?"start":"end",M=l>=0?1:-1,F=M*r,R=M>0?"end":"start",L=M>0?"start":"end";if(i==="top"){var K={x:h+l/2,y:A-x,textAnchor:"middle",verticalAnchor:_};return kn(kn({},K),s?{height:Math.max(A-s.y,0),width:l}:{})}if(i==="bottom"){var O={x:g+c/2,y:A+f+x,textAnchor:"middle",verticalAnchor:T};return kn(kn({},O),s?{height:Math.max(s.y+s.height-(A+f),0),width:c}:{})}if(i==="left"){var $={x:v-F,y:A+f/2,textAnchor:R,verticalAnchor:"middle"};return kn(kn({},$),s?{width:Math.max($.x-s.x,0),height:f}:{})}if(i==="right"){var G={x:v+b+F,y:A+f/2,textAnchor:L,verticalAnchor:"middle"};return kn(kn({},G),s?{width:Math.max(s.x+s.width-G.x,0),height:f}:{})}var Y=s?{width:b,height:f}:{};return i==="insideLeft"?kn({x:v+F,y:A+f/2,textAnchor:L,verticalAnchor:"middle"},Y):i==="insideRight"?kn({x:v+b-F,y:A+f/2,textAnchor:R,verticalAnchor:"middle"},Y):i==="insideTop"?kn({x:h+l/2,y:A+x,textAnchor:"middle",verticalAnchor:T},Y):i==="insideBottom"?kn({x:g+c/2,y:A+f-x,textAnchor:"middle",verticalAnchor:_},Y):i==="insideTopLeft"?kn({x:h+F,y:A+x,textAnchor:L,verticalAnchor:T},Y):i==="insideTopRight"?kn({x:h+l-F,y:A+x,textAnchor:R,verticalAnchor:T},Y):i==="insideBottomLeft"?kn({x:g+F,y:A+f-x,textAnchor:L,verticalAnchor:_},Y):i==="insideBottomRight"?kn({x:g+c-F,y:A+f-x,textAnchor:R,verticalAnchor:_},Y):i&&typeof i=="object"&&(qe(i.x)||hl(i.x))&&(qe(i.y)||hl(i.y))?kn({x:a+Xa(i.x,b),y:A+Xa(i.y,f),textAnchor:"end",verticalAnchor:"end"},Y):kn({x:B,y:A+f/2,textAnchor:"middle",verticalAnchor:"middle"},Y)},Exe={angle:0,offset:5,zIndex:Xi.label,position:"middle",textBreakAll:!1};function ou(n){var e=Ba(n,Exe),{viewBox:t,position:r,value:i,children:s,content:a,className:A="",textBreakAll:l,labelRef:c}=e,f=vxe(),h=hW(),g=r==="center"?h:f??h,v,b,B;if(t==null?v=g:SD(t)?v=t:v=S$(t),!v||_r(i)&&_r(s)&&!I.isValidElement(a)&&typeof a!="function")return null;var S=kn(kn({},e),{},{viewBox:v});if(I.isValidElement(a)){var{labelRef:x}=S,_=cxe(S,uxe);return I.cloneElement(a,_)}if(typeof a=="function"){if(b=I.createElement(a,S),I.isValidElement(b))return b}else b=yxe(e);var T=ya(e);if(SD(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Cxe(e,r,b,T,v);B=Bxe(v,e.offset,e.position)}else B=bxe(e,v);return I.createElement(bc,{zIndex:e.zIndex},I.createElement(LP,el({ref:c,className:kt("recharts-label",A)},T,B,{textAnchor:sxe(T.textAnchor)?T.textAnchor:B.textAnchor,breakAll:l}),b))}ou.displayName="Label";var Sxe=(n,e,t)=>{if(!n)return null;var r={viewBox:e,labelRef:t};return n===!0?I.createElement(ou,el({key:"label-implicit"},r)):Ko(n)?I.createElement(ou,el({key:"label-implicit",value:n},r)):I.isValidElement(n)?n.type===ou?I.cloneElement(n,kn({key:"label-implicit"},r)):I.createElement(ou,el({key:"label-implicit",content:n},r)):kP(n)?I.createElement(ou,el({key:"label-implicit",content:n},r)):n&&typeof n=="object"?I.createElement(ou,el({},n,{key:"label-implicit"},r)):null};function xxe(n){var{label:e,labelRef:t}=n,r=hW();return Sxe(e,r,t)||null}var lU={},uU={},qG;function Txe(){return qG||(qG=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(uU)),uU}var cU={},$G;function _xe(){return $G||($G=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(cU)),cU}var YG;function Ixe(){return YG||(YG=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Txe(),t=_xe(),r=BR();function i(s){if(r.isArrayLike(s))return e.last(t.toArray(s))}n.last=i})(lU)),lU}var fU,XG;function Uxe(){return XG||(XG=1,fU=Ixe().last),fU}var Fxe=Uxe();const Mxe=Ja(Fxe);var Dxe=["valueAccessor"],Rxe=["dataKey","clockWise","id","textBreakAll","zIndex"];function oS(){return oS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oS.apply(null,arguments)}function WG(n,e){if(n==null)return{};var t,r,i=Pxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Pxe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Qxe=n=>Array.isArray(n.value)?Mxe(n.value):n.value,pW=I.createContext(void 0),Nxe=pW.Provider,gW=I.createContext(void 0);gW.Provider;function Lxe(){return I.useContext(pW)}function kxe(){return I.useContext(gW)}function jb(n){var{valueAccessor:e=Qxe}=n,t=WG(n,Dxe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:A}=t,l=WG(t,Rxe),c=Lxe(),f=kxe(),h=c||f;return!h||!h.length?null:I.createElement(bc,{zIndex:A??Xi.label},I.createElement(dl,{className:"recharts-label-list"},h.map((g,v)=>{var b,B=_r(r)?e(g,v):ci(g&&g.payload,r),S=_r(s)?{}:{id:"".concat(s,"-").concat(v)};return I.createElement(ou,oS({key:"label-".concat(v)},ya(g),l,S,{fill:(b=t.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:B,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}jb.displayName="LabelList";function Oxe(n){var{label:e}=n;return e?e===!0?I.createElement(jb,{key:"labelList-implicit"}):I.isValidElement(e)||kP(e)?I.createElement(jb,{key:"labelList-implicit",content:e}):typeof e=="object"?I.createElement(jb,oS({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Hxe={radiusAxis:{},angleAxis:{}},mW=Wi({name:"polarAxis",initialState:Hxe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:AUe,removeRadiusAxis:lUe,addAngleAxis:uUe,removeAngleAxis:cUe}=mW.actions,Kxe=mW.reducer,dU={exports:{}},Vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jG;function Gxe(){if(jG)return Vt;jG=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(B){if(typeof B=="object"&&B!==null){var S=B.$$typeof;switch(S){case n:switch(B=B.type,B){case t:case i:case r:case l:case c:case g:return B;default:switch(B=B&&B.$$typeof,B){case a:case A:case h:case f:return B;case s:return B;default:return S}}case e:return S}}}return Vt.ContextConsumer=s,Vt.ContextProvider=a,Vt.Element=n,Vt.ForwardRef=A,Vt.Fragment=t,Vt.Lazy=h,Vt.Memo=f,Vt.Portal=e,Vt.Profiler=i,Vt.StrictMode=r,Vt.Suspense=l,Vt.SuspenseList=c,Vt.isContextConsumer=function(B){return b(B)===s},Vt.isContextProvider=function(B){return b(B)===a},Vt.isElement=function(B){return typeof B=="object"&&B!==null&&B.$$typeof===n},Vt.isForwardRef=function(B){return b(B)===A},Vt.isFragment=function(B){return b(B)===t},Vt.isLazy=function(B){return b(B)===h},Vt.isMemo=function(B){return b(B)===f},Vt.isPortal=function(B){return b(B)===e},Vt.isProfiler=function(B){return b(B)===i},Vt.isStrictMode=function(B){return b(B)===r},Vt.isSuspense=function(B){return b(B)===l},Vt.isSuspenseList=function(B){return b(B)===c},Vt.isValidElementType=function(B){return typeof B=="string"||typeof B=="function"||B===t||B===i||B===r||B===l||B===c||typeof B=="object"&&B!==null&&(B.$$typeof===h||B.$$typeof===f||B.$$typeof===a||B.$$typeof===s||B.$$typeof===A||B.$$typeof===v||B.getModuleId!==void 0)},Vt.typeOf=b,Vt}var JG;function Vxe(){return JG||(JG=1,dU.exports=Gxe()),dU.exports}var zxe=Vxe(),ZG=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",eV=null,hU=null,vW=n=>{if(n===eV&&Array.isArray(hU))return hU;var e=[];return I.Children.forEach(n,t=>{_r(t)||(zxe.isFragment(t)?e=e.concat(vW(t.props.children)):e.push(t))}),hU=e,eV=n,e};function qxe(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(i=>ZG(i)):r=[ZG(e)],vW(n).forEach(i=>{var s=kg(i,"type.displayName")||kg(i,"type.name");s&&r.indexOf(s)!==-1&&t.push(i)}),t}var pU={},tV;function $xe(){return tV||(tV=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&i.writable)?!1:t.toString()===`[object ${s}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}n.isPlainObject=e})(pU)),pU}var gU,nV;function Yxe(){return nV||(nV=1,gU=$xe().isPlainObject),gU}var Xxe=Yxe();const Wxe=Ja(Xxe);function rV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function iV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(t),!0).forEach(function(r){jxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jxe(n,e,t){return(e=Jxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jxe(n){var e=Zxe(n,"string");return typeof e=="symbol"?e:e+""}function Zxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AS(){return AS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AS.apply(null,arguments)}var sV=(n,e,t,r,i)=>{var s=t-r,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+i),a+="L ".concat(n+t-s/2-r,",").concat(e+i),a+="L ".concat(n,",").concat(e," Z"),a},eTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tTe=n=>{var e=Ba(n,eTe),{x:t,y:r,upperWidth:i,lowerWidth:s,height:a,className:A}=e,{animationEasing:l,animationDuration:c,animationBegin:f,isUpdateAnimationActive:h}=e,g=I.useRef(null),[v,b]=I.useState(-1),B=I.useRef(i),S=I.useRef(s),x=I.useRef(a),_=I.useRef(t),T=I.useRef(r),M=NR(n,"trapezoid-");if(I.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ne=g.current.getTotalLength();ne&&b(ne)}catch{}},[]),t!==+t||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var F=kt("recharts-trapezoid",A);if(!h)return I.createElement("g",null,I.createElement("path",AS({},ya(e),{className:F,d:sV(t,r,i,s,a)})));var R=B.current,L=S.current,K=x.current,O=_.current,$=T.current,G="0px ".concat(v===-1?1:v,"px"),Y="".concat(v,"px 0px"),J=P$(["strokeDasharray"],c,l);return I.createElement(QR,{animationId:M,key:M,canBegin:v>0,duration:c,easing:l,isActive:h,begin:f},ne=>{var fe=zr(R,i,ne),H=zr(L,s,ne),z=zr(K,a,ne),oe=zr(O,t,ne),le=zr($,r,ne);g.current&&(B.current=fe,S.current=H,x.current=z,_.current=oe,T.current=le);var Ce=ne>0?{transition:J,strokeDasharray:Y}:{strokeDasharray:G};return I.createElement("path",AS({},ya(e),{className:F,d:sV(oe,le,fe,H,z),ref:g,style:iV(iV({},Ce),e.style)}))})},nTe=["option","shapeType","propTransformer","activeClassName"];function rTe(n,e){if(n==null)return{};var t,r,i=iTe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function iTe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function aV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(t),!0).forEach(function(r){sTe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sTe(n,e,t){return(e=aTe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aTe(n){var e=oTe(n,"string");return typeof e=="symbol"?e:e+""}function oTe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ATe(n,e){return lS(lS({},e),n)}function lTe(n,e){return n==="symbols"}function oV(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return I.createElement(k$,t);case"trapezoid":return I.createElement(tTe,t);case"sector":return I.createElement(K$,t);case"symbols":if(lTe(e))return I.createElement(I6,t);break;case"curve":return I.createElement(R$,t);default:return null}}function uTe(n){return I.isValidElement(n)?n.props:n}function cTe(n){var{option:e,shapeType:t,propTransformer:r=ATe,activeClassName:i="recharts-active-shape"}=n,s=rTe(n,nTe),a;if(I.isValidElement(e))a=I.cloneElement(e,lS(lS({},s),uTe(e)));else if(typeof e=="function")a=e(s,s.index);else if(Wxe(e)&&typeof e!="boolean"){var A=r(e,s);a=I.createElement(oV,{shapeType:t,elementProps:A})}else{var l=s;a=I.createElement(oV,{shapeType:t,elementProps:l})}return s.isActive?I.createElement(dl,{className:i},a):a}var yW=(n,e,t)=>{var r=Vn();return(i,s)=>a=>{n==null||n(i,s,a),r(PX({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}},wW=n=>{var e=Vn();return(t,r)=>i=>{n==null||n(t,r,i),e(Dbe())}},CW=(n,e,t)=>{var r=Vn();return(i,s)=>a=>{n==null||n(i,s,a),r(Rbe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}};function fTe(n){var{tooltipEntrySettings:e}=n,t=Vn(),r=Qs(),i=I.useRef(null);return I.useLayoutEffect(()=>{r||(i.current===null?t(Ibe(e)):i.current!==e&&t(Ube({prev:i.current,next:e})),i.current=e)},[e,t,r]),I.useLayoutEffect(()=>()=>{i.current&&(t(Fbe(i.current)),i.current=null)},[t]),null}function dTe(n){var{legendPayload:e}=n,t=Vn(),r=Qs(),i=I.useRef(null);return I.useLayoutEffect(()=>{r||(i.current===null?t(uye(e)):i.current!==e&&t(cye({prev:i.current,next:e})),i.current=e)},[t,r,e]),I.useLayoutEffect(()=>()=>{i.current&&(t(fye(i.current)),i.current=null)},[t]),null}var mU,hTe=()=>{var[n]=I.useState(()=>yy("uid-"));return n},pTe=(mU=f9.useId)!==null&&mU!==void 0?mU:hTe;function BW(n,e){var t=pTe();return e||(n?"".concat(n,"-").concat(t):t)}var gTe=I.createContext(void 0),mTe=n=>{var{id:e,type:t,children:r}=n,i=BW("recharts-".concat(t),e);return I.createElement(gTe.Provider,{value:i},r(i))},vTe={cartesianItems:[],polarItems:[]},bW=Wi({name:"graphicalItems",initialState:vTe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:yn()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:r}=e.payload,i=$a(n).cartesianItems.indexOf(t);i>-1&&(n.cartesianItems[i]=r)},prepare:yn()},removeCartesianGraphicalItem:{reducer(n,e){var t=$a(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:yn()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:yn()},removePolarGraphicalItem:{reducer(n,e){var t=$a(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:yn()}}}),{addCartesianGraphicalItem:yTe,replaceCartesianGraphicalItem:wTe,removeCartesianGraphicalItem:CTe,addPolarGraphicalItem:fUe,removePolarGraphicalItem:dUe}=bW.actions,BTe=bW.reducer,bTe=n=>{var e=Vn(),t=I.useRef(null);return I.useLayoutEffect(()=>{t.current===null?e(yTe(n)):t.current!==n&&e(wTe({prev:t.current,next:n})),t.current=n},[e,n]),I.useLayoutEffect(()=>()=>{t.current&&(e(CTe(t.current)),t.current=null)},[e]),null},ETe=I.memo(bTe);function AV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(t),!0).forEach(function(r){STe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function STe(n,e,t){return(e=xTe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xTe(n){var e=TTe(n,"string");return typeof e=="symbol"?e:e+""}function TTe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _Te={xAxis:{},yAxis:{},zAxis:{}},EW=Wi({name:"cartesianAxis",initialState:_Te,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:yn()},replaceXAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.xAxis[t.id],n.xAxis[r.id]=r)},prepare:yn()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:yn()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:yn()},replaceYAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.yAxis[t.id],n.yAxis[r.id]=r)},prepare:yn()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:yn()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:yn()},replaceZAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.zAxis[t.id],n.zAxis[r.id]=r)},prepare:yn()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:yn()},updateYAxisWidth(n,e){var{id:t,width:r}=e.payload,i=n.yAxis[t];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);n.yAxis[t]=lV(lV({},n.yAxis[t]),{},{width:r,widthHistory:a})}}}}),{addXAxis:ITe,replaceXAxis:UTe,removeXAxis:FTe,addYAxis:MTe,replaceYAxis:DTe,removeYAxis:RTe,addZAxis:hUe,replaceZAxis:pUe,removeZAxis:gUe,updateYAxisWidth:PTe}=EW.actions,QTe=EW.reducer,NTe=se([Ir],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),LTe=se([NTe,xl,Tl],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),SW=()=>Ve(LTe),kTe=["x","y"];function xD(){return xD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xD.apply(null,arguments)}function uV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(t),!0).forEach(function(r){OTe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function OTe(n,e,t){return(e=HTe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HTe(n){var e=KTe(n,"string");return typeof e=="symbol"?e:e+""}function KTe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function GTe(n,e){if(n==null)return{};var t,r,i=VTe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function VTe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function zTe(n,e){var{x:t,y:r}=n,i=GTe(n,kTe),s="".concat(t),a=parseInt(s,10),A="".concat(r),l=parseInt(A,10),c="".concat(e.height||i.height),f=parseInt(c,10),h="".concat(e.width||i.width),g=parseInt(h,10);return Bv(Bv(Bv(Bv(Bv({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function uS(n){return I.createElement(cTe,xD({shapeType:"rectangle",propTransformer:zTe,activeClassName:"recharts-active-bar"},n))}var qTe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(qe(e))return e;var s=qe(r)||_r(r);return s?e(r,i):(s||Xt(!1),t)}},$Te={},xW=Wi({name:"errorBars",initialState:$Te,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]||(n[t]=[]),n[t].push(r)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:r,next:i}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]&&(n[t]=n[t].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:mUe,replaceErrorBar:vUe,removeErrorBar:yUe}=xW.actions,YTe=xW.reducer,XTe=["children"];function WTe(n,e){if(n==null)return{};var t,r,i=jTe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function jTe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var JTe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ZTe=I.createContext(JTe);function e1e(n){var{children:e}=n,t=WTe(n,XTe);return I.createElement(ZTe.Provider,{value:t},e)}function TW(n,e){var t,r,i=Ve(c=>Il(c,n)),s=Ve(c=>Ul(c,e)),a=(t=i==null?void 0:i.allowDataOverflow)!==null&&t!==void 0?t:mr.allowDataOverflow,A=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:vr.allowDataOverflow,l=a||A;return{needClip:l,needClipX:a,needClipY:A}}function t1e(n){var{xAxisId:e,yAxisId:t,clipPathId:r}=n,i=SW(),{needClipX:s,needClipY:a,needClip:A}=TW(e,t);if(!A||!i)return null;var{x:l,y:c,width:f,height:h}=i;return I.createElement("clipPath",{id:"clipPath-".concat(r)},I.createElement("rect",{x:s?l:l-f/2,y:a?c:c-h/2,width:s?f:f*2,height:a?h:h*2}))}function n1e(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&Gn(n.zIndex)?n.zIndex:e}var vU={exports:{}},yU={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cV;function r1e(){if(cV)return yU;cV=1;var n=Xg();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,a=n.useMemo,A=n.useDebugValue;return yU.useSyncExternalStoreWithSelector=function(l,c,f,h,g){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function S(F){if(!x){if(x=!0,_=F,F=h(F),g!==void 0&&b.hasValue){var R=b.value;if(g(R,F))return T=R}return T=F}if(R=T,t(_,F))return R;var L=h(F);return g!==void 0&&g(R,L)?(_=F,R):(_=F,T=L)}var x=!1,_,T,M=f===void 0?null:f;return[function(){return S(c())},M===null?void 0:function(){return S(M())}]},[c,f,h,g]);var B=r(l,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=B},[B]),A(B),B},yU}var fV;function i1e(){return fV||(fV=1,vU.exports=r1e()),vU.exports}i1e();function s1e(n){n()}function a1e(){let n=null,e=null;return{clear(){n=null,e=null},notify(){s1e(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var dV={notify(){},get:()=>[]};function o1e(n,e){let t,r=dV,i=0,s=!1;function a(B){f();const S=r.subscribe(B);let x=!1;return()=>{x||(x=!0,S(),h())}}function A(){r.notify()}function l(){b.onStateChange&&b.onStateChange()}function c(){return s}function f(){i++,t||(t=n.subscribe(l),r=a1e())}function h(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=dV)}function g(){s||(s=!0,f())}function v(){s&&(s=!1,h())}const b={addNestedSub:a,notifyNestedSubs:A,handleChangeWrapper:l,isSubscribed:c,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return b}var A1e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l1e=A1e(),u1e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",c1e=u1e(),f1e=()=>l1e||c1e?I.useLayoutEffect:I.useEffect,d1e=f1e();function hV(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function h1e(n,e){if(hV(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!hV(n[t[i]],e[t[i]]))return!1;return!0}var wU=Symbol.for("react-redux-context"),CU=typeof globalThis<"u"?globalThis:{};function p1e(){if(!I.createContext)return{};const n=CU[wU]??(CU[wU]=new Map);let e=n.get(I.createContext);return e||(e=I.createContext(null),n.set(I.createContext,e)),e}var g1e=p1e();function m1e(n){const{children:e,context:t,serverState:r,store:i}=n,s=I.useMemo(()=>{const l=o1e(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=I.useMemo(()=>i.getState(),[i]);d1e(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const A=t||g1e;return I.createElement(A.Provider,{value:s},e)}var v1e=m1e,y1e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function w1e(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function OP(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var r of t)if(y1e.has(r)){if(n[r]==null&&e[r]==null)continue;if(!h1e(n[r],e[r]))return!1}else if(!w1e(n[r],e[r]))return!1;return!0}var C1e=["onMouseEnter","onMouseLeave","onClick"],B1e=["value","background","tooltipPosition"],b1e=["id"],E1e=["onMouseEnter","onClick","onMouseLeave"];function wl(){return wl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wl.apply(null,arguments)}function pV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(t),!0).forEach(function(r){S1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function S1e(n,e,t){return(e=x1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x1e(n){var e=T1e(n,"string");return typeof e=="symbol"?e:e+""}function T1e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cS(n,e){if(n==null)return{};var t,r,i=_1e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function _1e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var I1e=n=>{var{dataKey:e,name:t,fill:r,legendType:i,hide:s}=n;return[{inactive:s,dataKey:e,type:i,color:r,value:w$(t,e),payload:n}]},U1e=I.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:r,fill:i,name:s,hide:a,unit:A,tooltipType:l}=n,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:w$(s,e),hide:a,type:l,color:i,unit:A}};return I.createElement(fTe,{tooltipEntrySettings:c})});function F1e(n){var e=Ve(Yg),{data:t,dataKey:r,background:i,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:A,onClick:l}=s,c=cS(s,C1e),f=yW(a,r),h=wW(A),g=CW(l,r);if(!i||t==null)return null;var v=hR(i);return I.createElement(bc,{zIndex:n1e(i,Xi.barBackground)},t.map((b,B)=>{var{value:S,background:x,tooltipPosition:_}=b,T=cS(b,B1e);if(!x)return null;var M=f(b,B),F=h(b,B),R=g(b,B),L=Bi(Bi(Bi(Bi(Bi({option:i,isActive:String(B)===e},T),{},{fill:"#eee"},x),v),CR(c,b,B)),{},{onMouseEnter:M,onMouseLeave:F,onClick:R,dataKey:r,index:B,className:"recharts-bar-background-rectangle"});return I.createElement(uS,wl({key:"background-bar-".concat(B)},L))}))}function M1e(n){var{showLabels:e,children:t,rects:r}=n,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Bi(Bi({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return I.createElement(Nxe,{value:e?i:void 0},t)}function D1e(n){var{shape:e,activeBar:t,baseProps:r,entry:i,index:s,dataKey:a}=n,A=Ve(Yg),l=Ve(XX),c=t&&String(s)===A&&(l==null||a===l),f=c?t:e;return c?I.createElement(bc,{zIndex:Xi.activeBar},I.createElement(uS,wl({},r,{name:String(r.name)},i,{isActive:c,option:f,index:s,dataKey:a}))):I.createElement(uS,wl({},r,{name:String(r.name)},i,{isActive:c,option:f,index:s,dataKey:a}))}function R1e(n){var{shape:e,baseProps:t,entry:r,index:i,dataKey:s}=n;return I.createElement(uS,wl({},t,{name:String(t.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function P1e(n){var e,{data:t,props:r}=n,i=(e=dc(r))!==null&&e!==void 0?e:{},{id:s}=i,a=cS(i,b1e),{shape:A,dataKey:l,activeBar:c}=r,{onMouseEnter:f,onClick:h,onMouseLeave:g}=r,v=cS(r,E1e),b=yW(f,l),B=wW(g),S=CW(h,l);return t?I.createElement(I.Fragment,null,t.map((x,_)=>I.createElement(dl,wl({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(_),className:"recharts-bar-rectangle"},CR(v,x,_),{onMouseEnter:b(x,_),onMouseLeave:B(x,_),onClick:S(x,_)}),c?I.createElement(D1e,{shape:A,activeBar:c,baseProps:a,entry:x,index:_,dataKey:l}):I.createElement(R1e,{shape:A,baseProps:a,entry:x,index:_,dataKey:l})))):null}function Q1e(n){var{props:e,previousRectanglesRef:t}=n,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:A,animationEasing:l,onAnimationEnd:c,onAnimationStart:f}=e,h=t.current,g=NR(e,"recharts-bar-"),[v,b]=I.useState(!1),B=!v,S=I.useCallback(()=>{typeof c=="function"&&c(),b(!1)},[c]),x=I.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return I.createElement(M1e,{showLabels:B,rects:r},I.createElement(QR,{animationId:g,begin:a,duration:A,isActive:s,easing:l,onAnimationEnd:S,onAnimationStart:x,key:g},_=>{var T=_===1?r:r==null?void 0:r.map((M,F)=>{var R=h&&h[F];if(R)return Bi(Bi({},M),{},{x:zr(R.x,M.x,_),y:zr(R.y,M.y,_),width:zr(R.width,M.width,_),height:zr(R.height,M.height,_)});if(i==="horizontal"){var L=zr(0,M.height,_),K=zr(M.stackedBarStart,M.y,_);return Bi(Bi({},M),{},{y:K,height:L})}var O=zr(0,M.width,_),$=zr(M.stackedBarStart,M.x,_);return Bi(Bi({},M),{},{width:O,x:$})});return _>0&&(t.current=T??null),T==null?null:I.createElement(dl,null,I.createElement(P1e,{props:e,data:T}))}),I.createElement(Oxe,{label:e.label}),e.children)}function N1e(n){var e=I.useRef(null);return I.createElement(Q1e,{previousRectanglesRef:e,props:n})}var _W=0,L1e=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:ci(n,e)}};class k1e extends I.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:A,background:l,id:c}=this.props;if(e||t==null)return null;var f=kt("recharts-bar",i),h=c;return I.createElement(dl,{className:f,id:c},A&&I.createElement("defs",null,I.createElement(t1e,{clipPathId:h,xAxisId:s,yAxisId:a})),I.createElement(dl,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(h,")"):void 0},I.createElement(F1e,{data:t,dataKey:r,background:l,allOtherBarProps:this.props}),I.createElement(N1e,this.props)))}}var O1e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:_W,xAxisId:0,yAxisId:0,zIndex:Xi.bar};function H1e(n){var{xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:A,animationDuration:l,animationEasing:c,isAnimationActive:f}=n,{needClip:h}=TW(e,t),g=bx(),v=Qs(),b=qxe(n.children,NP),B=Ve(_=>p_e(_,e,t,v,n.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var S,x=B==null?void 0:B[0];return x==null||x.height==null||x.width==null?S=0:S=g==="vertical"?x.height/2:x.width/2,I.createElement(e1e,{xAxisId:e,yAxisId:t,data:B,dataPointFormatter:L1e,errorBarOffset:S},I.createElement(k1e,wl({},n,{layout:g,needClip:h,data:B,xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:A,animationDuration:l,animationEasing:c,isAnimationActive:f})))}function K1e(n){var{layout:e,barSettings:{dataKey:t,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:A,xAxisTicks:l,yAxisTicks:c,stackedData:f,displayedData:h,offset:g,cells:v,parentViewBox:b,dataStartIndex:B}=n,S=e==="horizontal"?A:a,x=f?S.scale.domain():null,_=uve({numericAxis:S}),T=S.scale(_);return h.map((M,F)=>{var R,L,K,O,$,G;f?R=ive(f[F+B],x):(R=ci(M,t),Array.isArray(R)||(R=[_,R]));var Y=qTe(r,_W)(R[1],F);if(e==="horizontal"){var J,[ne,fe]=[A.scale(R[0]),A.scale(R[1])];L=O3({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:M,index:F}),K=(J=fe??ne)!==null&&J!==void 0?J:void 0,O=i.size;var H=ne-fe;if($=Ho(H)?0:H,G={x:L,y:g.top,width:O,height:g.height},Math.abs(Y)>0&&Math.abs($)<Math.abs(Y)){var z=Us($||Y)*(Math.abs(Y)-Math.abs($));K-=z,$+=z}}else{var[oe,le]=[a.scale(R[0]),a.scale(R[1])];if(L=oe,K=O3({axis:A,ticks:c,bandSize:s,offset:i.offset,entry:M,index:F}),O=le-oe,$=i.size,G={x:g.left,y:K,width:g.width,height:$},Math.abs(Y)>0&&Math.abs(O)<Math.abs(Y)){var Ce=Us(O||Y)*(Math.abs(Y)-Math.abs(O));O+=Ce}}if(L==null||K==null||O==null||$==null)return null;var V=Bi(Bi({},M),{},{stackedBarStart:T,x:L,y:K,width:O,height:$,value:f?R:R[1],payload:M,background:G,tooltipPosition:{x:L+O/2,y:K+$/2},parentViewBox:b},v&&v[F]&&v[F].props);return V}).filter(Boolean)}function G1e(n){var e=Ba(n,O1e),t=Qs();return I.createElement(mTe,{id:e.id,type:"bar"},r=>I.createElement(I.Fragment,null,I.createElement(dTe,{legendPayload:I1e(e)}),I.createElement(U1e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),I.createElement(ETe,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:lve(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),I.createElement(bc,{zIndex:e.zIndex},I.createElement(H1e,wl({},e,{id:r})))))}var IW=I.memo(G1e,OP);IW.displayName="Bar";function gV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(t),!0).forEach(function(r){V1e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function V1e(n,e,t){return(e=z1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function z1e(n){var e=q1e(n,"string");return typeof e=="symbol"?e:e+""}function q1e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $1e=(n,e)=>e,Y1e=(n,e,t)=>t,X1e=(n,e,t,r)=>r,W1e=(n,e,t,r,i)=>i,$w=se([vP,W1e],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),j1e=se([$w],n=>n==null?void 0:n.maxBarSize),J1e=(n,e,t,r,i,s)=>s,mV=(n,e,t)=>{var r=t??n;if(!_r(r))return Xa(r,e,0)},Z1e=se([Ot,vP,$1e,Y1e,X1e],(n,e,t,r,i)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),e_e=(n,e,t,r)=>{var i=Ot(n);return i==="horizontal"?yD(n,"yAxis",t,r):yD(n,"xAxis",e,r)},t_e=(n,e,t)=>{var r=Ot(n);return r==="horizontal"?vG(n,"xAxis",e):vG(n,"yAxis",t)},n_e=(n,e,t)=>{var r={},i=n.filter(Lx),s=n.filter(c=>c.stackId==null),a=i.reduce((c,f)=>(c[f.stackId]||(c[f.stackId]=[]),c[f.stackId].push(f),c),r),A=Object.entries(a).map(c=>{var[f,h]=c,g=h.map(b=>b.dataKey),v=mV(e,t,h[0].barSize);return{stackId:f,dataKeys:g,barSize:v}}),l=s.map(c=>{var f=[c.dataKey].filter(g=>g!=null),h=mV(e,t,c.barSize);return{stackId:void 0,dataKeys:f,barSize:h}});return[...A,...l]},r_e=se([Z1e,BBe,t_e],n_e),i_e=(n,e,t,r,i)=>{var s,a,A=$w(n,e,t,r,i);if(A!=null){var l=Ot(n),c=LY(n),{maxBarSize:f}=A,h=_r(f)?c:f,g,v;return l==="horizontal"?(g=$g(n,"xAxis",e,r),v=qg(n,"xAxis",e,r)):(g=$g(n,"yAxis",t,r),v=qg(n,"yAxis",t,r)),(s=(a=kE(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},UW=(n,e,t,r)=>{var i=Ot(n),s,a;return i==="horizontal"?(s=$g(n,"xAxis",e,r),a=qg(n,"xAxis",e,r)):(s=$g(n,"yAxis",t,r),a=qg(n,"yAxis",t,r)),kE(s,a)};function s_e(n,e,t,r,i){var s=r.length;if(!(s<1)){var a=Xa(n,t,0,!0),A,l=[];if(Gn(r[0].barSize)){var c=!1,f=t/s,h=r.reduce((x,_)=>x+(_.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&f>0&&(c=!0,f*=.9,h=s*f);var g=(t-h)/2>>0,v={offset:g-a,size:0};A=r.reduce((x,_)=>{var T,M={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:v.offset+v.size+a,size:c?f:(T=_.barSize)!==null&&T!==void 0?T:0}},F=[...x,M];return v=F[F.length-1].position,F},l)}else{var b=Xa(e,t,0,!0);t-2*b-(s-1)*a<=0&&(a=0);var B=(t-2*b-(s-1)*a)/s;B>1&&(B>>=0);var S=Gn(i)?Math.min(B,i):B;A=r.reduce((x,_,T)=>[...x,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:b+(B+a)*T+(B-S)/2,size:S}}],l)}return A}}var a_e=(n,e,t,r,i,s,a)=>{var A=_r(a)?e:a,l=s_e(t,r,i!==s?i:s,n,A);return i!==s&&l!=null&&(l=l.map(c=>tb(tb({},c),{},{position:tb(tb({},c.position),{},{offset:c.position.offset-i/2})}))),l},o_e=se([r_e,LY,CBe,kY,i_e,UW,j1e],a_e),A_e=(n,e,t,r)=>$g(n,"xAxis",e,r),l_e=(n,e,t,r)=>$g(n,"yAxis",t,r),u_e=(n,e,t,r)=>qg(n,"xAxis",e,r),c_e=(n,e,t,r)=>qg(n,"yAxis",t,r),f_e=se([o_e,$w],(n,e)=>{if(!(n==null||e==null)){var t=n.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),d_e=(n,e)=>{var t=gP(e);if(!(!n||t==null||e==null)){var{stackId:r}=e;if(r!=null){var i=n[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===t)}}}},h_e=se([e_e,$w],d_e),p_e=se([Ir,MR,A_e,l_e,u_e,c_e,f_e,Ot,oP,UW,h_e,$w,J1e],(n,e,t,r,i,s,a,A,l,c,f,h,g)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:B}=l;if(!(h==null||a==null||e==null||A!=="horizontal"&&A!=="vertical"||t==null||r==null||i==null||s==null||c==null)){var{data:S}=h,x;if(S!=null&&S.length>0?x=S:x=v==null?void 0:v.slice(b,B+1),x!=null)return K1e({layout:A,barSettings:h,pos:a,parentViewBox:e,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:f,displayedData:x,offset:n,cells:g,dataStartIndex:b})}}),g_e=n=>{var{chartData:e}=n,t=Vn(),r=Qs();return I.useEffect(()=>r?()=>{}:(t(UG(e)),()=>{t(UG(void 0))}),[e,t,r]),null},vV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},FW=Wi({name:"brush",initialState:vV,reducers:{setBrushSettings(n,e){return e.payload==null?vV:e.payload}}}),{setBrushSettings:wUe}=FW.actions,m_e=FW.reducer;function v_e(n,e,t){return(e=y_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function y_e(n){var e=w_e(n,"string");return typeof e=="symbol"?e:e+""}function w_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class HP{static create(e){return new HP(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],i=t[t.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}v_e(HP,"EPS",1e-4);function C_e(n){return(n%180+180)%180}var B_e=function(e){var{width:t,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=C_e(i),a=s*Math.PI/180,A=Math.atan(r/t),l=a>A&&a<Math.PI-A?r/Math.sin(a):t/Math.cos(a);return Math.abs(l)},b_e={dots:[],areas:[],lines:[]},MW=Wi({name:"referenceElements",initialState:b_e,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=$a(n).dots.findIndex(r=>r===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=$a(n).areas.findIndex(r=>r===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=$a(n).lines.findIndex(r=>r===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:CUe,removeDot:BUe,addArea:bUe,removeArea:EUe,addLine:SUe,removeLine:xUe}=MW.actions,E_e=MW.reducer,S_e=I.createContext(void 0),x_e=n=>{var{children:e}=n,[t]=I.useState("".concat(yy("recharts"),"-clip")),r=SW();if(r==null)return null;var{x:i,y:s,width:a,height:A}=r;return I.createElement(S_e.Provider,{value:t},I.createElement("defs",null,I.createElement("clipPath",{id:t},I.createElement("rect",{x:i,y:s,height:A,width:a}))),e)};function DW(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],r=0;r<n.length;r+=e)t.push(n[r]);return t}function T_e(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return B_e(r,t)}function __e(n,e,t){var r=t==="width",{x:i,y:s,width:a,height:A}=n;return e===1?{start:r?i:s,end:r?i+a:s+A}:{start:r?i+a:s+A,end:r?i:s}}function fS(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function I_e(n,e){return DW(n,e+1)}function U_e(n,e,t,r,i){for(var s=(r||[]).slice(),{start:a,end:A}=e,l=0,c=1,f=a,h=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:DW(r,c)};var B=l,S,x=()=>(S===void 0&&(S=t(b,B)),S),_=b.coordinate,T=l===0||fS(n,_,x,f,A);T||(l=0,f=a,c+=1),T&&(f=_+n*(x()/2+i),l+=c)},g;c<=s.length;)if(g=h(),g)return g.v;return[]}function yV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function oi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(t),!0).forEach(function(r){F_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function F_e(n,e,t){return(e=M_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M_e(n){var e=D_e(n,"string");return typeof e=="symbol"?e:e+""}function D_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function R_e(n,e,t,r,i){for(var s=(r||[]).slice(),a=s.length,{start:A}=e,{end:l}=e,c=function(g){var v=s[g],b,B=()=>(b===void 0&&(b=t(v,g)),b);if(g===a-1){var S=n*(v.coordinate+n*B()/2-l);s[g]=v=oi(oi({},v),{},{tickCoord:S>0?v.coordinate-S*n:v.coordinate})}else s[g]=v=oi(oi({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var x=fS(n,v.tickCoord,B,A,l);x&&(l=v.tickCoord-n*(B()/2+i),s[g]=oi(oi({},v),{},{isShow:!0}))}},f=a-1;f>=0;f--)c(f);return s}function P_e(n,e,t,r,i,s){var a=(r||[]).slice(),A=a.length,{start:l,end:c}=e;if(s){var f=r[A-1],h=t(f,A-1),g=n*(f.coordinate+n*h/2-c);if(a[A-1]=f=oi(oi({},f),{},{tickCoord:g>0?f.coordinate-g*n:f.coordinate}),f.tickCoord!=null){var v=fS(n,f.tickCoord,()=>h,l,c);v&&(c=f.tickCoord-n*(h/2+i),a[A-1]=oi(oi({},f),{},{isShow:!0}))}}for(var b=s?A-1:A,B=function(_){var T=a[_],M,F=()=>(M===void 0&&(M=t(T,_)),M);if(_===0){var R=n*(T.coordinate-n*F()/2-l);a[_]=T=oi(oi({},T),{},{tickCoord:R<0?T.coordinate-R*n:T.coordinate})}else a[_]=T=oi(oi({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var L=fS(n,T.tickCoord,F,l,c);L&&(l=T.tickCoord+n*(F()/2+i),a[_]=oi(oi({},T),{},{isShow:!0}))}},S=0;S<b;S++)B(S);return a}function Q_e(n,e,t){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:A,interval:l,tickFormatter:c,unit:f,angle:h}=n;if(!i||!i.length||!r)return[];if(qe(l)||Dw.isSsr){var g;return(g=I_e(i,qe(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],b=A==="top"||A==="bottom"?"width":"height",B=f&&b==="width"?ay(f,{fontSize:e,letterSpacing:t}):{width:0,height:0},S=(T,M)=>{var F=typeof c=="function"?c(T.value,M):T.value;return b==="width"?T_e(ay(F,{fontSize:e,letterSpacing:t}),B,h):ay(F,{fontSize:e,letterSpacing:t})[b]},x=i.length>=2?Us(i[1].coordinate-i[0].coordinate):1,_=__e(s,x,b);return l==="equidistantPreserveStart"?U_e(x,_,S,i,a):(l==="preserveStart"||l==="preserveStartEnd"?v=P_e(x,_,S,i,a,l==="preserveStartEnd"):v=R_e(x,_,S,i,a),v.filter(T=>T.isShow))}var N_e=n=>{var{ticks:e,label:t,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>a&&(a=h.width)}});var A=t?t.getBoundingClientRect().width:0,l=i+s,c=a+l+A+(t?r:0);return Math.round(c)}return 0},L_e=["axisLine","width","height","className","hide","ticks","axisType"];function k_e(n,e){if(n==null)return{};var t,r,i=O_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function O_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Td(){return Td=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Td.apply(null,arguments)}function wV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function jn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(t),!0).forEach(function(r){H_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function H_e(n,e,t){return(e=K_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K_e(n){var e=G_e(n,"string");return typeof e=="symbol"?e:e+""}function G_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Cd={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Xi.axis};function V_e(n){var{x:e,y:t,width:r,height:i,orientation:s,mirror:a,axisLine:A,otherSvgProps:l}=n;if(!A)return null;var c=jn(jn(jn({},l),dc(A)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);c=jn(jn({},c),{},{x1:e,y1:t+f*i,x2:e+r,y2:t+f*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);c=jn(jn({},c),{},{x1:e+h*r,y1:t,x2:e+h*r,y2:t+i})}return I.createElement("line",Td({},c,{className:kt("recharts-cartesian-axis-line",kg(A,"className"))}))}function z_e(n,e,t,r,i,s,a,A,l){var c,f,h,g,v,b,B=A?-1:1,S=n.tickSize||a,x=qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":c=f=n.coordinate,g=t+ +!A*i,h=g-B*S,b=h-B*l,v=x;break;case"left":h=g=n.coordinate,f=e+ +!A*r,c=f-B*S,v=c-B*l,b=x;break;case"right":h=g=n.coordinate,f=e+ +A*r,c=f+B*S,v=c+B*l,b=x;break;default:c=f=n.coordinate,g=t+ +A*i,h=g+B*S,b=h+B*l,v=x;break}return{line:{x1:c,y1:h,x2:f,y2:g},tick:{x:v,y:b}}}function q_e(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function $_e(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Y_e(n){var{option:e,tickProps:t,value:r}=n,i,s=kt(t.className,"recharts-cartesian-axis-tick-value");if(I.isValidElement(e))i=I.cloneElement(e,jn(jn({},t),{},{className:s}));else if(typeof e=="function")i=e(jn(jn({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=kt(a,e==null?void 0:e.className)),i=I.createElement(LP,Td({},t,{className:a}),r)}return i}var X_e=I.forwardRef((n,e)=>{var{ticks:t=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:A,padding:l,tickTextProps:c,orientation:f,mirror:h,x:g,y:v,width:b,height:B,tickSize:S,tickMargin:x,fontSize:_,letterSpacing:T,getTicksConfig:M,events:F,axisType:R}=n,L=Q_e(jn(jn({},M),{},{ticks:t}),_,T),K=q_e(f,h),O=$_e(f,h),$=dc(M),G=hR(r),Y={};typeof i=="object"&&(Y=i);var J=jn(jn({},$),{},{fill:"none"},Y),ne=L.map(z=>jn({entry:z},z_e(z,g,v,b,B,f,S,h,x))),fe=ne.map(z=>{var{entry:oe,line:le}=z;return I.createElement(dl,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&I.createElement("line",Td({},J,le,{className:kt("recharts-cartesian-axis-tick-line",kg(i,"className"))})))}),H=ne.map((z,oe)=>{var{entry:le,tick:Ce}=z,V=jn(jn(jn(jn({textAnchor:K,verticalAnchor:O},$),{},{stroke:"none",fill:s},G),Ce),{},{index:oe,payload:le,visibleTicksCount:L.length,tickFormatter:a,padding:l},c);return I.createElement(dl,Td({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},CR(F,le,oe)),r&&I.createElement(Y_e,{option:r,tickProps:V,value:"".concat(typeof a=="function"?a(le.value,oe):le.value).concat(A||"")}))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},H.length>0&&I.createElement(bc,{zIndex:Xi.label},I.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:e},H)),fe.length>0&&I.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},fe))}),W_e=I.forwardRef((n,e)=>{var{axisLine:t,width:r,height:i,className:s,hide:a,ticks:A,axisType:l}=n,c=k_e(n,L_e),[f,h]=I.useState(""),[g,v]=I.useState(""),b=I.useRef(null);I.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return N_e({ticks:b.current,label:(S=n.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var B=I.useCallback(S=>{if(S){var x=S.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=x;var _=x[0];if(_){var T=window.getComputedStyle(_),M=T.fontSize,F=T.letterSpacing;(M!==f||F!==g)&&(h(M),v(F))}}},[f,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:I.createElement(bc,{zIndex:n.zIndex},I.createElement(dl,{className:kt("recharts-cartesian-axis",s)},I.createElement(V_e,{x:n.x,y:n.y,width:r,height:i,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:dc(n)}),I.createElement(X_e,{ref:B,axisType:l,events:c,fontSize:f,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:A,unit:n.unit,width:n.width,x:n.x,y:n.y}),I.createElement(gxe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},I.createElement(xxe,{label:n.label,labelRef:n.labelRef}),n.children)))}),KP=I.forwardRef((n,e)=>{var t=Ba(n,Cd);return I.createElement(W_e,Td({},t,{ref:e}))});KP.displayName="CartesianAxis";var j_e=["domain","range"],J_e=["domain","range"];function CV(n,e){if(n==null)return{};var t,r,i=Z_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Z_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function BV(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function RW(n,e){if(n===e)return!0;var{domain:t,range:r}=n,i=CV(n,j_e),{domain:s,range:a}=e,A=CV(e,J_e);return!BV(t,s)||!BV(r,a)?!1:OP(i,A)}var eIe=["dangerouslySetInnerHTML","ticks"],tIe=["id"];function TD(){return TD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},TD.apply(null,arguments)}function bV(n,e){if(n==null)return{};var t,r,i=nIe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function nIe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function rIe(n){var e=Vn(),t=I.useRef(null);return I.useLayoutEffect(()=>{t.current===null?e(ITe(n)):t.current!==n&&e(UTe({prev:t.current,next:n})),t.current=n},[n,e]),I.useLayoutEffect(()=>()=>{t.current&&(e(FTe(t.current)),t.current=null)},[e]),null}var iIe=n=>{var{xAxisId:e,className:t}=n,r=Ve(MR),i=Qs(),s="xAxis",a=Ve(S=>Am(S,s,e,i)),A=Ve(S=>IX(S,s,e,i)),l=Ve(S=>SX(S,e)),c=Ve(S=>ybe(S,e)),f=Ve(S=>YY(S,e));if(l==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=bV(n,eIe),{id:b}=f,B=bV(f,tIe);return I.createElement(KP,TD({},v,B,{scale:a,x:c.x,y:c.y,width:l.width,height:l.height,className:kt("recharts-".concat(s," ").concat(s),t),viewBox:r,ticks:A,axisType:s}))},sIe={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,angle:mr.angle,axisLine:Cd.axisLine,height:mr.height,hide:!1,includeHidden:mr.includeHidden,interval:mr.interval,minTickGap:mr.minTickGap,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tick:mr.tick,tickCount:mr.tickCount,tickLine:Cd.tickLine,tickSize:Cd.tickSize,type:mr.type,xAxisId:0},aIe=n=>{var e=Ba(n,sIe);return I.createElement(I.Fragment,null,I.createElement(rIe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),I.createElement(iIe,e))},PW=I.memo(aIe,RW);PW.displayName="XAxis";var oIe=["dangerouslySetInnerHTML","ticks"],AIe=["id"];function _D(){return _D=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_D.apply(null,arguments)}function EV(n,e){if(n==null)return{};var t,r,i=lIe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function lIe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function uIe(n){var e=Vn(),t=I.useRef(null);return I.useLayoutEffect(()=>{t.current===null?e(MTe(n)):t.current!==n&&e(DTe({prev:t.current,next:n})),t.current=n},[n,e]),I.useLayoutEffect(()=>()=>{t.current&&(e(RTe(t.current)),t.current=null)},[e]),null}var cIe=n=>{var{yAxisId:e,className:t,width:r,label:i}=n,s=I.useRef(null),a=I.useRef(null),A=Ve(MR),l=Qs(),c=Vn(),f="yAxis",h=Ve(F=>Am(F,f,e,l)),g=Ve(F=>xX(F,e)),v=Ve(F=>Cbe(F,e)),b=Ve(F=>IX(F,f,e,l)),B=Ve(F=>XY(F,e));if(I.useLayoutEffect(()=>{if(!(r!=="auto"||!g||kP(i)||I.isValidElement(i)||B==null)){var F=s.current;if(F){var R=F.getCalculatedWidth();Math.round(g.width)!==Math.round(R)&&c(PTe({id:e,width:R}))}}},[b,g,c,i,e,r,B]),g==null||v==null||B==null)return null;var{dangerouslySetInnerHTML:S,ticks:x}=n,_=EV(n,oIe),{id:T}=B,M=EV(B,AIe);return I.createElement(KP,_D({},_,M,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:kt("recharts-".concat(f," ").concat(f),t),viewBox:A,ticks:b,axisType:f}))},fIe={allowDataOverflow:vr.allowDataOverflow,allowDecimals:vr.allowDecimals,allowDuplicatedCategory:vr.allowDuplicatedCategory,angle:vr.angle,axisLine:Cd.axisLine,hide:!1,includeHidden:vr.includeHidden,interval:vr.interval,minTickGap:vr.minTickGap,mirror:vr.mirror,orientation:vr.orientation,padding:vr.padding,reversed:vr.reversed,scale:vr.scale,tick:vr.tick,tickCount:vr.tickCount,tickLine:Cd.tickLine,tickSize:Cd.tickSize,type:vr.type,width:vr.width,yAxisId:0},dIe=n=>{var e=Ba(n,fIe);return I.createElement(I.Fragment,null,I.createElement(uIe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),I.createElement(cIe,e))},QW=I.memo(dIe,RW);QW.displayName="YAxis";var hIe=(n,e)=>e,GP=se([hIe,Ot,qY,cr,zX,Fl,PEe,Ir],KEe),VP=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,r=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/r)}},NW=wa("mouseClick"),LW=Uw();LW.startListening({actionCreator:NW,effect:(n,e)=>{var t=n.payload,r=GP(e.getState(),VP(t));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Pbe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ID=wa("mouseMove"),kW=Uw(),nb=null;kW.startListening({actionCreator:ID,effect:(n,e)=>{var t=n.payload;nb!==null&&cancelAnimationFrame(nb);var r=VP(t);nb=requestAnimationFrame(()=>{var i=e.getState(),s=TP(i,i.tooltip.settings.shared);if(s==="axis"){var a=GP(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(NX({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(QX())}nb=null})}});var SV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},OW=Wi({name:"rootProps",initialState:SV,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:SV.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),pIe=OW.reducer,{updateOptions:gIe}=OW.actions,HW=Wi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:TUe}=HW.actions,mIe=HW.reducer,KW=wa("keyDown"),GW=wa("focus"),zP=Uw();zP.startListening({actionCreator:KW,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=_P(i,um(t),Ow(t),zw(t)),A=a==null?-1:Number(a);if(!(!Number.isFinite(A)||A<0)){var l=Fl(t);if(s==="Enter"){var c=aS(t,"axis","hover",String(i.index));e.dispatch(CD({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=Sbe(t),h=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=A+g*h;if(!(l==null||v>=l.length||v<0)){var b=aS(t,"axis","hover",String(v));e.dispatch(CD({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}}});zP.startListening({actionCreator:GW,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var s="0",a=aS(t,"axis","hover",String(s));e.dispatch(CD({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Js=wa("externalEvent"),VW=Uw(),BU=new Map;VW.startListening({actionCreator:Js,effect:(n,e)=>{var{handler:t,reactEvent:r}=n.payload;if(t!=null){r.persist();var i=r.type,s=BU.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var A=e.getState(),l={activeCoordinate:wEe(A),activeDataKey:XX(A),activeIndex:Yg(A),activeLabel:YX(A),activeTooltipIndex:Yg(A),isTooltipActive:CEe(A)};t(l,r)}finally{BU.delete(i)}});BU.set(i,a)}}});var vIe=se([lm],n=>n.tooltipItemPayloads),yIe=se([vIe,Gw,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,r)=>{var i=n.find(A=>A.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,t);return a}}}),zW=wa("touchMove"),qW=Uw();qW.startListening({actionCreator:zW,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var r=e.getState(),i=TP(r,r.tooltip.settings.shared);if(i==="axis"){var s=GP(r,VP({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(NX({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,A=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(A.clientX,A.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(mve),f=(a=l.getAttribute(vve))!==null&&a!==void 0?a:void 0,h=yIe(e.getState(),c,f);e.dispatch(PX({activeDataKey:f,activeIndex:c,activeCoordinate:h}))}}}});var wIe=z6({brush:m_e,cartesianAxis:QTe,chartData:wSe,errorBars:YTe,graphicalItems:BTe,layout:Jme,legend:dye,options:pSe,polarAxis:Kxe,polarOptions:mIe,referenceElements:E_e,rootProps:pIe,tooltip:Qbe,zIndex:nSe}),CIe=function(e){return bme({reducer:wIe,preloadedState:e,middleware:t=>{var r;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([LW.middleware,kW.middleware,zP.middleware,VW.middleware,qW.middleware])},enhancers:t=>{var r=t;return typeof t=="function"&&(r=t()),r.concat(a$({type:"raf"}))},devTools:Dw.devToolsEnabled})};function BIe(n){var{preloadedState:e,children:t,reduxStoreName:r}=n,i=Qs(),s=I.useRef(null);if(i)return t;s.current==null&&(s.current=CIe(e));var a=bR;return I.createElement(v1e,{context:a,store:s.current},t)}function bIe(n){var{layout:e,margin:t}=n,r=Vn(),i=Qs();return I.useEffect(()=>{i||(r(Xme(e)),r(Yme(t)))},[r,i,e,t]),null}var EIe=I.memo(bIe,OP);function SIe(n){var e=Vn();return I.useEffect(()=>{e(gIe(n))},[e,n]),null}function xV(n){var{zIndex:e,isPanorama:t}=n,r=t?"recharts-zindex-panorama-":"recharts-zindex-",i=BW("".concat(r).concat(e)),s=Vn();return I.useLayoutEffect(()=>(s(eSe({zIndex:e,elementId:i,isPanorama:t})),()=>{s(tSe({zIndex:e,isPanorama:t}))}),[s,e,i,t]),I.createElement("g",{tabIndex:-1,id:i})}function TV(n){var{children:e,isPanorama:t}=n,r=Ve(VEe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return I.createElement(I.Fragment,null,i.map(a=>I.createElement(xV,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>I.createElement(xV,{key:a,zIndex:a,isPanorama:t})))}var xIe=["children"];function TIe(n,e){if(n==null)return{};var t,r,i=_Ie(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function _Ie(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function dS(){return dS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dS.apply(null,arguments)}var IIe={width:"100%",height:"100%",display:"block"},UIe=I.forwardRef((n,e)=>{var t=Xve(),r=Wve(),i=D$();if(!hc(t)||!hc(r))return null;var{children:s,otherAttributes:a,title:A,desc:l}=n,c,f;return a!=null&&(typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),I.createElement(l6,dS({},a,{title:A,desc:l,role:f,tabIndex:c,width:t,height:r,style:IIe,ref:e}),s)}),FIe=n=>{var{children:e}=n,t=Ve(Cx);if(!t)return null;var{width:r,height:i,y:s,x:a}=t;return I.createElement(l6,{width:r,height:i,x:a,y:s},e)},_V=I.forwardRef((n,e)=>{var{children:t}=n,r=TIe(n,xIe),i=Qs();return i?I.createElement(FIe,null,I.createElement(TV,{isPanorama:!0},t)):I.createElement(UIe,dS({ref:e},r),I.createElement(TV,{isPanorama:!1},t))});function MIe(){var n=Vn(),[e,t]=I.useState(null),r=Ve(gve);return I.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Gn(s)&&s!==r&&n(jme(s))}},[e,n,r]),t}function IV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DIe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IV(Object(t),!0).forEach(function(r){RIe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IV(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RIe(n,e,t){return(e=PIe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PIe(n){var e=QIe(n,"string");return typeof e=="symbol"?e:e+""}function QIe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _d(){return _d=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_d.apply(null,arguments)}var NIe=()=>(ISe(),null);function hS(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var LIe=I.forwardRef((n,e)=>{var t,r,i=I.useRef(null),[s,a]=I.useState({containerWidth:hS((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:hS((r=n.style)===null||r===void 0?void 0:r.height)}),A=I.useCallback((c,f)=>{a(h=>{var g=Math.round(c),v=Math.round(f);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=I.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=c.getBoundingClientRect();A(f,h);var g=b=>{var{width:B,height:S}=b[0].contentRect;A(B,S)},v=new ResizeObserver(g);v.observe(c),i.current=v}},[e,A]);return I.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[A]),I.createElement(I.Fragment,null,I.createElement(Ex,{width:s.containerWidth,height:s.containerHeight}),I.createElement("div",_d({ref:l},n)))}),kIe=I.forwardRef((n,e)=>{var{width:t,height:r}=n,[i,s]=I.useState({containerWidth:hS(t),containerHeight:hS(r)}),a=I.useCallback((l,c)=>{s(f=>{var h=Math.round(l),g=Math.round(c);return f.containerWidth===h&&f.containerHeight===g?f:{containerWidth:h,containerHeight:g}})},[]),A=I.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:f}=l.getBoundingClientRect();a(c,f)}},[e,a]);return I.createElement(I.Fragment,null,I.createElement(Ex,{width:i.containerWidth,height:i.containerHeight}),I.createElement("div",_d({ref:A},n)))}),OIe=I.forwardRef((n,e)=>{var{width:t,height:r}=n;return I.createElement(I.Fragment,null,I.createElement(Ex,{width:t,height:r}),I.createElement("div",_d({ref:e},n)))}),HIe=I.forwardRef((n,e)=>{var{width:t,height:r}=n;return hl(t)||hl(r)?I.createElement(kIe,_d({},n,{ref:e})):I.createElement(OIe,_d({},n,{ref:e}))});function KIe(n){return n===!0?LIe:HIe}var GIe=I.forwardRef((n,e)=>{var{children:t,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:A,onMouseDown:l,onMouseEnter:c,onMouseLeave:f,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:B,style:S,width:x,responsive:_,dispatchTouchEvents:T=!0}=n,M=I.useRef(null),F=Vn(),[R,L]=I.useState(null),[K,O]=I.useState(null),$=MIe(),G=DR(),Y=(G==null?void 0:G.width)>0?G.width:x,J=(G==null?void 0:G.height)>0?G.height:i,ne=I.useCallback(re=>{$(re),typeof e=="function"&&e(re),L(re),O(re),re!=null&&(M.current=re)},[$,e,L,O]),fe=I.useCallback(re=>{F(NW(re)),F(Js({handler:s,reactEvent:re}))},[F,s]),H=I.useCallback(re=>{F(ID(re)),F(Js({handler:c,reactEvent:re}))},[F,c]),z=I.useCallback(re=>{F(QX()),F(Js({handler:f,reactEvent:re}))},[F,f]),oe=I.useCallback(re=>{F(ID(re)),F(Js({handler:h,reactEvent:re}))},[F,h]),le=I.useCallback(()=>{F(GW())},[F]),Ce=I.useCallback(re=>{F(KW(re.key))},[F]),V=I.useCallback(re=>{F(Js({handler:a,reactEvent:re}))},[F,a]),W=I.useCallback(re=>{F(Js({handler:A,reactEvent:re}))},[F,A]),ae=I.useCallback(re=>{F(Js({handler:l,reactEvent:re}))},[F,l]),ue=I.useCallback(re=>{F(Js({handler:g,reactEvent:re}))},[F,g]),we=I.useCallback(re=>{F(Js({handler:B,reactEvent:re}))},[F,B]),ve=I.useCallback(re=>{T&&F(zW(re)),F(Js({handler:b,reactEvent:re}))},[F,T,b]),ye=I.useCallback(re=>{F(Js({handler:v,reactEvent:re}))},[F,v]),rt=KIe(_);return I.createElement(nW.Provider,{value:R},I.createElement(npe.Provider,{value:K},I.createElement(rt,{width:Y??(S==null?void 0:S.width),height:J??(S==null?void 0:S.height),className:kt("recharts-wrapper",r),style:DIe({position:"relative",cursor:"default",width:Y,height:J},S),onClick:fe,onContextMenu:V,onDoubleClick:W,onFocus:le,onKeyDown:Ce,onMouseDown:ae,onMouseEnter:H,onMouseLeave:z,onMouseMove:oe,onMouseUp:ue,onTouchEnd:ye,onTouchMove:ve,onTouchStart:we,ref:ne},I.createElement(NIe,null),t)))}),VIe=["width","height","responsive","children","className","style","compact","title","desc"];function zIe(n,e){if(n==null)return{};var t,r,i=qIe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function qIe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var $Ie=I.forwardRef((n,e)=>{var{width:t,height:r,responsive:i,children:s,className:a,style:A,compact:l,title:c,desc:f}=n,h=zIe(n,VIe),g=dc(h);return l?I.createElement(I.Fragment,null,I.createElement(Ex,{width:t,height:r}),I.createElement(_V,{otherAttributes:g,title:c,desc:f},s)):I.createElement(GIe,{className:a,style:A,width:t,height:r,responsive:i??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},I.createElement(_V,{otherAttributes:g,title:c,desc:f,ref:e},I.createElement(x_e,null,s)))});function UD(){return UD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UD.apply(null,arguments)}var YIe={top:5,right:5,bottom:5,left:5},XIe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:YIe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},WIe=I.forwardRef(function(e,t){var r,i=Ba(e.categoricalChartProps,XIe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:A,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:A,tooltipPayloadSearcher:l,eventEmitter:void 0};return I.createElement(BIe,{preloadedState:{options:f},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:s},I.createElement(g_e,{chartData:c.data}),I.createElement(EIe,{layout:i.layout,margin:i.margin}),I.createElement(SIe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),I.createElement($Ie,UD({},i,{ref:t})))}),jIe=["axis","item"],JIe=I.forwardRef((n,e)=>I.createElement(WIe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jIe,tooltipPayloadSearcher:dSe,categoricalChartProps:n,ref:e}));const ZIe=()=>{const{stats:n,highlights:e}=Dd(),t=Object.entries(n.chapterVisits).map(([i,s])=>({name:i==="ch1"?"Ch 1":i==="ch2"?"Ch 2":"Ch 3",visits:s})),r=i=>`${Math.floor(i/60)}m ${i%60}s`;return N.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[N.jsx(V8,{toggleSidebar:()=>{},toggleNotes:()=>{}}),N.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[N.jsxs("div",{className:"mb-8",children:[N.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),N.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),N.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[N.jsx(rb,{icon:N.jsx(Ioe,{className:"text-blue-500"}),label:"Reading Time",value:r(n.totalReadingTime)}),N.jsx(rb,{icon:N.jsx(voe,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),N.jsx(rb,{icon:N.jsx(H8,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),N.jsx(rb,{icon:N.jsx(lH,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[N.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),N.jsx("div",{className:"h-64 w-full",children:N.jsx(qve,{width:"100%",height:"100%",children:N.jsxs(JIe,{data:t,children:[N.jsx(PW,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),N.jsx(QW,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),N.jsx(NSe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),N.jsx(IW,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((i,s)=>N.jsx(NP,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),N.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[N.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[N.jsx(lH,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[N.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),N.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((i,s)=>N.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:i.text},s)),e.length===0&&N.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),N.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:N.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),N.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},rb=({icon:n,label:e,value:t})=>N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[N.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),N.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),N.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),eUe=()=>N.jsx(R7,{children:N.jsx(loe,{children:N.jsxs(c7,{children:[N.jsx(EU,{path:"/",element:N.jsx(qhe,{})}),N.jsx(EU,{path:"/report",element:N.jsx(ZIe,{})})]})})}),$W=document.getElementById("root");if(!$W)throw new Error("Could not find root element to mount to");const tUe=y9.createRoot($W);tUe.render(N.jsx(MV.StrictMode,{children:N.jsx(eUe,{})}));
