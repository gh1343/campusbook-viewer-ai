var qne=Object.defineProperty;var mV=n=>{throw TypeError(n)};var $ne=(n,e,t)=>e in n?qne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var he=(n,e,t)=>$ne(n,typeof e!="symbol"?e+"":e,t),MU=(n,e,t)=>e.has(n)||mV("Cannot "+t);var f=(n,e,t)=>(MU(n,e,"read from private field"),t?t.call(n):e.get(n)),F=(n,e,t)=>e.has(n)?mV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,i)=>(MU(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),U=(n,e,t)=>(MU(n,e,"access private method"),t);var qn=(n,e,t,i)=>({set _(r){_(n,e,r,t)},get _(){return f(n,e,i)}});function jne(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function wA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var PU={exports:{}},A0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vV;function Wne(){if(vV)return A0;vV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return A0.Fragment=e,A0.jsx=t,A0.jsxs=t,A0}var yV;function Yne(){return yV||(yV=1,PU.exports=Wne()),PU.exports}var Q=Yne(),RU={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wV;function Xne(){if(wV)return Xe;wV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function S(q,Y,Ae){this.props=q,this.context=Y,this.refs=E,this.updater=Ae||b}S.prototype.isReactComponent={},S.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=S.prototype;function T(q,Y,Ae){this.props=q,this.context=Y,this.refs=E,this.updater=Ae||b}var R=T.prototype=new I;R.constructor=T,C(R,S.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function D(){}var N={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k(q,Y,Ae){var de=Ae.ref;return{$$typeof:n,type:q,key:Y,ref:de!==void 0?de:null,props:Ae}}function K(q,Y){return k(q.type,Y,q.props)}function G(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function z(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Ae){return Y[Ae]})}var J=/\/+/g;function ne(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):Y.toString(36)}function pe(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(Y){q.status==="pending"&&(q.status="fulfilled",q.value=Y)},function(Y){q.status==="pending"&&(q.status="rejected",q.reason=Y)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function V(q,Y,Ae,de,be){var ye=typeof q;(ye==="undefined"||ye==="boolean")&&(q=null);var we=!1;if(q===null)we=!0;else switch(ye){case"bigint":case"string":case"number":we=!0;break;case"object":switch(q.$$typeof){case n:case e:we=!0;break;case d:return we=q._init,V(we(q._payload),Y,Ae,de,be)}}if(we)return be=be(q),we=de===""?"."+ne(q,0):de,M(be)?(Ae="",we!=null&&(Ae=we.replace(J,"$&/")+"/"),V(be,Y,Ae,"",function(Qe){return Qe})):be!=null&&(G(be)&&(be=K(be,Ae+(be.key==null||q&&q.key===be.key?"":(""+be.key).replace(J,"$&/")+"/")+we)),Y.push(be)),1;we=0;var ft=de===""?".":de+":";if(M(q))for(var ae=0;ae<q.length;ae++)de=q[ae],ye=ft+ne(de,ae),we+=V(de,Y,Ae,ye,be);else if(ae=v(q),typeof ae=="function")for(q=ae.call(q),ae=0;!(de=q.next()).done;)de=de.value,ye=ft+ne(de,ae++),we+=V(de,Y,Ae,ye,be);else if(ye==="object"){if(typeof q.then=="function")return V(pe(q),Y,Ae,de,be);throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(q,Y,Ae){if(q==null)return q;var de=[],be=0;return V(q,de,"","",function(ye){return Y.call(Ae,ye,be++)}),de}function ie(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(Ae){(q._status===0||q._status===-1)&&(q._status=1,q._result=Ae)},function(Ae){(q._status===0||q._status===-1)&&(q._status=2,q._result=Ae)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Ce={map:$,forEach:function(q,Y,Ae){$(q,function(){Y.apply(this,arguments)},Ae)},count:function(q){var Y=0;return $(q,function(){Y++}),Y},toArray:function(q){return $(q,function(Y){return Y})||[]},only:function(q){if(!G(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Xe.Activity=h,Xe.Children=Ce,Xe.Component=S,Xe.Fragment=t,Xe.Profiler=r,Xe.PureComponent=T,Xe.StrictMode=i,Xe.Suspense=l,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},Xe.cache=function(q){return function(){return q.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(q,Y,Ae){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var de=C({},q.props),be=q.key;if(Y!=null)for(ye in Y.key!==void 0&&(be=""+Y.key),Y)!H.call(Y,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Y.ref===void 0||(de[ye]=Y[ye]);var ye=arguments.length-2;if(ye===1)de.children=Ae;else if(1<ye){for(var we=Array(ye),ft=0;ft<ye;ft++)we[ft]=arguments[ft+2];de.children=we}return k(q.type,be,de)},Xe.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Xe.createElement=function(q,Y,Ae){var de,be={},ye=null;if(Y!=null)for(de in Y.key!==void 0&&(ye=""+Y.key),Y)H.call(Y,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(be[de]=Y[de]);var we=arguments.length-2;if(we===1)be.children=Ae;else if(1<we){for(var ft=Array(we),ae=0;ae<we;ae++)ft[ae]=arguments[ae+2];be.children=ft}if(q&&q.defaultProps)for(de in we=q.defaultProps,we)be[de]===void 0&&(be[de]=we[de]);return k(q,ye,be)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(q){return{$$typeof:o,render:q}},Xe.isValidElement=G,Xe.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:ie}},Xe.memo=function(q,Y){return{$$typeof:u,type:q,compare:Y===void 0?null:Y}},Xe.startTransition=function(q){var Y=N.T,Ae={};N.T=Ae;try{var de=q(),be=N.S;be!==null&&be(Ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(D,ue)}catch(ye){ue(ye)}finally{Y!==null&&Ae.types!==null&&(Y.types=Ae.types),N.T=Y}},Xe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Xe.use=function(q){return N.H.use(q)},Xe.useActionState=function(q,Y,Ae){return N.H.useActionState(q,Y,Ae)},Xe.useCallback=function(q,Y){return N.H.useCallback(q,Y)},Xe.useContext=function(q){return N.H.useContext(q)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(q,Y){return N.H.useDeferredValue(q,Y)},Xe.useEffect=function(q,Y){return N.H.useEffect(q,Y)},Xe.useEffectEvent=function(q){return N.H.useEffectEvent(q)},Xe.useId=function(){return N.H.useId()},Xe.useImperativeHandle=function(q,Y,Ae){return N.H.useImperativeHandle(q,Y,Ae)},Xe.useInsertionEffect=function(q,Y){return N.H.useInsertionEffect(q,Y)},Xe.useLayoutEffect=function(q,Y){return N.H.useLayoutEffect(q,Y)},Xe.useMemo=function(q,Y){return N.H.useMemo(q,Y)},Xe.useOptimistic=function(q,Y){return N.H.useOptimistic(q,Y)},Xe.useReducer=function(q,Y,Ae){return N.H.useReducer(q,Y,Ae)},Xe.useRef=function(q){return N.H.useRef(q)},Xe.useState=function(q){return N.H.useState(q)},Xe.useSyncExternalStore=function(q,Y,Ae){return N.H.useSyncExternalStore(q,Y,Ae)},Xe.useTransition=function(){return N.H.useTransition()},Xe.version="19.2.1",Xe}var bV;function iy(){return bV||(bV=1,RU.exports=Xne()),RU.exports}var P=iy();const _6=wA(P),Jne=jne({__proto__:null,default:_6},[P]);var DU={exports:{}},l0={},LU={exports:{}},NU={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CV;function Zne(){return CV||(CV=1,(function(n){function e(V,$){var ie=V.length;V.push($);e:for(;0<ie;){var ue=ie-1>>>1,Ce=V[ue];if(0<r(Ce,$))V[ue]=$,V[ie]=Ce,ie=ue;else break e}}function t(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var $=V[0],ie=V.pop();if(ie!==$){V[0]=ie;e:for(var ue=0,Ce=V.length,q=Ce>>>1;ue<q;){var Y=2*(ue+1)-1,Ae=V[Y],de=Y+1,be=V[de];if(0>r(Ae,ie))de<Ce&&0>r(be,Ae)?(V[ue]=be,V[de]=ie,ue=de):(V[ue]=Ae,V[Y]=ie,ue=Y);else if(de<Ce&&0>r(be,ie))V[ue]=be,V[de]=ie,ue=de;else break e}}return $}function r(V,$){var ie=V.sortIndex-$.sortIndex;return ie!==0?ie:V.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,b=!1,C=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=V)i(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function M(V){if(C=!1,R(V),!b)if(t(l)!==null)b=!0,D||(D=!0,z());else{var $=t(u);$!==null&&pe(M,$.startTime-V)}}var D=!1,N=-1,H=5,k=-1;function K(){return E?!0:!(n.unstable_now()-k<H)}function G(){if(E=!1,D){var V=n.unstable_now();k=V;var $=!0;try{e:{b=!1,C&&(C=!1,I(N),N=-1),v=!0;var ie=g;try{t:{for(R(V),h=t(l);h!==null&&!(h.expirationTime>V&&K());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,g=h.priorityLevel;var Ce=ue(h.expirationTime<=V);if(V=n.unstable_now(),typeof Ce=="function"){h.callback=Ce,R(V),$=!0;break t}h===t(l)&&i(l),R(V)}else i(l);h=t(l)}if(h!==null)$=!0;else{var q=t(u);q!==null&&pe(M,q.startTime-V),$=!1}}break e}finally{h=null,g=ie,v=!1}$=void 0}}finally{$?z():D=!1}}}var z;if(typeof T=="function")z=function(){T(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ne=J.port2;J.port1.onmessage=G,z=function(){ne.postMessage(null)}}else z=function(){S(G,0)};function pe(V,$){N=S(function(){V(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(V){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var ie=g;g=$;try{return V()}finally{g=ie}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ie=g;g=V;try{return $()}finally{g=ie}},n.unstable_scheduleCallback=function(V,$,ie){var ue=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ue+ie:ue):ie=ue,V){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ie+Ce,V={id:d++,callback:$,priorityLevel:V,startTime:ie,expirationTime:Ce,sortIndex:-1},ie>ue?(V.sortIndex=ie,e(u,V),t(l)===null&&V===t(u)&&(C?(I(N),N=-1):C=!0,pe(M,ie-ue))):(V.sortIndex=Ce,e(l,V),b||v||(b=!0,D||(D=!0,z()))),V},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(V){var $=g;return function(){var ie=g;g=$;try{return V.apply(this,arguments)}finally{g=ie}}}})(NU)),NU}var BV;function eie(){return BV||(BV=1,LU.exports=Zne()),LU.exports}var QU={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV;function tie(){if(EV)return ur;EV=1;var n=iy();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ur.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},ur.flushSync=function(l){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=d,i.d.f()}},ur.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},ur.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},ur.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&i.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ur.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},ur.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);i.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ur.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},ur.requestFormReset=function(l){i.d.r(l)},ur.unstable_batchedUpdates=function(l,u){return l(u)},ur.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},ur.useFormStatus=function(){return a.H.useHostTransitionStatus()},ur.version="19.2.1",ur}var xV;function T6(){if(xV)return QU.exports;xV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),QU.exports=tie(),QU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SV;function nie(){if(SV)return l0;SV=1;var n=eie(),e=iy(),t=T6();function i(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(i(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(i(188));return c!==A?null:A}for(var p=A,m=c;;){var B=p.return;if(B===null)break;var x=B.alternate;if(x===null){if(m=B.return,m!==null){p=m;continue}break}if(B.child===x.child){for(x=B.child;x;){if(x===p)return l(B),A;if(x===m)return l(B),c;x=x.sibling}throw Error(i(188))}if(p.return!==m.return)p=B,m=x;else{for(var L=!1,O=B.child;O;){if(O===p){L=!0,p=B,m=x;break}if(O===m){L=!0,m=B,p=x;break}O=O.sibling}if(!L){for(O=x.child;O;){if(O===p){L=!0,p=x,m=B;break}if(O===m){L=!0,m=x,p=B;break}O=O.sibling}if(!L)throw Error(i(189))}}if(p.alternate!==m)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function z(A){return A===null||typeof A!="object"?null:(A=G&&A[G]||A["@@iterator"],typeof A=="function"?A:null)}var J=Symbol.for("react.client.reference");function ne(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===J?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case C:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case b:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case R:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case N:return c=A.displayName||null,c!==null?c:ne(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return ne(A(c))}catch{}}return null}var pe=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ue=[],Ce=-1;function q(A){return{current:A}}function Y(A){0>Ce||(A.current=ue[Ce],ue[Ce]=null,Ce--)}function Ae(A,c){Ce++,ue[Ce]=A.current,A.current=c}var de=q(null),be=q(null),ye=q(null),we=q(null);function ft(A,c){switch(Ae(ye,c),Ae(be,A),Ae(de,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?O4(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=O4(c),A=H4(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}Y(de),Ae(de,A)}function ae(){Y(de),Y(be),Y(ye)}function Qe(A){A.memoizedState!==null&&Ae(we,A);var c=de.current,p=H4(c,A.type);c!==p&&(Ae(be,A),Ae(de,p))}function He(A){be.current===A&&(Y(de),Y(be)),we.current===A&&(Y(we),r0._currentValue=ie)}var ge,An;function We(A){if(ge===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);ge=c&&c[1]||"",An=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+A+An}var wt=!1;function Cn(A,c){if(!A||wt)return"";wt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var te=re}Reflect.construct(A,[],fe)}else{try{fe.call()}catch(re){te=re}A.call(fe.prototype)}}else{try{throw Error()}catch(re){te=re}(fe=A())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),L=x[0],O=x[1];if(L&&O){var j=L.split(`
`),ee=O.split(`
`);for(B=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;B<ee.length&&!ee[B].includes("DetermineComponentFrameRoot");)B++;if(m===j.length||B===ee.length)for(m=j.length-1,B=ee.length-1;1<=m&&0<=B&&j[m]!==ee[B];)B--;for(;1<=m&&0<=B;m--,B--)if(j[m]!==ee[B]){if(m!==1||B!==1)do if(m--,B--,0>B||j[m]!==ee[B]){var le=`
`+j[m].replace(" at new "," at ");return A.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",A.displayName)),le}while(1<=m&&0<=B);break}}}finally{wt=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?We(p):""}function Ar(A,c){switch(A.tag){case 26:case 27:case 5:return We(A.type);case 16:return We("Lazy");case 13:return A.child!==c&&c!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Cn(A.type,!1);case 11:return Cn(A.type.render,!1);case 1:return Cn(A.type,!0);case 31:return We("Activity");default:return""}}function ea(A){try{var c="",p=null;do c+=Ar(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var _o=Object.prototype.hasOwnProperty,BA=n.unstable_scheduleCallback,ve=n.unstable_cancelCallback,Re=n.unstable_shouldYield,me=n.unstable_requestPaint,Be=n.unstable_now,Ye=n.unstable_getCurrentPriorityLevel,$e=n.unstable_ImmediatePriority,bt=n.unstable_UserBlockingPriority,qe=n.unstable_NormalPriority,Pn=n.unstable_LowPriority,ln=n.unstable_IdlePriority,lr=n.log,fs=n.unstable_setDisableYieldValue,To=null,Er=null;function Io(A){if(typeof lr=="function"&&fs(A),Er&&typeof Er.setStrictMode=="function")try{Er.setStrictMode(To,A)}catch{}}var xr=Math.clz32?Math.clz32:wI,my=Math.log,yI=Math.LN2;function wI(A){return A>>>=0,A===0?32:31-(my(A)/yI|0)|0}var hp=256,xe=262144,st=4194304;function ut(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function je(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var B=0,x=A.suspendedLanes,L=A.pingedLanes;A=A.warmLanes;var O=m&134217727;return O!==0?(m=O&~x,m!==0?B=ut(m):(L&=O,L!==0?B=ut(L):p||(p=O&~A,p!==0&&(B=ut(p))))):(O=m&~x,O!==0?B=ut(O):L!==0?B=ut(L):p||(p=m&~A,p!==0&&(B=ut(p)))),B===0?0:c!==0&&c!==B&&(c&x)===0&&(x=B&-B,p=c&-c,x>=p||x===32&&(p&4194048)!==0)?c:B}function un(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function ta(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vy(){var A=st;return st<<=1,(st&62914560)===0&&(st=4194304),A}function pp(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function Nd(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function Ree(A,c,p,m,B,x){var L=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var O=A.entanglements,j=A.expirationTimes,ee=A.hiddenUpdates;for(p=L&~p;0<p;){var le=31-xr(p),fe=1<<le;O[le]=0,j[le]=-1;var te=ee[le];if(te!==null)for(ee[le]=null,le=0;le<te.length;le++){var re=te[le];re!==null&&(re.lane&=-536870913)}p&=~fe}m!==0&&CO(A,m,0),x!==0&&B===0&&A.tag!==0&&(A.suspendedLanes|=x&~(L&~c))}function CO(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-xr(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function BO(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-xr(p),B=1<<m;B&c|A[m]&c&&(A[m]|=c),p&=~B}}function EO(A,c){var p=c&-c;return p=(p&42)!==0?1:bI(p),(p&(A.suspendedLanes|c))!==0?0:p}function bI(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function CI(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function xO(){var A=$.p;return A!==0?A:(A=window.event,A===void 0?32:uV(A.type))}function SO(A,c){var p=$.p;try{return $.p=A,c()}finally{$.p=p}}var Su=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Su,Vr="__reactProps$"+Su,gp="__reactContainer$"+Su,BI="__reactEvents$"+Su,Dee="__reactListeners$"+Su,Lee="__reactHandles$"+Su,_O="__reactResources$"+Su,yy="__reactMarker$"+Su;function EI(A){delete A[Hi],delete A[Vr],delete A[BI],delete A[Dee],delete A[Lee]}function mp(A){var c=A[Hi];if(c)return c;for(var p=A.parentNode;p;){if(c=p[gp]||p[Hi]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=j4(A);A!==null;){if(p=A[Hi])return p;A=j4(A)}return c}A=p,p=A.parentNode}return null}function vp(A){if(A=A[Hi]||A[gp]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function wy(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(i(33))}function yp(A){var c=A[_O];return c||(c=A[_O]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ei(A){A[yy]=!0}var TO=new Set,IO={};function Qd(A,c){wp(A,c),wp(A+"Capture",c)}function wp(A,c){for(IO[A]=c,A=0;A<c.length;A++)TO.add(c[A])}var Nee=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),FO={},UO={};function Qee(A){return _o.call(UO,A)?!0:_o.call(FO,A)?!1:Nee.test(A)?UO[A]=!0:(FO[A]=!0,!1)}function iE(A,c,p){if(Qee(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function rE(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function EA(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function na(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function MO(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function kee(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var B=m.get,x=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return B.call(this)},set:function(L){p=""+L,x.call(this,L)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(L){p=""+L},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function xI(A){if(!A._valueTracker){var c=MO(A)?"checked":"value";A._valueTracker=kee(A,c,""+A[c])}}function PO(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=MO(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function sE(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Oee=/[\n"\\]/g;function ia(A){return A.replace(Oee,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function SI(A,c,p,m,B,x,L,O){A.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?A.type=L:A.removeAttribute("type"),c!=null?L==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+na(c)):A.value!==""+na(c)&&(A.value=""+na(c)):L!=="submit"&&L!=="reset"||A.removeAttribute("value"),c!=null?_I(A,L,na(c)):p!=null?_I(A,L,na(p)):m!=null&&A.removeAttribute("value"),B==null&&x!=null&&(A.defaultChecked=!!x),B!=null&&(A.checked=B&&typeof B!="function"&&typeof B!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?A.name=""+na(O):A.removeAttribute("name")}function RO(A,c,p,m,B,x,L,O){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(A.type=x),c!=null||p!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){xI(A);return}p=p!=null?""+na(p):"",c=c!=null?""+na(c):p,O||c===A.value||(A.value=c),A.defaultValue=c}m=m??B,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=O?A.checked:!!m,A.defaultChecked=!!m,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(A.name=L),xI(A)}function _I(A,c,p){c==="number"&&sE(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function bp(A,c,p,m){if(A=A.options,c){c={};for(var B=0;B<p.length;B++)c["$"+p[B]]=!0;for(p=0;p<A.length;p++)B=c.hasOwnProperty("$"+A[p].value),A[p].selected!==B&&(A[p].selected=B),B&&m&&(A[p].defaultSelected=!0)}else{for(p=""+na(p),c=null,B=0;B<A.length;B++){if(A[B].value===p){A[B].selected=!0,m&&(A[B].defaultSelected=!0);return}c!==null||A[B].disabled||(c=A[B])}c!==null&&(c.selected=!0)}}function DO(A,c,p){if(c!=null&&(c=""+na(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+na(p):""}function LO(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(i(92));if(pe(m)){if(1<m.length)throw Error(i(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=na(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),xI(A)}function Cp(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var Hee=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function NO(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||Hee.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function QO(A,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var B in c)m=c[B],c.hasOwnProperty(B)&&p[B]!==m&&NO(A,B,m)}else for(var x in c)c.hasOwnProperty(x)&&NO(A,x,c[x])}function TI(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aE(A){return Gee.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function xA(){}var II=null;function FI(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Bp=null,Ep=null;function kO(A){var c=vp(A);if(c&&(A=c.stateNode)){var p=A[Vr]||null;e:switch(A=c.stateNode,c.type){case"input":if(SI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ia(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var B=m[Vr]||null;if(!B)throw Error(i(90));SI(m,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&PO(m)}break e;case"textarea":DO(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&bp(A,!!p.multiple,c,!1)}}}var UI=!1;function OO(A,c,p){if(UI)return A(c,p);UI=!0;try{var m=A(c);return m}finally{if(UI=!1,(Bp!==null||Ep!==null)&&($E(),Bp&&(c=Bp,A=Ep,Ep=Bp=null,kO(c),A)))for(c=0;c<A.length;c++)kO(A[c])}}function by(A,c){var p=A.stateNode;if(p===null)return null;var m=p[Vr]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var SA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MI=!1;if(SA)try{var Cy={};Object.defineProperty(Cy,"passive",{get:function(){MI=!0}}),window.addEventListener("test",Cy,Cy),window.removeEventListener("test",Cy,Cy)}catch{MI=!1}var _u=null,PI=null,oE=null;function HO(){if(oE)return oE;var A,c=PI,p=c.length,m,B="value"in _u?_u.value:_u.textContent,x=B.length;for(A=0;A<p&&c[A]===B[A];A++);var L=p-A;for(m=1;m<=L&&c[p-m]===B[x-m];m++);return oE=B.slice(A,1<m?1-m:void 0)}function AE(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function lE(){return!0}function VO(){return!1}function Gr(A){function c(p,m,B,x,L){this._reactName=p,this._targetInst=B,this.type=m,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var O in A)A.hasOwnProperty(O)&&(p=A[O],this[O]=p?p(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?lE:VO,this.isPropagationStopped=VO,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=lE)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=lE)},persist:function(){},isPersistent:lE}),c}var kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uE=Gr(kd),By=h({},kd,{view:0,detail:0}),Kee=Gr(By),RI,DI,Ey,cE=h({},By,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NI,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Ey&&(Ey&&A.type==="mousemove"?(RI=A.screenX-Ey.screenX,DI=A.screenY-Ey.screenY):DI=RI=0,Ey=A),RI)},movementY:function(A){return"movementY"in A?A.movementY:DI}}),GO=Gr(cE),zee=h({},cE,{dataTransfer:0}),qee=Gr(zee),$ee=h({},By,{relatedTarget:0}),LI=Gr($ee),jee=h({},kd,{animationName:0,elapsedTime:0,pseudoElement:0}),Wee=Gr(jee),Yee=h({},kd,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),Xee=Gr(Yee),Jee=h({},kd,{data:0}),KO=Gr(Jee),Zee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ete={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nte(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=tte[A])?!!c[A]:!1}function NI(){return nte}var ite=h({},By,{key:function(A){if(A.key){var c=Zee[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=AE(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?ete[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NI,charCode:function(A){return A.type==="keypress"?AE(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?AE(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),rte=Gr(ite),ste=h({},cE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zO=Gr(ste),ate=h({},By,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NI}),ote=Gr(ate),Ate=h({},kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),lte=Gr(Ate),ute=h({},cE,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),cte=Gr(ute),dte=h({},kd,{newState:0,oldState:0}),fte=Gr(dte),hte=[9,13,27,32],QI=SA&&"CompositionEvent"in window,xy=null;SA&&"documentMode"in document&&(xy=document.documentMode);var pte=SA&&"TextEvent"in window&&!xy,qO=SA&&(!QI||xy&&8<xy&&11>=xy),$O=" ",jO=!1;function WO(A,c){switch(A){case"keyup":return hte.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YO(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var xp=!1;function gte(A,c){switch(A){case"compositionend":return YO(c);case"keypress":return c.which!==32?null:(jO=!0,$O);case"textInput":return A=c.data,A===$O&&jO?null:A;default:return null}}function mte(A,c){if(xp)return A==="compositionend"||!QI&&WO(A,c)?(A=HO(),oE=PI=_u=null,xp=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return qO&&c.locale!=="ko"?null:c.data;default:return null}}var vte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XO(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!vte[A.type]:c==="textarea"}function JO(A,c,p,m){Bp?Ep?Ep.push(m):Ep=[m]:Bp=m,c=ex(c,"onChange"),0<c.length&&(p=new uE("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var Sy=null,_y=null;function yte(A){R4(A,0)}function dE(A){var c=wy(A);if(PO(c))return A}function ZO(A,c){if(A==="change")return c}var e2=!1;if(SA){var kI;if(SA){var OI="oninput"in document;if(!OI){var t2=document.createElement("div");t2.setAttribute("oninput","return;"),OI=typeof t2.oninput=="function"}kI=OI}else kI=!1;e2=kI&&(!document.documentMode||9<document.documentMode)}function n2(){Sy&&(Sy.detachEvent("onpropertychange",i2),_y=Sy=null)}function i2(A){if(A.propertyName==="value"&&dE(_y)){var c=[];JO(c,_y,A,FI(A)),OO(yte,c)}}function wte(A,c,p){A==="focusin"?(n2(),Sy=c,_y=p,Sy.attachEvent("onpropertychange",i2)):A==="focusout"&&n2()}function bte(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return dE(_y)}function Cte(A,c){if(A==="click")return dE(c)}function Bte(A,c){if(A==="input"||A==="change")return dE(c)}function Ete(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var hs=typeof Object.is=="function"?Object.is:Ete;function Ty(A,c){if(hs(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var B=p[m];if(!_o.call(c,B)||!hs(A[B],c[B]))return!1}return!0}function r2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function s2(A,c){var p=r2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=r2(p)}}function a2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?a2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function o2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=sE(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=sE(A.document)}return c}function HI(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var xte=SA&&"documentMode"in document&&11>=document.documentMode,Sp=null,VI=null,Iy=null,GI=!1;function A2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;GI||Sp==null||Sp!==sE(m)||(m=Sp,"selectionStart"in m&&HI(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Iy&&Ty(Iy,m)||(Iy=m,m=ex(VI,"onSelect"),0<m.length&&(c=new uE("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=Sp)))}function Od(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var _p={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionrun:Od("Transition","TransitionRun"),transitionstart:Od("Transition","TransitionStart"),transitioncancel:Od("Transition","TransitionCancel"),transitionend:Od("Transition","TransitionEnd")},KI={},l2={};SA&&(l2=document.createElement("div").style,"AnimationEvent"in window||(delete _p.animationend.animation,delete _p.animationiteration.animation,delete _p.animationstart.animation),"TransitionEvent"in window||delete _p.transitionend.transition);function Hd(A){if(KI[A])return KI[A];if(!_p[A])return A;var c=_p[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in l2)return KI[A]=c[p];return A}var u2=Hd("animationend"),c2=Hd("animationiteration"),d2=Hd("animationstart"),Ste=Hd("transitionrun"),_te=Hd("transitionstart"),Tte=Hd("transitioncancel"),f2=Hd("transitionend"),h2=new Map,zI="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zI.push("scrollEnd");function ja(A,c){h2.set(A,c),Qd(c,[A])}var fE=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ra=[],Tp=0,qI=0;function hE(){for(var A=Tp,c=qI=Tp=0;c<A;){var p=ra[c];ra[c++]=null;var m=ra[c];ra[c++]=null;var B=ra[c];ra[c++]=null;var x=ra[c];if(ra[c++]=null,m!==null&&B!==null){var L=m.pending;L===null?B.next=B:(B.next=L.next,L.next=B),m.pending=B}x!==0&&p2(p,B,x)}}function pE(A,c,p,m){ra[Tp++]=A,ra[Tp++]=c,ra[Tp++]=p,ra[Tp++]=m,qI|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function $I(A,c,p,m){return pE(A,c,p,m),gE(A)}function Vd(A,c){return pE(A,null,null,c),gE(A)}function p2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var B=!1,x=A.return;x!==null;)x.childLanes|=p,m=x.alternate,m!==null&&(m.childLanes|=p),x.tag===22&&(A=x.stateNode,A===null||A._visibility&1||(B=!0)),A=x,x=x.return;return A.tag===3?(x=A.stateNode,B&&c!==null&&(B=31-xr(p),A=x.hiddenUpdates,m=A[B],m===null?A[B]=[c]:m.push(c),c.lane=p|536870912),x):null}function gE(A){if(50<Xy)throw Xy=0,nU=null,Error(i(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var Ip={};function Ite(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(A,c,p,m){return new Ite(A,c,p,m)}function jI(A){return A=A.prototype,!(!A||!A.isReactComponent)}function _A(A,c){var p=A.alternate;return p===null?(p=ps(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function g2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function mE(A,c,p,m,B,x){var L=0;if(m=A,typeof A=="function")jI(A)&&(L=1);else if(typeof A=="string")L=Rne(A,p,de.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=ps(31,p,c,B),A.elementType=k,A.lanes=x,A;case C:return Gd(p.children,B,x,c);case E:L=8,B|=24;break;case S:return A=ps(12,p,c,B|2),A.elementType=S,A.lanes=x,A;case M:return A=ps(13,p,c,B),A.elementType=M,A.lanes=x,A;case D:return A=ps(19,p,c,B),A.elementType=D,A.lanes=x,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:L=10;break e;case I:L=9;break e;case R:L=11;break e;case N:L=14;break e;case H:L=16,m=null;break e}L=29,p=Error(i(130,A===null?"null":typeof A,"")),m=null}return c=ps(L,p,c,B),c.elementType=A,c.type=m,c.lanes=x,c}function Gd(A,c,p,m){return A=ps(7,A,m,c),A.lanes=p,A}function WI(A,c,p){return A=ps(6,A,null,c),A.lanes=p,A}function m2(A){var c=ps(18,null,null,0);return c.stateNode=A,c}function YI(A,c,p){return c=ps(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var v2=new WeakMap;function sa(A,c){if(typeof A=="object"&&A!==null){var p=v2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:ea(c)},v2.set(A,c),c)}return{value:A,source:c,stack:ea(c)}}var Fp=[],Up=0,vE=null,Fy=0,aa=[],oa=0,Tu=null,Fo=1,Uo="";function TA(A,c){Fp[Up++]=Fy,Fp[Up++]=vE,vE=A,Fy=c}function y2(A,c,p){aa[oa++]=Fo,aa[oa++]=Uo,aa[oa++]=Tu,Tu=A;var m=Fo;A=Uo;var B=32-xr(m)-1;m&=~(1<<B),p+=1;var x=32-xr(c)+B;if(30<x){var L=B-B%5;x=(m&(1<<L)-1).toString(32),m>>=L,B-=L,Fo=1<<32-xr(c)+B|p<<B|m,Uo=x+A}else Fo=1<<x|p<<B|m,Uo=A}function XI(A){A.return!==null&&(TA(A,1),y2(A,1,0))}function JI(A){for(;A===vE;)vE=Fp[--Up],Fp[Up]=null,Fy=Fp[--Up],Fp[Up]=null;for(;A===Tu;)Tu=aa[--oa],aa[oa]=null,Uo=aa[--oa],aa[oa]=null,Fo=aa[--oa],aa[oa]=null}function w2(A,c){aa[oa++]=Fo,aa[oa++]=Uo,aa[oa++]=Tu,Fo=c.id,Uo=c.overflow,Tu=A}var Vi=null,gn=null,Ct=!1,Iu=null,Aa=!1,ZI=Error(i(519));function Fu(A){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uy(sa(c,A)),ZI}function b2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[Hi]=A,c[Vr]=m,p){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(p=0;p<Zy.length;p++)pt(Zy[p],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":pt("invalid",c),RO(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":pt("invalid",c);break;case"textarea":pt("invalid",c),LO(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||Q4(c.textContent,p)?(m.popover!=null&&(pt("beforetoggle",c),pt("toggle",c)),m.onScroll!=null&&pt("scroll",c),m.onScrollEnd!=null&&pt("scrollend",c),m.onClick!=null&&(c.onclick=xA),c=!0):c=!1,c||Fu(A,!0)}function C2(A){for(Vi=A.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:Aa=!1;return;case 27:case 3:Aa=!0;return;default:Vi=Vi.return}}function Mp(A){if(A!==Vi)return!1;if(!Ct)return C2(A),Ct=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||mU(A.type,A.memoizedProps)),p=!p),p&&gn&&Fu(A),C2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));gn=$4(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));gn=$4(A)}else c===27?(c=gn,Ku(A.type)?(A=CU,CU=null,gn=A):gn=c):gn=Vi?ua(A.stateNode.nextSibling):null;return!0}function Kd(){gn=Vi=null,Ct=!1}function eF(){var A=Iu;return A!==null&&($r===null?$r=A:$r.push.apply($r,A),Iu=null),A}function Uy(A){Iu===null?Iu=[A]:Iu.push(A)}var tF=q(null),zd=null,IA=null;function Uu(A,c,p){Ae(tF,c._currentValue),c._currentValue=p}function FA(A){A._currentValue=tF.current,Y(tF)}function nF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function iF(A,c,p,m){var B=A.child;for(B!==null&&(B.return=A);B!==null;){var x=B.dependencies;if(x!==null){var L=B.child;x=x.firstContext;e:for(;x!==null;){var O=x;x=B;for(var j=0;j<c.length;j++)if(O.context===c[j]){x.lanes|=p,O=x.alternate,O!==null&&(O.lanes|=p),nF(x.return,p,A),m||(L=null);break e}x=O.next}}else if(B.tag===18){if(L=B.return,L===null)throw Error(i(341));L.lanes|=p,x=L.alternate,x!==null&&(x.lanes|=p),nF(L,p,A),L=null}else L=B.child;if(L!==null)L.return=B;else for(L=B;L!==null;){if(L===A){L=null;break}if(B=L.sibling,B!==null){B.return=L.return,L=B;break}L=L.return}B=L}}function Pp(A,c,p,m){A=null;for(var B=c,x=!1;B!==null;){if(!x){if((B.flags&524288)!==0)x=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var L=B.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var O=B.type;hs(B.pendingProps.value,L.value)||(A!==null?A.push(O):A=[O])}}else if(B===we.current){if(L=B.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(A!==null?A.push(r0):A=[r0])}B=B.return}A!==null&&iF(c,A,p,m),c.flags|=262144}function yE(A){for(A=A.firstContext;A!==null;){if(!hs(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function qd(A){zd=A,IA=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Gi(A){return B2(zd,A)}function wE(A,c){return zd===null&&qd(A),B2(A,c)}function B2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},IA===null){if(A===null)throw Error(i(308));IA=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else IA=IA.next=c;return p}var Fte=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},Ute=n.unstable_scheduleCallback,Mte=n.unstable_NormalPriority,ei={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rF(){return{controller:new Fte,data:new Map,refCount:0}}function My(A){A.refCount--,A.refCount===0&&Ute(Mte,function(){A.controller.abort()})}var Py=null,sF=0,Rp=0,Dp=null;function Pte(A,c){if(Py===null){var p=Py=[];sF=0,Rp=AU(),Dp={status:"pending",value:void 0,then:function(m){p.push(m)}}}return sF++,c.then(E2,E2),c}function E2(){if(--sF===0&&Py!==null){Dp!==null&&(Dp.status="fulfilled");var A=Py;Py=null,Rp=0,Dp=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function Rte(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(B){p.push(B)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var B=0;B<p.length;B++)(0,p[B])(c)},function(B){for(m.status="rejected",m.reason=B,B=0;B<p.length;B++)(0,p[B])(void 0)}),m}var x2=V.S;V.S=function(A,c){A4=Be(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Pte(A,c),x2!==null&&x2(A,c)};var $d=q(null);function aF(){var A=$d.current;return A!==null?A:en.pooledCache}function bE(A,c){c===null?Ae($d,$d.current):Ae($d,c.pool)}function S2(){var A=aF();return A===null?null:{parent:ei._currentValue,pool:A}}var Lp=Error(i(460)),oF=Error(i(474)),CE=Error(i(542)),BE={then:function(){}};function _2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function T2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then(xA,xA),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,F2(A),A;default:if(typeof c.status=="string")c.then(xA,xA);else{if(A=en,A!==null&&100<A.shellSuspendCounter)throw Error(i(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var B=c;B.status="fulfilled",B.value=m}},function(m){if(c.status==="pending"){var B=c;B.status="rejected",B.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,F2(A),A}throw Wd=c,Lp}}function jd(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Wd=p,Lp):p}}var Wd=null;function I2(){if(Wd===null)throw Error(i(459));var A=Wd;return Wd=null,A}function F2(A){if(A===Lp||A===CE)throw Error(i(483))}var Np=null,Ry=0;function EE(A){var c=Ry;return Ry+=1,Np===null&&(Np=[]),T2(Np,A,c)}function Dy(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function xE(A,c){throw c.$$typeof===g?Error(i(525)):(A=Object.prototype.toString.call(c),Error(i(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function U2(A){function c(X,W){if(A){var Z=X.deletions;Z===null?(X.deletions=[W],X.flags|=16):Z.push(W)}}function p(X,W){if(!A)return null;for(;W!==null;)c(X,W),W=W.sibling;return null}function m(X){for(var W=new Map;X!==null;)X.key!==null?W.set(X.key,X):W.set(X.index,X),X=X.sibling;return W}function B(X,W){return X=_A(X,W),X.index=0,X.sibling=null,X}function x(X,W,Z){return X.index=Z,A?(Z=X.alternate,Z!==null?(Z=Z.index,Z<W?(X.flags|=67108866,W):Z):(X.flags|=67108866,W)):(X.flags|=1048576,W)}function L(X){return A&&X.alternate===null&&(X.flags|=67108866),X}function O(X,W,Z,ce){return W===null||W.tag!==6?(W=WI(Z,X.mode,ce),W.return=X,W):(W=B(W,Z),W.return=X,W)}function j(X,W,Z,ce){var Oe=Z.type;return Oe===C?le(X,W,Z.props.children,ce,Z.key):W!==null&&(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===H&&jd(Oe)===W.type)?(W=B(W,Z.props),Dy(W,Z),W.return=X,W):(W=mE(Z.type,Z.key,Z.props,null,X.mode,ce),Dy(W,Z),W.return=X,W)}function ee(X,W,Z,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=YI(Z,X.mode,ce),W.return=X,W):(W=B(W,Z.children||[]),W.return=X,W)}function le(X,W,Z,ce,Oe){return W===null||W.tag!==7?(W=Gd(Z,X.mode,ce,Oe),W.return=X,W):(W=B(W,Z),W.return=X,W)}function fe(X,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=WI(""+W,X.mode,Z),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return Z=mE(W.type,W.key,W.props,null,X.mode,Z),Dy(Z,W),Z.return=X,Z;case b:return W=YI(W,X.mode,Z),W.return=X,W;case H:return W=jd(W),fe(X,W,Z)}if(pe(W)||z(W))return W=Gd(W,X.mode,Z,null),W.return=X,W;if(typeof W.then=="function")return fe(X,EE(W),Z);if(W.$$typeof===T)return fe(X,wE(X,W),Z);xE(X,W)}return null}function te(X,W,Z,ce){var Oe=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Oe!==null?null:O(X,W,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Oe?j(X,W,Z,ce):null;case b:return Z.key===Oe?ee(X,W,Z,ce):null;case H:return Z=jd(Z),te(X,W,Z,ce)}if(pe(Z)||z(Z))return Oe!==null?null:le(X,W,Z,ce,null);if(typeof Z.then=="function")return te(X,W,EE(Z),ce);if(Z.$$typeof===T)return te(X,W,wE(X,Z),ce);xE(X,Z)}return null}function re(X,W,Z,ce,Oe){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(Z)||null,O(W,X,""+ce,Oe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return X=X.get(ce.key===null?Z:ce.key)||null,j(W,X,ce,Oe);case b:return X=X.get(ce.key===null?Z:ce.key)||null,ee(W,X,ce,Oe);case H:return ce=jd(ce),re(X,W,Z,ce,Oe)}if(pe(ce)||z(ce))return X=X.get(Z)||null,le(W,X,ce,Oe,null);if(typeof ce.then=="function")return re(X,W,Z,EE(ce),Oe);if(ce.$$typeof===T)return re(X,W,Z,wE(W,ce),Oe);xE(W,ce)}return null}function Me(X,W,Z,ce){for(var Oe=null,Tt=null,De=W,at=W=0,mt=null;De!==null&&at<Z.length;at++){De.index>at?(mt=De,De=null):mt=De.sibling;var It=te(X,De,Z[at],ce);if(It===null){De===null&&(De=mt);break}A&&De&&It.alternate===null&&c(X,De),W=x(It,W,at),Tt===null?Oe=It:Tt.sibling=It,Tt=It,De=mt}if(at===Z.length)return p(X,De),Ct&&TA(X,at),Oe;if(De===null){for(;at<Z.length;at++)De=fe(X,Z[at],ce),De!==null&&(W=x(De,W,at),Tt===null?Oe=De:Tt.sibling=De,Tt=De);return Ct&&TA(X,at),Oe}for(De=m(De);at<Z.length;at++)mt=re(De,X,at,Z[at],ce),mt!==null&&(A&&mt.alternate!==null&&De.delete(mt.key===null?at:mt.key),W=x(mt,W,at),Tt===null?Oe=mt:Tt.sibling=mt,Tt=mt);return A&&De.forEach(function(Wu){return c(X,Wu)}),Ct&&TA(X,at),Oe}function Ge(X,W,Z,ce){if(Z==null)throw Error(i(151));for(var Oe=null,Tt=null,De=W,at=W=0,mt=null,It=Z.next();De!==null&&!It.done;at++,It=Z.next()){De.index>at?(mt=De,De=null):mt=De.sibling;var Wu=te(X,De,It.value,ce);if(Wu===null){De===null&&(De=mt);break}A&&De&&Wu.alternate===null&&c(X,De),W=x(Wu,W,at),Tt===null?Oe=Wu:Tt.sibling=Wu,Tt=Wu,De=mt}if(It.done)return p(X,De),Ct&&TA(X,at),Oe;if(De===null){for(;!It.done;at++,It=Z.next())It=fe(X,It.value,ce),It!==null&&(W=x(It,W,at),Tt===null?Oe=It:Tt.sibling=It,Tt=It);return Ct&&TA(X,at),Oe}for(De=m(De);!It.done;at++,It=Z.next())It=re(De,X,at,It.value,ce),It!==null&&(A&&It.alternate!==null&&De.delete(It.key===null?at:It.key),W=x(It,W,at),Tt===null?Oe=It:Tt.sibling=It,Tt=It);return A&&De.forEach(function(zne){return c(X,zne)}),Ct&&TA(X,at),Oe}function zt(X,W,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===C&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Oe=Z.key;W!==null;){if(W.key===Oe){if(Oe=Z.type,Oe===C){if(W.tag===7){p(X,W.sibling),ce=B(W,Z.props.children),ce.return=X,X=ce;break e}}else if(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===H&&jd(Oe)===W.type){p(X,W.sibling),ce=B(W,Z.props),Dy(ce,Z),ce.return=X,X=ce;break e}p(X,W);break}else c(X,W);W=W.sibling}Z.type===C?(ce=Gd(Z.props.children,X.mode,ce,Z.key),ce.return=X,X=ce):(ce=mE(Z.type,Z.key,Z.props,null,X.mode,ce),Dy(ce,Z),ce.return=X,X=ce)}return L(X);case b:e:{for(Oe=Z.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){p(X,W.sibling),ce=B(W,Z.children||[]),ce.return=X,X=ce;break e}else{p(X,W);break}else c(X,W);W=W.sibling}ce=YI(Z,X.mode,ce),ce.return=X,X=ce}return L(X);case H:return Z=jd(Z),zt(X,W,Z,ce)}if(pe(Z))return Me(X,W,Z,ce);if(z(Z)){if(Oe=z(Z),typeof Oe!="function")throw Error(i(150));return Z=Oe.call(Z),Ge(X,W,Z,ce)}if(typeof Z.then=="function")return zt(X,W,EE(Z),ce);if(Z.$$typeof===T)return zt(X,W,wE(X,Z),ce);xE(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(p(X,W.sibling),ce=B(W,Z),ce.return=X,X=ce):(p(X,W),ce=WI(Z,X.mode,ce),ce.return=X,X=ce),L(X)):p(X,W)}return function(X,W,Z,ce){try{Ry=0;var Oe=zt(X,W,Z,ce);return Np=null,Oe}catch(De){if(De===Lp||De===CE)throw De;var Tt=ps(29,De,null,X.mode);return Tt.lanes=ce,Tt.return=X,Tt}finally{}}}var Yd=U2(!0),M2=U2(!1),Mu=!1;function AF(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function Pu(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Ru(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(Pt&2)!==0){var B=m.pending;return B===null?c.next=c:(c.next=B.next,B.next=c),m.pending=c,c=gE(A),p2(A,null,p),c}return pE(A,m,c,p),gE(A)}function Ly(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,BO(A,p)}}function uF(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var B=null,x=null;if(p=p.firstBaseUpdate,p!==null){do{var L={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};x===null?B=x=L:x=x.next=L,p=p.next}while(p!==null);x===null?B=x=c:x=x.next=c}else B=x=c;p={baseState:m.baseState,firstBaseUpdate:B,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var cF=!1;function Ny(){if(cF){var A=Dp;if(A!==null)throw A}}function Qy(A,c,p,m){cF=!1;var B=A.updateQueue;Mu=!1;var x=B.firstBaseUpdate,L=B.lastBaseUpdate,O=B.shared.pending;if(O!==null){B.shared.pending=null;var j=O,ee=j.next;j.next=null,L===null?x=ee:L.next=ee,L=j;var le=A.alternate;le!==null&&(le=le.updateQueue,O=le.lastBaseUpdate,O!==L&&(O===null?le.firstBaseUpdate=ee:O.next=ee,le.lastBaseUpdate=j))}if(x!==null){var fe=B.baseState;L=0,le=ee=j=null,O=x;do{var te=O.lane&-536870913,re=te!==O.lane;if(re?(gt&te)===te:(m&te)===te){te!==0&&te===Rp&&(cF=!0),le!==null&&(le=le.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Me=A,Ge=O;te=c;var zt=p;switch(Ge.tag){case 1:if(Me=Ge.payload,typeof Me=="function"){fe=Me.call(zt,fe,te);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ge.payload,te=typeof Me=="function"?Me.call(zt,fe,te):Me,te==null)break e;fe=h({},fe,te);break e;case 2:Mu=!0}}te=O.callback,te!==null&&(A.flags|=64,re&&(A.flags|=8192),re=B.callbacks,re===null?B.callbacks=[te]:re.push(te))}else re={lane:te,tag:O.tag,payload:O.payload,callback:O.callback,next:null},le===null?(ee=le=re,j=fe):le=le.next=re,L|=te;if(O=O.next,O===null){if(O=B.shared.pending,O===null)break;re=O,O=re.next,re.next=null,B.lastBaseUpdate=re,B.shared.pending=null}}while(!0);le===null&&(j=fe),B.baseState=j,B.firstBaseUpdate=ee,B.lastBaseUpdate=le,x===null&&(B.shared.lanes=0),ku|=L,A.lanes=L,A.memoizedState=fe}}function P2(A,c){if(typeof A!="function")throw Error(i(191,A));A.call(c)}function R2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)P2(p[A],c)}var Qp=q(null),SE=q(0);function D2(A,c){A=kA,Ae(SE,A),Ae(Qp,c),kA=A|c.baseLanes}function dF(){Ae(SE,kA),Ae(Qp,Qp.current)}function fF(){kA=SE.current,Y(Qp),Y(SE)}var gs=q(null),la=null;function Du(A){var c=A.alternate;Ae(Kn,Kn.current&1),Ae(gs,A),la===null&&(c===null||Qp.current!==null||c.memoizedState!==null)&&(la=A)}function hF(A){Ae(Kn,Kn.current),Ae(gs,A),la===null&&(la=A)}function L2(A){A.tag===22?(Ae(Kn,Kn.current),Ae(gs,A),la===null&&(la=A)):Lu()}function Lu(){Ae(Kn,Kn.current),Ae(gs,gs.current)}function ms(A){Y(gs),la===A&&(la=null),Y(Kn)}var Kn=q(0);function _E(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||wU(p)||bU(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var UA=0,nt=null,Gt=null,ti=null,TE=!1,kp=!1,Xd=!1,IE=0,ky=0,Op=null,Dte=0;function Rn(){throw Error(i(321))}function pF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!hs(A[p],c[p]))return!1;return!0}function gF(A,c,p,m,B,x){return UA=x,nt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=A===null||A.memoizedState===null?yH:UF,Xd=!1,x=p(m,B),Xd=!1,kp&&(x=Q2(c,p,m,B)),N2(A),x}function N2(A){V.H=Vy;var c=Gt!==null&&Gt.next!==null;if(UA=0,ti=Gt=nt=null,TE=!1,ky=0,Op=null,c)throw Error(i(300));A===null||ni||(A=A.dependencies,A!==null&&yE(A)&&(ni=!0))}function Q2(A,c,p,m){nt=A;var B=0;do{if(kp&&(Op=null),ky=0,kp=!1,25<=B)throw Error(i(301));if(B+=1,ti=Gt=null,A.updateQueue!=null){var x=A.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}V.H=wH,x=c(p,m)}while(kp);return x}function Lte(){var A=V.H,c=A.useState()[0];return c=typeof c.then=="function"?Oy(c):c,A=A.useState()[0],(Gt!==null?Gt.memoizedState:null)!==A&&(nt.flags|=1024),c}function mF(){var A=IE!==0;return IE=0,A}function vF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function yF(A){if(TE){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}TE=!1}UA=0,ti=Gt=nt=null,kp=!1,ky=IE=0,Op=null}function Sr(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?nt.memoizedState=ti=A:ti=ti.next=A,ti}function zn(){if(Gt===null){var A=nt.alternate;A=A!==null?A.memoizedState:null}else A=Gt.next;var c=ti===null?nt.memoizedState:ti.next;if(c!==null)ti=c,Gt=A;else{if(A===null)throw nt.alternate===null?Error(i(467)):Error(i(310));Gt=A,A={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},ti===null?nt.memoizedState=ti=A:ti=ti.next=A}return ti}function FE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oy(A){var c=ky;return ky+=1,Op===null&&(Op=[]),A=T2(Op,A,c),c=nt,(ti===null?c.memoizedState:ti.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?yH:UF),A}function UE(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Oy(A);if(A.$$typeof===T)return Gi(A)}throw Error(i(438,String(A)))}function wF(A){var c=null,p=nt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=nt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(B){return B.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=FE(),nt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=K;return c.index++,p}function MA(A,c){return typeof c=="function"?c(A):c}function ME(A){var c=zn();return bF(c,Gt,A)}function bF(A,c,p){var m=A.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=p;var B=A.baseQueue,x=m.pending;if(x!==null){if(B!==null){var L=B.next;B.next=x.next,x.next=L}c.baseQueue=B=x,m.pending=null}if(x=A.baseState,B===null)A.memoizedState=x;else{c=B.next;var O=L=null,j=null,ee=c,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(gt&fe)===fe:(UA&fe)===fe){var te=ee.revertLane;if(te===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Rp&&(le=!0);else if((UA&te)===te){ee=ee.next,te===Rp&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(O=j=fe,L=x):j=j.next=fe,nt.lanes|=te,ku|=te;fe=ee.action,Xd&&p(x,fe),x=ee.hasEagerState?ee.eagerState:p(x,fe)}else te={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(O=j=te,L=x):j=j.next=te,nt.lanes|=fe,ku|=fe;ee=ee.next}while(ee!==null&&ee!==c);if(j===null?L=x:j.next=O,!hs(x,A.memoizedState)&&(ni=!0,le&&(p=Dp,p!==null)))throw p;A.memoizedState=x,A.baseState=L,A.baseQueue=j,m.lastRenderedState=x}return B===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function CF(A){var c=zn(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=A;var m=p.dispatch,B=p.pending,x=c.memoizedState;if(B!==null){p.pending=null;var L=B=B.next;do x=A(x,L.action),L=L.next;while(L!==B);hs(x,c.memoizedState)||(ni=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),p.lastRenderedState=x}return[x,m]}function k2(A,c,p){var m=nt,B=zn(),x=Ct;if(x){if(p===void 0)throw Error(i(407));p=p()}else p=c();var L=!hs((Gt||B).memoizedState,p);if(L&&(B.memoizedState=p,ni=!0),B=B.queue,xF(V2.bind(null,m,B,A),[A]),B.getSnapshot!==c||L||ti!==null&&ti.memoizedState.tag&1){if(m.flags|=2048,Hp(9,{destroy:void 0},H2.bind(null,m,B,p,c),null),en===null)throw Error(i(349));x||(UA&127)!==0||O2(m,c,p)}return p}function O2(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=nt.updateQueue,c===null?(c=FE(),nt.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function H2(A,c,p,m){c.value=p,c.getSnapshot=m,G2(c)&&K2(A)}function V2(A,c,p){return p(function(){G2(c)&&K2(A)})}function G2(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!hs(A,p)}catch{return!0}}function K2(A){var c=Vd(A,2);c!==null&&jr(c,A,2)}function BF(A){var c=Sr();if(typeof A=="function"){var p=A;if(A=p(),Xd){Io(!0);try{p()}finally{Io(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MA,lastRenderedState:A},c}function z2(A,c,p,m){return A.baseState=p,bF(A,Gt,typeof m=="function"?m:MA)}function Nte(A,c,p,m,B){if(DE(A))throw Error(i(485));if(A=c.action,A!==null){var x={payload:B,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};V.T!==null?p(!0):x.isTransition=!1,m(x),p=c.pending,p===null?(x.next=c.pending=x,q2(c,x)):(x.next=p.next,c.pending=p.next=x)}}function q2(A,c){var p=c.action,m=c.payload,B=A.state;if(c.isTransition){var x=V.T,L={};V.T=L;try{var O=p(B,m),j=V.S;j!==null&&j(L,O),$2(A,c,O)}catch(ee){EF(A,c,ee)}finally{x!==null&&L.types!==null&&(x.types=L.types),V.T=x}}else try{x=p(B,m),$2(A,c,x)}catch(ee){EF(A,c,ee)}}function $2(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){j2(A,c,m)},function(m){return EF(A,c,m)}):j2(A,c,p)}function j2(A,c,p){c.status="fulfilled",c.value=p,W2(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,q2(A,p)))}function EF(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,W2(c),c=c.next;while(c!==m)}A.action=null}function W2(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function Y2(A,c){return c}function X2(A,c){if(Ct){var p=en.formState;if(p!==null){e:{var m=nt;if(Ct){if(gn){t:{for(var B=gn,x=Aa;B.nodeType!==8;){if(!x){B=null;break t}if(B=ua(B.nextSibling),B===null){B=null;break t}}x=B.data,B=x==="F!"||x==="F"?B:null}if(B){gn=ua(B.nextSibling),m=B.data==="F!";break e}}Fu(m)}m=!1}m&&(c=p[0])}}return p=Sr(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y2,lastRenderedState:c},p.queue=m,p=gH.bind(null,nt,m),m.dispatch=p,m=BF(!1),x=FF.bind(null,nt,!1,m.queue),m=Sr(),B={state:c,dispatch:null,action:A,pending:null},m.queue=B,p=Nte.bind(null,nt,B,x,p),B.dispatch=p,m.memoizedState=A,[c,p,!1]}function J2(A){var c=zn();return Z2(c,Gt,A)}function Z2(A,c,p){if(c=bF(A,c,Y2)[0],A=ME(MA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=Oy(c)}catch(L){throw L===Lp?CE:L}else m=c;c=zn();var B=c.queue,x=B.dispatch;return p!==c.memoizedState&&(nt.flags|=2048,Hp(9,{destroy:void 0},Qte.bind(null,B,p),null)),[m,x,A]}function Qte(A,c){A.action=c}function eH(A){var c=zn(),p=Gt;if(p!==null)return Z2(c,p,A);zn(),c=c.memoizedState,p=zn();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function Hp(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=nt.updateQueue,c===null&&(c=FE(),nt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function tH(){return zn().memoizedState}function PE(A,c,p,m){var B=Sr();nt.flags|=A,B.memoizedState=Hp(1|c,{destroy:void 0},p,m===void 0?null:m)}function RE(A,c,p,m){var B=zn();m=m===void 0?null:m;var x=B.memoizedState.inst;Gt!==null&&m!==null&&pF(m,Gt.memoizedState.deps)?B.memoizedState=Hp(c,x,p,m):(nt.flags|=A,B.memoizedState=Hp(1|c,x,p,m))}function nH(A,c){PE(8390656,8,A,c)}function xF(A,c){RE(2048,8,A,c)}function kte(A){nt.flags|=4;var c=nt.updateQueue;if(c===null)c=FE(),nt.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function iH(A){var c=zn().memoizedState;return kte({ref:c,nextImpl:A}),function(){if((Pt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function rH(A,c){return RE(4,2,A,c)}function sH(A,c){return RE(4,4,A,c)}function aH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function oH(A,c,p){p=p!=null?p.concat([A]):null,RE(4,4,aH.bind(null,c,A),p)}function SF(){}function AH(A,c){var p=zn();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&pF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function lH(A,c){var p=zn();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&pF(c,m[1]))return m[0];if(m=A(),Xd){Io(!0);try{A()}finally{Io(!1)}}return p.memoizedState=[m,c],m}function _F(A,c,p){return p===void 0||(UA&1073741824)!==0&&(gt&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=u4(),nt.lanes|=A,ku|=A,p)}function uH(A,c,p,m){return hs(p,c)?p:Qp.current!==null?(A=_F(A,p,m),hs(A,c)||(ni=!0),A):(UA&42)===0||(UA&1073741824)!==0&&(gt&261930)===0?(ni=!0,A.memoizedState=p):(A=u4(),nt.lanes|=A,ku|=A,c)}function cH(A,c,p,m,B){var x=$.p;$.p=x!==0&&8>x?x:8;var L=V.T,O={};V.T=O,FF(A,!1,c,p);try{var j=B(),ee=V.S;if(ee!==null&&ee(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var le=Rte(j,m);Hy(A,c,le,ws(A))}else Hy(A,c,m,ws(A))}catch(fe){Hy(A,c,{then:function(){},status:"rejected",reason:fe},ws())}finally{$.p=x,L!==null&&O.types!==null&&(L.types=O.types),V.T=L}}function Ote(){}function TF(A,c,p,m){if(A.tag!==5)throw Error(i(476));var B=dH(A).queue;cH(A,B,c,ie,p===null?Ote:function(){return fH(A),p(m)})}function dH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:MA,lastRenderedState:ie},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:MA,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function fH(A){var c=dH(A);c.next===null&&(c=A.alternate.memoizedState),Hy(A,c.next.queue,{},ws())}function IF(){return Gi(r0)}function hH(){return zn().memoizedState}function pH(){return zn().memoizedState}function Hte(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=ws();A=Pu(p);var m=Ru(c,A,p);m!==null&&(jr(m,c,p),Ly(m,c,p)),c={cache:rF()},A.payload=c;return}c=c.return}}function Vte(A,c,p){var m=ws();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},DE(A)?mH(c,p):(p=$I(A,c,p,m),p!==null&&(jr(p,A,m),vH(p,c,m)))}function gH(A,c,p){var m=ws();Hy(A,c,p,m)}function Hy(A,c,p,m){var B={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(DE(A))mH(c,B);else{var x=A.alternate;if(A.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var L=c.lastRenderedState,O=x(L,p);if(B.hasEagerState=!0,B.eagerState=O,hs(O,L))return pE(A,c,B,0),en===null&&hE(),!1}catch{}finally{}if(p=$I(A,c,B,m),p!==null)return jr(p,A,m),vH(p,c,m),!0}return!1}function FF(A,c,p,m){if(m={lane:2,revertLane:AU(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},DE(A)){if(c)throw Error(i(479))}else c=$I(A,p,m,2),c!==null&&jr(c,A,2)}function DE(A){var c=A.alternate;return A===nt||c!==null&&c===nt}function mH(A,c){kp=TE=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function vH(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,BO(A,p)}}var Vy={readContext:Gi,use:UE,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn};Vy.useEffectEvent=Rn;var yH={readContext:Gi,use:UE,useCallback:function(A,c){return Sr().memoizedState=[A,c===void 0?null:c],A},useContext:Gi,useEffect:nH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,PE(4194308,4,aH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return PE(4194308,4,A,c)},useInsertionEffect:function(A,c){PE(4,2,A,c)},useMemo:function(A,c){var p=Sr();c=c===void 0?null:c;var m=A();if(Xd){Io(!0);try{A()}finally{Io(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=Sr();if(p!==void 0){var B=p(c);if(Xd){Io(!0);try{p(c)}finally{Io(!1)}}}else B=c;return m.memoizedState=m.baseState=B,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:B},m.queue=A,A=A.dispatch=Vte.bind(null,nt,A),[m.memoizedState,A]},useRef:function(A){var c=Sr();return A={current:A},c.memoizedState=A},useState:function(A){A=BF(A);var c=A.queue,p=gH.bind(null,nt,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:SF,useDeferredValue:function(A,c){var p=Sr();return _F(p,A,c)},useTransition:function(){var A=BF(!1);return A=cH.bind(null,nt,A.queue,!0,!1),Sr().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=nt,B=Sr();if(Ct){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),en===null)throw Error(i(349));(gt&127)!==0||O2(m,c,p)}B.memoizedState=p;var x={value:p,getSnapshot:c};return B.queue=x,nH(V2.bind(null,m,x,A),[A]),m.flags|=2048,Hp(9,{destroy:void 0},H2.bind(null,m,x,p,c),null),p},useId:function(){var A=Sr(),c=en.identifierPrefix;if(Ct){var p=Uo,m=Fo;p=(m&~(1<<32-xr(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=IE++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Dte++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:IF,useFormState:X2,useActionState:X2,useOptimistic:function(A){var c=Sr();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=FF.bind(null,nt,!0,p),p.dispatch=c,[A,c]},useMemoCache:wF,useCacheRefresh:function(){return Sr().memoizedState=Hte.bind(null,nt)},useEffectEvent:function(A){var c=Sr(),p={impl:A};return c.memoizedState=p,function(){if((Pt&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}},UF={readContext:Gi,use:UE,useCallback:AH,useContext:Gi,useEffect:xF,useImperativeHandle:oH,useInsertionEffect:rH,useLayoutEffect:sH,useMemo:lH,useReducer:ME,useRef:tH,useState:function(){return ME(MA)},useDebugValue:SF,useDeferredValue:function(A,c){var p=zn();return uH(p,Gt.memoizedState,A,c)},useTransition:function(){var A=ME(MA)[0],c=zn().memoizedState;return[typeof A=="boolean"?A:Oy(A),c]},useSyncExternalStore:k2,useId:hH,useHostTransitionStatus:IF,useFormState:J2,useActionState:J2,useOptimistic:function(A,c){var p=zn();return z2(p,Gt,A,c)},useMemoCache:wF,useCacheRefresh:pH};UF.useEffectEvent=iH;var wH={readContext:Gi,use:UE,useCallback:AH,useContext:Gi,useEffect:xF,useImperativeHandle:oH,useInsertionEffect:rH,useLayoutEffect:sH,useMemo:lH,useReducer:CF,useRef:tH,useState:function(){return CF(MA)},useDebugValue:SF,useDeferredValue:function(A,c){var p=zn();return Gt===null?_F(p,A,c):uH(p,Gt.memoizedState,A,c)},useTransition:function(){var A=CF(MA)[0],c=zn().memoizedState;return[typeof A=="boolean"?A:Oy(A),c]},useSyncExternalStore:k2,useId:hH,useHostTransitionStatus:IF,useFormState:eH,useActionState:eH,useOptimistic:function(A,c){var p=zn();return Gt!==null?z2(p,Gt,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:wF,useCacheRefresh:pH};wH.useEffectEvent=iH;function MF(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var PF={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=ws(),B=Pu(m);B.payload=c,p!=null&&(B.callback=p),c=Ru(A,B,m),c!==null&&(jr(c,A,m),Ly(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=ws(),B=Pu(m);B.tag=1,B.payload=c,p!=null&&(B.callback=p),c=Ru(A,B,m),c!==null&&(jr(c,A,m),Ly(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=ws(),m=Pu(p);m.tag=2,c!=null&&(m.callback=c),c=Ru(A,m,p),c!==null&&(jr(c,A,p),Ly(c,A,p))}};function bH(A,c,p,m,B,x,L){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,x,L):c.prototype&&c.prototype.isPureReactComponent?!Ty(p,m)||!Ty(B,x):!0}function CH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&PF.enqueueReplaceState(c,c.state,null)}function Jd(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var B in A)p[B]===void 0&&(p[B]=A[B])}return p}function BH(A){fE(A)}function EH(A){console.error(A)}function xH(A){fE(A)}function LE(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function SH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function RF(A,c,p){return p=Pu(p),p.tag=3,p.payload={element:null},p.callback=function(){LE(A,c)},p}function _H(A){return A=Pu(A),A.tag=3,A}function TH(A,c,p,m){var B=p.type.getDerivedStateFromError;if(typeof B=="function"){var x=m.value;A.payload=function(){return B(x)},A.callback=function(){SH(c,p,m)}}var L=p.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(A.callback=function(){SH(c,p,m),typeof B!="function"&&(Ou===null?Ou=new Set([this]):Ou.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function Gte(A,c,p,m,B){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&Pp(c,p,B,!0),p=gs.current,p!==null){switch(p.tag){case 31:case 13:return la===null?jE():p.alternate===null&&Dn===0&&(Dn=3),p.flags&=-257,p.flags|=65536,p.lanes=B,m===BE?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),sU(A,m,B)),!1;case 22:return p.flags|=65536,m===BE?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),sU(A,m,B)),!1}throw Error(i(435,p.tag))}return sU(A,m,B),jE(),!1}if(Ct)return c=gs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=B,m!==ZI&&(A=Error(i(422),{cause:m}),Uy(sa(A,p)))):(m!==ZI&&(c=Error(i(423),{cause:m}),Uy(sa(c,p))),A=A.current.alternate,A.flags|=65536,B&=-B,A.lanes|=B,m=sa(m,p),B=RF(A.stateNode,m,B),uF(A,B),Dn!==4&&(Dn=2)),!1;var x=Error(i(520),{cause:m});if(x=sa(x,p),Yy===null?Yy=[x]:Yy.push(x),Dn!==4&&(Dn=2),c===null)return!0;m=sa(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=B&-B,p.lanes|=A,A=RF(p.stateNode,m,A),uF(p,A),!1;case 1:if(c=p.type,x=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ou===null||!Ou.has(x))))return p.flags|=65536,B&=-B,p.lanes|=B,B=_H(B),TH(B,A,p,m),uF(p,B),!1}p=p.return}while(p!==null);return!1}var DF=Error(i(461)),ni=!1;function Ki(A,c,p,m){c.child=A===null?M2(c,null,p,m):Yd(c,A.child,p,m)}function IH(A,c,p,m,B){p=p.render;var x=c.ref;if("ref"in m){var L={};for(var O in m)O!=="ref"&&(L[O]=m[O])}else L=m;return qd(c),m=gF(A,c,p,L,x,B),O=mF(),A!==null&&!ni?(vF(A,c,B),PA(A,c,B)):(Ct&&O&&XI(c),c.flags|=1,Ki(A,c,m,B),c.child)}function FH(A,c,p,m,B){if(A===null){var x=p.type;return typeof x=="function"&&!jI(x)&&x.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=x,UH(A,c,x,m,B)):(A=mE(p.type,null,m,c,c.mode,B),A.ref=c.ref,A.return=c,c.child=A)}if(x=A.child,!GF(A,B)){var L=x.memoizedProps;if(p=p.compare,p=p!==null?p:Ty,p(L,m)&&A.ref===c.ref)return PA(A,c,B)}return c.flags|=1,A=_A(x,m),A.ref=c.ref,A.return=c,c.child=A}function UH(A,c,p,m,B){if(A!==null){var x=A.memoizedProps;if(Ty(x,m)&&A.ref===c.ref)if(ni=!1,c.pendingProps=m=x,GF(A,B))(A.flags&131072)!==0&&(ni=!0);else return c.lanes=A.lanes,PA(A,c,B)}return LF(A,c,p,m,B)}function MH(A,c,p,m){var B=m.children,x=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|p:p,A!==null){for(m=c.child=A.child,B=0;m!==null;)B=B|m.lanes|m.childLanes,m=m.sibling;m=B&~x}else m=0,c.child=null;return PH(A,c,x,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&bE(c,x!==null?x.cachePool:null),x!==null?D2(c,x):dF(),L2(c);else return m=c.lanes=536870912,PH(A,c,x!==null?x.baseLanes|p:p,p,m)}else x!==null?(bE(c,x.cachePool),D2(c,x),Lu(),c.memoizedState=null):(A!==null&&bE(c,null),dF(),Lu());return Ki(A,c,B,p),c.child}function Gy(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function PH(A,c,p,m,B){var x=aF();return x=x===null?null:{parent:ei._currentValue,pool:x},c.memoizedState={baseLanes:p,cachePool:x},A!==null&&bE(c,null),dF(),L2(c),A!==null&&Pp(A,c,m,!0),c.childLanes=B,null}function NE(A,c){return c=kE({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function RH(A,c,p){return Yd(c,A.child,null,p),A=NE(c,c.pendingProps),A.flags|=2,ms(c),c.memoizedState=null,A}function Kte(A,c,p){var m=c.pendingProps,B=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(Ct){if(m.mode==="hidden")return A=NE(c,m),c.lanes=536870912,Gy(null,A);if(hF(c),(A=gn)?(A=q4(A,Aa),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Tu!==null?{id:Fo,overflow:Uo}:null,retryLane:536870912,hydrationErrors:null},p=m2(A),p.return=c,c.child=p,Vi=c,gn=null)):A=null,A===null)throw Fu(c);return c.lanes=536870912,null}return NE(c,m)}var x=A.memoizedState;if(x!==null){var L=x.dehydrated;if(hF(c),B)if(c.flags&256)c.flags&=-257,c=RH(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(i(558));else if(ni||Pp(A,c,p,!1),B=(p&A.childLanes)!==0,ni||B){if(m=en,m!==null&&(L=EO(m,p),L!==0&&L!==x.retryLane))throw x.retryLane=L,Vd(A,L),jr(m,A,L),DF;jE(),c=RH(A,c,p)}else A=x.treeContext,gn=ua(L.nextSibling),Vi=c,Ct=!0,Iu=null,Aa=!1,A!==null&&w2(c,A),c=NE(c,m),c.flags|=4096;return c}return A=_A(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function QE(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function LF(A,c,p,m,B){return qd(c),p=gF(A,c,p,m,void 0,B),m=mF(),A!==null&&!ni?(vF(A,c,B),PA(A,c,B)):(Ct&&m&&XI(c),c.flags|=1,Ki(A,c,p,B),c.child)}function DH(A,c,p,m,B,x){return qd(c),c.updateQueue=null,p=Q2(c,m,p,B),N2(A),m=mF(),A!==null&&!ni?(vF(A,c,x),PA(A,c,x)):(Ct&&m&&XI(c),c.flags|=1,Ki(A,c,p,x),c.child)}function LH(A,c,p,m,B){if(qd(c),c.stateNode===null){var x=Ip,L=p.contextType;typeof L=="object"&&L!==null&&(x=Gi(L)),x=new p(m,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=PF,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=m,x.state=c.memoizedState,x.refs={},AF(c),L=p.contextType,x.context=typeof L=="object"&&L!==null?Gi(L):Ip,x.state=c.memoizedState,L=p.getDerivedStateFromProps,typeof L=="function"&&(MF(c,p,L,m),x.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&PF.enqueueReplaceState(x,x.state,null),Qy(c,m,x,B),Ny(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){x=c.stateNode;var O=c.memoizedProps,j=Jd(p,O);x.props=j;var ee=x.context,le=p.contextType;L=Ip,typeof le=="object"&&le!==null&&(L=Gi(le));var fe=p.getDerivedStateFromProps;le=typeof fe=="function"||typeof x.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,le||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O||ee!==L)&&CH(c,x,m,L),Mu=!1;var te=c.memoizedState;x.state=te,Qy(c,m,x,B),Ny(),ee=c.memoizedState,O||te!==ee||Mu?(typeof fe=="function"&&(MF(c,p,fe,m),ee=c.memoizedState),(j=Mu||bH(c,p,j,m,te,ee,L))?(le||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ee),x.props=m,x.state=ee,x.context=L,m=j):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{x=c.stateNode,lF(A,c),L=c.memoizedProps,le=Jd(p,L),x.props=le,fe=c.pendingProps,te=x.context,ee=p.contextType,j=Ip,typeof ee=="object"&&ee!==null&&(j=Gi(ee)),O=p.getDerivedStateFromProps,(ee=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==fe||te!==j)&&CH(c,x,m,j),Mu=!1,te=c.memoizedState,x.state=te,Qy(c,m,x,B),Ny();var re=c.memoizedState;L!==fe||te!==re||Mu||A!==null&&A.dependencies!==null&&yE(A.dependencies)?(typeof O=="function"&&(MF(c,p,O,m),re=c.memoizedState),(le=Mu||bH(c,p,le,m,te,re,j)||A!==null&&A.dependencies!==null&&yE(A.dependencies))?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,re,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,re,j)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===A.memoizedProps&&te===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===A.memoizedProps&&te===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=re),x.props=m,x.state=re,x.context=j,m=le):(typeof x.componentDidUpdate!="function"||L===A.memoizedProps&&te===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===A.memoizedProps&&te===A.memoizedState||(c.flags|=1024),m=!1)}return x=m,QE(A,c),m=(c.flags&128)!==0,x||m?(x=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,A!==null&&m?(c.child=Yd(c,A.child,null,B),c.child=Yd(c,null,p,B)):Ki(A,c,p,B),c.memoizedState=x.state,A=c.child):A=PA(A,c,B),A}function NH(A,c,p,m){return Kd(),c.flags|=256,Ki(A,c,p,m),c.child}var NF={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function QF(A){return{baseLanes:A,cachePool:S2()}}function kF(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=ys),A}function QH(A,c,p){var m=c.pendingProps,B=!1,x=(c.flags&128)!==0,L;if((L=x)||(L=A!==null&&A.memoizedState===null?!1:(Kn.current&2)!==0),L&&(B=!0,c.flags&=-129),L=(c.flags&32)!==0,c.flags&=-33,A===null){if(Ct){if(B?Du(c):Lu(),(A=gn)?(A=q4(A,Aa),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Tu!==null?{id:Fo,overflow:Uo}:null,retryLane:536870912,hydrationErrors:null},p=m2(A),p.return=c,c.child=p,Vi=c,gn=null)):A=null,A===null)throw Fu(c);return bU(A)?c.lanes=32:c.lanes=536870912,null}var O=m.children;return m=m.fallback,B?(Lu(),B=c.mode,O=kE({mode:"hidden",children:O},B),m=Gd(m,B,p,null),O.return=c,m.return=c,O.sibling=m,c.child=O,m=c.child,m.memoizedState=QF(p),m.childLanes=kF(A,L,p),c.memoizedState=NF,Gy(null,m)):(Du(c),OF(c,O))}var j=A.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(x)c.flags&256?(Du(c),c.flags&=-257,c=HF(A,c,p)):c.memoizedState!==null?(Lu(),c.child=A.child,c.flags|=128,c=null):(Lu(),O=m.fallback,B=c.mode,m=kE({mode:"visible",children:m.children},B),O=Gd(O,B,p,null),O.flags|=2,m.return=c,O.return=c,m.sibling=O,c.child=m,Yd(c,A.child,null,p),m=c.child,m.memoizedState=QF(p),m.childLanes=kF(A,L,p),c.memoizedState=NF,c=Gy(null,m));else if(Du(c),bU(O)){if(L=O.nextSibling&&O.nextSibling.dataset,L)var ee=L.dgst;L=ee,m=Error(i(419)),m.stack="",m.digest=L,Uy({value:m,source:null,stack:null}),c=HF(A,c,p)}else if(ni||Pp(A,c,p,!1),L=(p&A.childLanes)!==0,ni||L){if(L=en,L!==null&&(m=EO(L,p),m!==0&&m!==j.retryLane))throw j.retryLane=m,Vd(A,m),jr(L,A,m),DF;wU(O)||jE(),c=HF(A,c,p)}else wU(O)?(c.flags|=192,c.child=A.child,c=null):(A=j.treeContext,gn=ua(O.nextSibling),Vi=c,Ct=!0,Iu=null,Aa=!1,A!==null&&w2(c,A),c=OF(c,m.children),c.flags|=4096);return c}return B?(Lu(),O=m.fallback,B=c.mode,j=A.child,ee=j.sibling,m=_A(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,ee!==null?O=_A(ee,O):(O=Gd(O,B,p,null),O.flags|=2),O.return=c,m.return=c,m.sibling=O,c.child=m,Gy(null,m),m=c.child,O=A.child.memoizedState,O===null?O=QF(p):(B=O.cachePool,B!==null?(j=ei._currentValue,B=B.parent!==j?{parent:j,pool:j}:B):B=S2(),O={baseLanes:O.baseLanes|p,cachePool:B}),m.memoizedState=O,m.childLanes=kF(A,L,p),c.memoizedState=NF,Gy(A.child,m)):(Du(c),p=A.child,A=p.sibling,p=_A(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(L=c.deletions,L===null?(c.deletions=[A],c.flags|=16):L.push(A)),c.child=p,c.memoizedState=null,p)}function OF(A,c){return c=kE({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function kE(A,c){return A=ps(22,A,null,c),A.lanes=0,A}function HF(A,c,p){return Yd(c,A.child,null,p),A=OF(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function kH(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),nF(A.return,c,p)}function VF(A,c,p,m,B,x){var L=A.memoizedState;L===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:B,treeForkCount:x}:(L.isBackwards=c,L.rendering=null,L.renderingStartTime=0,L.last=m,L.tail=p,L.tailMode=B,L.treeForkCount=x)}function OH(A,c,p){var m=c.pendingProps,B=m.revealOrder,x=m.tail;m=m.children;var L=Kn.current,O=(L&2)!==0;if(O?(L=L&1|2,c.flags|=128):L&=1,Ae(Kn,L),Ki(A,c,m,p),m=Ct?Fy:0,!O&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&kH(A,p,c);else if(A.tag===19)kH(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(B){case"forwards":for(p=c.child,B=null;p!==null;)A=p.alternate,A!==null&&_E(A)===null&&(B=p),p=p.sibling;p=B,p===null?(B=c.child,c.child=null):(B=p.sibling,p.sibling=null),VF(c,!1,B,p,x,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,B=c.child,c.child=null;B!==null;){if(A=B.alternate,A!==null&&_E(A)===null){c.child=B;break}A=B.sibling,B.sibling=p,p=B,B=A}VF(c,!0,p,null,x,m);break;case"together":VF(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function PA(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),ku|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(Pp(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(i(153));if(c.child!==null){for(A=c.child,p=_A(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=_A(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function GF(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&yE(A)))}function zte(A,c,p){switch(c.tag){case 3:ft(c,c.stateNode.containerInfo),Uu(c,ei,A.memoizedState.cache),Kd();break;case 27:case 5:Qe(c);break;case 4:ft(c,c.stateNode.containerInfo);break;case 10:Uu(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,hF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Du(c),c.flags|=128,null):(p&c.child.childLanes)!==0?QH(A,c,p):(Du(c),A=PA(A,c,p),A!==null?A.sibling:null);Du(c);break;case 19:var B=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(Pp(A,c,p,!1),m=(p&c.childLanes)!==0),B){if(m)return OH(A,c,p);c.flags|=128}if(B=c.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Ae(Kn,Kn.current),m)break;return null;case 22:return c.lanes=0,MH(A,c,p,c.pendingProps);case 24:Uu(c,ei,A.memoizedState.cache)}return PA(A,c,p)}function HH(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)ni=!0;else{if(!GF(A,p)&&(c.flags&128)===0)return ni=!1,zte(A,c,p);ni=(A.flags&131072)!==0}else ni=!1,Ct&&(c.flags&1048576)!==0&&y2(c,Fy,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=jd(c.elementType),c.type=A,typeof A=="function")jI(A)?(m=Jd(A,m),c.tag=1,c=LH(null,c,A,m,p)):(c.tag=0,c=LF(null,c,A,m,p));else{if(A!=null){var B=A.$$typeof;if(B===R){c.tag=11,c=IH(null,c,A,m,p);break e}else if(B===N){c.tag=14,c=FH(null,c,A,m,p);break e}}throw c=ne(A)||A,Error(i(306,c,""))}}return c;case 0:return LF(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,B=Jd(m,c.pendingProps),LH(A,c,m,B,p);case 3:e:{if(ft(c,c.stateNode.containerInfo),A===null)throw Error(i(387));m=c.pendingProps;var x=c.memoizedState;B=x.element,lF(A,c),Qy(c,m,null,p);var L=c.memoizedState;if(m=L.cache,Uu(c,ei,m),m!==x.cache&&iF(c,[ei],p,!0),Ny(),m=L.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:L.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=NH(A,c,m,p);break e}else if(m!==B){B=sa(Error(i(424)),c),Uy(B),c=NH(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(gn=ua(A.firstChild),Vi=c,Ct=!0,Iu=null,Aa=!0,p=M2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Kd(),m===B){c=PA(A,c,p);break e}Ki(A,c,m,p)}c=c.child}return c;case 26:return QE(A,c),A===null?(p=J4(c.type,null,c.pendingProps,null))?c.memoizedState=p:Ct||(p=c.type,A=c.pendingProps,m=tx(ye.current).createElement(p),m[Hi]=c,m[Vr]=A,zi(m,p,A),Ei(m),c.stateNode=m):c.memoizedState=J4(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Qe(c),A===null&&Ct&&(m=c.stateNode=W4(c.type,c.pendingProps,ye.current),Vi=c,Aa=!0,B=gn,Ku(c.type)?(CU=B,gn=ua(m.firstChild)):gn=B),Ki(A,c,c.pendingProps.children,p),QE(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&Ct&&((B=m=gn)&&(m=bne(m,c.type,c.pendingProps,Aa),m!==null?(c.stateNode=m,Vi=c,gn=ua(m.firstChild),Aa=!1,B=!0):B=!1),B||Fu(c)),Qe(c),B=c.type,x=c.pendingProps,L=A!==null?A.memoizedProps:null,m=x.children,mU(B,x)?m=null:L!==null&&mU(B,L)&&(c.flags|=32),c.memoizedState!==null&&(B=gF(A,c,Lte,null,null,p),r0._currentValue=B),QE(A,c),Ki(A,c,m,p),c.child;case 6:return A===null&&Ct&&((A=p=gn)&&(p=Cne(p,c.pendingProps,Aa),p!==null?(c.stateNode=p,Vi=c,gn=null,A=!0):A=!1),A||Fu(c)),null;case 13:return QH(A,c,p);case 4:return ft(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=Yd(c,null,m,p):Ki(A,c,m,p),c.child;case 11:return IH(A,c,c.type,c.pendingProps,p);case 7:return Ki(A,c,c.pendingProps,p),c.child;case 8:return Ki(A,c,c.pendingProps.children,p),c.child;case 12:return Ki(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,Uu(c,c.type,m.value),Ki(A,c,m.children,p),c.child;case 9:return B=c.type._context,m=c.pendingProps.children,qd(c),B=Gi(B),m=m(B),c.flags|=1,Ki(A,c,m,p),c.child;case 14:return FH(A,c,c.type,c.pendingProps,p);case 15:return UH(A,c,c.type,c.pendingProps,p);case 19:return OH(A,c,p);case 31:return Kte(A,c,p);case 22:return MH(A,c,p,c.pendingProps);case 24:return qd(c),m=Gi(ei),A===null?(B=aF(),B===null&&(B=en,x=rF(),B.pooledCache=x,x.refCount++,x!==null&&(B.pooledCacheLanes|=p),B=x),c.memoizedState={parent:m,cache:B},AF(c),Uu(c,ei,B)):((A.lanes&p)!==0&&(lF(A,c),Qy(c,null,null,p),Ny()),B=A.memoizedState,x=c.memoizedState,B.parent!==m?(B={parent:m,cache:m},c.memoizedState=B,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=B),Uu(c,ei,m)):(m=x.cache,Uu(c,ei,m),m!==B.cache&&iF(c,[ei],p,!0))),Ki(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function RA(A){A.flags|=4}function KF(A,c,p,m,B){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(B&335544128)===B)if(A.stateNode.complete)A.flags|=8192;else if(h4())A.flags|=8192;else throw Wd=BE,oF}else A.flags&=-16777217}function VH(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!iV(c))if(h4())A.flags|=8192;else throw Wd=BE,oF}function OE(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?vy():536870912,A.lanes|=c,zp|=c)}function Ky(A,c){if(!Ct)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function mn(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags&65011712,m|=B.flags&65011712,B.return=A,B=B.sibling;else for(B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags,m|=B.flags,B.return=A,B=B.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function qte(A,c,p){var m=c.pendingProps;switch(JI(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(c),null;case 1:return mn(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),FA(ei),ae(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(Mp(c)?RA(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,eF())),mn(c),null;case 26:var B=c.type,x=c.memoizedState;return A===null?(RA(c),x!==null?(mn(c),VH(c,x)):(mn(c),KF(c,B,null,m,p))):x?x!==A.memoizedState?(RA(c),mn(c),VH(c,x)):(mn(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&RA(c),mn(c),KF(c,B,A,m,p)),null;case 27:if(He(c),p=ye.current,B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&RA(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return mn(c),null}A=de.current,Mp(c)?b2(c):(A=W4(B,m,p),c.stateNode=A,RA(c))}return mn(c),null;case 5:if(He(c),B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&RA(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return mn(c),null}if(x=de.current,Mp(c))b2(c);else{var L=tx(ye.current);switch(x){case 1:x=L.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:x=L.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":x=L.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":x=L.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":x=L.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?L.createElement("select",{is:m.is}):L.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?L.createElement(B,{is:m.is}):L.createElement(B)}}x[Hi]=c,x[Vr]=m;e:for(L=c.child;L!==null;){if(L.tag===5||L.tag===6)x.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===c)break e;for(;L.sibling===null;){if(L.return===null||L.return===c)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}c.stateNode=x;e:switch(zi(x,B,m),B){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&RA(c)}}return mn(c),KF(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&RA(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(A=ye.current,Mp(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,B=Vi,B!==null)switch(B.tag){case 27:case 5:m=B.memoizedProps}A[Hi]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||Q4(A.nodeValue,p)),A||Fu(c,!0)}else A=tx(A).createTextNode(m),A[Hi]=c,c.stateNode=A}return mn(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=Mp(c),p!==null){if(A===null){if(!m)throw Error(i(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(557));A[Hi]=c}else Kd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;mn(c),A=!1}else p=eF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(ms(c),c):(ms(c),null);if((c.flags&128)!==0)throw Error(i(558))}return mn(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(B=Mp(c),m!==null&&m.dehydrated!==null){if(A===null){if(!B)throw Error(i(318));if(B=c.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(i(317));B[Hi]=c}else Kd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;mn(c),B=!1}else B=eF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=B),B=!0;if(!B)return c.flags&256?(ms(c),c):(ms(c),null)}return ms(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,B=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(B=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==B&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),OE(c,c.updateQueue),mn(c),null);case 4:return ae(),A===null&&dU(c.stateNode.containerInfo),mn(c),null;case 10:return FA(c.type),mn(c),null;case 19:if(Y(Kn),m=c.memoizedState,m===null)return mn(c),null;if(B=(c.flags&128)!==0,x=m.rendering,x===null)if(B)Ky(m,!1);else{if(Dn!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(x=_E(A),x!==null){for(c.flags|=128,Ky(m,!1),A=x.updateQueue,c.updateQueue=A,OE(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)g2(p,A),p=p.sibling;return Ae(Kn,Kn.current&1|2),Ct&&TA(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&Be()>zE&&(c.flags|=128,B=!0,Ky(m,!1),c.lanes=4194304)}else{if(!B)if(A=_E(x),A!==null){if(c.flags|=128,B=!0,A=A.updateQueue,c.updateQueue=A,OE(c,A),Ky(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Ct)return mn(c),null}else 2*Be()-m.renderingStartTime>zE&&p!==536870912&&(c.flags|=128,B=!0,Ky(m,!1),c.lanes=4194304);m.isBackwards?(x.sibling=c.child,c.child=x):(A=m.last,A!==null?A.sibling=x:c.child=x,m.last=x)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=Be(),A.sibling=null,p=Kn.current,Ae(Kn,B?p&1|2:p&1),Ct&&TA(c,m.treeForkCount),A):(mn(c),null);case 22:case 23:return ms(c),fF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(mn(c),c.subtreeFlags&6&&(c.flags|=8192)):mn(c),p=c.updateQueue,p!==null&&OE(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&Y($d),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),FA(ei),mn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function $te(A,c){switch(JI(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return FA(ei),ae(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return He(c),null;case 31:if(c.memoizedState!==null){if(ms(c),c.alternate===null)throw Error(i(340));Kd()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(ms(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Kd()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return Y(Kn),null;case 4:return ae(),null;case 10:return FA(c.type),null;case 22:case 23:return ms(c),fF(),A!==null&&Y($d),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return FA(ei),null;case 25:return null;default:return null}}function GH(A,c){switch(JI(c),c.tag){case 3:FA(ei),ae();break;case 26:case 27:case 5:He(c);break;case 4:ae();break;case 31:c.memoizedState!==null&&ms(c);break;case 13:ms(c);break;case 19:Y(Kn);break;case 10:FA(c.type);break;case 22:case 23:ms(c),fF(),A!==null&&Y($d);break;case 24:FA(ei)}}function zy(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var B=m.next;p=B;do{if((p.tag&A)===A){m=void 0;var x=p.create,L=p.inst;m=x(),L.destroy=m}p=p.next}while(p!==B)}}catch(O){Qt(c,c.return,O)}}function Nu(A,c,p){try{var m=c.updateQueue,B=m!==null?m.lastEffect:null;if(B!==null){var x=B.next;m=x;do{if((m.tag&A)===A){var L=m.inst,O=L.destroy;if(O!==void 0){L.destroy=void 0,B=c;var j=p,ee=O;try{ee()}catch(le){Qt(B,j,le)}}}m=m.next}while(m!==x)}}catch(le){Qt(c,c.return,le)}}function KH(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{R2(c,p)}catch(m){Qt(A,A.return,m)}}}function zH(A,c,p){p.props=Jd(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){Qt(A,c,m)}}function qy(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(B){Qt(A,c,B)}}function Mo(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(B){Qt(A,c,B)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(B){Qt(A,c,B)}else p.current=null}function qH(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(B){Qt(A,A.return,B)}}function zF(A,c,p){try{var m=A.stateNode;pne(m,A.type,p,c),m[Vr]=c}catch(B){Qt(A,A.return,B)}}function $H(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&Ku(A.type)||A.tag===4}function qF(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||$H(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&Ku(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function $F(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=xA));else if(m!==4&&(m===27&&Ku(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for($F(A,c,p),A=A.sibling;A!==null;)$F(A,c,p),A=A.sibling}function HE(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&Ku(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(HE(A,c,p),A=A.sibling;A!==null;)HE(A,c,p),A=A.sibling}function jH(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);zi(c,m,p),c[Hi]=A,c[Vr]=p}catch(x){Qt(A,A.return,x)}}var DA=!1,ii=!1,jF=!1,WH=typeof WeakSet=="function"?WeakSet:Set,xi=null;function jte(A,c){if(A=A.containerInfo,pU=Ax,A=o2(A),HI(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var B=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{p.nodeType,x.nodeType}catch{p=null;break e}var L=0,O=-1,j=-1,ee=0,le=0,fe=A,te=null;t:for(;;){for(var re;fe!==p||B!==0&&fe.nodeType!==3||(O=L+B),fe!==x||m!==0&&fe.nodeType!==3||(j=L+m),fe.nodeType===3&&(L+=fe.nodeValue.length),(re=fe.firstChild)!==null;)te=fe,fe=re;for(;;){if(fe===A)break t;if(te===p&&++ee===B&&(O=L),te===x&&++le===m&&(j=L),(re=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=re}p=O===-1||j===-1?null:{start:O,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for(gU={focusedElem:A,selectionRange:p},Ax=!1,xi=c;xi!==null;)if(c=xi,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,xi=A;else for(;xi!==null;){switch(c=xi,x=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)B=A[p],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&x!==null){A=void 0,p=c,B=x.memoizedProps,x=x.memoizedState,m=p.stateNode;try{var Me=Jd(p.type,B);A=m.getSnapshotBeforeUpdate(Me,x),m.__reactInternalSnapshotBeforeUpdate=A}catch(Ge){Qt(p,p.return,Ge)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)yU(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":yU(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(i(163))}if(A=c.sibling,A!==null){A.return=c.return,xi=A;break}xi=c.return}}function YH(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:NA(A,p),m&4&&zy(5,p);break;case 1:if(NA(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(L){Qt(p,p.return,L)}else{var B=Jd(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(B,c,A.__reactInternalSnapshotBeforeUpdate)}catch(L){Qt(p,p.return,L)}}m&64&&KH(p),m&512&&qy(p,p.return);break;case 3:if(NA(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{R2(A,c)}catch(L){Qt(p,p.return,L)}}break;case 27:c===null&&m&4&&jH(p);case 26:case 5:NA(A,p),c===null&&m&4&&qH(p),m&512&&qy(p,p.return);break;case 12:NA(A,p);break;case 31:NA(A,p),m&4&&ZH(A,p);break;case 13:NA(A,p),m&4&&e4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=ine.bind(null,p),Bne(A,p))));break;case 22:if(m=p.memoizedState!==null||DA,!m){c=c!==null&&c.memoizedState!==null||ii,B=DA;var x=ii;DA=m,(ii=c)&&!x?QA(A,p,(p.subtreeFlags&8772)!==0):NA(A,p),DA=B,ii=x}break;case 30:break;default:NA(A,p)}}function XH(A){var c=A.alternate;c!==null&&(A.alternate=null,XH(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&EI(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Bn=null,Kr=!1;function LA(A,c,p){for(p=p.child;p!==null;)JH(A,c,p),p=p.sibling}function JH(A,c,p){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(To,p)}catch{}switch(p.tag){case 26:ii||Mo(p,c),LA(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ii||Mo(p,c);var m=Bn,B=Kr;Ku(p.type)&&(Bn=p.stateNode,Kr=!1),LA(A,c,p),t0(p.stateNode),Bn=m,Kr=B;break;case 5:ii||Mo(p,c);case 6:if(m=Bn,B=Kr,Bn=null,LA(A,c,p),Bn=m,Kr=B,Bn!==null)if(Kr)try{(Bn.nodeType===9?Bn.body:Bn.nodeName==="HTML"?Bn.ownerDocument.body:Bn).removeChild(p.stateNode)}catch(x){Qt(p,c,x)}else try{Bn.removeChild(p.stateNode)}catch(x){Qt(p,c,x)}break;case 18:Bn!==null&&(Kr?(A=Bn,K4(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),Zp(A)):K4(Bn,p.stateNode));break;case 4:m=Bn,B=Kr,Bn=p.stateNode.containerInfo,Kr=!0,LA(A,c,p),Bn=m,Kr=B;break;case 0:case 11:case 14:case 15:Nu(2,p,c),ii||Nu(4,p,c),LA(A,c,p);break;case 1:ii||(Mo(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&zH(p,c,m)),LA(A,c,p);break;case 21:LA(A,c,p);break;case 22:ii=(m=ii)||p.memoizedState!==null,LA(A,c,p),ii=m;break;default:LA(A,c,p)}}function ZH(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{Zp(A)}catch(p){Qt(c,c.return,p)}}}function e4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{Zp(A)}catch(p){Qt(c,c.return,p)}}function Wte(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new WH),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new WH),c;default:throw Error(i(435,A.tag))}}function VE(A,c){var p=Wte(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var B=rne.bind(null,A,m);m.then(B,B)}})}function zr(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var B=p[m],x=A,L=c,O=L;e:for(;O!==null;){switch(O.tag){case 27:if(Ku(O.type)){Bn=O.stateNode,Kr=!1;break e}break;case 5:Bn=O.stateNode,Kr=!1;break e;case 3:case 4:Bn=O.stateNode.containerInfo,Kr=!0;break e}O=O.return}if(Bn===null)throw Error(i(160));JH(x,L,B),Bn=null,Kr=!1,x=B.alternate,x!==null&&(x.return=null),B.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)t4(c,A),c=c.sibling}var Wa=null;function t4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:zr(c,A),qr(A),m&4&&(Nu(3,A,A.return),zy(3,A),Nu(5,A,A.return));break;case 1:zr(c,A),qr(A),m&512&&(ii||p===null||Mo(p,p.return)),m&64&&DA&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var B=Wa;if(zr(c,A),qr(A),m&512&&(ii||p===null||Mo(p,p.return)),m&4){var x=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,B=B.ownerDocument||B;t:switch(m){case"title":x=B.getElementsByTagName("title")[0],(!x||x[yy]||x[Hi]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=B.createElement(m),B.head.insertBefore(x,B.querySelector("head > title"))),zi(x,m,p),x[Hi]=A,Ei(x),m=x;break e;case"link":var L=tV("link","href",B).get(m+(p.href||""));if(L){for(var O=0;O<L.length;O++)if(x=L[O],x.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&x.getAttribute("rel")===(p.rel==null?null:p.rel)&&x.getAttribute("title")===(p.title==null?null:p.title)&&x.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){L.splice(O,1);break t}}x=B.createElement(m),zi(x,m,p),B.head.appendChild(x);break;case"meta":if(L=tV("meta","content",B).get(m+(p.content||""))){for(O=0;O<L.length;O++)if(x=L[O],x.getAttribute("content")===(p.content==null?null:""+p.content)&&x.getAttribute("name")===(p.name==null?null:p.name)&&x.getAttribute("property")===(p.property==null?null:p.property)&&x.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&x.getAttribute("charset")===(p.charSet==null?null:p.charSet)){L.splice(O,1);break t}}x=B.createElement(m),zi(x,m,p),B.head.appendChild(x);break;default:throw Error(i(468,m))}x[Hi]=A,Ei(x),m=x}A.stateNode=m}else nV(B,A.type,A.stateNode);else A.stateNode=eV(B,m,A.memoizedProps);else x!==m?(x===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):x.count--,m===null?nV(B,A.type,A.stateNode):eV(B,m,A.memoizedProps)):m===null&&A.stateNode!==null&&zF(A,A.memoizedProps,p.memoizedProps)}break;case 27:zr(c,A),qr(A),m&512&&(ii||p===null||Mo(p,p.return)),p!==null&&m&4&&zF(A,A.memoizedProps,p.memoizedProps);break;case 5:if(zr(c,A),qr(A),m&512&&(ii||p===null||Mo(p,p.return)),A.flags&32){B=A.stateNode;try{Cp(B,"")}catch(Me){Qt(A,A.return,Me)}}m&4&&A.stateNode!=null&&(B=A.memoizedProps,zF(A,B,p!==null?p.memoizedProps:B)),m&1024&&(jF=!0);break;case 6:if(zr(c,A),qr(A),m&4){if(A.stateNode===null)throw Error(i(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(Me){Qt(A,A.return,Me)}}break;case 3:if(rx=null,B=Wa,Wa=nx(c.containerInfo),zr(c,A),Wa=B,qr(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{Zp(c.containerInfo)}catch(Me){Qt(A,A.return,Me)}jF&&(jF=!1,n4(A));break;case 4:m=Wa,Wa=nx(A.stateNode.containerInfo),zr(c,A),qr(A),Wa=m;break;case 12:zr(c,A),qr(A);break;case 31:zr(c,A),qr(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,VE(A,m)));break;case 13:zr(c,A),qr(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(KE=Be()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,VE(A,m)));break;case 22:B=A.memoizedState!==null;var j=p!==null&&p.memoizedState!==null,ee=DA,le=ii;if(DA=ee||B,ii=le||j,zr(c,A),ii=le,DA=ee,qr(A),m&8192)e:for(c=A.stateNode,c._visibility=B?c._visibility&-2:c._visibility|1,B&&(p===null||j||DA||ii||Zd(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){j=p=c;try{if(x=j.stateNode,B)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{O=j.stateNode;var fe=j.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;O.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Me){Qt(j,j.return,Me)}}}else if(c.tag===6){if(p===null){j=c;try{j.stateNode.nodeValue=B?"":j.memoizedProps}catch(Me){Qt(j,j.return,Me)}}}else if(c.tag===18){if(p===null){j=c;try{var re=j.stateNode;B?z4(re,!0):z4(j.stateNode,!1)}catch(Me){Qt(j,j.return,Me)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,VE(A,p))));break;case 19:zr(c,A),qr(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,VE(A,m)));break;case 30:break;case 21:break;default:zr(c,A),qr(A)}}function qr(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if($H(m)){p=m;break}m=m.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var B=p.stateNode,x=qF(A);HE(A,x,B);break;case 5:var L=p.stateNode;p.flags&32&&(Cp(L,""),p.flags&=-33);var O=qF(A);HE(A,O,L);break;case 3:case 4:var j=p.stateNode.containerInfo,ee=qF(A);$F(A,ee,j);break;default:throw Error(i(161))}}catch(le){Qt(A,A.return,le)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function n4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;n4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function NA(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)YH(A,c.alternate,c),c=c.sibling}function Zd(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:Nu(4,c,c.return),Zd(c);break;case 1:Mo(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&zH(c,c.return,p),Zd(c);break;case 27:t0(c.stateNode);case 26:case 5:Mo(c,c.return),Zd(c);break;case 22:c.memoizedState===null&&Zd(c);break;case 30:Zd(c);break;default:Zd(c)}A=A.sibling}}function QA(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,B=A,x=c,L=x.flags;switch(x.tag){case 0:case 11:case 15:QA(B,x,p),zy(4,x);break;case 1:if(QA(B,x,p),m=x,B=m.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(ee){Qt(m,m.return,ee)}if(m=x,B=m.updateQueue,B!==null){var O=m.stateNode;try{var j=B.shared.hiddenCallbacks;if(j!==null)for(B.shared.hiddenCallbacks=null,B=0;B<j.length;B++)P2(j[B],O)}catch(ee){Qt(m,m.return,ee)}}p&&L&64&&KH(x),qy(x,x.return);break;case 27:jH(x);case 26:case 5:QA(B,x,p),p&&m===null&&L&4&&qH(x),qy(x,x.return);break;case 12:QA(B,x,p);break;case 31:QA(B,x,p),p&&L&4&&ZH(B,x);break;case 13:QA(B,x,p),p&&L&4&&e4(B,x);break;case 22:x.memoizedState===null&&QA(B,x,p),qy(x,x.return);break;case 30:break;default:QA(B,x,p)}c=c.sibling}}function WF(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&My(p))}function YF(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&My(A))}function Ya(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)i4(A,c,p,m),c=c.sibling}function i4(A,c,p,m){var B=c.flags;switch(c.tag){case 0:case 11:case 15:Ya(A,c,p,m),B&2048&&zy(9,c);break;case 1:Ya(A,c,p,m);break;case 3:Ya(A,c,p,m),B&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&My(A)));break;case 12:if(B&2048){Ya(A,c,p,m),A=c.stateNode;try{var x=c.memoizedProps,L=x.id,O=x.onPostCommit;typeof O=="function"&&O(L,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(j){Qt(c,c.return,j)}}else Ya(A,c,p,m);break;case 31:Ya(A,c,p,m);break;case 13:Ya(A,c,p,m);break;case 23:break;case 22:x=c.stateNode,L=c.alternate,c.memoizedState!==null?x._visibility&2?Ya(A,c,p,m):$y(A,c):x._visibility&2?Ya(A,c,p,m):(x._visibility|=2,Vp(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),B&2048&&WF(L,c);break;case 24:Ya(A,c,p,m),B&2048&&YF(c.alternate,c);break;default:Ya(A,c,p,m)}}function Vp(A,c,p,m,B){for(B=B&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=A,L=c,O=p,j=m,ee=L.flags;switch(L.tag){case 0:case 11:case 15:Vp(x,L,O,j,B),zy(8,L);break;case 23:break;case 22:var le=L.stateNode;L.memoizedState!==null?le._visibility&2?Vp(x,L,O,j,B):$y(x,L):(le._visibility|=2,Vp(x,L,O,j,B)),B&&ee&2048&&WF(L.alternate,L);break;case 24:Vp(x,L,O,j,B),B&&ee&2048&&YF(L.alternate,L);break;default:Vp(x,L,O,j,B)}c=c.sibling}}function $y(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,B=m.flags;switch(m.tag){case 22:$y(p,m),B&2048&&WF(m.alternate,m);break;case 24:$y(p,m),B&2048&&YF(m.alternate,m);break;default:$y(p,m)}c=c.sibling}}var jy=8192;function Gp(A,c,p){if(A.subtreeFlags&jy)for(A=A.child;A!==null;)r4(A,c,p),A=A.sibling}function r4(A,c,p){switch(A.tag){case 26:Gp(A,c,p),A.flags&jy&&A.memoizedState!==null&&Dne(p,Wa,A.memoizedState,A.memoizedProps);break;case 5:Gp(A,c,p);break;case 3:case 4:var m=Wa;Wa=nx(A.stateNode.containerInfo),Gp(A,c,p),Wa=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=jy,jy=16777216,Gp(A,c,p),jy=m):Gp(A,c,p));break;default:Gp(A,c,p)}}function s4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function Wy(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];xi=m,o4(m,A)}s4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)a4(A),A=A.sibling}function a4(A){switch(A.tag){case 0:case 11:case 15:Wy(A),A.flags&2048&&Nu(9,A,A.return);break;case 3:Wy(A);break;case 12:Wy(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,GE(A)):Wy(A);break;default:Wy(A)}}function GE(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];xi=m,o4(m,A)}s4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:Nu(8,c,c.return),GE(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,GE(c));break;default:GE(c)}A=A.sibling}}function o4(A,c){for(;xi!==null;){var p=xi;switch(p.tag){case 0:case 11:case 15:Nu(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:My(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,xi=m;else e:for(p=A;xi!==null;){m=xi;var B=m.sibling,x=m.return;if(XH(m),m===p){xi=null;break e}if(B!==null){B.return=x,xi=B;break e}xi=x}}}var Yte={getCacheForType:function(A){var c=Gi(ei),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return Gi(ei).controller.signal}},Xte=typeof WeakMap=="function"?WeakMap:Map,Pt=0,en=null,ht=null,gt=0,Nt=0,vs=null,Qu=!1,Kp=!1,XF=!1,kA=0,Dn=0,ku=0,ef=0,JF=0,ys=0,zp=0,Yy=null,$r=null,ZF=!1,KE=0,A4=0,zE=1/0,qE=null,Ou=null,di=0,Hu=null,qp=null,OA=0,eU=0,tU=null,l4=null,Xy=0,nU=null;function ws(){return(Pt&2)!==0&&gt!==0?gt&-gt:V.T!==null?AU():xO()}function u4(){if(ys===0)if((gt&536870912)===0||Ct){var A=xe;xe<<=1,(xe&3932160)===0&&(xe=262144),ys=A}else ys=536870912;return A=gs.current,A!==null&&(A.flags|=32),ys}function jr(A,c,p){(A===en&&(Nt===2||Nt===9)||A.cancelPendingCommit!==null)&&($p(A,0),Vu(A,gt,ys,!1)),Nd(A,p),((Pt&2)===0||A!==en)&&(A===en&&((Pt&2)===0&&(ef|=p),Dn===4&&Vu(A,gt,ys,!1)),Po(A))}function c4(A,c,p){if((Pt&6)!==0)throw Error(i(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||un(A,c),B=m?ene(A,c):rU(A,c,!0),x=m;do{if(B===0){Kp&&!m&&Vu(A,c,0,!1);break}else{if(p=A.current.alternate,x&&!Jte(p)){B=rU(A,c,!1),x=!1;continue}if(B===2){if(x=c,A.errorRecoveryDisabledLanes&x)var L=0;else L=A.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){c=L;e:{var O=A;B=Yy;var j=O.current.memoizedState.isDehydrated;if(j&&($p(O,L).flags|=256),L=rU(O,L,!1),L!==2){if(XF&&!j){O.errorRecoveryDisabledLanes|=x,ef|=x,B=4;break e}x=$r,$r=B,x!==null&&($r===null?$r=x:$r.push.apply($r,x))}B=L}if(x=!1,B!==2)continue}}if(B===1){$p(A,0),Vu(A,c,0,!0);break}e:{switch(m=A,x=B,x){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Vu(m,c,ys,!Qu);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(B=KE+300-Be(),10<B)){if(Vu(m,c,ys,!Qu),je(m,0,!0)!==0)break e;OA=c,m.timeoutHandle=V4(d4.bind(null,m,p,$r,qE,ZF,c,ys,ef,zp,Qu,x,"Throttled",-0,0),B);break e}d4(m,p,$r,qE,ZF,c,ys,ef,zp,Qu,x,null,-0,0)}}break}while(!0);Po(A)}function d4(A,c,p,m,B,x,L,O,j,ee,le,fe,te,re){if(A.timeoutHandle=-1,fe=c.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xA},r4(c,x,fe);var Me=(x&62914560)===x?KE-Be():(x&4194048)===x?A4-Be():0;if(Me=Lne(fe,Me),Me!==null){OA=x,A.cancelPendingCommit=Me(w4.bind(null,A,c,x,p,m,B,L,O,j,le,fe,null,te,re)),Vu(A,x,L,!ee);return}}w4(A,c,x,p,m,B,L,O,j)}function Jte(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var B=p[m],x=B.getSnapshot;B=B.value;try{if(!hs(x(),B))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Vu(A,c,p,m){c&=~JF,c&=~ef,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var B=c;0<B;){var x=31-xr(B),L=1<<x;m[x]=-1,B&=~L}p!==0&&CO(A,p,c)}function $E(){return(Pt&6)===0?(Jy(0),!1):!0}function iU(){if(ht!==null){if(Nt===0)var A=ht.return;else A=ht,IA=zd=null,yF(A),Np=null,Ry=0,A=ht;for(;A!==null;)GH(A.alternate,A),A=A.return;ht=null}}function $p(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,vne(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),OA=0,iU(),en=A,ht=p=_A(A.current,null),gt=c,Nt=0,vs=null,Qu=!1,Kp=un(A,c),XF=!1,zp=ys=JF=ef=ku=Dn=0,$r=Yy=null,ZF=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var B=31-xr(m),x=1<<B;c|=A[B],m&=~x}return kA=c,hE(),p}function f4(A,c){nt=null,V.H=Vy,c===Lp||c===CE?(c=I2(),Nt=3):c===oF?(c=I2(),Nt=4):Nt=c===DF?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,vs=c,ht===null&&(Dn=1,LE(A,sa(c,A.current)))}function h4(){var A=gs.current;return A===null?!0:(gt&4194048)===gt?la===null:(gt&62914560)===gt||(gt&536870912)!==0?A===la:!1}function p4(){var A=V.H;return V.H=Vy,A===null?Vy:A}function g4(){var A=V.A;return V.A=Yte,A}function jE(){Dn=4,Qu||(gt&4194048)!==gt&&gs.current!==null||(Kp=!0),(ku&134217727)===0&&(ef&134217727)===0||en===null||Vu(en,gt,ys,!1)}function rU(A,c,p){var m=Pt;Pt|=2;var B=p4(),x=g4();(en!==A||gt!==c)&&(qE=null,$p(A,c)),c=!1;var L=Dn;e:do try{if(Nt!==0&&ht!==null){var O=ht,j=vs;switch(Nt){case 8:iU(),L=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(c=!0);var ee=Nt;if(Nt=0,vs=null,jp(A,O,j,ee),p&&Kp){L=0;break e}break;default:ee=Nt,Nt=0,vs=null,jp(A,O,j,ee)}}Zte(),L=Dn;break}catch(le){f4(A,le)}while(!0);return c&&A.shellSuspendCounter++,IA=zd=null,Pt=m,V.H=B,V.A=x,ht===null&&(en=null,gt=0,hE()),L}function Zte(){for(;ht!==null;)m4(ht)}function ene(A,c){var p=Pt;Pt|=2;var m=p4(),B=g4();en!==A||gt!==c?(qE=null,zE=Be()+500,$p(A,c)):Kp=un(A,c);e:do try{if(Nt!==0&&ht!==null){c=ht;var x=vs;t:switch(Nt){case 1:Nt=0,vs=null,jp(A,c,x,1);break;case 2:case 9:if(_2(x)){Nt=0,vs=null,v4(c);break}c=function(){Nt!==2&&Nt!==9||en!==A||(Nt=7),Po(A)},x.then(c,c);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:_2(x)?(Nt=0,vs=null,v4(c)):(Nt=0,vs=null,jp(A,c,x,7));break;case 5:var L=null;switch(ht.tag){case 26:L=ht.memoizedState;case 5:case 27:var O=ht;if(L?iV(L):O.stateNode.complete){Nt=0,vs=null;var j=O.sibling;if(j!==null)ht=j;else{var ee=O.return;ee!==null?(ht=ee,WE(ee)):ht=null}break t}}Nt=0,vs=null,jp(A,c,x,5);break;case 6:Nt=0,vs=null,jp(A,c,x,6);break;case 8:iU(),Dn=6;break e;default:throw Error(i(462))}}tne();break}catch(le){f4(A,le)}while(!0);return IA=zd=null,V.H=m,V.A=B,Pt=p,ht!==null?0:(en=null,gt=0,hE(),Dn)}function tne(){for(;ht!==null&&!Re();)m4(ht)}function m4(A){var c=HH(A.alternate,A,kA);A.memoizedProps=A.pendingProps,c===null?WE(A):ht=c}function v4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=DH(p,c,c.pendingProps,c.type,void 0,gt);break;case 11:c=DH(p,c,c.pendingProps,c.type.render,c.ref,gt);break;case 5:yF(c);default:GH(p,c),c=ht=g2(c,kA),c=HH(p,c,kA)}A.memoizedProps=A.pendingProps,c===null?WE(A):ht=c}function jp(A,c,p,m){IA=zd=null,yF(c),Np=null,Ry=0;var B=c.return;try{if(Gte(A,B,c,p,gt)){Dn=1,LE(A,sa(p,A.current)),ht=null;return}}catch(x){if(B!==null)throw ht=B,x;Dn=1,LE(A,sa(p,A.current)),ht=null;return}c.flags&32768?(Ct||m===1?A=!0:Kp||(gt&536870912)!==0?A=!1:(Qu=A=!0,(m===2||m===9||m===3||m===6)&&(m=gs.current,m!==null&&m.tag===13&&(m.flags|=16384))),y4(c,A)):WE(c)}function WE(A){var c=A;do{if((c.flags&32768)!==0){y4(c,Qu);return}A=c.return;var p=qte(c.alternate,c,kA);if(p!==null){ht=p;return}if(c=c.sibling,c!==null){ht=c;return}ht=c=A}while(c!==null);Dn===0&&(Dn=5)}function y4(A,c){do{var p=$te(A.alternate,A);if(p!==null){p.flags&=32767,ht=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){ht=A;return}ht=A=p}while(A!==null);Dn=6,ht=null}function w4(A,c,p,m,B,x,L,O,j){A.cancelPendingCommit=null;do YE();while(di!==0);if((Pt&6)!==0)throw Error(i(327));if(c!==null){if(c===A.current)throw Error(i(177));if(x=c.lanes|c.childLanes,x|=qI,Ree(A,p,x,L,O,j),A===en&&(ht=en=null,gt=0),qp=c,Hu=A,OA=p,eU=x,tU=B,l4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,sne(qe,function(){return x4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,B=$.p,$.p=2,L=Pt,Pt|=4;try{jte(A,c,p)}finally{Pt=L,$.p=B,V.T=m}}di=1,b4(),C4(),B4()}}function b4(){if(di===1){di=0;var A=Hu,c=qp,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var m=$.p;$.p=2;var B=Pt;Pt|=4;try{t4(c,A);var x=gU,L=o2(A.containerInfo),O=x.focusedElem,j=x.selectionRange;if(L!==O&&O&&O.ownerDocument&&a2(O.ownerDocument.documentElement,O)){if(j!==null&&HI(O)){var ee=j.start,le=j.end;if(le===void 0&&(le=ee),"selectionStart"in O)O.selectionStart=ee,O.selectionEnd=Math.min(le,O.value.length);else{var fe=O.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var re=te.getSelection(),Me=O.textContent.length,Ge=Math.min(j.start,Me),zt=j.end===void 0?Ge:Math.min(j.end,Me);!re.extend&&Ge>zt&&(L=zt,zt=Ge,Ge=L);var X=s2(O,Ge),W=s2(O,zt);if(X&&W&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var Z=fe.createRange();Z.setStart(X.node,X.offset),re.removeAllRanges(),Ge>zt?(re.addRange(Z),re.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),re.addRange(Z))}}}}for(fe=[],re=O;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<fe.length;O++){var ce=fe[O];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ax=!!pU,gU=pU=null}finally{Pt=B,$.p=m,V.T=p}}A.current=c,di=2}}function C4(){if(di===2){di=0;var A=Hu,c=qp,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var m=$.p;$.p=2;var B=Pt;Pt|=4;try{YH(A,c.alternate,c)}finally{Pt=B,$.p=m,V.T=p}}di=3}}function B4(){if(di===4||di===3){di=0,me();var A=Hu,c=qp,p=OA,m=l4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?di=5:(di=0,qp=Hu=null,E4(A,A.pendingLanes));var B=A.pendingLanes;if(B===0&&(Ou=null),CI(p),c=c.stateNode,Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(To,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=V.T,B=$.p,$.p=2,V.T=null;try{for(var x=A.onRecoverableError,L=0;L<m.length;L++){var O=m[L];x(O.value,{componentStack:O.stack})}}finally{V.T=c,$.p=B}}(OA&3)!==0&&YE(),Po(A),B=A.pendingLanes,(p&261930)!==0&&(B&42)!==0?A===nU?Xy++:(Xy=0,nU=A):Xy=0,Jy(0)}}function E4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,My(c)))}function YE(){return b4(),C4(),B4(),x4()}function x4(){if(di!==5)return!1;var A=Hu,c=eU;eU=0;var p=CI(OA),m=V.T,B=$.p;try{$.p=32>p?32:p,V.T=null,p=tU,tU=null;var x=Hu,L=OA;if(di=0,qp=Hu=null,OA=0,(Pt&6)!==0)throw Error(i(331));var O=Pt;if(Pt|=4,a4(x.current),i4(x,x.current,L,p),Pt=O,Jy(0,!1),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(To,x)}catch{}return!0}finally{$.p=B,V.T=m,E4(A,c)}}function S4(A,c,p){c=sa(p,c),c=RF(A.stateNode,c,2),A=Ru(A,c,2),A!==null&&(Nd(A,2),Po(A))}function Qt(A,c,p){if(A.tag===3)S4(A,A,p);else for(;c!==null;){if(c.tag===3){S4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ou===null||!Ou.has(m))){A=sa(p,A),p=_H(2),m=Ru(c,p,2),m!==null&&(TH(p,m,c,A),Nd(m,2),Po(m));break}}c=c.return}}function sU(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new Xte;var B=new Set;m.set(c,B)}else B=m.get(c),B===void 0&&(B=new Set,m.set(c,B));B.has(p)||(XF=!0,B.add(p),A=nne.bind(null,A,c,p),c.then(A,A))}function nne(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,en===A&&(gt&p)===p&&(Dn===4||Dn===3&&(gt&62914560)===gt&&300>Be()-KE?(Pt&2)===0&&$p(A,0):JF|=p,zp===gt&&(zp=0)),Po(A)}function _4(A,c){c===0&&(c=vy()),A=Vd(A,c),A!==null&&(Nd(A,c),Po(A))}function ine(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),_4(A,p)}function rne(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,B=A.memoizedState;B!==null&&(p=B.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),_4(A,p)}function sne(A,c){return BA(A,c)}var XE=null,Wp=null,aU=!1,JE=!1,oU=!1,Gu=0;function Po(A){A!==Wp&&A.next===null&&(Wp===null?XE=Wp=A:Wp=Wp.next=A),JE=!0,aU||(aU=!0,one())}function Jy(A,c){if(!oU&&JE){oU=!0;do for(var p=!1,m=XE;m!==null;){if(A!==0){var B=m.pendingLanes;if(B===0)var x=0;else{var L=m.suspendedLanes,O=m.pingedLanes;x=(1<<31-xr(42|A)+1)-1,x&=B&~(L&~O),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(p=!0,U4(m,x))}else x=gt,x=je(m,m===en?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||un(m,x)||(p=!0,U4(m,x));m=m.next}while(p);oU=!1}}function ane(){T4()}function T4(){JE=aU=!1;var A=0;Gu!==0&&mne()&&(A=Gu);for(var c=Be(),p=null,m=XE;m!==null;){var B=m.next,x=I4(m,c);x===0?(m.next=null,p===null?XE=B:p.next=B,B===null&&(Wp=p)):(p=m,(A!==0||(x&3)!==0)&&(JE=!0)),m=B}di!==0&&di!==5||Jy(A),Gu!==0&&(Gu=0)}function I4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,B=A.expirationTimes,x=A.pendingLanes&-62914561;0<x;){var L=31-xr(x),O=1<<L,j=B[L];j===-1?((O&p)===0||(O&m)!==0)&&(B[L]=ta(O,c)):j<=c&&(A.expiredLanes|=O),x&=~O}if(c=en,p=gt,p=je(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(Nt===2||Nt===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&ve(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||un(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&ve(m),CI(p)){case 2:case 8:p=bt;break;case 32:p=qe;break;case 268435456:p=ln;break;default:p=qe}return m=F4.bind(null,A),p=BA(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&ve(m),A.callbackPriority=2,A.callbackNode=null,2}function F4(A,c){if(di!==0&&di!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(YE()&&A.callbackNode!==p)return null;var m=gt;return m=je(A,A===en?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(c4(A,m,c),I4(A,Be()),A.callbackNode!=null&&A.callbackNode===p?F4.bind(null,A):null)}function U4(A,c){if(YE())return null;c4(A,c,!0)}function one(){yne(function(){(Pt&6)!==0?BA($e,ane):T4()})}function AU(){if(Gu===0){var A=Rp;A===0&&(A=hp,hp<<=1,(hp&261888)===0&&(hp=256)),Gu=A}return Gu}function M4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:aE(""+A)}function P4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function Ane(A,c,p,m,B){if(c==="submit"&&p&&p.stateNode===B){var x=M4((B[Vr]||null).action),L=m.submitter;L&&(c=(c=L[Vr]||null)?M4(c.formAction):L.getAttribute("formAction"),c!==null&&(x=c,L=null));var O=new uE("action","action",null,m,B);A.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Gu!==0){var j=L?P4(B,L):new FormData(B);TF(p,{pending:!0,data:j,method:B.method,action:x},null,j)}}else typeof x=="function"&&(O.preventDefault(),j=L?P4(B,L):new FormData(B),TF(p,{pending:!0,data:j,method:B.method,action:x},x,j))},currentTarget:B}]})}}for(var lU=0;lU<zI.length;lU++){var uU=zI[lU],lne=uU.toLowerCase(),une=uU[0].toUpperCase()+uU.slice(1);ja(lne,"on"+une)}ja(u2,"onAnimationEnd"),ja(c2,"onAnimationIteration"),ja(d2,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(Ste,"onTransitionRun"),ja(_te,"onTransitionStart"),ja(Tte,"onTransitionCancel"),ja(f2,"onTransitionEnd"),wp("onMouseEnter",["mouseout","mouseover"]),wp("onMouseLeave",["mouseout","mouseover"]),wp("onPointerEnter",["pointerout","pointerover"]),wp("onPointerLeave",["pointerout","pointerover"]),Qd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qd("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zy));function R4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],B=m.event;m=m.listeners;e:{var x=void 0;if(c)for(var L=m.length-1;0<=L;L--){var O=m[L],j=O.instance,ee=O.currentTarget;if(O=O.listener,j!==x&&B.isPropagationStopped())break e;x=O,B.currentTarget=ee;try{x(B)}catch(le){fE(le)}B.currentTarget=null,x=j}else for(L=0;L<m.length;L++){if(O=m[L],j=O.instance,ee=O.currentTarget,O=O.listener,j!==x&&B.isPropagationStopped())break e;x=O,B.currentTarget=ee;try{x(B)}catch(le){fE(le)}B.currentTarget=null,x=j}}}}function pt(A,c){var p=c[BI];p===void 0&&(p=c[BI]=new Set);var m=A+"__bubble";p.has(m)||(D4(c,A,2,!1),p.add(m))}function cU(A,c,p){var m=0;c&&(m|=4),D4(p,A,m,c)}var ZE="_reactListening"+Math.random().toString(36).slice(2);function dU(A){if(!A[ZE]){A[ZE]=!0,TO.forEach(function(p){p!=="selectionchange"&&(cne.has(p)||cU(p,!1,A),cU(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[ZE]||(c[ZE]=!0,cU("selectionchange",!1,c))}}function D4(A,c,p,m){switch(uV(c)){case 2:var B=kne;break;case 8:B=One;break;default:B=_U}p=B.bind(null,c,p,A),B=void 0,!MI||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(B=!0),m?B!==void 0?A.addEventListener(c,p,{capture:!0,passive:B}):A.addEventListener(c,p,!0):B!==void 0?A.addEventListener(c,p,{passive:B}):A.addEventListener(c,p,!1)}function fU(A,c,p,m,B){var x=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var O=m.stateNode.containerInfo;if(O===B)break;if(L===4)for(L=m.return;L!==null;){var j=L.tag;if((j===3||j===4)&&L.stateNode.containerInfo===B)return;L=L.return}for(;O!==null;){if(L=mp(O),L===null)return;if(j=L.tag,j===5||j===6||j===26||j===27){m=x=L;continue e}O=O.parentNode}}m=m.return}OO(function(){var ee=x,le=FI(p),fe=[];e:{var te=h2.get(A);if(te!==void 0){var re=uE,Me=A;switch(A){case"keypress":if(AE(p)===0)break e;case"keydown":case"keyup":re=rte;break;case"focusin":Me="focus",re=LI;break;case"focusout":Me="blur",re=LI;break;case"beforeblur":case"afterblur":re=LI;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=GO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=qee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=ote;break;case u2:case c2:case d2:re=Wee;break;case f2:re=lte;break;case"scroll":case"scrollend":re=Kee;break;case"wheel":re=cte;break;case"copy":case"cut":case"paste":re=Xee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=zO;break;case"toggle":case"beforetoggle":re=fte}var Ge=(c&4)!==0,zt=!Ge&&(A==="scroll"||A==="scrollend"),X=Ge?te!==null?te+"Capture":null:te;Ge=[];for(var W=ee,Z;W!==null;){var ce=W;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||X===null||(ce=by(W,X),ce!=null&&Ge.push(e0(W,ce,Z))),zt)break;W=W.return}0<Ge.length&&(te=new re(te,Me,null,p,le),fe.push({event:te,listeners:Ge}))}}if((c&7)===0){e:{if(te=A==="mouseover"||A==="pointerover",re=A==="mouseout"||A==="pointerout",te&&p!==II&&(Me=p.relatedTarget||p.fromElement)&&(mp(Me)||Me[gp]))break e;if((re||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,re?(Me=p.relatedTarget||p.toElement,re=ee,Me=Me?mp(Me):null,Me!==null&&(zt=s(Me),Ge=Me.tag,Me!==zt||Ge!==5&&Ge!==27&&Ge!==6)&&(Me=null)):(re=null,Me=ee),re!==Me)){if(Ge=GO,ce="onMouseLeave",X="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(Ge=zO,ce="onPointerLeave",X="onPointerEnter",W="pointer"),zt=re==null?te:wy(re),Z=Me==null?te:wy(Me),te=new Ge(ce,W+"leave",re,p,le),te.target=zt,te.relatedTarget=Z,ce=null,mp(le)===ee&&(Ge=new Ge(X,W+"enter",Me,p,le),Ge.target=Z,Ge.relatedTarget=zt,ce=Ge),zt=ce,re&&Me)t:{for(Ge=dne,X=re,W=Me,Z=0,ce=X;ce;ce=Ge(ce))Z++;ce=0;for(var Oe=W;Oe;Oe=Ge(Oe))ce++;for(;0<Z-ce;)X=Ge(X),Z--;for(;0<ce-Z;)W=Ge(W),ce--;for(;Z--;){if(X===W||W!==null&&X===W.alternate){Ge=X;break t}X=Ge(X),W=Ge(W)}Ge=null}else Ge=null;re!==null&&L4(fe,te,re,Ge,!1),Me!==null&&zt!==null&&L4(fe,zt,Me,Ge,!0)}}e:{if(te=ee?wy(ee):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var Tt=ZO;else if(XO(te))if(e2)Tt=Bte;else{Tt=bte;var De=wte}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&TI(ee.elementType)&&(Tt=ZO):Tt=Cte;if(Tt&&(Tt=Tt(A,ee))){JO(fe,Tt,p,le);break e}De&&De(A,te,ee),A==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&_I(te,"number",te.value)}switch(De=ee?wy(ee):window,A){case"focusin":(XO(De)||De.contentEditable==="true")&&(Sp=De,VI=ee,Iy=null);break;case"focusout":Iy=VI=Sp=null;break;case"mousedown":GI=!0;break;case"contextmenu":case"mouseup":case"dragend":GI=!1,A2(fe,p,le);break;case"selectionchange":if(xte)break;case"keydown":case"keyup":A2(fe,p,le)}var at;if(QI)e:{switch(A){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else xp?WO(A,p)&&(mt="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(mt="onCompositionStart");mt&&(qO&&p.locale!=="ko"&&(xp||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&xp&&(at=HO()):(_u=le,PI="value"in _u?_u.value:_u.textContent,xp=!0)),De=ex(ee,mt),0<De.length&&(mt=new KO(mt,A,null,p,le),fe.push({event:mt,listeners:De}),at?mt.data=at:(at=YO(p),at!==null&&(mt.data=at)))),(at=pte?gte(A,p):mte(A,p))&&(mt=ex(ee,"onBeforeInput"),0<mt.length&&(De=new KO("onBeforeInput","beforeinput",null,p,le),fe.push({event:De,listeners:mt}),De.data=at)),Ane(fe,A,ee,p,le)}R4(fe,c)})}function e0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function ex(A,c){for(var p=c+"Capture",m=[];A!==null;){var B=A,x=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||x===null||(B=by(A,p),B!=null&&m.unshift(e0(A,B,x)),B=by(A,c),B!=null&&m.push(e0(A,B,x))),A.tag===3)return m;A=A.return}return[]}function dne(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function L4(A,c,p,m,B){for(var x=c._reactName,L=[];p!==null&&p!==m;){var O=p,j=O.alternate,ee=O.stateNode;if(O=O.tag,j!==null&&j===m)break;O!==5&&O!==26&&O!==27||ee===null||(j=ee,B?(ee=by(p,x),ee!=null&&L.unshift(e0(p,ee,j))):B||(ee=by(p,x),ee!=null&&L.push(e0(p,ee,j)))),p=p.return}L.length!==0&&A.push({event:c,listeners:L})}var fne=/\r\n?/g,hne=/\u0000|\uFFFD/g;function N4(A){return(typeof A=="string"?A:""+A).replace(fne,`
`).replace(hne,"")}function Q4(A,c){return c=N4(c),N4(A)===c}function Kt(A,c,p,m,B,x){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Cp(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Cp(A,""+m);break;case"className":rE(A,"class",m);break;case"tabIndex":rE(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":rE(A,p,m);break;case"style":QO(A,m,x);break;case"data":if(c!=="object"){rE(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=aE(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(p==="formAction"?(c!=="input"&&Kt(A,c,"name",B.name,B,null),Kt(A,c,"formEncType",B.formEncType,B,null),Kt(A,c,"formMethod",B.formMethod,B,null),Kt(A,c,"formTarget",B.formTarget,B,null)):(Kt(A,c,"encType",B.encType,B,null),Kt(A,c,"method",B.method,B,null),Kt(A,c,"target",B.target,B,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=aE(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=xA);break;case"onScroll":m!=null&&pt("scroll",A);break;case"onScrollEnd":m!=null&&pt("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=aE(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":pt("beforetoggle",A),pt("toggle",A),iE(A,"popover",m);break;case"xlinkActuate":EA(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":EA(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":EA(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":EA(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":EA(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":EA(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":EA(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":EA(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":EA(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":iE(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Vee.get(p)||p,iE(A,p,m))}}function hU(A,c,p,m,B,x){switch(p){case"style":QO(A,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"children":typeof m=="string"?Cp(A,m):(typeof m=="number"||typeof m=="bigint")&&Cp(A,""+m);break;case"onScroll":m!=null&&pt("scroll",A);break;case"onScrollEnd":m!=null&&pt("scrollend",A);break;case"onClick":m!=null&&(A.onclick=xA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IO.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(B=p.endsWith("Capture"),c=p.slice(2,B?p.length-7:void 0),x=A[Vr]||null,x=x!=null?x[p]:null,typeof x=="function"&&A.removeEventListener(c,x,B),typeof m=="function")){typeof x!="function"&&x!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,B);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):iE(A,p,m)}}}function zi(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",A),pt("load",A);var m=!1,B=!1,x;for(x in p)if(p.hasOwnProperty(x)){var L=p[x];if(L!=null)switch(x){case"src":m=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Kt(A,c,x,L,p,null)}}B&&Kt(A,c,"srcSet",p.srcSet,p,null),m&&Kt(A,c,"src",p.src,p,null);return;case"input":pt("invalid",A);var O=x=L=B=null,j=null,ee=null;for(m in p)if(p.hasOwnProperty(m)){var le=p[m];if(le!=null)switch(m){case"name":B=le;break;case"type":L=le;break;case"checked":j=le;break;case"defaultChecked":ee=le;break;case"value":x=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,c));break;default:Kt(A,c,m,le,p,null)}}RO(A,x,O,j,ee,L,B,!1);return;case"select":pt("invalid",A),m=L=x=null;for(B in p)if(p.hasOwnProperty(B)&&(O=p[B],O!=null))switch(B){case"value":x=O;break;case"defaultValue":L=O;break;case"multiple":m=O;default:Kt(A,c,B,O,p,null)}c=x,p=L,A.multiple=!!m,c!=null?bp(A,!!m,c,!1):p!=null&&bp(A,!!m,p,!0);return;case"textarea":pt("invalid",A),x=B=m=null;for(L in p)if(p.hasOwnProperty(L)&&(O=p[L],O!=null))switch(L){case"value":m=O;break;case"defaultValue":B=O;break;case"children":x=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Kt(A,c,L,O,p,null)}LO(A,m,B,x);return;case"option":for(j in p)if(p.hasOwnProperty(j)&&(m=p[j],m!=null))switch(j){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Kt(A,c,j,m,p,null)}return;case"dialog":pt("beforetoggle",A),pt("toggle",A),pt("cancel",A),pt("close",A);break;case"iframe":case"object":pt("load",A);break;case"video":case"audio":for(m=0;m<Zy.length;m++)pt(Zy[m],A);break;case"image":pt("error",A),pt("load",A);break;case"details":pt("toggle",A);break;case"embed":case"source":case"link":pt("error",A),pt("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in p)if(p.hasOwnProperty(ee)&&(m=p[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Kt(A,c,ee,m,p,null)}return;default:if(TI(c)){for(le in p)p.hasOwnProperty(le)&&(m=p[le],m!==void 0&&hU(A,c,le,m,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(m=p[O],m!=null&&Kt(A,c,O,m,p,null))}function pne(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,x=null,L=null,O=null,j=null,ee=null,le=null;for(re in p){var fe=p[re];if(p.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":j=fe;default:m.hasOwnProperty(re)||Kt(A,c,re,null,m,fe)}}for(var te in m){var re=m[te];if(fe=p[te],m.hasOwnProperty(te)&&(re!=null||fe!=null))switch(te){case"type":x=re;break;case"name":B=re;break;case"checked":ee=re;break;case"defaultChecked":le=re;break;case"value":L=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,c));break;default:re!==fe&&Kt(A,c,te,re,m,fe)}}SI(A,L,O,j,ee,le,x,B);return;case"select":re=L=O=te=null;for(x in p)if(j=p[x],p.hasOwnProperty(x)&&j!=null)switch(x){case"value":break;case"multiple":re=j;default:m.hasOwnProperty(x)||Kt(A,c,x,null,m,j)}for(B in m)if(x=m[B],j=p[B],m.hasOwnProperty(B)&&(x!=null||j!=null))switch(B){case"value":te=x;break;case"defaultValue":O=x;break;case"multiple":L=x;default:x!==j&&Kt(A,c,B,x,m,j)}c=O,p=L,m=re,te!=null?bp(A,!!p,te,!1):!!m!=!!p&&(c!=null?bp(A,!!p,c,!0):bp(A,!!p,p?[]:"",!1));return;case"textarea":re=te=null;for(O in p)if(B=p[O],p.hasOwnProperty(O)&&B!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Kt(A,c,O,null,m,B)}for(L in m)if(B=m[L],x=p[L],m.hasOwnProperty(L)&&(B!=null||x!=null))switch(L){case"value":te=B;break;case"defaultValue":re=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:B!==x&&Kt(A,c,L,B,m,x)}DO(A,te,re);return;case"option":for(var Me in p)if(te=p[Me],p.hasOwnProperty(Me)&&te!=null&&!m.hasOwnProperty(Me))switch(Me){case"selected":A.selected=!1;break;default:Kt(A,c,Me,null,m,te)}for(j in m)if(te=m[j],re=p[j],m.hasOwnProperty(j)&&te!==re&&(te!=null||re!=null))switch(j){case"selected":A.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Kt(A,c,j,te,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in p)te=p[Ge],p.hasOwnProperty(Ge)&&te!=null&&!m.hasOwnProperty(Ge)&&Kt(A,c,Ge,null,m,te);for(ee in m)if(te=m[ee],re=p[ee],m.hasOwnProperty(ee)&&te!==re&&(te!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,c));break;default:Kt(A,c,ee,te,m,re)}return;default:if(TI(c)){for(var zt in p)te=p[zt],p.hasOwnProperty(zt)&&te!==void 0&&!m.hasOwnProperty(zt)&&hU(A,c,zt,void 0,m,te);for(le in m)te=m[le],re=p[le],!m.hasOwnProperty(le)||te===re||te===void 0&&re===void 0||hU(A,c,le,te,m,re);return}}for(var X in p)te=p[X],p.hasOwnProperty(X)&&te!=null&&!m.hasOwnProperty(X)&&Kt(A,c,X,null,m,te);for(fe in m)te=m[fe],re=p[fe],!m.hasOwnProperty(fe)||te===re||te==null&&re==null||Kt(A,c,fe,te,m,re)}function k4(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gne(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var B=p[m],x=B.transferSize,L=B.initiatorType,O=B.duration;if(x&&O&&k4(L)){for(L=0,O=B.responseEnd,m+=1;m<p.length;m++){var j=p[m],ee=j.startTime;if(ee>O)break;var le=j.transferSize,fe=j.initiatorType;le&&k4(fe)&&(j=j.responseEnd,L+=le*(j<O?1:(O-ee)/(j-ee)))}if(--m,c+=8*(x+L)/(B.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var pU=null,gU=null;function tx(A){return A.nodeType===9?A:A.ownerDocument}function O4(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H4(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function mU(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var vU=null;function mne(){var A=window.event;return A&&A.type==="popstate"?A===vU?!1:(vU=A,!0):(vU=null,!1)}var V4=typeof setTimeout=="function"?setTimeout:void 0,vne=typeof clearTimeout=="function"?clearTimeout:void 0,G4=typeof Promise=="function"?Promise:void 0,yne=typeof queueMicrotask=="function"?queueMicrotask:typeof G4<"u"?function(A){return G4.resolve(null).then(A).catch(wne)}:V4;function wne(A){setTimeout(function(){throw A})}function Ku(A){return A==="head"}function K4(A,c){var p=c,m=0;do{var B=p.nextSibling;if(A.removeChild(p),B&&B.nodeType===8)if(p=B.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(B),Zp(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")t0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,t0(p);for(var x=p.firstChild;x;){var L=x.nextSibling,O=x.nodeName;x[yy]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||p.removeChild(x),x=L}}else p==="body"&&t0(A.ownerDocument.body);p=B}while(p);Zp(c)}function z4(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function yU(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":yU(p),EI(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function bne(A,c,p,m){for(;A.nodeType===1;){var B=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[yy])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(x=A.getAttribute("rel"),x==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(x!==B.rel||A.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||A.getAttribute("title")!==(B.title==null?null:B.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(x=A.getAttribute("src"),(x!==(B.src==null?null:B.src)||A.getAttribute("type")!==(B.type==null?null:B.type)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&x&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var x=B.name==null?null:""+B.name;if(B.type==="hidden"&&A.getAttribute("name")===x)return A}else return A;if(A=ua(A.nextSibling),A===null)break}return null}function Cne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=ua(A.nextSibling),A===null))return null;return A}function q4(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=ua(A.nextSibling),A===null))return null;return A}function wU(A){return A.data==="$?"||A.data==="$~"}function bU(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Bne(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function ua(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var CU=null;function $4(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return ua(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function j4(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function W4(A,c,p){switch(c=tx(p),A){case"html":if(A=c.documentElement,!A)throw Error(i(452));return A;case"head":if(A=c.head,!A)throw Error(i(453));return A;case"body":if(A=c.body,!A)throw Error(i(454));return A;default:throw Error(i(451))}}function t0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);EI(A)}var ca=new Map,Y4=new Set;function nx(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var HA=$.d;$.d={f:Ene,r:xne,D:Sne,C:_ne,L:Tne,m:Ine,X:Une,S:Fne,M:Mne};function Ene(){var A=HA.f(),c=$E();return A||c}function xne(A){var c=vp(A);c!==null&&c.tag===5&&c.type==="form"?fH(c):HA.r(A)}var Yp=typeof document>"u"?null:document;function X4(A,c,p){var m=Yp;if(m&&typeof c=="string"&&c){var B=ia(c);B='link[rel="'+A+'"][href="'+B+'"]',typeof p=="string"&&(B+='[crossorigin="'+p+'"]'),Y4.has(B)||(Y4.add(B),A={rel:A,crossOrigin:p,href:c},m.querySelector(B)===null&&(c=m.createElement("link"),zi(c,"link",A),Ei(c),m.head.appendChild(c)))}}function Sne(A){HA.D(A),X4("dns-prefetch",A,null)}function _ne(A,c){HA.C(A,c),X4("preconnect",A,c)}function Tne(A,c,p){HA.L(A,c,p);var m=Yp;if(m&&A&&c){var B='link[rel="preload"][as="'+ia(c)+'"]';c==="image"&&p&&p.imageSrcSet?(B+='[imagesrcset="'+ia(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(B+='[imagesizes="'+ia(p.imageSizes)+'"]')):B+='[href="'+ia(A)+'"]';var x=B;switch(c){case"style":x=Xp(A);break;case"script":x=Jp(A)}ca.has(x)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),ca.set(x,A),m.querySelector(B)!==null||c==="style"&&m.querySelector(n0(x))||c==="script"&&m.querySelector(i0(x))||(c=m.createElement("link"),zi(c,"link",A),Ei(c),m.head.appendChild(c)))}}function Ine(A,c){HA.m(A,c);var p=Yp;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",B='link[rel="modulepreload"][as="'+ia(m)+'"][href="'+ia(A)+'"]',x=B;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Jp(A)}if(!ca.has(x)&&(A=h({rel:"modulepreload",href:A},c),ca.set(x,A),p.querySelector(B)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(i0(x)))return}m=p.createElement("link"),zi(m,"link",A),Ei(m),p.head.appendChild(m)}}}function Fne(A,c,p){HA.S(A,c,p);var m=Yp;if(m&&A){var B=yp(m).hoistableStyles,x=Xp(A);c=c||"default";var L=B.get(x);if(!L){var O={loading:0,preload:null};if(L=m.querySelector(n0(x)))O.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=ca.get(x))&&BU(A,p);var j=L=m.createElement("link");Ei(j),zi(j,"link",A),j._p=new Promise(function(ee,le){j.onload=ee,j.onerror=le}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,ix(L,c,m)}L={type:"stylesheet",instance:L,count:1,state:O},B.set(x,L)}}}function Une(A,c){HA.X(A,c);var p=Yp;if(p&&A){var m=yp(p).hoistableScripts,B=Jp(A),x=m.get(B);x||(x=p.querySelector(i0(B)),x||(A=h({src:A,async:!0},c),(c=ca.get(B))&&EU(A,c),x=p.createElement("script"),Ei(x),zi(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(B,x))}}function Mne(A,c){HA.M(A,c);var p=Yp;if(p&&A){var m=yp(p).hoistableScripts,B=Jp(A),x=m.get(B);x||(x=p.querySelector(i0(B)),x||(A=h({src:A,async:!0,type:"module"},c),(c=ca.get(B))&&EU(A,c),x=p.createElement("script"),Ei(x),zi(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(B,x))}}function J4(A,c,p,m){var B=(B=ye.current)?nx(B):null;if(!B)throw Error(i(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Xp(p.href),p=yp(B).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=Xp(p.href);var x=yp(B).hoistableStyles,L=x.get(A);if(L||(B=B.ownerDocument||B,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(A,L),(x=B.querySelector(n0(A)))&&!x._p&&(L.instance=x,L.state.loading=5),ca.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ca.set(A,p),x||Pne(B,A,p,L.state))),c&&m===null)throw Error(i(528,""));return L}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Jp(p),p=yp(B).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,A))}}function Xp(A){return'href="'+ia(A)+'"'}function n0(A){return'link[rel="stylesheet"]['+A+"]"}function Z4(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Pne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),zi(c,"link",p),Ei(c),A.head.appendChild(c))}function Jp(A){return'[src="'+ia(A)+'"]'}function i0(A){return"script[async]"+A}function eV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+ia(p.href)+'"]');if(m)return c.instance=m,Ei(m),m;var B=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),Ei(m),zi(m,"style",B),ix(m,p.precedence,A),c.instance=m;case"stylesheet":B=Xp(p.href);var x=A.querySelector(n0(B));if(x)return c.state.loading|=4,c.instance=x,Ei(x),x;m=Z4(p),(B=ca.get(B))&&BU(m,B),x=(A.ownerDocument||A).createElement("link"),Ei(x);var L=x;return L._p=new Promise(function(O,j){L.onload=O,L.onerror=j}),zi(x,"link",m),c.state.loading|=4,ix(x,p.precedence,A),c.instance=x;case"script":return x=Jp(p.src),(B=A.querySelector(i0(x)))?(c.instance=B,Ei(B),B):(m=p,(B=ca.get(x))&&(m=h({},p),EU(m,B)),A=A.ownerDocument||A,B=A.createElement("script"),Ei(B),zi(B,"link",m),A.head.appendChild(B),c.instance=B);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,ix(m,p.precedence,A));return c.instance}function ix(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=m.length?m[m.length-1]:null,x=B,L=0;L<m.length;L++){var O=m[L];if(O.dataset.precedence===c)x=O;else if(x!==B)break}x?x.parentNode.insertBefore(A,x.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function BU(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function EU(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var rx=null;function tV(A,c,p){if(rx===null){var m=new Map,B=rx=new Map;B.set(p,m)}else B=rx,m=B.get(p),m||(m=new Map,B.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),B=0;B<p.length;B++){var x=p[B];if(!(x[yy]||x[Hi]||A==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(c)||"";L=A+L;var O=m.get(L);O?O.push(x):m.set(L,[x])}}return m}function nV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function Rne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function iV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function Dne(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var B=Xp(m.href),x=c.querySelector(n0(B));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=sx.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=x,Ei(x);return}x=c.ownerDocument||c,m=Z4(m),(B=ca.get(B))&&BU(m,B),x=x.createElement("link"),Ei(x);var L=x;L._p=new Promise(function(O,j){L.onload=O,L.onerror=j}),zi(x,"link",m),p.instance=x}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=sx.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var xU=0;function Lne(A,c){return A.stylesheets&&A.count===0&&ox(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&ox(A,A.stylesheets),A.unsuspend){var x=A.unsuspend;A.unsuspend=null,x()}},6e4+c);0<A.imgBytes&&xU===0&&(xU=62500*gne());var B=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&ox(A,A.stylesheets),A.unsuspend)){var x=A.unsuspend;A.unsuspend=null,x()}},(A.imgBytes>xU?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(B)}}:null}function sx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ox(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var ax=null;function ox(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,ax=new Map,c.forEach(Nne,A),ax=null,sx.call(A))}function Nne(A,c){if(!(c.state.loading&4)){var p=ax.get(A);if(p)var m=p.get(null);else{p=new Map,ax.set(A,p);for(var B=A.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<B.length;x++){var L=B[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(p.set(L.dataset.precedence,L),m=L)}m&&p.set(null,m)}B=c.instance,L=B.getAttribute("data-precedence"),x=p.get(L)||m,x===m&&p.set(null,B),p.set(L,B),this.count++,m=sx.bind(this),B.addEventListener("load",m),B.addEventListener("error",m),x?x.parentNode.insertBefore(B,x.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(B,A.firstChild)),c.state.loading|=4}}var r0={$$typeof:T,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Qne(A,c,p,m,B,x,L,O,j){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.hiddenUpdates=pp(null),this.identifierPrefix=m,this.onUncaughtError=B,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function rV(A,c,p,m,B,x,L,O,j,ee,le,fe){return A=new Qne(A,c,p,L,j,ee,le,fe,O),c=1,x===!0&&(c|=24),x=ps(3,null,null,c),A.current=x,x.stateNode=A,c=rF(),c.refCount++,A.pooledCache=c,c.refCount++,x.memoizedState={element:m,isDehydrated:p,cache:c},AF(x),A}function sV(A){return A?(A=Ip,A):Ip}function aV(A,c,p,m,B,x){B=sV(B),m.context===null?m.context=B:m.pendingContext=B,m=Pu(c),m.payload={element:p},x=x===void 0?null:x,x!==null&&(m.callback=x),p=Ru(A,m,c),p!==null&&(jr(p,A,c),Ly(p,A,c))}function oV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function SU(A,c){oV(A,c),(A=A.alternate)&&oV(A,c)}function AV(A){if(A.tag===13||A.tag===31){var c=Vd(A,67108864);c!==null&&jr(c,A,67108864),SU(A,67108864)}}function lV(A){if(A.tag===13||A.tag===31){var c=ws();c=bI(c);var p=Vd(A,c);p!==null&&jr(p,A,c),SU(A,c)}}var Ax=!0;function kne(A,c,p,m){var B=V.T;V.T=null;var x=$.p;try{$.p=2,_U(A,c,p,m)}finally{$.p=x,V.T=B}}function One(A,c,p,m){var B=V.T;V.T=null;var x=$.p;try{$.p=8,_U(A,c,p,m)}finally{$.p=x,V.T=B}}function _U(A,c,p,m){if(Ax){var B=TU(m);if(B===null)fU(A,c,m,lx,p),cV(A,m);else if(Vne(B,A,c,p,m))m.stopPropagation();else if(cV(A,m),c&4&&-1<Hne.indexOf(A)){for(;B!==null;){var x=vp(B);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=ut(x.pendingLanes);if(L!==0){var O=x;for(O.pendingLanes|=2,O.entangledLanes|=2;L;){var j=1<<31-xr(L);O.entanglements[1]|=j,L&=~j}Po(x),(Pt&6)===0&&(zE=Be()+500,Jy(0))}}break;case 31:case 13:O=Vd(x,2),O!==null&&jr(O,x,2),$E(),SU(x,2)}if(x=TU(m),x===null&&fU(A,c,m,lx,p),x===B)break;B=x}B!==null&&m.stopPropagation()}else fU(A,c,m,null,p)}}function TU(A){return A=FI(A),IU(A)}var lx=null;function IU(A){if(lx=null,A=mp(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return lx=A,null}function uV(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case $e:return 2;case bt:return 8;case qe:case Pn:return 32;case ln:return 268435456;default:return 32}default:return 32}}var FU=!1,zu=null,qu=null,$u=null,s0=new Map,a0=new Map,ju=[],Hne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cV(A,c){switch(A){case"focusin":case"focusout":zu=null;break;case"dragenter":case"dragleave":qu=null;break;case"mouseover":case"mouseout":$u=null;break;case"pointerover":case"pointerout":s0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":a0.delete(c.pointerId)}}function o0(A,c,p,m,B,x){return A===null||A.nativeEvent!==x?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:x,targetContainers:[B]},c!==null&&(c=vp(c),c!==null&&AV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,B!==null&&c.indexOf(B)===-1&&c.push(B),A)}function Vne(A,c,p,m,B){switch(c){case"focusin":return zu=o0(zu,A,c,p,m,B),!0;case"dragenter":return qu=o0(qu,A,c,p,m,B),!0;case"mouseover":return $u=o0($u,A,c,p,m,B),!0;case"pointerover":var x=B.pointerId;return s0.set(x,o0(s0.get(x)||null,A,c,p,m,B)),!0;case"gotpointercapture":return x=B.pointerId,a0.set(x,o0(a0.get(x)||null,A,c,p,m,B)),!0}return!1}function dV(A){var c=mp(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,SO(A.priority,function(){lV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,SO(A.priority,function(){lV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function ux(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=TU(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);II=m,p.target.dispatchEvent(m),II=null}else return c=vp(p),c!==null&&AV(c),A.blockedOn=p,!1;c.shift()}return!0}function fV(A,c,p){ux(A)&&p.delete(c)}function Gne(){FU=!1,zu!==null&&ux(zu)&&(zu=null),qu!==null&&ux(qu)&&(qu=null),$u!==null&&ux($u)&&($u=null),s0.forEach(fV),a0.forEach(fV)}function cx(A,c){A.blockedOn===c&&(A.blockedOn=null,FU||(FU=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Gne)))}var dx=null;function hV(A){dx!==A&&(dx=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){dx===A&&(dx=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],B=A[c+2];if(typeof m!="function"){if(IU(m||p)===null)continue;break}var x=vp(p);x!==null&&(A.splice(c,3),c-=3,TF(x,{pending:!0,data:B,method:p.method,action:m},m,B))}}))}function Zp(A){function c(j){return cx(j,A)}zu!==null&&cx(zu,A),qu!==null&&cx(qu,A),$u!==null&&cx($u,A),s0.forEach(c),a0.forEach(c);for(var p=0;p<ju.length;p++){var m=ju[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<ju.length&&(p=ju[0],p.blockedOn===null);)dV(p),p.blockedOn===null&&ju.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var B=p[m],x=p[m+1],L=B[Vr]||null;if(typeof x=="function")L||hV(p);else if(L){var O=null;if(x&&x.hasAttribute("formAction")){if(B=x,L=x[Vr]||null)O=L.formAction;else if(IU(B)!==null)continue}else O=L.action;typeof O=="function"?p[m+1]=O:(p.splice(m,3),m-=3),hV(p)}}}function pV(){function A(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(L){return B=L})},focusReset:"manual",scroll:"manual"})}function c(){B!==null&&(B(),B=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,B=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),B!==null&&(B(),B=null)}}}function UU(A){this._internalRoot=A}fx.prototype.render=UU.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,m=ws();aV(p,m,A,c,null,null)},fx.prototype.unmount=UU.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;aV(A.current,2,null,A,null,null),$E(),c[gp]=null}};function fx(A){this._internalRoot=A}fx.prototype.unstable_scheduleHydration=function(A){if(A){var c=xO();A={blockedOn:null,target:A,priority:c};for(var p=0;p<ju.length&&c!==0&&c<ju[p].priority;p++);ju.splice(p,0,A),p===0&&dV(A)}};var gV=e.version;if(gV!=="19.2.1")throw Error(i(527,gV,"19.2.1"));$.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(i(188)):(A=Object.keys(A).join(","),Error(i(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var Kne={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hx.isDisabled&&hx.supportsFiber)try{To=hx.inject(Kne),Er=hx}catch{}}return l0.createRoot=function(A,c){if(!r(A))throw Error(i(299));var p=!1,m="",B=BH,x=EH,L=xH;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(B=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError)),c=rV(A,1,!1,null,null,p,m,null,B,x,L,pV),A[gp]=c.current,dU(A),new UU(c)},l0.hydrateRoot=function(A,c,p){if(!r(A))throw Error(i(299));var m=!1,B="",x=BH,L=EH,O=xH,j=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(B=p.identifierPrefix),p.onUncaughtError!==void 0&&(x=p.onUncaughtError),p.onCaughtError!==void 0&&(L=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.formState!==void 0&&(j=p.formState)),c=rV(A,1,!0,c,p??null,m,B,j,x,L,O,pV),c.context=sV(null),p=c.current,m=ws(),m=bI(m),B=Pu(m),B.callback=null,Ru(p,B,m),p=m,c.current.lanes=p,Nd(c,p),Po(c),A[gp]=c.current,dU(A),new fx(c)},l0.version="19.2.1",l0}var _V;function iie(){if(_V)return DU.exports;_V=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),DU.exports=nie(),DU.exports}var rie=iie();const sie=wA(rie);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TV="popstate";function aie(n={}){function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=ap(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),oR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:Ew(s))}function i(r,s){Ha(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Aie(e,t,i,n)}function Un(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ha(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oie(){return Math.random().toString(36).substring(2,10)}function IV(n,e){return{usr:n.state,key:n.key,idx:e}}function oR(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ap(e):e,state:t,key:e&&e.key||i||oie()}}function Ew({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ap(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Aie(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let E=d(),S=E==null?null:E-u;u=E,l&&l({action:o,location:C.location,delta:S})}function g(E,S){o="PUSH";let I=oR(C.location,E,S);t&&t(I,E),u=d()+1;let T=IV(I,u),R=C.createHref(I);try{a.pushState(T,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(R)}s&&l&&l({action:o,location:C.location,delta:1})}function v(E,S){o="REPLACE";let I=oR(C.location,E,S);t&&t(I,E),u=d();let T=IV(I,u),R=C.createHref(I);a.replaceState(T,"",R),s&&l&&l({action:o,location:C.location,delta:0})}function b(E){return lie(E)}let C={get action(){return o},get location(){return n(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(TV,h),l=E,()=>{r.removeEventListener(TV,h),l=null}},createHref(E){return e(r,E)},createURL:b,encodeLocation(E){let S=b(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(E){return a.go(E)}};return C}function lie(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Un(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ew(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function I6(n,e,t="/"){return uie(n,e,t,!1)}function uie(n,e,t,i){let r=typeof e=="string"?ap(e):e,s=iu(r.pathname||"/",t);if(s==null)return null;let a=F6(n);cie(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Cie(s);o=wie(a[l],u,i)}return o}function F6(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&l)return;Un(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let h=Yl([i,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Un(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),F6(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:vie(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of U6(a.path))s(a,o,!0,u)}),e}function U6(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=U6(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function cie(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yie(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var die=/^:[\w-]+$/,fie=3,hie=2,pie=1,gie=10,mie=-2,FV=n=>n==="*";function vie(n,e){let t=n.split("/"),i=t.length;return t.some(FV)&&(i+=mie),e&&(i+=hie),t.filter(r=>!FV(r)).reduce((r,s)=>r+(die.test(s)?fie:s===""?pie:gie),i)}function yie(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function wie(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=S_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!i[i.length-1].route.index&&(h=S_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:Yl([s,h.pathname]),pathnameBase:_ie(Yl([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=Yl([s,h.pathnameBase]))}return a}function S_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=bie(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function bie(n,e=!1,t=!0){Ha(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Cie(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ha(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function iu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var Bie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eie=n=>Bie.test(n);function xie(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ap(n):n,s;if(t)if(Eie(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Ha(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=UV(t.substring(1),"/"):s=UV(t,e)}else s=e;return{pathname:s,search:Tie(i),hash:Iie(r)}}function UV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function kU(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sie(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function M6(n){let e=Sie(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function P6(n,e,t,i=!1){let r;typeof n=="string"?r=ap(n):(r={...n},Un(!r.pathname||!r.pathname.includes("?"),kU("?","pathname","search",r)),Un(!r.pathname||!r.pathname.includes("#"),kU("#","pathname","hash",r)),Un(!r.search||!r.search.includes("#"),kU("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;r.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=xie(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Yl=n=>n.join("/").replace(/\/\/+/g,"/"),_ie=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Tie=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Iie=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Fie(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Uie(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var R6=["POST","PUT","PATCH","DELETE"];new Set(R6);var Mie=["GET",...R6];new Set(Mie);var ry=P.createContext(null);ry.displayName="DataRouter";var d1=P.createContext(null);d1.displayName="DataRouterState";P.createContext(!1);var D6=P.createContext({isTransitioning:!1});D6.displayName="ViewTransition";var Pie=P.createContext(new Map);Pie.displayName="Fetchers";var Rie=P.createContext(null);Rie.displayName="Await";var Bo=P.createContext(null);Bo.displayName="Navigation";var BB=P.createContext(null);BB.displayName="Location";var mu=P.createContext({outlet:null,matches:[],isDataRoute:!1});mu.displayName="Route";var iQ=P.createContext(null);iQ.displayName="RouteError";function Die(n,{relative:e}={}){Un(EB(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=P.useContext(Bo),{hash:r,pathname:s,search:a}=xB(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Yl([t,s])),i.createHref({pathname:o,search:a,hash:r})}function EB(){return P.useContext(BB)!=null}function Ud(){return Un(EB(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(BB).location}var L6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N6(n){P.useContext(Bo).static||P.useLayoutEffect(n)}function Q6(){let{isDataRoute:n}=P.useContext(mu);return n?jie():Lie()}function Lie(){Un(EB(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(ry),{basename:e,navigator:t}=P.useContext(Bo),{matches:i}=P.useContext(mu),{pathname:r}=Ud(),s=JSON.stringify(M6(i)),a=P.useRef(!1);return N6(()=>{a.current=!0}),P.useCallback((l,u={})=>{if(Ha(a.current,L6),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=P6(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Yl([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,r,n])}P.createContext(null);function xB(n,{relative:e}={}){let{matches:t}=P.useContext(mu),{pathname:i}=Ud(),r=JSON.stringify(M6(t));return P.useMemo(()=>P6(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Nie(n,e){return k6(n,e)}function k6(n,e,t,i,r){var I;Un(EB(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=P.useContext(Bo),{matches:a}=P.useContext(mu),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";O6(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Ud(),v;if(e){let T=typeof e=="string"?ap(e):e;Un(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let b=v.pathname||"/",C=b;if(d!=="/"){let T=d.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=I6(n,{pathname:C});Ha(h||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ha(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Vie(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Yl([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:Yl([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,i,r);return e&&S?P.createElement(BB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function Qie(){let n=$ie(),e=Fie(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:r},t):null,a)}var kie=P.createElement(Qie,null),Oie=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?P.createElement(mu.Provider,{value:this.props.routeContext},P.createElement(iQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hie({routeContext:n,match:e,children:t}){let i=P.useContext(ry);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(mu.Provider,{value:n},t)}function Vie(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Un(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||b){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&i?(d,h)=>{var g,v;i(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:Uie(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,b=!1,C=null,E=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,C=h.route.errorElement||kie,o&&(l<0&&g===0?(O6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):l===g&&(b=!0,E=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=C:b?T=E:h.route.Component?T=P.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,P.createElement(Hie,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?P.createElement(Oie,{location:t.location,revalidation:t.revalidation,component:C,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:u}):I()},null)}function rQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gie(n){let e=P.useContext(ry);return Un(e,rQ(n)),e}function Kie(n){let e=P.useContext(d1);return Un(e,rQ(n)),e}function zie(n){let e=P.useContext(mu);return Un(e,rQ(n)),e}function sQ(n){let e=zie(n),t=e.matches[e.matches.length-1];return Un(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qie(){return sQ("useRouteId")}function $ie(){var i;let n=P.useContext(iQ),e=Kie("useRouteError"),t=sQ("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function jie(){let{router:n}=Gie("useNavigate"),e=sQ("useNavigate"),t=P.useRef(!1);return N6(()=>{t.current=!0}),P.useCallback(async(r,s={})=>{Ha(t.current,L6),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var MV={};function O6(n,e,t){!e&&!MV[n]&&(MV[n]=!0,Ha(!1,t))}P.memo(Wie);function Wie({routes:n,future:e,state:t,unstable_onError:i}){return k6(n,void 0,t,i,e)}function AR(n){Un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yie({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Un(!EB(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=ap(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,b=P.useMemo(()=>{let C=iu(u,o);return C==null?null:{location:{pathname:C,search:d,hash:h,state:g,key:v},navigationType:i}},[o,u,d,h,g,v,i]);return Ha(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Bo.Provider,{value:l},P.createElement(BB.Provider,{children:e,value:b}))}function Xie({children:n,location:e}){return Nie(lR(n),e)}function lR(n,e=[]){let t=[];return P.Children.forEach(n,(i,r)=>{if(!P.isValidElement(i))return;let s=[...e,r];if(i.type===P.Fragment){t.push.apply(t,lR(i.props.children,s));return}Un(i.type===AR,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Un(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=lR(i.props.children,s)),t.push(a)}),t}var vS="get",yS="application/x-www-form-urlencoded";function f1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Jie(n){return f1(n)&&n.tagName.toLowerCase()==="button"}function Zie(n){return f1(n)&&n.tagName.toLowerCase()==="form"}function ere(n){return f1(n)&&n.tagName.toLowerCase()==="input"}function tre(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nre(n,e){return n.button===0&&(!e||e==="_self")&&!tre(n)}var px=null;function ire(){if(px===null)try{new FormData(document.createElement("form"),0),px=!1}catch{px=!0}return px}var rre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function OU(n){return n!=null&&!rre.has(n)?(Ha(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yS}"`),null):n}function sre(n,e){let t,i,r,s,a;if(Zie(n)){let o=n.getAttribute("action");i=o?iu(o,e):null,t=n.getAttribute("method")||vS,r=OU(n.getAttribute("enctype"))||yS,s=new FormData(n)}else if(Jie(n)||ere(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?iu(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||vS,r=OU(n.getAttribute("formenctype"))||OU(o.getAttribute("enctype"))||yS,s=new FormData(o,n),!ire()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(f1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vS,i=null,r=yS,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aQ(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function are(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&iu(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function ore(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Are(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lre(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await ore(s,t);return a.links?a.links():[]}return[]}));return fre(i.flat(1).filter(Are).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function PV(n,e,t,i,r,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ure(n,e,{includeHydrateFallback:t}={}){return cre(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function cre(n){return[...new Set(n)]}function dre(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function fre(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(dre(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function H6(){let n=P.useContext(ry);return aQ(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hre(){let n=P.useContext(d1);return aQ(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var oQ=P.createContext(void 0);oQ.displayName="FrameworkContext";function V6(){let n=P.useContext(oQ);return aQ(n,"You must render this element inside a <HydratedRouter> element"),n}function pre(n,e){let t=P.useContext(oQ),[i,r]=P.useState(!1),[s,a]=P.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=P.useRef(null);P.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let C=S=>{S.forEach(I=>{a(I.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),P.useEffect(()=>{if(i){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[i]);let v=()=>{r(!0)},b=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:u0(o,v),onBlur:u0(l,b),onMouseEnter:u0(u,v),onMouseLeave:u0(d,b),onTouchStart:u0(h,v)}]:[!1,g,{}]}function u0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gre({page:n,...e}){let{router:t}=H6(),i=P.useMemo(()=>I6(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?P.createElement(vre,{page:n,matches:i,...e}):null}function mre(n){let{manifest:e,routeModules:t}=V6(),[i,r]=P.useState([]);return P.useEffect(()=>{let s=!1;return lre(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function vre({page:n,matches:e,...t}){let i=Ud(),{manifest:r,routeModules:s}=V6(),{basename:a}=H6(),{loaderData:o,matches:l}=hre(),u=P.useMemo(()=>PV(n,e,l,r,i,"data"),[n,e,l,r,i]),d=P.useMemo(()=>PV(n,e,l,r,i,"assets"),[n,e,l,r,i]),h=P.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,C=!1;if(e.forEach(S=>{var T;let I=r.routes[S.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===S.route.id)&&S.route.id in o&&((T=s[S.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?C=!0:b.add(S.route.id))}),b.size===0)return[];let E=are(n,a,"data");return C&&b.size>0&&E.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),g=P.useMemo(()=>ure(d,r),[d,r]),v=mre(d);return P.createElement(P.Fragment,null,h.map(b=>P.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>P.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:C})=>P.createElement("link",{key:b,nonce:t.nonce,...C})))}function yre(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var G6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G6&&(window.__reactRouterVersion="7.10.1")}catch{}function wre({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=P.useRef();r.current==null&&(r.current=aie({window:i,v5Compat:!0}));let s=r.current,[a,o]=P.useState({action:s.action,location:s.location}),l=P.useCallback(u=>{t===!1?o(u):P.startTransition(()=>o(u))},[t]);return P.useLayoutEffect(()=>s.listen(l),[s,l]),P.createElement(Yie,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var K6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,__=P.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:b,unstable_useTransitions:C}=P.useContext(Bo),E=typeof u=="string"&&K6.test(u),S,I=!1;if(typeof u=="string"&&E&&(S=u,G6))try{let K=new URL(window.location.href),G=u.startsWith("//")?new URL(K.protocol+u):new URL(u),z=iu(G.pathname,b);G.origin===K.origin&&z!=null?u=z+G.search+G.hash:I=!0}catch{Ha(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Die(u,{relative:r}),[R,M,D]=pre(i,g),N=Ere(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:h,unstable_useTransitions:C});function H(K){e&&e(K),K.defaultPrevented||N(K)}let k=P.createElement("a",{...g,...D,href:S||T,onClick:I||s?e:H,ref:yre(v,M),target:l,"data-discover":!E&&t==="render"?"true":void 0});return R&&!E?P.createElement(P.Fragment,null,k,P.createElement(gre,{page:T})):k});__.displayName="Link";var bre=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=xB(a,{relative:u.relative}),g=Ud(),v=P.useContext(d1),{navigator:b,basename:C}=P.useContext(Bo),E=v!=null&&Ire(h)&&o===!0,S=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&C&&(T=iu(T,C)||T);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=I===S||!r&&I.startsWith(S)&&I.charAt(R)==="/",D=T!=null&&(T===S||!r&&T.startsWith(S)&&T.charAt(S.length)==="/"),N={isActive:M,isPending:D,isTransitioning:E},H=M?e:void 0,k;typeof i=="function"?k=i(N):k=[i,M?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(N):s;return P.createElement(__,{...u,"aria-current":H,className:k,ref:d,style:K,to:a,viewTransition:o},typeof l=="function"?l(N):l)});bre.displayName="NavLink";var Cre=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=vS,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:b}=P.useContext(Bo),C=_re(),E=Tre(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&K6.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,D=(M==null?void 0:M.getAttribute("formmethod"))||a,N=()=>C(M||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:h});b&&t!==!1?P.startTransition(()=>N()):N()};return P.createElement("form",{ref:v,method:S,action:E,onSubmit:i?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});Cre.displayName="Form";function Bre(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z6(n){let e=P.useContext(ry);return Un(e,Bre(n)),e}function Ere(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=Q6(),u=Ud(),d=xB(n,{relative:s});return P.useCallback(h=>{if(nre(h,e)){h.preventDefault();let g=t!==void 0?t:Ew(u)===Ew(d),v=()=>l(n,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a});o?P.startTransition(()=>v()):v()}},[u,l,d,t,i,e,n,r,s,a,o])}var xre=0,Sre=()=>`__${String(++xre)}__`;function _re(){let{router:n}=z6("useSubmit"),{basename:e}=P.useContext(Bo),t=qie(),i=n.fetch,r=n.navigate;return P.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=sre(s,e);if(a.navigate===!1){let g=a.fetcherKey||Sre();await i(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function Tre(n,{relative:e}={}){let{basename:t}=P.useContext(Bo),i=P.useContext(mu);Un(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...xB(n||".",{relative:e})},a=Ud();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Yl([t,s.pathname])),Ew(s)}function Ire(n,{relative:e}={}){let t=P.useContext(D6);Un(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=z6("useViewTransitionState"),r=xB(n,{relative:e});if(!t.isTransitioning)return!1;let s=iu(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=iu(t.nextLocation.pathname,i)||t.nextLocation.pathname;return S_(r.pathname,a)!=null||S_(r.pathname,s)!=null}var q6=T6();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fre,Ure;function Mre(){return{geminiUrl:Fre,vertexUrl:Ure}}function Pre(n,e,t,i){var r,s;if(!(n!=null&&n.baseUrl)){const a=Mre();return e?(r=a.vertexUrl)!==null&&r!==void 0?r:t:(s=a.geminiUrl)!==null&&s!==void 0?s:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vu{}function Se(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function Rre(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),s=i.split("."),a=new Set;let o=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}uR(n,r,s,0,a)}}function uR(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])uR(l,e,t,i+1,r)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(i))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&uR(a[s],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AQ(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dre(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const i=y(n,["resourceName"]);return i!=null&&w(e,["_url","resourceName"],i),e}function Lre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],Qre(a)),e}function Nre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],kre(a)),e}function Qre(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Ore(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function kre(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Hre(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function Ore(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],$re(t)),e}function Hre(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],jre(t)),e}function Vre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Gre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Kre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],zre(a)),e}function zre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function $6(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],qre(a)),e}function qre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function $re(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],AQ(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function jre(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],AQ(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var RV;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(RV||(RV={}));var DV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(DV||(DV={}));var LV;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(LV||(LV={}));var md;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(md||(md={}));var NV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(NV||(NV={}));var QV;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(QV||(QV={}));var kV;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(kV||(kV={}));var OV;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(OV||(OV={}));var HV;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(HV||(HV={}));var VV;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(VV||(VV={}));var GV;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(GV||(GV={}));var KV;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(KV||(KV={}));var zV;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(zV||(zV={}));var qV;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(qV||(qV={}));var $V;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})($V||($V={}));var jV;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jV||(jV={}));var WV;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(WV||(WV={}));var YV;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(YV||(YV={}));var XV;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(XV||(XV={}));var T_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(T_||(T_={}));var JV;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(JV||(JV={}));var ZV;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ZV||(ZV={}));var e3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(e3||(e3={}));var cR;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cR||(cR={}));var t3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(t3||(t3={}));var n3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(n3||(n3={}));var i3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(i3||(i3={}));var r3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(r3||(r3={}));var s3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(s3||(s3={}));var a3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(a3||(a3={}));var o3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(o3||(o3={}));var A3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(A3||(A3={}));var l3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(l3||(l3={}));var u3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(u3||(u3={}));var c3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(c3||(c3={}));var d3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(d3||(d3={}));var f3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(f3||(f3={}));var h3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(h3||(h3={}));var p3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(p3||(p3={}));var g3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(g3||(g3={}));var m3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(m3||(m3={}));var v3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(v3||(v3={}));var y3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(y3||(y3={}));var w3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(w3||(w3={}));var b3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(b3||(b3={}));var C3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(C3||(C3={}));var B3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(B3||(B3={}));var E3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(E3||(E3={}));var x3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(x3||(x3={}));var S3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(S3||(S3={}));var _3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(_3||(_3={}));var T3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(T3||(T3={}));var I3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(I3||(I3={}));var F3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(F3||(F3={}));var xg;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(xg||(xg={}));class dR{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class c0{get text(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,b]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(b!==null||b!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class U3{}class M3{}class Wre{}class Yre{}class Xre{}class Jre{}class P3{}class R3{}class D3{}class Zre{}class I_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new I_;let r;const s=e;return t?r=Nre(s):r=Lre(s),Object.assign(i,r),i}}class L3{}class N3{}class Q3{}class k3{}class ese{}class tse{}class nse{}class lQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new lQ,s=Kre(e);return Object.assign(i,s),i}}class ise{}class rse{}class sse{}class O3{}class ase{get text(){var e,t,i;let r="",s=!1;const a=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,r+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const a of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ose{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class uQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new uQ,s=$6(e);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ut(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function j6(n,e){const t=Ut(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function W6(n){return Array.isArray(n)?n.map(e=>F_(e)):[F_(n)]}function F_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Y6(n){const e=F_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function X6(n){const e=F_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function H3(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function J6(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>H3(e)):[H3(n)]}function fR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function V3(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function G3(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Cr(n){if(n==null)throw new Error("ContentUnion is required");return fR(n)?n:{role:"user",parts:J6(n)}}function cQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Cr(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Cr(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Cr(t)):[Cr(e)]}function ka(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(V3(n)||G3(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Cr(n)]}const e=[],t=[],i=fR(n[0]);for(const r of n){const s=fR(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(V3(r)||G3(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:J6(t)}),e}function Ase(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(md).includes(t[0].toUpperCase())?t[0].toUpperCase():md.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(md).includes(i.toUpperCase())?i.toUpperCase():md.TYPE_UNSPECIFIED})}}function Dg(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&Ase(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(md).includes(o.toUpperCase())?o.toUpperCase():md.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Dg(o);else if(i.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(Dg(u))}e[a]=l}else if(r.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=Dg(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function dQ(n){return Dg(n)}function fQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function hQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function sy(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Dg(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Dg(e.response));return n}function ay(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function lse(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function yu(n,e){if(typeof e!="string")throw new Error("name must be a string");return lse(n,e,"cachedContents")}function Z6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Md(n){return AQ(n)}function use(n){return n!=null&&typeof n=="object"&&"name"in n}function cse(n){return n!=null&&typeof n=="object"&&"video"in n}function dse(n){return n!=null&&typeof n=="object"&&"uri"in n}function e$(n){var e;let t;if(use(n)&&(t=n.name),!(dse(n)&&(t=n.uri,t===void 0))&&!(cse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function t$(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function n$(n){for(const e of["models","tunedModels","publisherModels"])if(fse(n,e))return n[e];return[]}function fse(n,e){return n!==null&&typeof n=="object"&&e in n}function hse(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function pse(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const a=hse(r,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function i$(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function gse(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function r$(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let s=!1;for(const a of r){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function oy(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function s$(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const i=y(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Xse(a))),w(e,["inlinedResponses"],s)}const r=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function vse(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsDestination","outputUriPrefix"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigqueryDestination","outputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function yse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsDestination","outputUriPrefix"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigqueryDestination","outputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wS(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata","displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["metadata","state"]);r!=null&&w(e,["state"],s$(r));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],mse(r$(u))),e}function hR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["state"]);r!=null&&w(e,["state"],s$(r));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],wse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],vse(r$(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function wse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsSource","uris"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigquerySource","inputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function bse(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=y(e,["fileName"]);i!=null&&w(t,["fileName"],i);const r=y(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Yse(n,a))),w(t,["requests","requests"],s)}return t}function Cse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsSource","uris"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigquerySource","inputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Bse(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Ese(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],oy(n,i)),t}function xse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],oy(n,i)),t}function Sse(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],_se(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function _se(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function a$(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>rae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Tse(n,e){const t={},i=y(n,["displayName"]);if(e!==void 0&&i!=null&&w(e,["batch","displayName"],i),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Ise(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["dest"]);return e!==void 0&&r!=null&&w(e,["outputConfig"],yse(gse(r))),t}function K3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],bse(n,i$(n,r)));const s=y(e,["config"]);return s!=null&&Tse(s,t),t}function Fse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],Ut(n,i));const r=y(e,["src"]);r!=null&&w(t,["inputConfig"],Cse(i$(n,r)));const s=y(e,["config"]);return s!=null&&Ise(s,t),t}function Use(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["batch","displayName"],i),t}function Mse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],kse(n,r));const s=y(e,["config"]);return s!=null&&Use(s,t),t}function Pse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],oy(n,i)),t}function Rse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],oy(n,i)),t}function Dse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Lse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Nse(n,e){const t={},i=y(e,["contents"]);if(i!=null){let s=cQ(n,i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const r=y(e,["config"]);return r!=null&&(w(t,["_self"],Qse(r,t)),Rre(t,{"requests[].*":"requests[].request.*"})),t}function Qse(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function kse(n,e){const t={},i=y(e,["fileName"]);i!=null&&w(t,["file_name"],i);const r=y(e,["inlinedRequests"]);return r!=null&&w(t,["requests"],Nse(n,r)),t}function Ose(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Hse(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vse(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Gse(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],a$(Cr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const S=y(e,["responseSchema"]);S!=null&&w(i,["responseSchema"],dQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(J=>sae(J))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=ay(R);Array.isArray(z)&&(z=z.map(J=>oae(sy(J)))),w(t,["tools"],z)}const M=y(e,["toolConfig"]);if(t!==void 0&&M!=null&&w(t,["toolConfig"],aae(M)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],yu(n,D));const N=y(e,["responseModalities"]);N!=null&&w(i,["responseModalities"],N);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],fQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const G=y(e,["imageConfig"]);return G!=null&&w(i,["imageConfig"],Wse(G)),i}function Kse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Sse(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function zse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],oy(n,i)),t}function qse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],oy(n,i)),t}function $se(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function jse(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Wse(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Yse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["request","model"],Ut(n,i));const r=y(e,["contents"]);if(r!=null){let o=ka(r);Array.isArray(o)&&(o=o.map(l=>a$(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],Gse(n,a,y(t,["request"],{}))),t}function Xse(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],Kse(t));const i=y(n,["error"]);return i!=null&&w(e,["error"],i),e}function Jse(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);if(e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Zse(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);e!==void 0&&r!=null&&w(e,["_query","pageToken"],r);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function eae(n){const e={},t=y(n,["config"]);return t!=null&&Jse(t,e),e}function tae(n){const e={},t=y(n,["config"]);return t!=null&&Zse(t,e),e}function nae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>wS(a))),w(e,["batchJobs"],s)}return e}function iae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>hR(a))),w(e,["batchJobs"],s)}return e}function rae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Ose(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Hse(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Bse(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function sae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function aae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Vse(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function oae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],$se(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],jse(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ru;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(ru||(ru={}));class op{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aae extends vu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new op(ru.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=K3(this.apiClient,e),i=t._url,r=Se("{model}:batchGenerateContent",i),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(a)i.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Fse(this.apiClient,e);return o=Se("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>hR(d))}else{const u=K3(this.apiClient,e);return o=Se("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>wS(d))}}async createEmbeddingsInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mse(this.apiClient,e);return s=Se("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>wS(l))}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=qse(this.apiClient,e);return o=Se("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>hR(d))}else{const u=zse(this.apiClient,e);return o=Se("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>wS(d))}}async cancel(e){var t,i,r,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=xse(this.apiClient,e);a=Se("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=Ese(this.apiClient,e);a=Se("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=tae(e);return o=Se("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=iae(d),g=new O3;return Object.assign(g,h),g})}else{const u=eae(e);return o=Se("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=nae(d),g=new O3;return Object.assign(g,h),g})}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Rse(this.apiClient,e);return o=Se("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Lse(d))}else{const u=Pse(this.apiClient,e);return o=Se("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Dse(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function z3(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>Mae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function uae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=ka(a);Array.isArray(d)&&(d=d.map(h=>z3(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],z3(Cr(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Rae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],Pae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function cae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=ka(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],Cr(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Dae(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function dae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],j6(n,i));const r=y(e,["config"]);return r!=null&&uae(r,t),t}function fae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],j6(n,i));const r=y(e,["config"]);return r!=null&&cae(r,t),t}function hae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],yu(n,i)),t}function pae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],yu(n,i)),t}function gae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function mae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function vae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function yae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Cae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],yu(n,i)),t}function Bae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],yu(n,i)),t}function Eae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function xae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Sae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function _ae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Tae(n){const e={},t=y(n,["config"]);return t!=null&&Sae(t,e),e}function Iae(n){const e={},t=y(n,["config"]);return t!=null&&_ae(t,e),e}function Fae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Uae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Mae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],vae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],yae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],lae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Pae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],wae(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function Rae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Eae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],xae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Dae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>bae(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Lae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Nae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Qae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],yu(n,i));const r=y(e,["config"]);return r!=null&&Lae(r,t),t}function kae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],yu(n,i));const r=y(e,["config"]);return r!=null&&Nae(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oae extends vu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new op(ru.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=fae(this.apiClient,e);return o=Se("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=dae(this.apiClient,e);return o=Se("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Bae(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Cae(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=pae(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=mae(d),g=new Q3;return Object.assign(g,h),g})}else{const u=hae(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=gae(d),g=new Q3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=kae(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Qae(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Iae(e);return o=Se("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Uae(d),g=new k3;return Object.assign(g,h),g})}else{const u=Tae(e);return o=Se("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Fae(d),g=new k3;return Object.assign(g,h),g})}}}function q3(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yn(n){return this instanceof yn?(this.v=n,this):new yn(n)}function Lg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(v){return function(b){return Promise.resolve(b).then(v,h)}}function o(v,b){i[v]&&(r[v]=function(C){return new Promise(function(E,S){s.push([v,C,E,S])>1||l(v,C)})},b&&(r[v]=b(r[v])))}function l(v,b){try{u(i[v](b))}catch(C){g(s[0][3],C)}}function u(v){v.value instanceof yn?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,b){v(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function hw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof q3=="function"?q3(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),r(o,l,a.done,a.value)})}}function r(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hae(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:o$(t)}function o$(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Vae(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $3(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!o$(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class Gae{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Kae(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Kae{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),Vae(s)}async sendMessage(e){var t;await this.sendPromise;const i=Cr(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await r,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(i,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=Cr(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?$3(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return Lg(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=hw(e),v;v=yield yn(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const b=u;if(Hae(b)){const C=(r=(i=b.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;C!==void 0&&d.push(C)}yield yield yn(b)}}catch(b){o={error:b}}finally{try{!h&&!a&&(l=g.return)&&(yield yn(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...$3(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,h1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zae(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function qae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function $ae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],e$(t)),e}function jae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Wae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],e$(t)),e}function Yae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Xae(n){const e={},t=y(n,["config"]);return t!=null&&Yae(t,e),e}function Jae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zae extends vu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new op(ru.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xae(e);return s=Se("files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Jae(l),d=new ise;return Object.assign(d,u),d})}}async createInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=zae(e);return s=Se("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=qae(l),d=new rse;return Object.assign(d,u),d})}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Wae(e);return s=Se("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=$ae(e);return s=Se("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=jae(l),d=new sse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eoe(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>goe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function toe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function noe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ioe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function roe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],A$(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const M=y(n,["thinkingConfig"]);M!=null&&w(e,["thinkingConfig"],M);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const N=y(n,["topP"]);if(N!=null&&w(e,["topP"],N),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function soe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function aoe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function ooe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],hQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],eoe(Cr(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=ay(C);Array.isArray(D)&&(D=D.map(N=>voe(sy(N)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],moe(E));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function Aoe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],roe(i));const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],A$(hQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],Cr(b));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=ay(C);Array.isArray(D)&&(D=D.map(N=>yoe(sy(N)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],E);const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function loe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Ut(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],ooe(r,t)),t}function uoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Ut(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],Aoe(r,t)),t}function coe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function doe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["weightedPrompts"],i)}return e}function foe(n){const e={},t=y(n,["media"]);if(t!=null){let u=W6(t);Array.isArray(u)&&(u=u.map(d=>bS(d))),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],bS(X6(i)));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],bS(Y6(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function hoe(n){const e={},t=y(n,["media"]);if(t!=null){let u=W6(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],X6(i));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],Y6(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function poe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const i=y(n,["serverContent"]);i!=null&&w(e,["serverContent"],i);const r=y(n,["toolCall"]);r!=null&&w(e,["toolCall"],r);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],woe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function goe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],toe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],noe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],bS(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function moe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function A$(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function voe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],soe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],aoe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function yoe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>ioe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function woe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const i=y(n,["cachedContentTokenCount"]);i!=null&&w(e,["cachedContentTokenCount"],i);const r=y(n,["candidatesTokenCount"]);r!=null&&w(e,["responseTokenCount"],r);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function boe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Coe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],Boe(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Boe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function Eoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["contents"]);if(r!=null){let s=ka(r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function xoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["tokensInfo"],r)}return e}function Soe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const i=y(n,["statistics"]);return i!=null&&w(e,["statistics"],_oe(i)),e}function _oe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const i=y(n,["token_count"]);return i!=null&&w(e,["tokenCount"],i),e}function p1(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>LAe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Toe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const i=y(n,["enableControlImageComputation"]);return i!=null&&w(e,["computeControl"],i),e}function Ioe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Foe(n,e){const t={},i=y(n,["systemInstruction"]);e!==void 0&&i!=null&&w(e,["systemInstruction"],Cr(i));const r=y(n,["tools"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>f$(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],bAe(s)),t}function Uoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["contents"]);if(r!=null){let a=ka(r);Array.isArray(a)&&(a=a.map(o=>p1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Ioe(s),t}function Moe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["contents"]);if(r!=null){let a=ka(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Foe(s,t),t}function Poe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);i!=null&&w(e,["totalTokens"],i);const r=y(n,["cachedContentTokenCount"]);return r!=null&&w(e,["cachedContentTokenCount"],r),e}function Roe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);return i!=null&&w(e,["totalTokens"],i),e}function Doe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Ut(n,i)),t}function Loe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Ut(n,i)),t}function Noe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Qoe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function koe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function Ooe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>VAe(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&koe(a,t),t}function Hoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>g1(s))),w(e,["generatedImages"],r)}return e}function Voe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Goe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["instances[]","task_type"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["instances[]","title"],r);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function Koe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["contents"]);if(r!=null){let o=cQ(n,r);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&Voe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],Ut(n,a)),t}function zoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["contents"]);if(r!=null){let a=cQ(n,r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&Goe(s,t),t}function qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function $oe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Soe(a))),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function joe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const i=y(n,["deployedModelId"]);return i!=null&&w(e,["deployedModelId"],i),e}function Woe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Yoe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xoe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Joe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Zoe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],p1(Cr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const S=y(e,["responseSchema"]);S!=null&&w(i,["responseSchema"],dQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(J=>GAe(J))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=ay(R);Array.isArray(z)&&(z=z.map(J=>YAe(sy(J)))),w(t,["tools"],z)}const M=y(e,["toolConfig"]);if(t!==void 0&&M!=null&&w(t,["toolConfig"],WAe(M)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],yu(n,D));const N=y(e,["responseModalities"]);N!=null&&w(i,["responseModalities"],N);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],fQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const G=y(e,["imageConfig"]);return G!=null&&w(i,["imageConfig"],SAe(G)),i}function eAe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],Cr(r));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const S=y(e,["responseSchema"]);S!=null&&w(i,["responseSchema"],dQ(S));const I=y(e,["responseJsonSchema"]);I!=null&&w(i,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(i,["routingConfig"],T);const R=y(e,["modelSelectionConfig"]);R!=null&&w(i,["modelConfig"],R);const M=y(e,["safetySettings"]);if(t!==void 0&&M!=null){let V=M;Array.isArray(V)&&(V=V.map($=>$)),w(t,["safetySettings"],V)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let V=ay(D);Array.isArray(V)&&(V=V.map($=>f$(sy($)))),w(t,["tools"],V)}const N=y(e,["toolConfig"]);t!==void 0&&N!=null&&w(t,["toolConfig"],N);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const k=y(e,["cachedContent"]);t!==void 0&&k!=null&&w(t,["cachedContent"],yu(n,k));const K=y(e,["responseModalities"]);K!=null&&w(i,["responseModalities"],K);const G=y(e,["mediaResolution"]);G!=null&&w(i,["mediaResolution"],G);const z=y(e,["speechConfig"]);z!=null&&w(i,["speechConfig"],d$(fQ(z)));const J=y(e,["audioTimestamp"]);J!=null&&w(i,["audioTimestamp"],J);const ne=y(e,["thinkingConfig"]);ne!=null&&w(i,["thinkingConfig"],ne);const pe=y(e,["imageConfig"]);return pe!=null&&w(i,["imageConfig"],_Ae(pe)),i}function j3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["contents"]);if(r!=null){let a=ka(r);Array.isArray(a)&&(a=a.map(o=>p1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],Zoe(n,s,t)),t}function W3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["contents"]);if(r!=null){let a=ka(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],eAe(n,s,t)),t}function Y3(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Coe(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function X3(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function tAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["aspectRatio"]);e!==void 0&&r!=null&&w(e,["parameters","aspectRatio"],r);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function nAe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function iAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&tAe(s,t),t}function rAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&nAe(s,t),t}function sAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>mAe(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],u$(r)),e}function aAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>g1(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],c$(r)),e}function oAe(n,e){const t={},i=y(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=y(n,["durationSeconds"]);if(e!==void 0&&r!=null&&w(e,["parameters","durationSeconds"],r),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],m1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>lle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function AAe(n,e){const t={},i=y(n,["numberOfVideos"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const b=y(n,["generateAudio"]);e!==void 0&&b!=null&&w(e,["parameters","generateAudio"],b);const C=y(n,["lastFrame"]);e!==void 0&&C!=null&&w(e,["instances[0]","lastFrame"],Eo(C));const E=y(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(R=>ule(R))),w(e,["instances[0]","referenceImages"],T)}const S=y(n,["mask"]);e!==void 0&&S!=null&&w(e,["instances[0]","mask"],Ale(S));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function lAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],fAe(a)),e}function uAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],hAe(a)),e}function cAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],m1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],h$(a));const o=y(e,["source"]);o!=null&&pAe(o,t);const l=y(e,["config"]);return l!=null&&oAe(l,t),t}function dAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],Eo(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],p$(a));const o=y(e,["source"]);o!=null&&gAe(o,t);const l=y(e,["config"]);return l!=null&&AAe(l,t),t}function fAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>yAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function hAe(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>wAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function pAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],m1(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],h$(s)),t}function gAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Eo(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],p$(s)),t}function mAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],TAe(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);return r!=null&&w(e,["safetyAttributes"],u$(r)),e}function g1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],l$(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);r!=null&&w(e,["safetyAttributes"],c$(r));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function vAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],l$(t));const i=y(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["labels"],r)}return e}function yAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],ale(t)),e}function wAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],ole(t)),e}function bAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],d$(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const M=y(n,["thinkingConfig"]);M!=null&&w(e,["thinkingConfig"],M);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const N=y(n,["topP"]);if(N!=null&&w(e,["topP"],N),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function CAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Ut(n,i)),t}function BAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Ut(n,i)),t}function EAe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function xAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function SAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _Ae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);i!=null&&w(e,["imageSize"],i);const r=y(n,["outputMimeType"]);r!=null&&w(e,["imageOutputOptions","mimeType"],r);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function TAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],Md(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function l$(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["imageBytes"],Md(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function m1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],Md(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Eo(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["imageBytes"]);i!=null&&w(e,["bytesBase64Encoded"],Md(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function IAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],t$(n,o)),i}function FAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],t$(n,o)),i}function UAe(n,e){const t={},i=y(e,["config"]);return i!=null&&IAe(n,i,t),t}function MAe(n,e){const t={},i=y(e,["config"]);return i!=null&&FAe(n,i,t),t}function PAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=n$(r);Array.isArray(s)&&(s=s.map(a=>pR(a))),w(e,["models"],s)}return e}function RAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=n$(r);Array.isArray(s)&&(s=s.map(a=>gR(a))),w(e,["models"],s)}return e}function DAe(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const i=y(n,["segmentationClasses"]);i!=null&&w(e,["maskClasses"],i);const r=y(n,["maskDilation"]);return r!=null&&w(e,["dilation"],r),e}function pR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],XAe(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const b=y(n,["thinking"]);return b!=null&&w(e,["thinking"],b),e}function gR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>joe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],JAe(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function LAe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Woe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Yoe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],boe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function NAe(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],Eo(t)),e}function QAe(n,e){const t={},i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["baseSteps"]);e!==void 0&&r!=null&&w(e,["parameters","baseSteps"],r);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function kAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["source"]);r!=null&&HAe(r,t);const s=y(e,["config"]);return s!=null&&QAe(s,t),t}function OAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>g1(r))),w(e,["generatedImages"],i)}return e}function HAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["personImage"]);e!==void 0&&r!=null&&w(e,["instances[0]","personImage","image"],Eo(r));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>NAe(o))),w(e,["instances[0]","productImages"],a)}return t}function VAe(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Eo(t));const i=y(n,["referenceId"]);i!=null&&w(e,["referenceId"],i);const r=y(n,["referenceType"]);r!=null&&w(e,["referenceType"],r);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],DAe(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],Toe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function u$(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function c$(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function GAe(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function KAe(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],Eo(t)),e}function zAe(n,e){const t={},i=y(n,["mode"]);e!==void 0&&i!=null&&w(e,["parameters","mode"],i);const r=y(n,["maxPredictions"]);e!==void 0&&r!=null&&w(e,["parameters","maxPredictions"],r);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function qAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["source"]);r!=null&&jAe(r,t);const s=y(e,["config"]);return s!=null&&zAe(s,t),t}function $Ae(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>vAe(r))),w(e,["generatedMasks"],i)}return e}function jAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Eo(r));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],KAe(s)),t}function d$(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function WAe(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Xoe(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function YAe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],EAe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],xAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function f$(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Joe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function XAe(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function JAe(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function ZAe(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function ele(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function tle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","name"],Ut(n,i));const r=y(e,["config"]);return r!=null&&ZAe(r,t),t}function nle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["config"]);return r!=null&&ele(r,t),t}function ile(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&w(e,["parameters","safetySetting"],r);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function rle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ut(n,i));const r=y(e,["image"]);r!=null&&w(t,["instances[0]","image"],Eo(r));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&ile(a,t),t}function sle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>g1(s))),w(e,["generatedImages"],r)}return e}function ale(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],Md(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function ole(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],Md(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ale(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],Eo(t));const i=y(n,["maskMode"]);return i!=null&&w(e,["maskMode"],i),e}function lle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],m1(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function ule(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],Eo(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function h$(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["encodedVideo"],Md(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["encoding"],r),e}function p$(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["bytesBase64Encoded"],Md(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cle(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["displayName"],i),t}function dle(n){const e={},t=y(n,["config"]);return t!=null&&cle(t,e),e}function fle(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function hle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&fle(i,e),e}function ple(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function gle(n,e){const t={},i=y(n,["customMetadata"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const r=y(n,["chunkingConfig"]);return e!==void 0&&r!=null&&w(e,["chunkingConfig"],r),t}function mle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],yle(a)),e}function vle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["fileName"]);i!=null&&w(e,["fileName"],i);const r=y(n,["config"]);return r!=null&&gle(r,e),e}function yle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function wle(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function ble(n){const e={},t=y(n,["config"]);return t!=null&&wle(t,e),e}function Cle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function g$(n,e){const t={},i=y(n,["mimeType"]);e!==void 0&&i!=null&&w(e,["mimeType"],i);const r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Ble(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["config"]);return i!=null&&g$(i,e),e}function Ele(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xle="Content-Type",Sle="X-Server-Timeout",_le="User-Agent",mR="x-goog-api-client",Tle="1.31.0",Ile=`google-genai-sdk/${Tle}`,Fle="v1beta1",Ule="v1beta",J3=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Mle{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Fle,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Ule,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))r.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&Ple(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Z3(r),new dR(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await Z3(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Lg(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield yn(r.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,b=g.code,C=`got status: ${v}. ${JSON.stringify(h)}`;if(b>=400&&b<600)throw new h1({message:C,status:b})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(J3);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield yn(new dR(g)),a=a.slice(d[0].length),d=a.match(J3)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=Ile+" "+this.clientOptions.userAgentExtra;return e[_le]=t,e[mR]=t,e[xle]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))i.append(r,s);e.timeout&&e.timeout>0&&i.append(Sle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);r.sizeBytes=String(a.size);const o=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=o;const l={file:r},u=this.getFileName(e),d=Se("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,i){var r;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};i!=null&&g$(i,h);const g=await this.fetchUploadUrl(u,o,l,d,h,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Z3(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new h1({message:r,status:t}):new Error(r)}}function Ple(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=i(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rle="mcp_used/unknown";let Dle=!1;function m$(n){for(const e of n)if(Lle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Dle}function v$(n){var e;const t=(e=n[mR])!==null&&e!==void 0?e:"";n[mR]=(t+` ${Rle}`).trimStart()}function Lle(n){return n!==null&&typeof n=="object"&&n instanceof pQ}function Nle(n,e=100){return Lg(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield yn(n.listTools({cursor:i}));for(const a of s.tools)yield yield yn(a),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class pQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new pQ(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,hw(Nle(d))),u;u=await l.next(),e=u.done,!e;o=!0){r=u.value,o=!1;const h=r;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),pse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await r.callTool({name:i.name,arguments:i.args},void 0,s);t.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qle(n,e,t){const i=new ose;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class kle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=Vle(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,b={onopen:g,onmessage:T=>{Qle(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(T){}},C=this.webSocketFactory.create(l,Hle(a),b);C.connect(),await d;const I={setup:{model:Ut(this.apiClient,e.model)}};return C.send(JSON.stringify(I)),new Ole(C,this.apiClient)}}class Ole{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=doe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=coe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(xg.PLAY)}pause(){this.sendPlaybackControl(xg.PAUSE)}stop(){this.sendPlaybackControl(xg.STOP)}resetContext(){this.sendPlaybackControl(xg.RESET_CONTEXT)}close(){this.conn.close()}}function Hle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Vle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Kle(n,e,t){const i=new ase;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const s=JSON.parse(r);if(n.isVertexAI()){const a=poe(s);Object.assign(i,a)}else Object.assign(i,s);e(i)}class zle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new kle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&m$(e.config.tools)&&v$(h);const g=Wle(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let K="BidiGenerateContent",G="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",G="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${K}?${G}=${k}`}let v=()=>{};const b=new Promise(k=>{v=k}),C=e.callbacks,E=function(){var k;(k=C==null?void 0:C.onopen)===null||k===void 0||k.call(C),v({})},S=this.apiClient,I={onopen:E,onmessage:k=>{Kle(S,C.onmessage,k)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(k){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(k){}},T=this.webSocketFactory.create(d,jle(g),I);T.connect(),await b;let R=Ut(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const k=this.apiClient.getProject(),K=this.apiClient.getLocation();R=`projects/${k}/locations/${K}/`+R}let M={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[T_.AUDIO]}:e.config.responseModalities=[T_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],N=[];for(const k of D)if(this.isCallableTool(k)){const K=k;N.push(await K.tool())}else N.push(k);N.length>0&&(e.config.tools=N);const H={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=uoe(this.apiClient,H):M=loe(this.apiClient,H),delete M.config,T.send(JSON.stringify(M)),new $le(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const qle={turnComplete:!0};class $le{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=ka(t.turns),e.isVertexAI()||(i=i.map(r=>p1(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Gle)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},qle),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:hoe(e)}:t={realtimeInput:foe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function jle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Wle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eG=10;function tG(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Ng(a)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Ng(n){return"callTool"in n&&typeof n.callTool=="function"}function Yle(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Ng(r)))!==null&&i!==void 0?i:!1}function nG(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(Ng(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(r)}),t}function iG(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xle extends vu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Yle(t)||tG(t.config))return await this.generateContentInternal(l);const u=nG(t);if(u.length>0){const C=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let d,h;const g=ka(l.contents),v=(s=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:eG;let b=0;for(;b<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,E=[];for(const S of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Ng(S)){const T=await S.callTool(d.functionCalls);E.push(...T)}b++,h={role:"user",parts:E},l.contents=ka(l.contents),l.contents.push(C),l.contents.push(h),iG(l.config)&&(g.push(C),g.push(h))}return iG(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var i,r,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),tG(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=nG(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const a=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},o}),this.list=async t=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new op(ru.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>Ng(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&m$(e.config.tools)){const l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),v$(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const a of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Ng(a)){const o=a,l=await o.tool();for(const u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:eG;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return Lg(this,arguments,function*(){for(var b,C,E,S;o<s;){a&&(o++,a=!1);const M=yield yn(u.processParamsMaybeAddMcpUsage(h)),D=yield yn(u.generateContentStreamInternal(M)),N=[],H=[];try{for(var I=!0,T=(C=void 0,hw(D)),R;R=yield yn(T.next()),b=R.done,!b;I=!0){S=R.value,I=!1;const k=S;if(yield yield yn(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){H.push(k.candidates[0].content);for(const K of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(K.functionCall.name)){const G=yield yn(d.get(K.functionCall.name).callTool([K.functionCall]));N.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(k){C={error:k}}finally{try{!I&&!b&&(E=T.return)&&(yield yn(E.call(T)))}finally{if(C)throw C.error}}if(N.length>0){a=!0;const k=new c0;k.candidates=[{content:{role:"user",parts:N}}],yield yield yn(k);const K=[];K.push(...H),K.push({role:"user",parts:N});const G=ka(h.contents).concat(K);h.contents=G}else break}})})(this,l,e)}async generateContentInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=W3(this.apiClient,e);return o=Se("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=X3(d),g=new c0;return Object.assign(g,h),g})}else{const u=j3(this.apiClient,e);return o=Se("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Y3(d),g=new c0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=W3(this.apiClient,e);return o=Se("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(h){return Lg(this,arguments,function*(){var g,v,b,C;try{for(var E=!0,S=hw(h),I;I=yield yn(S.next()),g=I.done,!g;E=!0){C=I.value,E=!1;const T=C,R=X3(yield yn(T.json()));R.sdkHttpResponse={headers:T.headers};const M=new c0;Object.assign(M,R),yield yield yn(M)}}catch(T){v={error:T}}finally{try{!E&&!g&&(b=S.return)&&(yield yn(b.call(S)))}finally{if(v)throw v.error}}})})}else{const u=j3(this.apiClient,e);return o=Se("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return Lg(this,arguments,function*(){var g,v,b,C;try{for(var E=!0,S=hw(h),I;I=yield yn(S.next()),g=I.done,!g;E=!0){C=I.value,E=!1;const T=C,R=Y3(yield yn(T.json()));R.sdkHttpResponse={headers:T.headers};const M=new c0;Object.assign(M,R),yield yield yn(M)}}catch(T){v={error:T}}finally{try{!E&&!g&&(b=S.return)&&(yield yn(b.call(S)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=zoe(this.apiClient,e);return o=Se("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=$oe(d),g=new U3;return Object.assign(g,h),g})}else{const u=Koe(this.apiClient,e);return o=Se("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=qoe(d),g=new U3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=rAe(this.apiClient,e);return o=Se("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=aAe(d),g=new M3;return Object.assign(g,h),g})}else{const u=iAe(this.apiClient,e);return o=Se("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sAe(d),g=new M3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Ooe(this.apiClient,e);return s=Se("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Hoe(l),d=new Wre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=rle(this.apiClient,e);return s=Se("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=sle(l),d=new Yre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=kAe(this.apiClient,e);return s=Se("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=OAe(l),d=new Xre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=qAe(this.apiClient,e);return s=Se("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=$Ae(l),d=new Jre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=BAe(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>gR(d))}else{const u=CAe(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>pR(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=MAe(this.apiClient,e);return o=Se("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=RAe(d),g=new P3;return Object.assign(g,h),g})}else{const u=UAe(this.apiClient,e);return o=Se("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=PAe(d),g=new P3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=nle(this.apiClient,e);return o=Se("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>gR(d))}else{const u=tle(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>pR(d))}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Loe(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Qoe(d),g=new R3;return Object.assign(g,h),g})}else{const u=Doe(this.apiClient,e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Noe(d),g=new R3;return Object.assign(g,h),g})}}async countTokens(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Moe(this.apiClient,e);return o=Se("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Roe(d),g=new D3;return Object.assign(g,h),g})}else{const u=Uoe(this.apiClient,e);return o=Se("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Poe(d),g=new D3;return Object.assign(g,h),g})}}async computeTokens(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Eoe(this.apiClient,e);return s=Se("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=xoe(l),d=new Zre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=dAe(this.apiClient,e);return o=Se("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const h=uAe(d),g=new I_;return Object.assign(g,h),g})}else{const u=cAe(this.apiClient,e);return o=Se("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=lAe(d),g=new I_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jle extends vu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Gre(e);return o=Se("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}else{const u=Vre(e);return o=Se("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Dre(e);return s=Se("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zle(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eue(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>lue(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function tue(n,e,t){const i={},r=y(e,["expireTime"]);t!==void 0&&r!=null&&w(t,["expireTime"],r);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],Aue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),i}function nue(n,e){const t={},i=y(e,["config"]);return i!=null&&w(t,["config"],tue(n,i,t)),t}function iue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function rue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function aue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function oue(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],hQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],eue(Cr(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=ay(C);Array.isArray(D)&&(D=D.map(N=>cue(sy(N)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],uue(E));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function Aue(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Ut(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],oue(r,t)),t}function lue(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],iue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],rue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Zle(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function uue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],sue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],aue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function due(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function fue(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=due(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];r.length>0&&(o=r.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class hue extends vu{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=nue(this.apiClient,e);s=Se("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=fue(o,e.config);return r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pue(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function gue(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&pue(i,e),e}function mue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function vue(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function yue(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const i=y(n,["config"]);return i!=null&&vue(i,e),e}function wue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bue extends vu{constructor(e){super(),this.apiClient=e,this.list=async t=>new op(ru.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mue(e);return s=Se("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gue(e);r=Se("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yue(e);return s=Se("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=wue(l),d=new ese;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cue extends vu{constructor(e,t=new bue(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new op(ru.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=dle(e);return s=Se("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ple(e);return s=Se("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=hle(e);r=Se("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ble(e);return s=Se("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Cle(l),d=new tse;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ble(e);return s=Se("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Ele(l),d=new nse;return Object.assign(d,u),d})}}async importFile(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vle(e);return s=Se("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=mle(l),d=new lQ;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Eue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function xue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function Sue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function _ue(n,e,t){const i={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=y(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&w(e,["displayName"],r),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Tue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],rG(v))}else if(r==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],rG(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),i}function Iue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&Oue(s);const a=y(n,["config"]);return a!=null&&_ue(a,t),t}function Fue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&Hue(s,t,e);const a=y(n,["config"]);return a!=null&&Tue(a,t,e),t}function Uue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Mue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Pue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Rue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Due(n,e){const t={},i=y(n,["config"]);return i!=null&&Pue(i,t),t}function Lue(n,e){const t={},i=y(n,["config"]);return i!=null&&Rue(i,t),t}function Nue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>y$(o))),w(t,["tuningJobs"],a)}return t}function Que(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>vR(o))),w(t,["tuningJobs"],a)}return t}function kue(n,e){const t={},i=y(n,["name"]);i!=null&&w(t,["model"],i);const r=y(n,["name"]);return r!=null&&w(t,["endpoint"],r),t}function Oue(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=y(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(t,["examples","examples"],r)}return t}function Hue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(r==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function y$(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],Z6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],kue(g)),t}function vR(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],Z6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const b=y(n,["preTunedModel"]);b!=null&&w(t,["preTunedModel"],b);const C=y(n,["supervisedTuningSpec"]);C!=null&&w(t,["supervisedTuningSpec"],C);const E=y(n,["preferenceOptimizationSpec"]);E!=null&&w(t,["preferenceOptimizationSpec"],E);const S=y(n,["tuningDataStats"]);S!=null&&w(t,["tuningDataStats"],S);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const R=y(n,["customBaseModel"]);R!=null&&w(t,["customBaseModel"],R);const M=y(n,["experiment"]);M!=null&&w(t,["experiment"],M);const D=y(n,["labels"]);D!=null&&w(t,["labels"],D);const N=y(n,["outputUri"]);N!=null&&w(t,["outputUri"],N);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const k=y(n,["serviceAccount"]);k!=null&&w(t,["serviceAccount"],k);const K=y(n,["tunedModelDisplayName"]);K!=null&&w(t,["tunedModelDisplayName"],K);const G=y(n,["veoTuningSpec"]);return G!=null&&w(t,["veoTuningSpec"],G),t}function Vue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function rG(n,e){const t={},i=y(n,["gcsUri"]);i!=null&&w(t,["validationDatasetUri"],i);const r=y(n,["vertexDatasetResource"]);return r!=null&&w(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gue extends vu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new op(ru.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),s=await this.tuneMldevInternal(r);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:cR.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Mue(e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>vR(d))}else{const u=Uue(e);return o=Se("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>y$(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Lue(e);return o=Se("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Que(d),g=new L3;return Object.assign(g,h),g})}else{const u=Due(e);return o=Se("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Nue(d),g=new L3;return Object.assign(g,h),g})}}async cancel(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Eue(e);return o=Se("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Sue(d),g=new N3;return Object.assign(g,h),g})}else{const u=Bue(e);return o=Se("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=xue(d),g=new N3;return Object.assign(g,h),g})}}async tuneInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Fue(e,e);return s=Se("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>vR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Iue(e);return s=Se("tunedModels",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>Vue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kue{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zue=1024*1024*8,que=3,$ue=1e3,jue=2,U_="x-goog-upload-status";async function Wue(n,e,t){var i;const r=await w$(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[U_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Yue(n,e,t){var i;const r=await w$(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[U_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=$6(s),o=new uQ;return Object.assign(o,a),o}async function w$(n,e,t){var i,r;let s=0,a=0,o=new dR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(zue,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=$ue;for(;h<que&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((i=o==null?void 0:o.headers)===null||i===void 0)&&i[U_]));)h++,await Jue(g),g=g*jue;if(a+=u,((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[U_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Xue(n){return{size:n.size,type:n.type}}function Jue(n){return new Promise(e=>setTimeout(e,n))}class Zue{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wue(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Yue(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xue(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ece{create(e,t,i){return new tce(e,t,i)}}class tce{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sG="x-goog-api-key";class nce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(sG)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(sG,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ice="gl-node/";class rce{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=Pre(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new nce(this.apiKey);this.apiClient=new Mle({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ice+"web",uploader:new Zue,downloader:new Kue}),this.models=new Xle(this.apiClient),this.live=new zle(this.apiClient,r,new ece),this.batches=new Aae(this.apiClient),this.chats=new Gae(this.models,this.apiClient),this.caches=new Oae(this.apiClient),this.files=new Zae(this.apiClient),this.operations=new Jle(this.apiClient),this.authTokens=new hue(this.apiClient),this.tunings=new Gue(this.apiClient),this.fileSearchStores=new Cue(this.apiClient)}}const sce="PLACEHOLDER_API_KEY",ace=new rce({apiKey:sce}),oce="gemini-2.5-flash",b$=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
    `;return(await ace.models.generateContent({model:oce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},Rr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),yR=[.001,0,0,.001,0,0],HU=1.35,Vs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},sc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},xw="pdfjs_internal_editor_",tt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Ace={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},wR={TRIANGLES:1,LATTICE:2},qi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},CS={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},si={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},cg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},v1={ERRORS:0,WARNINGS:1,INFOS:5},Sw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},d0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},lce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let y1=v1.WARNINGS;function uce(n){Number.isInteger(n)&&(y1=n)}function cce(){return y1}function w1(n){y1>=v1.INFOS&&console.info(`Info: ${n}`)}function Je(n){y1>=v1.WARNINGS&&console.warn(`Warning: ${n}`)}function an(n){throw new Error(n)}function Et(n,e){n||an(e)}function dce(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function C$(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=mce(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return dce(i)?i:null}function B$(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&C$(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ze(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Ap=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class aG extends Ap{constructor(e,t){super(e,"PasswordException"),this.code=t}}class VU extends Ap{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let bR=class extends Ap{constructor(e){super(e,"InvalidPDFException")}},M_=class extends Ap{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}};class fce extends Ap{constructor(e){super(e,"FormatError")}}let Ed=class extends Ap{constructor(e){super(e,"AbortException")}};function E$(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&an("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function SB(n){typeof n!="string"&&an("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function hce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function pce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function gce(){try{return new Function(""),!0}catch{return!1}}class or{static get isLittleEndian(){return Ze(this,"isLittleEndian",pce())}static get isEvalSupported(){return Ze(this,"isEvalSupported",gce())}static get isOffscreenCanvasSupported(){return Ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ze(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ze(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ze(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ze(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Ze(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const GU=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var eu,sR,BS,CR;let Pe=(sR=class{static makeHexColor(e,t,i){return`#${GU[e]}${GU[t]}${GU[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[i+d],g=e[i+d+1];e[i+d]=h*r+g*a+l,e[i+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let b=r*d+l,C=b,E=r*g+l,S=E,I=o*h+u,T=I,R=o*v+u,M=R;if(s!==0||a!==0){const D=s*d,N=s*g,H=a*h,k=a*v;b+=H,S+=H,E+=k,C+=k,I+=D,M+=D,R+=N,T+=N}i[0]=Math.min(i[0],b,E,C,S),i[1]=Math.min(i[1],I,R,T,M),i[2]=Math.max(i[2],b,E,C,S),i[3]=Math.max(i[3],I,R,T,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],a=e[3],o=i**2+r**2,l=i*s+r*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),U(this,eu,CR).call(this,e,i,s,o,t,r,a,l,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),u),U(this,eu,CR).call(this,e,i,s,o,t,r,a,l,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),u)}},eu=new WeakSet,BS=function(e,t,i,r,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,b=h*(h*(h*e+3*u*t)+3*g*i)+v*r,C=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],b),d[1]=Math.min(d[1],C),d[2]=Math.max(d[2],b),d[3]=Math.max(d[3],C)},CR=function(e,t,i,r,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&U(this,eu,BS).call(this,e,t,i,r,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const b=Math.sqrt(v),C=2*u;U(this,eu,BS).call(this,e,t,i,r,s,a,o,l,(-d+b)/C,g),U(this,eu,BS).call(this,e,t,i,r,s,a,o,l,(-d-b)/C,g)},F(sR,eu),sR);function mce(n){return decodeURIComponent(escape(n))}let KU=null,oG=null;function vce(n){return KU||(KU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,oG=new Map([["","t"]])),n.replaceAll(KU,(e,t,i)=>t?t.normalize("NFKC"):oG.get(i))}function x$(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),E$(n)}const Sg="pdfjs_internal_id_";function yce(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Dr(n,e,t){return Math.min(Math.max(n,e),t)}function S$(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(E$(n))}function wce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):SB(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class _w{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(_w.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let _$=class{static setupStorage(e,t,i,r,s){const a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var h,g;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);a.append(v),o&&_w.shouldBuildText(r.name)&&u.push(v)}return{textDivs:u}}const d=[[r,-1,a]];for(;d.length>0;){const[v,b,C]=d.at(-1);if(b+1===v.children.length){d.pop();continue}const E=v.children[++d.at(-1)[1]];if(E===null)continue;const{name:S}=E;if(S==="#text"){const T=document.createTextNode(E.value);u.push(T),C.append(T);continue}const I=(h=E==null?void 0:E.attributes)!=null&&h.xmlns?document.createElementNS(E.attributes.xmlns,S):document.createElement(S);if(C.append(I),E.attributes&&this.setAttributes({html:I,element:E,storage:t,intent:s,linkService:i}),((g=E.children)==null?void 0:g.length)>0)d.push([E,-1,I]);else if(E.value){const T=document.createTextNode(E.value);o&&_w.shouldBuildText(S)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const KA="http://www.w3.org/2000/svg";var cA;let Ov=(cA=class{},he(cA,"CSS",96),he(cA,"PDF",72),he(cA,"PDF_TO_CSS_UNITS",cA.CSS/cA.PDF),cA);async function _B(n,e="text"){if(M0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class TB{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=a,i*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let b,C,E,S;d===0?(b=Math.abs(u-e[1])*i+s,C=Math.abs(l-e[0])*i+a,E=(e[3]-e[1])*i,S=(e[2]-e[0])*i):(b=Math.abs(l-e[0])*i+s,C=Math.abs(u-e[1])*i+a,E=(e[2]-e[0])*i,S=(e[3]-e[1])*i),this.transform=[d*i,h*i,g*i,v*i,b-d*i*l-g*i*u,C-h*i*l-v*i*u],this.width=E,this.height=S}get rawDims(){const e=this.viewBox;return Ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new TB({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return Pe.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];Pe.applyTransform(t,this.transform);const i=[e[2],e[3]];return Pe.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return Pe.applyInverseTransform(i,this.transform),i}}let gQ=class extends Ap{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function b1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function mQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function bce(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Cce(n,e="document.pdf"){if(typeof n!="string")return e;if(b1(n))return Je('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(s.test(a))return r(a);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const u of o)if(s.test(u))return r(u);const l=Array.from(i.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return r(u)}if(i.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(l)return r(l[0])}return e}class AG{constructor(){he(this,"started",Object.create(null));he(this,"times",[])}time(e){e in this.started&&Je(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Je(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function M0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Va(n){n.preventDefault()}function Gn(n){n.preventDefault(),n.stopPropagation()}function Bce(n){console.log("Deprecated API usage: "+n)}var aR,Ww;let BR=(aR=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,Ww)||_(this,Ww,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,Ww).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(i,r,s,a,o,l))}},Ww=new WeakMap,F(aR,Ww),aR);function Ece(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new TB({viewBox:s,userUnit:1,scale:e,rotation:t})}function IB(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Je(`Not a valid color format: "${n}"`),[0,0,0])}function xce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,IB(i))}e.remove()}function Fn(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function Ro(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function Jh(n,e,t=!1,i=!0){if(e instanceof TB){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=or.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}let Zh=class ER{constructor(){const{pixelRatio:e}=ER;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let a=1/0,o=1/0,l=1/0;i=ER.capPixels(i,s),i>0&&(a=Math.sqrt(i/(e*t))),r!==-1&&(o=r/e,l=r/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}};const xR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Sce{static get isDarkMode(){var e;return Ze(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let _ce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),Ze(this,"commentForegroundColor",IB(i))}};function Tce(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function lG(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),a=Math.min(t,i,r),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((i-r)/l+(i<r?6:0))*60;break;case i:e[0]=((r-t)/l+2)*60;break;case r:e[0]=((t-i)/l+4)*60;break}}e[2]=o}function SR(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,a=s*(1-Math.abs(t/60%2-1)),o=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function uG(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function cG(n,e,t){SR(n,t),t.map(uG);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];SR(e,t),t.map(uG);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const dG=new Map;function Ice(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=dG.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),a=r.subarray(3,6);lG(n,a);const o=r.subarray(6,9);lG(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),cG(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===cG(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return SR(a,s),i=Pe.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),dG.set(t,i),i}function T$({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}r.append(s)}else _$.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function I$(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case d0.moveTo:e.moveTo(n[t++],n[t++]);break;case d0.lineTo:e.lineTo(n[t++],n[t++]);break;case d0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case d0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case d0.closePath:e.closePath();break;default:Je(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var oc,Ac,va,ya,Yw,lc,Kg,zg,Xw,GT,F$,rr,U$,M$,dg,P0;const jA=class jA{constructor(e){F(this,rr);F(this,oc,null);F(this,Ac,null);F(this,va);F(this,ya,null);F(this,Yw,null);F(this,lc,null);F(this,Kg,null);F(this,zg,null);_(this,va,e),f(jA,Xw)||_(jA,Xw,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,oc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,va)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Va,{signal:t}),e.addEventListener("pointerdown",U(jA,GT,F$),{signal:t}));const i=_(this,ya,document.createElement("div"));i.className="buttons",e.append(i);const r=f(this,va).toolbarPosition;if(r){const{style:s}=e,a=f(this,va)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,oc)}hide(){var e;f(this,oc).classList.add("hidden"),(e=f(this,Ac))==null||e.hideDropdown()}show(){var e,t;f(this,oc).classList.remove("hidden"),(e=f(this,Yw))==null||e.shown(),(t=f(this,lc))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,va),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",f(jA,Xw)[e]),U(this,rr,dg).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),f(this,ya).append(i)}async addAltText(e){const t=await e.render();U(this,rr,dg).call(this,t),f(this,ya).append(t,f(this,rr,P0)),_(this,Yw,e)}addComment(e,t=null){if(f(this,lc))return;const i=e.renderForToolbar();if(!i)return;U(this,rr,dg).call(this,i);const r=_(this,Kg,f(this,rr,P0));t?(f(this,ya).insertBefore(i,t),f(this,ya).insertBefore(r,t)):f(this,ya).append(i,r),_(this,lc,e),e.toolbar=this}addColorPicker(e){if(f(this,Ac))return;_(this,Ac,e);const t=e.renderButton();U(this,rr,dg).call(this,t),f(this,ya).append(t,f(this,rr,P0))}async addEditSignatureButton(e){const t=_(this,zg,await e.renderEditButton(f(this,va)));U(this,rr,dg).call(this,t),f(this,ya).append(t,f(this,rr,P0))}removeButton(e){var t,i;switch(e){case"comment":(t=f(this,lc))==null||t.removeToolbarCommentButton(),_(this,lc,null),(i=f(this,Kg))==null||i.remove(),_(this,Kg,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=f(this,ya).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){f(this,zg)&&(f(this,zg).title=e)}remove(){var e;f(this,oc).remove(),(e=f(this,Ac))==null||e.destroy(),_(this,Ac,null)}};oc=new WeakMap,Ac=new WeakMap,va=new WeakMap,ya=new WeakMap,Yw=new WeakMap,lc=new WeakMap,Kg=new WeakMap,zg=new WeakMap,Xw=new WeakMap,GT=new WeakSet,F$=function(e){e.stopPropagation()},rr=new WeakSet,U$=function(e){f(this,va)._focusEventsAllowed=!1,Gn(e)},M$=function(e){f(this,va)._focusEventsAllowed=!0,Gn(e)},dg=function(e){const t=f(this,va)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",U(this,rr,U$).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",U(this,rr,M$).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Va,{signal:t}),!0)},P0=function(){const e=document.createElement("div");return e.className="divider",e},F(jA,GT),F(jA,Xw,null);let _R=jA;var Jw,vf,JA,hu,P$,R$,TR;class Fce{constructor(e){F(this,hu);F(this,Jw,null);F(this,vf,null);F(this,JA);_(this,JA,e)}show(e,t,i){const[r,s]=U(this,hu,R$).call(this,t,i),{style:a}=f(this,vf)||_(this,vf,U(this,hu,P$).call(this));e.append(f(this,vf)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,vf).remove()}}Jw=new WeakMap,vf=new WeakMap,JA=new WeakMap,hu=new WeakSet,P$=function(){const e=_(this,vf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,JA)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Va,{signal:t});const i=_(this,Jw,document.createElement("div"));return i.className="buttons",e.append(i),f(this,JA).hasCommentManager()&&U(this,hu,TR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,JA).commentSelection("floating_button")}),U(this,hu,TR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,JA).highlightSelection("floating_button")}),e},R$=function(e,t){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]},TR=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const o=f(this,JA)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Va,{signal:o}),s.addEventListener("click",r,{signal:o})),f(this,Jw).append(s)};function D$(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var yf,wf,qg,bf;const $t=class $t{static initializeAndAddPointerId(e){(f($t,wf)||_($t,wf,new Set)).add(e)}static setPointer(e,t){f($t,yf)||_($t,yf,t),f($t,bf)??_($t,bf,e)}static setTimeStamp(e){_($t,qg,e)}static isSamePointerId(e){return f($t,yf)===e}static isSamePointerIdOrRemove(e){var t;return f($t,yf)===e?!0:((t=f($t,wf))==null||t.delete(e),!1)}static isSamePointerType(e){return f($t,bf)===e}static isInitializedAndDifferentPointerType(e){return f($t,bf)!==null&&!$t.isSamePointerType(e)}static isSameTimeStamp(e){return f($t,qg)===e}static isUsingMultiplePointers(){var e;return((e=f($t,wf))==null?void 0:e.size)>=1}static clearPointerType(){_($t,bf,null)}static clearPointerIds(){_($t,yf,NaN),_($t,wf,null)}static clearTimeStamp(){_($t,qg,NaN)}};yf=new WeakMap,wf=new WeakMap,qg=new WeakMap,bf=new WeakMap,F($t,yf,NaN),F($t,wf,null),F($t,qg,NaN),F($t,bf,null);let dr=$t;var KT;class Uce{constructor(){F(this,KT,0)}get id(){return`${xw}${qn(this,KT)._++}`}}KT=new WeakMap;var $g,Zw,fr,jg,ES;const vO=class vO{constructor(){F(this,jg);F(this,$g,x$());F(this,Zw,0);F(this,fr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ze(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return U(this,jg,ES).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return U(this,jg,ES).call(this,e,e)}async getFromBlob(e,t){const i=await t;return U(this,jg,ES).call(this,e,i)}async getFromId(e){f(this,fr)||_(this,fr,new Map);const t=f(this,fr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,fr)||_(this,fr,new Map);let i=f(this,fr).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${f(this,$g)}_${qn(this,Zw)._++}`,refCounter:1,isSvg:!1},f(this,fr).set(e,i),f(this,fr).set(i.id,i),i}getSvgUrl(e){const t=f(this,fr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;f(this,fr)||_(this,fr,new Map);const t=f(this,fr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,$g)}_`)}};$g=new WeakMap,Zw=new WeakMap,fr=new WeakMap,jg=new WeakSet,ES=async function(e,t){f(this,fr)||_(this,fr,new Map);let i=f(this,fr).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${f(this,$g)}_${qn(this,Zw)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await _B(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=vO._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},a.onload=async()=>{const h=i.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Je(r),i=null}return f(this,fr).set(e,i),i&&f(this,fr).set(i.id,i),i};let IR=vO;var Wn,uc,eb,In;class Mce{constructor(e=128){F(this,Wn,[]);F(this,uc,!1);F(this,eb);F(this,In,-1);_(this,eb,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),f(this,uc))return;const l={cmd:e,undo:t,post:i,type:s};if(f(this,In)===-1){f(this,Wn).length>0&&(f(this,Wn).length=0),_(this,In,0),f(this,Wn).push(l);return}if(a&&f(this,Wn)[f(this,In)].type===s){o&&(l.undo=f(this,Wn)[f(this,In)].undo),f(this,Wn)[f(this,In)]=l;return}const u=f(this,In)+1;u===f(this,eb)?f(this,Wn).splice(0,1):(_(this,In,u),u<f(this,Wn).length&&f(this,Wn).splice(u)),f(this,Wn).push(l)}undo(){if(f(this,In)===-1)return;_(this,uc,!0);const{undo:e,post:t}=f(this,Wn)[f(this,In)];e(),t==null||t(),_(this,uc,!1),_(this,In,f(this,In)-1)}redo(){if(f(this,In)<f(this,Wn).length-1){_(this,In,f(this,In)+1),_(this,uc,!0);const{cmd:e,post:t}=f(this,Wn)[f(this,In)];e(),t==null||t(),_(this,uc,!1)}}hasSomethingToUndo(){return f(this,In)!==-1}hasSomethingToRedo(){return f(this,In)<f(this,Wn).length-1}cleanType(e){if(f(this,In)!==-1){for(let t=f(this,In);t>=0;t--)if(f(this,Wn)[t].type!==e){f(this,Wn).splice(t+1,f(this,In)-t),_(this,In,t);return}f(this,Wn).length=0,_(this,In,-1)}}destroy(){_(this,Wn,null)}}Wn=new WeakMap,uc=new WeakMap,eb=new WeakMap,In=new WeakMap;var zT,L$;class FB{constructor(e){F(this,zT);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=or.platform;for(const[i,r,s={}]of e)for(const a of i){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(U(this,zT,L$).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||Gn(t))}}zT=new WeakSet,L$=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const qT=class qT{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return xce(e),Ze(this,"_colors",e)}convert(e){const t=IB(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return qT._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Pe.makeHexColor(...t):e}};he(qT,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let FR=qT;var Wg,Bs,Yg,Ln,fi,Xg,wa,Jg,ba,hr,cc,dc,Zg,fc,ko,Ca,Cf,tb,nb,em,ib,Oo,hc,tm,pc,Ho,$T,gc,nm,rb,mc,Bf,im,vc,sb,ai,kt,ZA,yc,wc,ab,rm,ob,bc,Vo,el,Ab,lb,Ba,$l,Ee,xS,UR,N$,Q$,R0,k$,O$,H$,MR,V$,G$,K$,z$,_r,zA,q$,$$,PR,j$,D0,RR;let Tw=($l=class{constructor(e,t,i,r,s,a,o,l,u,d,h,g,v,b,C,E){F(this,Ee);F(this,Wg,new AbortController);F(this,Bs,null);F(this,Yg,null);F(this,Ln,new Map);F(this,fi,new Map);F(this,Xg,null);F(this,wa,null);F(this,Jg,null);F(this,ba,new Mce);F(this,hr,null);F(this,cc,null);F(this,dc,null);F(this,Zg,0);F(this,fc,new Set);F(this,ko,null);F(this,Ca,null);F(this,Cf,new Set);he(this,"_editorUndoBar",null);F(this,tb,!1);F(this,nb,!1);F(this,em,!1);F(this,ib,null);F(this,Oo,null);F(this,hc,null);F(this,tm,null);F(this,pc,!1);F(this,Ho,null);F(this,$T,new Uce);F(this,gc,!1);F(this,nm,!1);F(this,rb,!1);F(this,mc,null);F(this,Bf,null);F(this,im,null);F(this,vc,null);F(this,sb,null);F(this,ai,tt.NONE);F(this,kt,new Set);F(this,ZA,null);F(this,yc,null);F(this,wc,null);F(this,ab,null);F(this,rm,null);F(this,ob,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});F(this,bc,[0,0]);F(this,Vo,null);F(this,el,null);F(this,Ab,null);F(this,lb,null);F(this,Ba,null);const S=this._signal=f(this,Wg).signal;_(this,el,e),_(this,Ab,t),_(this,lb,i),_(this,Xg,r),_(this,hr,s),_(this,yc,a),_(this,rm,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:S}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),o._on("setpreference",this.onSetPreference.bind(this),{signal:S}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:S}),window.addEventListener("pointerdown",()=>{_(this,nm,!0)},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{_(this,nm,!1)},{capture:!0,signal:S}),U(this,Ee,k$).call(this),U(this,Ee,z$).call(this),U(this,Ee,MR).call(this),_(this,wa,l.annotationStorage),_(this,ib,l.filterFactory),_(this,wc,u),_(this,tm,d||null),_(this,tb,h),_(this,nb,g),_(this,em,v),_(this,sb,b||null),this.viewParameters={realScale:Ov.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=C||null,this._supportsPinchToZoom=E!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=$l.prototype,t=a=>f(a,el).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new FB([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,el).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,el).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,a,o,l,u;(e=f(this,Ba))==null||e.resolve(),_(this,Ba,null),(t=f(this,Wg))==null||t.abort(),_(this,Wg,null),this._signal=null;for(const d of f(this,fi).values())d.destroy();f(this,fi).clear(),f(this,Ln).clear(),f(this,Cf).clear(),(i=f(this,vc))==null||i.clear(),_(this,Bs,null),f(this,kt).clear(),f(this,ba).destroy(),(r=f(this,Xg))==null||r.destroy(),(s=f(this,hr))==null||s.destroy(),(a=f(this,yc))==null||a.destroy(),(o=f(this,Ho))==null||o.hide(),_(this,Ho,null),(l=f(this,im))==null||l.destroy(),_(this,im,null),_(this,Yg,null),f(this,Oo)&&(clearTimeout(f(this,Oo)),_(this,Oo,null)),f(this,Vo)&&(clearTimeout(f(this,Vo)),_(this,Vo,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,rm,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,sb)}get useNewAltTextFlow(){return f(this,nb)}get useNewAltTextWhenAddingImage(){return f(this,em)}get hcmFilter(){return Ze(this,"hcmFilter",f(this,wc)?f(this,ib).addHCMFilter(f(this,wc).foreground,f(this,wc).background):"none")}get direction(){return Ze(this,"direction",getComputedStyle(f(this,el)).direction)}get _highlightColors(){return Ze(this,"_highlightColors",f(this,tm)?new Map(f(this,tm).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ze(this,"highlightColors",null);const t=new Map,i=!!f(this,wc);for(const[r,s]of e){const a=r.endsWith("_HCM");if(i&&a){t.set(r.replace("_HCM",""),s);continue}!i&&!a&&t.set(r,s)}return Ze(this,"highlightColors",t)}get highlightColorNames(){return Ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,dc,e)}setMainHighlightColorPicker(e){_(this,im,e)}editAltText(e,t=!1){var i;(i=f(this,Xg))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!f(this,hr)}editComment(e,t,i,r){var s;(s=f(this,hr))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=f(this,fi).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,hr))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,hr))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,hr))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=f(this,hr))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=f(this,hr))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,hr))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,fi).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=f(this,yc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,yc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,em,t);break}}onPageChanging({pageNumber:e}){_(this,Zg,e-1)}focusMainContainer(){f(this,el).focus()}findParent(e,t){for(const i of f(this,fi).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return i}return null}disableUserSelect(e=!1){f(this,Ab).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,Cf).add(e)}removeShouldRescale(e){f(this,Cf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Ov.PDF_TO_CSS_UNITS;for(const i of f(this,Cf))i.onScaleChanging();(t=f(this,dc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=i,l=i.toString(),d=U(this,Ee,xS).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();const g=U(this,Ee,UR).call(this,d),v=f(this,ai)===tt.NONE,b=()=>{const C=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(C==null||C.editComment())};if(v){this.switchToMode(tt.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,wa))return null;const t=`${xw}${e}`,i=f(this,wa).getRawValue(t);return i&&f(this,wa).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&f(this,wa)&&!f(this,wa).has(e.id)&&f(this,wa).setValue(e.id,e)}a11yAlert(e,t=null){const i=f(this,lb);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,pc)&&(_(this,pc,!1),U(this,Ee,R0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,kt))if(t.div.contains(e)){_(this,Bf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Bf))return;const[e,t]=f(this,Bf);_(this,Bf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){U(this,Ee,MR).call(this),this.setEditingState(!0)}removeEditListeners(){U(this,Ee,V$).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of f(this,Ca))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of f(this,Ca))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=f(this,Bs))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of f(this,kt)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,Ca))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){Je(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=await r.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)U(this,Ee,PR).call(this,l);U(this,Ee,RR).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Je(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,ai)!==tt.NONE&&!this.isEditorHandlingKeyboard&&$l._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,pc)&&(_(this,pc,!1),U(this,Ee,R0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(U(this,Ee,O$).call(this),U(this,Ee,G$).call(this),U(this,Ee,_r).call(this,{isEditing:f(this,ai)!==tt.NONE,isEmpty:U(this,Ee,D0).call(this),hasSomethingToUndo:f(this,ba).hasSomethingToUndo(),hasSomethingToRedo:f(this,ba).hasSomethingToRedo(),hasSelectedEditor:!1})):(U(this,Ee,H$).call(this),U(this,Ee,K$).call(this),U(this,Ee,_r).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,Ca)){_(this,Ca,e);for(const t of f(this,Ca))U(this,Ee,zA).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,$T).id}get currentLayer(){return f(this,fi).get(f(this,Zg))}getLayer(e){return f(this,fi).get(e)}get currentPageIndex(){return f(this,Zg)}addLayer(e){f(this,fi).set(e.pageIndex,e),f(this,gc)?e.enable():e.disable()}removeLayer(e){f(this,fi).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){var a,o,l,u,d,h;if(f(this,ai)!==e&&!(f(this,Ba)&&(await f(this,Ba).promise,!f(this,Ba)))){if(_(this,Ba,Promise.withResolvers()),(a=f(this,dc))==null||a.commitOrRemove(),f(this,ai)===tt.POPUP&&((o=f(this,hr))==null||o.hideSidebar()),(l=f(this,hr))==null||l.destroyPopup(),_(this,ai,e),e===tt.NONE){this.setEditingState(!1),U(this,Ee,$$).call(this);for(const g of f(this,Ln).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,Ba).resolve();return}for(const g of f(this,Ln).values())g.addStandaloneCommentButton();e===tt.SIGNATURE&&await((d=f(this,yc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await U(this,Ee,q$).call(this),this.unselectAll();for(const g of f(this,fi).values())g.updateMode(e);if(e===tt.POPUP){f(this,Yg)||_(this,Yg,await f(this,rm).getAnnotationsByType(new Set(f(this,Ca).map(b=>b._editorType))));const g=new Set,v=[];for(const b of f(this,Ln).values()){const{annotationElementId:C,hasComment:E,deleted:S}=b;C&&g.add(C),E&&!S&&v.push(b.getData())}for(const b of f(this,Yg)){const{id:C,popupRef:E,contentsObj:S}=b;E&&(S!=null&&S.str)&&!g.has(C)&&!f(this,fc).has(C)&&v.push(b)}(h=f(this,hr))==null||h.showSidebar(v)}if(!t){i&&this.addNewEditorFromKeyboard(),f(this,Ba).resolve();return}for(const g of f(this,Ln).values())g.uid===t?(this.setSelected(g),s?g.editComment():r?g.enterInEditMode():g.focus()):g.unselect();f(this,Ba).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,ai)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,Ca)){switch(e){case Bt.CREATE:this.currentLayer.addNewEditor(t);return;case Bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,ab)||_(this,ab,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of f(this,kt))i.updateParams(e,t);else for(const i of f(this,Ca))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const a of f(this,Ln).values())a.editorType===e&&a.show(t);(((s=f(this,ab))==null?void 0:s.get(Bt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&U(this,Ee,zA).call(this,[[Bt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,rb)!==e){_(this,rb,e);for(const t of f(this,fi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,Ln).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,Ln).get(e)}addEditor(e){f(this,Ln).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(f(this,Oo)&&clearTimeout(f(this,Oo)),_(this,Oo,setTimeout(()=>{this.focusMainContainer(),_(this,Oo,null)},0))),f(this,Ln).delete(e.id),e.annotationElementId&&((t=f(this,vc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,fc).has(e.annotationElementId))&&((i=f(this,wa))==null||i.remove(e.id))}addDeletedAnnotationElement(e){f(this,fc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,fc).has(e)}removeDeletedAnnotationElement(e){f(this,fc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Bs)!==e&&(_(this,Bs,e),e&&U(this,Ee,zA).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Ee,j$)===e&&U(this,Ee,zA).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){U(this,Ee,zA).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,kt).has(e)){f(this,kt).delete(e),e.unselect(),U(this,Ee,_r).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,kt).add(e),e.select(),U(this,Ee,zA).call(this,e.propertiesToUpdate),U(this,Ee,_r).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,dc))==null||t.commitOrRemove();for(const i of f(this,kt))i!==e&&i.unselect();f(this,kt).clear(),f(this,kt).add(e),e.select(),U(this,Ee,zA).call(this,e.propertiesToUpdate),U(this,Ee,_r).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,kt).has(e)}get firstSelectedEditor(){return f(this,kt).values().next().value}unselect(e){e.unselect(),f(this,kt).delete(e),U(this,Ee,_r).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,kt).size!==0}get isEnterHandled(){return f(this,kt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,ba).undo(),U(this,Ee,_r).call(this,{hasSomethingToUndo:f(this,ba).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:U(this,Ee,D0).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,ba).redo(),U(this,Ee,_r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,ba).hasSomethingToRedo(),isEmpty:U(this,Ee,D0).call(this)})}addCommands(e){f(this,ba).add(e),U(this,Ee,_r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:U(this,Ee,D0).call(this)})}cleanUndoStack(e){f(this,ba).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,kt)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},r=()=>{for(const a of t)U(this,Ee,PR).call(this,a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Bs))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Bs)||this.hasSelection}selectAll(){for(const e of f(this,kt))e.commit();U(this,Ee,RR).call(this,f(this,Ln).values())}unselectAll(){var e;if(!(f(this,Bs)&&(f(this,Bs).commitOrRemove(),f(this,ai)!==tt.NONE))&&!((e=f(this,dc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,kt))t.unselect();f(this,kt).clear(),U(this,Ee,_r).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;f(this,bc)[0]+=e,f(this,bc)[1]+=t;const[r,s]=f(this,bc),a=[...f(this,kt)],o=1e3;f(this,Vo)&&clearTimeout(f(this,Vo)),_(this,Vo,setTimeout(()=>{_(this,Vo,null),f(this,bc)[0]=f(this,bc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,Ln).has(l.id)&&(l.translateInPage(r,s),l.translationDone())},undo:()=>{for(const l of a)f(this,Ln).has(l.id)&&(l.translateInPage(-r,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,ko,new Map);for(const e of f(this,kt))f(this,ko).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,ko))return!1;this.disableUserSelect(!1);const e=f(this,ko);_(this,ko,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const i=(r,s,a,o)=>{if(f(this,Ln).has(r.id)){const l=f(this,fi).get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,ko))for(const i of f(this,ko).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,kt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Bs)===e}getActive(){return f(this,Bs)}getMode(){return f(this,ai)}isEditingMode(){return f(this,ai)!==tt.NONE}get imageManager(){return Ze(this,"imageManager",new IR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-r)/a,y:1-(u+h-i)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-i)/s,y:1-(d+g-r)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-r)/a,y:(u-i)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-i)/s,y:(d-r)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:b,height:C}of h.getClientRects())b===0||C===0||l.push(o(g,v,b,C))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,Jg)||_(this,Jg,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,Jg))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=f(this,Jg))==null?void 0:r.get(e.data.id);if(!t)return;const i=f(this,wa).getRawValue(t);i&&(f(this,ai)===tt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=f(this,vc))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),f(this,vc).delete(e))}addMissingCanvas(e,t){(f(this,vc)||_(this,vc,new Map)).set(e,t)}},Wg=new WeakMap,Bs=new WeakMap,Yg=new WeakMap,Ln=new WeakMap,fi=new WeakMap,Xg=new WeakMap,wa=new WeakMap,Jg=new WeakMap,ba=new WeakMap,hr=new WeakMap,cc=new WeakMap,dc=new WeakMap,Zg=new WeakMap,fc=new WeakMap,ko=new WeakMap,Ca=new WeakMap,Cf=new WeakMap,tb=new WeakMap,nb=new WeakMap,em=new WeakMap,ib=new WeakMap,Oo=new WeakMap,hc=new WeakMap,tm=new WeakMap,pc=new WeakMap,Ho=new WeakMap,$T=new WeakMap,gc=new WeakMap,nm=new WeakMap,rb=new WeakMap,mc=new WeakMap,Bf=new WeakMap,im=new WeakMap,vc=new WeakMap,sb=new WeakMap,ai=new WeakMap,kt=new WeakMap,ZA=new WeakMap,yc=new WeakMap,wc=new WeakMap,ab=new WeakMap,rm=new WeakMap,ob=new WeakMap,bc=new WeakMap,Vo=new WeakMap,el=new WeakMap,Ab=new WeakMap,lb=new WeakMap,Ba=new WeakMap,Ee=new WeakSet,xS=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},UR=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of f(this,fi).values())if(i.hasTextLayer(e))return i;return null},N$=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=U(this,Ee,xS).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(f(this,Ho)||_(this,Ho,new Fce(this)),f(this,Ho).show(i,r,this.direction==="ltr"))},Q$=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,ZA)&&((s=f(this,Ho))==null||s.hide(),_(this,ZA,null),U(this,Ee,_r).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,ZA))return;const r=U(this,Ee,xS).call(this,e).closest(".textLayer");if(!r){f(this,ZA)&&((a=f(this,Ho))==null||a.hide(),_(this,ZA,null),U(this,Ee,_r).call(this,{hasSelectedText:!1}));return}if((o=f(this,Ho))==null||o.hide(),_(this,ZA,t),U(this,Ee,_r).call(this,{hasSelectedText:!0}),!(f(this,ai)!==tt.HIGHLIGHT&&f(this,ai)!==tt.NONE)&&(f(this,ai)===tt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,pc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,ai)===tt.HIGHLIGHT?U(this,Ee,UR).call(this,r):null;if(l==null||l.toggleDrawing(),f(this,nm)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&U(this,Ee,R0).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),U(this,Ee,R0).call(this,"main_toolbar")}},R0=function(e=""){f(this,ai)===tt.HIGHLIGHT?this.highlightSelection(e):f(this,tb)&&U(this,Ee,N$).call(this)},k$=function(){document.addEventListener("selectionchange",U(this,Ee,Q$).bind(this),{signal:this._signal})},O$=function(){if(f(this,hc))return;_(this,hc,new AbortController);const e=this.combinedSignal(f(this,hc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},H$=function(){var e;(e=f(this,hc))==null||e.abort(),_(this,hc,null)},MR=function(){if(f(this,mc))return;_(this,mc,new AbortController);const e=this.combinedSignal(f(this,mc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},V$=function(){var e;(e=f(this,mc))==null||e.abort(),_(this,mc,null)},G$=function(){if(f(this,cc))return;_(this,cc,new AbortController);const e=this.combinedSignal(f(this,cc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},K$=function(){var e;(e=f(this,cc))==null||e.abort(),_(this,cc,null)},z$=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},_r=function(e){Object.entries(e).some(([i,r])=>f(this,ob)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,ob),e)}),f(this,ai)===tt.HIGHLIGHT&&e.hasSelectedEditor===!1&&U(this,Ee,zA).call(this,[[Bt.HIGHLIGHT_FREE,!0]]))},zA=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},q$=async function(){if(!f(this,gc)){_(this,gc,!0);const e=[];for(const t of f(this,fi).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,Ln).values())t.enable()}},$$=function(){if(this.unselectAll(),f(this,gc)){_(this,gc,!1);for(const e of f(this,fi).values())e.disable();for(const e of f(this,Ln).values())e.disable()}},PR=function(e){const t=f(this,fi).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},j$=function(){let e=null;for(e of f(this,kt));return e},D0=function(){if(f(this,Ln).size===0)return!0;if(f(this,Ln).size===1)for(const e of f(this,Ln).values())return e.isEmpty();return!1},RR=function(e){for(const t of f(this,kt))t.unselect();f(this,kt).clear();for(const t of e)t.isEmpty()||(f(this,kt).add(t),t.select());U(this,Ee,_r).call(this,{hasSelectedEditor:this.hasSelection})},he($l,"TRANSLATE_SMALL",1),he($l,"TRANSLATE_BIG",10),$l);var Ii,Go,eo,sm,Ko,Es,am,zo,Xr,tl,Ef,qo,Cc,vo,L0,SS;const Tr=class Tr{constructor(e){F(this,vo);F(this,Ii,null);F(this,Go,!1);F(this,eo,null);F(this,sm,null);F(this,Ko,null);F(this,Es,null);F(this,am,!1);F(this,zo,null);F(this,Xr,null);F(this,tl,null);F(this,Ef,null);F(this,qo,!1);_(this,Xr,e),_(this,qo,e._uiManager.useNewAltTextFlow),f(Tr,Cc)||_(Tr,Cc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Tr._l10n??(Tr._l10n=e)}async render(){const e=_(this,eo,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,sm,document.createElement("span"));e.append(t),f(this,qo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(Tr,Cc).missing),t.setAttribute("data-l10n-id",f(Tr,Cc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=f(this,Xr)._uiManager._signal;e.addEventListener("contextmenu",Va,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),f(this,Xr)._uiManager.editAltText(f(this,Xr)),f(this,qo)&&f(this,Xr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,vo,L0)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,am,!0),r(s))},{signal:i}),await U(this,vo,SS).call(this),e}finish(){f(this,eo)&&(f(this,eo).focus({focusVisible:f(this,am)}),_(this,am,!1))}isEmpty(){return f(this,qo)?f(this,Ii)===null:!f(this,Ii)&&!f(this,Go)}hasData(){return f(this,qo)?f(this,Ii)!==null||!!f(this,tl):this.isEmpty()}get guessedText(){return f(this,tl)}async setGuessedText(e){f(this,Ii)===null&&(_(this,tl,e),_(this,Ef,await Tr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),U(this,vo,SS).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,qo)||f(this,Ii)){(t=f(this,zo))==null||t.remove(),_(this,zo,null);return}if(!f(this,zo)){const i=_(this,zo,document.createElement("div"));i.className="noAltTextBadge",f(this,Xr).div.append(i)}f(this,zo).classList.toggle("hidden",!e)}serialize(e){let t=f(this,Ii);return!e&&f(this,tl)===t&&(t=f(this,Ef)),{altText:t,decorative:f(this,Go),guessedText:f(this,tl),textWithDisclaimer:f(this,Ef)}}get data(){return{altText:f(this,Ii),decorative:f(this,Go)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(_(this,tl,i),_(this,Ef,r)),!(f(this,Ii)===e&&f(this,Go)===t)&&(s||(_(this,Ii,e),_(this,Go,t)),U(this,vo,SS).call(this))}toggle(e=!1){f(this,eo)&&(!e&&f(this,Es)&&(clearTimeout(f(this,Es)),_(this,Es,null)),f(this,eo).disabled=!e)}shown(){f(this,Xr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,vo,L0)}})}destroy(){var e,t;(e=f(this,eo))==null||e.remove(),_(this,eo,null),_(this,sm,null),_(this,Ko,null),(t=f(this,zo))==null||t.remove(),_(this,zo,null)}};Ii=new WeakMap,Go=new WeakMap,eo=new WeakMap,sm=new WeakMap,Ko=new WeakMap,Es=new WeakMap,am=new WeakMap,zo=new WeakMap,Xr=new WeakMap,tl=new WeakMap,Ef=new WeakMap,qo=new WeakMap,Cc=new WeakMap,vo=new WeakSet,L0=function(){return f(this,Ii)&&"added"||f(this,Ii)===null&&this.guessedText&&"review"||"missing"},SS=async function(){var r,s,a;const e=f(this,eo);if(!e)return;if(f(this,qo)){if(e.classList.toggle("done",!!f(this,Ii)),e.setAttribute("data-l10n-id",f(Tr,Cc)[f(this,vo,L0)]),(r=f(this,sm))==null||r.setAttribute("data-l10n-id",f(Tr,Cc)[`${f(this,vo,L0)}-label`]),!f(this,Ii)){(s=f(this,Ko))==null||s.remove();return}}else{if(!f(this,Ii)&&!f(this,Go)){e.classList.remove("done"),(a=f(this,Ko))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,Ko);if(!t){_(this,Ko,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,Xr).id}`;const o=100,l=f(this,Xr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Es)),_(this,Es,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,Es,setTimeout(()=>{_(this,Es,null),f(this,Ko).classList.add("show"),f(this,Xr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,Es)&&(clearTimeout(f(this,Es)),_(this,Es,null)),(u=f(this,Ko))==null||u.classList.remove("show")},{signal:l})}f(this,Go)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,Ii)),t.parentNode||e.append(t);const i=f(this,Xr).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},F(Tr,Cc,null),he(Tr,"_l10n",null);let P_=Tr;var $i,Ea,xf,dn,ub,Sf,to,_f,Tf,If,cb,DR;class gx{constructor(e){F(this,cb);F(this,$i,null);F(this,Ea,null);F(this,xf,!1);F(this,dn,null);F(this,ub,null);F(this,Sf,null);F(this,to,null);F(this,_f,null);F(this,Tf,!1);F(this,If,null);_(this,dn,e)}renderForToolbar(){const e=_(this,Ea,document.createElement("button"));return e.className="comment",U(this,cb,DR).call(this,e,!1)}renderForStandalone(){const e=_(this,$i,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,dn).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(f(this,dn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=f(this,dn).commentButtonColor;r&&(i.backgroundColor=r)}return U(this,cb,DR).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,$i)??f(this,Ea))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,$i))return;const e=f(this,dn).commentButtonColor;e&&(f(this,$i).style.backgroundColor=e),f(this,dn)._uiManager.updatePopupColor(f(this,dn))}get commentButtonWidth(){var e;return(((e=f(this,$i))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,dn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,If))return f(this,If);if(!f(this,$i))return null;const{x:e,y:t,height:i}=f(this,$i).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,dn).parent.boundingClientRect;return[(e-r)/a,(t+i-s)/o]}set commentPopupPositionInLayer(e){_(this,If,e)}hasDefaultPopupPosition(){return f(this,If)===null}removeStandaloneCommentButton(){var e;(e=f(this,$i))==null||e.remove(),_(this,$i,null)}removeToolbarCommentButton(){var e;(e=f(this,Ea))==null||e.remove(),_(this,Ea,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,$i)&&(f(this,$i).classList.toggle("selected",e),f(this,$i).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=f(this,dn).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,dn);i=g+i*d,r=v+r*h}const s=f(this,dn).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,dn)._uiManager.editComment(f(this,dn),a+i*l,o+r*u,{...e,parentDimensions:s})}finish(){f(this,Ea)&&(f(this,Ea).focus({focusVisible:f(this,xf)}),_(this,xf,!1))}isDeleted(){return f(this,Tf)||f(this,to)===""}isEmpty(){return f(this,to)===null}hasBeenEdited(){return this.isDeleted()||f(this,to)!==f(this,ub)}serialize(){return this.data}get data(){return{text:f(this,to),richText:f(this,Sf),date:f(this,_f),deleted:this.isDeleted()}}set data(e){if(e!==f(this,to)&&_(this,Sf,null),e===null){_(this,to,""),_(this,Tf,!0);return}_(this,to,e),_(this,_f,new Date),_(this,Tf,!1)}setInitialText(e,t=null){_(this,ub,e),this.data=e,_(this,_f,null),_(this,Sf,t)}shown(){}destroy(){var e,t;(e=f(this,Ea))==null||e.remove(),_(this,Ea,null),(t=f(this,$i))==null||t.remove(),_(this,$i,null),_(this,to,""),_(this,Sf,null),_(this,_f,null),_(this,dn,null),_(this,xf,!1),_(this,Tf,!1)}}$i=new WeakMap,Ea=new WeakMap,xf=new WeakMap,dn=new WeakMap,ub=new WeakMap,Sf=new WeakMap,to=new WeakMap,_f=new WeakMap,Tf=new WeakMap,If=new WeakMap,cb=new WeakSet,DR=function(e,t){if(!f(this,dn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,dn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=f(this,dn)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",Va,{signal:i}),t&&(e.addEventListener("focusin",s=>{f(this,dn)._focusEventsAllowed=!1,Gn(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{f(this,dn)._focusEventsAllowed=!0,Gn(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===f(this,Ea)?this.edit():f(this,dn).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,xf,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{f(this,dn).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{f(this,dn).toggleComment(!1,!1)},{signal:i}),e};var om,Ff,db,fb,hb,pb,gb,nl,Uf,il,Mf,rl,Fd,Y$,X$,J$,Am;let W$=(Am=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){F(this,Fd);F(this,om);F(this,Ff,!1);F(this,db,null);F(this,fb);F(this,hb);F(this,pb);F(this,gb);F(this,nl,null);F(this,Uf);F(this,il,null);F(this,Mf);F(this,rl,null);_(this,om,e),_(this,db,i),_(this,fb,t),_(this,hb,r),_(this,pb,s),_(this,gb,a),_(this,Mf,new AbortController),_(this,Uf,AbortSignal.any([o,f(this,Mf).signal])),e.addEventListener("touchstart",U(this,Fd,Y$).bind(this),{passive:!1,signal:f(this,Uf)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Zh.pixelRatio}destroy(){var e,t;(e=f(this,Mf))==null||e.abort(),_(this,Mf,null),(t=f(this,nl))==null||t.abort(),_(this,nl,null)}},om=new WeakMap,Ff=new WeakMap,db=new WeakMap,fb=new WeakMap,hb=new WeakMap,pb=new WeakMap,gb=new WeakMap,nl=new WeakMap,Uf=new WeakMap,il=new WeakMap,Mf=new WeakMap,rl=new WeakMap,Fd=new WeakSet,Y$=function(e){var r,s,a;if((r=f(this,fb))!=null&&r.call(this))return;if(e.touches.length===1){if(f(this,nl))return;const o=_(this,nl,new AbortController),l=AbortSignal.any([f(this,Uf),o.signal]),u=f(this,om),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,nl))==null||v.abort(),_(this,nl,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(Gn(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,rl)){_(this,rl,new AbortController);const o=AbortSignal.any([f(this,Uf),f(this,rl).signal]),l=f(this,om),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",U(this,Fd,X$).bind(this),u);const d=U(this,Fd,J$).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",Gn,u),l.addEventListener("pointermove",Gn,u),l.addEventListener("pointercancel",Gn,u),l.addEventListener("pointerup",Gn,u),(s=f(this,hb))==null||s.call(this)}if(Gn(e),e.touches.length!==2||(a=f(this,db))!=null&&a.call(this)){_(this,il,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),_(this,il,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},X$=function(e){var R;if(!f(this,il)||e.touches.length!==2)return;Gn(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:a,screenY:o}=i,l=f(this,il),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,b=g-d,C=a-r,E=o-s,S=Math.hypot(C,E)||1,I=Math.hypot(v,b)||1;if(!f(this,Ff)&&Math.abs(I-S)<=Am.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,Ff)){_(this,Ff,!0);return}const T=[(r+a)/2,(s+o)/2];(R=f(this,pb))==null||R.call(this,T,I,S)},J$=function(e){var t;e.touches.length>=2||(f(this,rl)&&(f(this,rl).abort(),_(this,rl,null),(t=f(this,gb))==null||t.call(this)),f(this,il)&&(Gn(e),_(this,il,null),_(this,Ff,!1)))},Am);var Pf,no,xn,tn,sl,lm,Bc,mb,ji,Rf,al,xa,Ec,vb,Df,xs,yb,Lf,ol,$o,um,cm,Sa,Nf,wb,jT,ze,LR,bb,NR,_S,Z$,ej,QR,TS,kR,tj,nj,ij,OR,rj,HR,sj,aj,oj,VR,N0;const et=class et{constructor(e){F(this,ze);F(this,Pf,null);F(this,no,null);F(this,xn,null);F(this,tn,null);F(this,sl,null);F(this,lm,!1);F(this,Bc,null);F(this,mb,"");F(this,ji,null);F(this,Rf,null);F(this,al,null);F(this,xa,null);F(this,Ec,null);F(this,vb,"");F(this,Df,!1);F(this,xs,null);F(this,yb,!1);F(this,Lf,!1);F(this,ol,!1);F(this,$o,null);F(this,um,0);F(this,cm,0);F(this,Sa,null);F(this,Nf,null);he(this,"isSelected",!1);he(this,"_isCopy",!1);he(this,"_editToolbar",null);he(this,"_initialOptions",Object.create(null));he(this,"_initialData",null);he(this,"_isVisible",!0);he(this,"_uiManager",null);he(this,"_focusEventsAllowed",!0);F(this,wb,!1);F(this,jT,et._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=et.prototype._resizeWithKeyboard,t=Tw.TRANSLATE_SMALL,i=Tw.TRANSLATE_BIG;return Ze(this,"_resizerKeyboardManager",new FB([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],et.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Pce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(et._l10n??(et._l10n=e),et._l10nResizer||(et._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),et._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);et._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){an("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,wb)}set _isDraggable(e){var t;_(this,wb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,jT)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(U(this,ze,N0).call(this),(t=f(this,xa))==null||t.remove(),_(this,xa,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,Df)?_(this,Df,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){U(this,ze,LR).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,xs)||_(this,xs,[this.x,this.y,this.width,this.height]),U(this,ze,LR).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,xs)||_(this,xs,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=i;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,xs)&&(f(this,xs)[0]!==this.x||f(this,xs)[1]!==this.y)}get _hasBeenResized(){return!!f(this,xs)&&(f(this,xs)[2]!==this.width||f(this,xs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=et,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=i,l*=r,s*=i,a*=r,this._mustFixPosition)switch(e){case 0:s=Dr(s,0,i-o),a=Dr(a,0,r-l);break;case 90:s=Dr(s,0,i-l),a=Dr(a,o,r);break;case 180:s=Dr(s,o,i),a=Dr(a,l,r);break;case 270:s=Dr(s,l,i),a=Dr(a,0,r-o);break}this.x=s/=i,this.y=a/=r;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return U(i=et,bb,NR).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return U(i=et,bb,NR).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,xn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,Lf))return this._editToolbar;this._editToolbar=new _R(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,xn))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,xn)||(P_.initialize(et._l10n),_(this,xn,new P_(this)),f(this,Pf)&&(f(this,xn).data=f(this,Pf),_(this,Pf,null))),f(this,xn)}get altTextData(){var e;return(e=f(this,xn))==null?void 0:e.data}set altTextData(e){f(this,xn)&&(f(this,xn).data=e)}get guessedAltText(){var e;return(e=f(this,xn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,xn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,xn))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,xn)&&!f(this,xn).isEmpty()}hasAltTextData(){var e;return((e=f(this,xn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,tn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,tn)||_(this,tn,new gx(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,sl)){this._uiManager.isEditingMode()&&f(this,sl).classList.remove("hidden");return}this.hasComment&&(_(this,sl,f(this,tn).renderForStandalone()),this.div.append(f(this,sl)))}}removeStandaloneCommentButton(){f(this,tn).removeStandaloneCommentButton(),_(this,sl,null)}hideStandaloneCommentButton(){var e;(e=f(this,sl))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=f(this,tn);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,tn)||_(this,tn,new gx(this)),f(this,tn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(f(this,tn)||_(this,tn,new gx(this)),f(this,tn).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=f(this,tn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,tn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,tn)&&!f(this,tn).isEmpty()&&!f(this,tn).isDeleted()}async editComment(e){f(this,tn)||_(this,tn,new gx(this)),f(this,tn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,tn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=r-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,tn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,lm)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),U(this,ze,HR).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),D$(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,Nf)||_(this,Nf,new W$({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:U(this,ze,tj).bind(this),onPinching:U(this,ze,nj).bind(this),onPinchEnd:U(this,ze,ij).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=or.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,Df,!0),this._isDraggable){U(this,ze,rj).call(this,e);return}U(this,ze,OR).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,$o)&&clearTimeout(f(this,$o)),_(this,$o,setTimeout(()=>{var e;_(this,$o,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/r,d=t/r,h=this.x*s,g=this.y*a,v=this.width*s,b=this.height*a;switch(i){case 0:return[h+u+o,a-g-d-b+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+b+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+b+l];case 270:return[h-d-b+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,a]=e,o=s-i,l=a-r;switch(this.rotation){case 0:return[i,t-a,o,l];case 90:return[i,t-r,l,o];case 180:return[s,t-r,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&et._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,tn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:i||d,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,Lf,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,Lf,!1),!0):!1}isInEditMode(){return f(this,Lf)}shouldGetKeyboardEvents(){return f(this,ol)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&r>0&&e<s&&i>0}rebuild(){U(this,ze,HR).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,_(r,Pf,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,a]=r.pageDimensions,[o,l,u,d]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=l/a,r.width=u/s,r.height=d/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,i;if((e=f(this,Ec))==null||e.abort(),_(this,Ec,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,$o)&&(clearTimeout(f(this,$o)),_(this,$o,null)),U(this,ze,N0).call(this),this.removeEditToolbar(),f(this,Sa)){for(const r of f(this,Sa).values())clearTimeout(r);_(this,Sa,null)}this.parent=null,(t=f(this,Nf))==null||t.destroy(),_(this,Nf,null),(i=f(this,xa))==null||i.remove(),_(this,xa,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(U(this,ze,Z$).call(this),f(this,ji).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,a]=this.getPDFRect();return[et._round(i+(s-i)*e),et._round(r+(a-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,tn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,tn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,tn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,tn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,tn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,al,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,ji).children;if(!f(this,no)){_(this,no,Array.from(t));const a=U(this,ze,sj).bind(this),o=U(this,ze,aj).bind(this),l=this._uiManager._signal;for(const u of f(this,no)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",U(this,ze,oj).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",et._l10nResizer[d])}}const i=f(this,no)[0];let r=0;for(const a of t){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,no).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)f(this,ji).append(f(this,ji).firstElementChild);else if(s>r)for(let o=0;o<s-r;o++)f(this,ji).firstElementChild.before(f(this,ji).lastElementChild);let a=0;for(const o of t){const u=f(this,no)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",et._l10nResizer[u])}}U(this,ze,VR).call(this,0),_(this,ol,!0),f(this,ji).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,ol)&&U(this,ze,kR).call(this,f(this,vb),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){U(this,ze,N0).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=f(this,xn))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=f(this,ji))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=f(this,xn))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,yb)}set isEditing(e){_(this,yb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,Sa)||_(this,Sa,new Map);const{action:i}=e;let r=f(this,Sa).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),f(this,Sa).delete(i),f(this,Sa).size===0&&_(this,Sa,null)},et._telemetryTimeout),f(this,Sa).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,lm,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,lm,!0)}updateFakeAnnotationElement(e){if(!f(this,xa)&&!this.deleted){_(this,xa,e.addFakeAnnotation(this));return}if(this.deleted){f(this,xa).remove(),_(this,xa,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,xa).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Pf=new WeakMap,no=new WeakMap,xn=new WeakMap,tn=new WeakMap,sl=new WeakMap,lm=new WeakMap,Bc=new WeakMap,mb=new WeakMap,ji=new WeakMap,Rf=new WeakMap,al=new WeakMap,xa=new WeakMap,Ec=new WeakMap,vb=new WeakMap,Df=new WeakMap,xs=new WeakMap,yb=new WeakMap,Lf=new WeakMap,ol=new WeakMap,$o=new WeakMap,um=new WeakMap,cm=new WeakMap,Sa=new WeakMap,Nf=new WeakMap,wb=new WeakMap,jT=new WeakMap,ze=new WeakSet,LR=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},bb=new WeakSet,NR=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},_S=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},Z$=function(){if(f(this,ji))return;_(this,ji,document.createElement("div")),f(this,ji).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");f(this,ji).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",U(this,ze,ej).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Va,{signal:t}),r.tabIndex=-1}this.div.prepend(f(this,ji))},ej=function(e,t){var d;t.preventDefault();const{isMac:i}=or.platform;if(t.button!==0||t.ctrlKey&&i)return;(d=f(this,xn))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,_(this,Rf,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",U(this,ze,kR).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Gn,{passive:!1,signal:a}),window.addEventListener("contextmenu",Va,{signal:a}),_(this,al,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,xn))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,U(this,ze,TS).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},QR=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},TS=function(){if(!f(this,al))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=f(this,al);_(this,al,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===i&&l===r||this.addCommands({cmd:U(this,ze,QR).bind(this,s,a,o,l),undo:U(this,ze,QR).bind(this,e,t,i,r),mustExec:!0})},kR=function(e,t){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=et.MIN_SIZE/i,d=et.MIN_SIZE/r,h=U(this,ze,_S).call(this,this.rotation),g=(V,$)=>[h[0]*V+h[2]*$,h[1]*V+h[3]*$],v=U(this,ze,_S).call(this,360-this.rotation),b=(V,$)=>[v[0]*V+v[2]*$,v[1]*V+v[3]*$];let C,E,S=!1,I=!1;switch(e){case"topLeft":S=!0,C=(V,$)=>[0,0],E=(V,$)=>[V,$];break;case"topMiddle":C=(V,$)=>[V/2,0],E=(V,$)=>[V/2,$];break;case"topRight":S=!0,C=(V,$)=>[V,0],E=(V,$)=>[0,$];break;case"middleRight":I=!0,C=(V,$)=>[V,$/2],E=(V,$)=>[0,$/2];break;case"bottomRight":S=!0,C=(V,$)=>[V,$],E=(V,$)=>[0,0];break;case"bottomMiddle":C=(V,$)=>[V/2,$],E=(V,$)=>[V/2,0];break;case"bottomLeft":S=!0,C=(V,$)=>[0,$],E=(V,$)=>[V,0];break;case"middleLeft":I=!0,C=(V,$)=>[0,$/2],E=(V,$)=>[V,$/2];break}const T=C(o,l),R=E(o,l);let M=g(...R);const D=et._round(s+M[0]),N=et._round(a+M[1]);let H=1,k=1,K,G;if(t.fromKeyboard)({deltaX:K,deltaY:G}=t);else{const{screenX:V,screenY:$}=t,[ie,ue]=f(this,Rf);[K,G]=this.screenToPageTranslation(V-ie,$-ue),f(this,Rf)[0]=V,f(this,Rf)[1]=$}if([K,G]=b(K/i,G/r),S){const V=Math.hypot(o,l);H=k=Math.max(Math.min(Math.hypot(R[0]-T[0]-K,R[1]-T[1]-G)/V,1/o,1/l),u/o,d/l)}else I?H=Dr(Math.abs(R[0]-T[0]-K),u,1)/o:k=Dr(Math.abs(R[1]-T[1]-G),d,1)/l;const z=et._round(o*H),J=et._round(l*k);M=g(...E(z,J));const ne=D-M[0],pe=N-M[1];f(this,xs)||_(this,xs,[this.x,this.y,this.width,this.height]),this.width=z,this.height=J,this.x=ne,this.y=pe,this.setDims(),this.fixAndSetPosition(),this._onResizing()},tj=function(){var e;_(this,al,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,xn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},nj=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const a=U(this,ze,_S).call(this,this.rotation),o=(D,N)=>[a[0]*D+a[2]*N,a[1]*D+a[3]*N],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,b=et.MIN_SIZE/l,C=et.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),b/g,C/v);const E=et._round(g*s),S=et._round(v*s);if(E===g&&S===v)return;f(this,xs)||_(this,xs,[d,h,g,v]);const I=o(g/2,v/2),T=et._round(d+I[0]),R=et._round(h+I[1]),M=o(E/2,S/2);this.x=T-M[0],this.y=R-M[1],this.width=E,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()},ij=function(){var e;(e=f(this,xn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),U(this,ze,TS).call(this)},OR=function(e){const{isMac:t}=or.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},rj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=u=>{r.abort(),_(this,Bc,null),_(this,Df,!1),this._uiManager.endDragSession()||U(this,ze,OR).call(this,u),i&&this._onStopDragging()};t&&(_(this,um,e.clientX),_(this,cm,e.clientY),_(this,Bc,e.pointerId),_(this,mb,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,Bc)){Gn(u);return}const[v,b]=this.screenToPageTranslation(d-f(this,um),h-f(this,cm));_(this,um,d),_(this,cm,h),this._uiManager.dragSelectedEditors(v,b)},a),window.addEventListener("touchmove",Gn,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,mb)&&(f(this,Nf)||u.isPrimary)&&o(u),Gn(u)},a));const l=u=>{if(!f(this,Bc)||f(this,Bc)===u.pointerId){o(u);return}Gn(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},HR=function(){if(f(this,Ec)||!this.div)return;_(this,Ec,new AbortController);const e=this._uiManager.combinedSignal(f(this,Ec));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},sj=function(e){et._resizerKeyboardManager.exec(this,e)},aj=function(e){var t;f(this,ol)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,ji)&&U(this,ze,N0).call(this)},oj=function(e){_(this,vb,f(this,ol)?e:"")},VR=function(e){if(f(this,no))for(const t of f(this,no))t.tabIndex=e},N0=function(){_(this,ol,!1),U(this,ze,VR).call(this,-1),U(this,ze,TS).call(this)},F(et,bb),he(et,"_l10n",null),he(et,"_l10nResizer",null),he(et,"_borderLineWidth",-1),he(et,"_colorManager",new FR),he(et,"_zIndex",1),he(et,"_telemetryTimeout",1e3);let pn=et;class Pce extends pn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const fG=3285377520,da=4294901760,Do=65535;class Aj{constructor(e){this.h1=e?e&4294967295:fG,this.h2=e?e&4294967295:fG}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let C=0,E=e.length;C<E;C++){const S=e.charCodeAt(C);S<=255?t[i++]=S:(t[i++]=S>>>8,t[i++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&Do,b=g&Do;for(let C=0;C<r;C++)C&1?(o=a[C],o=o*h&da|o*v&Do,o=o<<15|o>>>17,o=o*g&da|o*b&Do,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[C],l=l*h&da|l*v&Do,l=l<<15|l>>>17,l=l*g&da|l*b&Do,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*h&da|o*v&Do,o=o<<15|o>>>17,o=o*g&da|o*b&Do,r&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&da|e*36045&Do,t=t*4283543511&da|((t<<16|e>>>16)*2950163797&da)>>>16,e^=t>>>1,e=e*444984403&da|e*60499&Do,t=t*3301882366&da|((t<<16|e>>>16)*3120437893&da)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const GR=Object.freeze({map:null,hash:"",transfer:void 0});var Qf,kf,Al,Wi,WT,lj;class vQ{constructor(){F(this,WT);F(this,Qf,!1);F(this,kf,null);F(this,Al,null);F(this,Wi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=f(this,Wi).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return f(this,Wi).get(e)}remove(e){const t=f(this,Wi).get(e);if(t!==void 0&&(t instanceof pn&&f(this,Al).delete(t.annotationElementId),f(this,Wi).delete(e),f(this,Wi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of f(this,Wi).values())if(i instanceof pn)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=f(this,Wi).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,f(this,Wi).set(e,t);r&&U(this,WT,lj).call(this),t instanceof pn&&((f(this,Al)||_(this,Al,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,Wi).has(e)}get size(){return f(this,Wi).size}resetModified(){f(this,Qf)&&(_(this,Qf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new uj(this)}get serializable(){if(f(this,Wi).size===0)return GR;const e=new Map,t=new Aj,i=[],r=Object.create(null);let s=!1;for(const[a,o]of f(this,Wi)){const l=o instanceof pn?o.serialize(!1,r):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:GR}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of f(this,Wi).values()){if(!(s instanceof pn)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,kf,null)}updateEditor(e,t){var r;const i=(r=f(this,Al))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,Al))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,kf))return f(this,kf);const e=[];if(f(this,Al))for(const t of f(this,Al).values())t.serialize()&&e.push(t.annotationElementId);return _(this,kf,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,Wi).entries()}}Qf=new WeakMap,kf=new WeakMap,Al=new WeakMap,Wi=new WeakMap,WT=new WeakSet,lj=function(){f(this,Qf)||(_(this,Qf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Cb;class uj extends vQ{constructor(t){super();F(this,Cb);const{map:i,hash:r,transfer:s}=t.serializable,a=structuredClone(i,s?{transfer:s}:null);_(this,Cb,{map:a,hash:r,transfer:s})}get print(){an("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,Cb)}get modifiedIds(){return Ze(this,"modifiedIds",{ids:new Set,hash:""})}}Cb=new WeakMap;var dm;class Rce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){F(this,dm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,dm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||f(this,dm).has(e.loadedName))){if(Et(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=e,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,dm).add(r),i==null||i(e)}catch{Je(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}an("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Je(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ze(this,"isSyncFontLoadingSupported",Rr||or.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Et(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(R,M){return R.charCodeAt(M)<<24|R.charCodeAt(M+1)<<16|R.charCodeAt(M+2)<<8|R.charCodeAt(M+3)&255}function r(R,M,D,N){const H=R.substring(0,M),k=R.substring(M+D);return H+N+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(R,M){if(++u>30){Je("Load test font never loaded."),M();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(d.bind(null,R,M))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,h.length,h);const b=16,C=1482184792;let E=i(g,b);for(s=0,a=h.length-3;s<a;s+=4)E=E-C+i(h,s)|0;s<h.length&&(E=E-C+i(h+"XXX",s)|0),g=r(g,b,4,hce(E));const S=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${S}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,h]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=R,T.append(M)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}dm=new WeakMap;var jt;class Dce{constructor(e,t=null,i,r){F(this,jt);this.compiledGlyphs=Object.create(null),_(this,jt,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${S$(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(a){Je(`getPathGenerator - ignoring character: "${a}".`)}const s=I$(r);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return f(this,jt).black}get bold(){return f(this,jt).bold}get disableFontFace(){return f(this,jt).disableFontFace??!1}set disableFontFace(e){Ze(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,jt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,jt).isInvalidPDFjsFont}get isType3Font(){return f(this,jt).isType3Font}get italic(){return f(this,jt).italic}get missingFile(){return f(this,jt).missingFile}get remeasure(){return f(this,jt).remeasure}get vertical(){return f(this,jt).vertical}get ascent(){return f(this,jt).ascent}get defaultWidth(){return f(this,jt).defaultWidth}get descent(){return f(this,jt).descent}get bbox(){return f(this,jt).bbox}set bbox(e){Ze(this,"bbox",e)}get fontMatrix(){return f(this,jt).fontMatrix}get fallbackName(){return f(this,jt).fallbackName}get loadedName(){return f(this,jt).loadedName}get mimetype(){return f(this,jt).mimetype}get name(){return f(this,jt).name}get data(){return f(this,jt).data}clearData(){f(this,jt).clearData()}get cssFontInfo(){return f(this,jt).cssFontInfo}get systemFontInfo(){return f(this,jt).systemFontInfo}get defaultVMetrics(){return f(this,jt).defaultVMetrics}}jt=new WeakMap;var fm,hm,Bb,pm,IS;const Ug=class Ug{constructor(e){F(this,pm);F(this,fm);F(this,hm);F(this,Bb);_(this,fm,e),_(this,hm,new DataView(f(this,fm))),_(this,Bb,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const u of Ug.strings){const d=t.encode(e[u]);i[u]=d,r+=4+d.length}const s=new ArrayBuffer(r),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of Ug.strings){const d=i[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Et(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return U(this,pm,IS).call(this,0)}get fontWeight(){return U(this,pm,IS).call(this,1)}get italicAngle(){return U(this,pm,IS).call(this,2)}};fm=new WeakMap,hm=new WeakMap,Bb=new WeakMap,pm=new WeakSet,IS=function(e){Et(e<Ug.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=f(this,hm).getUint32(t)+4;const i=f(this,hm).getUint32(t);return f(this,Bb).decode(new Uint8Array(f(this,fm),t+4,i))},he(Ug,"strings",["fontFamily","fontWeight","italicAngle"]);let R_=Ug;var xc,jo,Of,Hf,Q0;const Mg=class Mg{constructor(e){F(this,Hf);F(this,xc);F(this,jo);F(this,Of);_(this,xc,e),_(this,jo,new DataView(f(this,xc))),_(this,Of,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const g of Mg.strings){const v=t.encode(e[g]);i[g]=v,r+=4+v.length}r+=4;let s,a,o=1+r;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,r=0;for(const g of Mg.strings){const v=i[g],b=v.length;r+=4+b,d.setUint32(h,b),u.set(v,h+4),h+=4+b}return d.setUint32(h-r-4,r),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),Et(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,jo).getUint8(0)!==0}get css(){return U(this,Hf,Q0).call(this,0)}get loadedName(){return U(this,Hf,Q0).call(this,1)}get baseFontName(){return U(this,Hf,Q0).call(this,2)}get src(){return U(this,Hf,Q0).call(this,3)}get style(){let e=1;e+=4+f(this,jo).getUint32(e);const t=f(this,jo).getUint32(e),i=f(this,Of).decode(new Uint8Array(f(this,xc),e+4,t));e+=4+t;const r=f(this,jo).getUint32(e),s=f(this,Of).decode(new Uint8Array(f(this,xc),e+4,r));return{style:i,weight:s}}};xc=new WeakMap,jo=new WeakMap,Of=new WeakMap,Hf=new WeakSet,Q0=function(e){Et(e<Mg.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=f(this,jo).getUint32(t)+4;const i=f(this,jo).getUint32(t);return f(this,Of).decode(new Uint8Array(f(this,xc),t+4,i))},he(Mg,"strings",["css","loadedName","baseFontName","src"]);let D_=Mg;var gm,mm,vm,ym,Ss,Wo,Eb,Wt,Vn,Ja,FS,k0;const it=class it{constructor({data:e,extra:t}){F(this,Vn);F(this,Wo);F(this,Eb);F(this,Wt);_(this,Wo,e),_(this,Eb,new TextDecoder),_(this,Wt,new DataView(f(this,Wo))),t&&Object.assign(this,t)}get black(){return U(this,Vn,Ja).call(this,0)}get bold(){return U(this,Vn,Ja).call(this,1)}get disableFontFace(){return U(this,Vn,Ja).call(this,2)}get fontExtraProperties(){return U(this,Vn,Ja).call(this,3)}get isInvalidPDFjsFont(){return U(this,Vn,Ja).call(this,4)}get isType3Font(){return U(this,Vn,Ja).call(this,5)}get italic(){return U(this,Vn,Ja).call(this,6)}get missingFile(){return U(this,Vn,Ja).call(this,7)}get remeasure(){return U(this,Vn,Ja).call(this,8)}get vertical(){return U(this,Vn,Ja).call(this,9)}get ascent(){return U(this,Vn,FS).call(this,0)}get defaultWidth(){return U(this,Vn,FS).call(this,1)}get descent(){return U(this,Vn,FS).call(this,2)}get bbox(){let e=f(it,mm);if(f(this,Wt).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(f(this,Wt).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=f(it,vm);if(f(this,Wt).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(f(this,Wt).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=f(it,ym);if(f(this,Wt).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(f(this,Wt).getInt16(e,!0)),e+=2;return i}get fallbackName(){return U(this,Vn,k0).call(this,0)}get loadedName(){return U(this,Vn,k0).call(this,1)}get mimetype(){return U(this,Vn,k0).call(this,2)}get name(){return U(this,Vn,k0).call(this,3)}get data(){let e=f(it,Ss);const t=f(this,Wt).getUint32(e);e+=4+t;const i=f(this,Wt).getUint32(e);e+=4+i;const r=f(this,Wt).getUint32(e);e+=4+r;const s=f(this,Wt).getUint32(e);if(s!==0)return new Uint8Array(f(this,Wo),e+4,s)}clearData(){let e=f(it,Ss);const t=f(this,Wt).getUint32(e);e+=4+t;const i=f(this,Wt).getUint32(e);e+=4+i;const r=f(this,Wt).getUint32(e);e+=4+r;const s=f(this,Wt).getUint32(e);new Uint8Array(f(this,Wo),e+4,s).fill(0),f(this,Wt).setUint32(e,0)}get cssFontInfo(){let e=f(it,Ss);const t=f(this,Wt).getUint32(e);e+=4+t;const i=f(this,Wt).getUint32(e);e+=4+i;const r=f(this,Wt).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(f(this,Wo),e+4,r)),new R_(s.buffer)}get systemFontInfo(){let e=f(it,Ss);const t=f(this,Wt).getUint32(e);e+=4+t;const i=f(this,Wt).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(f(this,Wo),e+4,i)),new D_(r.buffer)}static write(e){const t=e.systemFontInfo?D_.write(e.systemFontInfo):null,i=e.cssFontInfo?R_.write(e.cssFontInfo):null,r=new TextEncoder,s={};let a=0;for(const C of it.strings)s[C]=r.encode(e[C]),a+=4+s[C].length;const o=f(it,Ss)+4+a+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=it.bools.length;let v=0,b=0;for(let C=0;C<g;C++){const E=e[it.bools[C]];v|=(E===void 0?0:E?2:1)<<b,b+=2,(b===8||C===g-1)&&(d.setUint8(h++,v),v=0,b=0)}Et(h===f(it,gm),"FontInfo.write: Boolean properties offset mismatch");for(const C of it.numbers)d.setFloat64(h,e[C]),h+=8;if(Et(h===f(it,mm),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const C of e.bbox)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Et(h===f(it,vm),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const C of e.fontMatrix)d.setFloat64(h,C,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Et(h===f(it,ym),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const C of e.defaultVMetrics)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=6;Et(h===f(it,Ss),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(it,Ss),0),h+=4;for(const C of it.strings){const E=s[C],S=E.length;d.setUint32(h,S),u.set(E,h+4),h+=4+S}if(d.setUint32(f(it,Ss),h-f(it,Ss)-4),!t)d.setUint32(h,0),h+=4;else{const C=t.byteLength;d.setUint32(h,C),Et(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+C}if(!i)d.setUint32(h,0),h+=4;else{const C=i.byteLength;d.setUint32(h,C),Et(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(i),h+4),h+=4+C}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Et(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};gm=new WeakMap,mm=new WeakMap,vm=new WeakMap,ym=new WeakMap,Ss=new WeakMap,Wo=new WeakMap,Eb=new WeakMap,Wt=new WeakMap,Vn=new WeakSet,Ja=function(e){Et(e<it.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=f(this,Wt).getUint8(t)>>i&3;return r===0?void 0:r===2},FS=function(e){return Et(e<it.numbers.length,"Invalid number index"),f(this,Wt).getFloat64(f(it,gm)+e*8)},k0=function(e){Et(e<it.strings.length,"Invalid string index");let t=f(it,Ss)+4;for(let s=0;s<e;s++)t+=f(this,Wt).getUint32(t)+4;const i=f(this,Wt).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(f(this,Wo),t+4,i)),f(this,Eb).decode(r)},he(it,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),he(it,"numbers",["ascent","defaultWidth","descent"]),he(it,"strings",["fallbackName","loadedName","mimetype","name"]),F(it,gm,Math.ceil(it.bools.length*2/8)),F(it,mm,f(it,gm)+it.numbers.length*8),F(it,vm,f(it,mm)+1+8),F(it,ym,f(it,vm)+1+48),F(it,Ss,f(it,ym)+1+6);let KR=it;var xb,Sb,_b,Tb,Ib,Fb,Ub,Mb;const cn=class cn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],a=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],r=e[2],s=e[3],o=e[4]||[],i=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(r.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let b=0;for(const M of o)b+=1,b=Math.ceil(b/4)*4,b+=4+M.coords.length*4,b+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(b+=4);const C=20+d*8+h*3+g*8+(i?16:0)+(u?3:0)+b,E=new ArrayBuffer(C),S=new DataView(E),I=new Uint8Array(E);S.setUint8(f(cn,xb),t),S.setUint8(f(cn,Sb),i?1:0),S.setUint8(f(cn,_b),u?1:0),S.setUint8(f(cn,Tb),l),S.setUint32(f(cn,Ib),d,!0),S.setUint32(f(cn,Fb),h,!0),S.setUint32(f(cn,Ub),g,!0),S.setUint32(f(cn,Mb),v,!0);let T=20;new Float32Array(E,T,d*2).set(r),T+=d*8,I.set(s,T),T+=h*3;for(const[M,D]of a)S.setFloat32(T,M,!0),T+=4,S.setUint32(T,parseInt(D.slice(1),16),!0),T+=4;if(i)for(const M of i)S.setFloat32(T,M,!0),T+=4;u&&(I.set(u,T),T+=3);for(let M=0;M<o.length;M++){const D=o[M];S.setUint8(T,D.type),T+=1,T=Math.ceil(T/4)*4,S.setUint32(T,D.coords.length,!0),T+=4,new Int32Array(E,T,D.coords.length).set(D.coords),T+=D.coords.length*4,S.setUint32(T,D.colors.length,!0),T+=4,new Int32Array(E,T,D.colors.length).set(D.colors),T+=D.colors.length*4,D.verticesPerRow!==void 0&&(S.setUint32(T,D.verticesPerRow,!0),T+=4)}return E}getIR(){const e=this.view,t=this.data[f(cn,xb)],i=!!this.data[f(cn,Sb)],r=!!this.data[f(cn,_b)],s=e.getUint32(f(cn,Ib),!0),a=e.getUint32(f(cn,Fb),!0),o=e.getUint32(f(cn,Ub),!0),l=e.getUint32(f(cn,Mb),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let E=0;E<o;++E){const S=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([S,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(i){v=[];for(let E=0;E<4;++E)v.push(e.getFloat32(u,!0)),u+=4}let b=null;r&&(b=new Uint8Array(this.buffer,u,3),u+=3);const C=[];for(let E=0;E<l;++E){const S=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const R=e.getUint32(u,!0);u+=4;const M=new Int32Array(this.buffer,u,R);u+=R*4;const D={type:S,coords:T,colors:M};S===wR.LATTICE&&(D.verticesPerRow=e.getUint32(u,!0),u+=4),C.push(D)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const E=this.data[f(cn,Tb)];let S=null;if(d.length>0){let I=d[0],T=d[0],R=d[1],M=d[1];for(let D=0;D<d.length;D+=2){const N=d[D],H=d[D+1];I=I>N?N:I,R=R>H?H:R,T=T<N?N:T,M=M<H?H:M}S=[I,R,T,M]}return["Mesh",E,d,h,C,S,v,b]}throw new Error(`Unsupported pattern kind: ${t}`)}};xb=new WeakMap,Sb=new WeakMap,_b=new WeakMap,Tb=new WeakMap,Ib=new WeakMap,Fb=new WeakMap,Ub=new WeakMap,Mb=new WeakMap,F(cn,xb,0),F(cn,Sb,1),F(cn,_b,2),F(cn,Tb,3),F(cn,Ib,4),F(cn,Fb,8),F(cn,Ub,12),F(cn,Mb,16);let zR=cn;function Lce(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Rr)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Nce(n){if(Rr&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return SB(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function mx(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const qR=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Qce=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",kce=yce.bind(null,qR,Qce);var ll,YT;class Oce{constructor(){F(this,ll,new Map);F(this,YT,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};f(this,YT).then(()=>{for(const[r]of f(this,ll))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){Je("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,ll).set(t,r)}removeEventListener(e,t){const i=f(this,ll).get(t);i==null||i(),f(this,ll).delete(t)}terminate(){for(const[,e]of f(this,ll))e==null||e();f(this,ll).clear()}}ll=new WeakMap,YT=new WeakMap;const vx={DATA:1,ERROR:2},ri={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function hG(){}function Wr(n){if(n instanceof Ed||n instanceof bR||n instanceof aG||n instanceof M_||n instanceof VU)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||an('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ed(n.message);case"InvalidPDFException":return new bR(n.message);case"PasswordException":return new aG(n.message,n.code);case"ResponseException":return new M_(n.message,n.status,n.missing);case"UnknownErrorException":return new VU(n.message,n.details)}return new VU(n.message,n.toString())}var wm,Oa,cj,dj,fj,US;class O0{constructor(e,t,i){F(this,Oa);F(this,wm,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",U(this,Oa,cj).bind(this),{signal:f(this,wm).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:ri.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Et(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:ri.CANCEL,streamId:s,reason:Wr(u)}),d.promise}},i)}destroy(){var e;(e=f(this,wm))==null||e.abort(),_(this,wm,null)}}wm=new WeakMap,Oa=new WeakSet,cj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){U(this,Oa,fj).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===vx.DATA)r.resolve(e.data);else if(e.callback===vx.ERROR)r.reject(Wr(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:vx.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:vx.ERROR,callbackId:e.callbackId,reason:Wr(a)})});return}if(e.streamId){U(this,Oa,dj).call(this,e);return}t(e.data)},dj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:ri.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ri.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Et(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ri.ERROR,streamId:t,reason:Wr(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ri.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:ri.START_COMPLETE,streamId:t,reason:Wr(u)})})},fj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case ri.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Wr(e.reason));break;case ri.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Wr(e.reason));break;case ri.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:ri.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||hG).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ri.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:ri.PULL_COMPLETE,streamId:t,reason:Wr(u)})});break;case ri.ENQUEUE:if(Et(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case ri.CLOSE:if(Et(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),U(this,Oa,US).call(this,a,t);break;case ri.ERROR:Et(a,"error should have stream controller"),a.controller.error(Wr(e.reason)),U(this,Oa,US).call(this,a,t);break;case ri.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Wr(e.reason)),U(this,Oa,US).call(this,a,t);break;case ri.CANCEL:if(!o)break;const l=Wr(e.reason);Promise.try(o.onCancel||hG,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ri.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:ri.CANCEL_COMPLETE,streamId:t,reason:Wr(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},US=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Pb;class hj{constructor({enableHWA:e=!1}){F(this,Pb,!1);_(this,Pb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!f(this,Pb)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){an("Abstract method `_createCanvas` called.")}}Pb=new WeakMap;class Hce extends hj{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class pj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class pG extends pj{async _fetch(e){const t=await _B(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):SB(t)}}class gj{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var Vf,bm,ul,cl,pr,Gf,Kf,Ie,cr,H0,fg,MS,hg,mj,$R,pg,V0,G0,jR,K0;class Vce extends gj{constructor({docId:t,ownerDocument:i=globalThis.document}){super();F(this,Ie);F(this,Vf);F(this,bm);F(this,ul);F(this,cl);F(this,pr);F(this,Gf);F(this,Kf,0);_(this,cl,t),_(this,pr,i)}addFilter(t){if(!t)return"none";let i=f(this,Ie,cr).get(t);if(i)return i;const[r,s,a]=U(this,Ie,MS).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(i=f(this,Ie,cr).get(o),i)return f(this,Ie,cr).set(t,i),i;const l=`g_${f(this,cl)}_transfer_map_${qn(this,Kf)._++}`,u=U(this,Ie,hg).call(this,l);f(this,Ie,cr).set(t,u),f(this,Ie,cr).set(o,u);const d=U(this,Ie,pg).call(this,l);return U(this,Ie,G0).call(this,r,s,a,d),u}addHCMFilter(t,i){var b;const r=`${t}-${i}`,s="base";let a=f(this,Ie,H0).get(s);if((a==null?void 0:a.key)===r||(a?((b=a.filter)==null||b.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},f(this,Ie,H0).set(s,a)),!t||!i))return a.url;const o=U(this,Ie,K0).call(this,t);t=Pe.makeHexColor(...o);const l=U(this,Ie,K0).call(this,i);if(i=Pe.makeHexColor(...l),f(this,Ie,fg).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const u=new Array(256);for(let C=0;C<=255;C++){const E=C/255;u[C]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,cl)}_hcm_filter`,g=a.filter=U(this,Ie,pg).call(this,h);U(this,Ie,G0).call(this,d,d,d,g),U(this,Ie,$R).call(this,g);const v=(C,E)=>{const S=o[C]/255,I=l[C]/255,T=new Array(E+1);for(let R=0;R<=E;R++)T[R]=S+R/E*(I-S);return T.join(",")};return U(this,Ie,G0).call(this,v(0,5),v(1,5),v(2,5),g),a.url=U(this,Ie,hg).call(this,h),a.url}addAlphaFilter(t){let i=f(this,Ie,cr).get(t);if(i)return i;const[r]=U(this,Ie,MS).call(this,[t]),s=`alpha_${r}`;if(i=f(this,Ie,cr).get(s),i)return f(this,Ie,cr).set(t,i),i;const a=`g_${f(this,cl)}_alpha_map_${qn(this,Kf)._++}`,o=U(this,Ie,hg).call(this,a);f(this,Ie,cr).set(t,o),f(this,Ie,cr).set(s,o);const l=U(this,Ie,pg).call(this,a);return U(this,Ie,jR).call(this,r,l),o}addLuminosityFilter(t){let i=f(this,Ie,cr).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=U(this,Ie,MS).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=f(this,Ie,cr).get(s),i)return f(this,Ie,cr).set(t,i),i;const a=`g_${f(this,cl)}_luminosity_map_${qn(this,Kf)._++}`,o=U(this,Ie,hg).call(this,a);f(this,Ie,cr).set(t,o),f(this,Ie,cr).set(s,o);const l=U(this,Ie,pg).call(this,a);return U(this,Ie,mj).call(this,l),t&&U(this,Ie,jR).call(this,r,l),o}addHighlightHCMFilter(t,i,r,s,a){var I;const o=`${i}-${r}-${s}-${a}`;let l=f(this,Ie,H0).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,Ie,H0).set(t,l)),!i||!r))return l.url;const[u,d]=[i,r].map(U(this,Ie,K0).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,b]=[s,a].map(U(this,Ie,K0).bind(this));g<h&&([h,g,v,b]=[g,h,b,v]),f(this,Ie,fg).style.color="";const C=(T,R,M)=>{const D=new Array(256),N=(g-h)/M,H=T/255,k=(R-T)/(255*M);let K=0;for(let G=0;G<=M;G++){const z=Math.round(h+G*N),J=H+G*k;for(let ne=K;ne<=z;ne++)D[ne]=J;K=z+1}for(let G=K;G<256;G++)D[G]=D[K-1];return D.join(",")},E=`g_${f(this,cl)}_hcm_${t}_filter`,S=l.filter=U(this,Ie,pg).call(this,E);return U(this,Ie,$R).call(this,S),U(this,Ie,G0).call(this,C(v[0],b[0],5),C(v[1],b[1],5),C(v[2],b[2],5),S),l.url=U(this,Ie,hg).call(this,E),l.url}destroy(t=!1){var i,r,s,a;t&&((i=f(this,Gf))!=null&&i.size)||((r=f(this,ul))==null||r.parentNode.parentNode.remove(),_(this,ul,null),(s=f(this,bm))==null||s.clear(),_(this,bm,null),(a=f(this,Gf))==null||a.clear(),_(this,Gf,null),_(this,Kf,0))}}Vf=new WeakMap,bm=new WeakMap,ul=new WeakMap,cl=new WeakMap,pr=new WeakMap,Gf=new WeakMap,Kf=new WeakMap,Ie=new WeakSet,cr=function(){return f(this,bm)||_(this,bm,new Map)},H0=function(){return f(this,Gf)||_(this,Gf,new Map)},fg=function(){if(!f(this,ul)){const t=f(this,pr).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=f(this,pr).createElementNS(KA,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,ul,f(this,pr).createElementNS(KA,"defs")),t.append(r),r.append(f(this,ul)),f(this,pr).body.append(t)}return f(this,ul)},MS=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[i,r,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=i[u]/255,o[u]=r[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},hg=function(t){if(f(this,Vf)===void 0){_(this,Vf,"");const i=f(this,pr).URL;i!==f(this,pr).baseURI&&(b1(i)?Je('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,Vf,B$(i,"")))}return`url(${f(this,Vf)}#${t})`},mj=function(t){const i=f(this,pr).createElementNS(KA,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},$R=function(t){const i=f(this,pr).createElementNS(KA,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},pg=function(t){const i=f(this,pr).createElementNS(KA,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),f(this,Ie,fg).append(i),i},V0=function(t,i,r){const s=f(this,pr).createElementNS(KA,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},G0=function(t,i,r,s){const a=f(this,pr).createElementNS(KA,"feComponentTransfer");s.append(a),U(this,Ie,V0).call(this,a,"feFuncR",t),U(this,Ie,V0).call(this,a,"feFuncG",i),U(this,Ie,V0).call(this,a,"feFuncB",r)},jR=function(t,i){const r=f(this,pr).createElementNS(KA,"feComponentTransfer");i.append(r),U(this,Ie,V0).call(this,r,"feFuncA",t)},K0=function(t){return f(this,Ie,fg).style.color=t,IB(getComputedStyle(f(this,Ie,fg)).getPropertyValue("color"))};class vj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class gG extends vj{async _fetch(e){const t=await _B(e,"arraybuffer");return new Uint8Array(t)}}class yj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class mG extends yj{async _fetch(e){const t=await _B(e,"arraybuffer");return new Uint8Array(t)}}Rr&&Je("Please use the `legacy` build in Node.js environments.");async function yQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class Gce extends gj{}class Kce extends hj{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class zce extends pj{async _fetch(e){return yQ(e)}}class qce extends vj{async _fetch(e){return yQ(e)}}class $ce extends yj{async _fetch(e){return yQ(e)}}const eg="__forcedDependency",{floor:vG,ceil:yG}=Math;function yx(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const WR=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Cm,Sc;class jce{constructor(e,t){F(this,Cm);F(this,Sc);_(this,Cm,e),_(this,Sc,t)}get length(){return f(this,Cm).length}isEmpty(e){return f(this,Cm)[e]===WR}minX(e){return f(this,Sc)[e*4+0]/256}minY(e){return f(this,Sc)[e*4+1]/256}maxX(e){return(f(this,Sc)[e*4+2]+1)/256}maxY(e){return(f(this,Sc)[e*4+3]+1)/256}}Cm=new WeakMap,Sc=new WeakMap;const wx=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Jr,Zr,zf,io,qf,dl,Ot,Yt,fl,es,Rb,Bm,$f,jf,hl,gr,Yo,Db,YR;class Wce{constructor(e,t,i=!1){F(this,Db);F(this,Jr,{__proto__:null});F(this,Zr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[eg]:[]});F(this,zf,new Map);F(this,io,[]);F(this,qf,[]);F(this,dl,[[1,0,0,1,0,0]]);F(this,Ot,[-1/0,-1/0,1/0,1/0]);F(this,Yt,new Float64Array([1/0,1/0,-1/0,-1/0]));F(this,fl,-1);F(this,es,new Set);F(this,Rb,new Map);F(this,Bm,new Map);F(this,$f);F(this,jf);F(this,hl);F(this,gr);F(this,Yo);_(this,$f,e.width),_(this,jf,e.height),U(this,Db,YR).call(this,t),i&&_(this,Yo,new Map)}growOperationsCount(e){e>=f(this,gr).length&&U(this,Db,YR).call(this,e,f(this,gr))}save(e){return _(this,Jr,{__proto__:f(this,Jr)}),_(this,Zr,{__proto__:f(this,Zr),transform:{__proto__:f(this,Zr).transform},moveText:{__proto__:f(this,Zr).moveText},sameLineText:{__proto__:f(this,Zr).sameLineText},[eg]:{__proto__:f(this,Zr)[eg]}}),_(this,Ot,{__proto__:f(this,Ot)}),f(this,io).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(f(this,Jr));if(t===null)return this;_(this,Jr,t),_(this,Zr,Object.getPrototypeOf(f(this,Zr))),_(this,Ot,Object.getPrototypeOf(f(this,Ot)));const i=f(this,io).pop();return i!==void 0&&((r=wx(f(this,Yo),e))==null||r.dependencies.add(i),f(this,gr)[e]=f(this,gr)[i]),this}recordOpenMarker(e){return f(this,io).push(e),this}getOpenMarker(){return f(this,io).length===0?null:f(this,io).at(-1)}recordCloseMarker(e){var i;const t=f(this,io).pop();return t!==void 0&&((i=wx(f(this,Yo),e))==null||i.dependencies.add(t),f(this,gr)[e]=f(this,gr)[t]),this}beginMarkedContent(e){return f(this,qf).push(e),this}endMarkedContent(e){var i;const t=f(this,qf).pop();return t!==void 0&&((i=wx(f(this,Yo),e))==null||i.dependencies.add(t),f(this,gr)[e]=f(this,gr)[t]),this}pushBaseTransform(e){return f(this,dl).push(Pe.multiplyByDOMMatrix(f(this,dl).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,dl).length>1&&f(this,dl).pop(),this}recordSimpleData(e,t){return f(this,Jr)[e]=t,this}recordIncrementalData(e,t){return f(this,Zr)[e].push(t),this}resetIncrementalData(e,t){return f(this,Zr)[e].length=0,this}recordNamedData(e,t){return f(this,zf).set(e,t),this}recordSimpleDataFromNamed(e,t,i){f(this,Jr)[e]=f(this,zf).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(eg,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,Jr)&&this.recordFutureForcedDependency(t,f(this,Jr)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,es))this.recordFutureForcedDependency(eg,e);return this}resetBBox(e){return f(this,fl)!==e&&(_(this,fl,e),f(this,Yt)[0]=1/0,f(this,Yt)[1]=1/0,f(this,Yt)[2]=-1/0,f(this,Yt)[3]=-1/0),this}recordClipBox(e,t,i,r,s,a){const o=Pe.multiplyByDOMMatrix(f(this,dl).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Pe.axialAlignedBoundingBox([i,s,r,a],o,l);const u=Pe.intersect(f(this,Ot),l);return u?(f(this,Ot)[0]=u[0],f(this,Ot)[1]=u[1],f(this,Ot)[2]=u[2],f(this,Ot)[3]=u[3]):(f(this,Ot)[0]=f(this,Ot)[1]=1/0,f(this,Ot)[2]=f(this,Ot)[3]=-1/0),this}recordBBox(e,t,i,r,s,a){const o=f(this,Ot);if(o[0]===1/0)return this;const l=Pe.multiplyByDOMMatrix(f(this,dl).at(-1),t.getTransform());if(o[0]===-1/0)return Pe.axialAlignedBoundingBox([i,s,r,a],l,f(this,Yt)),this;const u=[1/0,1/0,-1/0,-1/0];return Pe.axialAlignedBoundingBox([i,s,r,a],l,u),f(this,Yt)[0]=Math.min(f(this,Yt)[0],Math.max(u[0],o[0])),f(this,Yt)[1]=Math.min(f(this,Yt)[1],Math.max(u[1],o[1])),f(this,Yt)[2]=Math.max(f(this,Yt)[2],Math.min(u[2],o[2])),f(this,Yt)[3]=Math.max(f(this,Yt)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,a=0,o){const l=i.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,Bm).get(i),u!==!1&&(d=[0,0,0,0],Pe.axialAlignedBoundingBox(l,i.fontMatrix,d),(r!==1||s!==0||a!==0)&&Pe.scaleMinMax([r,0,0,-r,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,Bm).set(i,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,Yt)[0]=Math.max(0,f(this,Ot)[0]),f(this,Yt)[1]=Math.max(0,f(this,Ot)[1]),f(this,Yt)[2]=Math.min(f(this,$f),f(this,Ot)[2]),f(this,Yt)[3]=Math.min(f(this,jf),f(this,Ot)[3]),this}getSimpleIndex(e){return f(this,Jr)[e]}recordDependencies(e,t){const i=f(this,es),r=f(this,Jr),s=f(this,Zr);for(const a of t)a in f(this,Jr)?i.add(r[a]):a in s&&s[a].forEach(i.add,i);return this}recordNamedDependency(e,t){return f(this,zf).has(t)&&f(this,es).add(f(this,zf).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[eg]),f(this,Yo)){const i=wx(f(this,Yo),e),{dependencies:r}=i;f(this,es).forEach(r.add,r),f(this,io).forEach(r.add,r),f(this,qf).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(f(this,fl)===e){const i=vG(f(this,Yt)[0]*256/f(this,$f)),r=vG(f(this,Yt)[1]*256/f(this,jf)),s=yG(f(this,Yt)[2]*256/f(this,$f)),a=yG(f(this,Yt)[3]*256/f(this,jf));yx(f(this,hl),e,i,r,s,a);for(const o of f(this,es))o!==e&&yx(f(this,hl),o,i,r,s,a);for(const o of f(this,io))o!==e&&yx(f(this,hl),o,i,r,s,a);for(const o of f(this,qf))o!==e&&yx(f(this,hl),o,i,r,s,a);t||(f(this,es).clear(),_(this,fl,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(f(this,es));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,fl)===e&&(_(this,fl,-1),f(this,Ot)[0]=Math.max(f(this,Ot)[0],f(this,Yt)[0]),f(this,Ot)[1]=Math.max(f(this,Ot)[1],f(this,Yt)[1]),f(this,Ot)[2]=Math.min(f(this,Ot)[2],f(this,Yt)[2]),f(this,Ot)[3]=Math.min(f(this,Ot)[3],f(this,Yt)[3]),t||f(this,es).clear()),this}_takePendingDependencies(){const e=f(this,es);return _(this,es,new Set),e}_extractOperation(e){const t=f(this,Rb).get(e);return f(this,Rb).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,es).add(t)}take(){return f(this,Bm).clear(),new jce(f(this,gr),f(this,hl))}takeDebugMetadata(){return f(this,Yo)}}Jr=new WeakMap,Zr=new WeakMap,zf=new WeakMap,io=new WeakMap,qf=new WeakMap,dl=new WeakMap,Ot=new WeakMap,Yt=new WeakMap,fl=new WeakMap,es=new WeakMap,Rb=new WeakMap,Bm=new WeakMap,$f=new WeakMap,jf=new WeakMap,hl=new WeakMap,gr=new WeakMap,Yo=new WeakMap,Db=new WeakSet,YR=function(e,t){const i=new ArrayBuffer(e*4);_(this,hl,new Uint8ClampedArray(i)),_(this,gr,new Uint32Array(i)),t&&t.length>0?(f(this,gr).set(t),f(this,gr).fill(WR,t.length)):f(this,gr).fill(WR)};var nn,Nn,ro,Em,xm;const yO=class yO{constructor(e,t,i){F(this,nn);F(this,Nn);F(this,ro);F(this,Em,0);F(this,xm,0);if(e instanceof yO&&f(e,ro)===!!i)return e;_(this,nn,e),_(this,Nn,t),_(this,ro,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return qn(this,xm)._++,f(this,nn).save(f(this,Nn)),this}restore(e){return f(this,xm)>0&&(f(this,nn).restore(f(this,Nn)),qn(this,xm)._--),this}recordOpenMarker(e){return qn(this,Em)._++,this}getOpenMarker(){return f(this,Em)>0?f(this,Nn):f(this,nn).getOpenMarker()}recordCloseMarker(e){return qn(this,Em)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,nn).pushBaseTransform(e),this}popBaseTransform(){return f(this,nn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,nn).recordSimpleData(e,f(this,Nn)),this}recordIncrementalData(e,t){return f(this,nn).recordIncrementalData(e,f(this,Nn)),this}resetIncrementalData(e,t){return f(this,nn).resetIncrementalData(e,f(this,Nn)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return f(this,nn).recordSimpleDataFromNamed(e,t,f(this,Nn)),this}recordFutureForcedDependency(e,t){return f(this,nn).recordFutureForcedDependency(e,f(this,Nn)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,nn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,nn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,ro)||f(this,nn).resetBBox(f(this,Nn)),this}recordClipBox(e,t,i,r,s,a){return f(this,ro)||f(this,nn).recordClipBox(f(this,Nn),t,i,r,s,a),this}recordBBox(e,t,i,r,s,a){return f(this,ro)||f(this,nn).recordBBox(f(this,Nn),t,i,r,s,a),this}recordCharacterBBox(e,t,i,r,s,a,o){return f(this,ro)||f(this,nn).recordCharacterBBox(f(this,Nn),t,i,r,s,a,o),this}recordFullPageBBox(e){return f(this,ro)||f(this,nn).recordFullPageBBox(f(this,Nn)),this}getSimpleIndex(e){return f(this,nn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,nn).recordDependencies(f(this,Nn),t),this}recordNamedDependency(e,t){return f(this,nn).recordNamedDependency(f(this,Nn),t),this}recordOperation(e){return f(this,nn).recordOperation(f(this,Nn),!0),this}recordShowTextOperation(e){return f(this,nn).recordShowTextOperation(f(this,Nn),!0),this}bboxToClipBoxDropOperation(e){return f(this,ro)||f(this,nn).bboxToClipBoxDropOperation(f(this,Nn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};nn=new WeakMap,Nn=new WeakMap,ro=new WeakMap,Em=new WeakMap,xm=new WeakMap;let L_=yO;const fa={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},tr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function XR(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class wQ{isModifyingCurrentTransform(){return!1}getPattern(){an("Abstract method `getPattern` called.")}}class Yce extends wQ{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===tr.STROKE||r===tr.FILL){const a=t.current.getClippedPathBoundingBox(r,Fn(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),i=Pe.transform(i,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),XR(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else XR(e,this._bbox),s=this._createGradient(e);return s}}function zU(n,e,t,i,r,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g),l[i+1]>l[r+1]&&(g=i,i=r,r=g,g=a,a=o,o=g),l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,C=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY,S=(l[r]+e.offsetX)*e.scaleX,I=(l[r+1]+e.offsetY)*e.scaleY;if(b>=I)return;const T=u[s],R=u[s+1],M=u[s+2],D=u[a],N=u[a+1],H=u[a+2],k=u[o],K=u[o+1],G=u[o+2],z=Math.round(b),J=Math.round(I);let ne,pe,V,$,ie,ue,Ce,q;for(let Y=z;Y<=J;Y++){if(Y<E){const we=Y<b?0:(b-Y)/(b-E);ne=v-(v-C)*we,pe=T-(T-D)*we,V=R-(R-N)*we,$=M-(M-H)*we}else{let we;Y>I?we=1:E===I?we=0:we=(E-Y)/(E-I),ne=C-(C-S)*we,pe=D-(D-k)*we,V=N-(N-K)*we,$=H-(H-G)*we}let Ae;Y<b?Ae=0:Y>I?Ae=1:Ae=(b-Y)/(b-I),ie=v-(v-S)*Ae,ue=T-(T-k)*Ae,Ce=R-(R-K)*Ae,q=M-(M-G)*Ae;const de=Math.round(Math.min(ne,ie)),be=Math.round(Math.max(ne,ie));let ye=h*Y+de*4;for(let we=de;we<=be;we++)Ae=(ne-we)/(ne-ie),Ae<0?Ae=0:Ae>1&&(Ae=1),d[ye++]=pe-(pe-ue)*Ae|0,d[ye++]=V-(V-Ce)*Ae|0,d[ye++]=$-($-q)*Ae|0,d[ye++]=255}}function Xce(n,e,t){const i=e.coords,r=e.colors;let s,a;switch(e.type){case wR.LATTICE:const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)zU(n,t,i[d],i[d+1],i[d+o],r[d],r[d+1],r[d+o]),zU(n,t,i[d+o+1],i[d+1],i[d+o],r[d+o+1],r[d+1],r[d+o])}break;case wR.TRIANGLES:for(s=0,a=i.length;s<a;s+=3)zU(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Jce extends wQ{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,b=d/g,C={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/b},E=h+4,S=g+4,I=i.getCanvas("mesh",E,S),T=I.context,R=T.createImageData(h,g);if(t){const D=R.data;for(let N=0,H=D.length;N<H;N+=4)D[N]=t[0],D[N+1]=t[1],D[N+2]=t[2],D[N+3]=255}for(const D of this._figures)Xce(R,D,C);return T.putImageData(R,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){XR(e,this._bbox);const s=new Float32Array(2);if(r===tr.SHADING)Pe.singularValueDecompose2dScale(Fn(e),s);else if(this.matrix){Pe.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Pe.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Pe.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,r===tr.SHADING?null:this._background,t.cachedCanvases);return r!==tr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Zce extends wQ{getPattern(){return"hotpink"}}function ede(n){switch(n[0]){case"RadialAxial":return new Yce(n);case"Mesh":return new Jce(n);case"Dummy":return new Zce}throw new Error(`Unknown IR type: ${n[0]}`)}const wG={COLORED:1,UNCOLORED:2},XT=class XT{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var ue,Ce;const{bbox:i,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),w1("TilingType: "+a);const h=i[0],g=i[1],v=i[2],b=i[3],C=v-h,E=b-g,S=new Float32Array(2);Pe.singularValueDecompose2dScale(this.matrix,S);const[I,T]=S;Pe.singularValueDecompose2dScale(this.baseTransform,S);const R=I*S[0],M=T*S[1];let D=C,N=E,H=!1,k=!1;const K=Math.ceil(u*R),G=Math.ceil(d*M),z=Math.ceil(C*R),J=Math.ceil(E*M);K>=z?D=u:H=!0,G>=J?N=d:k=!0;const ne=this.getSizeAndScale(D,this.ctx.canvas.width,R),pe=this.getSizeAndScale(N,this.ctx.canvas.height,M),V=e.cachedCanvases.getCanvas("pattern",ne.size,pe.size),$=V.context,ie=l.createCanvasGraphics($,t);if(ie.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ie,s,o),$.translate(-ne.scale*h,-pe.scale*g),ie.transform(0,ne.scale,0,0,pe.scale,0,0),$.save(),(ue=ie.dependencyTracker)==null||ue.save(),this.clipBbox(ie,h,g,v,b),ie.baseTransform=Fn(ie.ctx),ie.executeOperatorList(r),ie.endDrawing(),(Ce=ie.dependencyTracker)==null||Ce.restore(),$.restore(),H||k){const q=V.canvas;H&&(D=u),k&&(N=d);const Y=this.getSizeAndScale(D,this.ctx.canvas.width,R),Ae=this.getSizeAndScale(N,this.ctx.canvas.height,M),de=Y.size,be=Ae.size,ye=e.cachedCanvases.getCanvas("pattern-workaround",de,be),we=ye.context,ft=H?Math.floor(C/u):0,ae=k?Math.floor(E/d):0;for(let Qe=0;Qe<=ft;Qe++)for(let He=0;He<=ae;He++)we.drawImage(q,de*Qe,be*He,de,be,0,0,de,be);return{canvas:ye.canvas,scaleX:Y.scale,scaleY:Ae.scale,offsetX:h,offsetY:g}}return{canvas:V.canvas,scaleX:ne.scale,scaleY:pe.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(XT.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const a=r-t,o=s-i;e.ctx.rect(t,i,a,o),Pe.axialAlignedBoundingBox([t,i,r,s],Fn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case wG.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case wG.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new fce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let a=i;r!==tr.SHADING&&(a=Pe.transform(a,t.baseTransform),this.matrix&&(a=Pe.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};he(XT,"MAX_PATTERN_SIZE",3e3);let JR=XT;function tde({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=or.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=i>>3,h=i&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let b=0;b<r;b++){for(const E=e+d;e<E;e++){const S=e<g?n[e]:255;t[v++]=S&128?u:l,t[v++]=S&64?u:l,t[v++]=S&32?u:l,t[v++]=S&16?u:l,t[v++]=S&8?u:l,t[v++]=S&4?u:l,t[v++]=S&2?u:l,t[v++]=S&1?u:l}if(h===0)continue;const C=e<g?n[e++]:255;for(let E=0;E<h;E++)t[v++]=C&1<<7-E?u:l}return{srcPos:e,destPos:v}}const bG=16,CG=100,nde=15,BG=10,as=16,qU=new DOMMatrix,Gs=new Float32Array(2),_g=new Float32Array([1/0,1/0,-1/0,-1/0]);function ide(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,a,o){e.transform(t,i,r,s,a,o),this.__originalTransform(t,i,r,s,a,o)},n.setTransform=function(t,i,r,s,a,o){e.setTransform(t,i,r,s,a,o),this.__originalSetTransform(t,i,r,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class rde{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function bx(n,e,t,i,r,s,a,o,l,u){const[d,h,g,v,b,C]=Fn(n);if(h===0&&g===0){const I=a*d+b,T=Math.round(I),R=o*v+C,M=Math.round(R),D=(a+l)*d+b,N=Math.abs(Math.round(D)-T)||1,H=(o+u)*v+C,k=Math.abs(Math.round(H)-M)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,M),n.drawImage(e,t,i,r,s,0,0,N,k),n.setTransform(d,h,g,v,b,C),[N,k]}if(d===0&&v===0){const I=o*g+b,T=Math.round(I),R=a*h+C,M=Math.round(R),D=(o+u)*g+b,N=Math.abs(Math.round(D)-T)||1,H=(a+l)*h+C,k=Math.abs(Math.round(H)-M)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,M),n.drawImage(e,t,i,r,s,0,0,k,N),n.setTransform(d,h,g,v,b,C),[k,N]}n.drawImage(e,t,i,r,s,a,o,l,u);const E=Math.hypot(d,h),S=Math.hypot(g,v);return[E*l,S*u]}class EG{constructor(e,t,i){he(this,"alphaIsShape",!1);he(this,"fontSize",0);he(this,"fontSizeScale",1);he(this,"textMatrix",null);he(this,"textMatrixScale",1);he(this,"fontMatrix",yR);he(this,"leading",0);he(this,"x",0);he(this,"y",0);he(this,"lineX",0);he(this,"lineY",0);he(this,"charSpacing",0);he(this,"wordSpacing",0);he(this,"textHScale",1);he(this,"textRenderingMode",qi.FILL);he(this,"textRise",0);he(this,"fillColor","#000000");he(this,"strokeColor","#000000");he(this,"patternFill",!1);he(this,"patternStroke",!1);he(this,"fillAlpha",1);he(this,"strokeAlpha",1);he(this,"lineWidth",1);he(this,"activeSMask",null);he(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=_g.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=tr.FILL,t=null){const i=this.minMax.slice();if(e===tr.STROKE){t||an("Stroke bounding box must include transform."),Pe.singularValueDecompose2dScale(t,Gs);const r=Gs[0]*this.lineWidth/2,s=Gs[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=Pe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(_g,0)}getClippedPathBoundingBox(e=tr.FILL,t=null){return Pe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function xG(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%as,s=(t-r)/as,a=r===0?s:s+1,o=n.createImageData(i,as);let l=0,u;const d=e.data,h=o.data;let g,v,b,C;if(e.kind===CS.GRAYSCALE_1BPP){const E=d.byteLength,S=new Uint32Array(h.buffer,0,h.byteLength>>2),I=S.length,T=i+7>>3,R=4294967295,M=or.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?as:r,u=0,v=0;v<b;v++){const D=E-l;let N=0;const H=D>T?i:D*8-7,k=H&-8;let K=0,G=0;for(;N<k;N+=8)G=d[l++],S[u++]=G&128?R:M,S[u++]=G&64?R:M,S[u++]=G&32?R:M,S[u++]=G&16?R:M,S[u++]=G&8?R:M,S[u++]=G&4?R:M,S[u++]=G&2?R:M,S[u++]=G&1?R:M;for(;N<H;N++)K===0&&(G=d[l++],K=128),S[u++]=G&K?R:M,K>>=1}for(;u<I;)S[u++]=0;n.putImageData(o,0,g*as)}}else if(e.kind===CS.RGBA_32BPP){for(v=0,C=i*as*4,g=0;g<s;g++)h.set(d.subarray(l,l+C)),l+=C,n.putImageData(o,0,v),v+=as;g<a&&(C=i*r*4,h.set(d.subarray(l,l+C)),n.putImageData(o,0,v))}else if(e.kind===CS.RGB_24BPP)for(b=as,C=i*b,g=0;g<a;g++){for(g>=s&&(b=r,C=i*b),u=0,v=C;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*as)}else throw new Error(`bad image kind: ${e.kind}`)}function SG(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%as,s=(t-r)/as,a=r===0?s:s+1,o=n.createImageData(i,as);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?as:r;({srcPos:l}=tde({src:u,srcPos:l,dest:d,width:i,height:g,nonBlackColor:0})),n.putImageData(o,0,h*as)}}function f0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Cx(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function _G(n,e){if(e)return!0;Pe.singularValueDecompose2dScale(n,Gs);const t=Math.fround(Zh.pixelRatio*Ov.PDF_TO_CSS_UNITS);return Gs[0]<=t&&Gs[1]<=t}const sde=["butt","round","square"],ade=["miter","round","bevel"],ode={},TG={};var Co,ZR,eD,tD;const wO=class wO{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){F(this,Co);this.ctx=e,this.current=new EG(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new rde(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Fn(this.compositeCtx))}this.ctx.save(),Cx(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Fn(this.ctx)}executeOperatorList(e,t,i,r,s){var S;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>BG&&typeof i=="function",h=d?Date.now()+nde:0;let g=0;const v=this.commonObjs,b=this.objs;let C,E;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,i),l;if(!s||s(l))if(C=o[l],E=a[l]??null,C!==Sw.dependency)E===null?this[C](l):this[C](l,...E);else for(const I of E){(S=this.dependencyTracker)==null||S.recordNamedData(I,l);const T=I.startsWith("g_")?v:b;if(!T.has(I))return T.get(I,i),l}if(l++,l===u)return l;if(d&&++g>BG){if(Date.now()>h)return i(),l;g=0}}}endDrawing(){U(this,Co,ZR).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),U(this,Co,eD).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,l=r,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var K,G;const i=this.ctx,{width:r,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=Fn(i);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const J=u.get(d);if(J&&!o){const ne=Math.round(Math.min(l[0],l[2])+l[4]),pe=Math.round(Math.min(l[1],l[3])+l[5]);return(K=this.dependencyTracker)==null||K.recordDependencies(e,fa.transformAndFill),{canvas:J,offsetX:ne,offsetY:pe}}h=J}h||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),SG(g.context,t));let v=Pe.transform(l,[1/r,0,0,-1/s,0,0]);v=Pe.transform(v,[1,0,0,1,0,-s]);const b=_g.slice();Pe.axialAlignedBoundingBox([0,0,r,s],v,b);const[C,E,S,I]=b,T=Math.round(S-C)||1,R=Math.round(I-E)||1,M=this.cachedCanvases.getCanvas("fillCanvas",T,R),D=M.context,N=C,H=E;D.translate(-N,-H),D.transform(...v),h||(h=this._scaleImage(g.canvas,Ro(D)),h=h.img,u&&o&&u.set(d,h)),D.imageSmoothingEnabled=_G(Fn(D),t.interpolate),bx(D,h,0,0,h.width,h.height,0,0,r,s),D.globalCompositeOperation="source-in";const k=Pe.transform(Ro(D),[1,0,0,1,-N,-H]);return D.fillStyle=o?a.getPattern(i,this,k,tr.FILL,e):a,D.fillRect(0,0,r,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,M.canvas)),(G=this.dependencyTracker)==null||G.recordDependencies(e,fa.transformAndFill),{canvas:M.canvas,offsetX:Math.round(N),offsetY:Math.round(H)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=sde[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=ade[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),f0(this.suspendedCtx,a),ide(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),f0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,i,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,b=u-h;if(a)if(v<0||b<0||v+i>g.width||b+r>g.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),S=E.context;S.drawImage(g,-v,-b),S.globalCompositeOperation="destination-atop",S.fillStyle=a,S.fillRect(0,0,i,r),S.globalCompositeOperation="source-over",g=E.canvas,v=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(v,b,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,b,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const C=new Path2D;C.rect(l,u,i,r),t.clip(C),t.globalCompositeOperation="destination-in",t.drawImage(g,v,b,i,r,l,u,i,r),t.restore()}save(e){var i;this.inSMaskMode&&f0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&f0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Sw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=I$(s)),Pe.axialAlignedBoundingBox(r,Fn(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var a;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Ro(r),tr.STROKE,e),o){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,fa.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(tr.STROKE,Fn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var u,d,h;const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?r.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Ro(r),tr.FILL,e),g){const v=new Path2D;v.addPath(t,r.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,fa.fill),o&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,fa.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=ode}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=TG}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&r.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||yR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Je("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((g=r.systemFontInfo)==null?void 0:g.css)||`"${a}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const u=r.italic?"italic":"normal";let d=i;i<bG?d=bG:i>CG&&(d=CG),this.current.fontSizeScale=i/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,a){var S,I,T,R;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&qi.FILL_STROKE_MASK,v=!!(d&qi.ADD_TO_PATH_FLAG),b=l.patternFill&&!u.missingFile,C=l.patternStroke&&!u.missingFile;let E;if((u.disableFontFace||v||b||C)&&!u.missingFile&&(E=u.getPathGenerator(this.commonObjs,t)),E&&(u.disableFontFace||b||C)){o.save(),o.translate(i,r),o.scale(h,-h),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,u);let M;if(g===qi.FILL||g===qi.FILL_STROKE)if(s){M=o.getTransform(),o.setTransform(...s);const D=U(this,Co,tD).call(this,E,M,s);o.fill(D)}else o.fill(E);if(g===qi.STROKE||g===qi.FILL_STROKE)if(a){M||(M=o.getTransform()),o.setTransform(...a);const{a:D,b:N,c:H,d:k}=M,K=Pe.inverseTransform(a),G=Pe.transform([D,N,H,k,0,0],K);Pe.singularValueDecompose2dScale(G,Gs),o.lineWidth*=Math.max(Gs[0],Gs[1])/h,o.stroke(U(this,Co,tD).call(this,E,M,a))}else o.lineWidth/=h,o.stroke(E);o.restore()}else(g===qi.FILL||g===qi.FILL_STROKE)&&(o.fillText(t,i,r),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t))),(g===qi.STROKE||g===qi.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t)).recordDependencies(e,fa.stroke)),o.strokeText(t,i,r));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Fn(o),x:i,y:r,fontSize:h,path:E}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,u,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return Ze(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var H,k,K,G;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,fa.showText).resetBBox(e),this.current.textRenderingMode&qi.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(k=this.dependencyTracker)==null||k.recordOperation(e);return}const a=this.ctx,o=i.fontSizeScale,l=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,h=i.textHScale*d,g=t.length,v=r.vertical,b=v?1:-1,C=r.defaultVMetrics,E=s*i.fontMatrix[0],S=i.textRenderingMode===qi.FILL&&!r.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(i.patternFill){a.save();const z=i.fillColor.getPattern(a,this,Ro(a),tr.FILL,e);I=Fn(a),a.restore(),a.fillStyle=z}if(i.patternStroke){a.save();const z=i.strokeColor.getPattern(a,this,Ro(a),tr.STROKE,e);T=Fn(a),a.restore(),a.strokeStyle=z}let R=i.lineWidth;const M=i.textMatrixScale;if(M===0||R===0){const z=i.textRenderingMode&qi.FILL_STROKE_MASK;(z===qi.STROKE||z===qi.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=M;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,r.isInvalidPDFjsFont){const z=[];let J=0;for(const pe of t)z.push(pe.unicode),J+=pe.width;const ne=z.join("");if(a.fillText(ne,0,0),this.dependencyTracker!==null){const pe=a.measureText(ne);this.dependencyTracker.recordBBox(e,this.ctx,-pe.actualBoundingBoxLeft,pe.actualBoundingBoxRight,-pe.actualBoundingBoxAscent,pe.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=J*E*h,a.restore(),this.compose();return}let D=0,N;for(N=0;N<g;++N){const z=t[N];if(typeof z=="number"){D+=b*z*s/1e3;continue}let J=!1;const ne=(z.isSpace?u:0)+l,pe=z.fontChar,V=z.accent;let $,ie,ue=z.width;if(v){const Y=z.vmetric||C,Ae=-(z.vmetric?Y[1]:ue*.5)*E,de=Y[2]*E;ue=Y?-Y[0]:ue,$=Ae/o,ie=(D+de)/o}else $=D/o,ie=0;let Ce;if(r.remeasure&&ue>0){Ce=a.measureText(pe);const Y=Ce.width*1e3/s*o;if(ue<Y&&this.isFontSubpixelAAEnabled){const Ae=ue/Y;J=!0,a.save(),a.scale(Ae,1),$/=Ae}else ue!==Y&&($+=(ue-Y)/2e3*s/o)}if(this.contentVisible&&(z.isInFont||r.missingFile)){if(S&&!V)a.fillText(pe,$,ie),(K=this.dependencyTracker)==null||K.recordCharacterBBox(e,a,Ce?{bbox:null}:r,s/o,$,ie,()=>Ce??a.measureText(pe));else if(this.paintChar(e,pe,$,ie,I,T),V){const Y=$+s*V.offset.x/o,Ae=ie-s*V.offset.y/o;this.paintChar(e,V.fontChar,Y,Ae,I,T)}}const q=v?ue*E-ne*d:ue*E+ne*d;D+=q,J&&a.restore()}v?i.y-=D:i.x+=D*h,a.restore(),this.compose(),(G=this.dependencyTracker)==null||G.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,l=s.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,g=r.fontMatrix||yR,v=t.length,b=r.textRenderingMode===qi.INVISIBLE;let C,E,S,I;if(b||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new L_(T,e):null,C=0;C<v;++C){if(E=t[C],typeof E=="number"){I=l*E*a/1e3,this.ctx.translate(I,0),r.x+=I*h;continue}const R=(E.isSpace?d:0)+u,M=s.charProcOperatorList[E.operatorListId];M?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...g),this.executeOperatorList(M),this.restore()):Je(`Type3 character "${E.operatorListId}" is not available.`);const D=[E.width,0];Pe.applyTransform(D,g),S=D[0]*a+R,i.translate(S,0),r.x+=S*h}i.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,a,o){var u;const l=new Path2D;l.rect(r,s,a-r,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,r,a,s,o).recordClipBox(e,this.ctx,r,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||Fn(this.ctx),s={createCanvasGraphics:(a,o)=>new wO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new L_(this.dependencyTracker,o,!0):null)};i=new JR(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=ede(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Ro(i),tr.SHADING,e);const s=Ro(i);if(s){const{width:o,height:l}=i.canvas,u=_g.slice();Pe.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,fa.transform).recordDependencies(e,fa.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){an("Should not call beginInlineImage")}beginImageData(){an("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Fn(this.ctx),i)){Pe.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,a,o,l]=i,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||w1("TODO: Support non-isolated groups."),t.knockout&&Je("Knockout groups not supported.");const r=Fn(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=_g.slice();Pe.axialAlignedBoundingBox(t.bbox,Fn(i),s);const a=[0,0,i.canvas.width,i.canvas.height];s=Pe.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...r);let b=new Path2D;const[C,E,S,I]=t.bbox;if(b.rect(C,E,S-C,I-E),t.matrix){const R=new Path2D;R.addPath(b,new DOMMatrix(t.matrix)),b=R}v.clip(b),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),f0(i,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Fn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=_g.slice();Pe.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,r,s,a){if(U(this,Co,ZR).call(this),Cx(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const o=i[2]-i[0],l=i[3]-i[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=o,i[3]=l,Pe.singularValueDecompose2dScale(Fn(this.ctx),Gs);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Gs[0],0,0,-Gs[1],0,l*Gs[1]),Cx(this.ctx)}else{Cx(this.ctx),this.endPath(e);const u=new Path2D;u.rect(i[0],i[1],o,l),this.ctx.clip(u)}}this.current=new EG(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),U(this,Co,eD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=Fn(l);l.transform(i,r,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let b=0,C=o.length;b<C;b+=2){const E=Pe.transform(u,[i,r,s,a,o[b],o[b+1]]);l.drawImage(d.canvas,E[4],E[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,E[4],E[4]+d.canvas.width,E[5],E[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,fa.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,b=this.cachedCanvases.getCanvas("maskCanvas",h,g),C=b.context;C.save();const E=this.getObject(e,d,u);SG(C,E),C.globalCompositeOperation="source-in",C.fillStyle=s?r.getPattern(C,this,Ro(i),tr.FILL,e):r,C.fillRect(0,0,h,g),C.restore(),i.save(),i.transform(...v),i.scale(1,-1),bx(i,b.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,h,0,g),i.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){Je("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){Je("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[i,0,0,r,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/i,-1/r);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;xG(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,Ro(s));s.imageSmoothingEnabled=_G(Fn(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,fa.imageXObject).recordOperation(e),bx(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var a,o,l;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;xG(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of i)r.save(),r.transform(...u.transform),r.scale(1,-1),bx(r,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,1,-1,0),r.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,fa.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var a,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===TG?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Fn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),d=Math.hypot(r,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){i.lineWidth=(r||1)*s,i.stroke(e);return}const o=i.getLineDash();t&&i.save(),i.scale(s,a),qU.a=1/s,qU.d=1/a;const l=new Path2D;if(l.addPath(e,qU),o.length>0){const u=Math.max(s,a);i.setLineDash(o.map(d=>d/u)),i.lineDashOffset/=u}i.lineWidth=r||1,i.stroke(l),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Co=new WeakSet,ZR=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},eD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},tD=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let Qg=wO;for(const n in Sw)Qg.prototype[n]!==void 0&&(Qg.prototype[Sw[n]]=Qg.prototype[n]);var mS,Lb,Nb;let Gl=(mS=class{static get workerPort(){return f(this,Lb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,Lb,e)}static get workerSrc(){return f(this,Nb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,Nb,e)}},Lb=new WeakMap,Nb=new WeakMap,F(mS,Lb,null),F(mS,Nb,""),mS);var Sm,Qb;class Ade{constructor({parsedData:e,rawData:t}){F(this,Sm);F(this,Qb);_(this,Sm,e),_(this,Qb,t)}getRaw(){return f(this,Qb)}get(e){return f(this,Sm).get(e)??null}[Symbol.iterator](){return f(this,Sm).entries()}}Sm=new WeakMap,Qb=new WeakMap;const gg=Symbol("INTERNAL");var kb,Ob,Hb,_m;class lde{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){F(this,kb,!1);F(this,Ob,!1);F(this,Hb,!1);F(this,_m,!0);_(this,kb,!!(e&Vs.DISPLAY)),_(this,Ob,!!(e&Vs.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(f(this,Hb))return f(this,_m);if(!f(this,_m))return!1;const{print:e,view:t}=this.usage;return f(this,kb)?(t==null?void 0:t.viewState)!=="OFF":f(this,Ob)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==gg&&an("Internal method `_setVisible` called."),_(this,Hb,i),_(this,_m,t)}}kb=new WeakMap,Ob=new WeakMap,Hb=new WeakMap,_m=new WeakMap;var _c,Xt,Tm,Im,Vb,nD;class ude{constructor(e,t=Vs.DISPLAY){F(this,Vb);F(this,_c,null);F(this,Xt,new Map);F(this,Tm,null);F(this,Im,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,Im,e.order);for(const i of e.groups)f(this,Xt).set(i.id,new lde(t,i));if(e.baseState==="OFF")for(const i of f(this,Xt).values())i._setVisible(gg,!1);for(const i of e.on)f(this,Xt).get(i)._setVisible(gg,!0);for(const i of e.off)f(this,Xt).get(i)._setVisible(gg,!1);_(this,Tm,this.getHash())}}isVisible(e){if(f(this,Xt).size===0)return!0;if(!e)return w1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,Xt).has(e.id)?f(this,Xt).get(e.id).visible:(Je(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return U(this,Vb,nD).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,Xt).has(t))return Je(`Optional content group not found: ${t}`),!0;if(f(this,Xt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,Xt).has(t))return Je(`Optional content group not found: ${t}`),!0;if(!f(this,Xt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,Xt).has(t))return Je(`Optional content group not found: ${t}`),!0;if(!f(this,Xt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,Xt).has(t))return Je(`Optional content group not found: ${t}`),!0;if(f(this,Xt).get(t).visible)return!1}return!0}return Je(`Unknown optional content policy ${e.policy}.`),!0}return Je(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=f(this,Xt).get(e);if(!r){Je(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((s=f(this,Xt).get(o))==null||s._setVisible(gg,!1,!0));r._setVisible(gg,!!t,!0),_(this,_c,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=f(this,Xt).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}_(this,_c,null)}get hasInitialVisibility(){return f(this,Tm)===null||this.getHash()===f(this,Tm)}getOrder(){return f(this,Xt).size?f(this,Im)?f(this,Im).slice():[...f(this,Xt).keys()]:null}getGroup(e){return f(this,Xt).get(e)||null}getHash(){if(f(this,_c)!==null)return f(this,_c);const e=new Aj;for(const[t,i]of f(this,Xt))e.update(`${t}:${i.visible}`);return _(this,_c,e.hexdigest())}[Symbol.iterator](){return f(this,Xt).entries()}}_c=new WeakMap,Xt=new WeakMap,Tm=new WeakMap,Im=new WeakMap,Vb=new WeakSet,nD=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=U(this,Vb,nD).call(this,s);else if(f(this,Xt).has(s))a=f(this,Xt).get(s).visible;else return Je(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class cde{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Et(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Et(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Et(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new dde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new fde(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class dde{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=mQ(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fde{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hde(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=SB(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,C,E,S]=g;if(C=parseInt(C,10),C in h){if(C===0)break;continue}h[C]=[E,S]}const b=[];for(let C=0;C<h.length&&C in h;++C){let[E,S]=h[C];S=o(S),E&&(S=unescape(S),C===0&&(S=l(S))),b.push(S)}return b.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),b=d.slice(h+1).replace(/^[^']*'/,"");return r(g,b)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,E){return String.fromCharCode(parseInt(E,16))}),r(g,b);try{b=atob(b)}catch{}return r(g,b)})}return""}function wj(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function C1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function bj({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Cj(n){const e=n.get("Content-Disposition");if(e){let t=hde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(mQ(t))return t}return null}function UB(n,e){return new M_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Bj(n){return n===200||n===206}function Ej(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function xj(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Je(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class pde{constructor(e){he(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=wj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Et(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new mde(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class gde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,Ej(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=C1(s.url),!Bj(s.status))throw UB(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=bj({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Cj(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ed("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:xj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class mde{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const a=r.url;fetch(a,Ej(s,this._withCredentials,this._abortController)).then(o=>{const l=C1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!Bj(o.status))throw UB(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:xj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const $U=200,jU=206;function vde(n){const e=n.response;return typeof e!="string"?e:SB(e).buffer}class yde{constructor({url:e,httpHeaders:t,withCredentials:i}){he(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=wj(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=jU):r.expectedStatus=$U,t.responseType="arraybuffer",Et(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||$U;if(!(s===$U&&i.expectedStatus===jU)&&s!==i.expectedStatus){i.onError(r.status);return}const o=vde(r);if(s===jU){const l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?i.onDone({begin:parseInt(u[1],10),chunk:o}):(Je('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class wde{constructor(e){this._source=e,this._manager=new yde(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Et(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bde(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new Cde(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class bde{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=C1(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=bj({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Cj(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=UB(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Cde{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=C1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=UB(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Bde=/^[a-z][a-z0-9\-+.]+:/i;function Ede(n){if(Bde.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class xde{constructor(e){this.source=e,this.url=Ede(e.url),Et(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Et(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Sde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new _de(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Sde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=UB(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ed("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _de{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const h0=Symbol("INITIAL_DATA");var _s,Gb,iD;class Sj{constructor(){F(this,Gb);F(this,_s,Object.create(null))}get(e,t=null){if(t){const r=U(this,Gb,iD).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=f(this,_s)[e];if(!i||i.data===h0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=f(this,_s)[e];return!!t&&t.data!==h0}delete(e){const t=f(this,_s)[e];return!t||t.data===h0?!1:(delete f(this,_s)[e],!0)}resolve(e,t=null){const i=U(this,Gb,iD).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in f(this,_s)){const{data:i}=f(this,_s)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}_(this,_s,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,_s)){const{data:t}=f(this,_s)[e];t!==h0&&(yield[e,t])}}}_s=new WeakMap,Gb=new WeakSet,iD=function(e){var t;return(t=f(this,_s))[e]||(t[e]={...Promise.withResolvers(),data:h0})};const Tde=1e5,IG=30;var x6,Tc,ts,Kb,zb,Wf,pl,qb,$b,Yf,Fm,Um,Ic,Mm,jb,Pm,Xf,Wb,Yb,Hn,Rm,Jf,Xb,Fc,Dm,pu,_j,Tj,sD,Ys,PS,aD,Ij,Fj;let rD=(Hn=class{constructor({textContentSource:e,container:t,viewport:i}){F(this,pu);F(this,Tc,Promise.withResolvers());F(this,ts,null);F(this,Kb,!1);F(this,zb,!!((x6=globalThis.FontInspector)!=null&&x6.enabled));F(this,Wf,null);F(this,pl,null);F(this,qb,0);F(this,$b,0);F(this,Yf,null);F(this,Fm,null);F(this,Um,0);F(this,Ic,0);F(this,Mm,Object.create(null));F(this,jb,[]);F(this,Pm,null);F(this,Xf,[]);F(this,Wb,new WeakMap);F(this,Yb,null);var l;if(e instanceof ReadableStream)_(this,Pm,e);else if(typeof e=="object")_(this,Pm,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,ts,_(this,Fm,t)),_(this,Ic,i.scale*Zh.pixelRatio),_(this,Um,i.rotation),_(this,pl,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;_(this,Yb,[1,0,0,-1,-a,o+s]),_(this,$b,r),_(this,qb,s),U(l=Hn,Ys,Ij).call(l),Jh(t,i),f(this,Tc).promise.finally(()=>{f(Hn,Dm).delete(this),_(this,pl,null),_(this,Mm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=or.platform;return Ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,Yf).read().then(({value:t,done:i})=>{if(i){f(this,Tc).resolve();return}f(this,Wf)??_(this,Wf,t.lang),Object.assign(f(this,Mm),t.styles),U(this,pu,_j).call(this,t.items),e()},f(this,Tc).reject)};return _(this,Yf,f(this,Pm).getReader()),f(Hn,Dm).add(this),e(),f(this,Tc).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*Zh.pixelRatio,r=e.rotation;if(r!==f(this,Um)&&(t==null||t(),_(this,Um,r),Jh(f(this,Fm),{rotation:r})),i!==f(this,Ic)){t==null||t(),_(this,Ic,i);const a={div:null,properties:null,ctx:U(s=Hn,Ys,PS).call(s,f(this,Wf))};for(const o of f(this,Xf))a.properties=f(this,Wb).get(o),a.div=o,U(this,pu,sD).call(this,a)}}cancel(){var t;const e=new Ed("TextLayer task cancelled.");(t=f(this,Yf))==null||t.cancel(e).catch(()=>{}),_(this,Yf,null),f(this,Tc).reject(e)}get textDivs(){return f(this,Xf)}get textContentItemsStr(){return f(this,jb)}static cleanup(){if(!(f(this,Dm).size>0)){f(this,Rm).clear();for(const{canvas:e}of f(this,Jf).values())e.remove();f(this,Jf).clear()}}},Tc=new WeakMap,ts=new WeakMap,Kb=new WeakMap,zb=new WeakMap,Wf=new WeakMap,pl=new WeakMap,qb=new WeakMap,$b=new WeakMap,Yf=new WeakMap,Fm=new WeakMap,Um=new WeakMap,Ic=new WeakMap,Mm=new WeakMap,jb=new WeakMap,Pm=new WeakMap,Xf=new WeakMap,Wb=new WeakMap,Yb=new WeakMap,Rm=new WeakMap,Jf=new WeakMap,Xb=new WeakMap,Fc=new WeakMap,Dm=new WeakMap,pu=new WeakSet,_j=function(e){var r,s;if(f(this,Kb))return;(s=f(this,pl)).ctx??(s.ctx=U(r=Hn,Ys,PS).call(r,f(this,Wf)));const t=f(this,Xf),i=f(this,jb);for(const a of e){if(t.length>Tde){Je("Ignoring additional textDivs for performance reasons."),_(this,Kb,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,ts);_(this,ts,document.createElement("span")),f(this,ts).classList.add("markedContent"),a.id&&f(this,ts).setAttribute("id",`${a.id}`),o.append(f(this,ts))}else a.type==="endMarkedContent"&&_(this,ts,f(this,ts).parentNode);continue}i.push(a.str),U(this,pu,Tj).call(this,a)}},Tj=function(e){var C;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,Xf).push(t);const r=Pe.transform(f(this,Yb),e.transform);let s=Math.atan2(r[1],r[0]);const a=f(this,Mm)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,zb)&&a.fontSubstitution||a.fontFamily;o=Hn.fontFamilyMap.get(o)||o;const l=Math.hypot(r[2],r[3]),u=l*U(C=Hn,Ys,Fj).call(C,o,a,f(this,Wf));let d,h;s===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(s),h=r[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,ts)===f(this,Fm)?(v.left=`${(100*d/f(this,$b)).toFixed(2)}%`,v.top=`${(100*h/f(this,qb)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f(Hn,Fc)*l).toFixed(2)}px)`,v.fontFamily=o,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,zb)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);E!==S&&Math.max(E,S)/Math.min(E,S)>1.5&&(b=!0)}if(b&&(i.canvasWidth=a.vertical?e.height:e.width),f(this,Wb).set(t,i),f(this,pl).div=t,f(this,pl).properties=i,U(this,pu,sD).call(this,f(this,pl)),i.hasText&&f(this,ts).append(t),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),f(this,ts).append(E)}},sD=function(e){var o;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let a="";if(f(Hn,Fc)>1&&(a=`scale(${1/f(Hn,Fc)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=i;U(o=Hn,Ys,aD).call(o,r,d*f(this,Ic),l);const{width:h}=r.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,Ic)/h}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Ys=new WeakSet,PS=function(e=null){let t=f(this,Jf).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Jf).set(e,t),f(this,Xb).set(t,{size:0,family:""})}return t},aD=function(e,t,i){const r=f(this,Xb).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},Ij=function(){if(f(this,Fc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,Fc,e.getBoundingClientRect().height),e.remove()},Fj=function(e,t,i){const r=f(this,Rm).get(e);if(r)return r;const s=U(this,Ys,PS).call(this,i);s.canvas.width=s.canvas.height=IG,U(this,Ys,aD).call(this,s,IG,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(or.platform.isFirefox&&Je("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,Rm).set(e,u),u},F(Hn,Ys),F(Hn,Rm,new Map),F(Hn,Jf,new Map),F(Hn,Xb,new WeakMap),F(Hn,Fc,null),F(Hn,Dm,new Set),Hn);const Ide=100;function bQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new oD,{docId:t}=e,i=n.url?Lce(n.url):null,r=n.data?Nce(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof Uj?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof AD?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!b1(n.docBaseUrl)?n.docBaseUrl:null,v=mx(n.cMapUrl),b=n.cMapPacked!==!1,C=n.CMapReaderFactory||(Rr?zce:pG),E=mx(n.iccUrl),S=mx(n.standardFontDataUrl),I=n.StandardFontDataFactory||(Rr?qce:gG),T=mx(n.wasmUrl),R=n.WasmFactory||(Rr?$ce:mG),M=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,N=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Rr,k=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Rr&&(or.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,G=typeof n.disableFontFace=="boolean"?n.disableFontFace:Rr,z=n.fontExtraProperties===!0,J=n.enableXfa===!0,ne=n.ownerDocument||globalThis.document,pe=n.disableRange===!0,V=n.disableStream===!0,$=n.disableAutoFetch===!0,ie=n.pdfBug===!0,ue=n.CanvasFactory||(Rr?Kce:Hce),Ce=n.FilterFactory||(Rr?Gce:Vce),q=n.enableHWA===!0,Y=n.useWasm!==!1,Ae=l?l.length:n.length??NaN,de=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Rr&&!G,be=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(C===pG&&I===gG&&R===mG&&v&&S&&T&&M0(v,document.baseURI)&&M0(S,document.baseURI)&&M0(T,document.baseURI)),ye=null;uce(h);const we={canvasFactory:new ue({ownerDocument:ne,enableHWA:q}),filterFactory:new Ce({docId:t,ownerDocument:ne}),cMapReaderFactory:be?null:new C({baseUrl:v,isCompressed:b}),standardFontDataFactory:be?null:new I({baseUrl:S}),wasmFactory:be?null:new R({baseUrl:T})};d||(d=AD.create({verbosity:h,port:Gl.workerPort}),e._worker=d);const ft={docId:t,apiVersion:"5.4.449",data:r,password:o,disableAutoFetch:$,rangeChunkSize:u,length:Ae,docBaseUrl:g,enableXfa:J,evaluatorOptions:{maxImageSize:D,disableFontFace:G,ignoreErrors:M,isEvalSupported:N,isOffscreenCanvasSupported:H,isImageDecoderSupported:k,canvasMaxAreaInBytes:K,fontExtraProperties:z,useSystemFonts:de,useWasm:Y,useWorkerFetch:be,cMapUrl:v,iccUrl:E,standardFontDataUrl:S,wasmUrl:T}},ae={ownerDocument:ne,pdfBug:ie,styleElement:ye,loadingParams:{disableAutoFetch:$,enableXfa:J}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Qe=d.messageHandler.sendWithPromise("GetDocRequest",ft,r?[r.buffer]:null);let He;if(l)He=new cde(l,{disableRange:pe,disableStream:V});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ge=M0(i)?pde:Rr?xde:wde;He=new ge({url:i,length:Ae,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:pe,disableStream:V})}return Qe.then(ge=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const An=new O0(t,ge,d.port),We=new Mde(An,e,He,ae,we,q);e._transport=We,An.send("Ready",null)})}).catch(e._capability.reject),e}var JT;const ZT=class ZT{constructor(){he(this,"_capability",Promise.withResolvers());he(this,"_transport",null);he(this,"_worker",null);he(this,"docId",`d${qn(ZT,JT)._++}`);he(this,"destroyed",!1);he(this,"onPassword",null);he(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};JT=new WeakMap,F(ZT,JT,0);let oD=ZT;var Zf,Jb,Zb,eC,tC,S6;let Uj=(S6=class{constructor(e,t,i=!1,r=null){F(this,Zf,Promise.withResolvers());F(this,Jb,[]);F(this,Zb,[]);F(this,eC,[]);F(this,tC,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){f(this,tC).push(e)}addProgressListener(e){f(this,eC).push(e)}addProgressiveReadListener(e){f(this,Zb).push(e)}addProgressiveDoneListener(e){f(this,Jb).push(e)}onDataRange(e,t){for(const i of f(this,tC))i(e,t)}onDataProgress(e,t){f(this,Zf).promise.then(()=>{for(const i of f(this,eC))i(e,t)})}onDataProgressiveRead(e){f(this,Zf).promise.then(()=>{for(const t of f(this,Zb))t(e)})}onDataProgressiveDone(){f(this,Zf).promise.then(()=>{for(const e of f(this,Jb))e()})}transportReady(){f(this,Zf).resolve()}requestDataRange(e,t){an("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Zf=new WeakMap,Jb=new WeakMap,Zb=new WeakMap,eC=new WeakMap,tC=new WeakMap,S6);class Fde{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var gl,eh,z0;class Ude{constructor(e,t,i,r=!1){F(this,eh);F(this,gl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new AG:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new Sj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new TB({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=sc.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:b=null}){var k,K,G;(k=this._stats)==null||k.time("Overall");const C=this._transport.getRenderingIntent(r,s,h,g),{renderingIntent:E,cacheKey:S}=C;_(this,gl,!1),l||(l=this._transport.getOptionalContentConfig(E));let I=this._intentStates.get(S);I||(I=Object.create(null),this._intentStates.set(S,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(E&Vs.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(C));const R=!!(this._pdfBug&&((G=globalThis.StepperManager)!=null&&G.enabled)),M=!this.recordedBBoxes&&(v||R),D=z=>{var J,ne;if(I.renderTasks.delete(N),M){const pe=(J=N.gfx)==null?void 0:J.dependencyTracker.take();pe&&(N.stepper&&N.stepper.setOperatorBBoxes(pe,N.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=pe))}T&&_(this,gl,!0),U(this,eh,z0).call(this),z?(N.capability.reject(z),this._abortOperatorList({intentState:I,reason:z instanceof Error?z:new Error(z)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ne=globalThis.Stats)!=null&&ne.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new lD({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:M?new Wce(t,I.operatorList.length,R):null,viewport:i,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:b});(I.renderTasks||(I.renderTasks=new Set)).add(N);const H=N.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([z,J])=>{var ne;if(this.destroyed){D();return}if((ne=this._stats)==null||ne.time("Rendering"),!(J.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:z,optionalContentConfig:J}),N.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:t=sc.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,i,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_w.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:l,done:u}){if(u){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),_(this,gl,!1),Promise.all(e)}cleanup(e=!1){_(this,gl,!0);const t=U(this,eh,z0).call(this);return e&&t&&this._stats&&(this._stats=new AG),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&U(this,eh,z0).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:a}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();U(this,eh,z0).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof gQ){let r=Ide;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Ed(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}gl=new WeakMap,eh=new WeakSet,z0=function(){if(!f(this,gl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,gl,!1),!0};var Uc,so,ml,th,rn,e1,nh,ih,Qr,RS,Mj,Pj,q0,Lm,DS;let AD=(rn=class{constructor({name:e=null,port:t=null,verbosity:i=cce()}={}){F(this,Qr);F(this,Uc,Promise.withResolvers());F(this,so,null);F(this,ml,null);F(this,th,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(f(rn,ih).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(rn,ih).set(t,this),U(this,Qr,Mj).call(this,t)}else U(this,Qr,Pj).call(this)}get promise(){return f(this,Uc).promise}get port(){return f(this,ml)}get messageHandler(){return f(this,so)}destroy(){var e,t;this.destroyed=!0,(e=f(this,th))==null||e.terminate(),_(this,th,null),f(rn,ih).delete(f(this,ml)),_(this,ml,null),(t=f(this,so))==null||t.destroy(),_(this,so,null)}static create(e){const t=f(this,ih).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new rn(e)}static get workerSrc(){if(Gl.workerSrc)return Gl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ze(this,"_setupFakeWorkerGlobal",(async()=>f(this,Lm,DS)?f(this,Lm,DS):(await import(this.workerSrc)).WorkerMessageHandler)())}},Uc=new WeakMap,so=new WeakMap,ml=new WeakMap,th=new WeakMap,e1=new WeakMap,nh=new WeakMap,ih=new WeakMap,Qr=new WeakSet,RS=function(){f(this,Uc).resolve(),f(this,so).send("configure",{verbosity:this.verbosity})},Mj=function(e){_(this,ml,e),_(this,so,new O0("main","worker",e)),f(this,so).on("ready",()=>{}),U(this,Qr,RS).call(this)},Pj=function(){if(f(rn,nh)||f(rn,Lm,DS)){U(this,Qr,q0).call(this);return}let{workerSrc:e}=rn;try{rn._isSameOrigin(window.location,e)||(e=rn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new O0("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?f(this,Uc).reject(new Error("Worker was destroyed")):U(this,Qr,q0).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,th)||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}_(this,so,i),_(this,ml,t),_(this,th,t),U(this,Qr,RS).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{U(this,Qr,q0).call(this)}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{w1("The worker has been disabled.")}U(this,Qr,q0).call(this)},q0=function(){f(rn,nh)||(Je("Setting up fake worker."),_(rn,nh,!0)),rn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,Uc).reject(new Error("Worker was destroyed"));return}const t=new Oce;_(this,ml,t);const i=`fake${qn(rn,e1)._++}`,r=new O0(i+"_worker",i,t);e.setup(r,t),_(this,so,new O0(i,i+"_worker",t)),U(this,Qr,RS).call(this)}).catch(e=>{f(this,Uc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Lm=new WeakSet,DS=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},F(rn,Lm),F(rn,e1,0),F(rn,nh,!1),F(rn,ih,new WeakMap),Rr&&(_(rn,nh,!0),Gl.workerSrc||(Gl.workerSrc="./pdf.worker.mjs")),rn._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},rn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},rn.fromPort=e=>{if(Bce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return rn.create(e)},rn);var vl,Xo,Nm,Qm,yl,rh,$0;class Mde{constructor(e,t,i,r,s,a){F(this,rh);F(this,vl,new Map);F(this,Xo,new Map);F(this,Nm,new Map);F(this,Qm,new Map);F(this,yl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Sj,this.fontLoader=new Rce({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Ze(this,"annotationStorage",new vQ)}getRenderingIntent(e,t=sc.ENABLE,i=null,r=!1,s=!1){let a=Vs.DISPLAY,o=GR;switch(e){case"any":a=Vs.ANY;break;case"display":break;case"print":a=Vs.PRINT;break;default:Je(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Vs.PRINT&&i instanceof uj?i:this.annotationStorage;switch(t){case sc.DISABLE:a+=Vs.ANNOTATIONS_DISABLE;break;case sc.ENABLE:break;case sc.ENABLE_FORMS:a+=Vs.ANNOTATIONS_FORMS;break;case sc.ENABLE_STORAGE:a+=Vs.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Je(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=Vs.IS_EDITING),s&&(a+=Vs.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=f(this,yl))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of f(this,Xo).values())e.push(r._destroy());f(this,Xo).clear(),f(this,Nm).clear(),f(this,Qm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,vl).clear(),this.filterFactory.destroy(),rD.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Ed("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Et(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Et(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(i,r)=>{Et(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Et(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Fde(i,this))}),e.on("DocException",i=>{t._capability.reject(Wr(i))}),e.on("PasswordRequest",i=>{_(this,yl,Promise.withResolvers());try{if(!t.onPassword)throw Wr(i);const r=s=>{s instanceof Error?f(this,yl).reject(s):f(this,yl).resolve({password:s})};t.onPassword(r,i.code)}catch(r){f(this,yl).reject(r)}return f(this,yl).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;f(this,Xo).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const g=s.error;Je(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const o=new KR(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new Dce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Et(d,"The imageRef must be defined.");for(const g of f(this,Xo).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(i,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new zR(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var l;if(this.destroyed)return;const o=f(this,Xo).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Je("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=f(this,Nm).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,Qm).set(s.refStr,e);const a=new Ude(t,s,this,this._params.pdfBug);return f(this,Xo).set(t,a),a});return f(this,Nm).set(t,r),r}getPageIndex(e){return qR(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return U(this,rh,$0).call(this,"GetFieldObjects")}hasJSActions(){return U(this,rh,$0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return U(this,rh,$0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return U(this,rh,$0).call(this,"GetOptionalContentConfig").then(t=>new ude(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,vl).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new Ade(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:r[2]}});return f(this,vl).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,Xo).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,vl).clear(),this.filterFactory.destroy(!0),rD.cleanup()}}cachedPageNumber(e){if(!qR(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,Qm).get(t)??null}}vl=new WeakMap,Xo=new WeakMap,Nm=new WeakMap,Qm=new WeakMap,yl=new WeakMap,rh=new WeakSet,$0=function(e,t=null){const i=f(this,vl).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return f(this,vl).set(e,r),r};var Mc;class Pde{constructor(e){F(this,Mc,null);he(this,"onContinue",null);he(this,"onError",null);_(this,Mc,e)}get promise(){return f(this,Mc).capability.promise}cancel(e=0){f(this,Mc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,Mc).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,Mc);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Mc=new WeakMap;var Pc,sh;const df=class df{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:b=null}){F(this,Pc,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Pde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(df,sh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(df,sh).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Qg(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),f(this,Pc)&&(window.cancelAnimationFrame(f(this,Pc)),_(this,Pc,null)),f(df,sh).delete(this._canvas),e||(e=new gQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,Pc,window.requestAnimationFrame(()=>{_(this,Pc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(df,sh).delete(this._canvas),this.callback())))}};Pc=new WeakMap,sh=new WeakMap,F(df,sh,new WeakSet);let lD=df;const Rj="5.4.449",Rde="f44e5f0e6";var Ts,ah,km,hi,nC,Om,wl,iC,Rc,ao,Zi,rC,Jt,uD,cD,dD,nf,Lj,Yu;let Dj=(Zi=class{constructor({editor:e=null,uiManager:t=null}){F(this,Jt);F(this,Ts,null);F(this,ah,null);F(this,km);F(this,hi,null);F(this,nC,!1);F(this,Om,!1);F(this,wl,null);F(this,iC);F(this,Rc,null);F(this,ao,null);var i,r;e?(_(this,Om,!1),_(this,wl,e)):_(this,Om,!0),_(this,ao,(e==null?void 0:e._uiManager)||t),_(this,iC,f(this,ao)._eventBus),_(this,km,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=f(this,ao))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),f(Zi,rC)||_(Zi,rC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ze(this,"_keyboardManager",new FB([[["Escape","mac+Escape"],Zi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Zi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Zi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Zi.prototype._moveToPrevious],[["Home","mac+Home"],Zi.prototype._moveToBeginning],[["End","mac+End"],Zi.prototype._moveToEnd]]))}renderButton(){const e=_(this,Ts,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,wl)&&(e.ariaControls=`${f(this,wl).id}_colorpicker_dropdown`);const t=f(this,ao)._signal;e.addEventListener("click",U(this,Jt,nf).bind(this),{signal:t}),e.addEventListener("keydown",U(this,Jt,dD).bind(this),{signal:t});const i=_(this,ah,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=f(this,km),e.append(i),e}renderMainDropdown(){const e=_(this,hi,U(this,Jt,uD).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,Ts)){U(this,Jt,nf).call(this,e);return}const t=e.target.getAttribute("data-color");t&&U(this,Jt,cD).call(this,t,e)}_moveToNext(e){var t,i;if(!f(this,Jt,Yu)){U(this,Jt,nf).call(this,e);return}if(e.target===f(this,Ts)){(t=f(this,hi).firstElementChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=f(this,hi))==null?void 0:t.firstElementChild)||e.target===f(this,Ts)){f(this,Jt,Yu)&&this._hideDropdownFromKeyboard();return}f(this,Jt,Yu)||U(this,Jt,nf).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!f(this,Jt,Yu)){U(this,Jt,nf).call(this,e);return}(t=f(this,hi).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,Jt,Yu)){U(this,Jt,nf).call(this,e);return}(t=f(this,hi).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,hi))==null||e.classList.add("hidden"),f(this,Ts).ariaExpanded="false",(t=f(this,Rc))==null||t.abort(),_(this,Rc,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,Om)){if(!f(this,Jt,Yu)){(e=f(this,wl))==null||e.unselect();return}this.hideDropdown(),f(this,Ts).focus({preventScroll:!0,focusVisible:f(this,nC)})}}updateColor(e){if(f(this,ah)&&(f(this,ah).style.backgroundColor=e),!f(this,hi))return;const t=f(this,ao).highlightColors.values();for(const i of f(this,hi).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,Ts))==null||e.remove(),_(this,Ts,null),_(this,ah,null),(t=f(this,hi))==null||t.remove(),_(this,hi,null)}},Ts=new WeakMap,ah=new WeakMap,km=new WeakMap,hi=new WeakMap,nC=new WeakMap,Om=new WeakMap,wl=new WeakMap,iC=new WeakMap,Rc=new WeakMap,ao=new WeakMap,rC=new WeakMap,Jt=new WeakSet,uD=function(){const e=document.createElement("div"),t=f(this,ao)._signal;e.addEventListener("contextmenu",Va,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,wl)&&(e.id=`${f(this,wl).id}_colorpicker_dropdown`);for(const[i,r]of f(this,ao).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",f(Zi,rC)[i]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===f(this,km),s.addEventListener("click",U(this,Jt,cD).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",U(this,Jt,dD).bind(this),{signal:t}),e},cD=function(e,t){t.stopPropagation(),f(this,iC).dispatch("switchannotationeditorparams",{source:this,type:Bt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},dD=function(e){Zi._keyboardManager.exec(this,e)},nf=function(e){if(f(this,Jt,Yu)){this.hideDropdown();return}if(_(this,nC,e.detail===0),f(this,Rc)||(_(this,Rc,new AbortController),window.addEventListener("pointerdown",U(this,Jt,Lj).bind(this),{signal:f(this,ao).combinedSignal(f(this,Rc))})),f(this,Ts).ariaExpanded="true",f(this,hi)){f(this,hi).classList.remove("hidden");return}const t=_(this,hi,U(this,Jt,uD).call(this));f(this,Ts).append(t)},Lj=function(e){var t;(t=f(this,hi))!=null&&t.contains(e.target)||this.hideDropdown()},Yu=function(){return f(this,hi)&&!f(this,hi).classList.contains("hidden")},F(Zi,rC,null),Zi);var Jo,sC,Hm,aC;const ff=class ff{constructor(e){F(this,Jo,null);F(this,sC,null);F(this,Hm,null);_(this,sC,e),_(this,Hm,e._uiManager),f(ff,aC)||_(ff,aC,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,Jo))return f(this,Jo);const{editorType:e,colorType:t,color:i}=f(this,sC),r=_(this,Jo,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",f(ff,aC)[e]),r.addEventListener("input",()=>{f(this,Hm).updateParams(t,r.value)},{signal:f(this,Hm)._signal}),r}update(e){f(this,Jo)&&(f(this,Jo).value=e)}destroy(){var e;(e=f(this,Jo))==null||e.remove(),_(this,Jo,null)}hideDropdown(){}};Jo=new WeakMap,sC=new WeakMap,Hm=new WeakMap,aC=new WeakMap,F(ff,aC,null);let N_=ff;function FG(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function p0(n){return Math.max(0,Math.min(255,255*n))}class UG{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=p0(e),[e,e,e]}static G_HTML([e]){const t=FG(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(p0)}static RGB_HTML(e){return`#${e.map(FG).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[p0(1-Math.min(1,e+r)),p0(1-Math.min(1,i+r)),p0(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class Dde{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){an("Abstract method `_createSVG` called.")}}let Q_=class extends Dde{_createSVG(e){return document.createElementNS(KA,e)}};const Lde=9,ep=new WeakSet,Nde=new Date().getTimezoneOffset()*60*1e3;class WU{static create(e){switch(e.data.annotationType){case si.LINK:return new CQ(e);case si.TEXT:return new kde(e);case si.WIDGET:switch(e.data.fieldType){case"Tx":return new Ode(e);case"Btn":return e.data.radioButton?new kj(e):e.data.checkBox?new Vde(e):new Gde(e);case"Ch":return new Kde(e);case"Sig":return new Hde(e)}return new lp(e);case si.POPUP:return new hD(e);case si.FREETEXT:return new Kj(e);case si.LINE:return new qde(e);case si.SQUARE:return new $de(e);case si.CIRCLE:return new jde(e);case si.POLYLINE:return new zj(e);case si.CARET:return new Yde(e);case si.INK:return new BQ(e);case si.POLYGON:return new Wde(e);case si.HIGHLIGHT:return new qj(e);case si.UNDERLINE:return new Xde(e);case si.SQUIGGLY:return new Jde(e);case si.STRIKEOUT:return new Zde(e);case si.STAMP:return new $j(e);case si.FILEATTACHMENT:return new efe(e);default:return new Mn(e)}}}var oh,Vm,_a,oC,fD;const bO=class bO{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){F(this,oC);F(this,oh,null);F(this,Vm,!1);F(this,_a,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return bO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((i==null?void 0:i.length)>=1){for(const l of i)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-a)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${xw}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${xw}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,_a))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,_a,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,oh)||_(this,oh,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&U(this,oC,fD).call(this,t);let r=((s=f(this,_a))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=f(this,_a).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),_(this,_a,null),this.popup=null))}resetEdited(){var e;f(this,oh)&&(U(this,oC,fD).call(this,f(this,oh).rect),(e=f(this,_a))==null||e.popup.resetEdited(),_(this,oh,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof lp)&&!(this instanceof CQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof hD){const{rotation:C}=t;return!t.hasOwnCanvas&&C!==0&&this.setRotation(C,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const C=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(C>0||E>0){const I=`calc(${C}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof kj){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case cg.SOLID:a.borderStyle="solid";break;case cg.DASHED:a.borderStyle="dashed";break;case cg.BEVELED:Je("Unimplemented border style: beveled");break;case cg.INSET:Je("Unimplemented border style: inset");break;case cg.UNDERLINE:a.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(_(this,Vm,!0),a.borderColor=Pe.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const u=Pe.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=r.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*a/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=UG[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:UG[`${a}_rgb`](o)})};return Ze(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const a=i[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,E,S,I]=e.subarray(2,6);if(r===C&&s===E&&t===S&&i===I)return}const{style:a}=this.container;let o;if(f(this,Vm)){const{borderColor:C,borderWidth:E}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let C=2,E=e.length;C<E;C+=8){const S=e[C],I=e[C+1],T=e[C+2],R=e[C+3],M=d.createElement("rect"),D=(T-t)/l,N=(s-I)/u,H=(S-T)/l,k=(I-R)/u;M.setAttribute("x",D),M.setAttribute("y",N),M.setAttribute("width",H),M.setAttribute("height",k),v.append(M),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${N}" width="${H}" height="${k}"/>`)}f(this,Vm)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),_(this,_a,new hD({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,_a)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,_a)}render(){an("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!ep.has(u)){Je(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&ep.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};oh=new WeakMap,Vm=new WeakMap,_a=new WeakMap,oC=new WeakSet,fD=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(r)};let Mn=bO;class Qde extends Mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var zs,rf,Nj,Qj;class CQ extends Mn{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});F(this,zs);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(U(this,zs,Nj).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(U(this,zs,Qj).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&U(this,zs,rf).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),U(this,zs,rf).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),U(this,zs,rf).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),U(this,zs,rf).call(this),!this._fieldObjects){Je('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:a,include:o}=i,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const b=this._fieldObjects[v]||[];for(const{id:C}of b)g.add(C)}for(const v of Object.values(this._fieldObjects))for(const b of v)g.has(b.id)===o&&l.push(b)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}case"checkbox":case"radiobutton":{const C=g.defaultValue===g.exportValues;u.setValue(v,{value:C});break}case"combobox":case"listbox":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}default:continue}const b=document.querySelector(`[data-element-id="${v}"]`);if(b){if(!ep.has(b)){Je(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}zs=new WeakSet,rf=function(){this.container.setAttribute("data-internal-link","")},Nj=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},U(this,zs,rf).call(this)},Qj=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),U(this,zs,rf).call(this)};class kde extends Mn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class lp extends Mn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return or.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,i,r){var s,a,o;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Pe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Lde,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(HU*r))||1,h=u/d;a=Math.min(r,l(h/HU))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(u/HU))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Pe.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Ode extends lp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),ep.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,b=!!g&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",E=>{e.setValue(t,{value:E.target.value}),this.setPropertyOnSiblings(i,"value",E.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",E=>{const S=this.data.defaultFieldValue??"";i.value=d.userValue=S,d.formattedValue=null});let C=E=>{const{formattedValue:S}=d;S!=null&&(E.target.value=S),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",S=>{var T;if(d.focused)return;const{target:I}=S;if(b&&(I.type=g,v&&(I.step=v)),d.userValue){const R=d.userValue;if(b)if(g==="time"){const M=new Date(R),D=[M.getHours(),M.getMinutes(),M.getSeconds()];I.value=D.map(N=>N.toString().padStart(2,"0")).join(":")}else I.value=new Date(R-Nde).toISOString().split(g==="date"?"T":".",1)[0];else I.value=R}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const I={value(T){d.userValue=T.detail.value??"",b||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:R}=T.detail;d.formattedValue=R,R!=null&&T.target!==document.activeElement&&(T.target.value=R);const M={formattedValue:R};b&&(M.value=R),e.setValue(t,M)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var N;const{charLimit:R}=T.detail,{target:M}=T;if(R===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",R);let D=d.userValue;!D||D.length<=R||(D=D.slice(0,R),M.value=d.userValue=D,e.setValue(t,{value:D}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(I,S)}),i.addEventListener("keydown",S=>{var R;d.commitKey=1;let I=-1;if(S.key==="Escape"?I=0:S.key==="Enter"&&!this.data.multiLine?I=2:S.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=S.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const E=C;C=null,i.addEventListener("blur",S=>{var R,M;if(!d.focused||!S.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(d.focused=!1);const{target:I}=S;let{value:T}=I;if(b){if(T&&g==="time"){const D=T.split(":").map(N=>parseInt(N,10));T=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),E(S)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",S=>{var k;d.lastCommittedValue=null;const{data:I,target:T}=S,{value:R,selectionStart:M,selectionEnd:D}=T;let N=M,H=D;switch(S.inputType){case"deleteWordBackward":{const K=R.substring(0,M).match(/\w*[^\w]*$/);K&&(N-=K[0].length);break}case"deleteWordForward":{const K=R.substring(M).match(/^[^\w]*\w*/);K&&(H+=K[0].length);break}case"deleteContentBackward":M===D&&(N-=1);break;case"deleteContentForward":M===D&&(H+=1);break}S.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:I||"",willCommit:!1,selStart:N,selEnd:H}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(C&&i.addEventListener("blur",C),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Hde extends lp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Vde extends lp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return ep.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class kj extends lp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(ep.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===i;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Gde extends CQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class Kde extends lp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");ep.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=r;return v?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const C of r.options)C.selected=b.has(C.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){r.multiple=!0},remove(g){const v=r.options,b=g.detail.remove;v[b].selected=!1,r.remove(b),v.length>0&&Array.prototype.findIndex.call(v,E=>E.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:b,exportValue:C}=g.detail.insert,E=r.children[v],S=document.createElement("option");S.textContent=b,S.value=C,E?E.before(S):r.append(S),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;r.length!==0;)r.remove(0);for(const b of v){const{displayValue:C,exportValue:E}=b,S=document.createElement("option");S.textContent=C,S.value=E,r.append(S)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const b of g.target.options)b.selected=v.has(b.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var AC,pD;class hD extends Mn{constructor(t){const{data:i,elements:r,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Mn._hasPopupData(i)});F(this,AC);if(this.elements=r,a&&Mn._hasPopupData(i)){const o=this.popup=U(this,AC,pD).call(this);for(const l of r)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=U(this,AC,pD).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${Sg}${s}`).join(",")),this.container}}AC=new WeakSet,pD=function(){return new zde({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Is,Dc,t1,n1,Gm,Km,Qn,Zo,Lc,Ah,zm,qm,eA,Fs,bl,Cl,kn,Bl,Nc,lC,El,$m,lh,Qc,Fi,kc,lt,LS,gD,mD,vD,NS,yD,Oj,Hj,Vj,Gj,QS,kS,wD;class zde{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){F(this,lt);F(this,Is,null);F(this,Dc,U(this,lt,Vj).bind(this));F(this,t1,U(this,lt,wD).bind(this));F(this,n1,U(this,lt,kS).bind(this));F(this,Gm,U(this,lt,QS).bind(this));F(this,Km,null);F(this,Qn,null);F(this,Zo,null);F(this,Lc,null);F(this,Ah,null);F(this,zm,null);F(this,qm,null);F(this,eA,!1);F(this,Fs,null);F(this,bl,null);F(this,Cl,null);F(this,kn,null);F(this,Bl,null);F(this,Nc,null);F(this,lC,null);F(this,El,null);F(this,$m,null);F(this,lh,null);F(this,Qc,!1);F(this,Fi,null);F(this,kc,null);_(this,Qn,e),_(this,$m,r),_(this,Zo,a),_(this,El,o),_(this,zm,l),_(this,Km,t),_(this,lC,u),_(this,qm,d),_(this,Ah,i),_(this,Is,g),_(this,Fi,i[0]),_(this,Lc,BR.toDateObject(s)),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),g||(U(this,lt,LS).call(this),f(this,Qn).hidden=!0,h&&U(this,lt,QS).call(this))}renderCommentButton(){if(f(this,kn)){f(this,kn).parentNode||f(this,Fi).container.after(f(this,kn));return}if(f(this,Bl)||U(this,lt,gD).call(this),!f(this,Bl))return;const{signal:e}=_(this,bl,new AbortController),t=f(this,Fi).hasOwnCommentButton,i=()=>{f(this,Is).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{f(this,Is).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,Is).toggleCommentPopup(this,!1,!1)};if(t){_(this,kn,f(this,Fi).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,Dc),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,kn,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,Fi).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),U(this,lt,vD).call(this),U(this,lt,mD).call(this),a.addEventListener("keydown",f(this,Dc),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,Fi).commentData;return e?f(this,zm)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,kn))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=f(this,Fi).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return f(this,kn)}get comment(){return f(this,kc)||_(this,kc,f(this,Fi).commentText),f(this,kc)}set comment(e){e!==this.comment&&(f(this,Fi).commentText=_(this,kc,e))}focus(){var e;(e=f(this,Fi).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,Fi).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,kn)&&(f(this,kn).classList.toggle("selected",e),f(this,kn).ariaExpanded=t)}setSelectedCommentButton(e){f(this,kn).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,Nc))return f(this,Nc);const{x:e,y:t,height:i}=f(this,kn).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,Fi).layer.getBoundingClientRect();return[(e-r)/a,(t+i-s)/o]}set commentPopupPosition(e){_(this,Nc,e)}hasDefaultPopupPosition(){return f(this,Nc)===null}get commentButtonPosition(){return f(this,Bl)}get commentButtonWidth(){return f(this,kn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=f(this,Nc)||this.commentButtonPosition.map(u=>u/100),r=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=r;f(this,Is).showDialog(null,this,s+t*o,a+i*l,{...e,parentDimensions:r})}render(){var i,r;if(f(this,Fs))return;const e=_(this,Fs,document.createElement("div"));if(e.className="popup",f(this,Km)){const s=e.style.outlineColor=Pe.makeHexColor(...f(this,Km));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=f(this,$m))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,$m)}if(e.append(t),f(this,Lc)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,Lc).valueOf()})),s.dateTime=f(this,Lc).toISOString(),t.append(s)}T$({html:f(this,lt,NS)||f(this,Zo).str,dir:(r=f(this,Zo))==null?void 0:r.dir,className:"popupContent"},e),f(this,Qn).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(f(this,Is)){i?(this.remove(),_(this,kc,null)):t&&(t.deleted?this.remove():(U(this,lt,vD).call(this),_(this,kc,t.text))),e&&(_(this,Bl,null),U(this,lt,gD).call(this),U(this,lt,mD).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}U(this,lt,LS).call(this),f(this,lh)||_(this,lh,{contentsObj:f(this,Zo),richText:f(this,El)}),e&&_(this,Cl,null),t&&t.text&&(_(this,El,U(this,lt,Hj).call(this,t.text)),_(this,Lc,BR.toDateObject(t.date)),_(this,Zo,null)),(r=f(this,Fs))==null||r.remove(),_(this,Fs,null)}resetEdited(){var e;f(this,lh)&&({contentsObj:qn(this,Zo)._,richText:qn(this,El)._}=f(this,lh),_(this,lh,null),(e=f(this,Fs))==null||e.remove(),_(this,Fs,null),_(this,Cl,null))}remove(){var e,t,i;if((e=f(this,bl))==null||e.abort(),_(this,bl,null),(t=f(this,Fs))==null||t.remove(),_(this,Fs,null),_(this,Qc,!1),_(this,eA,!1),(i=f(this,kn))==null||i.remove(),_(this,kn,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){_(this,Qc,this.isVisible),f(this,Qc)&&(f(this,Qn).hidden=!0)}maybeShow(){f(this,Is)||(U(this,lt,LS).call(this),f(this,Qc)&&(f(this,Fs)||U(this,lt,kS).call(this),_(this,Qc,!1),f(this,Qn).hidden=!1))}get isVisible(){return f(this,Is)?!1:f(this,Qn).hidden===!1}}Is=new WeakMap,Dc=new WeakMap,t1=new WeakMap,n1=new WeakMap,Gm=new WeakMap,Km=new WeakMap,Qn=new WeakMap,Zo=new WeakMap,Lc=new WeakMap,Ah=new WeakMap,zm=new WeakMap,qm=new WeakMap,eA=new WeakMap,Fs=new WeakMap,bl=new WeakMap,Cl=new WeakMap,kn=new WeakMap,Bl=new WeakMap,Nc=new WeakMap,lC=new WeakMap,El=new WeakMap,$m=new WeakMap,lh=new WeakMap,Qc=new WeakMap,Fi=new WeakMap,kc=new WeakMap,lt=new WeakSet,LS=function(){var t;if(f(this,bl))return;_(this,bl,new AbortController);const{signal:e}=f(this,bl);for(const i of this.trigger)i.addEventListener("click",f(this,Gm),{signal:e}),i.addEventListener("pointerenter",f(this,n1),{signal:e}),i.addEventListener("pointerleave",f(this,t1),{signal:e}),i.classList.add("popupTriggerArea");for(const i of f(this,Ah))(t=i.container)==null||t.addEventListener("keydown",f(this,Dc),{signal:e})},gD=function(){const e=f(this,Ah).find(t=>t.hasCommentButton);e&&_(this,Bl,e._normalizePoint(e.commentButtonPosition))},mD=function(){if(f(this,Fi).extraPopupElement&&!f(this,Fi).editor)return;f(this,kn)||this.renderCommentButton();const[e,t]=f(this,Bl),{style:i}=f(this,kn);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},vD=function(){f(this,Fi).extraPopupElement||(f(this,kn)||this.renderCommentButton(),f(this,kn).style.backgroundColor=this.commentButtonColor||"")},NS=function(){const e=f(this,El),t=f(this,Zo);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,El).html||null},yD=function(){var e,t,i;return((i=(t=(e=f(this,lt,NS))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},Oj=function(){var e,t,i;return((i=(t=(e=f(this,lt,NS))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},Hj=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:f(this,lt,Oj),fontSize:f(this,lt,yD)?`calc(${f(this,lt,yD)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},Vj=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,eA))&&U(this,lt,QS).call(this)},Gj=function(){if(f(this,Cl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=f(this,zm);let a=!!f(this,qm),o=a?f(this,qm):f(this,lC);for(const b of f(this,Ah))if(!o||Pe.intersect(b.data.rect,o)!==null){o=b.data.rect,a=!0;break}const l=Pe.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,Cl,[100*(h-r)/t,100*(g-s)/i]);const{style:v}=f(this,Qn);v.left=`${f(this,Cl)[0]}%`,v.top=`${f(this,Cl)[1]}%`},QS=function(){if(f(this,Is)){f(this,Is).toggleCommentPopup(this,!1);return}_(this,eA,!f(this,eA)),f(this,eA)?(U(this,lt,kS).call(this),f(this,Qn).addEventListener("click",f(this,Gm)),f(this,Qn).addEventListener("keydown",f(this,Dc))):(U(this,lt,wD).call(this),f(this,Qn).removeEventListener("click",f(this,Gm)),f(this,Qn).removeEventListener("keydown",f(this,Dc)))},kS=function(){f(this,Fs)||this.render(),this.isVisible?f(this,eA)&&f(this,Qn).classList.add("focused"):(U(this,lt,Gj).call(this),f(this,Qn).hidden=!1,f(this,Qn).style.zIndex=parseInt(f(this,Qn).style.zIndex)+1e3)},wD=function(){f(this,Qn).classList.remove("focused"),!(f(this,eA)||!this.isVisible)&&(f(this,Qn).hidden=!0,f(this,Qn).style.zIndex=parseInt(f(this,Qn).style.zIndex)-1e3)};class Kj extends Mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=tt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var uC;class qde extends Mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,uC,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=_(this,uC,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,uC)}addHighlightArea(){this.container.classList.add("highlightArea")}}uC=new WeakMap;var cC;class $de extends Mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,cC,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,cC,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,cC)}addHighlightArea(){this.container.classList.add("highlightArea")}}cC=new WeakMap;var dC;class jde extends Mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,dC,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,dC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,dC)}addHighlightArea(){this.container.classList.add("highlightArea")}}dC=new WeakMap;var fC;class zj extends Mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,fC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:a,height:o}=this;if(!i)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=i.length;h<g;h+=2){const v=i[h]-t[0],b=t[3]-i[h+1];u.push(`${v},${b}`)}u=u.join(" ");const d=_(this,fC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,fC)}addHighlightArea(){this.container.classList.add("highlightArea")}}fC=new WeakMap;class Wde extends zj{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yde extends Mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var hC,uh,pC,bD;class BQ extends Mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,pC);F(this,hC,null);F(this,uh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?tt.HIGHLIGHT:tt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=U(this,pC,bD).call(this,i,t),d=this.svgFactory.create(l,u,!0),h=_(this,hC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=r.length;g<v;g++){const b=this.svgFactory.createElement(this.svgElementName);f(this,uh).push(b),b.setAttribute("points",r[g].join(",")),h.append(b)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,a=f(this,hC);if(i>=0&&a.setAttribute("stroke-width",i||1),r)for(let o=0,l=f(this,uh).length;o<l;o++)f(this,uh)[o].setAttribute("points",r[o].join(","));if(s){const{transform:o,width:l,height:u}=U(this,pC,bD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,uh)}addHighlightArea(){this.container.classList.add("highlightArea")}}hC=new WeakMap,uh=new WeakMap,pC=new WeakSet,bD=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class qj extends Mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=tt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Xde extends Mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Jde extends Mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Zde extends Mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class $j extends Mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=tt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var gC,mC,CD;class efe extends Mn{constructor(t){var r;super(t,{isRenderable:!0});F(this,mC);F(this,gC,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",U(this,mC,CD).bind(this)),_(this,gC,r);const{isMac:s}=or.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&U(this,mC,CD).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return f(this,gC)}addHighlightArea(){this.container.classList.add("highlightArea")}}gC=new WeakMap,mC=new WeakSet,CD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var ch,dh,jm,Oc,vC,fh,Us,yC,tu,OS,BD,Wm;let tfe=(Wm=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){F(this,tu);F(this,ch,null);F(this,dh,null);F(this,jm,null);F(this,Oc,new Map);F(this,vC,null);F(this,fh,null);F(this,Us,[]);F(this,yC,!1);this.div=e,_(this,ch,t),_(this,dh,i),_(this,vC,o||null),_(this,fh,u||null),_(this,jm,d||new vQ),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=l||null}hasEditableAnnotations(){return f(this,Oc).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;Jh(i,this.viewport);const r=new Map,s=[],a={data:null,layer:i,linkService:f(this,fh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Q_,annotationStorage:f(this,jm),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===si.POPUP;if(u){const g=r.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=WU.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,Us).push(d),l.popupRef)){const g=r.get(l.popupRef);g?g.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,Oc).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await U(this,tu,OS).call(this);for(const l of s){const u=a.elements=r.get(l.id);a.data=l;const d=WU.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Sg}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}U(this,tu,BD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,fh),svgFactory:new Q_,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=Wm._defaultBorderStyle),t.data=i;const r=WU.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${Sg}${i.id}`,f(this,Us).push(r))}await U(this,tu,OS).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Jh(t,{rotation:e.rotation}),U(this,tu,BD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Oc).values())}getEditableAnnotation(e){return f(this,Oc).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new Qde({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,fh),annotationStorage:f(this,jm)});return s.render(),s.contentElement.id=`${Sg}${i}`,s.createOrUpdatePopup(),f(this,Us).push(s),s}removeAnnotation(e){var r;const t=f(this,Us).findIndex(s=>s.data.id===e);if(t<0)return;const[i]=f(this,Us).splice(t,1);(r=f(this,ch))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);U(this,tu,OS).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Ze(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:cg.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},ch=new WeakMap,dh=new WeakMap,jm=new WeakMap,Oc=new WeakMap,vC=new WeakMap,fh=new WeakMap,Us=new WeakMap,yC=new WeakMap,tu=new WeakSet,OS=async function(){var i,r,s;if(f(this,Us).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,yC)){_(this,yC,!0);for(const{contentElement:a,data:{id:o}}of f(this,Us)){const l=a.id=`${Sg}${o}`;e.push((i=f(this,vC))==null?void 0:i.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,Us).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const b=u,C=o,E=(o+u)/2,S=v,I=h,T=(h+v)/2;if(E>=S&&T<=C)return-1;if(T>=b&&E<=I)return 1;const R=(a+l)/2,M=(d+g)/2;return R-M});const t=document.createDocumentFragment();for(const a of f(this,Us))t.append(a.container),this._commentManager?(s=((r=a.extraPopupElement)==null?void 0:r.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,ch))for(const a of f(this,Us))f(this,ch).addPointerInTextLayer(a.contentElement,!1)},BD=function(){var t;if(!f(this,dh))return;const e=this.div;for(const[i,r]of f(this,dh)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r);const o=f(this,Oc).get(i);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),o._hasNoCanvas=!1):o.canvas=r)}f(this,dh).clear()},Wm);const Bx=/\r\n?|\n/g;var Ms,wC,hh,Ps,ci,jj,Wj,Yj,HS,nu,VS,GS,Xj,xD,Jj;const vn=class vn extends pn{constructor(t){super({...t,name:"freeTextEditor"});F(this,ci);F(this,Ms,"");F(this,wC,`${this.id}-editor`);F(this,hh,null);F(this,Ps);he(this,"_colorPicker",null);this.color=t.color||vn._defaultColor||pn._defaultLineColor,_(this,Ps,t.fontSize||vn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=vn.prototype,i=a=>a.isEmpty(),r=Tw.TRANSLATE_SMALL,s=Tw.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new FB([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){pn.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Bt.FREETEXT_SIZE:vn._defaultFontSize=i;break;case Bt.FREETEXT_COLOR:vn._defaultColor=i;break}}updateParams(t,i){switch(t){case Bt.FREETEXT_SIZE:U(this,ci,jj).call(this,i);break;case Bt.FREETEXT_COLOR:U(this,ci,Wj).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Bt.FREETEXT_SIZE,vn._defaultFontSize],[Bt.FREETEXT_COLOR,vn._defaultColor||pn._defaultLineColor]]}get propertiesToUpdate(){return[[Bt.FREETEXT_SIZE,f(this,Ps)],[Bt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new N_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Bt.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-vn._internalPadding*t,-(vn._internalPadding+f(this,Ps))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,hh,new AbortController);const t=this._uiManager.combinedSignal(f(this,hh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,wC)),this._isDraggable=!0,(t=f(this,hh))==null||t.abort(),_(this,hh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,Ms),i=_(this,Ms,U(this,ci,Yj).call(this).trimEnd());if(t===i)return;const r=s=>{if(_(this,Ms,s),!s){this.remove();return}U(this,ci,GS).call(this),this._uiManager.rebuild(this),U(this,ci,HS).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),U(this,ci,HS).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){vn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,wC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${f(this,Ps)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let b,C;switch(this.rotation){case 0:b=t+(o[0]-g)/d,C=i+this.height-(o[1]-v)/h;break;case 90:b=t+(o[0]-g)/d,C=i-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:b=t-this.width+(o[0]-g)/d,C=i-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:b=t+(o[0]-g-this.height*h)/d,C=i+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(b*s,C*a,l,u)}else this._moveAfterPaste(t,i);U(this,ci,GS).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,C,E;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=U(b=vn,nu,xD).call(b,i.getData("text")||"").replaceAll(Bx,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const S=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(Bx,"")),S!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===S){I=h;continue}I.push(U(C=vn,nu,VS).call(C,T))}}d.push(l.nodeValue.slice(0,u).replaceAll(Bx,""))}else if(l===this.editorDiv){let S=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(S=h),S.push(U(E=vn,nu,VS).call(E,T))}_(this,Ms,`${d.join(`
`)}${s}${h.join(`
`)}`),U(this,ci,GS).call(this);const g=new Range;let v=Math.sumPrecise(d.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const I=S.nodeValue.length;if(v<=I){g.setStart(S,v),g.setEnd(S,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=vn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var o;let s=null;if(t instanceof Kj){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:b,contentsObj:C,creationDate:E,modificationDate:S},textContent:I,textPosition:T,parent:{page:{pageNumber:R}}}=t;if(!I||I.length===0)return null;s=t={annotationType:tt.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:R-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(C==null?void 0:C.str)||null,richText:b,creationDate:E,modificationDate:S}}const a=await super.deserialize(t,i,r);return _(a,Ps,t.fontSize),a.color=Pe.makeHexColor(...t.color),_(a,Ms,U(o=vn,nu,xD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=pn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:f(this,Ps),value:U(this,ci,Xj).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!U(this,ci,Jj).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${f(this,Ps)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of f(this,Ms).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),i.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,Ms)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ms=new WeakMap,wC=new WeakMap,hh=new WeakMap,Ps=new WeakMap,ci=new WeakSet,jj=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,Ps))*this.parentScale),_(this,Ps,s),U(this,ci,HS).call(this)},r=f(this,Ps);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Wj=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Yj=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(U(r=vn,nu,VS).call(r,s)),i=s);return t.join(`
`)},HS=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},nu=new WeakSet,VS=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Bx,"")},GS=function(){if(this.editorDiv.replaceChildren(),!!f(this,Ms))for(const t of f(this,Ms).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},Xj=function(){return f(this,Ms).replaceAll(""," ")},xD=function(t){return t.replaceAll(" ","")},Jj=function(t){const{value:i,fontSize:r,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},F(vn,nu),he(vn,"_freeTextDefaultContent",""),he(vn,"_internalPadding",0),he(vn,"_defaultColor",null),he(vn,"_defaultFontSize",10),he(vn,"_type","freetext"),he(vn,"_editorType",tt.FREETEXT);let ED=vn;class Fe{toSVGPath(){an("Abstract method `toSVGPath` must be implemented.")}get box(){an("Abstract getter `box` must be implemented.")}serialize(e,t){an("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*r,a[o+1]=i+e[o+1]*s;return a}static _rescaleAndSwap(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*r,a[o+1]=i+e[o]*s;return a}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,a){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+a)/6,(i+s)/2,(r+a)/2]}}he(Fe,"PRECISION",1e-4);var Rs,oo,Ym,Xm,tA,dt,ph,gh,bC,CC,Jm,Zm,Hc,BC,i1,r1,yi,j0,Zj,eW,tW,nW,iW,rW;const WA=class WA{constructor({x:e,y:t},i,r,s,a,o=0){F(this,yi);F(this,Rs);F(this,oo,[]);F(this,Ym);F(this,Xm);F(this,tA,[]);F(this,dt,new Float32Array(18));F(this,ph);F(this,gh);F(this,bC);F(this,CC);F(this,Jm);F(this,Zm);F(this,Hc,[]);_(this,Rs,i),_(this,Zm,s*r),_(this,Xm,a),f(this,dt).set([NaN,NaN,NaN,NaN,e,t],6),_(this,Ym,o),_(this,CC,f(WA,BC)*r),_(this,bC,f(WA,r1)*r),_(this,Jm,r),f(this,Hc).push(e,t)}isEmpty(){return isNaN(f(this,dt)[8])}add({x:e,y:t}){var k;_(this,ph,e),_(this,gh,t);const[i,r,s,a]=f(this,Rs);let[o,l,u,d]=f(this,dt).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,bC))return!1;const b=v-f(this,CC),C=b/v,E=C*h,S=C*g;let I=o,T=l;o=u,l=d,u+=E,d+=S,(k=f(this,Hc))==null||k.push(e,t);const R=-S/b,M=E/b,D=R*f(this,Zm),N=M*f(this,Zm);return f(this,dt).set(f(this,dt).subarray(2,8),0),f(this,dt).set([u+D,d+N],4),f(this,dt).set(f(this,dt).subarray(14,18),12),f(this,dt).set([u-D,d-N],16),isNaN(f(this,dt)[6])?(f(this,tA).length===0&&(f(this,dt).set([o+D,l+N],2),f(this,tA).push(NaN,NaN,NaN,NaN,(o+D-i)/s,(l+N-r)/a),f(this,dt).set([o-D,l-N],14),f(this,oo).push(NaN,NaN,NaN,NaN,(o-D-i)/s,(l-N-r)/a)),f(this,dt).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,dt).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(S,E))<Math.PI/2?([o,l,u,d]=f(this,dt).subarray(2,6),f(this,tA).push(NaN,NaN,NaN,NaN,((o+u)/2-i)/s,((l+d)/2-r)/a),[o,l,I,T]=f(this,dt).subarray(14,18),f(this,oo).push(NaN,NaN,NaN,NaN,((I+o)/2-i)/s,((T+l)/2-r)/a),!0):([I,T,o,l,u,d]=f(this,dt).subarray(0,6),f(this,tA).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),[u,d,o,l,I,T]=f(this,dt).subarray(12,18),f(this,oo).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,tA),t=f(this,oo);if(isNaN(f(this,dt)[6])&&!this.isEmpty())return U(this,yi,Zj).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);U(this,yi,tW).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return U(this,yi,eW).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,a){return new sW(e,t,i,r,s,a)}getOutlines(){var h;const e=f(this,tA),t=f(this,oo),i=f(this,dt),[r,s,a,o]=f(this,Rs),l=new Float32Array((((h=f(this,Hc))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,Hc)[g]-r)/a,l[g+1]=(f(this,Hc)[g+1]-s)/o;if(l[l.length-2]=(f(this,ph)-r)/a,l[l.length-1]=(f(this,gh)-s)/o,isNaN(i[6])&&!this.isEmpty())return U(this,yi,nW).call(this,l);const u=new Float32Array(f(this,tA).length+24+f(this,oo).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=U(this,yi,rW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return U(this,yi,iW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,Rs),f(this,Jm),f(this,Ym),f(this,Xm))}};Rs=new WeakMap,oo=new WeakMap,Ym=new WeakMap,Xm=new WeakMap,tA=new WeakMap,dt=new WeakMap,ph=new WeakMap,gh=new WeakMap,bC=new WeakMap,CC=new WeakMap,Jm=new WeakMap,Zm=new WeakMap,Hc=new WeakMap,BC=new WeakMap,i1=new WeakMap,r1=new WeakMap,yi=new WeakSet,j0=function(){const e=f(this,dt).subarray(4,6),t=f(this,dt).subarray(16,18),[i,r,s,a]=f(this,Rs);return[(f(this,ph)+(e[0]-t[0])/2-i)/s,(f(this,gh)+(e[1]-t[1])/2-r)/a,(f(this,ph)+(t[0]-e[0])/2-i)/s,(f(this,gh)+(t[1]-e[1])/2-r)/a]},Zj=function(){const[e,t,i,r]=f(this,Rs),[s,a,o,l]=U(this,yi,j0).call(this);return`M${(f(this,dt)[2]-e)/i} ${(f(this,dt)[3]-t)/r} L${(f(this,dt)[4]-e)/i} ${(f(this,dt)[5]-t)/r} L${s} ${a} L${o} ${l} L${(f(this,dt)[16]-e)/i} ${(f(this,dt)[17]-t)/r} L${(f(this,dt)[14]-e)/i} ${(f(this,dt)[15]-t)/r} Z`},eW=function(e){const t=f(this,oo);e.push(`L${t[4]} ${t[5]} Z`)},tW=function(e){const[t,i,r,s]=f(this,Rs),a=f(this,dt).subarray(4,6),o=f(this,dt).subarray(16,18),[l,u,d,h]=U(this,yi,j0).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-i)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/r} ${(o[1]-i)/s}`)},nW=function(e){const t=f(this,dt),[i,r,s,a]=f(this,Rs),[o,l,u,d]=U(this,yi,j0).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(h,e,f(this,Rs),f(this,Jm),f(this,Ym),f(this,Xm))},iW=function(e,t){const i=f(this,oo);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},rW=function(e,t){const i=f(this,dt).subarray(4,6),r=f(this,dt).subarray(16,18),[s,a,o,l]=f(this,Rs),[u,d,h,g]=U(this,yi,j0).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l],t),t+=24},F(WA,BC,8),F(WA,i1,2),F(WA,r1,f(WA,BC)+f(WA,i1));let k_=WA;var ev,mh,xl,EC,Ds,xC,Yn,s1,aW;class sW extends Fe{constructor(t,i,r,s,a,o){super();F(this,s1);F(this,ev);F(this,mh,new Float32Array(4));F(this,xl);F(this,EC);F(this,Ds);F(this,xC);F(this,Yn);_(this,Yn,t),_(this,Ds,i),_(this,ev,r),_(this,xC,s),_(this,xl,a),_(this,EC,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],U(this,s1,aW).call(this,o);const[l,u,d,h]=f(this,mh);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=i.length;g<v;g+=2)i[g]=(i[g]-l)/d,i[g+1]=(i[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,Yn)[4]} ${f(this,Yn)[5]}`];for(let i=6,r=f(this,Yn).length;i<r;i+=6){if(isNaN(f(this,Yn)[i])){t.push(`L${f(this,Yn)[i+4]} ${f(this,Yn)[i+5]}`);continue}t.push(`C${f(this,Yn)[i]} ${f(this,Yn)[i+1]} ${f(this,Yn)[i+2]} ${f(this,Yn)[i+3]} ${f(this,Yn)[i+4]} ${f(this,Yn)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],a){const o=r-t,l=s-i;let u,d;switch(a){case 0:u=Fe._rescale(f(this,Yn),t,s,o,-l),d=Fe._rescale(f(this,Ds),t,s,o,-l);break;case 90:u=Fe._rescaleAndSwap(f(this,Yn),t,i,o,l),d=Fe._rescaleAndSwap(f(this,Ds),t,i,o,l);break;case 180:u=Fe._rescale(f(this,Yn),r,i,-o,l),d=Fe._rescale(f(this,Ds),r,i,-o,l);break;case 270:u=Fe._rescaleAndSwap(f(this,Yn),r,s,-o,-l),d=Fe._rescaleAndSwap(f(this,Ds),r,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,mh)}newOutliner(t,i,r,s,a,o=0){return new k_(t,i,r,s,a,o)}getNewOutline(t,i){const[r,s,a,o]=f(this,mh),[l,u,d,h]=f(this,ev),g=a*d,v=o*h,b=r*d+l,C=s*h+u,E=this.newOutliner({x:f(this,Ds)[0]*g+b,y:f(this,Ds)[1]*v+C},f(this,ev),f(this,xC),t,f(this,EC),i??f(this,xl));for(let S=2;S<f(this,Ds).length;S+=2)E.add({x:f(this,Ds)[S]*g+b,y:f(this,Ds)[S+1]*v+C});return E.getOutlines()}}ev=new WeakMap,mh=new WeakMap,xl=new WeakMap,EC=new WeakMap,Ds=new WeakMap,xC=new WeakMap,Yn=new WeakMap,s1=new WeakSet,aW=function(t){const i=f(this,Yn);let r=i[4],s=i[5];const a=[r,s,r,s];let o=r,l=s,u=r,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let b=6,C=i.length;b<C;b+=6){const E=i[b+4],S=i[b+5];isNaN(i[b])?(Pe.pointBoundingBox(E,S,a),l>S?(o=E,l=S):l===S&&(o=h(o,E)),d<S?(u=E,d=S):d===S&&(u=h(u,E))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Pe.bezierBoundingBox(r,s,...i.slice(b,b+6),g),Pe.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),r=E,s=S}const v=f(this,mh);v[0]=a[0]-f(this,xl),v[1]=a[1]-f(this,xl),v[2]=a[2]-a[0]+2*f(this,xl),v[3]=a[3]-a[1]+2*f(this,xl),this.firstPoint=[o,l],this.lastPoint=[u,d]};var SC,_C,TC,Vc,Ao,kr,oW,KS,AW,lW,_D;class SD{constructor(e,t=0,i=0,r=!0){F(this,kr);F(this,SC);F(this,_C);F(this,TC);F(this,Vc,[]);F(this,Ao,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:C,y:E,width:S,height:I}of e){const T=Math.floor((C-t)/a)*a,R=Math.ceil((C+S+t)/a)*a,M=Math.floor((E-t)/a)*a,D=Math.ceil((E+I+t)/a)*a,N=[T,M,D,!0],H=[R,M,D,!1];f(this,Vc).push(N,H),Pe.rectBoundingBox(T,M,R,D,s)}const o=s[2]-s[0]+2*i,l=s[3]-s[1]+2*i,u=s[0]-i,d=s[1]-i;let h=r?-1/0:1/0,g=1/0;const v=f(this,Vc).at(r?-1:-2),b=[v[0],v[2]];for(const C of f(this,Vc)){const[E,S,I,T]=C;!T&&r?S<g?(g=S,h=E):S===g&&(h=Math.max(h,E)):T&&!r&&(S<g?(g=S,h=E):S===g&&(h=Math.min(h,E))),C[0]=(E-u)/o,C[1]=(S-d)/l,C[2]=(I-d)/l}_(this,SC,new Float32Array([u,d,o,l])),_(this,_C,[h,g]),_(this,TC,b)}getOutlines(){f(this,Vc).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of f(this,Vc))t[3]?(e.push(...U(this,kr,_D).call(this,t)),U(this,kr,AW).call(this,t)):(U(this,kr,lW).call(this,t),e.push(...U(this,kr,_D).call(this,t)));return U(this,kr,oW).call(this,e)}}SC=new WeakMap,_C=new WeakMap,TC=new WeakMap,Vc=new WeakMap,Ao=new WeakMap,kr=new WeakSet,oW=function(e){const t=[],i=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,l,u,d,h]=a;i.delete(a);let g=o,v=l;for(s=[o,u],r.push(s);;){let b;if(i.has(d))b=d;else if(i.has(h))b=h;else break;i.delete(b),[o,l,u,d,h]=b,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new nfe(r,f(this,SC),f(this,_C),f(this,TC))},KS=function(e){const t=f(this,Ao);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},AW=function([,e,t]){const i=U(this,kr,KS).call(this,e);f(this,Ao).splice(i,0,[e,t])},lW=function([,e,t]){const i=U(this,kr,KS).call(this,e);for(let r=i;r<f(this,Ao).length;r++){const[s,a]=f(this,Ao)[r];if(s!==e)break;if(s===e&&a===t){f(this,Ao).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=f(this,Ao)[r];if(s!==e)break;if(s===e&&a===t){f(this,Ao).splice(r,1);return}}},_D=function(e){const[t,i,r]=e,s=[[t,i,r]],a=U(this,kr,KS).call(this,r);for(let o=0;o<a;o++){const[l,u]=f(this,Ao)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var IC,tv;class nfe extends Fe{constructor(t,i,r,s){super();F(this,IC);F(this,tv);_(this,tv,t),_(this,IC,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of f(this,tv)){let[r,s]=i;t.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],l=i[a+1];o===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],a){const o=[],l=r-t,u=s-i;for(const d of f(this,tv)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,IC)}get classNamesForOutlining(){return["highlightOutline"]}}IC=new WeakMap,tv=new WeakMap;class TD extends k_{newFreeDrawOutline(e,t,i,r,s,a){return new ife(e,t,i,r,s,a)}}class ife extends sW{newOutliner(e,t,i,r,s,a=0){return new TD(e,t,i,r,s,a)}}var nv,FC,Sl,vh,UC,ns,MC,PC,yh,Ls,Ns,Yi,iv,rv,mr,sv,Ta,RC,ot,ID,zS,uW,cW,dW,FD,sf,Da,mg,fW,qS,$S,hW,pW,gW,mW,vW;const Rt=class Rt extends pn{constructor(t){super({...t,name:"highlightEditor"});F(this,ot);F(this,nv,null);F(this,FC,0);F(this,Sl);F(this,vh,null);F(this,UC,null);F(this,ns,null);F(this,MC,null);F(this,PC,0);F(this,yh,null);F(this,Ls,null);F(this,Ns,null);F(this,Yi,!1);F(this,iv,null);F(this,rv,null);F(this,mr,null);F(this,sv,"");F(this,Ta);F(this,RC,"");this.color=t.color||Rt._defaultColor,_(this,Ta,t.thickness||Rt._defaultThickness),this.opacity=t.opacity||Rt._defaultOpacity,_(this,Sl,t.boxes||null),_(this,RC,t.methodOfCreation||""),_(this,sv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,Yi,!0),U(this,ot,zS).call(this,t),U(this,ot,sf).call(this)):f(this,Sl)&&(_(this,nv,t.anchorNode),_(this,FC,t.anchorOffset),_(this,MC,t.focusNode),_(this,PC,t.focusOffset),U(this,ot,ID).call(this),U(this,ot,sf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Rt.prototype;return Ze(this,"_keyboardManager",new FB([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,Yi)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,Ta),methodOfCreation:f(this,RC)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;pn.initialize(t,i),Rt._defaultColor||(Rt._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Bt.HIGHLIGHT_COLOR:Rt._defaultColor=i;break;case Bt.HIGHLIGHT_THICKNESS:Rt._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return f(this,rv)}get commentButtonPosition(){return f(this,iv)}updateParams(t,i){switch(t){case Bt.HIGHLIGHT_COLOR:U(this,ot,uW).call(this,i);break;case Bt.HIGHLIGHT_THICKNESS:U(this,ot,cW).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,Rt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,Rt._defaultThickness]]}get propertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,this.color||Rt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,f(this,Ta)||Rt._defaultThickness],[Bt.HIGHLIGHT_FREE,f(this,Yi)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Ns),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=f(this,UC))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,UC,new Dj({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(U(this,ot,$S).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,U(this,ot,$S).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){U(this,ot,FD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,ot,sf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?U(this,ot,FD).call(this):t&&(U(this,ot,sf).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,a,o;const{drawLayer:i}=this.parent;let r;f(this,Yi)?(t=(t-this.rotation+360)%360,r=U(s=Rt,Da,mg).call(s,f(this,Ls).box,t)):r=U(a=Rt,Da,mg).call(a,[this.x,this.y,this.width,this.height],t),i.updateProperties(f(this,Ns),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(f(this,mr),{bbox:U(o=Rt,Da,mg).call(o,f(this,ns).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,sv)&&(t.setAttribute("aria-label",f(this,sv)),t.setAttribute("role","mark")),f(this,Yi)?t.classList.add("free"):this.div.addEventListener("keydown",U(this,ot,fW).bind(this),{signal:this._uiManager._signal});const i=_(this,yh,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=f(this,vh),this.setDims(),D$(this,f(this,yh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,mr),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,mr),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:U(this,ot,qS).call(this,!0);break;case 1:case 3:U(this,ot,qS).call(this,!1);break}}select(){var t;super.select(),f(this,mr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,mr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,mr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,mr),{rootClass:{selected:!1}}),f(this,Yi)||U(this,ot,qS).call(this,!1))}get _mustFixPosition(){return!f(this,Yi)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,Ns),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,mr),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:a}){const{x:o,y:l,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=b=>{h.abort(),U(this,Da,mW).call(this,t,b)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Gn,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Va,{signal:g}),r.addEventListener("pointermove",U(this,Da,gW).bind(this,t),{signal:g}),this._freeHighlight=new TD({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var C,E,S,I;let s=null;if(t instanceof qj){const{data:{quadPoints:T,rect:R,rotation:M,id:D,color:N,opacity:H,popupRef:k,richText:K,contentsObj:G,creationDate:z,modificationDate:J},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:tt.HIGHLIGHT,color:Array.from(N),opacity:H,quadPoints:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:M,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(G==null?void 0:G.str)||null,creationDate:z,modificationDate:J}}else if(t instanceof BQ){const{data:{inkLists:T,rect:R,rotation:M,id:D,color:N,borderStyle:{rawWidth:H},popupRef:k,richText:K,contentsObj:G,creationDate:z,modificationDate:J},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:tt.HIGHLIGHT,color:Array.from(N),thickness:H,inkLists:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:M,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(G==null?void 0:G.str)||null,creationDate:z,modificationDate:J}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,i,r);d.color=Pe.makeHexColor(...a),d.opacity=u||1,l&&_(d,Ta,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,b]=d.pageTranslation;if(o){const T=_(d,Sl,[]);for(let R=0;R<o.length;R+=8)T.push({x:(o[R]-v)/h,y:1-(o[R+1]-b)/g,width:(o[R+2]-o[R])/h,height:(o[R+1]-o[R+5])/g});U(C=d,ot,ID).call(C),U(E=d,ot,sf).call(E),d.rotate(d.rotation)}else if(l){_(d,Yi,!0);const T=l[0],R={x:T[0]-v,y:g-(T[1]-b)},M=new TD(R,[0,0,h,g],1,f(d,Ta)/2,!0,.001);for(let H=0,k=T.length;H<k;H+=2)R.x=T[H]-v,R.y=g-(T[H+1]-b),M.add(R);const{id:D,clipPathId:N}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:M.toSVGPath()}},!0,!0);U(S=d,ot,zS).call(S,{highlightOutlines:M.getOutlines(),highlightId:D,clipPathId:N}),U(I=d,ot,sf).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=pn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:f(this,Ta),quadPoints:U(this,ot,hW).call(this),outlines:U(this,ot,pW).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!U(this,ot,vW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};nv=new WeakMap,FC=new WeakMap,Sl=new WeakMap,vh=new WeakMap,UC=new WeakMap,ns=new WeakMap,MC=new WeakMap,PC=new WeakMap,yh=new WeakMap,Ls=new WeakMap,Ns=new WeakMap,Yi=new WeakMap,iv=new WeakMap,rv=new WeakMap,mr=new WeakMap,sv=new WeakMap,Ta=new WeakMap,RC=new WeakMap,ot=new WeakSet,ID=function(){const t=new SD(f(this,Sl),.001);_(this,Ls,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,Ls).box;const i=new SD(f(this,Sl),.0025,.001,this._uiManager.direction==="ltr");_(this,ns,i.getOutlines());const{firstPoint:r}=f(this,Ls);_(this,iv,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=f(this,ns);_(this,rv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},zS=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var g,v;if(_(this,Ls,t),_(this,ns,t.getNewOutline(f(this,Ta)/2+1.5,.0025)),i>=0)_(this,Ns,i),_(this,vh,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,mr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,ns).box,path:{d:f(this,ns).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,Ns),{bbox:U(g=Rt,Da,mg).call(g,f(this,Ls).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,mr),{bbox:U(v=Rt,Da,mg).call(v,f(this,ns).box,b),path:{d:f(this,ns).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[b,C]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*C/b,this.height=u*b/C;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[b,C]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*C/b,this.height=u*b/C;break}}const{firstPoint:d}=t;_(this,iv,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,ns);_(this,rv,[(h[0]-a)/l,(h[1]-o)/u])},uW=function(t){const i=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,Rt._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},cW=function(t){const i=f(this,Ta),r=s=>{_(this,Ta,s),U(this,ot,dW).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},dW=function(t){f(this,Yi)&&(U(this,ot,zS).call(this,{highlightOutlines:f(this,Ls).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},FD=function(){f(this,Ns)===null||!this.parent||(this.parent.drawLayer.remove(f(this,Ns)),_(this,Ns,null),this.parent.drawLayer.remove(f(this,mr)),_(this,mr,null))},sf=function(t=this.parent){f(this,Ns)===null&&({id:qn(this,Ns)._,clipPathId:qn(this,vh)._}=t.drawLayer.draw({bbox:f(this,Ls).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,Yi)},path:{d:f(this,Ls).toSVGPath()}},!1,!0),_(this,mr,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,Yi)},bbox:f(this,ns).box,path:{d:f(this,ns).toSVGPath()}},f(this,Yi))),f(this,yh)&&(f(this,yh).style.clipPath=f(this,vh)))},Da=new WeakSet,mg=function([t,i,r,s],a){switch(a){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},fW=function(t){Rt._keyboardManager.exec(this,t)},qS=function(t){if(!f(this,nv))return;const i=window.getSelection();t?i.setPosition(f(this,nv),f(this,FC)):i.setPosition(f(this,MC),f(this,PC))},$S=function(){return f(this,Yi)?this.rotation:0},hW=function(){if(f(this,Yi))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,a=f(this,Sl),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+r,b=(1-d)*i+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=b,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=b-g*i,l+=8}return o},pW=function(t){return f(this,Ls).serialize(t,U(this,ot,$S).call(this))},gW=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},mW=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},vW=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},F(Rt,Da),he(Rt,"_defaultColor",null),he(Rt,"_defaultOpacity",1),he(Rt,"_defaultThickness",12),he(Rt,"_type","highlight"),he(Rt,"_editorType",tt.HIGHLIGHT),he(Rt,"_freeHighlightId",-1),he(Rt,"_freeHighlight",null),he(Rt,"_freeHighlightClipId","");let O_=Rt;var wh;class yW{constructor(){F(this,wh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){f(this,wh)[e]=t}toSVGProperties(){const e=f(this,wh);return _(this,wh,Object.create(null)),{root:e}}reset(){_(this,wh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){an("Not implemented")}}wh=new WeakMap;var Qs,av,Ui,bh,Ch,St,UD,MD,PD,W0,wW,jS,Y0,vg;const vt=class vt extends pn{constructor(t){super(t);F(this,St);F(this,Qs,null);F(this,av);he(this,"_colorPicker",null);he(this,"_drawId",null);_(this,av,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(U(this,St,UD).call(this,t),U(this,St,W0).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,a]of Object.entries(i))r.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){an("Not implemented")}static get typesMap(){an("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(f(vt,Ui).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,a=s[i],o=l=>{var d;s.updateProperty(i,l);const u=f(this,Qs).updateProperty(i,l);u&&U(this,St,Y0).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,vt._mergeSVGProperties(f(this,Qs).getPathResizingSVGProperties(U(this,St,jS).call(this)),{bbox:U(this,St,vg).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,vt._mergeSVGProperties(f(this,Qs).getPathResizedSVGProperties(U(this,St,jS).call(this)),{bbox:U(this,St,vg).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:U(this,St,vg).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,vt._mergeSVGProperties(f(this,Qs).getPathTranslatedSVGProperties(U(this,St,jS).call(this),this.parentDimensions),{bbox:U(this,St,vg).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,av)&&(_(this,av,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){U(this,St,PD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,St,W0).call(this),U(this,St,Y0).call(this,f(this,Qs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),U(this,St,PD).call(this)):t&&(this._uiManager.addShouldRescale(this),U(this,St,W0).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,vt._mergeSVGProperties({bbox:U(this,St,vg).call(this)},f(this,Qs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&U(this,St,Y0).call(this,f(this,Qs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,a){an("Not implemented")}static startDrawing(t,i,r,s){var E;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(dr.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),b=_(vt,bh,new AbortController),C=t.combinedSignal(b);if(dr.setPointer(d,u),window.addEventListener("pointerup",S=>{dr.isSamePointerIdOrRemove(S.pointerId)&&this._endDraw(S)},{signal:C}),window.addEventListener("pointercancel",S=>{dr.isSamePointerIdOrRemove(S.pointerId)&&this._currentParent.endDrawingSession()},{signal:C}),window.addEventListener("pointerdown",S=>{dr.isSamePointerType(S.pointerType)&&(dr.initializeAndAddPointerId(S.pointerId),f(vt,Ui).isCancellable()&&(f(vt,Ui).removeLastElement(),f(vt,Ui).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:C}),window.addEventListener("contextmenu",Va,{signal:C}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:C}),a.addEventListener("touchmove",S=>{dr.isSameTimeStamp(S.timeStamp)&&Gn(S)},{signal:C}),t.toggleDrawing(),(E=i._editorUndoBar)==null||E.hide(),f(vt,Ui)){t.drawLayer.updateProperties(this._currentDrawId,f(vt,Ui).startNew(o,l,g,v,h));return}i.updateUIForDefaultProperties(this),_(vt,Ui,this.createDrawerInstance(o,l,g,v,h)),_(vt,Ch,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(vt,Ch).toSVGProperties(),f(vt,Ui).defaultSVGProperties),!0,!1)}static _drawMove(t){if(dr.isSameTimeStamp(t.timeStamp),!f(vt,Ui))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(dr.isSamePointerId(s)){if(dr.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(vt,Ui).add(i,r)),dr.setTimeStamp(t.timeStamp),Gn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(vt,Ui,null),_(vt,Ch,null),dr.clearPointerType(),dr.clearTimeStamp()),f(vt,bh)&&(f(vt,bh).abort(),_(vt,bh,null),dr.clearPointerIds())}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,f(vt,Ui).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=f(vt,Ui),s=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:Bt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Bt.DRAW_STEP),!f(vt,Ui).isEmpty()){const{pageDimensions:[r,s],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(vt,Ui).getOutlines(r*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(vt,Ch),mustBeCommitted:!t});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,a,o){an("Not implemented")}static async deserialize(t,i,r){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=i.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,i,r);return d.createDrawingOptions(t),U(h=d,St,UD).call(h,{drawOutlines:u}),U(g=d,St,W0).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[i,r]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,Qs).serialize([i,r,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Qs=new WeakMap,av=new WeakMap,Ui=new WeakMap,bh=new WeakMap,Ch=new WeakMap,St=new WeakSet,UD=function({drawOutlines:t,drawId:i,drawingOptions:r}){_(this,Qs,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=U(this,St,MD).call(this,t,this.parent),U(this,St,Y0).call(this,t.box)},MD=function(t,i){const{id:r}=i.drawLayer.draw(vt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},PD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},W0=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=U(this,St,MD).call(this,f(this,Qs),t)}},wW=function([t,i,r,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[i,1-t,r*(o/a),s*(a/o)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(o/a),s*(a/o)];default:return[t,i,r,s]}},jS=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-i,t,r*(a/o),s*(o/a)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(a/o),s*(o/a)];default:return[t,i,r,s]}},Y0=function(t){[this.x,this.y,this.width,this.height]=U(this,St,wW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},vg=function(){const{x:t,y:i,width:r,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(l/u),s*(u/l),r*(l/u)];case 5:return[1-i,t,r*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-i,s*(u/l),r*(l/u)];case 7:return[i-r*(l/u),1-t-s*(u/l),r*(l/u),s*(u/l)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(u/l),i,s*(u/l),r*(l/u)];case 13:return[1-i-r*(l/u),t-s*(u/l),r*(l/u),s*(u/l)];case 14:return[1-t,1-i-r*(l/u),s*(u/l),r*(l/u)];case 15:return[i,1-t,r*(l/u),s*(u/l)];default:return[t,i,r,s]}},he(vt,"_currentDrawId",-1),he(vt,"_currentParent",null),F(vt,Ui,null),F(vt,bh,null),F(vt,Ch,null),he(vt,"_INNER_MARGIN",3);let H_=vt;var nA,Mi,Pi,Bh,ov,Ir,Xi,Ia,Eh,xh,Sh,Av,WS;class rfe{constructor(e,t,i,r,s,a){F(this,Av);F(this,nA,new Float64Array(6));F(this,Mi);F(this,Pi);F(this,Bh);F(this,ov);F(this,Ir);F(this,Xi,"");F(this,Ia,0);F(this,Eh,new MB);F(this,xh);F(this,Sh);_(this,xh,i),_(this,Sh,r),_(this,Bh,s),_(this,ov,a),[e,t]=U(this,Av,WS).call(this,e,t);const o=_(this,Mi,[NaN,NaN,NaN,NaN,e,t]);_(this,Ir,[e,t]),_(this,Pi,[{line:o,points:f(this,Ir)}]),f(this,nA).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,ov,t)}isEmpty(){return!f(this,Pi)||f(this,Pi).length===0}isCancellable(){return f(this,Ir).length<=10}add(e,t){[e,t]=U(this,Av,WS).call(this,e,t);const[i,r,s,a]=f(this,nA).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,xh)*o,f(this,Sh)*l)<=2?null:(f(this,Ir).push(e,t),isNaN(i)?(f(this,nA).set([s,a,e,t],2),f(this,Mi).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,nA)[0])&&f(this,Mi).splice(6,6),f(this,nA).set([i,r,s,a,e,t],0),f(this,Mi).push(...Fe.createBezierPoints(i,r,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(f(this,Ir).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){_(this,xh,i),_(this,Sh,r),_(this,Bh,s),[e,t]=U(this,Av,WS).call(this,e,t);const a=_(this,Mi,[NaN,NaN,NaN,NaN,e,t]);_(this,Ir,[e,t]);const o=f(this,Pi).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,Pi).push({line:a,points:f(this,Ir)}),f(this,nA).set(a,0),_(this,Ia,0),this.toSVGPath(),null}getLastElement(){return f(this,Pi).at(-1)}setLastElement(e){return f(this,Pi)?(f(this,Pi).push(e),_(this,Mi,e.line),_(this,Ir,e.points),_(this,Ia,0),{path:{d:this.toSVGPath()}}):f(this,Eh).setLastElement(e)}removeLastElement(){if(!f(this,Pi))return f(this,Eh).removeLastElement();f(this,Pi).pop(),_(this,Xi,"");for(let e=0,t=f(this,Pi).length;e<t;e++){const{line:i,points:r}=f(this,Pi)[e];_(this,Mi,i),_(this,Ir,r),_(this,Ia,0),this.toSVGPath()}return{path:{d:f(this,Xi)}}}toSVGPath(){const e=Fe.svgRound(f(this,Mi)[4]),t=Fe.svgRound(f(this,Mi)[5]);if(f(this,Ir).length===2)return _(this,Xi,`${f(this,Xi)} M ${e} ${t} Z`),f(this,Xi);if(f(this,Ir).length<=6){const r=f(this,Xi).lastIndexOf("M");_(this,Xi,`${f(this,Xi).slice(0,r)} M ${e} ${t}`),_(this,Ia,6)}if(f(this,Ir).length===4){const r=Fe.svgRound(f(this,Mi)[10]),s=Fe.svgRound(f(this,Mi)[11]);return _(this,Xi,`${f(this,Xi)} L ${r} ${s}`),_(this,Ia,12),f(this,Xi)}const i=[];f(this,Ia)===0&&(i.push(`M ${e} ${t}`),_(this,Ia,6));for(let r=f(this,Ia),s=f(this,Mi).length;r<s;r+=6){const[a,o,l,u,d,h]=f(this,Mi).slice(r,r+6).map(Fe.svgRound);i.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,Xi,f(this,Xi)+i.join(" ")),_(this,Ia,f(this,Mi).length),f(this,Xi)}getOutlines(e,t,i,r){const s=f(this,Pi).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Eh).build(f(this,Pi),e,t,i,f(this,Bh),f(this,ov),r),_(this,nA,null),_(this,Mi,null),_(this,Pi,null),_(this,Xi,null),f(this,Eh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}nA=new WeakMap,Mi=new WeakMap,Pi=new WeakMap,Bh=new WeakMap,ov=new WeakMap,Ir=new WeakMap,Xi=new WeakMap,Ia=new WeakMap,Eh=new WeakMap,xh=new WeakMap,Sh=new WeakMap,Av=new WeakSet,WS=function(e,t){return Fe._normalizePoint(e,t,f(this,xh),f(this,Sh),f(this,Bh))};var Fr,DC,LC,ks,iA,rA,lv,uv,_h,ir,qA,bW,CW,BW;class MB extends Fe{constructor(){super(...arguments);F(this,ir);F(this,Fr);F(this,DC,0);F(this,LC);F(this,ks);F(this,iA);F(this,rA);F(this,lv);F(this,uv);F(this,_h)}build(t,i,r,s,a,o,l){_(this,iA,i),_(this,rA,r),_(this,lv,s),_(this,uv,a),_(this,_h,o),_(this,LC,l??0),_(this,ks,t),U(this,ir,CW).call(this)}get thickness(){return f(this,_h)}setLastElement(t){return f(this,ks).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,ks).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of f(this,ks)){if(t.push(`M${Fe.svgRound(i[4])} ${Fe.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Fe.svgRound(i[10])} ${Fe.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[a,o,l,u,d,h]=i.subarray(r,r+6).map(Fe.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,i,r,s],a){const o=[],l=[],[u,d,h,g]=U(this,ir,bW).call(this);let v,b,C,E,S,I,T,R,M;switch(f(this,uv)){case 0:M=Fe._rescale,v=t,b=i+s,C=r,E=-s,S=t+u*r,I=i+(1-d-g)*s,T=t+(u+h)*r,R=i+(1-d)*s;break;case 90:M=Fe._rescaleAndSwap,v=t,b=i,C=r,E=s,S=t+d*r,I=i+u*s,T=t+(d+g)*r,R=i+(u+h)*s;break;case 180:M=Fe._rescale,v=t+r,b=i,C=-r,E=s,S=t+(1-u-h)*r,I=i+d*s,T=t+(1-u)*r,R=i+(d+g)*s;break;case 270:M=Fe._rescaleAndSwap,v=t+r,b=i+s,C=-r,E=-s,S=t+(1-d-g)*r,I=i+(1-u-h)*s,T=t+(1-d)*r,R=i+(1-u)*s;break}for(const{line:D,points:N}of f(this,ks))o.push(M(D,v,b,C,E,a?new Array(D.length):null)),l.push(M(N,v,b,C,E,a?new Array(N.length):null));return{lines:o,points:l,rect:[S,I,T,R]}}static deserialize(t,i,r,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,b,C,E;switch(u){case 0:E=Fe._rescale,g=-t/r,v=i/s+1,b=1/r,C=-1/s;break;case 90:E=Fe._rescaleAndSwap,g=-i/s,v=-t/r,b=1/s,C=1/r;break;case 180:E=Fe._rescale,g=t/r+1,v=-i/s,b=-1/r,C=1/s;break;case 270:E=Fe._rescaleAndSwap,g=i/s+1,v=t/r+1,b=-1/s,C=-1/r;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const R=new Float32Array(3*(T-2));o.push(R);let[M,D,N,H]=I.subarray(0,4);R.set([NaN,NaN,NaN,NaN,M,D],0);for(let k=4;k<T;k+=2){const K=I[k],G=I[k+1];R.set(Fe.createBezierPoints(M,D,N,H,K,G),(k-2)*3),[M,D,N,H]=[N,H,K,G]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:E(o[I].map(R=>R??NaN),g,v,b,C),points:E(l[I].map(R=>R??NaN),g,v,b,C)});const S=new this.prototype.constructor;return S.build(h,r,s,1,u,d,a),S}get box(){return f(this,Fr)}updateProperty(t,i){return t==="stroke-width"?U(this,ir,BW).call(this,i):null}updateParentDimensions([t,i],r){const[s,a]=U(this,ir,qA).call(this);_(this,iA,t),_(this,rA,i),_(this,lv,r);const[o,l]=U(this,ir,qA).call(this),u=o-s,d=l-a,h=f(this,Fr);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,DC,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,Fr).map(Fe.svgRound).join(" ")}get defaultProperties(){const[t,i]=f(this,Fr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=f(this,Fr);let r=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,DC)){case 90:s=i/t,a=-t/i,l=t;break;case 180:r=-1,o=-1,l=t,u=i;break;case 270:s=-i/t,a=t/i,u=i;break;default:return""}return`matrix(${r} ${s} ${a} ${o} ${Fe.svgRound(l)} ${Fe.svgRound(u)})`}getPathResizingSVGProperties([t,i,r,s]){const[a,o]=U(this,ir,qA).call(this),[l,u,d,h]=f(this,Fr);if(Math.abs(d-a)<=Fe.PRECISION||Math.abs(h-o)<=Fe.PRECISION){const E=t+r/2-(l+d/2),S=i+s/2-(u+h/2);return{path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`,transform:`${this.rotationTransform} translate(${E} ${S})`}}}const g=(r-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),b=d/r,C=h/s;return{path:{"transform-origin":`${Fe.svgRound(l)} ${Fe.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${C}) translate(${Fe.svgRound(a)} ${Fe.svgRound(o)}) scale(${g} ${v}) translate(${Fe.svgRound(-a)} ${Fe.svgRound(-o)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[a,o]=U(this,ir,qA).call(this),l=f(this,Fr),[u,d,h,g]=l;if(l[0]=t,l[1]=i,l[2]=r,l[3]=s,Math.abs(h-a)<=Fe.PRECISION||Math.abs(g-o)<=Fe.PRECISION){const S=t+r/2-(u+h/2),I=i+s/2-(d+g/2);for(const{line:T,points:R}of f(this,ks))Fe._translate(T,S,I,T),Fe._translate(R,S,I,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(r-2*a)/(h-2*a),b=(s-2*o)/(g-2*o),C=-v*(u+a)+t+a,E=-b*(d+o)+i+o;if(v!==1||b!==1||C!==0||E!==0)for(const{line:S,points:I}of f(this,ks))Fe._rescale(S,C,E,v,b,S),Fe._rescale(I,C,E,v,b,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,a]=r,o=f(this,Fr),l=t-o[0],u=i-o[1];if(f(this,iA)===s&&f(this,rA)===a)for(const{line:d,points:h}of f(this,ks))Fe._translate(d,l,u,d),Fe._translate(h,l,u,h);else{const d=f(this,iA)/s,h=f(this,rA)/a;_(this,iA,s),_(this,rA,a);for(const{line:g,points:v}of f(this,ks))Fe._rescale(g,l,u,d,h,g),Fe._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`}}}get defaultSVGProperties(){const t=f(this,Fr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Fe.svgRound(t[0])} ${Fe.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Fr=new WeakMap,DC=new WeakMap,LC=new WeakMap,ks=new WeakMap,iA=new WeakMap,rA=new WeakMap,lv=new WeakMap,uv=new WeakMap,_h=new WeakMap,ir=new WeakSet,qA=function(t=f(this,_h)){const i=f(this,LC)+t/2*f(this,lv);return f(this,uv)%180===0?[i/f(this,iA),i/f(this,rA)]:[i/f(this,rA),i/f(this,iA)]},bW=function(){const[t,i,r,s]=f(this,Fr),[a,o]=U(this,ir,qA).call(this,0);return[t+a,i+o,r-2*a,s-2*o]},CW=function(){const t=_(this,Fr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,ks)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Pe.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,b,C]=s.subarray(l,l+6);Pe.bezierBoundingBox(a,o,d,h,g,v,b,C,t),a=b,o=C}}const[i,r]=U(this,ir,qA).call(this);t[0]=Dr(t[0]-i,0,1),t[1]=Dr(t[1]-r,0,1),t[2]=Dr(t[2]+i,0,1),t[3]=Dr(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},BW=function(t){const[i,r]=U(this,ir,qA).call(this);_(this,_h,t);const[s,a]=U(this,ir,qA).call(this),[o,l]=[s-i,a-r],u=f(this,Fr);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class B1 extends yW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:pn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new B1(this._viewParameters);return e.updateAll(this),e}}var a1,EW;const Pg=class Pg extends H_{constructor(t){super({...t,name:"inkEditor"});F(this,a1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){pn.initialize(t,i),this._defaultDrawingOptions=new B1(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ze(this,"typesMap",new Map([[Bt.INK_THICKNESS,"stroke-width"],[Bt.INK_COLOR,"stroke"],[Bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,a){return new rfe(t,i,r,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,a,o){return MB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){let s=null;if(t instanceof BQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:b,richText:C,contentsObj:E,creationDate:S,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:tt.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:b,richText:C,comment:(E==null?void 0:E.str)||null,creationDate:S,modificationDate:I}}const a=await super.deserialize(t,i,r);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new N_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Bt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=Pg.getDefaultDrawingOptions({stroke:Pe.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:pn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:i,points:r}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!U(this,a1,EW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};a1=new WeakSet,EW=function(t){const{color:i,thickness:r,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==i[l])||t.thickness!==r||t.opacity!==s||t.pageIndex!==a},he(Pg,"_type","ink"),he(Pg,"_editorType",tt.INK),he(Pg,"_defaultDrawingOptions",null);let RD=Pg;class DD extends MB{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Ex=8,g0=3;var U0,Th,Lt,LD,lo,xW,SW,ND,YS,_W,TW,IW,QD,kD,FW;let yg=(U0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${i} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:C,actualBoundingBoxDescent:E,fontBoundingBoxAscent:S,fontBoundingBoxDescent:I,width:T}=d.measureText(e),R=1.5,M=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,T)*R),D=Math.ceil(Math.max(Math.abs(C)+Math.abs(E)||h,Math.abs(S)+Math.abs(I)||h)*R);u=new OffscreenCanvas(M,D),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,M,D),d.fillStyle="black",d.fillText(e,M*(R-1)/2,D*(3-R)/2);const N=U(this,Lt,QD).call(this,d.getImageData(0,0,M,D).data),H=U(this,Lt,IW).call(this,N),k=U(this,Lt,kD).call(this,H),K=U(this,Lt,ND).call(this,N,M,D,k);return this.processDrawnLines({lines:{curves:K,width:M,height:D},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[a,o,l]=U(this,Lt,FW).call(this,e),[u,d]=U(this,Lt,TW).call(this,a,o,l,Math.hypot(o,l)*f(this,Th).sigmaSFactor,f(this,Th).sigmaR,f(this,Th).kernelSize),h=U(this,Lt,kD).call(this,d),g=U(this,Lt,ND).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([t,i]=[i,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,i/d),b=v/t,C=v/i,E=[];for(const{points:I}of l){const T=a?U(this,Lt,_W).call(this,I):I;if(!T)continue;E.push(T);const R=T.length,M=new Float32Array(R),D=new Float32Array(3*(R===2?2:R-2));if(g.push({line:D,points:M}),R===2){M[0]=T[0]*b,M[1]=T[1]*C,D.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[N,H,k,K]=T;N*=b,H*=C,k*=b,K*=C,M.set([N,H,k,K],0),D.set([NaN,NaN,NaN,NaN,N,H],0);for(let G=4;G<R;G+=2){const z=M[G]=T[G]*b,J=M[G+1]=T[G+1]*C;D.set(Fe.createBezierPoints(N,H,k,K,z,J),(G-2)*3),[N,H,k,K]=[k,K,z,J]}}if(g.length===0)return null;const S=o?new DD:new MB;return S.build(g,t,i,1,r,o?0:h,s),{outline:S,newCurves:E,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let R=2,M=T.length;R<M;R++){const D=T[R]-T[R-2];a=Math.min(a,D),o=Math.max(o,D)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=Ex+g0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=r,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(i??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const b=new CompressionStream("deflate-raw"),C=b.writable.getWriter();await C.ready,C.write(g);const E=u.prototype.constructor;for(const T of e){const R=new E(T.length-2);for(let M=2,D=T.length;M<D;M++)R[M-2]=T[M]-T[M-2];C.write(R)}C.close();const S=await new Response(b.readable).arrayBuffer(),I=new Uint8Array(S);return S$(I)}static async decompressSignature(e){try{const t=wce(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of i)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],b=l[6],C=l[7],E=[],S=(Ex+g0*b)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(C){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,S);break}o=0;for(let T=0;T<b;T++){const R=l[g0*T+Ex],M=new Float32Array(R+2);E.push(M);for(let D=0;D<g0-1;D++)M[D]=l[g0*T+Ex+D+1];for(let D=0;D<R;D++)M[D+2]=M[D]+I[o++]}return{areContours:g,thickness:v,outlines:E,width:d,height:h}}catch(t){return Je(`decompressSignature: ${t}`),null}}},Th=new WeakMap,Lt=new WeakSet,LD=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},lo=new WeakMap,xW=function(e,t,i,r,s,a,o){const l=U(this,Lt,LD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,lo)[2*d],g=f(this,lo)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},SW=function(e,t,i,r,s,a,o){const l=U(this,Lt,LD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,lo)[2*d],g=f(this,lo)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},ND=function(e,t,i,r){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=r?1:0;for(let d=1;d<i-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*i-1-d]=0;let o=1,l;const u=[];for(let d=1;d<i-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let b=d,C=h;if(v===1&&a[g-1]===0)o+=1,C-=1;else if(v>=1&&a[g+1]===0)o+=1,C+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const E=[h,d],S=C===h+1,I={isHole:S,points:E,id:o,parent:0};u.push(I);let T;for(const G of u)if(G.id===l){T=G;break}T?T.isHole?I.parent=S?T.parent:l:I.parent=S?l:T.parent:I.parent=S?l:0;const R=U(this,Lt,xW).call(this,a,t,d,h,b,C,0);if(R===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let M=f(this,lo)[2*R],D=f(this,lo)[2*R+1];const N=d+M,H=h+D;b=N,C=H;let k=d,K=h;for(;;){const G=U(this,Lt,SW).call(this,a,t,k,K,b,C,1);M=f(this,lo)[2*G],D=f(this,lo)[2*G+1];const z=k+M,J=K+D;E.push(J,z);const ne=k*t+K;if(a[ne+1]===0?a[ne]=-o:a[ne]===1&&(a[ne]=o),z===d&&J===h&&k===N&&K===H){a[g]!==1&&(l=Math.abs(a[g]));break}else b=k,C=K,k=z,K=J}}}return u},YS=function(e,t,i,r){if(i-t<=4){for(let N=t;N<i-2;N+=2)r.push(e[N],e[N+1]);return}const s=e[t],a=e[t+1],o=e[i-4]-s,l=e[i-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,b=1/u,C=Math.atan(v),E=Math.cos(C),S=Math.sin(C),I=b*(Math.abs(E)+Math.abs(S)),T=b*(1-I+I**2),R=Math.max(Math.atan(Math.abs(S+E)*T),Math.atan(Math.abs(S-E)*T));let M=0,D=t;for(let N=t+2;N<i-2;N+=2){const H=Math.abs(g-d*e[N+1]+h*e[N]);H>M&&(D=N,M=H)}M>(u*R)**2?(U(this,Lt,YS).call(this,e,t,D+2,r),U(this,Lt,YS).call(this,e,D,i,r)):r.push(s,a)},_W=function(e){const t=[],i=e.length;return U(this,Lt,YS).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},TW=function(e,t,i,r,s,a){const o=new Float32Array(a**2),l=-2*r**2,u=a>>1;for(let C=0;C<a;C++){const E=(C-u)**2;for(let S=0;S<a;S++)o[C*a+S]=Math.exp((E+(S-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let C=0;C<256;C++)d[C]=Math.exp(C**2/h);const g=e.length,v=new Uint8Array(g),b=new Uint32Array(256);for(let C=0;C<i;C++)for(let E=0;E<t;E++){const S=C*t+E,I=e[S];let T=0,R=0;for(let D=0;D<a;D++){const N=C+D-u;if(!(N<0||N>=i))for(let H=0;H<a;H++){const k=E+H-u;if(k<0||k>=t)continue;const K=e[N*t+k],G=o[D*a+H]*d[Math.abs(K-I)];T+=K*G,R+=G}}const M=v[S]=Math.round(T/R);b[M]++}return[v,b]},IW=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},QD=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let o=0,l=i.length;o<l;o++){const u=i[o]=e[o<<2];r=Math.max(r,u),s=Math.min(s,u)}const a=255/(r-s);for(let o=0,l=i.length;o<l;o++)i[o]=(i[o]-s)*a;return i},kD=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>i&&(t-a>r&&(r=t-a,o=t-1),i=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},FW=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=f(this,Th);let a=i,o=r;if(i>s||r>s){let g=i,v=r,b=Math.log2(Math.max(i,r)/s);const C=Math.floor(b);b=b===C?C-1:C;for(let S=0;S<b;S++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const E=Math.min(s/a,s/o);a=Math.round(a*E),o=Math.round(o*E)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[U(this,Lt,QD).call(this,d),a,o]},F(U0,Lt),F(U0,Th,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),F(U0,lo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),U0);class EQ extends yW{constructor(){super(),super.updateProperties({fill:pn._defaultLineColor,"stroke-width":0})}clone(){const e=new EQ;return e.updateAll(this),e}}class xQ extends B1{constructor(e){super(e),super.updateProperties({stroke:pn._defaultLineColor,"stroke-width":1})}clone(){const e=new xQ(this._viewParameters);return e.updateAll(this),e}}var Gc,sA,Kc,Ih;const Cs=class Cs extends H_{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});F(this,Gc,!1);F(this,sA,null);F(this,Kc,null);F(this,Ih,null);this._willKeepAspectRatio=!0,_(this,Kc,t.signatureData||null),_(this,sA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){pn.initialize(t,i),this._defaultDrawingOptions=new EQ,this._defaultDrawnSignatureOptions=new xQ(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ze(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,sA)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(f(this,Kc)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,Kc),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,b=yg.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:Cs._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(b,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,sA)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){_(this,Ih,t),this.addEditToolbar()}getUuid(){return f(this,Ih)}get description(){return f(this,sA)}set description(t){_(this,sA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:a}=f(this,Kc),o=Math.max(s,a),l=yg.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:a,y:o}=this,{outline:l}=_(this,Kc,t);_(this,Gc,l instanceof DD),this.description=r;let u;f(this,Gc)?u=Cs.getDefaultDrawingOptions():(u=Cs._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=i/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return yg.process(t,i,r,s,Cs._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:a}=this.parent.viewport;return yg.extractContoursFromText(t,i,r,s,a,Cs._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return yg.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:Cs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=Cs.getDefaultDrawingOptions():(this._drawingOptions=Cs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,Gc),color:[0,0,0],thickness:f(this,Gc)?0:s});return this.addComment(a),t?(a.paths={lines:i,points:r},a.uuid=f(this,Ih),a.isCopy=!0):a.lines=i,f(this,sA)&&(a.accessibilityData={type:"Figure",alt:f(this,sA)}),a}static deserializeDraw(t,i,r,s,a,o){return o.areContours?DD.deserialize(t,i,r,s,a,o):MB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){var a;const s=await super.deserialize(t,i,r);return _(s,Gc,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,Ih,t.uuid),s}};Gc=new WeakMap,sA=new WeakMap,Kc=new WeakMap,Ih=new WeakMap,he(Cs,"_type","signature"),he(Cs,"_editorType",tt.SIGNATURE),he(Cs,"_defaultDrawingOptions",null);let OD=Cs;var Sn,Ri,zc,_l,qc,cv,Tl,Fh,aA,Os,dv,_t,X0,J0,XS,JS,ZS,VD,e_,UW;class HD extends pn{constructor(t){super({...t,name:"stampEditor"});F(this,_t);F(this,Sn,null);F(this,Ri,null);F(this,zc,null);F(this,_l,null);F(this,qc,null);F(this,cv,"");F(this,Tl,null);F(this,Fh,!1);F(this,aA,null);F(this,Os,!1);F(this,dv,!1);_(this,_l,t.bitmapUrl),_(this,qc,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){pn.initialize(t,i)}static isHandlingMimeForPasting(t){return xR.includes(t)}static paste(t,i){i.pasteEditor({mode:tt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,Ri)&&(_(this,Sn,null),this._uiManager.imageManager.deleteId(f(this,Ri)),(t=f(this,Tl))==null||t.remove(),_(this,Tl,null),f(this,aA)&&(clearTimeout(f(this,aA)),_(this,aA,null))),super.remove()}rebuild(){if(!this.parent){f(this,Ri)&&U(this,_t,XS).call(this);return}super.rebuild(),this.div!==null&&(f(this,Ri)&&f(this,Tl)===null&&U(this,_t,XS).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,zc)||f(this,Sn)||f(this,_l)||f(this,qc)||f(this,Ri)||f(this,Fh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,Fh)||(f(this,Sn)?U(this,_t,JS).call(this):U(this,_t,XS).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(_(this,Ri,r),s&&_(this,Sn,s),_(this,Fh,!1),U(this,_t,JS).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,aA)!==null&&clearTimeout(f(this,aA)),_(this,aA,setTimeout(()=>{_(this,aA,null),U(this,_t,VD).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:a}=f(this,Sn),o=new Zh;let l=f(this,Sn),u=s,d=a,h=null;if(i){if(s>i||a>i){const N=Math.min(i/s,i/a);u=Math.floor(s*N),d=Math.floor(a*N)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),b=h.height=Math.ceil(d*o.sy);f(this,Os)||(l=U(this,_t,ZS).call(this,v,b));const C=h.getContext("2d");C.filter=this._uiManager.hcmFilter;let E="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":Sce.isDarkMode&&(E="#8f8f9d",S="#42414d");const I=15,T=I*o.sx,R=I*o.sy,M=new OffscreenCanvas(T*2,R*2),D=M.getContext("2d");D.fillStyle=E,D.fillRect(0,0,T*2,R*2),D.fillStyle=S,D.fillRect(0,0,T,R),D.fillRect(T,R,T,R),C.fillStyle=C.createPattern(M,"repeat"),C.fillRect(0,0,v,b),C.drawImage(l,0,0,l.width,l.height,0,0,v,b)}let g=null;if(r){let v,b;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,b=l.height;else if(l=f(this,Sn),s>t||a>t){const S=Math.min(t/s,t/a);v=Math.floor(s*S),b=Math.floor(a*S),f(this,Os)||(l=U(this,_t,ZS).call(this,v,b))}const E=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});E.drawImage(l,0,0,l.width,l.height,0,0,v,b),g={width:v,height:b,data:E.getImageData(0,0,v,b).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,i,r){var E;let s=null,a=!1;if(t instanceof $j){const{data:{rect:S,rotation:I,id:T,structParent:R,popupRef:M,richText:D,contentsObj:N,creationDate:H,modificationDate:k},container:K,parent:{page:{pageNumber:G}},canvas:z}=t;let J,ne;z?(delete t.canvas,{id:J,bitmap:ne}=r.imageManager.getFromCanvas(K.id,z),z.remove()):(a=!0,t._hasNoCanvas=!0);const pe=((E=await i._structTree.getAriaAttributes(`${Sg}${T}`))==null?void 0:E.get("aria-label"))||"";s=t={annotationType:tt.STAMP,bitmapId:J,bitmap:ne,pageIndex:G-1,rect:S.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:pe},isSvg:!1,structParent:R,popupRef:M,richText:D,comment:(N==null?void 0:N.str)||null,creationDate:H,modificationDate:k}}const o=await super.deserialize(t,i,r),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(r.addMissingCanvas(t.id,o),_(o,Fh,!0)):h&&r.imageManager.isValidId(h)?(_(o,Ri,h),u&&_(o,Sn,u)):_(o,_l,d),_(o,Os,g);const[b,C]=o.pageDimensions;return o.width=(l[2]-l[0])/b,o.height=(l[3]-l[1])/C,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,dv,!!s),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:f(this,Ri),isSvg:f(this,Os)});if(this.addComment(r),t)return r.bitmapUrl=U(this,_t,e_).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=U(this,_t,UW).call(this,r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const o=f(this,Os)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(f(this,Ri)))i.stamps.set(f(this,Ri),{area:o,serialized:r}),r.bitmap=U(this,_t,e_).call(this,!1);else if(f(this,Os)){const l=i.stamps.get(f(this,Ri));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=U(this,_t,e_).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Sn=new WeakMap,Ri=new WeakMap,zc=new WeakMap,_l=new WeakMap,qc=new WeakMap,cv=new WeakMap,Tl=new WeakMap,Fh=new WeakMap,aA=new WeakMap,Os=new WeakMap,dv=new WeakMap,_t=new WeakSet,X0=function(t,i=!1){if(!t){this.remove();return}_(this,Sn,t.bitmap),i||(_(this,Ri,t.id),_(this,Os,t.isSvg)),t.file&&_(this,cv,t.file.name),U(this,_t,JS).call(this)},J0=function(){if(_(this,zc,null),this._uiManager.enableWaiting(!1),!!f(this,Tl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Sn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Sn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},XS=function(){if(f(this,Ri)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,Ri)).then(r=>U(this,_t,X0).call(this,r,!0)).finally(()=>U(this,_t,J0).call(this));return}if(f(this,_l)){const r=f(this,_l);_(this,_l,null),this._uiManager.enableWaiting(!0),_(this,zc,this._uiManager.imageManager.getFromUrl(r).then(s=>U(this,_t,X0).call(this,s)).finally(()=>U(this,_t,J0).call(this)));return}if(f(this,qc)){const r=f(this,qc);_(this,qc,null),this._uiManager.enableWaiting(!0),_(this,zc,this._uiManager.imageManager.getFromFile(r).then(s=>U(this,_t,X0).call(this,s)).finally(()=>U(this,_t,J0).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=xR.join(",");const i=this._uiManager._signal;_(this,zc,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),U(this,_t,X0).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>U(this,_t,J0).call(this))),t.click()},JS=function(){var u;const{div:t}=this;let{width:i,height:r}=f(this,Sn);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const d=Math.min(o*s/i,o*a/r);i*=d,r*=d}this._uiManager.enableWaiting(!1);const l=_(this,Tl,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=i/s,this.height=r/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),U(this,_t,VD).call(this),f(this,dv)||(this.parent.addUndoableEditor(this),_(this,dv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,cv)&&this.div.setAttribute("aria-description",f(this,cv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},ZS=function(t,i){const{width:r,height:s}=f(this,Sn);let a=r,o=s,l=f(this,Sn);for(;a>2*t||o>2*i;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},VD=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,a=new Zh,o=Math.ceil(r*t*a.sx),l=Math.ceil(s*i*a.sy),u=f(this,Tl);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,Os)?f(this,Sn):U(this,_t,ZS).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},e_=function(t){if(t){if(f(this,Os)){const s=this._uiManager.imageManager.getSvgUrl(f(this,Ri));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=f(this,Sn),i.getContext("2d").drawImage(f(this,Sn),0,0),i.toDataURL()}if(f(this,Os)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Ov.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Ov.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,Sn),0,0,f(this,Sn).width,f(this,Sn).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,Sn))},UW=function(t){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},he(HD,"_type","stamp"),he(HD,"_editorType",tt.STAMP);var Uh,fv,$c,jc,Il,is,Wc,hv,pv,uo,Fl,Di,Ul,Yc,gv,Le,ls,Xc,sn,GD,MW,No,KD,zD,t_;let sfe=(ls=class{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){F(this,sn);F(this,Uh);F(this,fv,!1);F(this,$c,null);F(this,jc,null);F(this,Il,null);F(this,is,new Map);F(this,Wc,!1);F(this,hv,!1);F(this,pv,!1);F(this,uo,null);F(this,Fl,null);F(this,Di,null);F(this,Ul,null);F(this,Yc,null);F(this,gv,-1);F(this,Le);const h=[...f(ls,Xc).values()];if(!ls._initialized){ls._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,Le,e),this.pageIndex=t,this.div=i,_(this,Uh,s),_(this,$c,a),this.viewport=u,_(this,Di,l),this.drawLayer=o,this._structTree=r,f(this,Le).addLayer(this)}get isEmpty(){return f(this,is).size===0}get isInvisible(){return this.isEmpty&&f(this,Le).getMode()===tt.NONE}updateToolbar(e){f(this,Le).updateToolbar(e)}updateMode(e=f(this,Le).getMode()){switch(U(this,sn,t_).call(this),e){case tt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case tt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case tt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===tt.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of f(ls,Xc).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,Di))==null?void 0:t.div)}setEditingState(e){f(this,Le).setEditingState(e)}addCommands(e){f(this,Le).addCommands(e)}cleanUndoStack(e){f(this,Le).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,$c))==null||t.togglePointerEvents(e)}async enable(){var i;_(this,pv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=f(this,Yc))==null||i.abort(),_(this,Yc,null);const e=new Set;for(const r of f(this,sn,GD))r.enableEditing(),r.show(!0),r.annotationElementId&&(f(this,Le).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=f(this,$c);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),f(this,Le).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,pv,!1),f(this,Le)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(_(this,hv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,Di)&&!f(this,Yc)){_(this,Yc,new AbortController);const s=f(this,Le).combinedSignal(f(this,Yc));f(this,Di).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,gv);if(d-h>500){_(this,gv,d);return}_(this,gv,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let b;const C=new RegExp(`^${xw}[0-9]+$`);for(const S of v)if(C.test(S.id)){b=S.id;break}if(!b)return;const E=f(this,is).get(b);(E==null?void 0:E.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),E.dblclick(a))},{signal:s,capture:!0})}const e=f(this,$c),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,sn,GD)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,Le).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,Le).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}U(this,sn,t_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of f(ls,Xc).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,hv,!1)}getEditableAnnotation(e){var t;return((t=f(this,$c))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,Le).getActive()!==e&&f(this,Le).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,Di))!=null&&e.div&&!f(this,Ul)){_(this,Ul,new AbortController);const t=f(this,Le).combinedSignal(f(this,Ul));f(this,Di).div.addEventListener("pointerdown",U(this,sn,MW).bind(this),{signal:t}),f(this,Di).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,Di))!=null&&e.div&&f(this,Ul)&&(f(this,Ul).abort(),_(this,Ul,null),f(this,Di).div.classList.remove("highlighting"))}enableClick(){if(f(this,jc))return;_(this,jc,new AbortController);const e=f(this,Le).combinedSignal(f(this,jc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,jc))==null||e.abort(),_(this,jc,null)}attach(e){f(this,is).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,Le).isDeletedAnnotationElement(t)&&f(this,Le).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,is).delete(e.id),(t=f(this,Uh))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,hv)&&e.annotationElementId&&f(this,Le).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,Le).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,Le).addDeletedAnnotationElement(e),pn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,Le).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,pv)),f(this,Le).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Il)&&(e._focusEventsAllowed=!1,_(this,Il,setTimeout(()=>{_(this,Il,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,Le)._signal}),t.focus())},0))),e._structTreeParentId=(i=f(this,Uh))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of f(this,is).values())if(t.uid===e)return t;return null}getNextId(){return f(this,Le).getId()}combinedSignal(e){return f(this,Le).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,sn,No))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,Le).updateMode(e.mode);const{offsetX:i,offsetY:r}=U(this,sn,zD).call(this),s=this.getNextId(),a=U(this,sn,KD).call(this,{parent:this,id:s,x:i,y:r,uiManager:f(this,Le),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(ls,Xc).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,Le)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=U(this,sn,KD).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:f(this,Le),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(U(this,sn,zD).call(this),!0,e)}setSelected(e){f(this,Le).setSelected(e)}toggleSelected(e){f(this,Le).toggleSelected(e)}unselect(e){f(this,Le).unselect(e)}pointerup(e){var r;const{isMac:t}=or.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,Wc)||(_(this,Wc,!1),(r=f(this,sn,No))!=null&&r.isDrawer&&f(this,sn,No).supportMultipleDrawings))return;if(!f(this,fv)){_(this,fv,!0);return}const i=f(this,Le).getMode();if(i===tt.STAMP||i===tt.SIGNATURE){f(this,Le).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(f(this,Le).getMode()===tt.HIGHLIGHT&&this.enableTextSelection(),f(this,Wc)){_(this,Wc,!1);return}const{isMac:t}=or.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,Wc,!0),(r=f(this,sn,No))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=f(this,Le).getActive();_(this,fv,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,uo)){f(this,sn,No).startDrawing(this,f(this,Le),!1,e);return}f(this,Le).setCurrentDrawingSession(this),_(this,uo,new AbortController);const t=f(this,Le).combinedSignal(f(this,uo));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(_(this,Fl,null),this.commitOrRemove())},{signal:t}),f(this,sn,No).startDrawing(this,f(this,Le),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,Fl,t);return}f(this,Fl)&&setTimeout(()=>{var t;(t=f(this,Fl))==null||t.focus(),_(this,Fl,null)},0)}endDrawingSession(e=!1){return f(this,uo)?(f(this,Le).setCurrentDrawingSession(null),f(this,uo).abort(),_(this,uo,null),_(this,Fl,null),f(this,sn,No).endDrawing(e)):null}findNewParent(e,t,i){const r=f(this,Le).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return f(this,uo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,uo)&&f(this,sn,No).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,Le).getActive())==null?void 0:e.parent)===this&&(f(this,Le).commitOrRemove(),f(this,Le).setActiveEditor(null)),f(this,Il)&&(clearTimeout(f(this,Il)),_(this,Il,null));for(const i of f(this,is).values())(t=f(this,Uh))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,f(this,is).clear(),f(this,Le).removeLayer(this)}render({viewport:e}){this.viewport=e,Jh(this.div,e);for(const t of f(this,Le).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,Le).commitOrRemove(),U(this,sn,t_).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Jh(this.div,{rotation:i}),t!==i)for(const r of f(this,is).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,Le).viewParameters.realScale}},Uh=new WeakMap,fv=new WeakMap,$c=new WeakMap,jc=new WeakMap,Il=new WeakMap,is=new WeakMap,Wc=new WeakMap,hv=new WeakMap,pv=new WeakMap,uo=new WeakMap,Fl=new WeakMap,Di=new WeakMap,Ul=new WeakMap,Yc=new WeakMap,gv=new WeakMap,Le=new WeakMap,Xc=new WeakMap,sn=new WeakSet,GD=function(){return f(this,is).size!==0?f(this,is).values():f(this,Le).getEditors(this.pageIndex)},MW=function(e){f(this,Le).unselectAll();const{target:t}=e;if(t===f(this,Di).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,Di).div.contains(t)){const{isMac:i}=or.platform;if(e.button!==0||e.ctrlKey&&i)return;f(this,Le).showAllEditors("highlight",!0,!0),f(this,Di).div.classList.add("free"),this.toggleDrawing(),O_.startHighlighting(this,f(this,Le).direction==="ltr",{target:f(this,Di).div,x:e.x,y:e.y}),f(this,Di).div.addEventListener("pointerup",()=>{f(this,Di).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Le)._signal}),e.preventDefault()}},No=function(){return f(ls,Xc).get(f(this,Le).getMode())},KD=function(e){const t=f(this,sn,No);return t?new t.prototype.constructor(e):null},zD=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},t_=function(){for(const e of f(this,is).values())e.isEmpty()&&e.remove()},he(ls,"_initialized",!1),F(ls,Xc,new Map([ED,RD,HD,O_,OD].map(e=>[e._editorType,e]))),ls);var co,Ur,Mh,On,NC,o1,PW,vA,qD,RW,$D;let afe=(On=class{constructor({pageIndex:e}){F(this,vA);F(this,co,null);F(this,Ur,new Map);F(this,Mh,new Map);this.pageIndex=e}setParent(e){if(!f(this,co)){_(this,co,e);return}if(f(this,co)!==e){if(f(this,Ur).size>0)for(const t of f(this,Ur).values())t.remove(),e.append(t);_(this,co,e)}}static get _svgFactory(){return Ze(this,"_svgFactory",new Q_)}draw(e,t=!1,i=!1){const r=qn(On,NC)._++,s=U(this,vA,qD).call(this),a=On._svgFactory.createElement("defs");s.append(a);const o=On._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,Mh).set(r,o);const u=i?U(this,vA,RW).call(this,a,l):null,d=On._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,Ur).set(r,s),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const i=qn(On,NC)._++,r=U(this,vA,qD).call(this),s=On._svgFactory.createElement("defs");r.append(s);const a=On._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=On._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=On._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=On._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=On._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),f(this,Ur).set(i,r),i}finalizeDraw(e,t){f(this,Mh).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:i,bbox:r,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,Ur).get(e):e;if(o){if(i&&U(this,vA,$D).call(this,o,i),r&&U(l=On,o1,PW).call(l,o,r),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;U(this,vA,$D).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const i=f(this,Ur).get(e);i&&(f(t,co).append(i),f(this,Ur).delete(e),f(t,Ur).set(e,i))}remove(e){f(this,Mh).delete(e),f(this,co)!==null&&(f(this,Ur).get(e).remove(),f(this,Ur).delete(e))}destroy(){_(this,co,null);for(const e of f(this,Ur).values())e.remove();f(this,Ur).clear(),f(this,Mh).clear()}},co=new WeakMap,Ur=new WeakMap,Mh=new WeakMap,NC=new WeakMap,o1=new WeakSet,PW=function(e,[t,i,r,s]){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},vA=new WeakSet,qD=function(){const e=On._svgFactory.create(1,1,!0);return f(this,co).append(e),e.setAttribute("aria-hidden",!0),e},RW=function(e,t){const i=On._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=On._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},$D=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},F(On,o1),F(On,NC,0),On);globalThis._pdfjsTestingUtils={HighlightOutliner:SD};globalThis.pdfjsLib={AbortException:Ed,AnnotationEditorLayer:sfe,AnnotationEditorParamsType:Bt,AnnotationEditorType:tt,AnnotationEditorUIManager:Tw,AnnotationLayer:tfe,AnnotationMode:sc,AnnotationType:si,applyOpacity:Tce,build:Rde,ColorPicker:Dj,createValidAbsoluteUrl:C$,CSSConstants:_ce,DOMSVGFactory:Q_,DrawLayer:afe,FeatureTest:or,fetchData:_B,findContrastColor:Ice,getDocument:bQ,getFilenameFromUrl:bce,getPdfFilenameFromUrl:Cce,getRGB:IB,getUuid:x$,getXfaPageViewport:Ece,GlobalWorkerOptions:Gl,ImageKind:CS,InvalidPDFException:bR,isDataScheme:b1,isPdfFile:mQ,isValidExplicitDest:kce,MathClamp:Dr,noContextMenu:Va,normalizeUnicode:vce,OPS:Sw,OutputScale:Zh,PasswordResponses:lce,PDFDataRangeTransport:Uj,PDFDateString:BR,PDFWorker:AD,PermissionFlag:Ace,PixelsPerInch:Ov,RenderingCancelledException:gQ,renderRichText:T$,ResponseException:M_,setLayerDimensions:Jh,shadow:Ze,SignatureExtractor:yg,stopEvent:Gn,SupportedImageMimeTypes:xR,TextLayer:rD,TouchManager:W$,updateUrlHash:B$,Util:Pe,VerbosityLevel:v1,version:Rj,XfaLayer:_$};Gl.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const ofe=async n=>{try{const e=await n.arrayBuffer(),t=await bQ({data:e}).promise;let i="",r=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");i+=h+" ",h.trim().length>0&&r.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:r}}catch(e){throw console.error("PDF Processing Error:",e),e}},Afe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},lfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],DW=P.createContext(void 0),ufe=({children:n})=>{const[e,t]=P.useState(lfe),[i,r]=P.useState(null),[s,a]=P.useState([]),[o,l]=P.useState(!1),[u,d]=P.useState(0),[h,g]=P.useState("medium"),[v,b]=P.useState("light"),[C,E]=P.useState("single"),[S,I]=P.useState(!0),[T,R]=P.useState([]),[M,D]=P.useState([]),[N,H]=P.useState(null),[k,K]=P.useState("idle"),[G,z]=P.useState("#ef4444"),[J,ne]=P.useState(3),[pe,V]=P.useState(1),[$,ie]=P.useState({}),[ue,Ce]=P.useState([]),[q,Y]=P.useState(!1),[Ae,de]=P.useState(null),[be,ye]=P.useState([]),[we,ft]=P.useState(!0),[ae,Qe]=P.useState("ai"),[He,ge]=P.useState(""),[An,We]=P.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),wt=e[u];P.useEffect(()=>{window.innerWidth<1024&&ft(!1)},[]),P.useEffect(()=>{const xe=setInterval(()=>{document.visibilityState==="visible"&&Cn()},5e3);return()=>clearInterval(xe)},[]),P.useEffect(()=>{We(xe=>({...xe,chapterVisits:{...xe.chapterVisits,[wt.id]:(xe.chapterVisits[wt.id]||0)+1}}))},[wt.id]);const Cn=()=>{We(xe=>({...xe,totalReadingTime:xe.totalReadingTime+5}))},Ar=()=>{We(xe=>({...xe,aiInteractionCount:xe.aiInteractionCount+1}))},ea=()=>{b(xe=>xe==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},_o=()=>I(xe=>!xe),BA=()=>{R(xe=>xe.includes(wt.id)?xe.filter(st=>st!==wt.id):[...xe,wt.id])},ve=()=>{u<e.length-1&&d(xe=>xe+1)},Re=()=>{u>0&&d(xe=>xe-1)},me=xe=>{xe>=0&&xe<e.length&&d(xe)},Be=async xe=>{l(!0);try{const st=await ofe(xe);st.chapters.length>0?(t(st.chapters),d(0),a(st.chunks),r(null),ft(!0),Qe("ai"),alert(`"${xe.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(st){console.error("PDF Load Failed",st),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},Ye=(xe,st,ut)=>{const je=ut||wt.id,un={id:Date.now().toString(),chapterId:je,text:xe,color:"yellow",note:st,createdAt:Date.now()};D(ta=>[un,...ta]),We(ta=>({...ta,highlightCount:ta.highlightCount+1}))},$e=(xe,st)=>{D(ut=>ut.map(je=>je.id===xe?{...je,note:st}:je))},bt=xe=>{D(st=>st.filter(ut=>ut.id!==xe))},qe=xe=>{I(!0),H(xe),setTimeout(()=>H(null),2e3)},Pn=(xe,st)=>{ie(ut=>({...ut,[xe]:[...ut[xe]||[],st]}))},ln=(xe,st)=>{ie(ut=>({...ut,[xe]:(ut[xe]||[]).filter(je=>je.id!==st)}))},lr=xe=>($[xe]||[]).length>0,fs=(xe,st)=>{const ut={id:Date.now().toString(),title:xe||"Untitled Note",content:st,chapterId:wt.id,chapterTitle:wt.title,createdAt:Date.now(),updatedAt:Date.now()};Ce(je=>[ut,...je])},To=(xe,st,ut)=>{Ce(je=>je.map(un=>un.id===xe?{...un,title:st,content:ut,updatedAt:Date.now()}:un))},Er=xe=>{Ce(st=>st.filter(ut=>ut.id!==xe))},Io=xe=>{let st=xe.content.replace(/<[^>]+>/g,"");const ut=new Blob([`# ${xe.title}

${st}`],{type:"text/markdown"}),je=URL.createObjectURL(ut),un=document.createElement("a");un.href=je,un.download=`${xe.title.replace(/\s+/g,"_")}.md`,un.click(),URL.revokeObjectURL(je)},xr=async xe=>{const st=await xe.text();let ut=xe.name.replace(".md","").replace(".json",""),je=st.replace(/\n/g,"<br>");fs(ut,je)},my=(xe,st)=>{const ut={id:Date.now().toString(),role:xe,text:st,timestamp:Date.now()};ye(je=>[...je,ut])},yI=async xe=>{ft(!0),Qe("ai");const st=`Explain: "${xe}"`;my("user",st),Ar();let ut=wt.content.substring(0,2e3);if(s.length>0){const un=Afe(xe,s);un&&(ut=un)}const je=await b$(xe,ut);my("model",je)},wI=xe=>{if(!xe||xe.length<2)return[];const st=[],ut=xe.toLowerCase();return e.forEach(je=>{const un=je.content.replace(/<[^>]+>/g," "),ta=un.toLowerCase().indexOf(ut);if(ta!==-1){const vy=Math.max(0,ta-40),pp=Math.min(un.length,ta+40+xe.length),Nd=(vy>0?"...":"")+un.substring(vy,pp)+(pp<un.length?"...":"");st.push({id:`ch-${je.id}-${ta}`,type:"chapter",title:je.title,contentSnippet:Nd,chapterId:je.id,matchIndex:ta})}}),M.forEach(je=>{(je.text.toLowerCase().includes(ut)||je.note&&je.note.toLowerCase().includes(ut))&&st.push({id:`hl-${je.id}`,type:"highlight",title:"Highlight",contentSnippet:je.note?`${je.text} - ${je.note}`:je.text,chapterId:je.chapterId})}),ue.forEach(je=>{const un=je.content.replace(/<[^>]+>/g," ");(je.title.toLowerCase().includes(ut)||un.toLowerCase().includes(ut))&&st.push({id:`note-${je.id}`,type:"note",title:je.title,contentSnippet:un.substring(0,80)+"...",chapterId:je.chapterId})}),st},hp=()=>{console.log("Saving progress..."),alert("Progress Saved! (Simulated)")};return Q.jsx(DW.Provider,{value:{chapters:e,referenceDocument:i,currentChapterIndex:u,currentChapter:wt,goToNextChapter:ve,goToPrevChapter:Re,goToChapter:me,uploadBook:Be,isProcessing:o,fontSize:h,setFontSize:g,viewMode:C,setViewMode:E,theme:v,toggleTheme:ea,showAnnotations:S,toggleAnnotations:_o,bookmarks:T,toggleBookmark:BA,highlights:M,addHighlight:Ye,updateHighlight:$e,removeHighlight:bt,activeHighlightId:N,focusHighlight:qe,drawingMode:k,setDrawingMode:K,penColor:G,setPenColor:z,penWidth:J,setPenWidth:ne,penOpacity:pe,setPenOpacity:V,chapterStrokes:$,addStroke:Pn,removeStroke:ln,hasStrokes:lr,generalNotes:ue,addGeneralNote:fs,updateGeneralNote:To,removeGeneralNote:Er,importNotes:xr,exportNoteAsMarkdown:Io,isCaptureMode:q,setCaptureMode:Y,capturedImage:Ae,setCapturedImage:de,aiChatHistory:be,addChatMessage:my,triggerSmartExplain:yI,isToolsOpen:we,setToolsOpen:ft,activeToolTab:ae,setActiveToolTab:Qe,searchQuery:He,setSearchQuery:ge,performSearch:wI,stats:An,incrementAiCount:Ar,updateReadingTime:Cn,saveProgress:hp},children:n})},up=()=>{const n=P.useContext(DW);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),MG=n=>{const e=dfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},LW=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),ffe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>P.createElement("svg",{ref:l,...hfe,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:LW("lucide",r),...!s&&!ffe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>P.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(n,e)=>{const t=P.forwardRef(({className:i,...r},s)=>P.createElement(pfe,{ref:s,iconNode:e,className:LW(`lucide-${cfe(MG(n))}`,`lucide-${n}`,i),...r}));return t.displayName=MG(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],mfe=ct("bold",gfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yfe=ct("book-open",vfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],jD=ct("book",wfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],n_=ct("bookmark",bfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],PG=ct("bot",Cfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Efe=ct("camera",Bfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Sfe=ct("chevron-left",xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tfe=ct("chevron-right",_fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ffe=ct("clock",Ife);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Mfe=ct("columns-2",Ufe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Rfe=ct("ellipsis-vertical",Pfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Lfe=ct("eraser",Dfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qfe=ct("eye",Nfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],RG=ct("file-text",kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],WD=ct("file-up",Ofe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],DG=ct("funnel",Hfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],i_=ct("highlighter",Vfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Kfe=ct("list",Gfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LG=ct("loader-circle",zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$fe=ct("log-out",qfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wfe=ct("message-circle-question-mark",jfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],YU=ct("message-square",Yfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Jfe=ct("minus",Xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],ehe=ct("panel-left",Zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],nhe=ct("panel-right",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rhe=ct("pen-line",ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],NW=ct("pen-tool",she);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ohe=ct("pen",ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YD=ct("plus",Ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],uhe=ct("printer",lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QW=ct("save",che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],r_=ct("search",dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],hhe=ct("settings-2",fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],ghe=ct("sticky-note",phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],vhe=ct("table",mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],NG=ct("trash-2",yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],bhe=ct("type",whe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Bhe=ct("upload",Che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kW=ct("x",Ehe),OW=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:i,viewMode:r,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:b,showAnnotations:C,toggleAnnotations:E,isToolsOpen:S,setToolsOpen:I,bookmarks:T,toggleBookmark:R,currentChapter:M,uploadBook:D,isProcessing:N,setActiveToolTab:H}=up(),k=Ud(),K=Q6(),G=k.pathname==="/",[z,J]=P.useState(!1),[ne,pe]=P.useState(!1),[V,$]=P.useState(!1),ie=P.useRef(null),ue=T.includes(M.id),Ce=()=>{confirm("Are you sure you want to close the viewer?")&&K("/report")},q=()=>{var ye;(ye=ie.current)==null||ye.click()},Y=ye=>{ye.target.files&&ye.target.files[0]&&D(ye.target.files[0])},Ae=()=>{I(!0),H("search")},de=ye=>{const we=["small","medium","large","xlarge"],ft=we.indexOf(t);let ae=ye==="up"?ft+1:ft-1;ae<0&&(ae=0),ae>=we.length&&(ae=we.length-1),i(we[ae])},be=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return Q.jsx("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800 z-[60] transition-colors duration-200 flex items-center shadow-sm",children:Q.jsxs("div",{className:"w-full px-4 flex items-center justify-between",children:[Q.jsxs("div",{className:"flex items-center gap-3",children:[G&&Q.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-colors ${e?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Table of Contents",children:Q.jsx(ehe,{size:20})}),Q.jsxs("div",{className:"flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[Q.jsx("div",{className:"bg-blue-600 rounded-md p-1",children:Q.jsx(jD,{className:"w-5 h-5 text-white"})}),Q.jsx("span",{className:"font-bold text-lg hidden sm:block tracking-tight",children:"CampusBook"})]})]}),Q.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[Q.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-lg p-1 border border-slate-200 dark:border-slate-800 flex",children:[Q.jsx(__,{to:"/",className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${G?"bg-white dark:bg-slate-800 shadow-sm text-blue-600 dark:text-blue-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:"Reader"}),Q.jsx(__,{to:"/report",className:`flex items-center gap-1 px-4 py-1.5 rounded-md text-sm font-medium transition-all ${G?"text-slate-500 hover:text-slate-700 dark:text-slate-400":"bg-white dark:bg-slate-800 shadow-sm text-blue-600 dark:text-blue-400"}`,children:"Report"})]}),Q.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-800 mx-1"}),Q.jsxs("button",{onClick:q,disabled:N,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg text-sm font-medium transition-colors border border-blue-100 dark:border-blue-900/30",title:"Add Reference Material (PDF)",children:[N?Q.jsx(LG,{size:16,className:"animate-spin"}):Q.jsx(WD,{size:16}),Q.jsx("span",{children:"Add Reference"}),Q.jsx("input",{type:"file",ref:ie,className:"hidden",accept:"application/pdf",onChange:Y})]})]}),Q.jsxs("div",{className:"flex items-center gap-1",children:[G&&Q.jsxs(Q.Fragment,{children:[Q.jsx("button",{onClick:Ae,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800",title:"Search",children:Q.jsx(r_,{size:20})}),Q.jsxs("div",{className:"flex items-center gap-1 px-2 relative",children:[Q.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 rounded-lg p-0.5 border border-slate-200 dark:border-slate-800 items-center",children:[Q.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`p-2 rounded-md transition-all flex items-center gap-1 ${a==="pen"?"bg-white dark:bg-slate-800 shadow text-blue-600":"text-slate-400 hover:text-slate-600"}`,title:"Pen Tool",children:Q.jsx(ohe,{size:18})}),a==="pen"&&Q.jsx("button",{onClick:()=>J(!z),className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-md text-slate-500 mr-1",title:"Pen Settings",children:Q.jsx(hhe,{size:12})}),Q.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),J(!1)},className:`p-2 rounded-md transition-all ${a==="eraser"?"bg-white dark:bg-slate-800 shadow text-red-500":"text-slate-400 hover:text-slate-600"}`,title:"Eraser",children:Q.jsx(Lfe,{size:18})})]}),z&&a==="pen"&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-3",children:[Q.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),Q.jsx("button",{onClick:()=>J(!1),className:"text-slate-400 hover:text-slate-600",children:Q.jsx(kW,{size:14})})]}),Q.jsx("div",{className:"flex justify-between mb-4",children:be.map(ye=>Q.jsx("button",{onClick:()=>u(ye),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===ye?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:ye}},ye))}),Q.jsxs("div",{className:"mb-3",children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Thickness"}),Q.jsxs("span",{children:[d,"px"]})]}),Q.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:ye=>h(parseInt(ye.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),Q.jsxs("div",{children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Opacity"}),Q.jsxs("span",{children:[Math.round(g*100),"%"]})]}),Q.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:ye=>v(parseFloat(ye.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("button",{onClick:()=>pe(!ne),className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800",title:"Appearance",children:Q.jsx(bhe,{size:20})}),ne&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),Q.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[Q.jsx("button",{onClick:()=>de("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(Jfe,{size:14})}),Q.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),Q.jsx("button",{onClick:()=>de("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(YD,{size:14})})]}),Q.jsxs("div",{className:"space-y-2",children:[Q.jsxs("button",{onClick:()=>s(r==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(Mfe,{size:16})," Two-Page View"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${r==="double"?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${r==="double"?"translate-x-4":""}`})})]}),Q.jsxs("button",{onClick:E,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(Qfe,{size:16})," Annotations"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${C?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${C?"translate-x-4":""}`})})]}),Q.jsxs("button",{onClick:R,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(n_,{size:16})," Bookmark Page"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${ue?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${ue?"translate-x-4":""}`})})]})]})]})]}),Q.jsx("button",{onClick:()=>I(!S),className:`p-2 rounded-lg transition-colors flex items-center gap-2 ${S?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Toggle AI & Notes",children:Q.jsx(nhe,{size:20})})]}),Q.jsxs("div",{className:"relative ml-1",children:[Q.jsx("button",{onClick:()=>$(!V),className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:Q.jsx(Rfe,{size:20})}),V&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-1 animate-fade-in z-[70]",children:[Q.jsxs("button",{onClick:q,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:[N?Q.jsx(LG,{size:14,className:"animate-spin"}):Q.jsx(WD,{size:14})," ","Add Reference PDF"]}),Q.jsx("input",{type:"file",ref:ie,className:"hidden",accept:"application/pdf",onChange:Y}),Q.jsxs("button",{onClick:b,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:[Q.jsx(QW,{size:14})," Save Progress"]}),Q.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),Q.jsxs("button",{onClick:Ce,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[Q.jsx($fe,{size:14})," Exit Viewer"]})]})]})]})]})})},{AbortException:xhe,AnnotationEditorLayer:She,AnnotationEditorParamsType:LNe,AnnotationEditorType:Yr,AnnotationEditorUIManager:_he,AnnotationLayer:The,AnnotationMode:dA,AnnotationType:HW,applyOpacity:NNe,build:QNe,ColorPicker:kNe,createValidAbsoluteUrl:VW,CSSConstants:ONe,DOMSVGFactory:HNe,DrawLayer:Ihe,FeatureTest:GW,fetchData:QG,findContrastColor:VNe,getDocument:GNe,getFilenameFromUrl:KNe,getPdfFilenameFromUrl:Fhe,getRGB:zNe,getUuid:qNe,getXfaPageViewport:$Ne,GlobalWorkerOptions:jNe,ImageKind:WNe,InvalidPDFException:YNe,isDataScheme:XNe,isPdfFile:Uhe,isValidExplicitDest:Mhe,MathClamp:SQ,noContextMenu:JNe,normalizeUnicode:Phe,OPS:ZNe,OutputScale:s_,PasswordResponses:eQe,PDFDataRangeTransport:tQe,PDFDateString:nQe,PDFWorker:iQe,PermissionFlag:tg,PixelsPerInch:YA,RenderingCancelledException:XD,renderRichText:rQe,ResponseException:sQe,setLayerDimensions:KW,shadow:Iw,SignatureExtractor:aQe,stopEvent:JD,SupportedImageMimeTypes:oQe,TextLayer:Rhe,TouchManager:AQe,updateUrlHash:Dhe,Util:_Q,VerbosityLevel:lQe,version:kG,XfaLayer:XU}=globalThis.pdfjsLib,Lhe="auto",zW=1,OG=1.1,Nhe=.1,Qhe=10,JU=0,khe=1.25,HG=40,VG=5,Ft={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},kg={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},uA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},xt={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},wr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function qW(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;if(e&&(e.top!==void 0&&(r+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=SQ((i.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;i.scrollLeft=s}i.scrollTop=r}function Ohe(n,e,t=void 0){const i=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=r.lastX;l!==u&&(r.right=l>u),r.lastX=l;const d=n.scrollTop,h=r.lastY;d!==h&&(r.down=d>h),r.lastY=d,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i};let s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}function E1(n){const e=new Map;for(const[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}const GG=/[\x00-\x1F]/g;function pw(n,e=!1){return GG.test(n)?e?n.replaceAll(GG,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function Fw(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){const s=i+r>>1,a=n[s];e(a)?r=s:i=s+1}return i}function KG(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const i=n>1?e:n;let r=0,s=1,a=1,o=1;for(;;){const u=r+a,d=s+o;if(d>t)break;i<=u/d?(a=u,o=d):(r=u,s=d)}let l;return i-r/s<a/o-i?l=i===n?[r,s]:[s,r]:l=i===n?[a,o]:[o,a],l}function xx(n,e){return n-n%e}function Hhe(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}function Vhe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,R=T.offsetLeft+T.clientLeft,M=R+T.clientWidth;return r?R<l:M>o}const h=[],g=new Set,v=e.length;let b=Fw(e,i?d:u);b>0&&b<v&&!i&&(b=Hhe(b,e,s));let C=i?l:-1;for(let I=b;I<v;I++){const T=e[I],R=T.div,M=R.offsetLeft+R.clientLeft,D=R.offsetTop+R.clientTop,N=R.clientWidth,H=R.clientHeight,k=M+N,K=D+H;if(C===-1)K>=a&&(C=K);else if((i?M:D)>C)break;if(K<=s||D>=a||k<=o||M>=l)continue;const G=Math.max(0,s-D),z=Math.max(0,o-M),J=G+Math.max(0,K-a),ne=z+Math.max(0,k-l),pe=(H-J)/H,V=(N-ne)/N,$=pe*V*100|0;h.push({id:T.id,x:M,y:D,visibleArea:$===100?null:{minX:z,minY:G,maxX:Math.min(k,l)-M,maxY:Math.min(K,a)-D},view:T,percent:$,widthPercent:V*100|0}),g.add(T.id)}const E=h[0],S=h.at(-1);return t&&h.sort(function(I,T){const R=I.percent-T.percent;return Math.abs(R)>.001?-R:I.id-T.id}),{first:E,last:S,views:h,ids:g}}function $W(n){return Number.isInteger(n)&&n%90===0}function Ghe(n){return Number.isInteger(n)&&Object.values(xt).includes(n)&&n!==xt.UNKNOWN}function Khe(n){return Number.isInteger(n)&&Object.values(wr).includes(n)&&n!==wr.UNKNOWN}function zG(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const zhe=document.documentElement.style;var Jc,Ph,Zc,mv,Rh;class qhe{constructor(e){F(this,Jc,null);F(this,Ph,null);F(this,Zc,0);F(this,mv,null);F(this,Rh,!0);_(this,Jc,e.classList),_(this,mv,e.style)}get percent(){return f(this,Zc)}set percent(e){if(_(this,Zc,SQ(e,0,100)),isNaN(e)){f(this,Jc).add("indeterminate");return}f(this,Jc).remove("indeterminate"),f(this,mv).setProperty("--progressBar-percent",`${f(this,Zc)}%`)}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&f(this,mv).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){f(this,Zc)===100||isNaN(f(this,Zc))||(f(this,Ph)&&clearTimeout(f(this,Ph)),this.show(),_(this,Ph,setTimeout(()=>{_(this,Ph,null),this.hide()},e)))}hide(){f(this,Rh)&&(_(this,Rh,!1),f(this,Jc).add("hidden"))}show(){f(this,Rh)||(_(this,Rh,!0),f(this,Jc).remove("hidden"))}}Jc=new WeakMap,Ph=new WeakMap,Zc=new WeakMap,mv=new WeakMap,Rh=new WeakMap;function $he(n){let e=xt.VERTICAL,t=wr.NONE;switch(n){case"SinglePage":e=xt.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=xt.PAGE;case"TwoColumnLeft":t=wr.ODD;break;case"TwoPageRight":e=xt.PAGE;case"TwoColumnRight":t=wr.EVEN;break}return{scrollMode:e,spreadMode:t}}const Sx=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),Xa={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function jhe(n){return n<11904}function Whe(n){return(n&65408)===0}function Yhe(n){return n>=97&&n<=122||n>=65&&n<=90}function Xhe(n){return n>=48&&n<=57}function Jhe(n){return n===32||n===9||n===13||n===10}function Zhe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function epe(n){return n>=12448&&n<=12543}function tpe(n){return n>=12352&&n<=12447}function npe(n){return n>=65376&&n<=65439}function ipe(n){return(n&65408)===3584}function _x(n){return jhe(n)?Whe(n)?Jhe(n)?Xa.SPACE:Yhe(n)||Xhe(n)||n===95?Xa.ALPHA_LETTER:Xa.PUNCT:ipe(n)?Xa.THAI_LETTER:n===160?Xa.SPACE:Xa.ALPHA_LETTER:Zhe(n)?Xa.HAN_LETTER:epe(n)?Xa.KATAKANA_LETTER:tpe(n)?Xa.HIRAGANA_LETTER:npe(n)?Xa.HALFWIDTH_KATAKANA_LETTER:Xa.ALPHA_LETTER}let rpe;function spe(){return rpe}const Xu={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},ape=250,ope=-50,qG={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},$G=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let jG;const Ape=new RegExp("\\p{M}+","gu"),lpe=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),upe=new RegExp("([^\\p{M}])\\p{M}*$","u"),cpe=new RegExp("^\\p{M}*([^\\p{M}])","u"),dpe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,WG=new Map,fpe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",YG=new Map;let ZU=null,eM=null;function a_(n,e={}){const t=[];let i;for(;(i=dpe.exec(n))!==null;){let{index:I}=i;for(const T of i[0]){let R=WG.get(T);R||(R=T.normalize("NFD").length,WG.set(T,R)),t.push([R,I++])}}const r=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!r&&ZU)a=ZU;else if(r&&eM)a=eM;else{const I=Object.keys(qG).join(""),T=spe(),N=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",r?fpe:"\\u0000"];a=new RegExp(N.map(H=>`(${H})`).join("|"),"gum"),r?eM=a:ZU=a}const o=[];for(;(i=Ape.exec(n))!==null;)o.push([i[0].length,i.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,b=0,C=!1;l=l.replace(a,(I,T,R,M,D,N,H,k,K,G,z)=>{var J,ne,pe;if(z-=v,T){const V=qG[T],$=V.length;for(let ie=1;ie<$;ie++)u.push(z-g+ie,g-ie);return g-=$-1,V}if(R){let V=YG.get(R);V||(V=R.normalize("NFKC"),YG.set(R,V));const $=V.length;for(let ie=1;ie<$;ie++)u.push(z-g+ie,g-ie);return g-=$-1,V}if(M)return C=!0,z+b===((J=o[d])==null?void 0:J[1])?++d:(u.push(z-1-g+1,g-1),g-=1,v+=1),u.push(z-g+1,g),v+=1,b+=1,M.charAt(0);if(D){const V=D.endsWith(`
`),$=V?D.length-2:D.length;C=!0;let ie=$;z+b===((ne=o[d])==null?void 0:ne[1])&&(ie-=o[d][0],++d);for(let ue=1;ue<=ie;ue++)u.push(z-1-g+ue,g-ue);return g-=ie,v+=ie,V?(z+=$-1,u.push(z-g+1,1+g),g+=1,v+=1,b+=1,D.slice(0,$)):D}if(N){if(s)return v+=1,b+=1,N.slice(0,-1);const V=N.length-2;return u.push(z-g+V,1+g),g+=1,v+=1,b+=1,N.slice(0,-2)}if(H)return v+=1,b+=1,H.slice(0,-1);if(k){const V=k.length-1;return u.push(z-g+V,g),v+=1,b+=1,k.slice(0,-1)}if(K)return u.push(z-g+1,g-1),g-=1,v+=1,b+=1," ";if(z+b===((pe=t[h])==null?void 0:pe[1])){const V=t[h][0]-1;++h;for(let $=1;$<=V;$++)u.push(z-(g-$),g-$);g-=V,v+=V}return G}),u.push(l.length,g);const E=new Uint32Array(u.length>>1),S=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)E[I>>1]=u[I],S[I>>1]=u[I+1];return[l,[E,S],C]}function jW(n,e,t){if(!n)return[e,t];const[i,r]=n,s=e,a=e+t-1;let o=Fw(i,g=>g>=s);i[o]>s&&--o;let l=Fw(i,g=>g>=a,o);i[l]>a&&--l;const u=s+r[o],h=a+r[l]+1-u;return[u,h]}var pi,vv,Dh,Ne,WW,ZD,eL,YW,XW,tL,JW,ZW,o_,Z0,wg,eY,nL,iL,A_,tY,rL,sL,ew;class hpe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){F(this,Ne);F(this,pi,null);F(this,vv,!0);F(this,Dh,0);this._linkService=e,this._eventBus=t,_(this,vv,i),this.onIsPageVisible=null,U(this,Ne,ZD).call(this),t._on("find",U(this,Ne,WW).bind(this)),t._on("findbarclose",U(this,Ne,tY).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,pi)}setDocument(e){this._pdfDocument&&U(this,Ne,ZD).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){if(!this._scrollMatches||!e)return;if(r===-1||r!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1,qW(e,{top:ope,left:t},!0)}match(e,t,i){const r=this._hasDiacritics[i];let s=!1;if(typeof e=="string"?[s,e]=U(this,Ne,tL).call(this,e,r):e=e.sort().reverse().map(h=>{const[g,v]=U(this,Ne,tL).call(this,h,r);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,pi),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!U(this,Ne,XW).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}pi=new WeakMap,vv=new WeakMap,Dh=new WeakMap,Ne=new WeakSet,WW=function(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(f(this,pi)===null||U(this,Ne,YW).call(this,e))&&(this._dirtyMatch=!0),_(this,pi,e),i!=="highlightallchange"&&U(this,Ne,ew).call(this,Xu.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;U(this,Ne,ZW).call(this);const r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?U(this,Ne,wg).call(this):i==="again"?(U(this,Ne,wg).call(this),r&&f(this,pi).highlightAll&&U(this,Ne,Z0).call(this)):i==="highlightallchange"?(s?U(this,Ne,wg).call(this):this._highlightMatches=!0,U(this,Ne,Z0).call(this)):U(this,Ne,wg).call(this):this._findTimeout=setTimeout(()=>{U(this,Ne,wg).call(this),this._findTimeout=null},ape)})},ZD=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,Dh,0),_(this,pi,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},eL=function(){const{query:e}=f(this,pi);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=a_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>a_(t)[0])},YW=function(e){var a;const t=e.query,i=f(this,pi).query,r=typeof t;if(r!==typeof i)return!0;if(r==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},XW=function(e,t,i){let r=e.slice(0,t).match(upe);if(r){const s=e.charCodeAt(t),a=r[1].charCodeAt(0);if(_x(s)===_x(a))return!1}if(r=e.slice(t+i).match(cpe),r){const s=e.charCodeAt(t+i-1),a=r[1].charCodeAt(0);if(_x(s)===_x(a))return!1}return!0},tL=function(e,t){const{matchDiacritics:i}=f(this,pi);let r=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(lpe,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":i?h||g:h?$G.has(h.charCodeAt(0))?h:"":t?(r=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),i&&t&&(jG||(jG=String.fromCharCode(...$G)),r=!0,e=`${e}(?=[${jG}]|[^\\p{M}]|$)`),[r,e]},JW=function(e){if(!f(this,pi))return;const t=f(this,Ne,eL);if(t.length===0)return;const i=this._pageContents[e],r=this.match(t,i,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];r==null||r.forEach(({index:u,length:d})=>{const[h,g]=jW(o,u,d);g&&(s.push(h),a.push(g))}),f(this,pi).highlightAll&&U(this,Ne,o_).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,U(this,Ne,nL).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,vv)?l>0&&U(this,Ne,sL).call(this):++qn(this,Dh)._===this._linkService.pagesCount&&U(this,Ne,sL).call(this)},ZW=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},i=this._pdfDocument;for(let r=0,s=this._linkService.pagesCount;r<s;r++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[r]=a,e=e.then(async()=>{if(i!==this._pdfDocument){o();return}await i.getPage(r+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[r],this._pageDiffs[r],this._hasDiacritics[r]]=a_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${r+1}`,l),this._pageContents[r]="",this._pageDiffs[r]=null,this._hasDiacritics[r]=!1,o()})})}},o_=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},Z0=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},wg=function(){const e=f(this,pi).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,Dh,0),this._matchesCountTotal=0,U(this,Ne,Z0).call(this);for(let a=0;a<i;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),U(this,Ne,JW).call(this,a)}))}if(f(this,Ne,eL).length===0){U(this,Ne,ew).call(this,Xu.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,U(this,Ne,A_).call(this,!0);return}U(this,Ne,iL).call(this,e)}U(this,Ne,nL).call(this)},eY=function(e){const t=this._offset,i=e.length,r=f(this,pi).findPrevious;return i?(t.matchIdx=r?i-1:0,U(this,Ne,A_).call(this,!0),!0):(U(this,Ne,iL).call(this,r),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(U(this,Ne,A_).call(this,!1),!0):!1)},nL=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!U(this,Ne,eY).call(this,e))},iL=function(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},A_=function(e=!1){let t=Xu.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?Xu.WRAPPED:Xu.FOUND,r!==-1&&r!==this._selected.pageIdx&&U(this,Ne,o_).call(this,r)}U(this,Ne,ew).call(this,t,f(this,pi).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,U(this,Ne,o_).call(this,this._selected.pageIdx))},tY=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),U(this,Ne,ew).call(this,Xu.FOUND),this._highlightMatches=!1,U(this,Ne,Z0).call(this))})},rL=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let i=0,r=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)i+=((s=this._pageMatches[a])==null?void 0:s.length)||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}},sL=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:U(this,Ne,rL).call(this)})},ew=function(e,t=!1){var i,r;!f(this,vv)&&(f(this,Dh)!==this._linkService.pagesCount||e===Xu.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((i=f(this,pi))==null?void 0:i.entireWord)??null,matchesCount:U(this,Ne,rL).call(this),rawQuery:((r=f(this,pi))==null?void 0:r.query)??null})};const ppe="noopener noreferrer nofollow",af={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class TQ{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){he(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,i,r;if(typeof e=="string"?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}const[s]=i;if(s&&typeof s=="object"){if(r=this.pdfDocument.cachedPageNumber(s),!r)try{r=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(r=s+1);if(!r||r<1||r>this.pagesCount){console.error(`goToDestination: "${r}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===r&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,i,r={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,i],ignoreDestinationZoom:!0,...r})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const r=i?af.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(r){case af.NONE:break;case af.SELF:a="_self";break;case af.BLANK:a="_blank";break;case af.PARENT:a="_parent";break;case af.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:ppe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=E1(e);if(r.has("search")){const s=r.get("search").replaceAll('"',""),a=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(r.has("page")&&(t=r.get("page")|0||1),r.has("zoom")){const s=r.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?i=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?i=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||Mhe(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(i=this.pdfHistory)==null||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}}class IQ extends TQ{setDocument(e,t=null){}}var ed,QC,kC,OC,td,HC,gu,iY,aL,rY;class nY{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:b=null,onAppend:C=null}){F(this,gu);F(this,ed,null);F(this,QC,null);F(this,kC,!1);F(this,OC,null);F(this,td,null);F(this,HC,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=r,this.enableComment=o,_(this,QC,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=b,_(this,OC,C),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:i=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[r,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,OC))==null||l.call(this,o),U(this,gu,iY).call(this,e,i),r.length===0){_(this,ed,r),KW(this.div,e);return}await this.annotationLayer.render({annotations:r,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,ed,r),this.linkService.isInPresentationMode&&U(this,gu,aL).call(this,kg.FULLSCREEN),f(this,td)||(_(this,td,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{U(this,gu,aL).call(this,d.state)},{signal:f(this,td).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,td))==null||e.abort(),_(this,td,null)}hide(e=!1){_(this,kC,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,ed)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,HC))return;_(this,HC,!0);const t=f(this,ed).length?U(this,gu,rY).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,kC)||(this.div.hidden=!1))}}ed=new WeakMap,QC=new WeakMap,kC=new WeakMap,OC=new WeakMap,td=new WeakMap,HC=new WeakMap,gu=new WeakSet,iY=function(e,t){this.annotationLayer=new The({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,QC),linkService:this.linkService})},aL=function(e){if(!this.div)return;let t=!1;switch(e){case kg.FULLSCREEN:t=!0;break;case kg.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)},rY=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function i(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=_Q.intersect(d,h);g&&o.push(g)}return o}function r(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,ed)){if(o.annotationType!==HW.LINK||!o.url)continue;const l=i(o,s);if(l.length!==0&&(a??(a=r(t(s))),r(l)/a>.5))return!1}return!0})};function XG(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var nQ;class gpe{constructor(){F(this,nQ,new WeakMap)}downloadData(e,t,i){const r=URL.createObjectURL(new Blob([e],{type:i}));XG(r,t)}openOrDownloadData(e,t,i=null){const s=Uhe(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!VW(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}XG(r,i)}}nQ=new WeakMap;const JG={EVENT:"event",TIMEOUT:"timeout"};async function mpe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:r}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),r(u)}const o=n instanceof FQ?"_on":"addEventListener";n[o](e,a.bind(null,JG.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,JG.TIMEOUT),t);return i}var yv;class FQ{constructor(){F(this,yv,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:i==null?void 0:i.once,signal:i==null?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=f(this,yv)[e];if(!i||i.length===0)return;let r;for(const{listener:s,external:a,once:o}of i.slice(0)){if(o&&this._off(e,s),a){(r||(r=[])).push(s);continue}s(t)}if(r){for(const s of r)s(t);r=null}}_on(e,t,i=null){var a;let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,yv))[e]||(a[e]=[])).push({listener:t,external:(i==null?void 0:i.external)===!0,once:(i==null?void 0:i.once)===!0,rmAbort:r})}_off(e,t,i=null){var s;const r=f(this,yv)[e];if(r)for(let a=0,o=r.length;a<o;a++){const l=r[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),r.splice(a,1);return}}}}yv=new WeakMap;class Og{constructor(e){this.value=e}valueOf(){return this.value}}class li extends Og{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class Xl extends Og{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class xd extends Og{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof Og)return xd.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof xd?(t={...e.opts,...t},e=e.value):e instanceof Og&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const ZG=100,vpe="",ype="";function wpe(n,e,t){if(t===e||t instanceof Xl&&e instanceof Xl&&t.value===e.value)return!0;if(e instanceof Xl&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function eK(n,e,t){return e[t]?Hv(n,e[t].value):(n.reportError(new RangeError("No default")),new li)}function oL(n,e){const t=[],i=Object.create(null);for(const r of e)r.type==="narg"?i[r.name]=Uw(n,r.value):t.push(Uw(n,r));return{positional:t,named:i}}function Uw(n,e){switch(e.type){case"str":return e.value;case"num":return new Xl(e.value,{minimumFractionDigits:e.precision});case"var":return bpe(n,e);case"mesg":return Cpe(n,e);case"term":return Bpe(n,e);case"func":return Epe(n,e);case"select":return xpe(n,e);default:return new li}}function bpe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new li(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new li(`$${e}`);if(t instanceof Og)return t;switch(typeof t){case"string":return t;case"number":return new Xl(t);case"object":if(xd.supportsValue(t))return new xd(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new li(`$${e}`)}}function Cpe(n,{name:e,attr:t}){const i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new li(e);if(t){const r=i.attributes[t];return r?Hv(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new li(`${e}.${t}`))}return i.value?Hv(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new li(e))}function Bpe(n,{name:e,attr:t,args:i}){const r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new li(r);if(t){const o=s.attributes[t];if(o){n.params=oL(n,i).named;const l=Hv(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new li(`${r}.${t}`)}n.params=oL(n,i).named;const a=Hv(n,s.value);return n.params=null,a}function Epe(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new li(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new li(`${e}()`);try{let r=oL(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new li(`${e}()`)}}function xpe(n,{selector:e,variants:t,star:i}){let r=Uw(n,e);if(r instanceof li)return eK(n,t,i);for(const s of t){const a=Uw(n,s.key);if(wpe(n,r,a))return Hv(n,s.value)}return eK(n,t,i)}function sY(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new li;n.dirty.add(e);const t=[],i=n.bundle._useIsolating&&e.length>1;for(const r of e){if(typeof r=="string"){t.push(n.bundle._transform(r));continue}if(n.placeables++,n.placeables>ZG)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${ZG}`);i&&t.push(vpe),t.push(Uw(n,r).toString(n)),i&&t.push(ype)}return n.dirty.delete(e),t.join("")}function Hv(n,e){return typeof e=="string"?n.bundle._transform(e):sY(n,e)}class Spe{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}}function AL(n,e){const t=Object.create(null);for(const[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}const tK=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function _pe(n,e){let t=n[0];if(t instanceof li)return new li(`NUMBER(${t.valueOf()})`);if(t instanceof Xl)return new Xl(t.valueOf(),{...t.opts,...AL(e,tK)});if(t instanceof xd)return new Xl(t.toNumber(),{...AL(e,tK)});throw new TypeError("Invalid argument to NUMBER")}const Tpe=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Ipe(n,e){let t=n[0];if(t instanceof li)return new li(`DATETIME(${t.valueOf()})`);if(t instanceof xd||t instanceof Xl)return new xd(t,AL(e,Tpe));throw new TypeError("Invalid argument to DATETIME")}const nK=new Map;function Fpe(n){const e=Array.isArray(n)?n.join(" "):n;let t=nK.get(e);return t===void 0&&(t=new Map,nK.set(e,t)),t}class Upe{constructor(e,{functions:t,useIsolating:i=!0,transform:r=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:_pe,DATETIME:Ipe,...t},this._useIsolating=i,this._transform=r,this._intls=Fpe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let r=new Spe(this,i,t);try{return sY(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),new li().toString(r);throw s}}}const tM=/^(-?[a-zA-Z][\w-]*) *= */gm,iK=/\.([a-zA-Z][\w-]*) *= */y,Mpe=/\*?\[/y,nM=/(-?[0-9]+(?:\.([0-9]+))?)/y,Ppe=/([a-zA-Z][\w-]*)/y,rK=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Rpe=/^[A-Z][A-Z0-9_-]*$/,Tx=/([^{}\n\r]+)/y,Dpe=/([^\\"\n\r]*)/y,sK=/\\([\\"])/y,aK=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Lpe=/^\n+/,oK=/ +$/,Npe=/ *\r?\n/g,Qpe=/( *)$/,kpe=/{\s*/y,AK=/\s*}/y,Ope=/\[\s*/y,Hpe=/\s*] */y,Vpe=/\s*\(\s*/y,Gpe=/\s*->\s*/y,Kpe=/\s*:\s*/y,zpe=/\s*,?\s*/y,qpe=/\s+/y;class $pe{constructor(e){this.body=[],tM.lastIndex=0;let t=0;for(;;){let k=tM.exec(e);if(k===null)break;t=tM.lastIndex;try{this.body.push(l(k[1]))}catch(K){if(K instanceof SyntaxError)continue;throw K}}function i(k){return k.lastIndex=t,k.test(e)}function r(k,K){if(e[t]===k)return t++,!0;if(K)throw new K(`Expected ${k}`);return!1}function s(k,K){if(i(k))return t=k.lastIndex,!0;if(K)throw new K(`Expected ${k.toString()}`);return!1}function a(k){k.lastIndex=t;let K=k.exec(e);if(K===null)throw new SyntaxError(`Expected ${k.toString()}`);return t=k.lastIndex,K}function o(k){return a(k)[1]}function l(k){let K=d(),G=u();if(K===null&&Object.keys(G).length===0)throw new SyntaxError("Expected message value or attributes");return{id:k,value:K,attributes:G}}function u(){let k=Object.create(null);for(;i(iK);){let K=o(iK),G=d();if(G===null)throw new SyntaxError("Expected attribute value");k[K]=G}return k}function d(){let k;if(i(Tx)&&(k=o(Tx)),e[t]==="{"||e[t]==="}")return h(k?[k]:[],1/0);let K=D();return K?k?h([k,K],K.length):(K.value=N(K.value,Lpe),h([K],K.length)):k?N(k,oK):null}function h(k=[],K){for(;;){if(i(Tx)){k.push(o(Tx));continue}if(e[t]==="{"){k.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let ne=D();if(ne){k.push(ne),K=Math.min(K,ne.length);continue}break}let G=k.length-1,z=k[G];typeof z=="string"&&(k[G]=N(z,oK));let J=[];for(let ne of k)ne instanceof lK&&(ne=ne.value.slice(0,ne.value.length-K)),ne&&J.push(ne);return J}function g(){s(kpe,SyntaxError);let k=v();if(s(AK))return k;if(s(Gpe)){let K=E();return s(AK,SyntaxError),{type:"select",selector:k,...K}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(i(rK)){let[,k,K,G=null]=a(rK);if(k==="$")return{type:"var",name:K};if(s(Vpe)){let z=b();if(k==="-")return{type:"term",name:K,attr:G,args:z};if(Rpe.test(K))return{type:"func",name:K,args:z};throw new SyntaxError("Function names must be all upper-case")}return k==="-"?{type:"term",name:K,attr:G,args:[]}:{type:"mesg",name:K,attr:G}}return I()}function b(){let k=[];for(;;){switch(e[t]){case")":return t++,k;case void 0:throw new SyntaxError("Unclosed argument list")}k.push(C()),s(zpe)}}function C(){let k=v();return k.type!=="mesg"?k:s(Kpe)?{type:"narg",name:k.name,value:I()}:k}function E(){let k=[],K=0,G;for(;i(Mpe);){r("*")&&(G=K);let z=S(),J=d();if(J===null)throw new SyntaxError("Expected variant value");k[K++]={key:z,value:J}}if(K===0)return null;if(G===void 0)throw new SyntaxError("Expected default variant");return{variants:k,star:G}}function S(){s(Ope,SyntaxError);let k;return i(nM)?k=T():k={type:"str",value:o(Ppe)},s(Hpe,SyntaxError),k}function I(){if(i(nM))return T();if(e[t]==='"')return R();throw new SyntaxError("Invalid expression")}function T(){let[,k,K=""]=a(nM),G=K.length;return{type:"num",value:parseFloat(k),precision:G}}function R(){r('"',SyntaxError);let k="";for(;;){if(k+=o(Dpe),e[t]==="\\"){k+=M();continue}if(r('"'))return{type:"str",value:k};throw new SyntaxError("Unclosed string literal")}}function M(){if(i(sK))return o(sK);if(i(aK)){let[,k,K]=a(aK),G=parseInt(k||K,16);return G<=55295||57344<=G?String.fromCodePoint(G):""}throw new SyntaxError("Unknown escape sequence")}function D(){let k=t;switch(s(qpe),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(k,t))}return e[t-1]===" "?H(e.slice(k,t)):!1}function N(k,K){return k.replace(K,"")}function H(k){let K=k.replace(Npe,`
`),G=Qpe.exec(k)[1].length;return new lK(K,G)}}}class lK{constructor(e,t){this.value=e,this.length=t}}const jpe=/<|&#?\w+;/,Wpe={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},Ype={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function Xpe(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!jpe.test(t))n.textContent=t;else{const i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,Jpe(i.content,n)}aY(e,n)}function Jpe(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=ege(e,t);n.replaceChild(i,t);continue}if(nge(t)){const i=tge(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(lL(t),t)}e.textContent="",e.appendChild(n)}function Zpe(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function aY(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))uK(i.name,e,t)&&!Zpe(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(const i of Array.from(n.attributes))uK(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function ege(n,e){const t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),lL(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),lL(e);n.removeChild(i);const r=i.cloneNode(!1);return oY(e,r)}function tge(n){const e=n.ownerDocument.createElement(n.localName);return oY(n,e)}function lL(n){return n.ownerDocument.createTextNode(n.textContent)}function nge(n){const e=Wpe[n.namespaceURI];return e&&e.includes(n.localName)}function uK(n,e,t=null){if(t&&t.includes(n))return!0;const i=Ype[e.namespaceURI];if(!i)return!1;const r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&r==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function oY(n,e){return e.textContent=n.textContent,aY(n,e),e}class ige extends Array{static from(e){return e instanceof this?e:new this(e)}}class rge extends ige{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const i=this[this.length-1];if(i&&(await i).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class sge{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const i=[];let r=!1;for await(const s of this.bundles){r=!0;const a=Age(t,s,e,i);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!r&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,oge)}formatValues(e){return this.formatWithFallback(e,age)}async formatValue(e,t){const[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=rge.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function age(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function oge(n,e,t,i){const r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],i,e);r.attributes[a]={name:o,value:l}}}return r}function Age(n,e,t,i){const r=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(i[l]!==void 0)return;let u=e.getMessage(a);if(u){if(r.length=0,i[l]=n(e,r,u,o),r.length>0&&typeof console<"u"){const d=e.locales[0],h=r.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const of="data-l10n-id",m0="data-l10n-args",lge=`[${of}]`;class uge extends sge{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[of,m0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(of,t),i?e.setAttribute(m0,JSON.stringify(i)):e.removeAttribute(m0),e}getAttributes(e){return{id:e.getAttribute(of),args:JSON.parse(e.getAttribute(m0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(of)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&Xpe(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(lge));return typeof e.hasAttribute=="function"&&e.hasAttribute(of)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(of),args:JSON.parse(e.getAttribute(m0)||null)}}}var VC,nd,wv,rs,ty,AY,lY;const Bw=class Bw{constructor({lang:e,isRTL:t},i=null){F(this,VC);F(this,nd);F(this,wv);F(this,rs);var r,s;_(this,wv,U(r=Bw,ty,AY).call(r,e)),_(this,rs,i),_(this,VC,t??U(s=Bw,ty,lY).call(s,f(this,wv))?"rtl":"ltr")}_setL10n(e){_(this,rs,e)}getLanguage(){return f(this,wv)}getDirection(){return f(this,VC)}async get(e,t=null,i){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,rs).formatMessages(e)).map(o=>o.value)):((s=(await f(this,rs).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||i}async translate(e){(f(this,nd)||_(this,nd,new Set)).add(e);try{f(this,rs).connectRoot(e),await f(this,rs).translateRoots()}catch{}}async translateOnce(e){try{await f(this,rs).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,nd)){for(const e of f(this,nd))f(this,rs).disconnectRoot(e);f(this,nd).clear(),_(this,nd,null)}f(this,rs).pauseObserving()}pause(){f(this,rs).pauseObserving()}resume(){f(this,rs).resumeObserving()}};VC=new WeakMap,nd=new WeakMap,wv=new WeakMap,rs=new WeakMap,ty=new WeakSet,AY=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},lY=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},F(Bw,ty);let uL=Bw;function cge(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:i}=GW.platform;return e?"linux":i?"windows":t?"macos":n?"android":"other"}function cK(n,e){const t=new $pe(e),i=new Upe(n,{functions:{PLATFORM:cge}}),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}var Js,uY,cY,dY,fY,cL;const hf=class hf extends uL{constructor(e){super({lang:e});const t=e?U(hf,Js,uY).bind(hf,"en-us",this.getLanguage()):U(hf,Js,fY).bind(hf,this.getLanguage());this._setL10n(new uge([],t))}};Js=new WeakSet,uY=async function*(e,t){const{baseURL:i,paths:r}=await U(this,Js,dY).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,U(this,Js,cY).call(this,o,i,r)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield U(this,Js,cL).call(this,o))}},cY=async function(e,t,i){const r=i[e];if(!r)return null;const s=new URL(r,t),a=await QG(s,"text");return cK(e,a)},dY=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await QG(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},fY=async function*(e){yield U(this,Js,cL).call(this,e)},cL=async function(e){return cK(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},F(hf,Js);let Vv=hf;const dge=1e3,fge=50,hge=1e3;function iM(){return document.location.hash}var id,rt,$A,l_,u_,tw,c_,dL,hY,pY,fL,gY,mY;class pge{constructor({linkService:e,eventBus:t}){F(this,rt);F(this,id,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const r=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,U(this,rt,gY).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=iM(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!U(this,rt,tw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=U(this,rt,dL).call(this,!0);if(!o||r||t){U(this,rt,$A).call(this,null,!0);return}U(this,rt,$A).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;U(this,rt,c_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(U(this,rt,fL).call(this),this._initialized=!1,U(this,rt,mY).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!U(this,rt,u_).call(this,i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(gge(this._destination.hash,r)||mge(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(U(this,rt,$A).call(this,{dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!U(this,rt,u_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(U(this,rt,$A).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||U(this,rt,l_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,rt,tw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,rt,tw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}id=new WeakMap,rt=new WeakSet,$A=function(e,t=!1){const i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};U(this,rt,c_).call(this,e,r.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=Dhe(a,e.hash))}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)},l_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){U(this,rt,$A).call(this,t);return}if(this._destination.temporary){U(this,rt,$A).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=fge)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}U(this,rt,$A).call(this,t,i)},u_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},tw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if((i==null?void 0:i.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},c_=function(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},dL=function(e=!1){const t=unescape(iM()).substring(1),i=E1(t),r=i.get("nameddest")||"";let s=i.get("page")|0;return(!U(this,rt,u_).call(this,s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},hY=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||U(this,rt,l_).call(this,!0),this._updateViewareaTimeout=null},hge))},pY=function({state:e}){const t=iM(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=U(this,rt,dL).call(this);U(this,rt,$A).call(this,{hash:s,page:a,rotation:o},!0);return}if(!U(this,rt,tw).call(this,e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,mpe({target:window,name:"hashchange",delay:dge}).then(()=>{this._blockHashChange--}));const r=e.destination;U(this,rt,c_).call(this,r,e.uid,!0),$W(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},fL=function(){(!this._destination||this._destination.temporary)&&U(this,rt,l_).call(this)},gY=function(){if(f(this,id))return;_(this,id,new AbortController);const{signal:e}=f(this,id);this.eventBus._on("updateviewarea",U(this,rt,hY).bind(this),{signal:e}),window.addEventListener("popstate",U(this,rt,pY).bind(this),{signal:e}),window.addEventListener("pagehide",U(this,rt,fL).bind(this),{signal:e})},mY=function(){var e;(e=f(this,id))==null||e.abort(),_(this,id,null)};function gge(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||E1(n).get("nameddest")===e}function mge(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(i!==null&&typeof i=="object"&&r!==null){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}var GC,KC,zC,qC,$C,bv;class vge{constructor(e){F(this,GC,null);F(this,KC,null);F(this,zC,null);F(this,qC,null);F(this,$C,null);F(this,bv);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new Vv),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,bv,e.uiManager),_(this,GC,e.annotationLayer||null),_(this,$C,e.textLayer||null),_(this,KC,e.drawLayer||null),_(this,zC,e.onAppend||null),_(this,qC,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}const r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=f(this,bv).direction,(a=f(this,zC))==null||a.call(this,r),this.annotationEditorLayer=new She({uiManager:f(this,bv),div:r,structTreeLayer:f(this,qC),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:f(this,GC),textLayer:f(this,$C),drawLayer:f(this,KC)});const s={viewport:i,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}GC=new WeakMap,KC=new WeakMap,zC=new WeakMap,qC=new WeakMap,$C=new WeakMap,bv=new WeakMap;{var hL=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,i=/Android/.test(t),r=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(r||i)&&hL.set("maxCanvasPixels",5242880)})(),(function(){i&&hL.set("useSystemFonts",!1)})()}const oe={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},pL={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Kl={allowedGlobalEvents:{value:null,kind:oe.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:oe.BROWSER+oe.API},isInAutomation:{value:!1,kind:oe.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:oe.BROWSER},maxCanvasDim:{value:32767,kind:oe.BROWSER+oe.VIEWER},nimbusDataStr:{value:"",kind:oe.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:oe.BROWSER},supportsDocumentFonts:{value:!0,kind:oe.BROWSER},supportsIntegratedFind:{value:!1,kind:oe.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:oe.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:oe.BROWSER},supportsPinchToZoom:{value:!0,kind:oe.BROWSER},supportsPrinting:{value:!0,kind:oe.BROWSER},toolbarDensity:{value:0,kind:oe.BROWSER+oe.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:oe.VIEWER+oe.PREFERENCE},annotationEditorMode:{value:0,kind:oe.VIEWER+oe.PREFERENCE},annotationMode:{value:2,kind:oe.VIEWER+oe.PREFERENCE},capCanvasAreaFactor:{value:200,kind:oe.VIEWER+oe.PREFERENCE},commentLearnMoreUrl:{value:"",kind:oe.VIEWER+oe.PREFERENCE},cursorToolOnLoad:{value:0,kind:oe.VIEWER+oe.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:oe.VIEWER},defaultZoomDelay:{value:400,kind:oe.VIEWER+oe.PREFERENCE},defaultZoomValue:{value:"",kind:oe.VIEWER+oe.PREFERENCE},disableHistory:{value:!1,kind:oe.VIEWER},disablePageLabels:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},enableAltText:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:oe.VIEWER+oe.PREFERENCE+oe.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:oe.VIEWER+oe.PREFERENCE},enableComment:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},enableDetailCanvas:{value:!0,kind:oe.VIEWER},enableGuessAltText:{value:!0,kind:oe.VIEWER+oe.PREFERENCE+oe.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:oe.VIEWER+oe.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},enablePermissions:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:oe.VIEWER+oe.PREFERENCE},enableScripting:{value:!0,kind:oe.VIEWER+oe.PREFERENCE},enableSignatureEditor:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:oe.VIEWER},externalLinkTarget:{value:0,kind:oe.VIEWER+oe.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:oe.VIEWER+oe.PREFERENCE},historyUpdateUrl:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},imageResourcesPath:{value:"./images/",kind:oe.VIEWER},maxCanvasPixels:{value:2**25,kind:oe.VIEWER},minDurationToUpdateCanvas:{value:500,kind:oe.VIEWER},forcePageColors:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:oe.VIEWER+oe.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:oe.VIEWER+oe.PREFERENCE},pdfBugEnabled:{value:!1,kind:oe.VIEWER+oe.PREFERENCE},printResolution:{value:150,kind:oe.VIEWER},sidebarViewOnLoad:{value:-1,kind:oe.VIEWER+oe.PREFERENCE},scrollModeOnLoad:{value:-1,kind:oe.VIEWER+oe.PREFERENCE},spreadModeOnLoad:{value:-1,kind:oe.VIEWER+oe.PREFERENCE},textLayerMode:{value:1,kind:oe.VIEWER+oe.PREFERENCE},viewerCssTheme:{value:0,kind:oe.VIEWER+oe.PREFERENCE},viewOnLoad:{value:0,kind:oe.VIEWER+oe.PREFERENCE},cMapPacked:{value:!0,kind:oe.API},cMapUrl:{value:"../web/cmaps/",kind:oe.API},disableAutoFetch:{value:!1,kind:oe.API+oe.PREFERENCE},disableFontFace:{value:!1,kind:oe.API+oe.PREFERENCE},disableRange:{value:!1,kind:oe.API+oe.PREFERENCE},disableStream:{value:!1,kind:oe.API+oe.PREFERENCE},docBaseUrl:{value:"",kind:oe.API},enableHWA:{value:!0,kind:oe.API+oe.VIEWER+oe.PREFERENCE},enableXfa:{value:!0,kind:oe.API+oe.PREFERENCE},fontExtraProperties:{value:!1,kind:oe.API},iccUrl:{value:"../web/iccs/",kind:oe.API},isEvalSupported:{value:!0,kind:oe.API},isOffscreenCanvasSupported:{value:!0,kind:oe.API},maxImageSize:{value:-1,kind:oe.API},pdfBug:{value:!1,kind:oe.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:oe.API},useSystemFonts:{value:void 0,kind:oe.API,type:pL.BOOLEAN+pL.UNDEFINED},verbosity:{value:1,kind:oe.API},wasmUrl:{value:"../web/wasm/",kind:oe.API},workerPort:{value:null,kind:oe.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:oe.WORKER}};Kl.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:oe.VIEWER},Kl.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:oe.VIEWER},Kl.enableFakeMLManager={value:!0,kind:oe.VIEWER};Kl.disablePreferences={value:!1,kind:oe.VIEWER};var rd;const Qo=class Qo{static get(e){return f(this,rd).get(e)}static getAll(e=null,t=!1){const i=Object.create(null);for(const r in Kl){const s=Kl[r];e&&!(e&s.kind)||(i[r]=t?s.value:f(this,rd).get(r))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let i;for(const r in e){const s=Kl[r],a=e[r];if(!s||!(typeof a==typeof s.value||pL[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&oe.BROWSER||o&oe.PREFERENCE)||(this.eventBus&&o&oe.EVENT_DISPATCH&&(i||(i=new Map)).set(r,a),f(this,rd).set(r,a))}if(i)for(const[r,s]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}};rd=new WeakMap,he(Qo,"eventBus"),F(Qo,rd,new Map),(()=>{for(const e in Kl)f(Qo,rd).set(e,Kl[e].value);for(const[e,t]of hL)f(Qo,rd).set(e,t);Qo._hasInvokedSet=!1,Qo._checkDisablePreferences=()=>Qo.get("disablePreferences")?!0:(Qo._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let gw=Qo;function dK({width:n,height:e,left:t,top:i},r){if(n===0||e===0)return null;const s=r.textLayer.div.getBoundingClientRect(),a=r.getPagePoint(t-s.left,i-s.top),o=r.getPagePoint(t-s.left+n,i-s.top+e);return _Q.normalizeRect([a[0],a[1],o[0],o[1]])}function yge(n,e){const t=n.getClientRects();if(t.length===1)return{rect:dK(t[0],e)};const i=[1/0,1/0,-1/0,-1/0],r=[];let s=0;for(const a of t){const o=dK(a,e);o!==null&&(r[s]=r[s+4]=o[0],r[s+1]=r[s+3]=o[3],r[s+2]=r[s+6]=o[2],r[s+5]=r[s+7]=o[1],_Q.rectBoundingBox(...o,i),s+=8)}return{quadPoints:r,rect:i}}function fK(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const i=t.textContent.length;if(e<=i)return[t,e];e-=i}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function wge({url:n,index:e,length:t},i,r){const s=i._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...fK(s.textDivs[a.divIdx],a.offset)),l.setEnd(...fK(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${r}`,unsafeUrl:n,url:n,annotationType:HW.LINK,rotation:0,...yge(l,i),borderStyle:null}}var A1,jC;class gL{static findLinks(e){f(this,jC)??_(this,jC,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,i]=a_(e,{ignoreDashEOL:!0}),r=t.matchAll(f(this,jC)),s=[];for(const a of r){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=VW(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=jW(i,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>wge(t,e,qn(this,A1)._++))}}A1=new WeakMap,jC=new WeakMap,F(gL,A1,0),F(gL,jC);var sd,Cv,Bv,Ev,Ml,ad,Pl,l1,WC,mL;class vY{constructor(e){F(this,WC);F(this,sd,null);F(this,Cv,0);F(this,Bv,null);F(this,Ev,Ft.INITIAL);F(this,Ml,null);F(this,ad,0);F(this,Pl,null);he(this,"canvas",null);he(this,"div",null);he(this,"enableOptimizedPartialRendering",!1);he(this,"eventBus",null);he(this,"id",null);he(this,"pageColors",null);he(this,"recordedBBoxes",null);he(this,"renderingQueue",null);he(this,"renderTask",null);he(this,"resume",null);F(this,l1,e=>{var t;if((t=f(this,Ml))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Ft.PAUSED,this.resume=()=>{this.renderingState=Ft.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,Cv,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,Ev)}set renderingState(e){var t;if(e!==f(this,Ev))switch(_(this,Ev,e),f(this,sd)&&(clearTimeout(f(this,sd)),_(this,sd,null)),e){case Ft.PAUSED:this.div.classList.remove("loading"),_(this,ad,0),(t=f(this,Ml))==null||t.call(this,!1);break;case Ft.RUNNING:this.div.classList.add("loadingIcon"),_(this,sd,setTimeout(()=>{this.div.classList.add("loading"),_(this,sd,null)},0)),_(this,ad,Date.now());break;case Ft.INITIAL:case Ft.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,ad,0);break}}_createCanvas(e,t=!1){const{pageColors:i}=this,r=!!(i!=null&&i.background&&(i!=null&&i.foreground)),s=this.canvas,a=!s&&!r&&!t;let o=this.canvas=document.createElement("canvas");return _(this,Ml,l=>{if(a){let u=f(this,Pl);if(!l&&f(this,Cv)>0){if(Date.now()-f(this,ad)<f(this,Cv))return;u||(u=_(this,Pl,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?U(this,WC,mL).call(this):_(this,ad,Date.now());return}e(o),_(this,Ml,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,U(this,WC,mL).call(this))}async _drawCanvas(e,t,i){var a,o;const r=this.renderTask=this.pdfPage.render(e);r.onContinue=f(this,l1),r.onError=l=>{l instanceof XD&&(t(),_(this,Bv,null))};let s=null;try{await r.promise,(a=f(this,Ml))==null||a.call(this,!0)}catch(l){if(l instanceof XD)return;s=l,(o=f(this,Ml))==null||o.call(this,!0)}finally{_(this,Bv,s),r===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=r.recordedBBoxes)))}if(this.renderingState=Ft.FINISHED,i(r),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,Bv)})}}sd=new WeakMap,Cv=new WeakMap,Bv=new WeakMap,Ev=new WeakMap,Ml=new WeakMap,ad=new WeakMap,Pl=new WeakMap,l1=new WeakMap,WC=new WeakSet,mL=function(){f(this,Pl)&&(f(this,Pl).width=f(this,Pl).height=0,_(this,Pl,null))};var oA;class bge{constructor(e){F(this,oA,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,oA)||this._cancelled||_(this,oA,new Ihe({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,oA)&&(f(this,oA).destroy(),_(this,oA,null))}setParent(e){var t;(t=f(this,oA))==null||t.setParent(e)}getDrawLayer(){return f(this,oA)}}oA=new WeakMap;var Fa,u1,yY;class Cge extends vY{constructor({pageView:t}){super(t);F(this,u1);F(this,Fa,null);he(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const i=this.renderingCancelled||this.renderingState===Ft.RUNNING||this.renderingState===Ft.PAUSED;this.cancelRendering(),this.renderingState=Ft.INITIAL,this.renderingCancelled=i,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:i=!1}={}){if(i){this.cancelRendering(),this.renderingState=Ft.INITIAL;return}if(!U(this,u1,yY).call(this,t))return;const{viewport:r,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*s_.pixelRatio**2,h=(Math.sqrt(s_.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,b=l*g,C=Math.max(0,t.minX-v),E=Math.min(r.width,t.maxX+v),S=Math.max(0,t.minY-b),I=Math.min(r.height,t.maxY+b),T=E-C,R=I-S;_(this,Fa,{minX:C,minY:S,width:T,height:R,scale:r.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,i){const r=this.pageView._getRenderingContext(t,i,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return r;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,Fa),g=d/a,v=h/o,b=(d+l)/a,C=(h+u)/o;return{...r,operationsFilter(E){return s.isEmpty(E)?!1:s.minX(E)<=b&&s.maxX(E)>=g&&s.minY(E)<=C&&s.maxY(E)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===Ft.FINISHED||this.renderingState===Ft.FINISHED;this.renderingState!==Ft.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:i,pdfPage:r,viewport:s}=this.pageView;if(!r)throw this.renderingState=Ft.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Ft.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(E=>{var S;((S=a.firstElementChild)==null?void 0:S.tagName)==="CANVAS"?a.firstElementChild.after(E):a.prepend(E)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,Fa),{pixelRatio:g}=s_,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:b}=o;b.width=`${h.width*100/u}%`,b.height=`${h.height*100/d}%`,b.top=`${h.minY*100/d}%`,b.left=`${h.minX*100/u}%`;const C=this._drawCanvas(this._getRenderingContext(o,v),()=>{var E;(E=this.canvas)==null||E.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return i.setAttribute("data-loaded",!0),this.dispatchPageRender(),C}}Fa=new WeakMap,u1=new WeakSet,yY=function(t){if(!f(this,Fa))return!0;const i=f(this,Fa).minX,r=f(this,Fa).minY,s=f(this,Fa).width+i,a=f(this,Fa).height+r;if(t.minX<i||t.minY<r||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,Fa).scale!==u)return!0;const d=t.minX-i,h=s-t.maxX,g=t.minY-r,v=a-t.maxY,b=.5,C=(1+b)/b;return i>0&&h/d>C||s<o&&d/h>C||r>0&&v/g>C||a<l&&g/v>C};const hK={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},wY=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),V_="http://www.w3.org/1998/Math/MathML";class pK{static get sanitizer(){return Iw(this,"sanitizer",GW.isSanitizerSupported?new Sanitizer({elements:[...wY].map(e=>({name:e,namespace:V_})),replaceWithChildrenElements:[{name:"maction",namespace:V_}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const Bge=/^H(\d+)$/;var xv,fo,Sv,_v,Tv,od,yA,vL,CY,yL;class bY{constructor(e,t){F(this,yA);F(this,xv);F(this,fo,null);F(this,Sv);F(this,_v,new Map);F(this,Tv);F(this,od,null);_(this,xv,e.getStructTree()),_(this,Tv,t)}async render(){var r;if(f(this,Sv))return f(this,Sv);const{promise:e,resolve:t,reject:i}=Promise.withResolvers();_(this,Sv,e);try{_(this,fo,U(this,yA,yL).call(this,await f(this,xv)))}catch(s){i(s)}return _(this,xv,null),(r=f(this,fo))==null||r.classList.add("structTree"),t(f(this,fo)),e}async getAriaAttributes(e){try{return await this.render(),f(this,_v).get(e)}catch{}return null}hide(){f(this,fo)&&!f(this,fo).hidden&&(f(this,fo).hidden=!0)}show(){var e;(e=f(this,fo))!=null&&e.hidden&&(f(this,fo).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,od)){for(const[t,i]of f(this,od))(e=document.getElementById(t))==null||e.append(i);f(this,od).clear(),_(this,od,null)}}}xv=new WeakMap,fo=new WeakMap,Sv=new WeakMap,_v=new WeakMap,Tv=new WeakMap,od=new WeakMap,yA=new WeakSet,vL=function(e,t){const{alt:i,id:r,lang:s}=e;if(i!==void 0){let a=!1;const o=pw(i);for(const l of e.children)if(l.type==="annotation"){let u=f(this,_v).get(l.id);u||(u=new Map,f(this,_v).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}r!==void 0&&t.setAttribute("aria-owns",r),s!==void 0&&t.setAttribute("lang",pw(s,!0))},CY=function(e,t){const{alt:i,bbox:r,children:s}=e,a=s==null?void 0:s[0];if(!f(this,Tv)||!i||!r||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,od)||_(this,od,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",pw(i));const{pageHeight:u,pageX:d,pageY:h}=f(this,Tv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${r[2]-r[0]}px)`,v.height=`${g}${r[3]-r[1]}px)`,v.left=`${g}${r[0]-d}px)`,v.top=`${g}${u-r[3]+h}px)`,!0},yL=function(e){if(!e)return null;let t;if("role"in e){const{role:i}=e;t=wY.has(i)?document.createElementNS(V_,i):document.createElement("span");const r=i.match(Bge);if(r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):hK[i]&&t.setAttribute("role",hK[i]),i==="Figure"&&U(this,yA,CY).call(this,e,t))return t;i==="Formula"&&(e.mathML&&pK.sanitizer&&t.setHTML(e.mathML,{sanitizer:pK.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(V_,"math")))}if(t||(t=document.createElement("span")),U(this,yA,vL).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])U(this,yA,vL).call(this,e.children[0],t);else for(const i of e.children)t.append(U(this,yA,yL).call(this,i));return t};var Rl,Ua,Dl,Ad,Iv,d_,YC,bL;const Rg=class Rg{constructor(){F(this,YC);F(this,Rl,!1);F(this,Ua,null);F(this,Dl,new Map);F(this,Ad,new Map)}setTextMapping(e){_(this,Ua,e)}enable(){if(f(this,Rl))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,Ua))throw new Error("Text divs and strings have not been set.");if(_(this,Rl,!0),_(this,Ua,f(this,Ua).slice()),f(this,Ua).sort(U(Rg,Iv,d_)),f(this,Dl).size>0){const e=f(this,Ua);for(const[t,i]of f(this,Dl)){if(!document.getElementById(t)){f(this,Dl).delete(t);continue}U(this,YC,bL).call(this,t,e[i])}}for(const[e,t]of f(this,Ad))this.addPointerInTextLayer(e,t);f(this,Ad).clear()}disable(){f(this,Rl)&&(f(this,Ad).clear(),_(this,Ua,null),_(this,Rl,!1))}removePointerInTextLayer(e){if(!f(this,Rl)){f(this,Ad).delete(e);return}const t=f(this,Ua);if(!t||t.length===0)return;const{id:i}=e,r=f(this,Dl).get(i);if(r===void 0)return;const s=t[r];f(this,Dl).delete(i);let a=s.getAttribute("aria-owns");a!=null&&a.includes(i)&&(a=a.split(" ").filter(o=>o!==i).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!f(this,Rl))return f(this,Ad).set(e,t),null;t&&this.removePointerInTextLayer(e);const r=f(this,Ua);if(!r||r.length===0)return null;const s=Fw(r,u=>{var d;return U(d=Rg,Iv,d_).call(d,e,u)<0}),a=Math.max(0,s-1),o=r[a];U(this,YC,bL).call(this,i,o),f(this,Dl).set(i,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,r){const s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=Fw(a,l=>{var u;return U(u=Rg,Iv,d_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};Rl=new WeakMap,Ua=new WeakMap,Dl=new WeakMap,Ad=new WeakMap,Iv=new WeakSet,d_=function(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(r.width===0&&r.height===0)return-1;const s=i.y,a=i.y+i.height,o=i.y+i.height/2,l=r.y,u=r.y+r.height,d=r.y+r.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=i.x+i.width/2,g=r.x+r.width/2;return h-g},YC=new WeakSet,bL=function(e,t){const i=t.getAttribute("aria-owns");i!=null&&i.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},F(Rg,Iv);let wL=Rg;var ld;class Ege{constructor({findController:e,eventBus:t,pageIndex:i}){F(this,ld,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,ld)||(_(this,ld,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,ld).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,ld))==null||e.abort(),_(this,ld,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let r=0,s=0;const a=i.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;r!==a&&d>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:r,offset:d-s}};for(d+=t[l];r!==a&&d>s+i[r].length;)s+=i[r].length,r++;h.end={divIdx:r,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,a=i===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(S,I){const T=S.divIdx;return s[T].textContent="",g(T,0,S.offset,I)}function g(S,I,T,R){let M=s[S];if(M.nodeType===Node.TEXT_NODE){const H=document.createElement("span");M.before(H),H.append(M),s[S]=H,M=H}const D=r[S].substring(I,T),N=document.createTextNode(D);if(R){const H=document.createElement("span");if(H.className=`${R} appended`,H.append(N),M.append(H),R.includes("selected")){const{left:k}=H.getClientRects()[0],K=M.getBoundingClientRect().left;return k-K}return 0}return M.append(N),0}let v=o,b=v+1;if(l)v=0,b=e.length;else if(!a)return;let C=-1,E=-1;for(let S=v;S<b;S++){const I=e[S],T=I.begin;if(T.divIdx===C&&T.offset===E)continue;C=T.divIdx,E=T.offset;const R=I.end,M=a&&S===o,D=M?" selected":"";let N=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===R.divIdx)N=g(T.divIdx,T.offset,R.offset,"highlight"+D);else{N=g(T.divIdx,T.offset,d.offset,"highlight begin"+D);for(let H=T.divIdx+1,k=R.divIdx;H<k;H++)s[H].className="highlight middle"+D;h(R,"highlight end"+D)}u=R,M&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:N,pageIndex:i,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of i){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const b=a[g];b.textContent=s[g],b.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[r]||null,u=t.pageMatchesLength[r]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}ld=new WeakMap;var XC,JC,Lh,AA,ss,ud,c1,BY,ny,EY,xY;const rc=class rc{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){F(this,c1);F(this,XC,!1);F(this,JC,null);F(this,Lh,!1);F(this,AA,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,_(this,XC,r===!0),_(this,JC,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,Lh)&&f(this,AA)){f(this,AA).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,AA,new Rhe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:i,textContentItemsStr:r}=f(this,AA);(a=this.highlighter)==null||a.setTextMapping(i,r),(o=this.accessibilityManager)==null||o.setTextMapping(i),await f(this,AA).render(),_(this,Lh,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),U(this,c1,BY).call(this,s),(l=f(this,JC))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,Lh)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,Lh)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,i,r;(e=f(this,AA))==null||e.cancel(),_(this,AA,null),(t=this.highlighter)==null||t.disable(),(i=this.accessibilityManager)==null||i.disable(),U(r=rc,ny,EY).call(r,this.div)}};XC=new WeakMap,JC=new WeakMap,Lh=new WeakMap,AA=new WeakMap,ss=new WeakMap,ud=new WeakMap,c1=new WeakSet,BY=function(e){var i;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",r=>{if(!f(this,XC)){const s=document.getSelection();r.clipboardData.setData("text/plain",pw(Phe(s.toString())))}JD(r)}),f(rc,ss).set(t,e),U(i=rc,ny,xY).call(i)},ny=new WeakSet,EY=function(e){var t;f(this,ss).delete(e),f(this,ss).size===0&&((t=f(this,ud))==null||t.abort(),_(this,ud,null))},xY=function(){if(f(this,ud))return;_(this,ud,new AbortController);const{signal:e}=f(this,ud),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,f(this,ss).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,f(this,ss).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||f(this,ss).forEach(t)},{signal:e});var r,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,ss).forEach(t);return}const o=new Set;for(let b=0;b<a.rangeCount;b++){const C=a.getRangeAt(b);for(const E of f(this,ss).keys())!o.has(E)&&C.intersectsNode(E)&&o.add(E)}for(const[b,C]of f(this,ss))o.has(b)?b.classList.add("selecting"):t(C,b);if(r??(r=getComputedStyle(f(this,ss).values().next().value).getPropertyValue("-moz-user-select")==="none"),r)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,ss).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},F(rc,ny),F(rc,ss,new Map),F(rc,ud,null);let G_=rc;class SY{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,XU.render(s)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?XU.update(r):(this.div=document.createElement("div"),r.div=this.div,XU.render(r))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const xge={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new IQ}},Sge=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var cd,dd,ZC,eB,Fv,tB,fd,Ll,Uv,nB,iB,rB,Mv,sB,Nl,hd,At,bg,f_,nw,CL,BL,EL,xL,SL,TY,IY,FY,_L;class _Y extends vY{constructor(t){var a,o;super(t);F(this,At);F(this,cd,dA.ENABLE_FORMS);F(this,dd,null);F(this,ZC,null);F(this,eB,!0);F(this,Fv,!1);F(this,tB,!1);F(this,fd,null);F(this,Ll,!1);F(this,Uv,null);F(this,nB,null);F(this,iB,1);F(this,rB,1);F(this,Mv,uA.ENABLE);F(this,sB,1);F(this,Nl,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});F(this,hd,[null,null,null,null]);const i=t.container,r=t.defaultViewport;this.renderingId="page"+this.id,_(this,fd,t.layerProperties||xge),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||zW,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,Mv,t.textLayerMode??uA.ENABLE),_(this,cd,t.annotationMode??dA.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??gw.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||gw.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??gw.get("capCanvasAreaFactor"),_(this,eB,t.enableAutoLinking!==!1),_(this,ZC,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new Vv),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=i,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,U(this,At,f_).call(this),i==null||i.append(s),this._isStandalone){i==null||i.style.setProperty("--scale-factor",this.scale*YA.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(i==null||i.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,Nl).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var r,s,a,o;this._isStandalone&&(((r=this.pageColors)==null?void 0:r.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const i=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*YA.PDF_TO_CSS_UNITS,rotation:i}),U(this,At,f_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return Iw(this,"_textHighlighter",new Ege({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,fd).findController}))}_resetCanvas(){super._resetCanvas(),_(this,Uv,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var E,S,I,T,R,M,D;const l=((E=this.pdfPage)==null?void 0:E._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=Ft.INITIAL;const u=this.div,d=u.childNodes,h=t&&((S=this.annotationLayer)==null?void 0:S.div)||null,g=i&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=r&&((T=this.xfaLayer)==null?void 0:T.div)||null,b=s&&((R=this.textLayer)==null?void 0:R.div)||null,C=a&&f(this,dd)||null;for(let N=d.length-1;N>=0;N--){const H=d[N];switch(H){case h:case g:case v:case b:case C:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const k=f(this,hd).indexOf(H);k>=0&&(f(this,hd)[k]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),b&&this.textLayer.hide(),(M=this.structTreeLayer)==null||M.hide(),!a&&f(this,dd)&&(_(this,dd,null),this._resetCanvas()),o||((D=this.detailView)==null||D.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,tB,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,Ll)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new Cge({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:i=null,optionalContentConfigPromise:r=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof i=="number"&&(this.rotation=i),r instanceof Promise&&(this._optionalContentConfigPromise=r,r.then(d=>{r===this._optionalContentConfigPromise&&(f(this,Nl).initialOptionalContent=d.hasInitialVisibility)})),f(this,Nl).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*YA.PDF_TO_CSS_UNITS,rotation:a}),U(this,At,f_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),U(this,At,_L).call(this),this.canvas){const d=f(this,Fv)&&f(this,Ll),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==Ft.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=Ft.FINISHED,f(this,Nl).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!i||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!r||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,Uv);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,b=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${b})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&U(this,At,CL).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&U(this,At,EL).call(this),U(this,At,BL).call(this)),r&&this.xfaLayer&&U(this,At,xL).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&U(this,At,SL).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,i){return this.viewport.convertToPdfPoint(t,i)}_ensureCanvasWrapper(){let t=f(this,dd);return t||(t=_(this,dd,document.createElement("div")),t.classList.add("canvasWrapper"),U(this,At,bg).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,i,r){return{canvas:t,transform:i,viewport:this.viewport,annotationMode:f(this,cd),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,tB),recordOperations:r}}async draw(){this.renderingState!==Ft.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:i,pdfPage:r,viewport:s}=this;if(!r)throw this.renderingState=Ft.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Ft.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,Mv)!==uA.DISABLE&&!r.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new wL),this.textLayer=new G_({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,Mv)===uA.ENABLE_PERMISSIONS,onAppend:M=>{this.l10n.pause(),U(this,At,bg).call(this,M,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,cd)!==dA.DISABLE){const{annotationStorage:M,annotationEditorUIManager:D,downloadManager:N,enableComment:H,enableScripting:k,fieldObjectsPromise:K,hasJSActionsPromise:G,linkService:z}=f(this,fd);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new nY({pdfPage:r,annotationStorage:M,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,cd)===dA.ENABLE_FORMS,linkService:z,downloadManager:N,enableComment:H,enableScripting:k,hasJSActionsPromise:G,fieldObjectsPromise:K,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,commentManager:f(this,ZC),onAppend:J=>{U(this,At,bg).call(this,J,"annotationLayer")}})}const{width:o,height:l}=s;_(this,Uv,s);const{canvas:u,prevCanvas:d}=this._createCanvas(M=>{a.prepend(M)});u.setAttribute("role","presentation"),this.outputScale||U(this,At,_L).call(this);const{outputScale:h}=this;_(this,Fv,f(this,Ll));const g=KG(h.sx),v=KG(h.sy),b=u.width=xx(Sx(o*h.sx),g[0]),C=u.height=xx(Sx(l*h.sy),v[0]),E=xx(Sx(o),g[1]),S=xx(Sx(l),v[1]);h.sx=b/E,h.sy=C/S,f(this,iB)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,iB,g[1])),f(this,rB)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,rB,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,Fv)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,R=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},M=>{f(this,Nl).regularAnnotations=!M.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var N;if(this.renderingState!==Ft.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new bY(r,s.rawDims));const M=U(this,At,SL).call(this);this.annotationLayer&&(await U(this,At,CL).call(this),f(this,eB)&&this.annotationLayer&&this.textLayer&&await U(this,At,FY).call(this,M));const{annotationEditorUIManager:D}=f(this,fd);D&&(this.drawLayer||(this.drawLayer=new bge({pageIndex:this.id})),await U(this,At,EL).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,cd)===dA.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new vge({uiManager:D,pdfPage:r,l10n:i,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(N=this.annotationLayer)==null?void 0:N.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{U(this,At,bg).call(this,H,"annotationEditorLayer")}})),U(this,At,BL).call(this)))});if(r.isPureXfa){if(!this.xfaLayer){const{annotationStorage:M,linkService:D}=f(this,fd);this.xfaLayer=new SY({pdfPage:r,annotationStorage:M,linkService:D})}U(this,At,xL).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),R}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:i,regularAnnotations:r}=f(this,Nl);return t&&i&&r?this.canvas:null}}cd=new WeakMap,dd=new WeakMap,ZC=new WeakMap,eB=new WeakMap,Fv=new WeakMap,tB=new WeakMap,fd=new WeakMap,Ll=new WeakMap,Uv=new WeakMap,nB=new WeakMap,iB=new WeakMap,rB=new WeakMap,Mv=new WeakMap,sB=new WeakMap,Nl=new WeakMap,hd=new WeakMap,At=new WeakSet,bg=function(t,i){const r=Sge.get(i),s=f(this,hd)[r];if(f(this,hd)[r]=t,s){s.replaceWith(t);return}for(let a=r-1;a>=0;a--){const o=f(this,hd)[a];if(o){o.after(t);return}}this.div.prepend(t)},f_=function(){const{div:t,viewport:i}=this;if(i.userUnit!==f(this,sB)&&(i.userUnit!==1?t.style.setProperty("--user-unit",i.userUnit):t.style.removeProperty("--user-unit"),_(this,sB,i.userUnit)),this.pdfPage){if(f(this,nB)===i.rotation)return;_(this,nB,i.rotation)}KW(t,i,!0,!1)},nw=function(t,i){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:i})},CL=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(i){console.error("#renderAnnotationLayer:",i),t=i}finally{U(this,At,nw).call(this,"annotationlayerrendered",t)}},BL=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(i){console.error("#renderAnnotationEditorLayer:",i),t=i}finally{U(this,At,nw).call(this,"annotationeditorlayerrendered",t)}},EL=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},xL=async function(){var i;let t=null;try{const r=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});r!=null&&r.textDivs&&this._textHighlighter&&U(this,At,IY).call(this,r.textDivs)}catch(r){console.error("#renderXfaLayer:",r),t=r}finally{(i=this.xfaLayer)!=null&&i.div&&(this.l10n.pause(),U(this,At,bg).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),U(this,At,nw).call(this,"xfalayerrendered",t)}},SL=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(i){if(i instanceof xhe)return;console.error("#renderTextLayer:",i),t=i}U(this,At,nw).call(this,"textlayerrendered",t),U(this,At,TY).call(this)},TY=async function(){var i,r,s;if(!this.textLayer)return;const t=await((i=this.structTreeLayer)==null?void 0:i.render());t&&(this.l10n.pause(),(r=this.structTreeLayer)==null||r.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},IY=async function(t){const i=await this.pdfPage.getTextContent(),r=[];for(const s of i.items)r.push(s.str);this._textHighlighter.setTextMapping(t,r),this._textHighlighter.enable()},FY=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(gL.processLinks(this))}catch(i){console.error("#injectLinkAnnotations:",i)}},_L=function(){const{width:t,height:i}=this.viewport,r=this.outputScale=new s_;if(this.maxCanvasPixels===0){const s=1/this.scale;r.sx*=s,r.sy*=s,_(this,Ll,!0)}else if(_(this,Ll,r.limitCanvas(t,i,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,Ll)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;r.sx/=s,r.sy/=s}};async function _ge(n){const{info:i,metadata:r,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...i,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||Fhe(""),metadata:r==null?void 0:r.getRaw(),authors:r==null?void 0:r.get("dc:creator"),numPages:n.numPages,URL:""}}class Tge{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var lA,Nh,aB,Qh,kh,oB,Mr,Ql,Pv,gi,Ma,Ni,UY,h_,TL,MY,iw;class Ige{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){F(this,Ni);F(this,lA,null);F(this,Nh,null);F(this,aB,null);F(this,Qh,null);F(this,kh,null);F(this,oB,null);F(this,Mr,null);F(this,Ql,null);F(this,Pv,!1);F(this,gi,null);F(this,Ma,null);_(this,kh,e),_(this,oB,t),_(this,aB,i)}setViewer(e){_(this,Ql,e)}async setDocument(e){var o;if(f(this,Mr)&&await U(this,Ni,iw).call(this),_(this,Mr,e),!e)return;const[t,i,r]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!r){await U(this,Ni,iw).call(this);return}if(e!==f(this,Mr))return;try{_(this,gi,U(this,Ni,MY).call(this))}catch(l){console.error("setDocument:",l),await U(this,Ni,iw).call(this);return}const s=f(this,kh);_(this,Qh,new AbortController);const{signal:a}=f(this,Qh);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&U(this,Ni,UY).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,gi))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(U(this,Ni,TL).call(this,u),U(this,Ni,h_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,Ql).currentPageNumber&&U(this,Ni,h_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await U(this,Ni,TL).call(this,f(this,Ql).currentPageNumber),await((l=f(this,gi))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,lA))==null||u.resolve()},{signal:a});try{const l=await f(this,aB).call(this,e);if(e!==f(this,Mr))return;await f(this,gi).createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:r}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await U(this,Ni,iw).call(this);return}await((o=f(this,gi))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await U(this,Ni,h_).call(this,f(this,Ql).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,Mr)&&_(this,Pv,!0)})}async dispatchWillSave(){var e;return(e=f(this,gi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,gi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,gi)){await((e=f(this,Ma))==null?void 0:e.promise),_(this,Ma,Promise.withResolvers());try{await f(this,gi).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,Ma).resolve(),_(this,Ma,null),t}await f(this,Ma).promise}}async dispatchDidPrint(){var e;return(e=f(this,gi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,Nh))==null?void 0:e.promise)||null}get ready(){return f(this,Pv)}get _pageOpenPending(){return Iw(this,"_pageOpenPending",new Set)}get _visitedPages(){return Iw(this,"_visitedPages",new Map)}}lA=new WeakMap,Nh=new WeakMap,aB=new WeakMap,Qh=new WeakMap,kh=new WeakMap,oB=new WeakMap,Mr=new WeakMap,Ql=new WeakMap,Pv=new WeakMap,gi=new WeakMap,Ma=new WeakMap,Ni=new WeakSet,UY=async function(e){var u,d;const t=f(this,Ql),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:r,siblings:s,command:a,value:o}=e;if(!r){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!i){const h=$he(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,kh).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":i||(t.currentScaleValue=o);break;case"SaveAs":f(this,kh).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,Ma))==null||u.resolve(),_(this,Ma,null);break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;const l=s?[r,...s]:[r];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,Mr))==null||d.annotationStorage.setValue(h,e)}},h_=async function(e,t=!1){const i=f(this,Mr),r=this._visitedPages;if(t&&_(this,lA,Promise.withResolvers()),!f(this,lA))return;const s=f(this,Ql).getPageView(e-1);if((s==null?void 0:s.renderingState)!==Ft.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(r.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());i===f(this,Mr)&&await((u=f(this,gi))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();r.set(e,a)},TL=async function(e){var s;const t=f(this,Mr),i=this._visitedPages;if(!f(this,lA)||this._pageOpenPending.has(e))return;const r=i.get(e);r&&(i.set(e,null),await r,t===f(this,Mr)&&await((s=f(this,gi))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},MY=function(){if(_(this,Nh,Promise.withResolvers()),f(this,gi))throw new Error("#initScripting: Scripting already exists.");return f(this,oB).createScripting()},iw=async function(){var e,t,i,r;if(!f(this,gi)){_(this,Mr,null),(e=f(this,Nh))==null||e.resolve();return}f(this,lA)&&(await Promise.race([f(this,lA).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,lA,null)),_(this,Mr,null);try{await f(this,gi).destroySandbox()}catch{}(t=f(this,Ma))==null||t.reject(new Error("Scripting destroyed.")),_(this,Ma,null),(i=f(this,Qh))==null||i.abort(),_(this,Qh,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,gi,null),_(this,Pv,!1),(r=f(this,Nh))==null||r.resolve()};class Fge extends Ige{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new Tge(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>_ge(t)),super(e)}}const Uge=3e4;class Mge{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Uge)))}getHighestPriority(e,t,i,r=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,b=u-l;v<b;v++){const C=i?l+v:u-v;if(g.has(C))continue;const E=t[C-1];if(!this.isViewFinished(E))return E}}let d=i?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||r&&(d+=i?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===Ft.FINISHED}renderView(e){switch(e.renderingState){case Ft.FINISHED:return!1;case Ft.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Ft.RUNNING:this.highestPriorityPage=e.renderingId;break;case Ft.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof XD||console.error("renderView:",t)});break}return!0}}const gK=10,Ix={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function mK(n){return Object.values(Yr).includes(n)&&n!==Yr.DISABLE}var kl,Oh,AB,IL;class Pge{constructor(e){F(this,AB);F(this,kl,new Set);F(this,Oh,0);_(this,Oh,e)}push(e){const t=f(this,kl);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,Oh)&&U(this,AB,IL).call(this)}resize(e,t=null){_(this,Oh,e);const i=f(this,kl);if(t){const r=i.size;let s=1;for(const a of i)if(t.has(a.id)&&(i.delete(a),i.add(a)),++s>r)break}for(;i.size>f(this,Oh);)U(this,AB,IL).call(this)}has(e){return f(this,kl).has(e)}[Symbol.iterator](){return f(this,kl).keys()}}kl=new WeakMap,Oh=new WeakMap,AB=new WeakSet,IL=function(){const e=f(this,kl).keys().next().value;e==null||e.destroy(),f(this,kl).delete(e)};var Ol,lB,uB,Pa,Hs,Hh,Vh,cB,dB,fB,hB,pB,gB,mB,vB,pd,yB,Rv,Hl,ho,Gh,Kh,Dv,gd,Lv,wB,Nv,zh,Vl,Qv,bB,kv,CB,ke,PY,RY,DY,rw,p_,LY,FL,NY,Ju,UL,QY,kY,OY,ML,HY,PL,g_,RL;class UQ{constructor(e){F(this,ke);F(this,Ol,null);F(this,lB,null);F(this,uB,null);F(this,Pa,Yr.NONE);F(this,Hs,null);F(this,Hh,dA.ENABLE_FORMS);F(this,Vh,null);F(this,cB,null);F(this,dB,null);F(this,fB,!1);F(this,hB,!1);F(this,pB,!1);F(this,gB,!1);F(this,mB,!1);F(this,vB,!0);F(this,pd,null);F(this,yB,0);F(this,Rv,null);F(this,Hl,!0);F(this,ho,null);F(this,Gh,null);F(this,Kh,null);F(this,Dv,!1);F(this,gd,null);F(this,Lv,!1);F(this,wB,0);F(this,Nv,new ResizeObserver(U(this,ke,HY).bind(this)));F(this,zh,null);F(this,Vl,null);F(this,Qv,null);F(this,bB,!0);F(this,kv,uA.ENABLE);F(this,CB,null);var r,s;const t="5.4.449";if(kG!==t)throw new Error(`The API version "${kG}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,CB,e.viewerAlert||null),((r=this.container)==null?void 0:r.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,Nv).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new IQ,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,lB,e.altTextManager||null),_(this,Vh,e.commentManager||null),_(this,Qv,e.signatureManager||null),_(this,dB,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,kv,e.textLayerMode??uA.ENABLE),_(this,Hh,e.annotationMode??dA.ENABLE_FORMS),_(this,Pa,e.annotationEditorMode??Yr.NONE),_(this,uB,e.annotationEditorHighlightColors||null),_(this,hB,e.enableHighlightFloatingButton===!0),_(this,gB,e.enableUpdatedAddImage===!0),_(this,mB,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new Vv),_(this,pB,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,Rv,e.mlManager||null),_(this,fB,e.enableHWA||!1),_(this,bB,e.supportsPinchToZoom!==!1),_(this,vB,e.enableAutoLinking!==!1),_(this,yB,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Mge,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i==null||i.addEventListener("abort",()=>{f(this,Nv).disconnect(),_(this,Nv,null)},{once:!0}),this.scroll=Ohe(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=kg.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),U(this,ke,ML).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,Ol).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,Hl)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,Ol))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,Hh)===dA.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var r;if(this._currentPageNumber===e)return t&&U(this,ke,UL).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((r=this._pageLabels)==null?void 0:r[e-1])??null,previous:i}),t&&U(this,ke,UL).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==JU?this._currentScale:zW}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&U(this,ke,Ju).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&U(this,ke,Ju).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!$W(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&U(this,ke,Ju).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return Iw(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,Hs)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,Vh)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let i=1,r=this.pdfDocument.numPages;i<=r;++i){if(f(this,Lv))return null;t.length=0;const s=await this.pdfDocument.getPage(i),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(pw(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,b;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(b=f(this,Hs))==null||b.destroy(),_(this,Hs,null),_(this,Pa,Yr.NONE),_(this,Hl,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),r=e.getOptionalContentConfig({intent:"display"}),s=f(this,pB)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,pd,new AbortController);const{signal:u}=f(this,pd);if(t>Ix.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const C=this._scrollMode=xt.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:C})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=C=>{const E=this._pages[C.pageNumber-1];E&&f(this,Ol).push(E)};a._on("pagerender",d,{signal:u});const h=C=>{C.cssTransform||C.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:C.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([i,s]).then(([C,E])=>{var N;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(C),this._optionalContentConfigPromise=r;const{annotationEditorMode:S,annotationMode:I,textLayerMode:T}=U(this,ke,PY).call(this,E);if(T!==uA.DISABLE){const H=_(this,gd,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(S!==Yr.DISABLE){const H=S;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):mK(H)?(_(this,Hs,new _he(this.container,l,f(this,CB),f(this,lB),f(this,Vh),f(this,Qv),a,e,o,f(this,uB),f(this,hB),f(this,gB),f(this,mB),f(this,Rv),f(this,dB),f(this,bB))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,Hs)}),H!==Yr.NONE&&(U(this,ke,RL).call(this,H),f(this,Hs).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const R=this._scrollMode===xt.PAGE?null:l,M=this.currentScale,D=C.getViewport({scale:M*YA.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",D.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const k=new _Y({container:R,eventBus:a,id:H,scale:M,defaultViewport:D.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,fB),enableAutoLinking:f(this,vB),minDurationToUpdateCanvas:f(this,yB),commentManager:f(this,Vh)});this._pages.push(k)}(N=this._pages[0])==null||N.setPdfPage(C),this._scrollMode===xt.PAGE?U(this,ke,rw).call(this):this._spreadMode!==wr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,Hs)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,Pa)})},{once:!0,signal:u}),U(this,ke,RY).call(this,u).then(async()=>{var k,K;if(e!==this.pdfDocument)return;if((k=this.findController)==null||k.setDocument(e),(K=this._scriptingManager)==null||K.setDocument(e),f(this,gd)&&document.addEventListener("copy",U(this,ke,DY).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>Ix.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let G=2;G<=t;++G){const z=e.getPage(G).then(J=>{const ne=this._pages[G-1];ne.pdfPage||ne.setPdfPage(J),--H===0&&this._pagesCapability.resolve()},J=>{console.error(`Unable to get page ${G} to initialize viewer`,J),--H===0&&this._pagesCapability.resolve()});G%Ix.PAUSE_EAGER_PAGE_INIT===0&&await z}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(C=>{console.error("Unable to initialize viewer",C),this._pagesCapability.reject(C)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let i=0,r=this._pages.length;i<r;i++)this._pages[i].setPageLabel(((t=this._pageLabels)==null?void 0:t[i])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=JU,this._currentScaleValue=null,this._pageLabels=null,_(this,Ol,new Pge(gK)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=xt.VERTICAL,this._previousScrollMode=xt.UNKNOWN,this._spreadMode=wr.NONE,_(this,zh,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,pd))==null||e.abort(),_(this,pd,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,gd))==null||t.remove(),_(this,gd,null),U(this,ke,PL).call(this),U(this,ke,g_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,ho)&&clearTimeout(f(this,ho)),_(this,ho,setTimeout(()=>{_(this,ho,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,b=(v?a.height:a.width)/a.scale/YA.PDF_TO_CSS_UNITS,C=(v?a.width:a.height)/a.scale/YA.PDF_TO_CSS_UNITS;let E=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],E=t[4],o=o!==null?o:0,l=l!==null?l:C;break;case"Fit":case"FitB":E="page-fit";break;case"FitH":case"FitBH":l=t[2],E="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=C);break;case"FitV":case"FitBV":o=t[2],u=b,d=C,E="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let R=HG,M=VG;this.removePageBorders&&(R=M=0),h=(this.container.clientWidth-R)/u/YA.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-M)/d/YA.PDF_TO_CSS_UNITS,E=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(r||(E&&E!==this._currentScale?this.currentScaleValue=E:this._currentScale===JU&&(this.currentScaleValue=Lhe)),E==="page-fit"&&!t[4]){U(this,ke,p_).call(this,a);return}const S=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(S[0][0],S[1][0]),T=Math.min(S[0][1],S[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(S[1][1]-S[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(S[1][0]-S[0][0]))/2)):i||(I=Math.max(I,0),T=Math.max(T,0)),U(this,ke,p_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${r},${u},${d}`),this._location={pageNumber:s,scale:r,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;const r=Math.max(gK,2*i+1);f(this,Ol).resize(r,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,Ol))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===wr.NONE&&(this._scrollMode===xt.PAGE||this._scrollMode===xt.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===kg.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===kg.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===xt.PAGE?f(this,zh).pages:this._pages,t=this._scrollMode===xt.HORIZONTAL,i=t&&this._isContainerRtl;return Vhe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==Ft.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=U(this,ke,OY).call(this,t),r=this._spreadMode!==wr.NONE&&this._scrollMode!==xt.HORIZONTAL,s=f(this,Vl)!==null||f(this,ho)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,i,r,s);return a?(U(this,ke,kY).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),r=zG(i);if(e===void 0)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!Ghe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>Ix.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===xt.HORIZONTAL),i.classList.toggle("scrollWrapped",t===xt.WRAPPED),!(!this.pdfDocument||!e)&&(t===xt.PAGE?U(this,ke,rw).call(this):this._previousScrollMode===xt.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,ke,Ju).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!Khe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===xt.PAGE)U(this,ke,rw).call(this);else if(t.textContent="",this._spreadMode===wr.NONE)for(const r of this._pages)t.append(r.div);else{const r=this._spreadMode-1;let s=null;for(let a=0,o=i.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,ke,Ju).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case xt.WRAPPED:{const{views:i}=this._getVisiblePages(),r=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of i){if(o===0||l<100)continue;let u=r.get(a);u||r.set(a,u||(u=[])),u.push(s)}for(const s of r.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case xt.HORIZONTAL:break;case xt.PAGE:case xt.VERTICAL:{if(this._spreadMode===wr.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of r)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){const a=i>0?OG:1/OG,o=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=o((s*a).toFixed(2)*10)/10;while(--i>0)}s=SQ(s,Nhe,Qhe),U(this,ke,Ju).call(this,s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,cB)||_(this,cB,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,Hs)?f(this,Pa):Yr.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1,mustEnterInEditMode:r=!1,editComment:s=!1}){if(!f(this,Hs))throw new Error("The AnnotationEditor is not enabled.");if(f(this,Pa)===e)return;if(!mK(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;U(this,ke,RL).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{U(this,ke,g_).call(this),_(this,Pa,e),await f(this,Hs).updateMode(e,t,i,r,s),!(e!==f(this,Pa)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===Yr.NONE||f(this,Pa)===Yr.NONE){const u=e!==Yr.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=U(this,ke,QY).call(this);if(u&&d){U(this,ke,g_).call(this),_(this,Gh,new AbortController);const h=AbortSignal.any([f(this,pd).signal,f(this,Gh).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,Kh,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);U(this,ke,PL).call(this),e||this.update()}}}Ol=new WeakMap,lB=new WeakMap,uB=new WeakMap,Pa=new WeakMap,Hs=new WeakMap,Hh=new WeakMap,Vh=new WeakMap,cB=new WeakMap,dB=new WeakMap,fB=new WeakMap,hB=new WeakMap,pB=new WeakMap,gB=new WeakMap,mB=new WeakMap,vB=new WeakMap,pd=new WeakMap,yB=new WeakMap,Rv=new WeakMap,Hl=new WeakMap,ho=new WeakMap,Gh=new WeakMap,Kh=new WeakMap,Dv=new WeakMap,gd=new WeakMap,Lv=new WeakMap,wB=new WeakMap,Nv=new WeakMap,zh=new WeakMap,Vl=new WeakMap,Qv=new WeakMap,bB=new WeakMap,kv=new WeakMap,CB=new WeakMap,ke=new WeakSet,PY=function(e){const t={annotationEditorMode:f(this,Pa),annotationMode:f(this,Hh),textLayerMode:f(this,kv)};return e?(_(this,Hl,e.includes(tg.PRINT_HIGH_QUALITY)||e.includes(tg.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,Hl)}),!e.includes(tg.COPY)&&f(this,kv)===uA.ENABLE&&(t.textLayerMode=uA.ENABLE_PERMISSIONS),e.includes(tg.MODIFY_CONTENTS)||(t.annotationEditorMode=Yr.DISABLE),!e.includes(tg.MODIFY_ANNOTATIONS)&&!e.includes(tg.FILL_INTERACTIVE_FORMS)&&f(this,Hh)===dA.ENABLE_FORMS&&(t.annotationMode=dA.ENABLE),t):(_(this,Hl,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,Hl)}),t)},RY=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,i.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()},DY=function(e,t){const i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(f(this,gd))){if(f(this,Dv)||e===uA.ENABLE_PERMISSIONS){JD(t);return}_(this,Dv,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,Lv,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,Dv,!1),_(this,Lv,!1),o.abort(),a.remove("copyAll")}),JD(t)}},rw=function(){if(this._scrollMode!==xt.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,zh),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===wr.NONE&&!this.isInPresentationMode){const r=this._pages[e-1];i.append(r.div),t.pages.push(r)}else{const r=new Set,s=this._spreadMode-1;s===-1?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of r){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}i.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},p_=function(e,t=null){const{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===xt.PAGE&&(U(this,ke,rw).call(this),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,a=s+i.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===xt.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}qW(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},LY=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},FL=function(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),U(this,ke,LY).call(this,e)){r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*YA.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,Vl,setTimeout(()=>{_(this,Vl,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!i){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()},NY=function(){return this._spreadMode!==wr.NONE&&this._scrollMode!==xt.HORIZONTAL?2:1},Ju=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,U(this,ke,FL).call(this,i,e,t);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;let s=HG,a=VG;this.isInPresentationMode?(s=a=4,this._spreadMode!==wr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===xt.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/r.width*r.scale/f(this,ke,NY),l=(this.container.clientHeight-a)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=l;break;case"page-fit":i=Math.min(o,l);break;case"auto":const u=zG(r)?o:Math.min(l,o);i=Math.min(khe,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,U(this,ke,FL).call(this,i,e,t)}},UL=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&U(this,ke,Ju).call(this,this._currentScaleValue,{noScroll:!0}),U(this,ke,p_).call(this,e)},QY=function(){const e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(const s of r){const{view:a}=s;if(!a.hasEditableAnnotations()){i.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)},kY=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},OY=function(e){var t,i;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((i=e.last)==null?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case xt.PAGE:return f(this,zh).scrollDown;case xt.HORIZONTAL:return this.scroll.right}return this.scroll.down},ML=function(e=this.container.clientHeight){e!==f(this,wB)&&(_(this,wB,e),zhe.setProperty("--viewer-container-height",`${e}px`))},HY=function(e){for(const t of e)if(t.target===this.container){U(this,ke,ML).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,cB,null);break}},PL=function(){f(this,Vl)!==null&&(clearTimeout(f(this,Vl)),_(this,Vl,null)),f(this,ho)!==null&&(clearTimeout(f(this,ho)),_(this,ho,null))},g_=function(){var e;(e=f(this,Gh))==null||e.abort(),_(this,Gh,null),f(this,Kh)!==null&&(clearTimeout(f(this,Kh)),_(this,Kh,null))},RL=function(e){var t,i;switch(e){case Yr.STAMP:(t=f(this,Rv))==null||t.loadModel("altText");break;case Yr.SIGNATURE:(i=f(this,Qv))==null||i.loadSignatures();break}};class Rge extends UQ{_resetView(){super._resetView(),this._scrollMode=xt.PAGE,this._spreadMode=wr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:nY,DownloadManager:gpe,EventBus:FQ,FindState:Xu,GenericL10n:Vv,LinkTarget:af,parseQueryString:E1,PDFFindController:hpe,PDFHistory:pge,PDFLinkService:TQ,PDFPageView:_Y,PDFScriptingManager:Fge,PDFSinglePageViewer:Rge,PDFViewer:UQ,ProgressBar:qhe,RenderingStates:Ft,ScrollMode:xt,SimpleLinkService:IQ,SpreadMode:wr,StructTreeLayerBuilder:bY,TextLayerBuilder:G_,XfaLayerBuilder:SY};Gl.workerSrc=`https://unpkg.com/pdfjs-dist@${Rj}/build/pdf.worker.mjs`;const Dge=({file:n})=>{const e=P.useRef(null),t=P.useRef(null),[i,r]=P.useState(!0),[s,a]=P.useState(null),[o,l]=P.useState("");P.useEffect(()=>{if(!e.current||!t.current)return;const h=new FQ,g=new TQ({eventBus:h}),v=new UQ({container:e.current,viewer:t.current,eventBus:h,linkService:g,textLayerMode:2,annotationMode:2,removePageBorders:!0}),b=2.1;h.on("pagesinit",()=>{v.currentScale=b}),g.setViewer(v);let C=bQ(n);return C.promise.then(E=>{r(!1),a(null),v.setDocument(E),g.setDocument(E,null)}).catch(E=>{if((E==null?void 0:E.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",E),a((E==null?void 0:E.message)||"PDF  "),r(!1)}),()=>{C.destroy()}},[n]);const u=async()=>{var g;const h=((g=window.getSelection())==null?void 0:g.toString())??"";if(!h.trim()){l("fail"),setTimeout(()=>l(""),1e3);return}try{navigator.clipboard&&navigator.clipboard.writeText?await navigator.clipboard.writeText(h):document.execCommand("copy"),l("ok")}catch(v){console.error("copy failed",v),l("fail")}finally{setTimeout(()=>l(""),1e3)}},d=.5;return Q.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 160px)",overflow:"hidden",background:"#ddd"},children:[Q.jsxs("div",{style:{position:"absolute",top:8,right:8,zIndex:30,display:"flex",gap:8},children:[Q.jsx("button",{onClick:u,style:{padding:"4px 8px",fontSize:12,borderRadius:4,border:"1px solid #ccc",background:"#fff",cursor:"pointer"},children:"  "}),o==="ok"&&Q.jsx("span",{style:{fontSize:11,color:"#16a34a"},children:""}),o==="fail"&&Q.jsx("span",{style:{fontSize:11,color:"#dc2626"},children:" "})]}),i&&Q.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,pointerEvents:"none"},children:Q.jsx("span",{style:{background:"#0008",color:"#fff",padding:"8px 12px",borderRadius:4},children:"PDF  ..."})}),s&&Q.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:20},children:Q.jsxs("div",{style:{background:"#ffeded",color:"#b00",padding:"12px 16px",borderRadius:4,maxWidth:"80%",fontSize:12},children:[Q.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:"PDF  "}),Q.jsx("div",{children:s})]})}),Q.jsx("div",{style:{position:"absolute",inset:0,overflow:"auto",background:"#eee",transform:`scale(${d})`,transformOrigin:"top left",width:`${100/d}%`,height:`${100/d}%`},children:Q.jsx("div",{ref:e,style:{position:"absolute",inset:0,overflow:"auto",background:"transparent"},children:Q.jsx("div",{ref:t,className:"pdfViewer",style:{padding:"20px"}})})})]})},Lge=()=>{const{chapters:n,currentChapterIndex:e,goToNextChapter:t,goToPrevChapter:i,goToChapter:r}=up(),[s,a]=P.useState((e+1).toString());P.useEffect(()=>{a((e+1).toString())},[e]);const o=u=>{u.preventDefault();const d=parseInt(s);!isNaN(d)&&d>=1&&d<=n.length?r(d-1):a((e+1).toString())},l=u=>{const d=parseInt(u.target.value);r(d)};return Q.jsxs("div",{className:"bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors duration-200",children:[Q.jsxs("div",{className:"relative w-full h-4 bg-slate-100 dark:bg-slate-800 group cursor-pointer",children:[Q.jsx("input",{type:"range",min:"0",max:n.length-1,value:e,onChange:l,className:"absolute inset-0 w-full h-full opacity-0 z-20 cursor-pointer"}),Q.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300 ease-out relative z-10",style:{width:`${(e+1)/n.length*100}%`},children:Q.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 w-4 h-4 bg-white border-2 border-blue-600 rounded-full shadow opacity-0 group-hover:opacity-100 transition-opacity"})})]}),Q.jsxs("div",{className:"px-4 py-3 flex items-center justify-between max-w-3xl mx-auto",children:[Q.jsxs("button",{onClick:i,disabled:e===0,className:`
            flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-colors text-sm
            ${e===0?"text-slate-300 dark:text-slate-700 cursor-not-allowed":"text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}
          `,children:[Q.jsx(Sfe,{size:18}),Q.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),Q.jsxs("div",{className:"flex flex-col items-center gap-1",children:[Q.jsxs("form",{onSubmit:o,className:"flex items-center gap-2",children:[Q.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Page"}),Q.jsx("input",{type:"text",value:s,onChange:u=>a(u.target.value),className:"w-10 text-center text-sm font-semibold bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded focus:ring-2 focus:ring-blue-500 outline-none text-slate-900 dark:text-white"}),Q.jsxs("span",{className:"text-sm text-slate-400",children:["/ ",n.length]})]}),Q.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 truncate max-w-[120px] sm:max-w-xs text-center",children:n[e].title.split(":")[1]||n[e].title})]}),Q.jsxs("button",{onClick:t,disabled:e===n.length-1,className:`
            flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-colors text-sm
            ${e===n.length-1?"text-slate-300 dark:text-slate-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}
          `,children:[Q.jsx("span",{className:"hidden sm:inline",children:"Next"}),Q.jsx(Tfe,{size:18})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DL=function(n,e){return DL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},DL(n,e)};function xo(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");DL(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var LL=function(){return LL=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},LL.apply(this,arguments)};function Pr(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(i.next(d))}catch(h){a(h)}}function l(d){try{u(i.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):r(d.value).then(o,l)}u((i=i.apply(n,[])).next())})}function vr(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Fx(n,e,t){if(arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||e)}var su=(function(){function n(e,t,i,r){this.left=e,this.top=t,this.width=i,this.height=r}return n.prototype.add=function(e,t,i,r){return new n(this.left+e,this.top+t,this.width+i,this.height+r)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(r){return r.width!==0});return i?new n(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),x1=function(n,e){return su.fromClientRect(n,e.getBoundingClientRect())},Nge=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),r=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new su(0,0,i,r)},S1=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},Xn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},vK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qge=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ux=0;Ux<vK.length;Ux++)Qge[vK.charCodeAt(Ux)]=Ux;var yK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mx=0;Mx<yK.length;Mx++)sw[yK.charCodeAt(Mx)]=Mx;var kge=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=sw[n.charCodeAt(i)],a=sw[n.charCodeAt(i+1)],o=sw[n.charCodeAt(i+2)],l=sw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},Oge=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},Hge=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},qh=5,MQ=11,rM=2,Vge=MQ-qh,VY=65536>>qh,Gge=1<<qh,sM=Gge-1,Kge=1024>>qh,zge=VY+Kge,qge=zge,$ge=32,jge=qge+$ge,Wge=65536>>MQ,Yge=1<<Vge,Xge=Yge-1,wK=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Jge=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Zge=function(n,e){var t=kge(n),i=Array.isArray(t)?Hge(t):new Uint32Array(t),r=Array.isArray(t)?Oge(t):new Uint16Array(t),s=24,a=wK(r,s/2,i[4]/2),o=i[5]===2?wK(r,(s+i[4])/2):Jge(i,Math.ceil((s+i[4])/4));return new eme(i[0],i[1],i[2],i[3],a,o)},eme=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>qh],t=(t<<rM)+(e&sM),this.data[t];if(e<=65535)return t=this.index[VY+(e-55296>>qh)],t=(t<<rM)+(e&sM),this.data[t];if(e<this.highStart)return t=jge-Wge+(e>>MQ),t=this.index[t],t+=e>>qh&Xge,t=this.index[t],t=(t<<rM)+(e&sM),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),bK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Px=0;Px<bK.length;Px++)tme[bK.charCodeAt(Px)]=Px;var nme="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",CK=50,ime=1,GY=2,KY=3,rme=4,sme=5,BK=7,zY=8,EK=9,vd=10,NL=11,xK=12,QL=13,ame=14,aw=15,kL=16,Rx=17,v0=18,ome=19,SK=20,OL=21,y0=22,aM=23,ng=24,bs=25,ow=26,Aw=27,ig=28,Ame=29,cf=30,lme=31,Dx=32,Lx=33,HL=34,VL=35,GL=36,Mw=37,KL=38,m_=39,v_=40,oM=41,qY=42,ume=43,cme=[9001,65288],$Y="!",yt="",Nx="",zL=Zge(nme),VA=[cf,GL],qL=[ime,GY,KY,sme],jY=[vd,zY],_K=[Aw,ow],dme=qL.concat(jY),TK=[KL,m_,v_,HL,VL],fme=[aw,QL],hme=function(n,e){e===void 0&&(e="strict");var t=[],i=[],r=[];return n.forEach(function(s,a){var o=zL.get(s);if(o>CK?(r.push(!0),o-=CK):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return i.push(a),t.push(kL);if(o===rme||o===NL){if(a===0)return i.push(a),t.push(cf);var l=t[a-1];return dme.indexOf(l)===-1?(i.push(i[a-1]),t.push(l)):(i.push(a),t.push(cf))}if(i.push(a),o===lme)return t.push(e==="strict"?OL:Mw);if(o===qY||o===Ame)return t.push(cf);if(o===ume)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Mw):t.push(cf);t.push(o)}),[i,t,r]},AM=function(n,e,t,i){var r=i[t];if(Array.isArray(n)?n.indexOf(r)!==-1:n===r)for(var s=t;s<=i.length;){s++;var a=i[s];if(a===e)return!0;if(a!==vd)break}if(r===vd)for(var s=t;s>0;){s--;var o=i[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=i.length;){l++;var a=i[l];if(a===e)return!0;if(a!==vd)break}if(o!==vd)break}return!1},IK=function(n,e){for(var t=n;t>=0;){var i=e[t];if(i===vd)t--;else return i}return 0},pme=function(n,e,t,i,r){if(t[i]===0)return yt;var s=i-1;if(Array.isArray(r)&&r[s]===!0)return yt;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===GY&&d===KY)return yt;if(qL.indexOf(l)!==-1)return $Y;if(qL.indexOf(d)!==-1||jY.indexOf(d)!==-1)return yt;if(IK(s,e)===zY)return Nx;if(zL.get(n[s])===NL||(l===Dx||l===Lx)&&zL.get(n[o])===NL||l===BK||d===BK||l===EK||[vd,QL,aw].indexOf(l)===-1&&d===EK||[Rx,v0,ome,ng,ig].indexOf(d)!==-1||IK(s,e)===y0||AM(aM,y0,s,e)||AM([Rx,v0],OL,s,e)||AM(xK,xK,s,e))return yt;if(l===vd)return Nx;if(l===aM||d===aM)return yt;if(d===kL||l===kL)return Nx;if([QL,aw,OL].indexOf(d)!==-1||l===ame||u===GL&&fme.indexOf(l)!==-1||l===ig&&d===GL||d===SK||VA.indexOf(d)!==-1&&l===bs||VA.indexOf(l)!==-1&&d===bs||l===Aw&&[Mw,Dx,Lx].indexOf(d)!==-1||[Mw,Dx,Lx].indexOf(l)!==-1&&d===ow||VA.indexOf(l)!==-1&&_K.indexOf(d)!==-1||_K.indexOf(l)!==-1&&VA.indexOf(d)!==-1||[Aw,ow].indexOf(l)!==-1&&(d===bs||[y0,aw].indexOf(d)!==-1&&e[o+1]===bs)||[y0,aw].indexOf(l)!==-1&&d===bs||l===bs&&[bs,ig,ng].indexOf(d)!==-1)return yt;if([bs,ig,ng,Rx,v0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===bs)return yt;if([ig,ng].indexOf(g)!==-1)h--;else break}if([Aw,ow].indexOf(d)!==-1)for(var h=[Rx,v0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===bs)return yt;if([ig,ng].indexOf(g)!==-1)h--;else break}if(KL===l&&[KL,m_,HL,VL].indexOf(d)!==-1||[m_,HL].indexOf(l)!==-1&&[m_,v_].indexOf(d)!==-1||[v_,VL].indexOf(l)!==-1&&d===v_||TK.indexOf(l)!==-1&&[SK,ow].indexOf(d)!==-1||TK.indexOf(d)!==-1&&l===Aw||VA.indexOf(l)!==-1&&VA.indexOf(d)!==-1||l===ng&&VA.indexOf(d)!==-1||VA.concat(bs).indexOf(l)!==-1&&d===y0&&cme.indexOf(n[o])===-1||VA.concat(bs).indexOf(d)!==-1&&l===v0)return yt;if(l===oM&&d===oM){for(var v=t[s],b=1;v>0&&(v--,e[v]===oM);)b++;if(b%2!==0)return yt}return l===Dx&&d===Lx?yt:Nx},gme=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=hme(n,e.lineBreak),i=t[0],r=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[bs,cf,qY].indexOf(o)!==-1?Mw:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[i,r,a]},mme=(function(){function n(e,t,i,r){this.codePoints=e,this.required=t===$Y,this.start=i,this.end=r}return n.prototype.slice=function(){return Xn.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),vme=function(n,e){var t=S1(n),i=gme(t,e),r=i[0],s=i[1],a=i[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=yt;u<o&&(d=pme(t,s,r,++u,a))===yt;);if(d!==yt||u===o){var h=new mme(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},yme=1,wme=2,PB=4,FK=8,K_=10,UK=47,mw=92,bme=9,Cme=32,Qx=34,w0=61,Bme=35,Eme=36,xme=37,kx=39,Ox=40,b0=41,Sme=95,As=45,_me=33,Tme=60,Ime=62,Fme=64,Ume=91,Mme=93,Pme=61,Rme=123,Hx=63,Dme=125,MK=124,Lme=126,Nme=128,PK=65533,lM=42,pf=43,Qme=44,kme=58,Ome=59,Pw=46,Hme=0,Vme=8,Gme=11,Kme=14,zme=31,qme=127,Lo=-1,WY=48,YY=97,XY=101,$me=102,jme=117,Wme=122,JY=65,ZY=69,eX=70,Yme=85,Xme=90,br=function(n){return n>=WY&&n<=57},Jme=function(n){return n>=55296&&n<=57343},rg=function(n){return br(n)||n>=JY&&n<=eX||n>=YY&&n<=$me},Zme=function(n){return n>=YY&&n<=Wme},eve=function(n){return n>=JY&&n<=Xme},tve=function(n){return Zme(n)||eve(n)},nve=function(n){return n>=Nme},Vx=function(n){return n===K_||n===bme||n===Cme},z_=function(n){return tve(n)||nve(n)||n===Sme},RK=function(n){return z_(n)||br(n)||n===As},ive=function(n){return n>=Hme&&n<=Vme||n===Gme||n>=Kme&&n<=zme||n===qme},tc=function(n,e){return n!==mw?!1:e!==K_},Gx=function(n,e,t){return n===As?z_(e)||tc(e,t):z_(n)?!0:!!(n===mw&&tc(n,e))},uM=function(n,e,t){return n===pf||n===As?br(e)?!0:e===Pw&&br(t):br(n===Pw?e:n)},rve=function(n){var e=0,t=1;(n[e]===pf||n[e]===As)&&(n[e]===As&&(t=-1),e++);for(var i=[];br(n[e]);)i.push(n[e++]);var r=i.length?parseInt(Xn.apply(void 0,i),10):0;n[e]===Pw&&e++;for(var s=[];br(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(Xn.apply(void 0,s),10):0;(n[e]===ZY||n[e]===XY)&&e++;var l=1;(n[e]===pf||n[e]===As)&&(n[e]===As&&(l=-1),e++);for(var u=[];br(n[e]);)u.push(n[e++]);var d=u.length?parseInt(Xn.apply(void 0,u),10):0;return t*(r+o*Math.pow(10,-a))*Math.pow(10,l*d)},sve={type:2},ave={type:3},ove={type:4},Ave={type:13},lve={type:8},uve={type:21},cve={type:9},dve={type:10},fve={type:11},hve={type:12},pve={type:14},Kx={type:23},gve={type:1},mve={type:25},vve={type:24},yve={type:26},wve={type:27},bve={type:28},Cve={type:29},Bve={type:31},$L={type:32},tX=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(S1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==$L;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Qx:return this.consumeStringToken(Qx);case Bme:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(RK(t)||tc(i,r)){var s=Gx(t,i,r)?wme:yme,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Eme:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),Ave;break;case kx:return this.consumeStringToken(kx);case Ox:return sve;case b0:return ave;case lM:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),pve;break;case pf:if(uM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Qme:return ove;case As:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(uM(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Gx(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===As&&u===Ime)return this.consumeCodePoint(),this.consumeCodePoint(),vve;break;case Pw:if(uM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case UK:if(this.peekCodePoint(0)===lM)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===lM&&(d=this.consumeCodePoint(),d===UK))return this.consumeToken();if(d===Lo)return this.consumeToken()}break;case kme:return yve;case Ome:return wve;case Tme:if(this.peekCodePoint(0)===_me&&this.peekCodePoint(1)===As&&this.peekCodePoint(2)===As)return this.consumeCodePoint(),this.consumeCodePoint(),mve;break;case Fme:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(Gx(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case Ume:return bve;case mw:if(tc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Mme:return Cve;case Pme:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),lve;break;case Rme:return fve;case Dme:return hve;case jme:case Yme:var b=this.peekCodePoint(0),C=this.peekCodePoint(1);return b===pf&&(rg(C)||C===Hx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case MK:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),cve;if(this.peekCodePoint(0)===MK)return this.consumeCodePoint(),uve;break;case Lme:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),dve;break;case Lo:return $L}return Vx(e)?(this.consumeWhiteSpace(),Bve):br(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):z_(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Xn(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();rg(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===Hx&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(Xn.apply(void 0,e.map(function(l){return l===Hx?WY:l})),16),s=parseInt(Xn.apply(void 0,e.map(function(l){return l===Hx?eX:l})),16);return{type:30,start:r,end:s}}var a=parseInt(Xn.apply(void 0,e),16);if(this.peekCodePoint(0)===As&&rg(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];rg(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(Xn.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Ox?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ox?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lo)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===kx||t===Qx){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lo||this.peekCodePoint(0)===b0)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),Kx)}for(;;){var r=this.consumeCodePoint();if(r===Lo||r===b0)return{type:22,value:Xn.apply(void 0,e)};if(Vx(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lo||this.peekCodePoint(0)===b0?(this.consumeCodePoint(),{type:22,value:Xn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Kx);if(r===Qx||r===kx||r===Ox||ive(r))return this.consumeBadUrlRemnants(),Kx;if(r===mw)if(tc(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Kx;else e.push(r)}},n.prototype.consumeWhiteSpace=function(){for(;Vx(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===b0||e===Lo)return;tc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var r=Math.min(t,e);i+=Xn.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),i},n.prototype.consumeStringToken=function(e){var t="",i=0;do{var r=this._value[i];if(r===Lo||r===void 0||r===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(r===K_)return this._value.splice(0,i),gve;if(r===mw){var s=this._value[i+1];s!==Lo&&s!==void 0&&(s===K_?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):tc(r,s)&&(t+=this.consumeStringSlice(i),t+=Xn(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=PB,i=this.peekCodePoint(0);for((i===pf||i===As)&&e.push(this.consumeCodePoint());br(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===Pw&&br(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=FK;br(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((i===ZY||i===XY)&&((r===pf||r===As)&&br(s)||br(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=FK;br(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[rve(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Gx(r,s,a)){var o=this.consumeName();return{type:15,number:t,flags:i,unit:o}}return r===xme?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(rg(e)){for(var t=Xn(e);rg(this.peekCodePoint(0))&&t.length<6;)t+=Xn(this.consumeCodePoint());Vx(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||Jme(i)||i>1114111?PK:i}return e===Lo?PK:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(RK(t))e+=Xn(t);else if(tc(t,this.peekCodePoint(0)))e+=Xn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),nX=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new tX;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||xve(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?$L:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),RB=function(n){return n.type===15},Ay=function(n){return n.type===17},Zt=function(n){return n.type===20},Eve=function(n){return n.type===0},jL=function(n,e){return Zt(n)&&n.value===e},iX=function(n){return n.type!==31},Gv=function(n){return n.type!==31&&n.type!==4},bA=function(n){var e=[],t=[];return n.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},xve=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Sd=function(n){return n.type===17||n.type===15},Ai=function(n){return n.type===16||Sd(n)},rX=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},sr={type:17,number:0,flags:PB},PQ={type:16,number:50,flags:PB},yd={type:16,number:100,flags:PB},lw=function(n,e,t){var i=n[0],r=n[1];return[hn(i,e),hn(typeof r<"u"?r:i,t)]},hn=function(n,e){if(n.type===16)return n.number/100*e;if(RB(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},sX="deg",aX="grad",oX="rad",AX="turn",_1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case sX:return Math.PI*e.number/180;case aX:return Math.PI/200*e.number;case oX:return e.number;case AX:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},lX=function(n){return n.type===15&&(n.unit===sX||n.unit===aX||n.unit===oX||n.unit===AX)},uX=function(n){var e=n.filter(Zt).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[sr,sr];case"to top":case"bottom":return La(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[sr,yd];case"to right":case"left":return La(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[yd,yd];case"to bottom":case"top":return La(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[yd,sr];case"to left":case"right":return La(270)}return 0},La=function(n){return Math.PI*n/180},bd={name:"color",parse:function(n,e){if(e.type===18){var t=Sve[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return wd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return wd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return wd(parseInt(i,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return wd(parseInt(i,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Jl[e.value.toUpperCase()];if(typeof o<"u")return o}return Jl.TRANSPARENT}},Cd=function(n){return(255&n)===0},Si=function(n){var e=255&n,t=255&n>>8,i=255&n>>16,r=255&n>>24;return e<255?"rgba("+r+","+i+","+t+","+e/255+")":"rgb("+r+","+i+","+t+")"},wd=function(n,e,t,i){return(n<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},DK=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},LK=function(n,e){var t=e.filter(Gv);if(t.length===3){var i=t.map(DK),r=i[0],s=i[1],a=i[2];return wd(r,s,a,1)}if(t.length===4){var o=t.map(DK),r=o[0],s=o[1],a=o[2],l=o[3];return wd(r,s,a,l)}return 0};function cM(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var NK=function(n,e){var t=e.filter(Gv),i=t[0],r=t[1],s=t[2],a=t[3],o=(i.type===17?La(i.number):_1.parse(n,i))/(Math.PI*2),l=Ai(r)?r.number/100:0,u=Ai(s)?s.number/100:0,d=typeof a<"u"&&Ai(a)?hn(a,1):1;if(l===0)return wd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=cM(g,h,o+1/3),b=cM(g,h,o),C=cM(g,h,o-1/3);return wd(v*255,b*255,C*255,d)},Sve={hsl:NK,hsla:NK,rgb:LK,rgba:LK},vw=function(n,e){return bd.parse(n,nX.create(e).parseComponentValue())},Jl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},_ve={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Zt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Tve={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},T1=function(n,e){var t=bd.parse(n,e[0]),i=e[1];return i&&Ai(i)?{color:t,stop:i}:{color:t,stop:null}},QK=function(n,e){var t=n[0],i=n[n.length-1];t.stop===null&&(t.stop=sr),i.stop===null&&(i.stop=yd);for(var r=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=hn(o,e);l>s?r.push(l):r.push(s),s=l}else r.push(null)}for(var u=null,a=0;a<r.length;a++){var d=r[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=r[u-1],v=(d-g)/(h+1),b=1;b<=h;b++)r[u+b-1]=v*b;u=null}}return n.map(function(C,E){var S=C.color;return{color:S,stop:Math.max(Math.min(1,r[E]/e),0)}})},Ive=function(n,e,t){var i=e/2,r=t/2,s=hn(n[0],e)-i,a=r-hn(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Fve=function(n,e,t){var i=typeof n=="number"?n:Ive(n,e,t),r=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),s=e/2,a=t/2,o=r/2,l=Math.sin(i-Math.PI/2)*o,u=Math.cos(i-Math.PI/2)*o;return[r,s-u,s+u,a-l,a+l]},Za=function(n,e){return Math.sqrt(n*n+e*e)},kK=function(n,e,t,i,r){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=Za(t-l,i-u);return(r?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Uve=function(n,e,t,i,r){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-i)),a=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(n.shape===0)s=a=Math.min(Za(e,t),Za(e,t-r),Za(e-i,t),Za(e-i,t-r));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(e),Math.abs(e-i)),l=kK(i,r,e,t,!0),u=l[0],d=l[1];s=Za(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-i)),a=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(n.shape===0)s=a=Math.max(Za(e,t),Za(e,t-r),Za(e-i,t),Za(e-i,t-r));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(e),Math.abs(e-i)),h=kK(i,r,e,t,!1),u=h[0],d=h[1];s=Za(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=hn(n.size[0],i),a=n.size.length===2?hn(n.size[1],r):s),[s,a]},Mve=function(n,e){var t=La(180),i=[];return bA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){t=uX(r);return}else if(lX(a)){t=_1.parse(n,a);return}}var o=T1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},zx=function(n,e){var t=La(180),i=[];return bA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=uX(r);return}else if(lX(a)){t=(_1.parse(n,a)+La(270))%La(360);return}}var o=T1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},Pve=function(n,e){var t=La(180),i=[],r=1,s=0,a=3,o=[];return bA(e).forEach(function(l,u){var d=l[0];if(u===0){if(Zt(d)&&d.value==="linear"){r=1;return}else if(Zt(d)&&d.value==="radial"){r=2;return}}if(d.type===18){if(d.name==="from"){var h=bd.parse(n,d.values[0]);i.push({stop:sr,color:h})}else if(d.name==="to"){var h=bd.parse(n,d.values[0]);i.push({stop:yd,color:h})}else if(d.name==="color-stop"){var g=d.values.filter(Gv);if(g.length===2){var h=bd.parse(n,g[1]),v=g[0];Ay(v)&&i.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),r===1?{angle:(t+La(180))%La(360),stops:i,type:r}:{size:a,shape:s,stops:i,position:o,type:r}},cX="closest-side",dX="farthest-side",fX="closest-corner",hX="farthest-corner",pX="circle",gX="ellipse",mX="cover",vX="contain",Rve=function(n,e){var t=0,i=3,r=[],s=[];return bA(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(Zt(g))switch(g.value){case"center":return s.push(PQ),h;case"top":case"left":return s.push(sr),h;case"right":case"bottom":return s.push(yd),h}else(Ai(g)||Sd(g))&&s.push(g);else if(Zt(g))switch(g.value){case pX:return t=0,!1;case gX:return t=1,!1;case"at":return u=!0,!1;case cX:return i=0,!1;case mX:case dX:return i=1,!1;case vX:case fX:return i=2,!1;case hX:return i=3,!1}else if(Sd(g)||Ai(g))return Array.isArray(i)||(i=[]),i.push(g),!1;return h},l)}if(l){var d=T1(n,a);r.push(d)}}),{size:i,shape:t,stops:r,position:s,type:2}},qx=function(n,e){var t=0,i=3,r=[],s=[];return bA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(Zt(h))switch(h.value){case"center":return s.push(PQ),!1;case"top":case"left":return s.push(sr),!1;case"right":case"bottom":return s.push(yd),!1}else if(Ai(h)||Sd(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(Zt(h))switch(h.value){case pX:return t=0,!1;case gX:return t=1,!1;case vX:case cX:return i=0,!1;case dX:return i=1,!1;case fX:return i=2,!1;case mX:case hX:return i=3,!1}else if(Sd(h)||Ai(h))return Array.isArray(i)||(i=[]),i.push(h),!1;return d},l)),l){var u=T1(n,a);r.push(u)}}),{size:i,shape:t,stops:r,position:s,type:2}},Dve=function(n){return n.type===1},Lve=function(n){return n.type===2},RQ={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var i=yX[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function Nve(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!yX[n.name])}var yX={"linear-gradient":Mve,"-moz-linear-gradient":zx,"-ms-linear-gradient":zx,"-o-linear-gradient":zx,"-webkit-linear-gradient":zx,"radial-gradient":Rve,"-moz-radial-gradient":qx,"-ms-radial-gradient":qx,"-o-radial-gradient":qx,"-webkit-radial-gradient":qx,"-webkit-gradient":Pve},Qve={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return Gv(i)&&Nve(i)}).map(function(i){return RQ.parse(n,i)})}},kve={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Zt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ove={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return bA(e).map(function(t){return t.filter(Ai)}).map(rX)}},Hve={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return bA(e).map(function(t){return t.filter(Zt).map(function(i){return i.value}).join(" ")}).map(Vve)}},Vve=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Hg;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(Hg||(Hg={}));var Gve={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return bA(e).map(function(t){return t.filter(Kve)})}},Kve=function(n){return Zt(n)||Ai(n)},I1=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},zve=I1("top"),qve=I1("right"),$ve=I1("bottom"),jve=I1("left"),F1=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return rX(t.filter(Ai))}}},Wve=F1("top-left"),Yve=F1("top-right"),Xve=F1("bottom-right"),Jve=F1("bottom-left"),U1=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Zve=U1("top"),eye=U1("right"),tye=U1("bottom"),nye=U1("left"),M1=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return RB(t)?t.number:0}}},iye=M1("top"),rye=M1("right"),sye=M1("bottom"),aye=M1("left"),oye={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Aye={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},lye={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(Zt).reduce(function(t,i){return t|uye(i.value)},0)}},uye=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},cye={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},dye={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},q_;(function(n){n.NORMAL="normal",n.STRICT="strict"})(q_||(q_={}));var fye={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return q_.STRICT;case"normal":default:return q_.NORMAL}}},hye={name:"line-height",initialValue:"normal",prefix:!1,type:4},OK=function(n,e){return Zt(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Ai(n)?hn(n,e):e},pye={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:RQ.parse(n,e)}},gye={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},WL={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},P1=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},mye=P1("top"),vye=P1("right"),yye=P1("bottom"),wye=P1("left"),bye={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(Zt).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Cye={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},R1=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Bye=R1("top"),Eye=R1("right"),xye=R1("bottom"),Sye=R1("left"),_ye={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Tye={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Iye={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&jL(e[0],"none")?[]:bA(e).map(function(t){for(var i={color:Jl.TRANSPARENT,offsetX:sr,offsetY:sr,blur:sr},r=0,s=0;s<t.length;s++){var a=t[s];Sd(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:i.blur=a,r++):i.color=bd.parse(n,a)}return i})}},Fye={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Uye={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Rye[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Mye=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Pye=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],i=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,i,r,s,a,o]:null},Rye={matrix:Mye,matrix3d:Pye},HK={type:16,number:50,flags:PB},Dye=[HK,HK],Lye={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Ai);return t.length!==2?Dye:[t[0],t[1]]}},Nye={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},yw;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(yw||(yw={}));var Qye={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return yw.BREAK_ALL;case"keep-all":return yw.KEEP_ALL;case"normal":default:return yw.NORMAL}}},kye={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(Ay(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},wX={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Oye={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return Ay(e)?e.number:1}},Hye={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Vye={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(Zt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Gye={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],i=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},Kye={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},zye={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(Ay(e))return e.number;if(Zt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},qye={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(Zt).map(function(t){return t.value})}},$ye={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},vi=function(n,e){return(n&e)!==0},jye={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Wye={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],r=e.filter(iX),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(a.type===20){var l=o&&Ay(o)?o.number:1;i.push({counter:a.value,increment:l})}}return i}},Yye={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],i=e.filter(iX),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(Zt(s)&&s.value!=="none"){var o=a&&Ay(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},Xye={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(RB).map(function(t){return wX.parse(n,t)})}},Jye={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],r=e.filter(Eve);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,o=r[s+1].value;i.push({open:a,close:o})}return i}},VK=function(n,e,t){if(!n)return"";var i=n[Math.min(e,n.length-1)];return i?t?i.open:i.close:""},Zye={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&jL(e[0],"none")?[]:bA(e).map(function(t){for(var i={color:255,offsetX:sr,offsetY:sr,blur:sr,spread:sr,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];jL(a,"inset")?i.inset=!0:Sd(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:r===2?i.blur=a:i.spread=a,r++):i.color=bd.parse(n,a)}return i})}},e0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],i=[];return e.filter(Zt).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},t0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},n0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return RB(e)?e.number:0}},i0e=(function(){function n(e,t){var i,r;this.animationDuration=Te(e,Xye,t.animationDuration),this.backgroundClip=Te(e,_ve,t.backgroundClip),this.backgroundColor=Te(e,Tve,t.backgroundColor),this.backgroundImage=Te(e,Qve,t.backgroundImage),this.backgroundOrigin=Te(e,kve,t.backgroundOrigin),this.backgroundPosition=Te(e,Ove,t.backgroundPosition),this.backgroundRepeat=Te(e,Hve,t.backgroundRepeat),this.backgroundSize=Te(e,Gve,t.backgroundSize),this.borderTopColor=Te(e,zve,t.borderTopColor),this.borderRightColor=Te(e,qve,t.borderRightColor),this.borderBottomColor=Te(e,$ve,t.borderBottomColor),this.borderLeftColor=Te(e,jve,t.borderLeftColor),this.borderTopLeftRadius=Te(e,Wve,t.borderTopLeftRadius),this.borderTopRightRadius=Te(e,Yve,t.borderTopRightRadius),this.borderBottomRightRadius=Te(e,Xve,t.borderBottomRightRadius),this.borderBottomLeftRadius=Te(e,Jve,t.borderBottomLeftRadius),this.borderTopStyle=Te(e,Zve,t.borderTopStyle),this.borderRightStyle=Te(e,eye,t.borderRightStyle),this.borderBottomStyle=Te(e,tye,t.borderBottomStyle),this.borderLeftStyle=Te(e,nye,t.borderLeftStyle),this.borderTopWidth=Te(e,iye,t.borderTopWidth),this.borderRightWidth=Te(e,rye,t.borderRightWidth),this.borderBottomWidth=Te(e,sye,t.borderBottomWidth),this.borderLeftWidth=Te(e,aye,t.borderLeftWidth),this.boxShadow=Te(e,Zye,t.boxShadow),this.color=Te(e,oye,t.color),this.direction=Te(e,Aye,t.direction),this.display=Te(e,lye,t.display),this.float=Te(e,cye,t.cssFloat),this.fontFamily=Te(e,Gye,t.fontFamily),this.fontSize=Te(e,Kye,t.fontSize),this.fontStyle=Te(e,$ye,t.fontStyle),this.fontVariant=Te(e,qye,t.fontVariant),this.fontWeight=Te(e,zye,t.fontWeight),this.letterSpacing=Te(e,dye,t.letterSpacing),this.lineBreak=Te(e,fye,t.lineBreak),this.lineHeight=Te(e,hye,t.lineHeight),this.listStyleImage=Te(e,pye,t.listStyleImage),this.listStylePosition=Te(e,gye,t.listStylePosition),this.listStyleType=Te(e,WL,t.listStyleType),this.marginTop=Te(e,mye,t.marginTop),this.marginRight=Te(e,vye,t.marginRight),this.marginBottom=Te(e,yye,t.marginBottom),this.marginLeft=Te(e,wye,t.marginLeft),this.opacity=Te(e,Oye,t.opacity);var s=Te(e,bye,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Te(e,Cye,t.overflowWrap),this.paddingTop=Te(e,Bye,t.paddingTop),this.paddingRight=Te(e,Eye,t.paddingRight),this.paddingBottom=Te(e,xye,t.paddingBottom),this.paddingLeft=Te(e,Sye,t.paddingLeft),this.paintOrder=Te(e,e0e,t.paintOrder),this.position=Te(e,Tye,t.position),this.textAlign=Te(e,_ye,t.textAlign),this.textDecorationColor=Te(e,Hye,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=Te(e,Vye,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=Te(e,Iye,t.textShadow),this.textTransform=Te(e,Fye,t.textTransform),this.transform=Te(e,Uye,t.transform),this.transformOrigin=Te(e,Lye,t.transformOrigin),this.visibility=Te(e,Nye,t.visibility),this.webkitTextStrokeColor=Te(e,t0e,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Te(e,n0e,t.webkitTextStrokeWidth),this.wordBreak=Te(e,Qye,t.wordBreak),this.zIndex=Te(e,kye,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Cd(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return vi(this.display,4)||vi(this.display,33554432)||vi(this.display,268435456)||vi(this.display,536870912)||vi(this.display,67108864)||vi(this.display,134217728)},n})(),r0e=(function(){function n(e,t){this.content=Te(e,jye,t.content),this.quotes=Te(e,Jye,t.quotes)}return n})(),GK=(function(){function n(e,t){this.counterIncrement=Te(e,Wye,t.counterIncrement),this.counterReset=Te(e,Yye,t.counterReset)}return n})(),Te=function(n,e,t){var i=new tX,r=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(r);var s=new nX(i.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,Zt(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return _1.parse(n,s.parseComponentValue());case"color":return bd.parse(n,s.parseComponentValue());case"image":return RQ.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Sd(o)?o:sr;case"length-percentage":var l=s.parseComponentValue();return Ai(l)?l:sr;case"time":return wX.parse(n,s.parseComponentValue())}break}},s0e="data-html2canvas-debug",a0e=function(n){var e=n.getAttribute(s0e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},YL=function(n,e){var t=a0e(n);return t===1||e===t},CA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,YL(t,3))debugger;this.styles=new i0e(e,window.getComputedStyle(t,null)),ZL(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=x1(this.context,t),YL(t,4)&&(this.flags|=16)}return n})(),o0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",KK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $x=0;$x<KK.length;$x++)uw[KK.charCodeAt($x)]=$x;var A0e=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=uw[n.charCodeAt(i)],a=uw[n.charCodeAt(i+1)],o=uw[n.charCodeAt(i+2)],l=uw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},l0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},u0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},$h=5,DQ=11,dM=2,c0e=DQ-$h,bX=65536>>$h,d0e=1<<$h,fM=d0e-1,f0e=1024>>$h,h0e=bX+f0e,p0e=h0e,g0e=32,m0e=p0e+g0e,v0e=65536>>DQ,y0e=1<<c0e,w0e=y0e-1,zK=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},b0e=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},C0e=function(n,e){var t=A0e(n),i=Array.isArray(t)?u0e(t):new Uint32Array(t),r=Array.isArray(t)?l0e(t):new Uint16Array(t),s=24,a=zK(r,s/2,i[4]/2),o=i[5]===2?zK(r,(s+i[4])/2):b0e(i,Math.ceil((s+i[4])/4));return new B0e(i[0],i[1],i[2],i[3],a,o)},B0e=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>$h],t=(t<<dM)+(e&fM),this.data[t];if(e<=65535)return t=this.index[bX+(e-55296>>$h)],t=(t<<dM)+(e&fM),this.data[t];if(e<this.highStart)return t=m0e-v0e+(e>>DQ),t=this.index[t],t+=e>>$h&w0e,t=this.index[t],t=(t<<dM)+(e&fM),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),qK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E0e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jx=0;jx<qK.length;jx++)E0e[qK.charCodeAt(jx)]=jx;var x0e=1,hM=2,pM=3,$K=4,jK=5,S0e=7,WK=8,gM=9,mM=10,YK=11,XK=12,JK=13,ZK=14,vM=15,_0e=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},T0e=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},I0e=C0e(o0e),ma="",yM="",F0e=function(n){return I0e.get(n)},U0e=function(n,e,t){var i=t-2,r=e[i],s=e[t-1],a=e[t];if(s===hM&&a===pM)return ma;if(s===hM||s===pM||s===$K||a===hM||a===pM||a===$K)return yM;if(s===WK&&[WK,gM,YK,XK].indexOf(a)!==-1||(s===YK||s===gM)&&(a===gM||a===mM)||(s===XK||s===mM)&&a===mM||a===JK||a===jK||a===S0e||s===x0e)return ma;if(s===JK&&a===ZK){for(;r===jK;)r=e[--i];if(r===ZK)return ma}if(s===vM&&a===vM){for(var o=0;r===vM;)o++,r=e[--i];if(o%2===0)return ma}return yM},M0e=function(n){var e=_0e(n),t=e.length,i=0,r=0,s=e.map(F0e);return{next:function(){if(i>=t)return{done:!0,value:null};for(var a=ma;i<t&&(a=U0e(e,s,++i))===ma;);if(a!==ma||i===t){var o=T0e.apply(null,e.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},P0e=function(n){for(var e=M0e(n),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},R0e=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var i=n.createElement("boundtest");i.style.height=e+"px",i.style.display="block",n.body.appendChild(i),t.selectNode(i);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(n.body.removeChild(i),s===e)return!0}}return!1},D0e=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,r=S1(i.data).map(function(l){return Xn(l)}),s=0,a={},o=r.every(function(l,u){t.setStart(i,s),t.setEnd(i,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},L0e=function(){return typeof new Image().crossOrigin<"u"},N0e=function(){return typeof new XMLHttpRequest().responseType=="string"},Q0e=function(n){var e=new Image,t=n.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},ez=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},k0e=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var r=new Image,s=e.toDataURL();r.src=s;var a=XL(t,t,0,0,r);return i.fillStyle="red",i.fillRect(0,0,t,t),tz(a).then(function(o){i.drawImage(o,0,0);var l=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",ez(l)?tz(XL(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return i.drawImage(o,0,0),ez(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},XL=function(n,e,t,i,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},tz=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},er={get SUPPORT_RANGE_BOUNDS(){var n=R0e(document);return Object.defineProperty(er,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=er.SUPPORT_RANGE_BOUNDS&&D0e(document);return Object.defineProperty(er,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=Q0e(document);return Object.defineProperty(er,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?k0e(document):Promise.resolve(!1);return Object.defineProperty(er,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=L0e();return Object.defineProperty(er,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=N0e();return Object.defineProperty(er,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(er,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(er,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},ww=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),O0e=function(n,e,t,i){var r=G0e(e,t),s=[],a=0;return r.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(er.SUPPORT_RANGE_BOUNDS){var l=nz(i,a,o.length).getClientRects();if(l.length>1){var u=LQ(o),d=0;u.forEach(function(g){s.push(new ww(g,su.fromDOMRectList(n,nz(i,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new ww(o,su.fromDOMRectList(n,l)))}else{var h=i.splitText(o.length);s.push(new ww(o,H0e(n,i))),i=h}else er.SUPPORT_RANGE_BOUNDS||(i=i.splitText(o.length));a+=o.length}),s},H0e=function(n,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(i,e);var s=x1(n,i);return i.firstChild&&r.replaceChild(i.firstChild,i),s}}return su.EMPTY},nz=function(n,e,t){var i=n.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(n,e),r.setEnd(n,e+t),r},LQ=function(n){if(er.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return P0e(n)},V0e=function(n,e){if(er.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(i){return i.segment})}return z0e(n,e)},G0e=function(n,e){return e.letterSpacing!==0?LQ(n):V0e(n,e)},K0e=[32,160,4961,65792,65793,4153,4241],z0e=function(n,e){for(var t=vme(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],r,s=function(){if(r.value){var a=r.value.slice(),o=S1(a),l="";o.forEach(function(u){K0e.indexOf(u)===-1?l+=Xn(u):(l.length&&i.push(l),i.push(Xn(u)),l="")}),l.length&&i.push(l)}};!(r=t.next()).done;)s();return i},q0e=(function(){function n(e,t,i){this.text=$0e(t.data,i.textTransform),this.textBounds=O0e(e,this.text,i,t)}return n})(),$0e=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(j0e,W0e);case 2:return n.toUpperCase();default:return n}},j0e=/(^|\s|:|-|\(|\))([a-z])/g,W0e=function(n,e,t){return n.length>0?e+t.toUpperCase():n},CX=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return e})(CA),BX=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return e})(CA),EX=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=new XMLSerializer,a=x1(t,i);return i.setAttribute("width",a.width+"px"),i.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})(CA),xX=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(CA),JL=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return e})(CA),Y0e=[{type:15,flags:0,unit:"px",number:3}],X0e=[{type:16,flags:0,number:50}],J0e=function(n){return n.width>n.height?new su(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new su(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Z0e=function(n){var e=n.type===ewe?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},$_="checkbox",j_="radio",ewe="password",iz=707406591,NQ=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=Z0e(i),(r.type===$_||r.type===j_)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=J0e(r.bounds)),r.type){case $_:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Y0e;break;case j_:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=X0e;break}return r}return e})(CA),SX=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=i.options[i.selectedIndex||0];return r.value=s&&s.text||"",r}return e})(CA),_X=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(CA),TX=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=FX(t,i.contentWindow.document.documentElement);var s=i.contentWindow.document.documentElement?vw(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):Jl.TRANSPARENT,a=i.contentWindow.document.body?vw(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):Jl.TRANSPARENT;r.backgroundColor=Cd(s)?Cd(a)?r.styles.backgroundColor:a:s}}catch{}return r}return e})(CA),twe=["OL","UL","MENU"],y_=function(n,e,t,i){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,UX(r)&&r.data.trim().length>0)t.textNodes.push(new q0e(n,r,t.styles));else if(Tg(r))if(DX(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return y_(n,o,t,i)});else{var a=IX(n,r);a.styles.isVisible()&&(nwe(r,a,i)?a.flags|=4:iwe(a.styles)&&(a.flags|=2),twe.indexOf(r.tagName)!==-1&&(a.flags|=8),t.elements.push(a),r.slot,r.shadowRoot?y_(n,r.shadowRoot,a,i):!W_(r)&&!MX(r)&&!Y_(r)&&y_(n,r,a,i))}},IX=function(n,e){return eN(e)?new CX(n,e):PX(e)?new BX(n,e):MX(e)?new EX(n,e):rwe(e)?new xX(n,e):swe(e)?new JL(n,e):awe(e)?new NQ(n,e):Y_(e)?new SX(n,e):W_(e)?new _X(n,e):RX(e)?new TX(n,e):new CA(n,e)},FX=function(n,e){var t=IX(n,e);return t.flags|=4,y_(n,e,t,t),t},nwe=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||QQ(n)&&t.styles.isTransparent()},iwe=function(n){return n.isPositioned()||n.isFloating()},UX=function(n){return n.nodeType===Node.TEXT_NODE},Tg=function(n){return n.nodeType===Node.ELEMENT_NODE},ZL=function(n){return Tg(n)&&typeof n.style<"u"&&!w_(n)},w_=function(n){return typeof n.className=="object"},rwe=function(n){return n.tagName==="LI"},swe=function(n){return n.tagName==="OL"},awe=function(n){return n.tagName==="INPUT"},owe=function(n){return n.tagName==="HTML"},MX=function(n){return n.tagName==="svg"},QQ=function(n){return n.tagName==="BODY"},PX=function(n){return n.tagName==="CANVAS"},rz=function(n){return n.tagName==="VIDEO"},eN=function(n){return n.tagName==="IMG"},RX=function(n){return n.tagName==="IFRAME"},sz=function(n){return n.tagName==="STYLE"},Awe=function(n){return n.tagName==="SCRIPT"},W_=function(n){return n.tagName==="TEXTAREA"},Y_=function(n){return n.tagName==="SELECT"},DX=function(n){return n.tagName==="SLOT"},az=function(n){return n.tagName.indexOf("-")>0},lwe=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},n.prototype.parse=function(e){var t=this,i=e.counterIncrement,r=e.counterReset,s=!0;i!==null&&i.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&r.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),oz={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Az={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},uwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},cwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sg=function(n,e,t,i,r,s){return n<e||n>t?Rw(n,r,s.length>0):i.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=i.values[l];return a},"")+s},LX=function(n,e,t,i){var r="";do t||n--,r=i(n)+r,n/=e;while(n*e>=e);return r},$n=function(n,e,t,i,r){var s=t-e+1;return(n<0?"-":"")+(LX(Math.abs(n),s,i,function(a){return Xn(Math.floor(a%s)+e)})+r)},tf=function(n,e,t){t===void 0&&(t=". ");var i=e.length;return LX(Math.abs(n),i,!1,function(r){return e[Math.floor(r%i)]})+t},Cg=1,Zu=2,ec=4,cw=8,GA=function(n,e,t,i,r,s){if(n<-9999||n>9999)return Rw(n,4,r.length>0);var a=Math.abs(n),o=r;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&vi(s,Cg)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&vi(s,Zu)||u===1&&l===1&&vi(s,ec)&&n>100||u===1&&l>1&&vi(s,cw)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?i:"")+o},lz="",uz="",cz="",wM="",Rw=function(n,e,t){var i=t?". ":"",r=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=$n(n,48,57,!0,i);return o.length<4?"0"+o:o;case 4:return tf(n,"",r);case 6:return sg(n,1,3999,oz,3,i).toLowerCase();case 7:return sg(n,1,3999,oz,3,i);case 8:return $n(n,945,969,!1,i);case 9:return $n(n,97,122,!1,i);case 10:return $n(n,65,90,!1,i);case 11:return $n(n,1632,1641,!0,i);case 12:case 49:return sg(n,1,9999,Az,3,i);case 35:return sg(n,1,9999,Az,3,i).toLowerCase();case 13:return $n(n,2534,2543,!0,i);case 14:case 30:return $n(n,6112,6121,!0,i);case 15:return tf(n,"",r);case 16:return tf(n,"",r);case 17:case 48:return GA(n,"",lz,"",r,Zu|ec|cw);case 47:return GA(n,"",uz,"",r,Cg|Zu|ec|cw);case 42:return GA(n,"",lz,"",r,Zu|ec|cw);case 41:return GA(n,"",uz,"",r,Cg|Zu|ec|cw);case 26:return GA(n,"","",cz,r,0);case 25:return GA(n,"","",cz,r,Cg|Zu|ec);case 31:return GA(n,"","",wM,s,Cg|Zu|ec);case 33:return GA(n,"","",wM,s,0);case 32:return GA(n,"","",wM,s,Cg|Zu|ec);case 18:return $n(n,2406,2415,!0,i);case 20:return sg(n,1,19999,cwe,3,i);case 21:return $n(n,2790,2799,!0,i);case 22:return $n(n,2662,2671,!0,i);case 22:return sg(n,1,10999,uwe,3,i);case 23:return tf(n,"");case 24:return tf(n,"");case 27:return $n(n,3302,3311,!0,i);case 28:return tf(n,"",r);case 29:return tf(n,"",r);case 34:return $n(n,3792,3801,!0,i);case 37:return $n(n,6160,6169,!0,i);case 38:return $n(n,4160,4169,!0,i);case 39:return $n(n,2918,2927,!0,i);case 40:return $n(n,1776,1785,!0,i);case 43:return $n(n,3046,3055,!0,i);case 44:return $n(n,3174,3183,!0,i);case 45:return $n(n,3664,3673,!0,i);case 46:return $n(n,3872,3881,!0,i);case 3:default:return $n(n,48,57,!0,i)}},NX="data-html2canvas-ignore",dz=(function(){function n(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new lwe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var i=this,r=dwe(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=r.contentWindow,l=o.document,u=pwe(r).then(function(){return Pr(i,void 0,void 0,function(){var d,h;return vr(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(ywe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,hwe(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(mwe(document.doctype)+"<html></html>"),vwe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(YL(e,2))debugger;if(PX(e))return this.createCanvasClone(e);if(rz(e))return this.createVideoClone(e);if(sz(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return eN(t)&&(eN(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),az(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return bM(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=e.cloneNode(!1);return r.textContent=i,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},n.prototype.appendChildNode=function(e,t,i){(!Tg(t)||!Awe(t)&&!t.hasAttribute(NX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Tg(t)||!sz(t))&&e.appendChild(this.cloneNode(t,i))},n.prototype.cloneChildNodes=function(e,t,i){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Tg(s)&&DX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return r.appendChildNode(t,o,i)})}else this.appendChildNode(t,s,i)},n.prototype.cloneNode=function(e,t){if(UX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&Tg(e)&&(ZL(e)||w_(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=i.getComputedStyle(e),a=i.getComputedStyle(e,":before"),o=i.getComputedStyle(e,":after");this.referenceElement===e&&ZL(r)&&(this.clonedReferenceElement=r),QQ(r)&&Cwe(r);var l=this.counters.parse(new GK(this.context,s)),u=this.resolvePseudoContent(e,r,a,bw.BEFORE);az(e)&&(t=!0),rz(e)||this.cloneChildNodes(e,r,t),u&&r.insertBefore(u,r.firstChild);var d=this.resolvePseudoContent(e,r,o,bw.AFTER);return d&&r.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||w_(e))&&!RX(e)||t)&&bM(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(W_(e)||Y_(e))&&(W_(r)||Y_(r))&&(r.value=e.value),r}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,i,r){var s=this;if(i){var a=i.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||i.display==="none")){this.counters.parse(new GK(this.context,i));var l=new r0e(this.context,i),u=o.createElement("html2canvaspseudoelement");bM(i,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(Zt);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(Gv),C=b[0],E=b[1];if(C&&Zt(C)){var S=s.counters.getCounterValue(C.value),I=E&&Zt(E)?WL.parse(s.context,E.value):3;u.appendChild(o.createTextNode(Rw(S,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter(Gv),C=T[0],R=T[1],E=T[2];if(C&&Zt(C)){var M=s.counters.getCounterValues(C.value),D=E&&Zt(E)?WL.parse(s.context,E.value):3,N=R&&R.type===0?R.value:"",H=M.map(function(G){return Rw(G,D,!1)}).join(N);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(VK(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(VK(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=tN+" "+nN;var d=r===bw.BEFORE?" "+tN:" "+nN;return w_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),bw;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(bw||(bw={}));var dwe=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(NX,"true"),n.body.appendChild(t),t},fwe=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},hwe=function(n){return Promise.all([].slice.call(n.images,0).map(fwe))},pwe=function(n){return new Promise(function(e,t){var i=n.contentWindow;if(!i)return t("No window assigned for iframe");var r=i.document;i.onload=n.onload=function(){i.onload=n.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},gwe=["all","d","content"],bM=function(n,e){for(var t=n.length-1;t>=0;t--){var i=n.item(t);gwe.indexOf(i)===-1&&e.style.setProperty(i,n.getPropertyValue(i))}return e},mwe=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},vwe=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},ywe=function(n){var e=n[0],t=n[1],i=n[2];e.scrollLeft=t,e.scrollTop=i},wwe=":before",bwe=":after",tN="___html2canvas___pseudoelement_before",nN="___html2canvas___pseudoelement_after",fz=`{
    content: "" !important;
    display: none !important;
}`,Cwe=function(n){Bwe(n,"."+tN+wwe+fz+`
         .`+nN+bwe+fz)},Bwe=function(n,e){var t=n.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,n.appendChild(i)}},QX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),Ewe=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(BM(e)||Twe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Pr(this,void 0,void 0,function(){var t,i,r,s,a=this;return vr(this,function(o){switch(o.label){case 0:return t=QX.isSameOrigin(e),i=!CM(e)&&this._options.useCORS===!0&&er.SUPPORT_CORS_IMAGES&&!t,r=!CM(e)&&!t&&!BM(e)&&typeof this._options.proxy=="string"&&er.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!CM(e)&&!BM(e)&&!r&&!i?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(Iwe(s)||i)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var o=er.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=a;var u=i.indexOf("?")>-1?"&":"?";if(l.open("GET",""+i+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+r)}}l.send()})},n})(),xwe=/^data:image\/svg\+xml/i,Swe=/^data:image\/.*;base64,/i,_we=/^data:image\/.*/i,Twe=function(n){return er.SUPPORT_SVG_DRAWING||!Fwe(n)},CM=function(n){return _we.test(n)},Iwe=function(n){return Swe.test(n)},BM=function(n){return n.substr(0,4)==="blob"},Fwe=function(n){return n.substr(-3).toLowerCase()==="svg"||xwe.test(n)},_e=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),ag=function(n,e,t){return new _e(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},Wx=(function(){function n(e,t,i,r){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=r}return n.prototype.subdivide=function(e,t){var i=ag(this.start,this.startControl,e),r=ag(this.startControl,this.endControl,e),s=ag(this.endControl,this.end,e),a=ag(i,r,e),o=ag(r,s,e),l=ag(a,o,e);return t?new n(this.start,i,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),Ra=function(n){return n.type===1},Uwe=(function(){function n(e){var t=e.styles,i=e.bounds,r=lw(t.borderTopLeftRadius,i.width,i.height),s=r[0],a=r[1],o=lw(t.borderTopRightRadius,i.width,i.height),l=o[0],u=o[1],d=lw(t.borderBottomRightRadius,i.width,i.height),h=d[0],g=d[1],v=lw(t.borderBottomLeftRadius,i.width,i.height),b=v[0],C=v[1],E=[];E.push((s+l)/i.width),E.push((b+h)/i.width),E.push((a+C)/i.height),E.push((u+g)/i.height);var S=Math.max.apply(Math,E);S>1&&(s/=S,a/=S,l/=S,u/=S,h/=S,g/=S,b/=S,C/=S);var I=i.width-l,T=i.height-g,R=i.width-h,M=i.height-C,D=t.borderTopWidth,N=t.borderRightWidth,H=t.borderBottomWidth,k=t.borderLeftWidth,K=hn(t.paddingTop,e.bounds.width),G=hn(t.paddingRight,e.bounds.width),z=hn(t.paddingBottom,e.bounds.width),J=hn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?En(i.left+k/3,i.top+D/3,s-k/3,a-D/3,Dt.TOP_LEFT):new _e(i.left+k/3,i.top+D/3),this.topRightBorderDoubleOuterBox=s>0||a>0?En(i.left+I,i.top+D/3,l-N/3,u-D/3,Dt.TOP_RIGHT):new _e(i.left+i.width-N/3,i.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?En(i.left+R,i.top+T,h-N/3,g-H/3,Dt.BOTTOM_RIGHT):new _e(i.left+i.width-N/3,i.top+i.height-H/3),this.bottomLeftBorderDoubleOuterBox=b>0||C>0?En(i.left+k/3,i.top+M,b-k/3,C-H/3,Dt.BOTTOM_LEFT):new _e(i.left+k/3,i.top+i.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?En(i.left+k*2/3,i.top+D*2/3,s-k*2/3,a-D*2/3,Dt.TOP_LEFT):new _e(i.left+k*2/3,i.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?En(i.left+I,i.top+D*2/3,l-N*2/3,u-D*2/3,Dt.TOP_RIGHT):new _e(i.left+i.width-N*2/3,i.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?En(i.left+R,i.top+T,h-N*2/3,g-H*2/3,Dt.BOTTOM_RIGHT):new _e(i.left+i.width-N*2/3,i.top+i.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||C>0?En(i.left+k*2/3,i.top+M,b-k*2/3,C-H*2/3,Dt.BOTTOM_LEFT):new _e(i.left+k*2/3,i.top+i.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?En(i.left+k/2,i.top+D/2,s-k/2,a-D/2,Dt.TOP_LEFT):new _e(i.left+k/2,i.top+D/2),this.topRightBorderStroke=s>0||a>0?En(i.left+I,i.top+D/2,l-N/2,u-D/2,Dt.TOP_RIGHT):new _e(i.left+i.width-N/2,i.top+D/2),this.bottomRightBorderStroke=h>0||g>0?En(i.left+R,i.top+T,h-N/2,g-H/2,Dt.BOTTOM_RIGHT):new _e(i.left+i.width-N/2,i.top+i.height-H/2),this.bottomLeftBorderStroke=b>0||C>0?En(i.left+k/2,i.top+M,b-k/2,C-H/2,Dt.BOTTOM_LEFT):new _e(i.left+k/2,i.top+i.height-H/2),this.topLeftBorderBox=s>0||a>0?En(i.left,i.top,s,a,Dt.TOP_LEFT):new _e(i.left,i.top),this.topRightBorderBox=l>0||u>0?En(i.left+I,i.top,l,u,Dt.TOP_RIGHT):new _e(i.left+i.width,i.top),this.bottomRightBorderBox=h>0||g>0?En(i.left+R,i.top+T,h,g,Dt.BOTTOM_RIGHT):new _e(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=b>0||C>0?En(i.left,i.top+M,b,C,Dt.BOTTOM_LEFT):new _e(i.left,i.top+i.height),this.topLeftPaddingBox=s>0||a>0?En(i.left+k,i.top+D,Math.max(0,s-k),Math.max(0,a-D),Dt.TOP_LEFT):new _e(i.left+k,i.top+D),this.topRightPaddingBox=l>0||u>0?En(i.left+Math.min(I,i.width-N),i.top+D,I>i.width+N?0:Math.max(0,l-N),Math.max(0,u-D),Dt.TOP_RIGHT):new _e(i.left+i.width-N,i.top+D),this.bottomRightPaddingBox=h>0||g>0?En(i.left+Math.min(R,i.width-k),i.top+Math.min(T,i.height-H),Math.max(0,h-N),Math.max(0,g-H),Dt.BOTTOM_RIGHT):new _e(i.left+i.width-N,i.top+i.height-H),this.bottomLeftPaddingBox=b>0||C>0?En(i.left+k,i.top+Math.min(M,i.height-H),Math.max(0,b-k),Math.max(0,C-H),Dt.BOTTOM_LEFT):new _e(i.left+k,i.top+i.height-H),this.topLeftContentBox=s>0||a>0?En(i.left+k+J,i.top+D+K,Math.max(0,s-(k+J)),Math.max(0,a-(D+K)),Dt.TOP_LEFT):new _e(i.left+k+J,i.top+D+K),this.topRightContentBox=l>0||u>0?En(i.left+Math.min(I,i.width+k+J),i.top+D+K,I>i.width+k+J?0:l-k+J,u-(D+K),Dt.TOP_RIGHT):new _e(i.left+i.width-(N+G),i.top+D+K),this.bottomRightContentBox=h>0||g>0?En(i.left+Math.min(R,i.width-(k+J)),i.top+Math.min(T,i.height+D+K),Math.max(0,h-(N+G)),g-(H+z),Dt.BOTTOM_RIGHT):new _e(i.left+i.width-(N+G),i.top+i.height-(H+z)),this.bottomLeftContentBox=b>0||C>0?En(i.left+k+J,i.top+M,Math.max(0,b-(k+J)),C-(H+z),Dt.BOTTOM_LEFT):new _e(i.left+k+J,i.top+i.height-(H+z))}return n})(),Dt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Dt||(Dt={}));var En=function(n,e,t,i,r){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=i*s,l=n+t,u=e+i;switch(r){case Dt.TOP_LEFT:return new Wx(new _e(n,u),new _e(n,u-o),new _e(l-a,e),new _e(l,e));case Dt.TOP_RIGHT:return new Wx(new _e(n,e),new _e(n+a,e),new _e(l,u-o),new _e(l,u));case Dt.BOTTOM_RIGHT:return new Wx(new _e(l,e),new _e(l,e+o),new _e(n+a,u),new _e(n,u));case Dt.BOTTOM_LEFT:default:return new Wx(new _e(l,u),new _e(l-a,u),new _e(n,e+o),new _e(n,e))}},X_=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},Mwe=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},J_=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},Pwe=(function(){function n(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return n})(),Yx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),Rwe=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),Dwe=function(n){return n.type===0},kX=function(n){return n.type===1},Lwe=function(n){return n.type===2},hz=function(n,e){return n.length===e.length?n.some(function(t,i){return t===e[i]}):!1},Nwe=function(n,e,t,i,r){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+i,t);case 2:return s.add(e+i,t+r);case 3:return s.add(e,t+r)}return s})},OX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),HX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Uwe(this.container),this.container.styles.opacity<1&&this.effects.push(new Rwe(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Pwe(i,r,s))}if(this.container.styles.overflowX!==0){var a=X_(this.curves),o=J_(this.curves);hz(a,o)?this.effects.push(new Yx(a,6)):(this.effects.push(new Yx(a,2)),this.effects.push(new Yx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var s=i.effects.filter(function(l){return!kX(l)});if(t||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,s),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var a=X_(i.curves),o=J_(i.curves);hz(a,o)||r.unshift(new Yx(o,6))}}else r.unshift.apply(r,s);i=i.parent}return r.filter(function(l){return vi(l.target,e)})},n})(),iN=function(n,e,t,i){n.container.elements.forEach(function(r){var s=vi(r.flags,4),a=vi(r.flags,2),o=new HX(r,n);vi(r.styles.display,2048)&&i.push(o);var l=vi(r.flags,8)?[]:i;if(s||a){var u=s||r.styles.isPositioned()?t:e,d=new OX(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var h=r.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(b,C){return h>b.element.container.styles.zIndex.order?(g=C,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(b,C){return h>=b.element.container.styles.zIndex.order?(v=C+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else r.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);iN(o,d,s?d:t,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),iN(o,e,t,l);vi(r.flags,8)&&VX(r,l)})},VX=function(n,e){for(var t=n instanceof JL?n.start:1,i=n instanceof JL?n.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof xX&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Rw(t,s.container.styles.listStyleType,!0),t+=i?-1:1}},Qwe=function(n){var e=new HX(n,null),t=new OX(e),i=[];return iN(e,t,t,i),VX(e.container,i),t},pz=function(n,e){switch(e){case 0:return Na(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return Na(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return Na(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return Na(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},kwe=function(n,e){switch(e){case 0:return Na(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return Na(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return Na(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return Na(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},Owe=function(n,e){switch(e){case 0:return Na(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return Na(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return Na(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return Na(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},Hwe=function(n,e){switch(e){case 0:return Xx(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return Xx(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return Xx(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return Xx(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},Xx=function(n,e){var t=[];return Ra(n)?t.push(n.subdivide(.5,!1)):t.push(n),Ra(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Na=function(n,e,t,i){var r=[];return Ra(n)?r.push(n.subdivide(.5,!1)):r.push(n),Ra(t)?r.push(t.subdivide(.5,!0)):r.push(t),Ra(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Ra(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},GX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Z_=function(n){var e=n.styles,t=n.bounds,i=hn(e.paddingLeft,t.width),r=hn(e.paddingRight,t.width),s=hn(e.paddingTop,t.width),a=hn(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+r),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Vwe=function(n,e){return n===0?e.bounds:n===2?Z_(e):GX(e)},Gwe=function(n,e){return n===0?e.bounds:n===2?Z_(e):GX(e)},EM=function(n,e,t){var i=Vwe(Bg(n.styles.backgroundOrigin,e),n),r=Gwe(Bg(n.styles.backgroundClip,e),n),s=Kwe(Bg(n.styles.backgroundSize,e),t,i),a=s[0],o=s[1],l=lw(Bg(n.styles.backgroundPosition,e),i.width-a,i.height-o),u=zwe(Bg(n.styles.backgroundRepeat,e),l,s,i,r),d=Math.round(i.left+l[0]),h=Math.round(i.top+l[1]);return[u,d,h,a,o]},og=function(n){return Zt(n)&&n.value===Hg.AUTO},Jx=function(n){return typeof n=="number"},Kwe=function(n,e,t){var i=e[0],r=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Ai(a)&&o&&Ai(o))return[hn(a,t.width),hn(o,t.height)];var l=Jx(s);if(Zt(a)&&(a.value===Hg.CONTAIN||a.value===Hg.COVER)){if(Jx(s)){var u=t.width/t.height;return u<s!=(a.value===Hg.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=Jx(i),h=Jx(r),g=d||h;if(og(a)&&(!o||og(o))){if(d&&h)return[i,r];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?i:r*s,b=h?r:i/s;return[v,b]}var C=d?i:t.width,E=h?r:t.height;return[C,E]}if(l){var S=0,I=0;return Ai(a)?S=hn(a,t.width):Ai(o)&&(I=hn(o,t.height)),og(a)?S=I*s:(!o||og(o))&&(I=S/s),[S,I]}var T=null,R=null;if(Ai(a)?T=hn(a,t.width):o&&Ai(o)&&(R=hn(o,t.height)),T!==null&&(!o||og(o))&&(R=d&&h?T/i*r:t.height),R!==null&&og(a)&&(T=d&&h?R/r*i:t.width),T!==null&&R!==null)return[T,R];throw new Error("Unable to calculate background-size for element")},Bg=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},zwe=function(n,e,t,i,r){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new _e(Math.round(i.left),Math.round(i.top+a)),new _e(Math.round(i.left+i.width),Math.round(i.top+a)),new _e(Math.round(i.left+i.width),Math.round(l+i.top+a)),new _e(Math.round(i.left),Math.round(l+i.top+a))];case 3:return[new _e(Math.round(i.left+s),Math.round(i.top)),new _e(Math.round(i.left+s+o),Math.round(i.top)),new _e(Math.round(i.left+s+o),Math.round(i.height+i.top)),new _e(Math.round(i.left+s),Math.round(i.height+i.top))];case 1:return[new _e(Math.round(i.left+s),Math.round(i.top+a)),new _e(Math.round(i.left+s+o),Math.round(i.top+a)),new _e(Math.round(i.left+s+o),Math.round(i.top+a+l)),new _e(Math.round(i.left+s),Math.round(i.top+a+l))];default:return[new _e(Math.round(r.left),Math.round(r.top)),new _e(Math.round(r.left+r.width),Math.round(r.top)),new _e(Math.round(r.left+r.width),Math.round(r.height+r.top)),new _e(Math.round(r.left),Math.round(r.height+r.top))]}},qwe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",gz="Hidden Text",$we=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",a.appendChild(i),r.src=qwe,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(gz)),i.appendChild(s),i.appendChild(r);var o=r.offsetTop-s.offsetTop+2;i.removeChild(s),i.appendChild(this._document.createTextNode(gz)),i.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-i.offsetTop+2;return a.removeChild(i),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},n})(),KX=(function(){function n(e,t){this.context=e,this.options=t}return n})(),jwe=1e4,Wwe=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new $we(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return i.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),Lwe(t)&&(this.ctx.globalAlpha=t.opacity),Dwe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),kX(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Pr(this,void 0,void 0,function(){var i;return vr(this,function(r){switch(r.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Pr(this,void 0,void 0,function(){return vr(this,function(i){switch(i.label){case 0:if(vi(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,r){var s=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r);else{var a=LQ(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+r),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=ebe(t.fontFamily).join(", "),s=RB(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(t,i){return Pr(this,void 0,void 0,function(){var r,s,a,o,l,u,d,h,g=this;return vr(this,function(v){return r=this.createFontStyle(i),s=r[0],a=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=i.paintOrder,t.textBounds.forEach(function(b){h.forEach(function(C){switch(C){case 0:g.ctx.fillStyle=Si(i.color),g.renderTextWithLetterSpacing(b,i.letterSpacing,u);var E=i.textShadow;E.length&&b.text.trim().length&&(E.slice(0).reverse().forEach(function(S){g.ctx.shadowColor=Si(S.color),g.ctx.shadowOffsetX=S.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=S.offsetY.number*g.options.scale,g.ctx.shadowBlur=S.blur.number,g.renderTextWithLetterSpacing(b,i.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),i.textDecorationLine.length&&(g.ctx.fillStyle=Si(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(S){switch(S){case 1:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:g.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+d),b.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&b.text.trim().length&&(g.ctx.strokeStyle=Si(i.webkitTextStrokeColor),g.ctx.lineWidth=i.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=Z_(t),a=J_(i);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Pr(this,void 0,void 0,function(){var i,r,s,a,o,l,I,I,u,d,h,g,R,v,b,M,C,E,S,I,T,R,M;return vr(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,r=t.curves,s=i.styles,a=0,o=i.textNodes,D.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof CX))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof BX&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof EX))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof TX&&i.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,u.render(i.tree)]):[3,14];case 13:d=D.sent(),i.width&&i.height&&this.ctx.drawImage(d,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),D.label=14;case 14:if(i instanceof NQ&&(h=Math.min(i.bounds.width,i.bounds.height),i.type===$_?i.checked&&(this.ctx.save(),this.path([new _e(i.bounds.left+h*.39363,i.bounds.top+h*.79),new _e(i.bounds.left+h*.16,i.bounds.top+h*.5549),new _e(i.bounds.left+h*.27347,i.bounds.top+h*.44071),new _e(i.bounds.left+h*.39694,i.bounds.top+h*.5649),new _e(i.bounds.left+h*.72983,i.bounds.top+h*.23),new _e(i.bounds.left+h*.84,i.bounds.top+h*.34085),new _e(i.bounds.left+h*.39363,i.bounds.top+h*.79)]),this.ctx.fillStyle=Si(iz),this.ctx.fill(),this.ctx.restore()):i.type===j_&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+h/2,i.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Si(iz),this.ctx.fill(),this.ctx.restore())),Ywe(i)&&i.value.length){switch(g=this.createFontStyle(s),R=g[0],v=g[1],b=this.fontMetrics.getMetrics(R,v).baseline,this.ctx.font=R,this.ctx.fillStyle=Si(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Jwe(i.styles.textAlign),M=Z_(i),C=0,i.styles.textAlign){case 1:C+=M.width/2;break;case 2:C+=M.width;break}E=M.add(C,0,0,-M.height/2+1),this.ctx.save(),this.path([new _e(M.left,M.top),new _e(M.left+M.width,M.top),new _e(M.left+M.width,M.top+M.height),new _e(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ww(i.value,E),s.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!vi(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(S=i.styles.listStyleImage,S.type!==0)return[3,18];I=void 0,T=S.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=D.sent(),this.ctx.drawImage(I,i.bounds.left-(I.width+10),i.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=Si(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new su(i.bounds.left,i.bounds.top+hn(i.styles.paddingTop,i.bounds.width),i.bounds.width,OK(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ww(t.listValue,M),s.letterSpacing,OK(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Pr(this,void 0,void 0,function(){var i,r,S,s,a,S,o,l,S,u,d,S,h,g,S,v,b,S,C,E,S;return vr(this,function(I){switch(I.label){case 0:if(vi(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),i=0,r=t.negativeZIndex,I.label=2;case 2:return i<r.length?(S=r[i],[4,this.renderStack(S)]):[3,5];case 3:I.sent(),I.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(S=a[s],[4,this.renderNode(S)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(S=l[o],[4,this.renderStack(S)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(S=d[u],[4,this.renderStack(S)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(S=g[h],[4,this.renderNode(S)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,b=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<b.length?(S=b[v],[4,this.renderStack(S)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:C=0,E=t.positiveZIndex,I.label=27;case 27:return C<E.length?(S=E[C],[4,this.renderStack(S)]):[3,30];case 28:I.sent(),I.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(r,s){var a=Ra(r)?r.start:r;s===0?i.ctx.moveTo(a.x,a.y):i.ctx.lineTo(a.x,a.y),Ra(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,i,r,s){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(t,i,r){var s;if(t.width===i&&t.height===r)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,i),o.height=Math.max(1,r);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,i,r),o},e.prototype.renderBackgroundImage=function(t){return Pr(this,void 0,void 0,function(){var i,r,s,a,o,l;return vr(this,function(u){switch(u.label){case 0:i=t.styles.backgroundImage.length-1,r=function(d){var h,g,v,K,V,$,J,ne,H,b,K,V,$,J,ne,C,E,S,I,T,R,M,D,N,H,k,K,G,z,J,ne,pe,V,$,ie,ue,Ce,q,Y,Ae,de,be;return vr(this,function(ye){switch(ye.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,ye.label=1;case 1:return ye.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=ye.sent(),[3,4];case 3:return ye.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=EM(t,i,[h.width,h.height,h.width/h.height]),K=v[0],V=v[1],$=v[2],J=v[3],ne=v[4],H=s.ctx.createPattern(s.resizeImage(h,J,ne),"repeat"),s.renderRepeat(K,H,V,$)),[3,6];case 5:Dve(d)?(b=EM(t,i,[null,null,null]),K=b[0],V=b[1],$=b[2],J=b[3],ne=b[4],C=Fve(d.angle,J,ne),E=C[0],S=C[1],I=C[2],T=C[3],R=C[4],M=document.createElement("canvas"),M.width=J,M.height=ne,D=M.getContext("2d"),N=D.createLinearGradient(S,T,I,R),QK(d.stops,E).forEach(function(we){return N.addColorStop(we.stop,Si(we.color))}),D.fillStyle=N,D.fillRect(0,0,J,ne),J>0&&ne>0&&(H=s.ctx.createPattern(M,"repeat"),s.renderRepeat(K,H,V,$))):Lve(d)&&(k=EM(t,i,[null,null,null]),K=k[0],G=k[1],z=k[2],J=k[3],ne=k[4],pe=d.position.length===0?[PQ]:d.position,V=hn(pe[0],J),$=hn(pe[pe.length-1],ne),ie=Uve(d,V,$,J,ne),ue=ie[0],Ce=ie[1],ue>0&&Ce>0&&(q=s.ctx.createRadialGradient(G+V,z+$,0,G+V,z+$,ue),QK(d.stops,ue*2).forEach(function(we){return q.addColorStop(we.stop,Si(we.color))}),s.path(K),s.ctx.fillStyle=q,ue!==Ce?(Y=t.bounds.left+.5*t.bounds.width,Ae=t.bounds.top+.5*t.bounds.height,de=Ce/ue,be=1/de,s.ctx.save(),s.ctx.translate(Y,Ae),s.ctx.transform(1,0,0,de,0,0),s.ctx.translate(-Y,-Ae),s.ctx.fillRect(G,be*(z-Ae)+Ae,J,ne*be),s.ctx.restore()):s.ctx.fill())),ye.label=6;case 6:return i--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,r(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,r){return Pr(this,void 0,void 0,function(){return vr(this,function(s){return this.path(pz(r,i)),this.ctx.fillStyle=Si(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,r,s){return Pr(this,void 0,void 0,function(){var a,o;return vr(this,function(l){switch(l.label){case 0:return i<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=kwe(s,r),this.path(a),this.ctx.fillStyle=Si(t),this.ctx.fill(),o=Owe(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Pr(this,void 0,void 0,function(){var i,r,s,a,o,l,u,d,h=this;return vr(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,r=!Cd(i.backgroundColor)||i.backgroundImage.length,s=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],a=Xwe(Bg(i.backgroundClip,0),t.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Cd(i.backgroundColor)||(this.ctx.fillStyle=Si(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var b=X_(t.curves),C=v.inset?0:jwe,E=Nwe(b,-C+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(b),h.ctx.clip(),h.mask(E)):(h.mask(b),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=v.offsetX.number+C,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=Si(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?Si(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!Cd(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,r,s,a){return Pr(this,void 0,void 0,function(){var o,l,u,d,h,g,v,b,C,E,S,I,T,R,M,D,M,D;return vr(this,function(N){return this.ctx.save(),o=Hwe(s,r),l=pz(s,r),a===2&&(this.path(l),this.ctx.clip()),Ra(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),Ra(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),r===0||r===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=i<3?i*3:i*2,C=i<3?i*2:i,a===3&&(b=i,C=i),E=!0,v<=b*2?E=!1:v<=b*2+C?(S=v/(2*b+C),b*=S,C*=S):(I=Math.floor((v+C)/(b+C)),T=(v-I*b)/(I-1),R=(v-(I+1)*b)/I,C=R<=0||Math.abs(C-T)<Math.abs(C-R)?T:R),E&&(a===3?this.ctx.setLineDash([0,b+C]):this.ctx.setLineDash([b,C])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=Si(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Ra(l[0])&&(M=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new _e(M.end.x,M.end.y),new _e(D.start.x,D.start.y)]),this.ctx.stroke()),Ra(l[1])&&(M=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new _e(M.end.x,M.end.y),new _e(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Pr(this,void 0,void 0,function(){var i;return vr(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Si(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=Qwe(t),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(KX),Ywe=function(n){return n instanceof _X||n instanceof SX?!0:n instanceof NQ&&n.type!==j_&&n.type!==$_},Xwe=function(n,e){switch(n){case 0:return X_(e);case 2:return Mwe(e);case 1:default:return J_(e)}},Jwe=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Zwe=["-apple-system","system-ui"],ebe=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return Zwe.indexOf(e)===-1}):n},tbe=(function(n){xo(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return e.prototype.render=function(t){return Pr(this,void 0,void 0,function(){var i,r;return vr(this,function(s){switch(s.label){case 0:return i=XL(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,nbe(i)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Si(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(KX),nbe=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},ibe=(function(){function n(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Fx([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Fx([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Fx([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Fx([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),rbe=(function(){function n(e,t){var i;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new ibe({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new Ewe(this,e)}return n.instanceCount=1,n})(),sbe=function(n,e){return e===void 0&&(e={}),abe(n,e)};typeof window<"u"&&QX.setContext(window);var abe=function(n,e){return Pr(void 0,void 0,void 0,function(){var t,i,r,s,a,o,l,u,d,h,g,v,b,C,E,S,I,T,R,M,N,D,N,H,k,K,G,z,J,ne,pe,V,$,ie,ue,Ce,q,Y,Ae,de;return vr(this,function(be){switch(be.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(K=e.useCORS)!==null&&K!==void 0?K:!1},s=LL({logging:(G=e.logging)!==null&&G!==void 0?G:!0,cache:e.cache},r),a={windowWidth:(z=e.windowWidth)!==null&&z!==void 0?z:i.innerWidth,windowHeight:(J=e.windowHeight)!==null&&J!==void 0?J:i.innerHeight,scrollX:(ne=e.scrollX)!==null&&ne!==void 0?ne:i.pageXOffset,scrollY:(pe=e.scrollY)!==null&&pe!==void 0?pe:i.pageYOffset},o=new su(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new rbe(s,o),u=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,d={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new dz(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=be.sent(),b=QQ(g)||owe(g)?Nge(g.ownerDocument):x1(l,g),C=b.width,E=b.height,S=b.left,I=b.top,T=obe(l,g,e.backgroundColor),R={canvas:e.canvas,backgroundColor:T,scale:(ue=(ie=e.scale)!==null&&ie!==void 0?ie:i.devicePixelRatio)!==null&&ue!==void 0?ue:1,x:((Ce=e.x)!==null&&Ce!==void 0?Ce:0)+S,y:((q=e.y)!==null&&q!==void 0?q:0)+I,width:(Y=e.width)!==null&&Y!==void 0?Y:Math.ceil(C),height:(Ae=e.height)!==null&&Ae!==void 0?Ae:Math.ceil(E)},u?(l.logger.debug("Document cloned, using foreign object rendering"),N=new tbe(l,R),[4,N.render(g)]):[3,3];case 2:return M=be.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+S+","+I+" with size "+C+"x"+E+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=FX(l,g),T===D.styles.backgroundColor&&(D.styles.backgroundColor=Jl.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),N=new Wwe(l,R),[4,N.render(D)];case 4:M=be.sent(),be.label=5;case 5:return(!((de=e.removeContainer)!==null&&de!==void 0)||de)&&(dz.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,M]}})})},obe=function(n,e,t){var i=e.ownerDocument,r=i.documentElement?vw(n,getComputedStyle(i.documentElement).backgroundColor):Jl.TRANSPARENT,s=i.body?vw(n,getComputedStyle(i.body).backgroundColor):Jl.TRANSPARENT,a=typeof t=="string"?vw(n,t):t===null?Jl.TRANSPARENT:4294967295;return e===i.documentElement?Cd(r)?Cd(s)?a:s:r:a};const Abe=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:i,viewMode:r,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:b,showAnnotations:C,triggerSmartExplain:E,isCaptureMode:S,setCaptureMode:I,setCapturedImage:T}=up(),R=n||t,M=e==="main",D=P.useRef(null),N=P.useRef(null),H=P.useRef(0),[k,K]=P.useState({text:"",top:0,left:0,show:!1}),[G,z]=P.useState({show:!1,text:""}),[J,ne]=P.useState(!1),[pe,V]=P.useState([]),[$,ie]=P.useState(null),[ue,Ce]=P.useState(null);P.useEffect(()=>{if(!M)return;const me=Be=>{Be.key==="Escape"&&S&&(I(!1),ie(null),Ce(null))};return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[S,I,M]);const q=P.useMemo(()=>{let me=R.content;return C&&[...v.filter($e=>$e.chapterId===R.id)].sort(($e,bt)=>bt.text.length-$e.text.length).forEach($e=>{const bt=$e.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),qe=new RegExp(bt,"g"),Pn=`<mark id="hl-${$e.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${$e.note||"Highlight"}">${$e.text}</mark>`;me=me.replace(qe,Pn)}),me},[R.content,R.id,v,C]);P.useEffect(()=>{if(b&&C){const me=document.getElementById(`hl-${b}`);me&&document.body.contains(me)&&(me.scrollIntoView({behavior:"smooth",block:"center"}),me.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{me.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[b,q,C]),P.useEffect(()=>{const me=Be=>{const Ye=Be.target;!Ye.closest(`#selection-menu-${e}`)&&!Ye.closest(`#memo-dialog-${e}`)&&K($e=>({...$e,show:!1}))};return document.addEventListener("mousedown",me),()=>document.removeEventListener("mousedown",me)},[e]);const Y=()=>{var Be,Ye;const me=window.getSelection();if(me&&me.toString().trim().length>0){if(!(((Be=D.current)==null?void 0:Be.contains(me.anchorNode))||((Ye=D.current)==null?void 0:Ye.contains(me.focusNode))))return;const qe=me.getRangeAt(0).getBoundingClientRect();let Pn=qe.top-60,ln=qe.left+qe.width/2-100;Pn<0&&(Pn=qe.bottom+10),ln<10&&(ln=10),ln+200>window.innerWidth&&(ln=window.innerWidth-220),K({text:me.toString(),top:Pn,left:ln,show:!0})}else K($e=>({...$e,show:!1}))},Ae=me=>{M&&S||a==="idle"&&setTimeout(Y,10)},de=()=>{var me;s(k.text,void 0,R.id),K(Be=>({...Be,show:!1})),(me=window.getSelection())==null||me.removeAllRanges()},be=()=>{K(me=>({...me,show:!1})),z({show:!0,text:""})},ye=()=>{var me;G.text.trim()&&s(k.text,G.text,R.id),z({show:!1,text:""}),(me=window.getSelection())==null||me.removeAllRanges()},we=()=>{var me;E(k.text),K(Be=>({...Be,show:!1})),(me=window.getSelection())==null||me.removeAllRanges()},ft=me=>{if(!N.current)return null;const Be=N.current.getBoundingClientRect();if(Be.width===0||Be.height===0)return null;const Ye=N.current.width/Be.width,$e=N.current.height/Be.height;return{x:(me.clientX-Be.left)*Ye,y:(me.clientY-Be.top)*$e}},ae=me=>{var Ye;if(M&&S||a==="idle")return;me.target.setPointerCapture(me.pointerId);const Be=ft(me);if(Be&&(ne(!0),V([Be]),D.current&&a==="pen")){const $e=Array.from(D.current.children);let bt=0;const qe=(Ye=N.current)==null?void 0:Ye.getBoundingClientRect(),Pn=me.clientY-((qe==null?void 0:qe.top)||0);for(let ln=0;ln<$e.length;ln++){const lr=$e[ln];if(Pn>=lr.offsetTop&&Pn<=lr.offsetTop+lr.offsetHeight){bt=ln;break}if(Pn<lr.offsetTop){bt=Math.max(0,ln-1);break}bt=ln}H.current=bt}},Qe=me=>{if(M&&S||!J||a==="idle")return;me.preventDefault();const Be=ft(me);if(Be){if(a==="pen")V(Ye=>[...Ye,Be]);else if(a==="eraser"){const Ye=d[R.id]||[],$e=D.current?Array.from(D.current.children):[];Ye.forEach(bt=>{let qe=bt.points;if(bt.anchorIndex!==void 0&&$e[bt.anchorIndex]){const ln=$e[bt.anchorIndex].offsetTop;qe=bt.points.map(lr=>({x:lr.x,y:lr.y+ln}))}qe.some(ln=>Math.hypot(ln.x-Be.x,ln.y-Be.y)<20)&&g(R.id,bt.id)})}}},He=me=>{if(!(M&&S)&&J){if(me.target.releasePointerCapture(me.pointerId),ne(!1),a==="pen"&&pe.length>1){let Be=pe,Ye;if(D.current){Ye=H.current;const bt=D.current.children;if(bt[Ye]){const qe=bt[Ye].offsetTop;Be=pe.map(Pn=>({x:Pn.x,y:Pn.y-qe}))}}const $e={id:Date.now().toString(),points:Be,color:o,width:l,opacity:u,anchorIndex:Ye};h(R.id,$e)}V([])}},ge=me=>{if(!M||!S)return;const Be={x:me.clientX,y:me.clientY};ie(Be),Ce(Be)},An=me=>{!M||!S||!$||Ce({x:me.clientX,y:me.clientY})},We=async me=>{if(!M||!S||!$||!ue){ie(null),Ce(null);return}const Be=$,Ye={x:me.clientX,y:me.clientY},$e={x:Math.min(Be.x,Ye.x),y:Math.min(Be.y,Ye.y),width:Math.abs(Ye.x-Be.x),height:Math.abs(Ye.y-Be.y)};if(ie(null),Ce(null),!($e.width<10||$e.height<10))try{const bt=await sbe(document.body,{x:$e.x+window.scrollX,y:$e.y+window.scrollY,width:$e.width,height:$e.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:qe=>qe.classList.contains("capture-overlay-ui")});T(bt.toDataURL())}catch(bt){console.error(bt)}finally{I(!1)}};P.useEffect(()=>{const me=N.current;if(!me||!D.current)return;const Be=()=>{if(!me||!D.current)return;const $e=window.devicePixelRatio||1;me.width=D.current.offsetWidth*$e,me.height=D.current.offsetHeight*$e;const bt=me.getContext("2d");bt&&bt.scale($e,$e)};Be();const Ye=new ResizeObserver(Be);return Ye.observe(D.current),()=>Ye.disconnect()},[R.id,r]),P.useEffect(()=>{const me=N.current;if(!me||!D.current)return;const Be=me.getContext("2d");if(!Be||(Be.save(),Be.setTransform(1,0,0,1,0,0),Be.clearRect(0,0,me.width,me.height),Be.restore(),!C&&!J))return;const Ye=(qe,Pn,ln,lr)=>{if(!(qe.length<2)){Be.beginPath(),Be.lineWidth=ln,Be.strokeStyle=Pn,Be.lineCap="round",Be.lineJoin="round",Be.globalAlpha=lr,Be.moveTo(qe[0].x,qe[0].y);for(let fs=1;fs<qe.length-1;fs++){const To={x:(qe[fs].x+qe[fs+1].x)/2,y:(qe[fs].y+qe[fs+1].y)/2};Be.quadraticCurveTo(qe[fs].x,qe[fs].y,To.x,To.y)}Be.lineTo(qe[qe.length-1].x,qe[qe.length-1].y),Be.stroke(),Be.globalAlpha=1}},$e=Array.from(D.current.children);(d[R.id]||[]).forEach(qe=>{let Pn=qe.points;if(qe.anchorIndex!==void 0&&$e[qe.anchorIndex]){const ln=$e[qe.anchorIndex].offsetTop;Pn=qe.points.map(lr=>({x:lr.x,y:lr.y+ln}))}Ye(Pn,qe.color,qe.width||3,qe.opacity!==void 0?qe.opacity:1)}),J&&pe.length>1&&a==="pen"&&Ye(pe,o,l,u)},[d,R.id,J,pe,o,l,u,a,C]);const wt=()=>{switch(i){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},Cn=M&&S&&$&&ue?{position:"fixed",left:Math.min($.x,ue.x),top:Math.min($.y,ue.y),width:Math.abs(ue.x-$.x),height:Math.abs(ue.y-$.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},Ar={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},ea=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,_o=e==="main"&&r==="double",BA=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${_o?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",ve=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${wt()} ${_o?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,Re=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return Q.jsxs("div",{className:Re,onPointerUp:Ae,children:[M&&S&&Q.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:ge,onMouseMove:An,onMouseUp:We,children:!$&&Q.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),M&&S&&$&&ue&&Q.jsx("div",{style:Cn,className:"capture-overlay-ui"}),Q.jsxs("div",{className:BA,children:[Q.jsx("div",{ref:D,className:ve,dangerouslySetInnerHTML:{__html:q},onContextMenu:me=>me.preventDefault()}),Q.jsx("canvas",{ref:N,className:ea,style:Ar,onPointerDown:ae,onPointerMove:Qe,onPointerUp:He,onPointerLeave:He})]}),k.show&&!S&&Q.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:k.top,left:k.left},children:[Q.jsxs("button",{onClick:de,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(i_,{size:14,className:"text-yellow-400"})," High"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:be,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(ghe,{size:14,className:"text-green-400"})," Memo"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:we,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(Wfe,{size:14,className:"text-blue-400"})," AI"]})]}),G.show&&Q.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:Q.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[Q.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),Q.jsx("textarea",{autoFocus:!0,value:G.text,onChange:me=>z(Be=>({...Be,text:me.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[Q.jsx("button",{onClick:()=>z({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),Q.jsx("button",{onClick:ye,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},C0=({text:n,query:e})=>{if(!e||!e.trim())return Q.jsx(Q.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`(${t})`,"gi"),r=n.split(i);return Q.jsx("span",{children:r.map((s,a)=>i.test(s)?Q.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},zX=({isOpen:n,onClose:e,side:t,title:i,children:r})=>Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:`fixed inset-0 bg-black/20 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),Q.jsx("aside",{className:`fixed md:relative z-50 h-full bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-xl md:shadow-none transition-transform duration-300 ease-in-out overflow-hidden flex flex-col ${t==="left"?"left-0 border-r":"right-0 border-l"} ${n?"translate-x-0":t==="left"?"-translate-x-full md:translate-x-0":"translate-x-full md:translate-x-0"} w-80 md:w-full`,children:Q.jsxs("div",{className:"w-80 md:w-96 flex flex-col h-full",children:[Q.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-800 md:hidden",children:[i&&Q.jsx("h2",{className:"font-semibold text-slate-800 dark:text-slate-200",children:i}),Q.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-500",children:Q.jsx(kW,{size:18})})]}),Q.jsx("div",{className:"flex-1 overflow-y-auto",children:r})]})})]}),lbe=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:i,goToChapter:r,hasStrokes:s,bookmarks:a}=up(),[o,l]=P.useState("contents");return Q.jsx(zX,{isOpen:n,onClose:e,side:"left",title:"Contents",children:Q.jsxs("div",{className:"flex flex-col h-full w-full",children:[Q.jsxs("div",{className:"flex p-2 gap-1 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800",children:[Q.jsxs("button",{onClick:()=>l("contents"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-medium transition-all ${o==="contents"?"bg-white dark:bg-slate-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[Q.jsx(Kfe,{size:14})," Chapters"]}),Q.jsxs("button",{onClick:()=>l("bookmarks"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-medium transition-all ${o==="bookmarks"?"bg-white dark:bg-slate-800 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[Q.jsx(n_,{size:14})," Favorites"]})]}),Q.jsxs("div",{className:"flex-1 overflow-y-auto py-2",children:[o==="contents"&&t.map((u,d)=>Q.jsx("button",{onClick:()=>{r(d),window.innerWidth<768&&e()},className:`w-full text-left px-5 py-3 text-sm transition-all border-l-2 ${d===i?"bg-blue-50 dark:bg-slate-800/50 border-blue-500 text-blue-700 dark:text-blue-400 font-medium":"border-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:Q.jsxs("div",{className:"flex items-center justify-between",children:[Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx("span",{className:`text-xs ${d===i?"text-blue-400":"text-slate-300"}`,children:String(d+1).padStart(2,"0")}),Q.jsx("span",{className:"line-clamp-1",children:u.title})]}),s(u.id)&&Q.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:Q.jsx(NW,{size:10})})]})},u.id)),o==="bookmarks"&&a.map(u=>{const d=t.find(h=>h.id===u);return d?Q.jsx("button",{onClick:()=>{r(t.findIndex(h=>h.id===u)),window.innerWidth<768&&e()},className:"w-full text-left px-5 py-3 text-sm transition-all border-l-2 border-transparent hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400",children:Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx(n_,{size:14,className:"text-amber-500 fill-amber-500"}),Q.jsx("span",{className:"line-clamp-1",children:d.title})]})},u):null}),o==="bookmarks"&&a.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(n_,{size:24,className:"mx-auto mb-2 text-slate-400"}),Q.jsx("p",{className:"text-sm",children:"No bookmarks"})]})]})]})})},ube=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:i,updateHighlight:r,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:b,chapters:C,aiChatHistory:E,addChatMessage:S,activeToolTab:I,setActiveToolTab:T,setCaptureMode:R,capturedImage:M,setCapturedImage:D,referenceDocument:N,uploadBook:H,searchQuery:k,setSearchQuery:K,performSearch:G}=up(),[z,J]=P.useState(""),[ne,pe]=P.useState(!1),[V,$]=P.useState(null),[ie,ue]=P.useState(null),[Ce,q]=P.useState(""),[Y,Ae]=P.useState(""),de=P.useRef(null),be=P.useRef(null);P.useEffect(()=>{V&&de.current&&de.current.innerHTML!==(V.content||"")&&(de.current.innerHTML=V.content||"")},[V==null?void 0:V.id]);const ye=()=>de.current?de.current.innerHTML:"",we=ve=>{if(I==="notebook"&&V){const Re=ye();$(me=>me?{...me,content:Re}:null)}T(ve),Ae("")},ft=ve=>{ue(ve.id),q(ve.note||"")},ae=ve=>{r(ve,Ce),ue(null),q("")},Qe=t.filter(ve=>ve.text.toLowerCase().includes(Y.toLowerCase())||ve.note&&ve.note.toLowerCase().includes(Y.toLowerCase())),He=o.filter(ve=>ve.title.toLowerCase().includes(Y.toLowerCase())||ve.content.toLowerCase().includes(Y.toLowerCase()));P.useEffect(()=>{if(M&&V){const ve=`<div class="capture-img-container"><img src="${M}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,Re=(V.content||"")+ve;$(me=>me?{...me,content:Re}:null),de.current&&(de.current.innerHTML=Re),D(null)}},[M,D]);const ge=async ve=>{if(ve.preventDefault(),!z.trim())return;const Re=z;S("user",Re),J(""),pe(!0),a();const me=await b$(Re,s.content.substring(0,1e3));S("model",me),pe(!1)},An=()=>{if(V){const ve=ye();V.title&&(V.id?u(V.id,V.title,ve):l(V.title,ve),$(null))}},We=(ve,Re=void 0)=>{document.execCommand(ve,!1,Re),de.current&&de.current.focus()},wt=(ve,Re,me)=>{ve.preventDefault(),We(Re,me)},Cn=ve=>{ve.preventDefault();const Re=ye();$(me=>me?{...me,content:Re}:null),setTimeout(()=>R(!0),50)},Ar=ve=>{ve.preventDefault();const Re=window.getSelection();if(Re&&Re.rangeCount>0){const Ye=Re.getRangeAt(0);de.current&&de.current.contains(Ye.commonAncestorContainer)?be.current=Ye.cloneRange():be.current=null}const me=parseInt(prompt("Rows:","2")||"0"),Be=parseInt(prompt("Columns:","2")||"0");if(de.current&&(de.current.focus(),be.current&&(Re==null||Re.removeAllRanges(),Re==null||Re.addRange(be.current)),me>0&&Be>0)){let Ye='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let $e=0;$e<me;$e++){Ye+="<tr>";for(let bt=0;bt<Be;bt++)Ye+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';Ye+="</tr>"}Ye+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,Ye)}},ea=ve=>{ve.target.files&&ve.target.files[0]&&H(ve.target.files[0])},_o=()=>{const ve=ye();$(Re=>Re?{...Re,content:ve}:null)},BA=()=>{if(!V)return;const ve=ye(),Re=window.open("","","height=600,width=800");Re&&(Re.document.write(`<html><head><title>${V.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${V.title}</h1>${ve}</body></html>`),Re.document.close(),Re.print())};return I==="search"&&G(k),Q.jsx(zX,{isOpen:n,onClose:e,side:"right",children:Q.jsxs("div",{className:"flex flex-col h-full w-full",children:[Q.jsxs("div",{className:"flex p-2 gap-1 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 overflow-x-auto no-scrollbar",children:[Q.jsx("button",{onClick:()=>we("ai"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${I==="ai"?"bg-white dark:bg-slate-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"AI",children:Q.jsx(YU,{size:14})}),Q.jsx("button",{onClick:()=>we("notes"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${I==="notes"?"bg-white dark:bg-slate-800 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Highlights",children:Q.jsx(i_,{size:14})}),Q.jsx("button",{onClick:()=>we("notebook"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${I==="notebook"?"bg-white dark:bg-slate-800 text-green-600 dark:text-green-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Notebook",children:Q.jsx(jD,{size:14})}),Q.jsx("button",{onClick:()=>we("reference"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${I==="reference"?"bg-white dark:bg-slate-800 text-purple-600 dark:text-purple-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Reference PDF",children:Q.jsx(RG,{size:14})}),Q.jsx("button",{onClick:()=>we("search"),className:`flex-1 min-w-[50px] flex items-center justify-center gap-1.5 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${I==="search"?"bg-white dark:bg-slate-800 text-red-600 dark:text-red-400 shadow-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Search",children:Q.jsx(r_,{size:14})})]}),Q.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[I==="ai"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[E.length===0&&Q.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 opacity-60",children:[Q.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-3",children:Q.jsx(YU,{className:"text-blue-500",size:24})}),Q.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:"AI Study Companion"})]}),E.map((ve,Re)=>Q.jsx("div",{className:`flex flex-col ${ve.role==="user"?"items-end":"items-start"}`,children:Q.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-3 text-sm shadow-sm whitespace-pre-wrap ${ve.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-700 rounded-bl-none"}`,children:ve.text})},Re)),ne&&Q.jsx("div",{className:"flex flex-col items-start",children:Q.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:Q.jsxs("div",{className:"flex space-x-1",children:[Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})})]}),Q.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800",children:Q.jsxs("form",{onSubmit:ge,className:"relative",children:[Q.jsx("input",{type:"text",value:z,onChange:ve=>J(ve.target.value),placeholder:"Ask AI...",className:"w-full pl-4 pr-10 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-sm focus:outline-none focus:border-blue-500 dark:focus:border-blue-500 dark:text-white transition-colors"}),Q.jsx("button",{type:"submit",disabled:!z.trim()||ne,className:"absolute right-2 top-2 p-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:Q.jsx(YU,{size:16})})]})})]}),I==="notes"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Filter highlights...",value:Y,onChange:ve=>Ae(ve.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(DG,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),Q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Qe.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(i_,{size:24,className:"mx-auto mb-2"}),Q.jsx("p",{className:"text-sm",children:"No highlights"})]}),Qe.map(ve=>Q.jsxs("div",{onClick:()=>{b(C.findIndex(Re=>Re.id===ve.chapterId)),v(ve.id)},className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[Q.jsx("span",{children:ve.chapterId==="reference-doc"?"Reference PDF":`Chapter ${C.findIndex(Re=>Re.id===ve.chapterId)+1}`}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("button",{onClick:Re=>{Re.stopPropagation(),ft(ve)},title:"Edit Note",children:Q.jsx(rhe,{size:12})}),Q.jsx("button",{onClick:Re=>{Re.stopPropagation(),i(ve.id)},title:"Delete",children:Q.jsx(NG,{size:12})})]})]}),Q.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',Q.jsx(C0,{text:ve.text,query:Y}),'"']}),ie===ve.id?Q.jsxs("div",{onClick:Re=>Re.stopPropagation(),className:"mt-2 animate-fade-in",children:[Q.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:Ce,onChange:Re=>q(Re.target.value),autoFocus:!0,rows:3}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[Q.jsx("button",{onClick:()=>ue(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),Q.jsx("button",{onClick:()=>ae(ve.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):ve.note?Q.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:Q.jsx(C0,{text:ve.note,query:Y})}):Q.jsxs("button",{onClick:Re=>{Re.stopPropagation(),ft(ve)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[Q.jsx(YD,{size:10})," Add Note"]})]},ve.id))]})]}),I==="notebook"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:V?Q.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[Q.jsx("button",{onClick:()=>$(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),Q.jsxs("button",{onClick:An,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[Q.jsx(QW,{size:14})," Save"]})]}),Q.jsx("div",{className:"px-4 pt-4 pb-2",children:Q.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:V.title||"",onChange:ve=>{const Re=ye();$(me=>me?{...me,title:ve.target.value,content:Re}:null)}})}),Q.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[Q.jsx("button",{onMouseDown:ve=>wt(ve,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(mfe,{size:14})}),Q.jsx("button",{onMouseDown:ve=>wt(ve,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx("span",{className:"italic",children:"I"})}),Q.jsx("button",{onMouseDown:ve=>wt(ve,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(i_,{size:14})}),Q.jsx("button",{onMouseDown:Ar,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(vhe,{size:14})}),Q.jsx("button",{onMouseDown:Cn,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:Q.jsx(Efe,{size:14})}),Q.jsx("button",{onClick:BA,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(uhe,{size:14})})]}),Q.jsx("div",{ref:de,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:_o},V.id)]}):Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[Q.jsx(Bhe,{size:14}),Q.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:ea})]}),Q.jsxs("button",{onClick:()=>$({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[Q.jsx(YD,{size:14})," New"]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search notes...",value:Y,onChange:ve=>Ae(ve.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(DG,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),Q.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[He.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(jD,{size:32,className:"mx-auto text-slate-300 mb-2"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),He.map(ve=>Q.jsxs("div",{onClick:()=>$(ve),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-1",children:[Q.jsx("h4",{className:"font-semibold text-sm",children:Q.jsx(C0,{text:ve.title,query:Y})}),Q.jsx("button",{onClick:Re=>{Re.stopPropagation(),d(ve.id)},children:Q.jsx(NG,{size:12,"text-slate-300":!0})})]}),Q.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:Q.jsx(C0,{text:ve.content.replace(/<[^>]+>/g," "),query:Y})})]},ve.id))]})]})}),I==="reference"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:N?Q.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:Q.jsx(Abe,{customChapter:N,variant:"side"})}):Q.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[Q.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:Q.jsx(RG,{size:32,className:"text-slate-400"})}),Q.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),Q.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",Q.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",Q.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),Q.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Q.jsx(WD,{size:16}),Q.jsx("span",{children:"Upload PDF"}),Q.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:ea})]})]})}),I==="search"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[Q.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:k,onChange:ve=>K(ve.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),Q.jsx(r_,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),Q.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:k.length>1?I==="search"&&G(k).length>0?G(k).map(ve=>Q.jsxs("div",{onClick:()=>{if(ve.type==="note"){const Re=o.find(me=>`note-${me.id}`===ve.id);Re&&($(Re),T("notebook"))}else{const Re=C.findIndex(me=>me.id===ve.chapterId);Re!==-1&&(b(Re),ve.type==="highlight"&&v(ve.id.replace("hl-","")))}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Q.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${ve.type==="chapter"?"bg-blue-100 text-blue-600":ve.type==="highlight"?"bg-yellow-100 text-yellow-600":"bg-green-100 text-green-600"}`,children:ve.type}),Q.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:ve.title})]}),Q.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:Q.jsx(C0,{text:ve.contentSnippet,query:k})})]},ve.id)):Q.jsx("div",{className:"text-center py-10 opacity-50",children:Q.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',k,'"']})}):Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(r_,{size:24,className:"mx-auto mb-2 text-slate-300"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})})},cbe=()=>{const[n,e]=P.useState(!0),{isToolsOpen:t,setToolsOpen:i}=up(),[r,s]=P.useState(300),[a,o]=P.useState(350),[l,u]=P.useState(!1),[d,h]=P.useState(!1),g=P.useRef(null);P.useEffect(()=>{const C=()=>{window.innerWidth<1024?(e(!1),i(!1)):(e(!0),i(!0))};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[i]),P.useEffect(()=>{const C=S=>{if(!g.current)return;(l||d)&&S.preventDefault();const I=g.current.getBoundingClientRect();if(l){const T=S.clientX-I.left;T>200&&T<500&&s(T)}if(d){const T=I.right-S.clientX;T>280&&T<600&&o(T)}},E=()=>{u(!1),h(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(l||d)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",C),window.addEventListener("mouseup",E)),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",E),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[l,d]);const v=()=>e(!n);return Q.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 transition-colors duration-200 font-sans overflow-hidden",children:[Q.jsx(OW,{toggleSidebar:v,isSidebarOpen:n}),Q.jsxs("div",{ref:g,className:"flex flex-1 pt-16 overflow-auto relative",children:[Q.jsxs("div",{className:`relative flex-shrink-0 transition-[width] duration-100 ease-linear ${n?"border-r border-slate-200 dark:border-slate-800":"w-0 border-none"}`,style:{width:n?window.innerWidth<768?"0px":`${r}px`:"0px"},children:[Q.jsx("div",{className:"h-full w-full overflow-hidden",children:Q.jsx(lbe,{isOpen:n,onClose:()=>e(!1)})}),n&&window.innerWidth>=768&&Q.jsx("div",{className:"absolute top-0 right-[-4px] w-2 h-full cursor-col-resize z-50 flex items-center justify-center group hover:bg-blue-500/10 transition-colors",onMouseDown:()=>u(!0),children:Q.jsx("div",{className:"w-[1px] h-8 bg-slate-300 dark:bg-slate-700 group-hover:bg-blue-400"})})]}),Q.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-white dark:bg-slate-950 relative z-0",children:[Q.jsx("div",{className:"mx-auto min_h_[calc(100vh-12rem)] test",children:Q.jsx(Dge,{file:"/campusbook-viewer-ai/pdf/test2.pdf"})}),Q.jsx("div",{className:"sticky bottom-0 z-30 w-full",children:Q.jsx(Lge,{})})]}),Q.jsxs("div",{className:`relative flex-shrink-0 transition-[width] duration-100 ease-linear ${t?"border-l border-slate-200 dark:border-slate-800":"w-0 border-none"}`,style:{width:t?window.innerWidth<768?"0px":`${a}px`:"0px"},children:[t&&window.innerWidth>=768&&Q.jsx("div",{className:"absolute top-0 left-[-4px] w-2 h-full cursor-col-resize z-50 flex items-center justify-center group hover:bg-blue-500/10 transition-colors",onMouseDown:()=>h(!0),children:Q.jsx("div",{className:"w-[1px] h-8 bg-slate-300 dark:bg-slate-700 group-hover:bg-blue-400"})}),Q.jsx("div",{className:"h-full w-full overflow-hidden",children:Q.jsx(ube,{isOpen:t,onClose:()=>i(!1)})})]})]})]})};function qX(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=qX(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function bn(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=qX(n))&&(i&&(i+=" "),i+=e);return i}var dbe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kQ(n){if(typeof n!="string")return!1;var e=dbe;return e.includes(n)}var fbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hbe=new Set(fbe);function $X(n){return typeof n!="string"?!1:hbe.has(n)}function jX(n){return typeof n=="string"&&n.startsWith("data-")}function _d(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&($X(t)||jX(t))&&(e[t]=n[t]);return e}function OQ(n){if(n==null)return null;if(P.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return _d(e)}return typeof n=="object"&&!Array.isArray(n)?_d(n):null}function Ga(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&($X(t)||jX(t)||kQ(t))&&(e[t]=n[t]);return e}var pbe=["children","width","height","viewBox","className","style","title","desc"];function rN(){return rN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rN.apply(null,arguments)}function gbe(n,e){if(n==null)return{};var t,i,r=mbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function mbe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var WX=P.forwardRef((n,e)=>{var{children:t,width:i,height:r,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=gbe(n,pbe),h=s||{width:i,height:r,x:0,y:0},g=bn("recharts-surface",a);return P.createElement("svg",rN({},Ga(d),{className:g,width:i,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),P.createElement("title",null,l),P.createElement("desc",null,u),t)}),vbe=["children","className"];function sN(){return sN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sN.apply(null,arguments)}function ybe(n,e){if(n==null)return{};var t,i,r=wbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function wbe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var au=P.forwardRef((n,e)=>{var{children:t,className:i}=n,r=ybe(n,vbe),s=bn("recharts-layer",i);return P.createElement("g",sN({className:s},Ga(r),{ref:e}),t)}),bbe=P.createContext(null);function fn(n){return function(){return n}}const YX=Math.cos,eT=Math.sin,So=Math.sqrt,tT=Math.PI,D1=2*tT,aN=Math.PI,oN=2*aN,Af=1e-6,Cbe=oN-Af;function XX(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Bbe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return XX;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class Ebe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?XX:Bbe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,a){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=i-e,u=r-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>Af)if(!(Math.abs(h*l-u*d)>Af)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=i-a,b=r-o,C=l*l+u*u,E=v*v+b*b,S=Math.sqrt(C),I=Math.sqrt(g),T=s*Math.tan((aN-Math.acos((C+g-E)/(2*S*I)))/2),R=T/I,M=T/S;Math.abs(R-1)>Af&&this._append`L${e+R*d},${t+R*h}`,this._append`A${s},${s},0,0,${+(h*v>d*b)},${this._x1=e+M*l},${this._y1=t+M*u}`}}arc(e,t,i,r,s,a){if(e=+e,t=+t,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),u=e+o,d=t+l,h=1^a,g=a?r-s:s-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Af||Math.abs(this._y1-d)>Af)&&this._append`L${u},${d}`,i&&(g<0&&(g=g%oN+oN),g>Cbe?this._append`A${i},${i},0,1,${h},${e-o},${t-l}A${i},${i},0,1,${h},${this._x1=u},${this._y1=d}`:g>Af&&this._append`A${i},${i},0,${+(g>=aN)},${h},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function HQ(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new Ebe(e)}function VQ(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function JX(n){this._context=n}JX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function L1(n){return new JX(n)}function ZX(n){return n[0]}function e9(n){return n[1]}function t9(n,e){var t=fn(!0),i=null,r=L1,s=null,a=HQ(o);n=typeof n=="function"?n:n===void 0?ZX:fn(n),e=typeof e=="function"?e:e===void 0?e9:fn(e);function o(l){var u,d=(l=VQ(l)).length,h,g=!1,v;for(i==null&&(s=r(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:fn(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:fn(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:fn(!!l),o):t},o.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),o):i},o}function Zx(n,e,t){var i=null,r=fn(!0),s=null,a=L1,o=null,l=HQ(u);n=typeof n=="function"?n:n===void 0?ZX:fn(+n),e=typeof e=="function"?e:fn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?e9:fn(+t);function u(h){var g,v,b,C=(h=VQ(h)).length,E,S=!1,I,T=new Array(C),R=new Array(C);for(s==null&&(o=a(I=l())),g=0;g<=C;++g){if(!(g<C&&r(E=h[g],g,h))===S)if(S=!S)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=v;--b)o.point(T[b],R[b]);o.lineEnd(),o.areaEnd()}S&&(T[g]=+n(E,g,h),R[g]=+e(E,g,h),o.point(i?+i(E,g,h):T[g],t?+t(E,g,h):R[g]))}if(I)return o=null,I+""||null}function d(){return t9().defined(r).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:fn(+h),i=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:fn(+h),u):n},u.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:fn(+h),u):i},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:fn(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:fn(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:fn(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:fn(!!h),u):r},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class n9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function xbe(n){return new n9(n,!0)}function Sbe(n){return new n9(n,!1)}const GQ={draw(n,e){const t=So(e/tT);n.moveTo(t,0),n.arc(0,0,t,0,D1)}},_be={draw(n,e){const t=So(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},i9=So(1/3),Tbe=i9*2,Ibe={draw(n,e){const t=So(e/Tbe),i=t*i9;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},Fbe={draw(n,e){const t=So(e),i=-t/2;n.rect(i,i,t,t)}},Ube=.8908130915292852,r9=eT(tT/10)/eT(7*tT/10),Mbe=eT(D1/10)*r9,Pbe=-YX(D1/10)*r9,Rbe={draw(n,e){const t=So(e*Ube),i=Mbe*t,r=Pbe*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const a=D1*s/5,o=YX(a),l=eT(a);n.lineTo(l*t,-o*t),n.lineTo(o*i-l*r,l*i+o*r)}n.closePath()}},xM=So(3),Dbe={draw(n,e){const t=-So(e/(xM*3));n.moveTo(0,t*2),n.lineTo(-xM*t,-t),n.lineTo(xM*t,-t),n.closePath()}},ha=-.5,pa=So(3)/2,AN=1/So(12),Lbe=(AN/2+1)*3,Nbe={draw(n,e){const t=So(e/Lbe),i=t/2,r=t*AN,s=i,a=t*AN+t,o=-s,l=a;n.moveTo(i,r),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(ha*i-pa*r,pa*i+ha*r),n.lineTo(ha*s-pa*a,pa*s+ha*a),n.lineTo(ha*o-pa*l,pa*o+ha*l),n.lineTo(ha*i+pa*r,ha*r-pa*i),n.lineTo(ha*s+pa*a,ha*a-pa*s),n.lineTo(ha*o+pa*l,ha*l-pa*o),n.closePath()}};function Qbe(n,e){let t=null,i=HQ(r);n=typeof n=="function"?n:fn(n||GQ),e=typeof e=="function"?e:fn(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:fn(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:fn(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function nT(){}function iT(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function s9(n){this._context=n}s9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function kbe(n){return new s9(n)}function a9(n){this._context=n}a9.prototype={areaStart:nT,areaEnd:nT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:iT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Obe(n){return new a9(n)}function o9(n){this._context=n}o9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:iT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Hbe(n){return new o9(n)}function A9(n){this._context=n}A9.prototype={areaStart:nT,areaEnd:nT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function Vbe(n){return new A9(n)}function mz(n){return n<0?-1:1}function vz(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),a=(t-n._y1)/(r||i<0&&-0),o=(s*r+a*i)/(i+r);return(mz(s)+mz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function yz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function SM(n,e,t){var i=n._x0,r=n._y0,s=n._x1,a=n._y1,o=(s-i)/3;n._context.bezierCurveTo(i+o,r+o*e,s-o,a-o*t,s,a)}function rT(n){this._context=n}rT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SM(this,this._t0,yz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,SM(this,yz(this,t=vz(this,n,e)),t);break;default:SM(this,this._t0,t=vz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function l9(n){this._context=new u9(n)}(l9.prototype=Object.create(rT.prototype)).point=function(n,e){rT.prototype.point.call(this,e,n)};function u9(n){this._context=n}u9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function Gbe(n){return new rT(n)}function Kbe(n){return new l9(n)}function c9(n){this._context=n}c9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=wz(n),r=wz(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function wz(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),a=new Array(t);for(r[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,a[e]-=i*a[e-1];for(r[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(a[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function zbe(n){return new c9(n)}function N1(n,e){this._context=n,this._t=e}N1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function qbe(n){return new N1(n,.5)}function $be(n){return new N1(n,0)}function jbe(n){return new N1(n,1)}function Kv(n,e){if((a=n.length)>1)for(var t=1,i,r,s=n[e[0]],a,o=s.length;t<a;++t)for(r=s,s=n[e[t]],i=0;i<o;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function lN(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function Wbe(n,e){return n[e]}function Ybe(n){const e=[];return e.key=n,e}function Xbe(){var n=fn([]),e=lN,t=Kv,i=Wbe;function r(s){var a=Array.from(n.apply(this,arguments),Ybe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+i(h,a[o].key,u,s)]).data=h;for(o=0,d=VQ(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:fn(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:fn(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?lN:typeof s=="function"?s:fn(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??Kv,r):t},r}function Jbe(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,a;r<s;++r){for(a=t=0;t<i;++t)a+=n[t][r][1]||0;if(a)for(t=0;t<i;++t)n[t][r][1]/=a}Kv(n,e)}}function Zbe(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var a=0,o=0;a<r;++a)o+=n[a][t][1]||0;i[t][1]+=i[t][0]=-o/2}Kv(n,e)}}function eCe(n,e){if(!(!((a=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,a;i<s;++i){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[i][1]||0,g=d[i-1][1]||0,v=(h-g)/2,b=0;b<o;++b){var C=n[e[b]],E=C[i][1]||0,S=C[i-1][1]||0;v+=E-S}l+=h,u+=v*h}r[i-1][1]+=r[i-1][0]=t,l&&(t-=u/l)}r[i-1][1]+=r[i-1][0]=t,Kv(n,e)}}var _M={},TM={},bz;function tCe(){return bz||(bz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(TM)),TM}var IM={},Cz;function d9(){return Cz||(Cz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(IM)),IM}var FM={},Bz;function KQ(){return Bz||(Bz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;return typeof t=="string"||typeof t=="symbol"?t:Object.is((i=t==null?void 0:t.valueOf)==null?void 0:i.call(t),-0)?"-0":String(t)}n.toKey=e})(FM)),FM}var UM={},MM={},Ez;function nCe(){return Ez||(Ez=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const i=String(t);return i==="0"&&Object.is(Number(t),-0)?"-0":i}n.toString=e})(MM)),MM}var xz;function zQ(){return xz||(xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=nCe(),t=KQ();function i(r){if(Array.isArray(r))return r.map(t.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const s=[],a=r.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(r.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=r[o];u?h==="\\"&&o+1<a?(o++,l+=r[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=i})(UM)),UM}var Sz;function qQ(){return Sz||(Sz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=tCe(),t=d9(),i=KQ(),r=zQ();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,r.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=i.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(_M)),_M}var PM,_z;function iCe(){return _z||(_z=1,PM=qQ().get),PM}var rCe=iCe();const zv=wA(rCe);var $s=n=>n===0?0:n>0?1:-1,pA=n=>typeof n=="number"&&n!=+n,ou=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,Ke=n=>(typeof n=="number"||n instanceof Number)&&!pA(n),gA=n=>Ke(n)||typeof n=="string",sCe=0,Dw=n=>{var e=++sCe;return"".concat(n||"").concat(e)},wo=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(e)&&typeof e!="string")return i;var s;if(ou(e)){if(t==null)return i;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return pA(s)&&(s=i),r&&t!=null&&s>t&&(s=t),s},f9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},i=0;i<e;i++)if(!t[n[i]])t[n[i]]=!0;else return!0;return!1};function nr(n,e,t){return Ke(n)&&Ke(e)?n+t*(e-n):e}function aCe(n,e,t){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):zv(i,e))===t)}var Qi=n=>n===null||typeof n>"u",DB=n=>Qi(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function oCe(n){return n!=null}function LB(){}var ACe=["type","size","sizeType"];function uN(){return uN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uN.apply(null,arguments)}function Tz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Iz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(t),!0).forEach(function(i){lCe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lCe(n,e,t){return(e=uCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uCe(n){var e=cCe(n,"string");return typeof e=="symbol"?e:e+""}function cCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dCe(n,e){if(n==null)return{};var t,i,r=fCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function fCe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var h9={symbolCircle:GQ,symbolCross:_be,symbolDiamond:Ibe,symbolSquare:Fbe,symbolStar:Rbe,symbolTriangle:Dbe,symbolWye:Nbe},hCe=Math.PI/180,pCe=n=>{var e="symbol".concat(DB(n));return h9[e]||GQ},gCe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*hCe;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},mCe=(n,e)=>{h9["symbol".concat(DB(n))]=e},p9=n=>{var{type:e="circle",size:t=64,sizeType:i="area"}=n,r=dCe(n,ACe),s=Iz(Iz({},r),{},{type:e,size:t,sizeType:i}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=pCe(a),v=Qbe().type(g).size(gCe(t,i,a)),b=v();if(b!==null)return b},{className:l,cx:u,cy:d}=s,h=Ga(s);return Ke(u)&&Ke(d)&&Ke(t)?P.createElement("path",uN({},h,{className:bn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};p9.registerSymbol=mCe;var g9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,vCe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(P.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var i={};return Object.keys(t).forEach(r=>{kQ(r)&&(i[r]=(s=>t[r](t,s)))}),i},yCe=(n,e,t)=>i=>(n(e,t,i),null),$Q=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];kQ(r)&&typeof s=="function"&&(i||(i={}),i[r]=yCe(s,e,t))}),i};function Fz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wCe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(t),!0).forEach(function(i){bCe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function bCe(n,e,t){return(e=CCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CCe(n){var e=BCe(n,"string");return typeof e=="symbol"?e:e+""}function BCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qa(n,e){var t=wCe({},n),i=e,r=Object.keys(e),s=r.reduce((a,o)=>(a[o]===void 0&&i[o]!==void 0&&(a[o]=i[o]),a),t);return s}var RM={},DM={},Uz;function ECe(){return Uz||(Uz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){const r=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=i(a);r.has(o)||r.set(o,a)}return Array.from(r.values())}n.uniqBy=e})(DM)),DM}var LM={},Mz;function m9(){return Mz||(Mz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(LM)),LM}var NM={},QM={},kM={},Pz;function xCe(){return Pz||(Pz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(kM)),kM}var Rz;function jQ(){return Rz||(Rz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=xCe();function t(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=t})(QM)),QM}var OM={},Dz;function SCe(){return Dz||(Dz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(OM)),OM}var Lz;function _Ce(){return Lz||(Lz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=jQ(),t=SCe();function i(r){return t.isObjectLike(r)&&e.isArrayLike(r)}n.isArrayLikeObject=i})(NM)),NM}var HM={},VM={},Nz;function TCe(){return Nz||(Nz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=qQ();function t(i){return function(r){return e.get(r,i)}}n.property=t})(VM)),VM}var GM={},KM={},zM={},qM={},Qz;function v9(){return Qz||(Qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(qM)),qM}var $M={},kz;function y9(){return kz||(kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})($M)),$M}var jM={},Oz;function w9(){return Oz||(Oz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return t===i||Number.isNaN(t)&&Number.isNaN(i)}n.eq=e})(jM)),jM}var Hz;function ICe(){return Hz||(Hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=v9(),t=y9(),i=w9();function r(d,h,g){return typeof g!="function"?r(d,h,()=>{}):s(d,h,function v(b,C,E,S,I,T){const R=g(b,C,E,S,I,T);return R!==void 0?!!R:s(b,C,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):i.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const b=Object.keys(h);if(d==null)return b.length===0;if(b.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let C=0;C<b.length;C++){const E=b[C];if(!t.isPrimitive(d)&&!(E in d)||h[E]===void 0&&d[E]!==void 0||h[E]===null&&d[E]!==null||!g(d[E],h[E],E,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,C]of h.entries()){const E=d.get(b);if(g(E,C,b,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let C=0;C<h.length;C++){const E=h[C];let S=!1;for(let I=0;I<d.length;I++){if(b.has(I))continue;const T=d[I];let R=!1;if(g(T,E,C,d,h,v)&&(R=!0),R){b.add(I),S=!0;break}}if(!S)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=r,n.isSetMatch=u})(zM)),zM}var Vz;function b9(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ICe();function t(i,r){return e.isMatchWith(i,r,()=>{})}n.isMatch=t})(KM)),KM}var WM={},YM={},XM={},Gz;function FCe(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(i=>Object.prototype.propertyIsEnumerable.call(t,i))}n.getSymbols=e})(XM)),XM}var JM={},Kz;function C9(){return Kz||(Kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(JM)),JM}var ZM={},zz;function B9(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",C="[object DataView]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",R="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",N="[object Int32Array]",H="[object BigInt64Array]",k="[object Float32Array]",K="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=R,n.booleanTag=r,n.dataViewTag=C,n.dateTag=o,n.errorTag=b,n.float32ArrayTag=k,n.float64ArrayTag=K,n.functionTag=h,n.int16ArrayTag=D,n.int32ArrayTag=N,n.int8ArrayTag=M,n.mapTag=l,n.numberTag=i,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=E,n.uint8ClampedArrayTag=S})(ZM)),ZM}var eP={},qz;function UCe(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(eP)),eP}var $z;function E9(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=FCe(),t=C9(),i=B9(),r=y9(),s=UCe();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,b=void 0){const C=b==null?void 0:b(d,h,g,v);if(C!==void 0)return C;if(r.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const E=new Array(d.length);v.set(d,E);for(let S=0;S<d.length;S++)E[S]=o(d[S],S,g,v,b);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;v.set(d,E);for(const[S,I]of d)E.set(S,o(I,S,g,v,b));return E}if(d instanceof Set){const E=new Set;v.set(d,E);for(const S of d)E.add(o(S,void 0,g,v,b));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,E);for(let S=0;S<d.length;S++)E[S]=o(d[S],S,g,v,b);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,E),l(E,d,g,v,b),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return v.set(d,E),l(E,d,g,v,b),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof Error){const E=new d.constructor;return v.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,l(E,d,g,v,b),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof Number){const E=new Number(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof String){const E=new String(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(typeof d=="object"&&u(d)){const E=Object.create(Object.getPrototypeOf(d));return v.set(d,E),l(E,d,g,v,b),E}return d}function l(d,h,g=d,v,b){const C=[...Object.keys(h),...e.getSymbols(h)];for(let E=0;E<C.length;E++){const S=C[E],I=Object.getOwnPropertyDescriptor(d,S);(I==null||I.writable)&&(d[S]=o(h[S],S,g,v,b))}}function u(d){switch(t.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(YM)),YM}var jz;function MCe(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=E9();function t(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=t})(WM)),WM}var Wz;function PCe(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=b9(),t=MCe();function i(r){return r=t.cloneDeep(r),s=>e.isMatch(s,r)}n.matches=i})(GM)),GM}var tP={},nP={},iP={},Yz;function RCe(){return Yz||(Yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=E9(),t=B9();function i(r,s){return e.cloneDeepWith(r,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new r.constructor(r==null?void 0:r.valueOf());return e.copyProperties(h,r),h}case t.argumentsTag:{const h={};return e.copyProperties(h,r),h.length=r.length,h[Symbol.iterator]=r[Symbol.iterator],h}default:return}})}n.cloneDeepWith=i})(iP)),iP}var Xz;function DCe(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=RCe();function t(i){return e.cloneDeepWith(i)}n.cloneDeep=t})(nP)),nP}var rP={},sP={},Jz;function x9(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=t})(sP)),sP}var aP={},Zz;function LCe(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=C9();function t(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=t})(aP)),aP}var e5;function NCe(){return e5||(e5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=d9(),t=x9(),i=LCe(),r=zQ();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=r.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||i.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(rP)),rP}var t5;function QCe(){return t5||(t5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=b9(),t=KQ(),i=DCe(),r=qQ(),s=NCe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=i.cloneDeep(l),function(u){const d=r.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(tP)),tP}var n5;function kCe(){return n5||(n5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=m9(),t=TCe(),i=PCe(),r=QCe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?r.matchesProperty(a[0],a[1]):i.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(HM)),HM}var i5;function OCe(){return i5||(i5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ECe(),t=m9(),i=_Ce(),r=kCe();function s(a,o=t.identity){return i.isArrayLikeObject(a)?e.uniqBy(Array.from(a),r.iteratee(o)):[]}n.uniqBy=s})(RM)),RM}var oP,r5;function HCe(){return r5||(r5=1,oP=OCe().uniqBy),oP}var VCe=HCe();const s5=wA(VCe);function GCe(n,e,t){return e===!0?s5(n,t):typeof e=="function"?s5(n,e):n}var AP={exports:{}},lP={},uP={exports:{}},cP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5;function KCe(){if(a5)return cP;a5=1;var n=iy();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),b=i({inst:{value:v,getSnapshot:g}}),C=b[0].inst,E=b[1];return s(function(){C.value=v,C.getSnapshot=g,l(C)&&E({inst:C})},[h,v,g]),r(function(){return l(C)&&E({inst:C}),h(function(){l(C)&&E({inst:C})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return cP.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,cP}var o5;function zCe(){return o5||(o5=1,uP.exports=KCe()),uP.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A5;function qCe(){if(A5)return lP;A5=1;var n=iy(),e=zCe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return lP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var b=s(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=o(function(){function S(D){if(!I){if(I=!0,T=D,D=g(D),v!==void 0&&C.hasValue){var N=C.value;if(v(N,D))return R=N}return R=D}if(N=R,i(T,D))return N;var H=g(D);return v!==void 0&&v(N,H)?(T=D,N):(T=D,R=H)}var I=!1,T,R,M=h===void 0?null:h;return[function(){return S(d())},M===null?void 0:function(){return S(M())}]},[d,h,g,v]);var E=r(u,b[0],b[1]);return a(function(){C.hasValue=!0,C.value=E},[E]),l(E),E},lP}var l5;function $Ce(){return l5||(l5=1,AP.exports=qCe()),AP.exports}var jCe=$Ce(),WQ=P.createContext(null),WCe=n=>n,Zn=()=>{var n=P.useContext(WQ);return n?n.store.dispatch:WCe},b_=()=>{},YCe=()=>b_,XCe=(n,e)=>n===e;function Ve(n){var e=P.useContext(WQ);return jCe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:YCe,e?e.store.getState:b_,e?e.store.getState:b_,e?n:b_,XCe)}function JCe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function ZCe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function eBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var u5=n=>Array.isArray(n)?n:[n];function tBe(n){const e=Array.isArray(n[0])?n[0]:n;return eBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function nBe(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}var iBe=class{constructor(n){this.value=n}deref(){return this.value}},rBe=typeof WeakRef<"u"?WeakRef:iBe,sBe=0,c5=1;function eS(){return{s:sBe,v:void 0,o:null,p:null}}function S9(n,e={}){let t=eS();const{resultEqualityCheck:i}=e;let r,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let C=o.o;C===null&&(o.o=C=new WeakMap);const E=C.get(b);E===void 0?(o=eS(),C.set(b,o)):o=E}else{let C=o.p;C===null&&(o.p=C=new Map);const E=C.get(b);E===void 0?(o=eS(),C.set(b,o)):o=E}}const u=o;let d;if(o.s===c5)d=o.v;else if(d=n.apply(null,arguments),s++,i){const g=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;g!=null&&i(g,d)&&(d=g,s!==0&&s--),r=typeof d=="object"&&d!==null||typeof d=="function"?new rBe(d):d}return u.s=c5,u.v=d,d}return a.clearCache=()=>{t=eS(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function aBe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,a=0,o,l={},u=r.pop();typeof u=="object"&&(l=u,u=r.pop()),JCe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=S9,argsMemoizeOptions:b=[]}=d,C=u5(g),E=u5(b),S=tBe(r),I=h(function(){return s++,u.apply(null,arguments)},...C),T=v(function(){a++;const M=nBe(S,arguments);return o=I.apply(null,M),o},...E);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(i,{withTypes:()=>i}),i}var se=aBe(S9),oBe=Object.assign((n,e=se)=>{ZCe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>oBe}),dP={},fP={},hP={},d5;function ABe(){return d5||(d5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const t=(i,r,s)=>{if(i!==r){const a=e(i),o=e(r);if(a===o&&a===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(hP)),hP}var pP={},gP={},f5;function _9(){return f5||(f5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(gP)),gP}var h5;function lBe(){return h5||(h5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=r})(pP)),pP}var p5;function uBe(){return p5||(p5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ABe(),t=lBe(),i=zQ();function r(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,b)=>{let C=v;for(let E=0;E<b.length&&C!=null;++E)C=C[b[E]];return C},d=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:u(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?u(b,v):typeof b=="object"?b[v]:b,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:i.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(b=>d(b,v))})).slice().sort((v,b)=>{for(let C=0;C<h.length;C++){const E=e.compareValues(v.criteria[C],b.criteria[C],o[C]);if(E!==0)return E}return 0}).map(v=>v.original)}n.orderBy=r})(fP)),fP}var mP={},g5;function cBe(){return g5||(g5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i=1){const r=[],s=Math.floor(i),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):r.push(d)}};return a(t,0),r}n.flatten=e})(mP)),mP}var vP={},m5;function T9(){return m5||(m5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x9(),t=jQ(),i=v9(),r=w9();function s(a,o,l){return i.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?r.eq(l[o],a):!1}n.isIterateeCall=s})(vP)),vP}var v5;function dBe(){return v5||(v5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=uBe(),t=cBe(),i=T9();function r(s,...a){const o=a.length;return o>1&&i.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&i.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=r})(dP)),dP}var yP,y5;function fBe(){return y5||(y5=1,yP=dBe().sortBy),yP}var hBe=fBe();const Q1=wA(hBe);var I9=n=>n.legend.settings,pBe=n=>n.legend.size,gBe=n=>n.legend.payload;se([gBe,I9],(n,e)=>{var{itemSorter:t}=e,i=n.flat(1);return t?Q1(i,t):i});var tS=1;function mBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=P.useState({height:0,left:0,top:0,width:0}),i=P.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>tS||Math.abs(a.left-e.left)>tS||Math.abs(a.top-e.top)>tS||Math.abs(a.width-e.width)>tS)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function Ji(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var vBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",w5=vBe,wP=()=>Math.random().toString(36).substring(7).split("").join("."),yBe={INIT:`@@redux/INIT${wP()}`,REPLACE:`@@redux/REPLACE${wP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wP()}`},sT=yBe;function YQ(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function F9(n,e,t){if(typeof n!="function")throw new Error(Ji(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ji(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ji(1));return t(F9)(n,e)}let i=n,r=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((E,S)=>{a.set(S,E)}))}function d(){if(l)throw new Error(Ji(3));return r}function h(E){if(typeof E!="function")throw new Error(Ji(4));if(l)throw new Error(Ji(5));let S=!0;u();const I=o++;return a.set(I,E),function(){if(S){if(l)throw new Error(Ji(6));S=!1,u(),a.delete(I),s=null}}}function g(E){if(!YQ(E))throw new Error(Ji(7));if(typeof E.type>"u")throw new Error(Ji(8));if(typeof E.type!="string")throw new Error(Ji(17));if(l)throw new Error(Ji(9));try{l=!0,r=i(r,E)}finally{l=!1}return(s=a).forEach(I=>{I()}),E}function v(E){if(typeof E!="function")throw new Error(Ji(10));i=E,g({type:sT.REPLACE})}function b(){const E=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Ji(11));function I(){const R=S;R.next&&R.next(d())}return I(),{unsubscribe:E(I)}},[w5](){return this}}}return g({type:sT.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[w5]:b}}function wBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:sT.INIT})>"u")throw new Error(Ji(12));if(typeof t(void 0,{type:sT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ji(13))})}function U9(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const i=Object.keys(t);let r;try{wBe(t)}catch(s){r=s}return function(a={},o){if(r)throw r;let l=!1;const u={};for(let d=0;d<i.length;d++){const h=i[d],g=t[h],v=a[h],b=g(v,o);if(typeof b>"u")throw o&&o.type,new Error(Ji(14));u[h]=b,l=l||b!==v}return l=l||i.length!==Object.keys(a).length,l?u:a}}function aT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function bBe(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(Ji(15))};const a={getState:r.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=aT(...o)(r.dispatch),{...r,dispatch:s}}}function M9(n){return YQ(n)&&"type"in n&&typeof n.type=="string"}var P9=Symbol.for("immer-nothing"),b5=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function po(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var js=Object,qv=js.getPrototypeOf,oT="constructor",k1="prototype",cN="configurable",AT="enumerable",C_="writable",Lw="value",Au=n=>!!n&&!!n[Or];function bo(n){var e;return n?R9(n)||O1(n)||!!n[b5]||!!((e=n[oT])!=null&&e[b5])||H1(n)||V1(n):!1}var CBe=js[k1][oT].toString(),C5=new WeakMap;function R9(n){if(!n||!XQ(n))return!1;const e=qv(n);if(e===null||e===js[k1])return!0;const t=js.hasOwnProperty.call(e,oT)&&e[oT];if(t===Object)return!0;if(!Eg(t))return!1;let i=C5.get(t);return i===void 0&&(i=Function.toString.call(t),C5.set(t,i)),i===CBe}function NB(n,e,t=!0){QB(n)===0?(t?Reflect.ownKeys(n):js.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function QB(n){const e=n[Or];return e?e.type_:O1(n)?1:H1(n)?2:V1(n)?3:0}var B5=(n,e,t=QB(n))=>t===2?n.has(e):js[k1].hasOwnProperty.call(n,e),dN=(n,e,t=QB(n))=>t===2?n.get(e):n[e],lT=(n,e,t,i=QB(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function BBe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var O1=Array.isArray,H1=n=>n instanceof Map,V1=n=>n instanceof Set,XQ=n=>typeof n=="object",Eg=n=>typeof n=="function",bP=n=>typeof n=="boolean",XA=n=>n.copy_||n.base_,JQ=n=>n.modified_?n.copy_:n.base_;function fN(n,e){if(H1(n))return new Map(n);if(V1(n))return new Set(n);if(O1(n))return Array[k1].slice.call(n);const t=R9(n);if(e===!0||e==="class_only"&&!t){const i=js.getOwnPropertyDescriptors(n);delete i[Or];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o[C_]===!1&&(o[C_]=!0,o[cN]=!0),(o.get||o.set)&&(i[a]={[cN]:!0,[C_]:!0,[AT]:o[AT],[Lw]:n[a]})}return js.create(qv(n),i)}else{const i=qv(n);if(i!==null&&t)return{...n};const r=js.create(i);return js.assign(r,n)}}function ZQ(n,e=!1){return G1(n)||Au(n)||!bo(n)||(QB(n)>1&&js.defineProperties(n,{set:nS,add:nS,clear:nS,delete:nS}),js.freeze(n),e&&NB(n,(t,i)=>{ZQ(i,!0)},!1)),n}function EBe(){po(2)}var nS={[Lw]:EBe};function G1(n){return n===null||!XQ(n)?!0:js.isFrozen(n)}var uT="MapSet",hN="Patches",D9={};function $v(n){const e=D9[n];return e||po(0,n),e}var xBe=n=>!!D9[n],Nw,L9=()=>Nw,SBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:xBe(uT)?$v(uT):void 0});function E5(n,e){e&&(n.patchPlugin_=$v(hN),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function pN(n){gN(n),n.drafts_.forEach(_Be),n.drafts_=null}function gN(n){n===Nw&&(Nw=n.parent_)}var x5=n=>Nw=SBe(Nw,n);function _Be(n){const e=n[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function S5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[Or].modified_&&(pN(e),po(4)),bo(n)&&(n=_5(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[Or].base_,n,e)}else n=_5(e,t);return TBe(e,n,!0),pN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==P9?n:void 0}function _5(n,e){if(G1(e))return e;const t=e[Or];if(!t)return ek(e,n.handledSet_,n);if(!K1(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);k9(t,n)}return t.copy_}function TBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&ZQ(e,t)}function N9(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var K1=(n,e)=>n.scope_===e,IBe=[];function Q9(n,e,t,i){const r=XA(n),s=n.type_;if(i!==void 0&&dN(r,i,s)===e){lT(r,i,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;NB(r,(l,u)=>{if(Au(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??IBe;for(const o of a)lT(r,o,t,s)}function FBe(n,e,t){n.callbacks_.push(function(r){var o;const s=e;if(!s||!K1(s,r))return;(o=r.mapSetPlugin_)==null||o.fixSetContents(s);const a=JQ(s);Q9(n,s.draft_??s,a,t),k9(s,r)})}function k9(n,e){var i;if(n.modified_&&!n.finalized_&&(n.type_===3||(((i=n.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:r}=e;if(r){const s=r.getPath(n);s&&r.generatePatches_(n,s,e)}N9(n)}}function UBe(n,e,t){const{scope_:i}=n;if(Au(t)){const r=t[Or];K1(r,i)&&r.callbacks_.push(function(){B_(n);const a=JQ(r);Q9(n,t,a,e)})}else bo(t)&&n.callbacks_.push(function(){const s=XA(n);dN(s,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&ek(dN(n.copy_,e,n.type_),i.handledSet_,i)})}function ek(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Au(n)||e.has(n)||!bo(n)||G1(n)||(e.add(n),NB(n,(i,r)=>{if(Au(r)){const s=r[Or];if(K1(s,t)){const a=JQ(s);lT(n,i,a,n.type_),N9(s)}}else bo(r)&&ek(r,e,t)})),n}function MBe(n,e){const t=O1(n),i={type_:t?1:0,scope_:e?e.scope_:L9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=tk;t&&(r=[i],s=Qw);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,[o,i]}var tk={get(n,e){if(e===Or)return n;const t=XA(n);if(!B5(t,e,n.type_))return PBe(n,t,e);const i=t[e];if(n.finalized_||!bo(i))return i;if(i===CP(n.base_,e)){B_(n);const r=n.type_===1?+e:e,s=vN(n.scope_,i,n,r);return n.copy_[r]=s}return i},has(n,e){return e in XA(n)},ownKeys(n){return Reflect.ownKeys(XA(n))},set(n,e,t){const i=O9(XA(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=CP(XA(n),e),s=r==null?void 0:r[Or];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(BBe(t,r)&&(t!==void 0||B5(n.base_,e,n.type_)))return!0;B_(n),mN(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),UBe(n,e,t)),!0},deleteProperty(n,e){return B_(n),CP(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),mN(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=XA(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[C_]:!0,[cN]:n.type_!==1||e!=="length",[AT]:i[AT],[Lw]:t[e]}},defineProperty(){po(11)},getPrototypeOf(n){return qv(n.base_)},setPrototypeOf(){po(12)}},Qw={};NB(tk,(n,e)=>{Qw[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});Qw.deleteProperty=function(n,e){return Qw.set.call(this,n,e,void 0)};Qw.set=function(n,e,t){return tk.set.call(this,n[0],e,t,n[0])};function CP(n,e){const t=n[Or];return(t?XA(t):n)[e]}function PBe(n,e,t){var r;const i=O9(e,t);return i?Lw in i?i[Lw]:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function O9(n,e){if(!(e in n))return;let t=qv(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=qv(t)}}function mN(n){n.modified_||(n.modified_=!0,n.parent_&&mN(n.parent_))}function B_(n){n.copy_||(n.assigned_=new Map,n.copy_=fN(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var RBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,i,r)=>{if(Eg(t)&&!Eg(i)){const a=i;i=t;const o=this;return function(u=a,...d){return o.produce(u,h=>i.call(this,h,...d))}}Eg(i)||po(6),r!==void 0&&!Eg(r)&&po(7);let s;if(bo(t)){const a=x5(this),o=vN(a,t,void 0);let l=!0;try{s=i(o),l=!1}finally{l?pN(a):gN(a)}return E5(a,r),S5(s,a)}else if(!t||!XQ(t)){if(s=i(t),s===void 0&&(s=t),s===P9&&(s=void 0),this.autoFreeze_&&ZQ(s,!0),r){const a=[],o=[];$v(hN).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),r(a,o)}return s}else po(1,t)},this.produceWithPatches=(t,i)=>{if(Eg(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,s;return[this.produce(t,i,(o,l)=>{r=o,s=l}),r,s]},bP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),bP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),bP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){bo(e)||po(8),Au(e)&&(e=yo(e));const t=x5(this),i=vN(t,e,void 0);return i[Or].isManual_=!0,gN(t),i}finishDraft(e,t){const i=e&&e[Or];(!i||!i.isManual_)&&po(9);const{scope_:r}=i;return E5(r,t),S5(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const s=t[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(t=t.slice(i+1));const r=$v(hN).applyPatches_;return Au(e)?r(e,t):this.produce(e,s=>r(s,t))}};function vN(n,e,t,i){const[r,s]=H1(e)?$v(uT).proxyMap_(e,t):V1(e)?$v(uT).proxySet_(e,t):MBe(e,t);return((t==null?void 0:t.scope_)??L9()).drafts_.push(r),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=i,t&&i!==void 0?FBe(t,s,i):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),r}function yo(n){return Au(n)||po(10,n),H9(n)}function H9(n){if(!bo(n)||G1(n))return n;const e=n[Or];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=fN(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=fN(n,!0);return NB(t,(r,s)=>{lT(t,r,H9(s))},i),e&&(e.finalized_=!1),t}var DBe=new RBe,V9=DBe.produce;function G9(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var LBe=G9(),NBe=G9,QBe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?aT:aT.apply(null,arguments)};function Ka(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(Ws(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>M9(i)&&i.type===n,t}var K9=class dw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dw.prototype)}static get[Symbol.species](){return dw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dw(...e[0].concat(this)):new dw(...e.concat(this))}};function T5(n){return bo(n)?V9(n,()=>{}):n}function iS(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function kBe(n){return typeof n=="boolean"}var OBe=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let a=new K9;return t&&(kBe(t)?a.push(LBe):a.push(NBe(t.extraArgument))),a},z9="RTK_autoBatch",_n=()=>n=>({payload:n,meta:{[z9]:!0}}),I5=n=>e=>{setTimeout(e,n)},q9=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:I5(10):n.type==="callback"?n.queueNotification:I5(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const h=()=>r&&d(),g=i.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[z9]),s=!r,s&&(a||(a=!0,l(u))),i.dispatch(d)}finally{r=!0}}})},HBe=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new K9(n);return i&&r.push(q9(typeof i=="object"?i:void 0)),r};function VBe(n){const e=OBe(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(YQ(t))o=U9(t);else throw new Error(Ws(1));let l;typeof i=="function"?l=i(e):l=e();let u=aT;r&&(u=QBe({trace:!1,...typeof r=="object"&&r}));const d=bBe(...l),h=HBe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return F9(o,s,v)}function $9(n){const e={},t=[];let i;const r={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Ws(28));if(o in e)throw new Error(Ws(29));return e[o]=a,r},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),r},addMatcher(s,a){return t.push({matcher:s,reducer:a}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function GBe(n){return typeof n=="function"}function KBe(n,e){let[t,i,r]=$9(e),s;if(GBe(n))s=()=>T5(n());else{const o=T5(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...i.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[r]),u.reduce((d,h)=>{if(h)if(Au(d)){const v=h(d,l);return v===void 0?d:v}else{if(bo(d))return V9(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var zBe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qBe=(n=21)=>{let e="",t=n;for(;t--;)e+=zBe[Math.random()*64|0];return e},$Be=Symbol.for("rtk-slice-createasyncthunk");function jBe(n,e){return`${n}/${e}`}function WBe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[$Be];return function(r){const{name:s,reducerPath:a=s}=r;if(!s)throw new Error(Ws(11));const o=(typeof r.reducers=="function"?r.reducers(XBe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,M){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(Ws(12));if(D in u.sliceCaseReducersByType)throw new Error(Ws(13));return u.sliceCaseReducersByType[D]=M,d},addMatcher(R,M){return u.sliceMatchers.push({matcher:R,reducer:M}),d},exposeAction(R,M){return u.actionCreators[R]=M,d},exposeCaseReducer(R,M){return u.sliceCaseReducersByName[R]=M,d}};l.forEach(R=>{const M=o[R],D={reducerName:R,type:jBe(s,R),createNotation:typeof r.reducers=="function"};ZBe(M)?tEe(D,M,d,e):JBe(D,M,d)});function h(){const[R={},M=[],D=void 0]=typeof r.extraReducers=="function"?$9(r.extraReducers):[r.extraReducers],N={...R,...u.sliceCaseReducersByType};return KBe(r.initialState,H=>{for(let k in N)H.addCase(k,N[k]);for(let k of u.sliceMatchers)H.addMatcher(k.matcher,k.reducer);for(let k of M)H.addMatcher(k.matcher,k.reducer);D&&H.addDefaultCase(D)})}const g=R=>R,v=new Map,b=new WeakMap;let C;function E(R,M){return C||(C=h()),C(R,M)}function S(){return C||(C=h()),C.getInitialState()}function I(R,M=!1){function D(H){let k=H[R];return typeof k>"u"&&M&&(k=iS(b,D,S)),k}function N(H=g){const k=iS(v,M,()=>new WeakMap);return iS(k,H,()=>{const K={};for(const[G,z]of Object.entries(r.selectors??{}))K[G]=YBe(z,H,()=>iS(b,H,S),M);return K})}return{reducerPath:R,getSelectors:N,get selectors(){return N(D)},selectSlice:D}}const T={name:s,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...I(a),injectInto(R,{reducerPath:M,...D}={}){const N=M??a;return R.inject({reducerPath:N,reducer:E},D),{...T,...I(N,!0)}}};return T}}function YBe(n,e,t,i){function r(s,...a){let o=e(s);return typeof o>"u"&&i&&(o=t()),n(o,...a)}return r.unwrapped=n,r}var ds=WBe();function XBe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function JBe({type:n,reducerName:e,createNotation:t},i,r){let s,a;if("reducer"in i){if(t&&!eEe(i))throw new Error(Ws(17));s=i.reducer,a=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?Ka(n,a):Ka(n))}function ZBe(n){return n._reducerDefinitionType==="asyncThunk"}function eEe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function tEe({type:n,reducerName:e},t,i,r){if(!r)throw new Error(Ws(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=r(n,s,d);i.exposeAction(e,h),a&&i.addCase(h.fulfilled,a),o&&i.addCase(h.pending,o),l&&i.addCase(h.rejected,l),u&&i.addMatcher(h.settled,u),i.exposeCaseReducer(e,{fulfilled:a||rS,pending:o||rS,rejected:l||rS,settled:u||rS})}function rS(){}var nEe="task",j9="listener",W9="completed",nk="cancelled",iEe=`task-${nk}`,rEe=`task-${W9}`,yN=`${j9}-${nk}`,sEe=`${j9}-${W9}`,z1=class{constructor(n){he(this,"name","TaskAbortError");he(this,"message");this.code=n,this.message=`${nEe} ${nk} (reason: ${n})`}},ik=(n,e)=>{if(typeof n!="function")throw new TypeError(Ws(32))},cT=()=>{},Y9=(n,e=cT)=>(n.catch(e),n),X9=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),jh=n=>{if(n.aborted)throw new z1(n.reason)};function J9(n,e){let t=cT;return new Promise((i,r)=>{const s=()=>r(new z1(n.reason));if(n.aborted){s();return}t=X9(n,s),e.finally(()=>t()).then(i,r)}).finally(()=>{t=cT})}var aEe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof z1?"cancelled":"rejected",error:t}}finally{e==null||e()}},dT=n=>e=>Y9(J9(n,e).then(t=>(jh(n),t))),Z9=n=>{const e=dT(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:Vg}=Object,F5={},q1="listenerMiddleware",oEe=(n,e)=>{const t=i=>X9(n,()=>i.abort(n.reason));return(i,r)=>{ik(i);const s=new AbortController;t(s);const a=aEe(async()=>{jh(n),jh(s.signal);const o=await i({pause:dT(s.signal),delay:Z9(s.signal),signal:s.signal});return jh(s.signal),o},()=>s.abort(rEe));return r!=null&&r.autoJoin&&e.push(a.catch(cT)),{result:dT(n)(a),cancel(){s.abort(iEe)}}}},AEe=(n,e)=>{const t=async(i,r)=>{jh(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:i,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];r!=null&&o.push(new Promise(l=>setTimeout(l,r,null)));try{const l=await J9(e,Promise.race(o));return jh(e),l}finally{s()}};return(i,r)=>Y9(t(i,r))},eJ=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:s}=n;if(e)r=Ka(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(Ws(21));return ik(s),{predicate:r,type:e,effect:s}},tJ=Vg(n=>{const{type:e,predicate:t,effect:i}=eJ(n);return{id:qBe(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Ws(22))}}},{withTypes:()=>tJ}),U5=(n,e)=>{const{type:t,effect:i,predicate:r}=eJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===r)&&s.effect===i)},wN=n=>{n.pending.forEach(e=>{e.abort(yN)})},lEe=(n,e)=>()=>{for(const t of e.keys())wN(t);n.clear()},M5=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},nJ=Vg(Ka(`${q1}/add`),{withTypes:()=>nJ}),uEe=Ka(`${q1}/removeAll`),iJ=Vg(Ka(`${q1}/remove`),{withTypes:()=>iJ}),cEe=(...n)=>{console.error(`${q1}/error`,...n)},kB=(n={})=>{const e=new Map,t=new Map,i=v=>{const b=t.get(v)??0;t.set(v,b+1)},r=v=>{const b=t.get(v)??1;b===1?t.delete(v):t.set(v,b-1)},{extra:s,onError:a=cEe}=n;ik(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b!=null&&b.cancelActive&&wN(v)}),l=v=>{const b=U5(e,v)??tJ(v);return o(b)};Vg(l,{withTypes:()=>l});const u=v=>{const b=U5(e,v);return b&&(b.unsubscribe(),v.cancelActive&&wN(b)),!!b};Vg(u,{withTypes:()=>u});const d=async(v,b,C,E)=>{const S=new AbortController,I=AEe(l,S.signal),T=[];try{v.pending.add(S),i(v),await Promise.resolve(v.effect(b,Vg({},C,{getOriginalState:E,condition:(R,M)=>I(R,M).then(Boolean),take:I,delay:Z9(S.signal),pause:dT(S.signal),extra:s,signal:S.signal,fork:oEe(S.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,M,D)=>{R!==S&&(R.abort(yN),D.delete(R))})},cancel:()=>{S.abort(yN),v.pending.delete(S)},throwIfCancelled:()=>{jh(S.signal)}})))}catch(R){R instanceof z1||M5(a,R,{raisedBy:"effect"})}finally{await Promise.all(T),S.abort(sEe),r(v),v.pending.delete(S)}},h=lEe(e,t);return{middleware:v=>b=>C=>{if(!M9(C))return b(C);if(nJ.match(C))return l(C.payload);if(uEe.match(C)){h();return}if(iJ.match(C))return u(C.payload);let E=v.getState();const S=()=>{if(E===F5)throw new Error(Ws(23));return E};let I;try{if(I=b(C),e.size>0){const T=v.getState(),R=Array.from(e.values());for(const M of R){let D=!1;try{D=M.predicate(C,T,E)}catch(N){D=!1,M5(a,N,{raisedBy:"predicate"})}D&&d(M,C,v,S)}}}finally{E=F5}return I},startListening:l,stopListening:u,clearListeners:h}};function Ws(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var dEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rJ=ds({name:"chartLayout",initialState:dEe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,i,r,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:fEe,setLayout:hEe,setChartSize:pEe,setScale:gEe}=rJ.actions,mEe=rJ.reducer;function sJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function P5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ig(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(t),!0).forEach(function(i){vEe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vEe(n,e,t){return(e=yEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yEe(n){var e=wEe(n,"string");return typeof e=="symbol"?e:e+""}function wEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Br(n,e,t){return Qi(n)||Qi(e)?t:gA(e)?zv(n,e,t):typeof e=="function"?e(n):t}var bEe=(n,e,t)=>{if(e&&t){var{width:i,height:r}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Ke(n[s]))return Ig(Ig({},n),{},{[s]:n[s]+(i||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Ke(n[a]))return Ig(Ig({},n),{},{[a]:n[a]+(r||0)})}return n},cp=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",R5=1e-4,CEe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,i=n.range(),r=Math.min(i[0],i[1])-R5,s=Math.max(i[0],i[1])+R5,a=n(e[0]),o=n(e[t-1]);(a<r||a>s||o<r||o>s)&&n.domain([e[0],e[t-1]])}},BEe=(n,e)=>{if(!e||e.length!==2||!Ke(e[0])||!Ke(e[1]))return n;var t=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[n[0],n[1]];return(!Ke(n[0])||n[0]<t)&&(r[0]=t),(!Ke(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<t&&(r[1]=t),r},EEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0,a=0;a<e;++a){var o=pA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=r,n[a][t][1]=r+o,r=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},xEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0;s<e;++s){var a=pA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=r,n[s][t][1]=r+a,r=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},SEe={sign:EEe,expand:Jbe,none:Kv,silhouette:Zbe,wiggle:eCe,positive:xEe},_Ee=(n,e,t)=>{var i=SEe[t],r=Xbe().keys(e).value((s,a)=>Number(Br(s,a,0))).order(lN).offset(i);return r(n)};function TEe(n){return n==null?void 0:String(n)}var D5=n=>{var{axis:e,ticks:t,offset:i,bandSize:r,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+i:null;var o=Br(s,e.dataKey,e.scale.domain()[a]);return Qi(o)?null:e.scale(o)-r/2+i},IEe=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i<=0&&r>=0?0:r<0?r:i}return t[0]},FEe=n=>{var e=n.flat(2).filter(Ke);return[Math.min(...e),Math.max(...e)]},UEe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],MEe=(n,e,t)=>{if(n!=null)return UEe(Object.keys(n).reduce((i,r)=>{var s=n[r],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=sJ(u,e,t),h=FEe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]))},L5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!t||i>0)return i}if(n&&e&&e.length>=2){for(var r=Q1(e,d=>d.coordinate),s=1/0,a=1,o=r.length;a<o;a++){var l=r[a],u=r[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function Q5(n){var{tooltipEntrySettings:e,dataKey:t,payload:i,value:r,name:s}=n;return Ig(Ig({},e),{},{dataKey:t,payload:i,value:r,name:s})}function aJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var PEe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},REe=(n,e)=>e==="centric"?n.angle:n.radius,wu=n=>n.layout.width,bu=n=>n.layout.height,DEe=n=>n.layout.scale,oJ=n=>n.layout.margin,$1=se(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),j1=se(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),LEe="data-recharts-item-index",NEe="data-recharts-item-data-key",OB=60;function k5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(t),!0).forEach(function(i){QEe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function QEe(n,e,t){return(e=kEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kEe(n){var e=OEe(n,"string");return typeof e=="symbol"?e:e+""}function OEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var HEe=n=>n.brush.height;function VEe(n){var e=j1(n);return e.reduce((t,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:OB;return t+r}return t},0)}function GEe(n){var e=j1(n);return e.reduce((t,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:OB;return t+r}return t},0)}function KEe(n){var e=$1(n);return e.reduce((t,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?t+i.height:t,0)}function zEe(n){var e=$1(n);return e.reduce((t,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?t+i.height:t,0)}var ki=se([wu,bu,oJ,HEe,VEe,GEe,KEe,zEe,I9,pBe],(n,e,t,i,r,s,a,o,l,u)=>{var d={left:(t.left||0)+r,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=sS(sS({},h),d),v=g.bottom;g.bottom+=i,g=bEe(g,l,u);var b=n-g.left-g.right,C=e-g.top-g.bottom;return sS(sS({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(C,0)})}),qEe=se(ki,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),rk=se(wu,bu,(n,e)=>({x:0,y:0,width:n,height:e})),$Ee=P.createContext(null),Zs=()=>P.useContext($Ee)!=null,W1=n=>n.brush,Y1=se([W1,ki,oJ],(n,e,t)=>({height:n.height,x:Ke(n.x)?n.x:e.left,y:Ke(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:Ke(n.width)?n.width:e.width})),BP={},EP={},xP={},O5;function jEe(){return O5||(O5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i,{signal:r,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),C()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},i)},b=()=>{g!==null&&(clearTimeout(g),g=null)},C=()=>{b(),a=void 0,o=null},E=()=>{d()},S=function(...I){if(r!=null&&r.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return S.schedule=v,S.cancel=C,S.flush=E,r==null||r.addEventListener("abort",C,{once:!0}),S}n.debounce=e})(xP)),xP}var H5;function WEe(){return H5||(H5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=jEe();function t(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...C){d=i.apply(this,C),h=null},r,{edges:u}),v=function(...C){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=i.apply(this,C),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,C),d)},b=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=b,v}n.debounce=t})(EP)),EP}var V5;function YEe(){return V5||(V5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=WEe();function t(i,r=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(i,r,{leading:a,maxWait:r,trailing:o})}n.throttle=t})(BP)),BP}var SP,G5;function XEe(){return G5||(G5=1,SP=YEe().throttle),SP}var JEe=XEe();const ZEe=wA(JEe);var K5=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>r[a++]))}},AJ=(n,e,t)=>{var{width:i="100%",height:r="100%",aspect:s,maxHeight:a}=t,o=ou(i)?n:Number(i),l=ou(r)?e:Number(r);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},exe={width:0,height:0,overflow:"visible"},txe={width:0,overflowX:"visible"},nxe={height:0,overflowY:"visible"},ixe={},rxe=n=>{var{width:e,height:t}=n,i=ou(e),r=ou(t);return i&&r?exe:i?txe:r?nxe:ixe};function sxe(n){var{width:e,height:t,aspect:i}=n,r=e,s=t;return r===void 0&&s===void 0?(r="100%",s="100%"):r===void 0?r=i&&i>0?void 0:"100%":s===void 0&&(s=i&&i>0?void 0:"100%"),{width:r,height:s}}function Jn(n){return Number.isFinite(n)}function Td(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function bN(){return bN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bN.apply(null,arguments)}function z5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function q5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(t),!0).forEach(function(i){axe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):z5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function axe(n,e,t){return(e=oxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oxe(n){var e=Axe(n,"string");return typeof e=="symbol"?e:e+""}function Axe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lJ=P.createContext({width:-1,height:-1});function lxe(n){return Td(n.width)&&Td(n.height)}function uJ(n){var{children:e,width:t,height:i}=n,r=P.useMemo(()=>({width:t,height:i}),[t,i]);return lxe(r)?P.createElement(lJ.Provider,{value:r},e):null}var sk=()=>P.useContext(lJ),uxe=P.forwardRef((n,e)=>{var{aspect:t,initialDimension:i={width:-1,height:-1},width:r,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:b={}}=n,C=P.useRef(null),E=P.useRef();E.current=v,P.useImperativeHandle(e,()=>C.current);var[S,I]=P.useState({containerWidth:i.width,containerHeight:i.height}),T=P.useCallback((H,k)=>{I(K=>{var G=Math.round(H),z=Math.round(k);return K.containerWidth===G&&K.containerHeight===z?K:{containerWidth:G,containerHeight:z}})},[]);P.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return LB;var H=z=>{var J,{width:ne,height:pe}=z[0].contentRect;T(ne,pe),(J=E.current)===null||J===void 0||J.call(E,ne,pe)};d>0&&(H=ZEe(H,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(H),{width:K,height:G}=C.current.getBoundingClientRect();return T(K,G),k.observe(C.current),()=>{k.disconnect()}},[T,d]);var{containerWidth:R,containerHeight:M}=S;K5(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:N}=AJ(R,M,{width:r,height:s,aspect:t,maxHeight:l});return K5(D!=null&&D>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,N,r,s,a,o,t),P.createElement("div",{id:h?"".concat(h):void 0,className:bn("recharts-responsive-container",g),style:q5(q5({},b),{},{width:r,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:C},P.createElement("div",{style:rxe({width:r,height:s})},P.createElement(uJ,{width:D,height:N},u)))}),cxe=P.forwardRef((n,e)=>{var t=sk();if(Td(t.width)&&Td(t.height))return n.children;var{width:i,height:r}=sxe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=AJ(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return Ke(s)&&Ke(a)?P.createElement(uJ,{width:s,height:a},n.children):P.createElement(uxe,bN({},n,{width:i,height:r,ref:e}))});function cJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var X1=()=>{var n,e=Zs(),t=Ve(qEe),i=Ve(Y1),r=(n=Ve(W1))===null||n===void 0?void 0:n.padding;return!e||!i||!r?t:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},dxe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fxe=()=>{var n;return(n=Ve(ki))!==null&&n!==void 0?n:dxe},hxe=()=>Ve(wu),pxe=()=>Ve(bu),Vt=n=>n.layout.layoutType,J1=()=>Ve(Vt),gxe=()=>{var n=J1();return n!==void 0},Z1=n=>{var e=Zn(),t=Zs(),{width:i,height:r}=n,s=sk(),a=i,o=r;return s&&(a=s.width>0?s.width:i,o=s.height>0?s.height:r),P.useEffect(()=>{!t&&Td(a)&&Td(o)&&e(pEe({width:a,height:o}))},[e,t,a,o]),null},dJ=Symbol.for("immer-nothing"),$5=Symbol.for("immer-draftable"),Xs=Symbol.for("immer-state");function go(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var kw=Object.getPrototypeOf;function jv(n){return!!n&&!!n[Xs]}function tp(n){var e;return n?fJ(n)||Array.isArray(n)||!!n[$5]||!!((e=n.constructor)!=null&&e[$5])||HB(n)||tI(n):!1}var mxe=Object.prototype.constructor.toString(),j5=new WeakMap;function fJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=j5.get(t);return i===void 0&&(i=Function.toString.call(t),j5.set(t,i)),i===mxe}function hT(n,e,t=!0){eI(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function eI(n){const e=n[Xs];return e?e.type_:Array.isArray(n)?1:HB(n)?2:tI(n)?3:0}function CN(n,e){return eI(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function hJ(n,e,t){const i=eI(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function vxe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function HB(n){return n instanceof Map}function tI(n){return n instanceof Set}function lf(n){return n.copy_||n.base_}function BN(n,e){if(HB(n))return new Map(n);if(tI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=fJ(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Xs];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(kw(n),i)}else{const i=kw(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function ak(n,e=!1){return nI(n)||jv(n)||!tp(n)||(eI(n)>1&&Object.defineProperties(n,{set:aS,add:aS,clear:aS,delete:aS}),Object.freeze(n),e&&Object.values(n).forEach(t=>ak(t,!0))),n}function yxe(){go(2)}var aS={value:yxe};function nI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var wxe={};function np(n){const e=wxe[n];return e||go(0,n),e}var Ow;function pJ(){return Ow}function bxe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function W5(n,e){e&&(np("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function EN(n){xN(n),n.drafts_.forEach(Cxe),n.drafts_=null}function xN(n){n===Ow&&(Ow=n.parent_)}function Y5(n){return Ow=bxe(Ow,n)}function Cxe(n){const e=n[Xs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function X5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Xs].modified_&&(EN(e),go(4)),tp(n)&&(n=pT(e,n),e.parent_||gT(e,n)),e.patches_&&np("Patches").generateReplacementPatches_(t[Xs].base_,n,e.patches_,e.inversePatches_)):n=pT(e,t,[]),EN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==dJ?n:void 0}function pT(n,e,t){if(nI(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[Xs];if(!r)return hT(e,(s,a)=>J5(n,r,e,s,a,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return gT(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,o=!1;r.type_===3&&(a=new Set(s),s.clear(),o=!0),hT(a,(l,u)=>J5(n,r,s,l,u,t,o),i),gT(n,s,!1),t&&n.patches_&&np("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function J5(n,e,t,i,r,s,a){if(r==null||typeof r!="object"&&!a)return;const o=nI(r);if(!(o&&!a)){if(jv(r)){const l=s&&e&&e.type_!==3&&!CN(e.assigned_,i)?s.concat(i):void 0,u=pT(n,r,l);if(hJ(t,i,u),jv(u))n.canAutoFreeze_=!1;else return}else a&&t.add(r);if(tp(r)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&o)return;pT(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(HB(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&gT(n,r)}}}function gT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&ak(e,t)}function Bxe(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:pJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=ok;t&&(r=[i],s=Hw);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,o}var ok={get(n,e){if(e===Xs)return n;const t=lf(n);if(!CN(t,e))return Exe(n,t,e);const i=t[e];return n.finalized_||!tp(i)?i:i===_P(n.base_,e)?(TP(n),n.copy_[e]=_N(i,n)):i},has(n,e){return e in lf(n)},ownKeys(n){return Reflect.ownKeys(lf(n))},set(n,e,t){const i=gJ(lf(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=_P(lf(n),e),s=r==null?void 0:r[Xs];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(vxe(t,r)&&(t!==void 0||CN(n.base_,e)))return!0;TP(n),SN(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return _P(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,TP(n),SN(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=lf(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){go(11)},getPrototypeOf(n){return kw(n.base_)},setPrototypeOf(){go(12)}},Hw={};hT(ok,(n,e)=>{Hw[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Hw.deleteProperty=function(n,e){return Hw.set.call(this,n,e,void 0)};Hw.set=function(n,e,t){return ok.set.call(this,n[0],e,t,n[0])};function _P(n,e){const t=n[Xs];return(t?lf(t):n)[e]}function Exe(n,e,t){var r;const i=gJ(e,t);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function gJ(n,e){if(!(e in n))return;let t=kw(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=kw(t)}}function SN(n){n.modified_||(n.modified_=!0,n.parent_&&SN(n.parent_))}function TP(n){n.copy_||(n.copy_=BN(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var xxe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&go(6),i!==void 0&&typeof i!="function"&&go(7);let r;if(tp(e)){const s=Y5(this),a=_N(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?EN(s):xN(s)}return W5(s,i),X5(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===dJ&&(r=void 0),this.autoFreeze_&&ak(r,!0),i){const s=[],a=[];np("Patches").generateReplacementPatches_(e,r,s,a),i(s,a)}return r}else go(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let i,r;return[this.produce(e,t,(a,o)=>{i=a,r=o}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){tp(n)||go(8),jv(n)&&(n=Sxe(n));const e=Y5(this),t=_N(n,void 0);return t[Xs].isManual_=!0,xN(e),t}finishDraft(n,e){const t=n&&n[Xs];(!t||!t.isManual_)&&go(9);const{scope_:i}=t;return W5(i,e),X5(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=np("Patches").applyPatches_;return jv(n)?i(n,e):this.produce(n,r=>i(r,e))}};function _N(n,e){const t=HB(n)?np("MapSet").proxyMap_(n,e):tI(n)?np("MapSet").proxySet_(n,e):Bxe(n,e);return(e?e.scope_:pJ()).drafts_.push(t),t}function Sxe(n){return jv(n)||go(10,n),mJ(n)}function mJ(n){if(!tp(n)||nI(n))return n;const e=n[Xs];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=BN(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=BN(n,!0);return hT(t,(r,s)=>{hJ(t,r,mJ(s))},i),e&&(e.finalized_=!1),t}var _xe=new xxe;_xe.produce;var Txe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},vJ=ds({name:"legend",initialState:Txe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:_n()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:i}=e.payload,r=yo(n).payload.indexOf(t);r>-1&&(n.payload[r]=i)},prepare:_n()},removeLegendPayload:{reducer(n,e){var t=yo(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:_n()}}}),{setLegendSize:cQe,setLegendSettings:dQe,addLegendPayload:Ixe,replaceLegendPayload:Fxe,removeLegendPayload:Uxe}=vJ.actions,Mxe=vJ.reducer;function TN(){return TN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},TN.apply(null,arguments)}function Z5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function IP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(t),!0).forEach(function(i){Pxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Z5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Pxe(n,e,t){return(e=Rxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rxe(n){var e=Dxe(n,"string");return typeof e=="symbol"?e:e+""}function Dxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lxe(n){return Array.isArray(n)&&gA(n[0])&&gA(n[1])?n.join(" ~ "):n}var Nxe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:i={},labelStyle:r={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var M={padding:0,margin:0},D=(o?Q1(s,o):s).map((N,H)=>{if(N.type==="none")return null;var k=N.formatter||a||Lxe,{value:K,name:G}=N,z=K,J=G;if(k){var ne=k(K,G,N,H,s);if(Array.isArray(ne))[z,J]=ne;else if(ne!=null)z=ne;else return null}var pe=IP({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},i);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:pe},gA(J)?P.createElement("span",{className:"recharts-tooltip-item-name"},J):null,gA(J)?P.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,P.createElement("span",{className:"recharts-tooltip-item-value"},z),P.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},b=IP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),C=IP({margin:0},r),E=!Qi(d),S=E?d:"",I=bn("recharts-default-tooltip",l),T=bn("recharts-tooltip-label",u);E&&h&&s!==void 0&&s!==null&&(S=h(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",TN({className:I,style:b},R),P.createElement("p",{className:T,style:C},P.isValidElement(S)?S:"".concat(S)),v())},B0="recharts-tooltip-wrapper",Qxe={visibility:"hidden"};function kxe(n){var{coordinate:e,translateX:t,translateY:i}=n;return bn(B0,{["".concat(B0,"-right")]:Ke(t)&&e&&Ke(e.x)&&t>=e.x,["".concat(B0,"-left")]:Ke(t)&&e&&Ke(e.x)&&t<e.x,["".concat(B0,"-bottom")]:Ke(i)&&e&&Ke(e.y)&&i>=e.y,["".concat(B0,"-top")]:Ke(i)&&e&&Ke(e.y)&&i<e.y})}function e8(n){var{allowEscapeViewBox:e,coordinate:t,key:i,offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&Ke(s[i]))return s[i];var d=t[i]-o-(r>0?r:0),h=t[i]+r;if(e[i])return a[i]?d:h;var g=l[i];if(g==null)return 0;if(a[i]){var v=d,b=g;return v<b?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var C=h+o,E=g+u;return C>E?Math.max(d,g):Math.max(h,g)}function Oxe(n){var{translateX:e,translateY:t,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function Hxe(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:i,position:r,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=e8({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=e8({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Oxe({translateX:d,translateY:h,useTranslate3d:o})):u=Qxe,{cssProperties:u,cssClasses:kxe({translateX:d,translateY:h,coordinate:t})}}function t8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function oS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(t),!0).forEach(function(i){IN(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):t8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function IN(n,e,t){return(e=Vxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vxe(n){var e=Gxe(n,"string");return typeof e=="symbol"?e:e+""}function Gxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Kxe extends P.PureComponent{constructor(){super(...arguments),IN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),IN(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&t!==void 0?t:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:i,animationEasing:r,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:C,innerRef:E,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:T}=Hxe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:C.height,width:C.width},useTranslate3d:g,viewBox:v}),R=S?{}:oS(oS({transition:l&&e?"transform ".concat(i,"ms ").concat(r):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),M=oS(oS({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:M,ref:E},s)}}var yJ=()=>{var n;return(n=Ve(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function FN(){return FN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},FN.apply(null,arguments)}function n8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function i8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(t),!0).forEach(function(i){zxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function zxe(n,e,t){return(e=qxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qxe(n){var e=$xe(n,"string");return typeof e=="symbol"?e:e+""}function $xe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var r8={curveBasisClosed:Obe,curveBasisOpen:Hbe,curveBasis:kbe,curveBumpX:xbe,curveBumpY:Sbe,curveLinearClosed:Vbe,curveLinear:L1,curveMonotoneX:Gbe,curveMonotoneY:Kbe,curveNatural:zbe,curveStep:qbe,curveStepAfter:jbe,curveStepBefore:$be},mT=n=>Jn(n.x)&&Jn(n.y),s8=n=>n.base!=null&&mT(n.base)&&mT(n),E0=n=>n.x,x0=n=>n.y,jxe=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(DB(n));return(t==="curveMonotone"||t==="curveBump")&&e?r8["".concat(t).concat(e==="vertical"?"Y":"X")]:r8[t]||L1},Wxe=n=>{var{type:e="linear",points:t=[],baseLine:i,layout:r,connectNulls:s=!1}=n,a=jxe(e,r),o=s?t.filter(mT):t,l;if(Array.isArray(i)){var u=t.map((v,b)=>i8(i8({},v),{},{base:i[b]}));r==="vertical"?l=Zx().y(x0).x1(E0).x0(v=>v.base.x):l=Zx().x(E0).y1(x0).y0(v=>v.base.y);var d=l.defined(s8).curve(a),h=s?u.filter(s8):u;return d(h)}r==="vertical"&&Ke(i)?l=Zx().y(x0).x1(E0).x0(i):Ke(i)?l=Zx().x(E0).y1(x0).y0(i):l=t9().x(E0).y(x0);var g=l.defined(mT).curve(a);return g(o)},wJ=n=>{var{className:e,points:t,path:i,pathRef:r}=n;if((!t||!t.length)&&!i)return null;var s=t&&t.length?Wxe(n):i;return P.createElement("path",FN({},_d(n),vCe(n),{className:bn("recharts-curve",e),d:s===null?void 0:s,ref:r}))},Yxe=["x","y","top","left","width","height","className"];function UN(){return UN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UN.apply(null,arguments)}function a8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Xxe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(t),!0).forEach(function(i){Jxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Jxe(n,e,t){return(e=Zxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zxe(n){var e=eSe(n,"string");return typeof e=="symbol"?e:e+""}function eSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tSe(n,e){if(n==null)return{};var t,i,r=nSe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function nSe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var iSe=(n,e,t,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(t),rSe=n=>{var{x:e=0,y:t=0,top:i=0,left:r=0,width:s=0,height:a=0,className:o}=n,l=tSe(n,Yxe),u=Xxe({x:e,y:t,top:i,left:r,width:s,height:a},l);return!Ke(e)||!Ke(t)||!Ke(s)||!Ke(a)||!Ke(i)||!Ke(r)?null:P.createElement("path",UN({},Ga(u),{className:bn("recharts-cross",o),d:iSe(e,t,s,a,i,r)}))};function sSe(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function o8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function A8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o8(Object(t),!0).forEach(function(i){aSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function aSe(n,e,t){return(e=oSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oSe(n){var e=ASe(n,"string");return typeof e=="symbol"?e:e+""}function ASe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lSe=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),bJ=(n,e,t)=>n.map(i=>"".concat(lSe(i)," ").concat(e,"ms ").concat(t)).join(","),uSe=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,i)=>t.filter(r=>i.includes(r))),Vw=(n,e)=>Object.keys(e).reduce((t,i)=>A8(A8({},t),{},{[i]:n(i,e[i])}),{});function l8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(t),!0).forEach(function(i){cSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cSe(n,e,t){return(e=dSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dSe(n){var e=fSe(n,"string");return typeof e=="symbol"?e:e+""}function fSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vT=(n,e,t)=>n+(e-n)*t,MN=n=>{var{from:e,to:t}=n;return e!==t},CJ=(n,e,t)=>{var i=Vw((r,s)=>{if(MN(s)){var[a,o]=n(s.from,s.to,s.velocity);return mi(mi({},s),{},{from:a,velocity:o})}return s},e);return t<1?Vw((r,s)=>MN(s)?mi(mi({},s),{},{velocity:vT(s.velocity,i[r].velocity,t),from:vT(s.from,i[r].from,t)}):s,e):CJ(n,i,t-1)};function hSe(n,e,t,i,r,s){var a,o=i.reduce((g,v)=>mi(mi({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>Vw((g,v)=>v.from,o),u=()=>!Object.values(o).filter(MN).length,d=null,h=g=>{a||(a=g);var v=g-a,b=v/t.dt;o=CJ(t,o,b),r(mi(mi(mi({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function pSe(n,e,t,i,r,s,a){var o=null,l=r.reduce((h,g)=>mi(mi({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/i,v=Vw((C,E)=>vT(...E,t(g)),l);if(s(mi(mi(mi({},n),e),v)),g<1)o=a.setTimeout(d);else{var b=Vw((C,E)=>vT(...E,t(1)),l);s(mi(mi(mi({},n),e),b))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const gSe=(n,e,t,i,r,s)=>{var a=uSe(n,e);return t==null?()=>(r(mi(mi({},n),e)),()=>{}):t.isStepper===!0?hSe(n,e,t,a,r,s):pSe(n,e,t,i,a,r,s)};var yT=1e-4,BJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],EJ=(n,e)=>n.map((t,i)=>t*e**i).reduce((t,i)=>t+i),u8=(n,e)=>t=>{var i=BJ(n,e);return EJ(i,t)},mSe=(n,e)=>t=>{var i=BJ(n,e),r=[...i.map((s,a)=>s*a).slice(1),0];return EJ(r,t)},vSe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((r=s[1])===null||r===void 0?void 0:r.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},ySe=(n,e,t,i)=>{var r=u8(n,t),s=u8(e,i),a=mSe(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=r(h)-d,b=a(h);if(Math.abs(v-d)<yT||b<yT)return s(h);h=o(h-v/b)}return s(h)};return l.isStepper=!1,l},c8=function(){return ySe(...vSe(...arguments))},wSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:i=8,dt:r=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*i,h=l+(u-d)*r/1e3,g=l*r/1e3+a;return Math.abs(g-o)<yT&&Math.abs(h)<yT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=r,s},bSe=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return c8(n);case"spring":return wSe();default:if(n.split("(")[0]==="cubic-bezier")return c8(n)}return typeof n=="function"?n:null};function CSe(n){var e,t=()=>null,i=!1,r=null,s=a=>{if(!i){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){r=n.setTimeout(s.bind(null,u),l);return}s(l),r=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{i=!0},start:a=>{i=!1,r&&(r(),r=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class BSe{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=a=>{a-i>=t?e(a):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function ESe(){return CSe(new BSe)}var xSe=P.createContext(ESe);function SSe(n,e){var t=P.useContext(xSe);return P.useMemo(()=>e??t(n),[n,e,t])}var _Se=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),VB={devToolsEnabled:!1,isSsr:_Se()},TSe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},d8={t:0},FP={t:1};function Ak(n){var e=qa(n,TSe),{isActive:t,canBegin:i,duration:r,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!VB.isSsr:t,h=SSe(e.animationId,e.animationManager),[g,v]=P.useState(d?d8:FP),b=P.useRef(null);return P.useEffect(()=>{d||v(FP)},[d]),P.useEffect(()=>{if(!d||!i)return LB;var C=gSe(d8,FP,bSe(s),r,v,h.getTimeoutController()),E=()=>{b.current=C()};return h.start([l,a,E,r,o]),()=>{h.stop(),b.current&&b.current(),o()}},[d,i,r,s,a,l,o,h]),u(g.t)}function lk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=P.useRef(Dw(e)),i=P.useRef(n);return i.current!==n&&(t.current=Dw(e),i.current=n),t.current}var ISe=["radius"],FSe=["radius"];function f8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function h8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(t),!0).forEach(function(i){USe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function USe(n,e,t){return(e=MSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MSe(n){var e=PSe(n,"string");return typeof e=="symbol"?e:e+""}function PSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wT(){return wT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wT.apply(null,arguments)}function p8(n,e){if(n==null)return{};var t,i,r=RSe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function RSe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var g8=(n,e,t,i,r)=>{var s=Math.min(Math.abs(t)/2,Math.abs(i)/2),a=i>=0?1:-1,o=t>=0?1:-1,l=i>=0&&t>=0||i<0&&t<0?1:0,u;if(s>0&&r instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=r[h]>s?s:r[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+i)),u+="L ".concat(n+o*d[3],",").concat(e+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+i-a*d[3])),u+="Z"}else if(s>0&&r===+r&&r>0){var v=Math.min(s,r);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+i,`
            L `).concat(n+o*v,",").concat(e+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+i-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(i," h ").concat(-t," Z");return u},m8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xJ=n=>{var e=qa(n,m8),t=P.useRef(null),[i,r]=P.useState(-1);P.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var $=t.current.getTotalLength();$&&r($)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:C}=e,E=P.useRef(o),S=P.useRef(l),I=P.useRef(s),T=P.useRef(a),R=P.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),M=lk(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var D=bn("recharts-rectangle",d);if(!C){var N=Ga(e),{radius:H}=N,k=p8(N,ISe);return P.createElement("path",wT({},k,{radius:typeof u=="number"?u:void 0,className:D,d:g8(s,a,o,l,u)}))}var K=E.current,G=S.current,z=I.current,J=T.current,ne="0px ".concat(i===-1?1:i,"px"),pe="".concat(i,"px 0px"),V=bJ(["strokeDasharray"],g,typeof h=="string"?h:m8.animationEasing);return P.createElement(Ak,{animationId:M,key:M,canBegin:i>0,duration:g,easing:h,isActive:C,begin:v},$=>{var ie=nr(K,o,$),ue=nr(G,l,$),Ce=nr(z,s,$),q=nr(J,a,$);t.current&&(E.current=ie,S.current=ue,I.current=Ce,T.current=q);var Y;b?$>0?Y={transition:V,strokeDasharray:pe}:Y={strokeDasharray:ne}:Y={strokeDasharray:pe};var Ae=Ga(e),{radius:de}=Ae,be=p8(Ae,FSe);return P.createElement("path",wT({},be,{radius:typeof u=="number"?u:void 0,className:D,d:g8(Ce,q,ie,ue,u),ref:t,style:h8(h8({},Y),e.style)}))})};function v8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function y8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(t),!0).forEach(function(i){DSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function DSe(n,e,t){return(e=LSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LSe(n){var e=NSe(n,"string");return typeof e=="symbol"?e:e+""}function NSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var bT=Math.PI/180,QSe=n=>n*180/Math.PI,ar=(n,e,t,i)=>({x:n+Math.cos(-bT*i)*t,y:e+Math.sin(-bT*i)*t}),kSe=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},OSe=(n,e)=>{var{x:t,y:i}=n,{x:r,y:s}=e;return Math.sqrt((t-r)**2+(i-s)**2)},HSe=(n,e)=>{var{x:t,y:i}=n,{cx:r,cy:s}=e,a=OSe({x:t,y:i},{x:r,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-r)/a,l=Math.acos(o);return i>s&&(l=2*Math.PI-l),{radius:a,angle:QSe(l),angleInRadian:l}},VSe=n=>{var{startAngle:e,endAngle:t}=n,i=Math.floor(e/360),r=Math.floor(t/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:t-s*360}},GSe=(n,e)=>{var{startAngle:t,endAngle:i}=e,r=Math.floor(t/360),s=Math.floor(i/360),a=Math.min(r,s);return n+a*360},KSe=(n,e)=>{var{chartX:t,chartY:i}=n,{radius:r,angle:s}=HSe({x:t,y:i},e),{innerRadius:a,outerRadius:o}=e;if(r<a||r>o||r===0)return null;var{startAngle:l,endAngle:u}=VSe(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?y8(y8({},e),{},{radius:r,angle:GSe(d,e)}):null};function SJ(n){var{cx:e,cy:t,radius:i,startAngle:r,endAngle:s}=n,a=ar(e,t,i,r),o=ar(e,t,i,s);return{points:[a,o],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}function PN(){return PN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},PN.apply(null,arguments)}var zSe=(n,e)=>{var t=$s(e-n),i=Math.min(Math.abs(e-n),359.999);return t*i},AS=n=>{var{cx:e,cy:t,radius:i,angle:r,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+i,d=Math.asin(o/u)/bT,h=l?r:r+s*d,g=ar(e,t,u,h),v=ar(e,t,i,h),b=l?r-s*d:r,C=ar(e,t,u*Math.cos(d*bT),b);return{center:g,circleTangency:v,lineTangency:C,theta:d}},_J=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:a}=n,o=zSe(s,a),l=s+o,u=ar(e,t,r,s),d=ar(e,t,r,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=ar(e,t,i,s),v=ar(e,t,i,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},qSe=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=$s(u-l),{circleTangency:h,lineTangency:g,theta:v}=AS({cx:e,cy:t,radius:r,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:C,theta:E}=AS({cx:e,cy:t,radius:r,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(l-u):Math.abs(l-u)-v-E;if(S<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):_J({cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var{circleTangency:T,lineTangency:R,theta:M}=AS({cx:e,cy:t,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:N,theta:H}=AS({cx:e,cy:t,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-M-H;if(k<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},$Se={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TJ=n=>{var e=qa(n,$Se),{cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<r||u===d)return null;var g=bn("recharts-sector",h),v=s-r,b=wo(a,v,0,!0),C;return b>0&&Math.abs(u-d)<360?C=qSe({cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):C=_J({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:u,endAngle:d}),P.createElement("path",PN({},Ga(e),{className:g,d:C}))};function jSe(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(g9(e)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:a,angle:o}=e,l=ar(i,r,s,o),u=ar(i,r,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return SJ(e)}}var UP={},MP={},PP={},w8;function WSe(){return w8||(w8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_9();function t(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=t})(PP)),PP}var b8;function YSe(){return b8||(b8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=WSe();function t(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=t})(MP)),MP}var C8;function XSe(){return C8||(C8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=T9(),t=YSe();function i(r,s,a){a&&typeof a!="number"&&e.isIterateeCall(r,s,a)&&(s=a=void 0),r=t.toFinite(r),s===void 0?(s=r,r=0):s=t.toFinite(s),a=a===void 0?r<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-r)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=r,r+=a;return l}n.range=i})(UP)),UP}var RP,B8;function JSe(){return B8||(B8=1,RP=XSe().range),RP}var ZSe=JSe();const IJ=wA(ZSe);function Bd(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function e_e(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function uk(n){let e,t,i;n.length!==2?(e=Bd,t=(o,l)=>Bd(n(o),l),i=(o,l)=>n(o)-l):(e=n===Bd||n===e_e?n:t_e,t=n,i=n);function r(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=r(o,l,u,d-1);return h>u&&i(o[h-1],l)>-i(o[h],l)?h-1:h}return{left:r,center:a,right:s}}function t_e(){return 0}function FJ(n){return n===null?NaN:+n}function*n_e(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const i_e=uk(Bd),GB=i_e.right;uk(FJ).center;class E8 extends Map{constructor(e,t=a_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(x8(this,e))}has(e){return super.has(x8(this,e))}set(e,t){return super.set(r_e(this,e),t)}delete(e){return super.delete(s_e(this,e))}}function x8({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function r_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function s_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function a_e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function o_e(n=Bd){if(n===Bd)return UJ;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function UJ(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const A_e=Math.sqrt(50),l_e=Math.sqrt(10),u_e=Math.sqrt(2);function CT(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),a=s>=A_e?10:s>=l_e?5:s>=u_e?2:1;let o,l,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?CT(n,e,t*2):[o,l,u]}function RN(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,a]=i?CT(e,n,t):CT(n,e,t);if(!(s>=r))return[];const o=s-r+1,l=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(r+u)/-a;else for(let u=0;u<o;++u)l[u]=(r+u)*a;return l}function DN(n,e,t){return e=+e,n=+n,t=+t,CT(n,e,t)[2]}function LN(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?DN(e,n,t):DN(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function S8(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function _8(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function MJ(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?UJ:o_e(r);i>t;){if(i-t>600){const l=i-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),b=Math.min(i,Math.floor(e+(l-u)*h/l+g));MJ(n,e,v,b,r)}const s=n[e];let a=t,o=i;for(S0(n,t,e),r(n[i],s)>0&&S0(n,t,i);a<o;){for(S0(n,a,o),++a,--o;r(n[a],s)<0;)++a;for(;r(n[o],s)>0;)--o}r(n[t],s)===0?S0(n,t,o):(++o,S0(n,o,i)),o<=e&&(t=o+1),e<=o&&(i=o-1)}return n}function S0(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function c_e(n,e,t){if(n=Float64Array.from(n_e(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return _8(n);if(e>=1)return S8(n);var i,r=(i-1)*e,s=Math.floor(r),a=S8(MJ(n,s).subarray(0,s+1)),o=_8(n.subarray(s+1));return a+(o-a)*(r-s)}}function d_e(n,e,t=FJ){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(r-s)}}function f_e(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function $a(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Cu(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const NN=Symbol("implicit");function ck(){var n=new E8,e=[],t=[],i=NN;function r(s){let a=n.get(s);if(a===void 0){if(i!==NN)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new E8;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return ck(e,t).unknown(i)},$a.apply(r,arguments),r}function dk(){var n=ck().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=r<i,b=v?r:i,C=v?i:r;s=(C-b)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),b+=(C-b-s*(g-l))*d,a=s*(1-l),o&&(b=Math.round(b),a=Math.round(a));var E=f_e(g).map(function(S){return b+s*S});return t(v?E.reverse():E)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,h()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return dk(e(),[i,r]).round(o).paddingInner(l).paddingOuter(u).align(d)},$a.apply(h(),arguments)}function PJ(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return PJ(e())},n}function h_e(){return PJ(dk.apply(null,arguments).paddingInner(1))}function fk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function RJ(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function KB(){}var Gw=.7,BT=1/Gw,Gg="\\s*([+-]?\\d+)\\s*",Kw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p_e=/^#([0-9a-f]{3,8})$/,g_e=new RegExp(`^rgb\\(${Gg},${Gg},${Gg}\\)$`),m_e=new RegExp(`^rgb\\(${hA},${hA},${hA}\\)$`),v_e=new RegExp(`^rgba\\(${Gg},${Gg},${Gg},${Kw}\\)$`),y_e=new RegExp(`^rgba\\(${hA},${hA},${hA},${Kw}\\)$`),w_e=new RegExp(`^hsl\\(${Kw},${hA},${hA}\\)$`),b_e=new RegExp(`^hsla\\(${Kw},${hA},${hA},${Kw}\\)$`),T8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fk(KB,zw,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:I8,formatHex:I8,formatHex8:C_e,formatHsl:B_e,formatRgb:F8,toString:F8});function I8(){return this.rgb().formatHex()}function C_e(){return this.rgb().formatHex8()}function B_e(){return DJ(this).formatHsl()}function F8(){return this.rgb().formatRgb()}function zw(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=p_e.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?U8(e):t===3?new us(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?lS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?lS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=g_e.exec(n))?new us(e[1],e[2],e[3],1):(e=m_e.exec(n))?new us(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=v_e.exec(n))?lS(e[1],e[2],e[3],e[4]):(e=y_e.exec(n))?lS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=w_e.exec(n))?R8(e[1],e[2]/100,e[3]/100,1):(e=b_e.exec(n))?R8(e[1],e[2]/100,e[3]/100,e[4]):T8.hasOwnProperty(n)?U8(T8[n]):n==="transparent"?new us(NaN,NaN,NaN,0):null}function U8(n){return new us(n>>16&255,n>>8&255,n&255,1)}function lS(n,e,t,i){return i<=0&&(n=e=t=NaN),new us(n,e,t,i)}function E_e(n){return n instanceof KB||(n=zw(n)),n?(n=n.rgb(),new us(n.r,n.g,n.b,n.opacity)):new us}function QN(n,e,t,i){return arguments.length===1?E_e(n):new us(n,e,t,i??1)}function us(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}fk(us,QN,RJ(KB,{brighter(n){return n=n==null?BT:Math.pow(BT,n),new us(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Gw:Math.pow(Gw,n),new us(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new us(Wh(this.r),Wh(this.g),Wh(this.b),ET(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M8,formatHex:M8,formatHex8:x_e,formatRgb:P8,toString:P8}));function M8(){return`#${gf(this.r)}${gf(this.g)}${gf(this.b)}`}function x_e(){return`#${gf(this.r)}${gf(this.g)}${gf(this.b)}${gf((isNaN(this.opacity)?1:this.opacity)*255)}`}function P8(){const n=ET(this.opacity);return`${n===1?"rgb(":"rgba("}${Wh(this.r)}, ${Wh(this.g)}, ${Wh(this.b)}${n===1?")":`, ${n})`}`}function ET(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Wh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function gf(n){return n=Wh(n),(n<16?"0":"")+n.toString(16)}function R8(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new mo(n,e,t,i)}function DJ(n){if(n instanceof mo)return new mo(n.h,n.s,n.l,n.opacity);if(n instanceof KB||(n=zw(n)),!n)return new mo;if(n instanceof mo)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),a=NaN,o=s-r,l=(s+r)/2;return o?(e===s?a=(t-i)/o+(t<i)*6:t===s?a=(i-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new mo(a,o,l,n.opacity)}function S_e(n,e,t,i){return arguments.length===1?DJ(n):new mo(n,e,t,i??1)}function mo(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}fk(mo,S_e,RJ(KB,{brighter(n){return n=n==null?BT:Math.pow(BT,n),new mo(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Gw:Math.pow(Gw,n),new mo(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new us(DP(n>=240?n-240:n+120,r,i),DP(n,r,i),DP(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new mo(D8(this.h),uS(this.s),uS(this.l),ET(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=ET(this.opacity);return`${n===1?"hsl(":"hsla("}${D8(this.h)}, ${uS(this.s)*100}%, ${uS(this.l)*100}%${n===1?")":`, ${n})`}`}}));function D8(n){return n=(n||0)%360,n<0?n+360:n}function uS(n){return Math.max(0,Math.min(1,n||0))}function DP(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const hk=n=>()=>n;function __e(n,e){return function(t){return n+t*e}}function T_e(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function I_e(n){return(n=+n)==1?LJ:function(e,t){return t-e?T_e(e,t,n):hk(isNaN(e)?t:e)}}function LJ(n,e){var t=e-n;return t?__e(n,t):hk(isNaN(n)?e:n)}const L8=(function n(e){var t=I_e(e);function i(r,s){var a=t((r=QN(r)).r,(s=QN(s)).r),o=t(r.g,s.g),l=t(r.b,s.b),u=LJ(r.opacity,s.opacity);return function(d){return r.r=a(d),r.g=o(d),r.b=l(d),r.opacity=u(d),r+""}}return i.gamma=n,i})(1);function F_e(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function U_e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function M_e(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),a;for(a=0;a<i;++a)r[a]=ly(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function P_e(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function xT(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function R_e(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=ly(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var kN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LP=new RegExp(kN.source,"g");function D_e(n){return function(){return n}}function L_e(n){return function(e){return n(e)+""}}function N_e(n,e){var t=kN.lastIndex=LP.lastIndex=0,i,r,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(i=kN.exec(n))&&(r=LP.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:xT(i,r)})),t=LP.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?L_e(l[0].x):D_e(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function ly(n,e){var t=typeof e,i;return e==null||t==="boolean"?hk(e):(t==="number"?xT:t==="string"?(i=zw(e))?(e=i,L8):N_e:e instanceof zw?L8:e instanceof Date?P_e:U_e(e)?F_e:Array.isArray(e)?M_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?R_e:xT)(n,e)}function pk(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Q_e(n,e){e===void 0&&(e=n,n=ly);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(a){var o=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return s[o](a-o)}}function k_e(n){return function(){return n}}function ST(n){return+n}var N8=[0,1];function Nr(n){return n}function ON(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:k_e(isNaN(e)?NaN:.5)}function O_e(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function H_e(n,e,t){var i=n[0],r=n[1],s=e[0],a=e[1];return r<i?(i=ON(r,i),s=t(a,s)):(i=ON(i,r),s=t(s,a)),function(o){return s(i(o))}}function V_e(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=ON(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=GB(n,o,1,i)-1;return s[l](r[l](o))}}function zB(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function iI(){var n=N8,e=N8,t=ly,i,r,s,a=Nr,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==Nr&&(a=O_e(n[0],n[g-1])),o=g>2?V_e:H_e,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(i),e,t)))(i(a(g)))}return h.invert=function(g){return a(r((u||(u=o(e,n.map(i),xT)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,ST),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=pk,d()},h.clamp=function(g){return arguments.length?(a=g?!0:Nr,d()):a!==Nr},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return i=g,r=v,d()}}function gk(){return iI()(Nr,Nr)}function G_e(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function _T(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function Wv(n){return n=_T(Math.abs(n)),n?n[1]:NaN}function K_e(n,e){return function(t,i){for(var r=t.length,s=[],a=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function z_e(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var q_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qw(n){if(!(e=q_e.exec(n)))throw new Error("invalid format: "+n);var e;return new mk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qw.prototype=mk.prototype;function mk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}mk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $_e(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var NJ;function j_e(n,e){var t=_T(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(NJ=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+_T(n,Math.max(0,e+s-1))[0]}function Q8(n,e){var t=_T(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const k8={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:G_e,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Q8(n*100,e),r:Q8,s:j_e,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function O8(n){return n}var H8=Array.prototype.map,V8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W_e(n){var e=n.grouping===void 0||n.thousands===void 0?O8:K_e(H8.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?O8:z_e(H8.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=qw(h);var g=h.fill,v=h.align,b=h.sign,C=h.symbol,E=h.zero,S=h.width,I=h.comma,T=h.precision,R=h.trim,M=h.type;M==="n"?(I=!0,M="g"):k8[M]||(T===void 0&&(T=12),R=!0,M="g"),(E||g==="0"&&v==="=")&&(E=!0,g="0",v="=");var D=C==="$"?t:C==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",N=C==="$"?i:/[%p]/.test(M)?a:"",H=k8[M],k=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function K(G){var z=D,J=N,ne,pe,V;if(M==="c")J=H(G)+J,G="";else{G=+G;var $=G<0||1/G<0;if(G=isNaN(G)?l:H(Math.abs(G),T),R&&(G=$_e(G)),$&&+G==0&&b!=="+"&&($=!1),z=($?b==="("?b:o:b==="-"||b==="("?"":b)+z,J=(M==="s"?V8[8+NJ/3]:"")+J+($&&b==="("?")":""),k){for(ne=-1,pe=G.length;++ne<pe;)if(V=G.charCodeAt(ne),48>V||V>57){J=(V===46?r+G.slice(ne+1):G.slice(ne))+J,G=G.slice(0,ne);break}}}I&&!E&&(G=e(G,1/0));var ie=z.length+G.length+J.length,ue=ie<S?new Array(S-ie+1).join(g):"";switch(I&&E&&(G=e(ue+G,ue.length?S-J.length:1/0),ue=""),v){case"<":G=z+G+J+ue;break;case"=":G=z+ue+G+J;break;case"^":G=ue.slice(0,ie=ue.length>>1)+z+G+J+ue.slice(ie);break;default:G=ue+z+G+J;break}return s(G)}return K.toString=function(){return h+""},K}function d(h,g){var v=u((h=qw(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(Wv(g)/3)))*3,C=Math.pow(10,-b),E=V8[8+b/3];return function(S){return v(C*S)+E}}return{format:u,formatPrefix:d}}var cS,vk,QJ;Y_e({thousands:",",grouping:[3],currency:["$",""]});function Y_e(n){return cS=W_e(n),vk=cS.format,QJ=cS.formatPrefix,cS}function X_e(n){return Math.max(0,-Wv(Math.abs(n)))}function J_e(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wv(e)/3)))*3-Wv(Math.abs(n)))}function Z_e(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Wv(e)-Wv(n))+1}function kJ(n,e,t,i){var r=LN(n,e,t),s;switch(i=qw(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=J_e(r,a))&&(i.precision=s),QJ(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Z_e(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=X_e(r))&&(i.precision=s-(i.type==="%")*2);break}}return vk(i)}function Pd(n){var e=n.domain;return n.ticks=function(t){var i=e();return RN(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return kJ(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,a=i[r],o=i[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=r,r=s,s=u);d-- >0;){if(u=DN(a,o,t),u===l)return i[r]=a,i[s]=o,e(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function OJ(){var n=gk();return n.copy=function(){return zB(n,OJ())},$a.apply(n,arguments),Pd(n)}function HJ(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,ST),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return HJ(n).unknown(e)},n=arguments.length?Array.from(n,ST):[0,1],Pd(t)}function VJ(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],a;return s<r&&(a=t,t=i,i=a,a=r,r=s,s=a),n[t]=e.floor(r),n[i]=e.ceil(s),n}function G8(n){return Math.log(n)}function K8(n){return Math.exp(n)}function eTe(n){return-Math.log(-n)}function tTe(n){return-Math.exp(-n)}function nTe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function iTe(n){return n===10?nTe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function rTe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function z8(n){return(e,t)=>-n(-e,t)}function yk(n){const e=n(G8,K8),t=e.domain;let i=10,r,s;function a(){return r=rTe(i),s=iTe(i),t()[0]<0?(r=z8(r),s=z8(s),n(eTe,tTe)):n(G8,K8),e}return e.base=function(o){return arguments.length?(i=+o,a()):i},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=r(u),v=r(d),b,C;const E=o==null?10:+o;let S=[];if(!(i%1)&&v-g<E){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(b=1;b<i;++b)if(C=g<0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;S.push(C)}}else for(;g<=v;++g)for(b=i-1;b>=1;--b)if(C=g>0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;S.push(C)}S.length*2<E&&(S=RN(u,d,E))}else S=RN(g,v,Math.min(v-g,E)).map(s);return h?S.reverse():S},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=qw(l)).precision==null&&(l.trim=!0),l=vk(l)),o===1/0)return l;const u=Math.max(1,i*o/e.ticks().length);return d=>{let h=d/s(Math.round(r(d)));return h*i<i-.5&&(h*=i),h<=u?l(d):""}},e.nice=()=>t(VJ(t(),{floor:o=>s(Math.floor(r(o))),ceil:o=>s(Math.ceil(r(o)))})),e}function GJ(){const n=yk(iI()).domain([1,10]);return n.copy=()=>zB(n,GJ()).base(n.base()),$a.apply(n,arguments),n}function q8(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function $8(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function wk(n){var e=1,t=n(q8(e),$8(e));return t.constant=function(i){return arguments.length?n(q8(e=+i),$8(e)):e},Pd(t)}function KJ(){var n=wk(iI());return n.copy=function(){return zB(n,KJ()).constant(n.constant())},$a.apply(n,arguments)}function j8(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function sTe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function aTe(n){return n<0?-n*n:n*n}function bk(n){var e=n(Nr,Nr),t=1;function i(){return t===1?n(Nr,Nr):t===.5?n(sTe,aTe):n(j8(t),j8(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},Pd(e)}function Ck(){var n=bk(iI());return n.copy=function(){return zB(n,Ck()).exponent(n.exponent())},$a.apply(n,arguments),n}function oTe(){return Ck.apply(null,arguments).exponent(.5)}function W8(n){return Math.sign(n)*n*n}function ATe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function zJ(){var n=gk(),e=[0,1],t=!1,i;function r(s){var a=ATe(n(s));return isNaN(a)?i:t?Math.round(a):a}return r.invert=function(s){return n.invert(W8(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,ST)).map(W8)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return zJ(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},$a.apply(r,arguments),Pd(r)}function qJ(){var n=[],e=[],t=[],i;function r(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=d_e(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?i:e[GB(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(Bd),r()},s.range=function(a){return arguments.length?(e=Array.from(a),r()):e.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return qJ().domain(n).range(e).unknown(i)},$a.apply(s,arguments)}function $J(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function a(l){return l!=null&&l<=l?r[GB(i,l,0,t)]:s}function o(){var l=-1;for(i=new Array(t);++l<t;)i[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(r=Array.from(l)).length-1,o()):r.slice()},a.invertExtent=function(l){var u=r.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=t?[i[t-1],e]:[i[u-1],i[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return i.slice()},a.copy=function(){return $J().domain([n,e]).range(r).unknown(s)},$a.apply(Pd(a),arguments)}function jJ(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[GB(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return jJ().domain(n).range(e).unknown(t)},$a.apply(r,arguments)}const NP=new Date,QP=new Date;function wi(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),r.range=(s,a,o)=>{const l=[];if(s=r.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},r.filter=s=>wi(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(r.count=(s,a)=>(NP.setTime(+s),QP.setTime(+a),n(NP),n(QP),Math.floor(t(NP,QP))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?a=>i(a)%s===0:a=>r.count(0,a)%s===0):r)),r}const TT=wi(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);TT.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?wi(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):TT);TT.range;const jl=1e3,Qa=jl*60,Wl=Qa*60,lu=Wl*24,Bk=lu*7,Y8=lu*30,kP=lu*365,mf=wi(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*jl)},(n,e)=>(e-n)/jl,n=>n.getUTCSeconds());mf.range;const Ek=wi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*jl)},(n,e)=>{n.setTime(+n+e*Qa)},(n,e)=>(e-n)/Qa,n=>n.getMinutes());Ek.range;const xk=wi(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Qa)},(n,e)=>(e-n)/Qa,n=>n.getUTCMinutes());xk.range;const Sk=wi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*jl-n.getMinutes()*Qa)},(n,e)=>{n.setTime(+n+e*Wl)},(n,e)=>(e-n)/Wl,n=>n.getHours());Sk.range;const _k=wi(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Wl)},(n,e)=>(e-n)/Wl,n=>n.getUTCHours());_k.range;const qB=wi(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Qa)/lu,n=>n.getDate()-1);qB.range;const rI=wi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/lu,n=>n.getUTCDate()-1);rI.range;const WJ=wi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/lu,n=>Math.floor(n/lu));WJ.range;function dp(n){return wi(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qa)/Bk)}const sI=dp(0),IT=dp(1),lTe=dp(2),uTe=dp(3),Yv=dp(4),cTe=dp(5),dTe=dp(6);sI.range;IT.range;lTe.range;uTe.range;Yv.range;cTe.range;dTe.range;function fp(n){return wi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Bk)}const aI=fp(0),FT=fp(1),fTe=fp(2),hTe=fp(3),Xv=fp(4),pTe=fp(5),gTe=fp(6);aI.range;FT.range;fTe.range;hTe.range;Xv.range;pTe.range;gTe.range;const Tk=wi(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());Tk.range;const Ik=wi(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Ik.range;const uu=wi(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());uu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:wi(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});uu.range;const cu=wi(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());cu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:wi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});cu.range;function YJ(n,e,t,i,r,s){const a=[[mf,1,jl],[mf,5,5*jl],[mf,15,15*jl],[mf,30,30*jl],[s,1,Qa],[s,5,5*Qa],[s,15,15*Qa],[s,30,30*Qa],[r,1,Wl],[r,3,3*Wl],[r,6,6*Wl],[r,12,12*Wl],[i,1,lu],[i,2,2*lu],[t,1,Bk],[e,1,Y8],[e,3,3*Y8],[n,1,kP]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),b=v?v.range(u,+d+1):[];return g?b.reverse():b}function l(u,d,h){const g=Math.abs(d-u)/h,v=uk(([,,E])=>E).right(a,g);if(v===a.length)return n.every(LN(u/kP,d/kP,h));if(v===0)return TT.every(Math.max(LN(u,d,h),1));const[b,C]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(C)}return[o,l]}const[mTe,vTe]=YJ(cu,Ik,aI,WJ,_k,xk),[yTe,wTe]=YJ(uu,Tk,sI,qB,Sk,Ek);function OP(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function HP(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function _0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function bTe(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=T0(r),d=I0(r),h=T0(s),g=I0(s),v=T0(a),b=I0(a),C=T0(o),E=I0(o),S=T0(l),I=I0(l),T={a:$,A:ie,b:ue,B:Ce,c:null,d:nq,e:nq,f:KTe,g:e1e,G:n1e,H:HTe,I:VTe,j:GTe,L:XJ,m:zTe,M:qTe,p:q,q:Y,Q:sq,s:aq,S:$Te,u:jTe,U:WTe,V:YTe,w:XTe,W:JTe,x:null,X:null,y:ZTe,Y:t1e,Z:i1e,"%":rq},R={a:Ae,A:de,b:be,B:ye,c:null,d:iq,e:iq,f:o1e,g:m1e,G:y1e,H:r1e,I:s1e,j:a1e,L:ZJ,m:A1e,M:l1e,p:we,q:ft,Q:sq,s:aq,S:u1e,u:c1e,U:d1e,V:f1e,w:h1e,W:p1e,x:null,X:null,y:g1e,Y:v1e,Z:w1e,"%":rq},M={a:K,A:G,b:z,B:J,c:ne,d:eq,e:eq,f:NTe,g:Z8,G:J8,H:tq,I:tq,j:PTe,L:LTe,m:MTe,M:RTe,p:k,q:UTe,Q:kTe,s:OTe,S:DTe,u:STe,U:_Te,V:TTe,w:xTe,W:ITe,x:pe,X:V,y:Z8,Y:J8,Z:FTe,"%":QTe};T.x=D(t,T),T.X=D(i,T),T.c=D(e,T),R.x=D(t,R),R.X=D(i,R),R.c=D(e,R);function D(ae,Qe){return function(He){var ge=[],An=-1,We=0,wt=ae.length,Cn,Ar,ea;for(He instanceof Date||(He=new Date(+He));++An<wt;)ae.charCodeAt(An)===37&&(ge.push(ae.slice(We,An)),(Ar=X8[Cn=ae.charAt(++An)])!=null?Cn=ae.charAt(++An):Ar=Cn==="e"?" ":"0",(ea=Qe[Cn])&&(Cn=ea(He,Ar)),ge.push(Cn),We=An+1);return ge.push(ae.slice(We,An)),ge.join("")}}function N(ae,Qe){return function(He){var ge=_0(1900,void 0,1),An=H(ge,ae,He+="",0),We,wt;if(An!=He.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Qe&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(We=HP(_0(ge.y,0,1)),wt=We.getUTCDay(),We=wt>4||wt===0?FT.ceil(We):FT(We),We=rI.offset(We,(ge.V-1)*7),ge.y=We.getUTCFullYear(),ge.m=We.getUTCMonth(),ge.d=We.getUTCDate()+(ge.w+6)%7):(We=OP(_0(ge.y,0,1)),wt=We.getDay(),We=wt>4||wt===0?IT.ceil(We):IT(We),We=qB.offset(We,(ge.V-1)*7),ge.y=We.getFullYear(),ge.m=We.getMonth(),ge.d=We.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),wt="Z"in ge?HP(_0(ge.y,0,1)).getUTCDay():OP(_0(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(wt+5)%7:ge.w+ge.U*7-(wt+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,HP(ge)):OP(ge)}}function H(ae,Qe,He,ge){for(var An=0,We=Qe.length,wt=He.length,Cn,Ar;An<We;){if(ge>=wt)return-1;if(Cn=Qe.charCodeAt(An++),Cn===37){if(Cn=Qe.charAt(An++),Ar=M[Cn in X8?Qe.charAt(An++):Cn],!Ar||(ge=Ar(ae,He,ge))<0)return-1}else if(Cn!=He.charCodeAt(ge++))return-1}return ge}function k(ae,Qe,He){var ge=u.exec(Qe.slice(He));return ge?(ae.p=d.get(ge[0].toLowerCase()),He+ge[0].length):-1}function K(ae,Qe,He){var ge=v.exec(Qe.slice(He));return ge?(ae.w=b.get(ge[0].toLowerCase()),He+ge[0].length):-1}function G(ae,Qe,He){var ge=h.exec(Qe.slice(He));return ge?(ae.w=g.get(ge[0].toLowerCase()),He+ge[0].length):-1}function z(ae,Qe,He){var ge=S.exec(Qe.slice(He));return ge?(ae.m=I.get(ge[0].toLowerCase()),He+ge[0].length):-1}function J(ae,Qe,He){var ge=C.exec(Qe.slice(He));return ge?(ae.m=E.get(ge[0].toLowerCase()),He+ge[0].length):-1}function ne(ae,Qe,He){return H(ae,e,Qe,He)}function pe(ae,Qe,He){return H(ae,t,Qe,He)}function V(ae,Qe,He){return H(ae,i,Qe,He)}function $(ae){return a[ae.getDay()]}function ie(ae){return s[ae.getDay()]}function ue(ae){return l[ae.getMonth()]}function Ce(ae){return o[ae.getMonth()]}function q(ae){return r[+(ae.getHours()>=12)]}function Y(ae){return 1+~~(ae.getMonth()/3)}function Ae(ae){return a[ae.getUTCDay()]}function de(ae){return s[ae.getUTCDay()]}function be(ae){return l[ae.getUTCMonth()]}function ye(ae){return o[ae.getUTCMonth()]}function we(ae){return r[+(ae.getUTCHours()>=12)]}function ft(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Qe=D(ae+="",T);return Qe.toString=function(){return ae},Qe},parse:function(ae){var Qe=N(ae+="",!1);return Qe.toString=function(){return ae},Qe},utcFormat:function(ae){var Qe=D(ae+="",R);return Qe.toString=function(){return ae},Qe},utcParse:function(ae){var Qe=N(ae+="",!0);return Qe.toString=function(){return ae},Qe}}}var X8={"-":"",_:" ",0:"0"},Oi=/^\s*\d+/,CTe=/^%/,BTe=/[\\^$*+?|[\]().{}]/g;function Mt(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function ETe(n){return n.replace(BTe,"\\$&")}function T0(n){return new RegExp("^(?:"+n.map(ETe).join("|")+")","i")}function I0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function xTe(n,e,t){var i=Oi.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function STe(n,e,t){var i=Oi.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function _Te(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function TTe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function ITe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function J8(n,e,t){var i=Oi.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function Z8(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function FTe(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function UTe(n,e,t){var i=Oi.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function MTe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function eq(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function PTe(n,e,t){var i=Oi.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function tq(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function RTe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function DTe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function LTe(n,e,t){var i=Oi.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function NTe(n,e,t){var i=Oi.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function QTe(n,e,t){var i=CTe.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function kTe(n,e,t){var i=Oi.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function OTe(n,e,t){var i=Oi.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function nq(n,e){return Mt(n.getDate(),e,2)}function HTe(n,e){return Mt(n.getHours(),e,2)}function VTe(n,e){return Mt(n.getHours()%12||12,e,2)}function GTe(n,e){return Mt(1+qB.count(uu(n),n),e,3)}function XJ(n,e){return Mt(n.getMilliseconds(),e,3)}function KTe(n,e){return XJ(n,e)+"000"}function zTe(n,e){return Mt(n.getMonth()+1,e,2)}function qTe(n,e){return Mt(n.getMinutes(),e,2)}function $Te(n,e){return Mt(n.getSeconds(),e,2)}function jTe(n){var e=n.getDay();return e===0?7:e}function WTe(n,e){return Mt(sI.count(uu(n)-1,n),e,2)}function JJ(n){var e=n.getDay();return e>=4||e===0?Yv(n):Yv.ceil(n)}function YTe(n,e){return n=JJ(n),Mt(Yv.count(uu(n),n)+(uu(n).getDay()===4),e,2)}function XTe(n){return n.getDay()}function JTe(n,e){return Mt(IT.count(uu(n)-1,n),e,2)}function ZTe(n,e){return Mt(n.getFullYear()%100,e,2)}function e1e(n,e){return n=JJ(n),Mt(n.getFullYear()%100,e,2)}function t1e(n,e){return Mt(n.getFullYear()%1e4,e,4)}function n1e(n,e){var t=n.getDay();return n=t>=4||t===0?Yv(n):Yv.ceil(n),Mt(n.getFullYear()%1e4,e,4)}function i1e(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Mt(e/60|0,"0",2)+Mt(e%60,"0",2)}function iq(n,e){return Mt(n.getUTCDate(),e,2)}function r1e(n,e){return Mt(n.getUTCHours(),e,2)}function s1e(n,e){return Mt(n.getUTCHours()%12||12,e,2)}function a1e(n,e){return Mt(1+rI.count(cu(n),n),e,3)}function ZJ(n,e){return Mt(n.getUTCMilliseconds(),e,3)}function o1e(n,e){return ZJ(n,e)+"000"}function A1e(n,e){return Mt(n.getUTCMonth()+1,e,2)}function l1e(n,e){return Mt(n.getUTCMinutes(),e,2)}function u1e(n,e){return Mt(n.getUTCSeconds(),e,2)}function c1e(n){var e=n.getUTCDay();return e===0?7:e}function d1e(n,e){return Mt(aI.count(cu(n)-1,n),e,2)}function e7(n){var e=n.getUTCDay();return e>=4||e===0?Xv(n):Xv.ceil(n)}function f1e(n,e){return n=e7(n),Mt(Xv.count(cu(n),n)+(cu(n).getUTCDay()===4),e,2)}function h1e(n){return n.getUTCDay()}function p1e(n,e){return Mt(FT.count(cu(n)-1,n),e,2)}function g1e(n,e){return Mt(n.getUTCFullYear()%100,e,2)}function m1e(n,e){return n=e7(n),Mt(n.getUTCFullYear()%100,e,2)}function v1e(n,e){return Mt(n.getUTCFullYear()%1e4,e,4)}function y1e(n,e){var t=n.getUTCDay();return n=t>=4||t===0?Xv(n):Xv.ceil(n),Mt(n.getUTCFullYear()%1e4,e,4)}function w1e(){return"+0000"}function rq(){return"%"}function sq(n){return+n}function aq(n){return Math.floor(+n/1e3)}var Ag,t7,n7;b1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b1e(n){return Ag=bTe(n),t7=Ag.format,Ag.parse,n7=Ag.utcFormat,Ag.utcParse,Ag}function C1e(n){return new Date(n)}function B1e(n){return n instanceof Date?+n:+new Date(+n)}function Fk(n,e,t,i,r,s,a,o,l,u){var d=gk(),h=d.invert,g=d.domain,v=u(".%L"),b=u(":%S"),C=u("%I:%M"),E=u("%I %p"),S=u("%a %d"),I=u("%b %d"),T=u("%B"),R=u("%Y");function M(D){return(l(D)<D?v:o(D)<D?b:a(D)<D?C:s(D)<D?E:i(D)<D?r(D)<D?S:I:t(D)<D?T:R)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?g(Array.from(D,B1e)):g().map(C1e)},d.ticks=function(D){var N=g();return n(N[0],N[N.length-1],D??10)},d.tickFormat=function(D,N){return N==null?M:u(N)},d.nice=function(D){var N=g();return(!D||typeof D.range!="function")&&(D=e(N[0],N[N.length-1],D??10)),D?g(VJ(N,D)):d},d.copy=function(){return zB(d,Fk(n,e,t,i,r,s,a,o,l,u))},d}function E1e(){return $a.apply(Fk(yTe,wTe,uu,Tk,sI,qB,Sk,Ek,mf,t7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function x1e(){return $a.apply(Fk(mTe,vTe,cu,Ik,aI,rI,_k,xk,mf,n7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function oI(){var n=0,e=1,t,i,r,s,a=Nr,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(r===0?.5:(h=(s(h)-t)*r,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,b;return arguments.length?([v,b]=g,a=h(v,b),u):[a(0),a(1)]}}return u.range=d(ly),u.rangeRound=d(pk),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),i=h(e),r=t===i?0:1/(i-t),u}}function Rd(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function i7(){var n=Pd(oI()(Nr));return n.copy=function(){return Rd(n,i7())},Cu.apply(n,arguments)}function r7(){var n=yk(oI()).domain([1,10]);return n.copy=function(){return Rd(n,r7()).base(n.base())},Cu.apply(n,arguments)}function s7(){var n=wk(oI());return n.copy=function(){return Rd(n,s7()).constant(n.constant())},Cu.apply(n,arguments)}function Uk(){var n=bk(oI());return n.copy=function(){return Rd(n,Uk()).exponent(n.exponent())},Cu.apply(n,arguments)}function S1e(){return Uk.apply(null,arguments).exponent(.5)}function a7(){var n=[],e=Nr;function t(i){if(i!=null&&!isNaN(i=+i))return e((GB(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Bd),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>c_e(n,s/i))},t.copy=function(){return a7(e).domain(n)},Cu.apply(t,arguments)}function AI(){var n=0,e=.5,t=1,i=1,r,s,a,o,l,u=Nr,d,h=!1,g;function v(C){return isNaN(C=+C)?g:(C=.5+((C=+d(C))-s)*(i*C<i*s?o:l),u(h?Math.max(0,Math.min(1,C)):C))}v.domain=function(C){return arguments.length?([n,e,t]=C,r=d(n=+n),s=d(e=+e),a=d(t=+t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v):[n,e,t]},v.clamp=function(C){return arguments.length?(h=!!C,v):h},v.interpolator=function(C){return arguments.length?(u=C,v):u};function b(C){return function(E){var S,I,T;return arguments.length?([S,I,T]=E,u=Q_e(C,[S,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=b(ly),v.rangeRound=b(pk),v.unknown=function(C){return arguments.length?(g=C,v):g},function(C){return d=C,r=C(n),s=C(e),a=C(t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v}}function o7(){var n=Pd(AI()(Nr));return n.copy=function(){return Rd(n,o7())},Cu.apply(n,arguments)}function A7(){var n=yk(AI()).domain([.1,1,10]);return n.copy=function(){return Rd(n,A7()).base(n.base())},Cu.apply(n,arguments)}function l7(){var n=wk(AI());return n.copy=function(){return Rd(n,l7()).constant(n.constant())},Cu.apply(n,arguments)}function Mk(){var n=bk(AI());return n.copy=function(){return Rd(n,Mk()).exponent(n.exponent())},Cu.apply(n,arguments)}function _1e(){return Mk.apply(null,arguments).exponent(.5)}const fw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dk,scaleDiverging:o7,scaleDivergingLog:A7,scaleDivergingPow:Mk,scaleDivergingSqrt:_1e,scaleDivergingSymlog:l7,scaleIdentity:HJ,scaleImplicit:NN,scaleLinear:OJ,scaleLog:GJ,scaleOrdinal:ck,scalePoint:h_e,scalePow:Ck,scaleQuantile:qJ,scaleQuantize:$J,scaleRadial:zJ,scaleSequential:i7,scaleSequentialLog:r7,scaleSequentialPow:Uk,scaleSequentialQuantile:a7,scaleSequentialSqrt:S1e,scaleSequentialSymlog:s7,scaleSqrt:oTe,scaleSymlog:KJ,scaleThreshold:jJ,scaleTime:E1e,scaleUtc:x1e,tickFormat:kJ},Symbol.toStringTag,{value:"Module"}));var Dd=n=>n.chartData,T1e=se([Dd],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),Pk=(n,e,t,i)=>i?T1e(n):Dd(n);function Id(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(Jn(e)&&Jn(t))return!0}return!1}function oq(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function u7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,i]=n,r,s;if(Jn(t))r=t;else if(typeof t=="function")return;if(Jn(i))s=i;else if(typeof i=="function")return;var a=[r,s];if(Id(a))return a}}function I1e(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,t);if(Id(i))return oq(i,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,a,o;if(r==="auto")e!=null&&(a=Math.min(...e));else if(Ke(r))a=r;else if(typeof r=="function")try{e!=null&&(a=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&L5.test(r)){var l=L5.exec(r);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(Ke(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&N5.test(s)){var d=N5.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(Id(g))return e==null?g:oq(g,e,t)}}}var uy=1e9,F1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dk,Tn=!0,za="[DecimalError] ",Yh=za+"Invalid argument: ",Rk=za+"Exponent out of range: ",cy=Math.floor,uf=Math.pow,U1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qs,Li=1e7,wn=7,c7=9007199254740991,UT=cy(c7/wn),Ue={};Ue.absoluteValue=Ue.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Ue.comparedTo=Ue.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*wn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Ue.dividedBy=Ue.div=function(n){return Zl(this,new this.constructor(n))};Ue.dividedToIntegerBy=Ue.idiv=function(n){var e=this,t=e.constructor;return on(Zl(e,new t(n),0,1),t.precision)};Ue.equals=Ue.eq=function(n){return!this.cmp(n)};Ue.exponent=function(){return ui(this)};Ue.greaterThan=Ue.gt=function(n){return this.cmp(n)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(n){return this.cmp(n)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(n){return this.cmp(n)<0};Ue.lessThanOrEqualTo=Ue.lte=function(n){return this.cmp(n)<1};Ue.logarithm=Ue.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(qs))throw Error(za+"NaN");if(t.s<1)throw Error(za+(t.s?"NaN":"-Infinity"));return t.eq(qs)?new i(0):(Tn=!1,e=Zl($w(t,s),$w(n,s),s),Tn=!0,on(e,r))};Ue.minus=Ue.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?h7(e,n):d7(e,(n.s=-n.s,n))};Ue.modulo=Ue.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(za+"NaN");return t.s?(Tn=!1,e=Zl(t,n,0,1).times(n),Tn=!0,t.minus(e)):on(new i(t),r)};Ue.naturalExponential=Ue.exp=function(){return f7(this)};Ue.naturalLogarithm=Ue.ln=function(){return $w(this)};Ue.negated=Ue.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Ue.plus=Ue.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?d7(e,n):h7(e,(n.s=-n.s,n))};Ue.precision=Ue.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Yh+n);if(e=ui(r)+1,i=r.d.length-1,t=i*wn+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};Ue.squareRoot=Ue.sqrt=function(){var n,e,t,i,r,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(za+"NaN")}for(n=ui(o),Tn=!1,r=Math.sqrt(+o),r==0||r==1/0?(e=fA(o.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=cy((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new l(e)):i=new l(r.toString()),t=l.precision,r=a=t+3;;)if(s=i,i=s.plus(Zl(o,s,a+2)).times(.5),fA(s.d).slice(0,a)===(e=fA(i.d)).slice(0,a)){if(e=e.slice(a-3,a+1),r==a&&e=="4999"){if(on(s,t+1,0),s.times(s).eq(o)){i=s;break}}else if(e!="9999")break;a+=4}return Tn=!0,on(i,t)};Ue.times=Ue.mul=function(n){var e,t,i,r,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,i=a;i--;)s.push(0);for(i=u;--i>=0;){for(e=0,r=l+i;r>i;)o=s[r]+v[i]*g[r-i-1]+e,s[r--]=o%Li|0,e=o/Li|0;s[r]=(s[r]+e)%Li|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,Tn?on(n,h.precision):n};Ue.toDecimalPlaces=Ue.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(mA(n,0,uy),e===void 0?e=i.rounding:mA(e,0,8),on(t,n+ui(t)+1,e))};Ue.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=ip(i,!0):(mA(n,0,uy),e===void 0?e=r.rounding:mA(e,0,8),i=on(new r(i),n+1,e),t=ip(i,!0,n+1)),t};Ue.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?ip(r):(mA(n,0,uy),e===void 0?e=s.rounding:mA(e,0,8),i=on(new s(r),n+ui(r)+1,e),t=ip(i.abs(),!1,n+ui(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};Ue.toInteger=Ue.toint=function(){var n=this,e=n.constructor;return on(new e(n),ui(n)+1,e.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(n){var e,t,i,r,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(qs);if(o=new l(o),!o.s){if(n.s<1)throw Error(za+"Infinity");return o}if(o.eq(qs))return o;if(i=l.precision,n.eq(qs))return on(o,i);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=c7){for(r=new l(qs),e=Math.ceil(i/wn+4),Tn=!1;t%2&&(r=r.times(o),lq(r.d,e)),t=cy(t/2),t!==0;)o=o.times(o),lq(o.d,e);return Tn=!0,n.s<0?new l(qs).div(r):on(r,i)}}else if(s<0)throw Error(za+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Tn=!1,r=n.times($w(o,i+u)),Tn=!0,r=f7(r),r.s=s,r};Ue.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=ui(r),i=ip(r,t<=s.toExpNeg||t>=s.toExpPos)):(mA(n,1,uy),e===void 0?e=s.rounding:mA(e,0,8),r=on(new s(r),n,e),t=ui(r),i=ip(r,n<=t||t<=s.toExpNeg,n)),i};Ue.toSignificantDigits=Ue.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(mA(n,1,uy),e===void 0?e=i.rounding:mA(e,0,8)),on(new i(t),n,e)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=ui(n),t=n.constructor;return ip(n,e<=t.toExpNeg||e>=t.toExpPos)};function d7(n,e){var t,i,r,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),Tn?on(e,h):e;if(l=n.d,u=e.d,a=n.e,r=e.e,l=l.slice(),s=a-r,s){for(s<0?(i=l,s=-s,o=u.length):(i=u,r=a,o=l.length),a=Math.ceil(h/wn),o=a>o?a+1:o+1,s>o&&(s=o,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,i=u,u=l,l=i),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/Li|0,l[s]%=Li;for(t&&(l.unshift(t),++r),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=r,Tn?on(e,h):e}function mA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Yh+n)}function fA(n){var e,t,i,r=n.length-1,s="",a=n[0];if(r>0){for(s+=a,e=1;e<r;e++)i=n[e]+"",t=wn-i.length,t&&(s+=nc(t)),s+=i;a=n[e],i=a+"",t=wn-i.length,t&&(s+=nc(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Zl=(function(){function n(i,r){var s,a=0,o=i.length;for(i=i.slice();o--;)s=i[o]*r+a,i[o]=s%Li|0,a=s/Li|0;return a&&i.unshift(a),i}function e(i,r,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(i[o]!=r[o]){l=i[o]>r[o]?1:-1;break}return l}function t(i,r,s){for(var a=0;s--;)i[s]-=a,a=i[s]<r[s]?1:0,i[s]=a*Li+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,a){var o,l,u,d,h,g,v,b,C,E,S,I,T,R,M,D,N,H,k=i.constructor,K=i.s==r.s?1:-1,G=i.d,z=r.d;if(!i.s)return new k(i);if(!r.s)throw Error(za+"Division by zero");for(l=i.e-r.e,N=z.length,M=G.length,v=new k(K),b=v.d=[],u=0;z[u]==(G[u]||0);)++u;if(z[u]>(G[u]||0)&&--l,s==null?I=s=k.precision:a?I=s+(ui(i)-ui(r))+1:I=s,I<0)return new k(0);if(I=I/wn+2|0,u=0,N==1)for(d=0,z=z[0],I++;(u<M||d)&&I--;u++)T=d*Li+(G[u]||0),b[u]=T/z|0,d=T%z|0;else{for(d=Li/(z[0]+1)|0,d>1&&(z=n(z,d),G=n(G,d),N=z.length,M=G.length),R=N,C=G.slice(0,N),E=C.length;E<N;)C[E++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=Li/2&&++D;do d=0,o=e(z,C,N,E),o<0?(S=C[0],N!=E&&(S=S*Li+(C[1]||0)),d=S/D|0,d>1?(d>=Li&&(d=Li-1),h=n(z,d),g=h.length,E=C.length,o=e(h,C,g,E),o==1&&(d--,t(h,N<g?H:z,g))):(d==0&&(o=d=1),h=z.slice()),g=h.length,g<E&&h.unshift(0),t(C,h,E),o==-1&&(E=C.length,o=e(z,C,N,E),o<1&&(d++,t(C,N<E?H:z,E))),E=C.length):o===0&&(d++,C=[0]),b[u++]=d,o&&C[0]?C[E++]=G[R]||0:(C=[G[R]],E=1);while((R++<M||C[0]!==void 0)&&I--)}return b[0]||b.shift(),v.e=l,on(v,a?s+ui(v)+1:s)}})();function f7(n,e){var t,i,r,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(ui(n)>16)throw Error(Rk+ui(n));if(!n.s)return new d(qs);for(Tn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(i=Math.log(uf(2,u))/Math.LN10*2+5|0,o+=i,t=r=s=new d(qs),d.precision=o;;){if(r=on(r.times(n),o),t=t.times(++l),a=s.plus(Zl(r,t,o)),fA(a.d).slice(0,o)===fA(s.d).slice(0,o)){for(;u--;)s=on(s.times(s),o);return d.precision=h,e==null?(Tn=!0,on(s,h)):s}s=a}}function ui(n){for(var e=n.e*wn,t=n.d[0];t>=10;t/=10)e++;return e}function VP(n,e,t){if(e>n.LN10.sd())throw Tn=!0,t&&(n.precision=t),Error(za+"LN10 precision limit exceeded");return on(new n(n.LN10),e)}function nc(n){for(var e="";n--;)e+="0";return e}function $w(n,e){var t,i,r,s,a,o,l,u,d,h=1,g=10,v=n,b=v.d,C=v.constructor,E=C.precision;if(v.s<1)throw Error(za+(v.s?"NaN":"-Infinity"));if(v.eq(qs))return new C(0);if(e==null?(Tn=!1,u=E):u=e,v.eq(10))return e==null&&(Tn=!0),VP(C,u);if(u+=g,C.precision=u,t=fA(b),i=t.charAt(0),s=ui(v),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)v=v.times(n),t=fA(v.d),i=t.charAt(0),h++;s=ui(v),i>1?(v=new C("0."+t),s++):v=new C(i+"."+t.slice(1))}else return l=VP(C,u+2,E).times(s+""),v=$w(new C(i+"."+t.slice(1)),u-g).plus(l),C.precision=E,e==null?(Tn=!0,on(v,E)):v;for(o=a=v=Zl(v.minus(qs),v.plus(qs),u),d=on(v.times(v),u),r=3;;){if(a=on(a.times(d),u),l=o.plus(Zl(a,new C(r),u)),fA(l.d).slice(0,u)===fA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(VP(C,u+2,E).times(s+""))),o=Zl(o,new C(h),u),C.precision=E,e==null?(Tn=!0,on(o,E)):o;o=l,r+=2}}function Aq(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=cy(t/wn),n.d=[],i=(t+1)%wn,t<0&&(i+=wn),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=wn;i<r;)n.d.push(+e.slice(i,i+=wn));e=e.slice(i),i=wn-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),Tn&&(n.e>UT||n.e<-UT))throw Error(Rk+t)}else n.s=0,n.e=0,n.d=[0];return n}function on(n,e,t){var i,r,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(i=e-a,i<0)i+=wn,r=e,u=h[d=0];else{if(d=Math.ceil((i+1)/wn),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;i%=wn,r=i-wn+a}if(t!==void 0&&(s=uf(10,a-r-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(i>0?r>0?u/uf(10,a-r):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=ui(n),h.length=1,e=e-s-1,h[0]=uf(10,(wn-e%wn)%wn),n.e=cy(-e/wn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(i==0?(h.length=d,s=1,d--):(h.length=d+1,s=uf(10,wn-i),h[d]=r>0?(u/uf(10,a-r)%uf(10,r)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==Li&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=Li)break;h[d--]=0,s=1}for(i=h.length;h[--i]===0;)h.pop();if(Tn&&(n.e>UT||n.e<-UT))throw Error(Rk+ui(n));return n}function h7(n,e){var t,i,r,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),Tn?on(e,v):e;if(l=n.d,h=e.d,i=e.e,u=n.e,l=l.slice(),a=u-i,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,i=u,o=l.length),r=Math.max(Math.ceil(v/wn),o)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=l.length,o=h.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(l[r]!=h[r]){d=l[r]<h[r];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,r=h.length-o;r>0;--r)l[o++]=0;for(r=h.length;r>a;){if(l[--r]<h[r]){for(s=r;s&&l[--s]===0;)l[s]=Li-1;--l[s],l[r]+=Li}l[r]-=h[r]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--i;return l[0]?(e.d=l,e.e=i,Tn?on(e,v):e):new g(0)}function ip(n,e,t){var i,r=ui(n),s=fA(n.d),a=s.length;return e?(t&&(i=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+nc(i):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+nc(-r-1)+s,t&&(i=t-a)>0&&(s+=nc(i))):r>=a?(s+=nc(r+1-a),t&&(i=t-r-1)>0&&(s=s+"."+nc(i))):((i=r+1)<a&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-a)>0&&(r+1===a&&(s+="."),s+=nc(i))),n.s<0?"-"+s:s}function lq(n,e){if(n.length>e)return n.length=e,!0}function p7(n){var e,t,i;function r(s){var a=this;if(!(a instanceof r))return new r(s);if(a.constructor=r,s instanceof r){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Yh+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return Aq(a,s.toString())}else if(typeof s!="string")throw Error(Yh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,U1e.test(s))Aq(a,s);else throw Error(Yh+s)}if(r.prototype=Ue,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=p7,r.config=r.set=M1e,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function M1e(n){if(!n||typeof n!="object")throw Error(za+"Object expected");var e,t,i,r=["precision",1,uy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(cy(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(Yh+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(Yh+t+": "+i);return this}var Dk=p7(F1e);qs=new Dk(1);const Ht=Dk;var P1e=n=>n,g7={},m7=n=>n===g7,uq=n=>function e(){return arguments.length===0||arguments.length===1&&m7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},v7=(n,e)=>n===1?e:uq(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var s=i.filter(a=>a!==g7).length;return s>=n?e(...i):v7(n-s,uq(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=i.map(d=>m7(d)?o.shift():d);return e(...u,...o)}))}),R1e=n=>v7(n.length,n),HN=(n,e)=>{for(var t=[],i=n;i<e;++i)t[i-n]=i;return t},D1e=R1e((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),L1e=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return P1e;var r=t.reverse(),s=r[0],a=r.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},VN=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function y7(n){var e;return n===0?e=1:e=Math.floor(new Ht(n).abs().log(10).toNumber())+1,e}function w7(n,e,t){for(var i=new Ht(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var b7=n=>{var[e,t]=n,[i,r]=[e,t];return e>t&&([i,r]=[t,e]),[i,r]},C7=(n,e,t)=>{if(n.lte(0))return new Ht(0);var i=y7(n.toNumber()),r=new Ht(10).pow(i),s=n.div(r),a=i!==1?.05:.1,o=new Ht(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(r);return e?new Ht(l.toNumber()):new Ht(Math.ceil(l.toNumber()))},N1e=(n,e,t)=>{var i=new Ht(1),r=new Ht(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new Ht(10).pow(y7(n)-1),r=new Ht(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new Ht(Math.floor(n)))}else n===0?r=new Ht(Math.floor((e-1)/2)):t||(r=new Ht(Math.floor(n)));var a=Math.floor((e-1)/2),o=L1e(D1e(l=>r.add(new Ht(l-a).mul(i)).toNumber()),HN);return o(0,e)},B7=function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new Ht(0),tickMin:new Ht(0),tickMax:new Ht(0)};var a=C7(new Ht(t).sub(e).div(i-1),r,s),o;e<=0&&t>=0?o=new Ht(0):(o=new Ht(e).add(t).div(2),o=o.sub(new Ht(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new Ht(t).sub(o).div(a).toNumber()),d=l+u+1;return d>i?B7(e,t,i,r,s+1):(d<i&&(u=t>0?u+(i-d):u,l=t>0?l:l+(i-d)),{step:a,tickMin:o.sub(new Ht(l).mul(a)),tickMax:o.add(new Ht(u).mul(a))})},Q1e=function(e){var[t,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=b7([t,i]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...HN(0,r-1).map(()=>1/0)]:[...HN(0,r-1).map(()=>-1/0),l];return t>i?VN(u):u}if(o===l)return N1e(o,r,s);var{step:d,tickMin:h,tickMax:g}=B7(o,l,a,s,0),v=w7(h,g.add(new Ht(.1).mul(d)),d);return t>i?VN(v):v},k1e=function(e,t){var[i,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=b7([i,r]);if(a===-1/0||o===1/0)return[i,r];if(a===o)return[a];var l=Math.max(t,2),u=C7(new Ht(o).sub(a).div(l-1),s,0),d=[...w7(new Ht(a),new Ht(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),i>r?VN(d):d},E7=n=>n.rootProps.maxBarSize,O1e=n=>n.rootProps.barGap,x7=n=>n.rootProps.barCategoryGap,H1e=n=>n.rootProps.barSize,lI=n=>n.rootProps.stackOffset,S7=n=>n.rootProps.reverseStackOrder,Lk=n=>n.options.chartName,Nk=n=>n.rootProps.syncId,_7=n=>n.rootProps.syncMethod,Qk=n=>n.options.eventEmitter,cs={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},zl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ks={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},uI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},V1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zl.angleAxisId,includeHidden:!1,name:void 0,reversed:zl.reversed,scale:zl.scale,tick:zl.tick,tickCount:void 0,ticks:void 0,type:zl.type,unit:void 0},G1e={allowDataOverflow:Ks.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ks.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ks.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ks.scale,tick:Ks.tick,tickCount:Ks.tickCount,ticks:void 0,type:Ks.type,unit:void 0},K1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:zl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zl.scale,tick:zl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},z1e={allowDataOverflow:Ks.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ks.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ks.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ks.scale,tick:Ks.tick,tickCount:Ks.tickCount,ticks:void 0,type:"category",unit:void 0},kk=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?K1e:V1e,Ok=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?z1e:G1e,cI=n=>n.polarOptions,Hk=se([wu,bu,ki],kSe),T7=se([cI,Hk],(n,e)=>{if(n!=null)return wo(n.innerRadius,e,0)}),I7=se([cI,Hk],(n,e)=>{if(n!=null)return wo(n.outerRadius,e,e*.8)}),q1e=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},F7=se([cI],q1e);se([kk,F7],uI);var U7=se([Hk,T7,I7],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});se([Ok,U7],uI);var M7=se([Vt,cI,T7,I7,wu,bu],(n,e,t,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||i==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:wo(a,r,r/2),cy:wo(o,s,s/2),innerRadius:t,outerRadius:i,startAngle:l,endAngle:u,clockWise:!1}}}),bi=(n,e)=>e,dI=(n,e,t)=>t;function Vk(n){return n==null?void 0:n.id}function P7(n,e,t){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:i;if(!(u==null||u.length===0)){var d=Vk(o);u.forEach((h,g)=>{var v=s==null||r?g:String(Br(h,s,null)),b=Br(h,o.dataKey,0),C;a.has(v)?C=a.get(v):C={},Object.assign(C,{[d]:b}),a.set(v,C)})}}),Array.from(a.values())}function fI(n){return n.stackId!=null&&n.dataKey!=null}var hI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function pI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function $1e(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var Ci=n=>{var e=Vt(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},dy=n=>n.tooltip.settings.axisId;function cq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function MT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(t),!0).forEach(function(i){j1e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j1e(n,e,t){return(e=W1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W1e(n){var e=Y1e(n,"string");return typeof e=="symbol"?e:e+""}function Y1e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var GN=[0,"auto"],_i={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},R7=(n,e)=>n.cartesianAxis.xAxis[e],Bu=(n,e)=>{var t=R7(n,e);return t??_i},Ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:GN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:OB},D7=(n,e)=>n.cartesianAxis.yAxis[e],Eu=(n,e)=>{var t=D7(n,e);return t??Ti},X1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gk=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??X1e},Hr=(n,e,t)=>{switch(e){case"xAxis":return Bu(n,t);case"yAxis":return Eu(n,t);case"zAxis":return Gk(n,t);case"angleAxis":return kk(n,t);case"radiusAxis":return Ok(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},J1e=(n,e,t)=>{switch(e){case"xAxis":return Bu(n,t);case"yAxis":return Eu(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},$B=(n,e,t)=>{switch(e){case"xAxis":return Bu(n,t);case"yAxis":return Eu(n,t);case"angleAxis":return kk(n,t);case"radiusAxis":return Ok(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},L7=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function N7(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var Kk=n=>n.graphicalItems.cartesianItems,Z1e=se([bi,dI],N7),Q7=(n,e,t)=>n.filter(t).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),jB=se([Kk,Hr,Z1e],Q7,{memoizeOptions:{resultEqualityCheck:pI}}),k7=se([jB],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(fI)),O7=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),eIe=se([jB],O7),H7=n=>n.map(e=>e.data).filter(Boolean).flat(1),tIe=se([jB],H7,{memoizeOptions:{resultEqualityCheck:pI}}),V7=(n,e)=>{var{chartData:t=[],dataStartIndex:i,dataEndIndex:r}=e;return n.length>0?n:t.slice(i,r+1)},zk=se([tIe,Pk],V7),G7=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(i=>({value:Br(i,e.dataKey)})):t.length>0?t.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:Br(r,i)}))):n.map(i=>({value:i})),gI=se([zk,Hr,jB],G7);function K7(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function E_(n){if(gA(n)||n instanceof Date){var e=Number(n);if(Jn(e))return e}}function dq(n){if(Array.isArray(n)){var e=[E_(n[0]),E_(n[1])];return Id(e)?e:void 0}var t=E_(n);if(t!=null)return[t,t]}function du(n){return n.map(E_).filter(oCe)}function nIe(n,e,t){return!t||typeof e!="number"||pA(e)?[]:t.length?du(t.flatMap(i=>{var r=Br(n,i.dataKey),s,a;if(Array.isArray(r)?[s,a]=r:s=a=r,!(!Jn(s)||!Jn(a)))return[e-s,e+a]})):[]}var Bi=n=>{var e=Ci(n),t=dy(n);return $B(n,e,t)},WB=se([Bi],n=>n==null?void 0:n.dataKey),iIe=se([k7,Pk,Bi],P7),z7=(n,e,t,i)=>{var r={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=i?[...l].reverse():l,d=u.map(Vk);return[o,{stackedData:_Ee(n,d,t),graphicalItems:u}]}))},KN=se([iIe,k7,lI,S7],z7),q7=(n,e,t,i)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(i==null&&t!=="zAxis"){var a=MEe(n,r,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},rIe=se([Hr],n=>n.allowDataOverflow),qk=n=>{var e;if(n==null||!("domain"in n))return GN;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=du(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:GN},$7=se([Hr],qk),j7=se([$7,rIe],u7),sIe=se([KN,Dd,bi,j7],q7,{memoizeOptions:{resultEqualityCheck:hI}}),$k=n=>n.errorBars,aIe=(n,e,t)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>K7(t,i)),PT=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);if(r.length!==0){var s=r.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},W7=(n,e,t,i,r)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=i[l.id])===null||u===void 0?void 0:u.filter(S=>K7(r,S)),g=Br(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=nIe(o,g,h);if(v.length>=2){var b=Math.min(...v),C=Math.max(...v);(s==null||b<s)&&(s=b),(a==null||C>a)&&(a=C)}var E=dq(g);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),a=a==null?E[1]:Math.max(a,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=dq(Br(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Jn(s)&&Jn(a))return[s,a]},oIe=se([zk,Hr,eIe,$k,bi],W7,{memoizeOptions:{resultEqualityCheck:hI}});function AIe(n){var{value:e}=n;if(gA(e)||e instanceof Date)return e}var lIe=(n,e,t)=>{var i=n.map(AIe).filter(r=>r!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&f9(i))?IJ(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},Y7=n=>n.referenceElements.dots,fy=(n,e,t)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===t:i.yAxisId===t),uIe=se([Y7,bi,dI],fy),X7=n=>n.referenceElements.areas,cIe=se([X7,bi,dI],fy),J7=n=>n.referenceElements.lines,dIe=se([J7,bi,dI],fy),Z7=(n,e)=>{var t=du(n.map(i=>e==="xAxis"?i.x:i.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},fIe=se(uIe,bi,Z7),eZ=(n,e)=>{var t=du(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},hIe=se([cIe,bi],eZ);function pIe(n){var e;if(n.x!=null)return du([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.x);return t==null||t.length===0?[]:du(t)}function gIe(n){var e;if(n.y!=null)return du([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.y);return t==null||t.length===0?[]:du(t)}var tZ=(n,e)=>{var t=n.flatMap(i=>e==="xAxis"?pIe(i):gIe(i));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},mIe=se([dIe,bi],tZ),vIe=se(fIe,mIe,hIe,(n,e,t)=>PT(n,t,e)),nZ=(n,e,t,i,r,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?PT(i,s,r):PT(s,r);return I1e(e,u,n.allowDataOverflow)},yIe=se([Hr,$7,j7,sIe,oIe,vIe,Vt,bi],nZ,{memoizeOptions:{resultEqualityCheck:hI}}),wIe=[0,1],iZ=(n,e,t,i,r,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=cp(e,s);if(u&&o==null){var d;return IJ(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?lIe(i,n,u):r==="expand"?wIe:a}},jk=se([Hr,Vt,zk,gI,lI,bi,yIe],iZ),rZ=(n,e,t,i,r)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":a==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(DB(s));return o in fw?o:"point"}}},YB=se([Hr,Vt,L7,Lk,bi],rZ);function bIe(n){if(n!=null){if(n in fw)return fw[n]();var e="scale".concat(DB(n));if(e in fw)return fw[e]()}}function Wk(n,e,t,i){if(!(t==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(i);var r=bIe(e);if(r!=null){var s=r.domain(t).range(i);return CEe(s),s}}}var sZ=(n,e,t)=>{var i=qk(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Id(n))return Q1e(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Id(n))return k1e(n,e.tickCount,e.allowDecimals)}},Yk=se([jk,$B,YB],sZ),aZ=(n,e,t,i)=>{if(i!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&Id(e)&&Array.isArray(t)&&t.length>0){var r=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(r,s),Math.max(a,o)]}return e},CIe=se([Hr,jk,Yk,bi],aZ),BIe=se(gI,Hr,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,i=Array.from(du(n.map(o=>o.value))).sort((o,l)=>o-l);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var s=0;s<i.length-1;s++){var a=i[s+1]-i[s];t=Math.min(t,a)}return t/r}}),oZ=se(BIe,Vt,x7,ki,(n,e,t,i)=>i,(n,e,t,i,r)=>{if(!Jn(n))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var a=wo(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),EIe=(n,e)=>{var t=Bu(n,e);return t==null||typeof t.padding!="string"?0:oZ(n,"xAxis",e,t.padding)},xIe=(n,e)=>{var t=Eu(n,e);return t==null||typeof t.padding!="string"?0:oZ(n,"yAxis",e,t.padding)},SIe=se(Bu,EIe,(n,e)=>{var t,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:e,right:e}:{left:((t=r.left)!==null&&t!==void 0?t:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),_Ie=se(Eu,xIe,(n,e)=>{var t,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:e,bottom:e}:{top:((t=r.top)!==null&&t!==void 0?t:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),TIe=se([ki,SIe,Y1,W1,(n,e,t)=>t],(n,e,t,i,r)=>{var{padding:s}=i;return r?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),IIe=se([ki,Vt,_Ie,Y1,W1,(n,e,t)=>t],(n,e,t,i,r,s)=>{var{padding:a}=r;return s?[i.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),XB=(n,e,t,i)=>{var r;switch(e){case"xAxis":return TIe(n,t,i);case"yAxis":return IIe(n,t,i);case"zAxis":return(r=Gk(n,t))===null||r===void 0?void 0:r.range;case"angleAxis":return F7(n);case"radiusAxis":return U7(n,t);default:return}},AZ=se([Hr,XB],uI),hy=se([Hr,YB,CIe,AZ],Wk);se([jB,$k,bi],aIe);function lZ(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var mI=(n,e)=>e,vI=(n,e,t)=>t,FIe=se($1,mI,vI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(lZ)),UIe=se(j1,mI,vI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(lZ)),uZ=(n,e)=>({width:n.width,height:e.height}),MIe=(n,e)=>{var t=typeof e.width=="number"?e.width:OB;return{width:t,height:n.height}},cZ=se(ki,Bu,uZ),PIe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},RIe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},DIe=se(bu,ki,FIe,mI,vI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=uZ(e,o);a==null&&(a=PIe(e,i,n));var u=i==="top"&&!r||i==="bottom"&&r;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),LIe=se(wu,ki,UIe,mI,vI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=MIe(e,o);a==null&&(a=RIe(e,i,n));var u=i==="left"&&!r||i==="right"&&r;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),NIe=(n,e)=>{var t=Bu(n,e);if(t!=null)return DIe(n,t.orientation,t.mirror)},QIe=se([ki,Bu,NIe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),kIe=(n,e)=>{var t=Eu(n,e);if(t!=null)return LIe(n,t.orientation,t.mirror)},OIe=se([ki,Eu,kIe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),dZ=se(ki,Eu,(n,e)=>{var t=typeof e.width=="number"?e.width:OB;return{width:t,height:n.height}}),fq=(n,e,t)=>{switch(e){case"xAxis":return cZ(n,t).width;case"yAxis":return dZ(n,t).height;default:return}},fZ=(n,e,t,i)=>{if(t!=null){var{allowDuplicatedCategory:r,type:s,dataKey:a}=t,o=cp(n,i),l=e.map(u=>u.value);if(a&&o&&s==="category"&&r&&f9(l))return l}},Xk=se([Vt,gI,Hr,bi],fZ),hZ=(n,e,t,i)=>{if(!(t==null||t.dataKey==null)){var{type:r,scale:s}=t,a=cp(n,i);if(a&&(r==="number"||s!=="auto"))return e.map(o=>o.value)}},Jk=se([Vt,gI,$B,bi],hZ);se([Vt,J1e,YB,hy,Xk,Jk,XB,Yk,bi],(n,e,t,i,r,s,a,o,l)=>{if(e!=null){var u=cp(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:r,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:i}}});var HIe=(n,e,t,i,r,s,a,o,l)=>{if(!(e==null||i==null)){var u=cp(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,b=d==="category"&&i.bandwidth?i.bandwidth()/v:0;b=l==="angleAxis"&&s!=null&&s.length>=2?$s(s[0]-s[1])*2*b:b;var C=h||r;if(C){var E=C.map((S,I)=>{var T=a?a.indexOf(S):S;return{index:I,coordinate:i(T)+b,value:S,offset:b}});return E.filter(S=>Jn(S.coordinate))}return u&&o?o.map((S,I)=>({coordinate:i(S)+b,value:S,index:I,offset:b})).filter(S=>Jn(S.coordinate)):i.ticks?i.ticks(g).map(S=>({coordinate:i(S)+b,value:S,offset:b})):i.domain().map((S,I)=>({coordinate:i(S)+b,value:a?a[S]:S,index:I,offset:b}))}},pZ=se([Vt,$B,YB,hy,Yk,XB,Xk,Jk,bi],HIe),VIe=(n,e,t,i,r,s,a)=>{if(!(e==null||t==null||i==null||i[0]===i[1])){var o=cp(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(i==null?void 0:i.length)>=2?$s(i[0]-i[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:r?r[d]:d,index:h,offset:u}))}},Jv=se([Vt,$B,hy,XB,Xk,Jk,bi],VIe),Zv=se(Hr,hy,(n,e)=>{if(!(n==null||e==null))return MT(MT({},n),{},{scale:e})}),GIe=se([Hr,YB,jk,AZ],Wk);se((n,e,t)=>Gk(n,t),GIe,(n,e)=>{if(!(n==null||e==null))return MT(MT({},n),{},{scale:e})});var KIe=se([Vt,$1,j1],(n,e,t)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),gZ=n=>n.options.defaultTooltipEventType,mZ=n=>n.options.validateTooltipEventTypes;function vZ(n,e,t){if(n==null)return e;var i=n?"axis":"item";return t==null?e:t.includes(i)?i:e}function Zk(n,e){var t=gZ(n),i=mZ(n);return vZ(e,t,i)}function zIe(n){return Ve(e=>Zk(e,n))}var yZ=(n,e)=>{var t,i=Number(e);if(!(pA(i)||e==null))return i>=0?n==null||(t=n[i])===null||t===void 0?void 0:t.value:void 0},qIe=n=>n.tooltip.settings,ac={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$Ie={itemInteraction:{click:ac,hover:ac},axisInteraction:{click:ac,hover:ac},keyboardInteraction:ac,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},wZ=ds({name:"tooltip",initialState:$Ie,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:_n()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:i}=e.payload,r=yo(n).tooltipItemPayloads.indexOf(t);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:_n()},removeTooltipEntrySettings:{reducer(n,e){var t=yo(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:_n()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:jIe,replaceTooltipEntrySettings:WIe,removeTooltipEntrySettings:YIe,setTooltipSettingsState:XIe,setActiveMouseOverItemIndex:bZ,mouseLeaveItem:JIe,mouseLeaveChart:CZ,setActiveClickItemIndex:ZIe,setMouseOverAxisIndex:BZ,setMouseClickAxisIndex:eFe,setSyncInteraction:zN,setKeyboardInteraction:qN}=wZ.actions,tFe=wZ.reducer;function hq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(t),!0).forEach(function(i){nFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function nFe(n,e,t){return(e=iFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iFe(n){var e=rFe(n,"string");return typeof e=="symbol"?e:e+""}function rFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sFe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function aFe(n){return n.index!=null}var EZ=(n,e,t,i)=>{if(e==null)return ac;var r=sFe(n,e,t);if(r==null)return ac;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(aFe(r)){if(s)return dS(dS({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return dS(dS({},ac),{},{coordinate:r.coordinate})};function oFe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function AFe(n,e){var t=oFe(n),i=e[0],r=e[1];if(t===void 0)return!1;var s=Math.min(i,r),a=Math.max(i,r);return t>=s&&t<=a}function lFe(n,e,t){if(t==null||e==null)return!0;var i=Br(n,e);return i==null||!Id(t)?!0:AFe(i,t)}var eO=(n,e,t,i)=>{var r=n==null?void 0:n.index;if(r==null)return null;var s=Number(r);if(!Jn(s))return r;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||lFe(u,t,i)?String(l):null},xZ=(n,e,t,i,r,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=r==null?void 0:r[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+n)/2,y:d.coordinate}}}},SZ=(n,e,t,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;return t==="hover"?r=n.itemInteraction.hover.dataKey:r=n.itemInteraction.click.dataKey,r==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===r})},JB=n=>n.options.tooltipPayloadSearcher,py=n=>n.tooltip;function pq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pq(Object(t),!0).forEach(function(i){uFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uFe(n,e,t){return(e=cFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cFe(n){var e=dFe(n,"string");return typeof e=="symbol"?e:e+""}function dFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fFe(n,e){return n??e}var _Z=(n,e,t,i,r,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var b,{dataDefinedOnItem:C,settings:E}=v,S=fFe(C,o),I=Array.isArray(S)?sJ(S,u,d):S,T=(b=E==null?void 0:E.dataKey)!==null&&b!==void 0?b:i,R=E==null?void 0:E.nameKey,M;if(i&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?M=aCe(I,i,r):M=s(I,e,l,R),Array.isArray(M))M.forEach(N=>{var H=gq(gq({},E),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});g.push(Q5({tooltipEntrySettings:H,dataKey:N.dataKey,payload:N.payload,value:Br(N.payload,N.dataKey),name:N.name}))});else{var D;g.push(Q5({tooltipEntrySettings:E,dataKey:T,payload:M,value:Br(M,T),name:(D=Br(M,R))!==null&&D!==void 0?D:E==null?void 0:E.name}))}return g},h)}},tO=se([Bi,Vt,L7,Lk,Ci],rZ),hFe=se([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),pFe=se([Ci,dy],N7),ZB=se([hFe,Bi,pFe],Q7,{memoizeOptions:{resultEqualityCheck:pI}}),gFe=se([ZB],n=>n.filter(fI)),mFe=se([ZB],H7,{memoizeOptions:{resultEqualityCheck:pI}}),gy=se([mFe,Dd],V7),vFe=se([gFe,Dd,Bi],P7),nO=se([gy,Bi,ZB],G7),TZ=se([Bi],qk),yFe=se([Bi],n=>n.allowDataOverflow),IZ=se([TZ,yFe],u7),wFe=se([ZB],n=>n.filter(fI)),bFe=se([vFe,wFe,lI,S7],z7),CFe=se([bFe,Dd,Ci,IZ],q7),BFe=se([ZB],O7),EFe=se([gy,Bi,BFe,$k,Ci],W7,{memoizeOptions:{resultEqualityCheck:hI}}),xFe=se([Y7,Ci,dy],fy),SFe=se([xFe,Ci],Z7),_Fe=se([X7,Ci,dy],fy),TFe=se([_Fe,Ci],eZ),IFe=se([J7,Ci,dy],fy),FFe=se([IFe,Ci],tZ),UFe=se([SFe,FFe,TFe],PT),MFe=se([Bi,TZ,IZ,CFe,EFe,UFe,Vt,Ci],nZ),eE=se([Bi,Vt,gy,nO,lI,Ci,MFe],iZ),PFe=se([eE,Bi,tO],sZ),RFe=se([Bi,eE,PFe,Ci],aZ),FZ=n=>{var e=Ci(n),t=dy(n),i=!1;return XB(n,e,t,i)},UZ=se([Bi,FZ],uI),MZ=se([Bi,tO,RFe,UZ],Wk),DFe=se([Vt,nO,Bi,Ci],fZ),LFe=se([Vt,nO,Bi,Ci],hZ),NFe=(n,e,t,i,r,s,a,o)=>{if(e){var{type:l}=e,u=cp(n,o);if(i){var d=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,h=l==="category"&&i.bandwidth?i.bandwidth()/d:0;return h=o==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?$s(r[0]-r[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:i(g)+h,value:g,index:v,offset:h})):i.domain().map((g,v)=>({coordinate:i(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},xu=se([Vt,Bi,tO,MZ,FZ,DFe,LFe,Ci],NFe),iO=se([gZ,mZ,qIe],(n,e,t)=>vZ(t.shared,n,e)),PZ=n=>n.tooltip.settings.trigger,rO=n=>n.tooltip.settings.defaultIndex,tE=se([py,iO,PZ,rO],EZ),ey=se([tE,gy,WB,eE],eO),RZ=se([xu,ey],yZ),DZ=se([tE],n=>{if(n)return n.dataKey});se([tE],n=>{if(n)return n.graphicalItemId});var LZ=se([py,iO,PZ,rO],SZ),QFe=se([wu,bu,Vt,ki,xu,rO,LZ,JB],xZ),kFe=se([tE,QFe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),OFe=se([tE],n=>n.active),HFe=se([LZ,ey,Dd,WB,RZ,JB,iO],_Z);se([HFe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function mq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(t),!0).forEach(function(i){VFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VFe(n,e,t){return(e=GFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GFe(n){var e=KFe(n,"string");return typeof e=="symbol"?e:e+""}function KFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var zFe=()=>Ve(Bi),qFe=()=>{var n=zFe(),e=Ve(xu),t=Ve(MZ);return fT(!n||!t?void 0:vq(vq({},n),{},{scale:t}),e)};function yq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yq(Object(t),!0).forEach(function(i){$Fe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $Fe(n,e,t){return(e=jFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jFe(n){var e=WFe(n,"string");return typeof e=="symbol"?e:e+""}function WFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var YFe=(n,e,t,i)=>{var r=e.find(s=>s&&s.index===t);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},XFe=(n,e,t,i)=>{var r=e.find(u=>u&&u.index===t);if(r){if(n==="centric"){var s=r.coordinate,{radius:a}=i;return lg(lg(lg({},i),ar(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var o=r.coordinate,{angle:l}=i;return lg(lg(lg({},i),ar(i.cx,i.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function JFe(n,e){var{chartX:t,chartY:i}=n;return t>=e.left&&t<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var NZ=(n,e,t,i,r)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if($s(d-u)!==$s(h-d)){var v=[];if($s(h-d)===$s(r[1]-r[0])){g=h;var b=d+r[1]-r[0];v[0]=Math.min(b,(b+u)/2),v[1]=Math.max(b,(b+u)/2)}else{g=u;var C=h+r[1]-r[0];v[0]=Math.min(d,(C+d)/2),v[1]=Math.max(d,(C+d)/2)}var E=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>E[0]&&n<=E[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var S=Math.min(u,h),I=Math.max(u,h);if(n>(S+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},ZFe=()=>Ve(Lk),sO=(n,e)=>e,QZ=(n,e,t)=>t,aO=(n,e,t,i)=>i,eUe=se(xu,n=>Q1(n,e=>e.coordinate)),oO=se([py,sO,QZ,aO],EZ),AO=se([oO,gy,WB,eE],eO),tUe=(n,e,t)=>{if(e!=null){var i=py(n);return e==="axis"?t==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:t==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},kZ=se([py,sO,QZ,aO],SZ),RT=se([wu,bu,Vt,ki,xu,aO,kZ,JB],xZ),nUe=se([oO,RT],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),OZ=se([xu,AO],yZ),iUe=se([kZ,AO,Dd,WB,OZ,JB,sO],_Z),rUe=se([oO,AO],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),sUe=(n,e,t,i,r,s,a)=>{if(!(!n||!t||!i||!r)&&JFe(n,a)){var o=PEe(n,e),l=NZ(o,s,r,t,i),u=YFe(e,r,l,n);return{activeIndex:String(l),activeCoordinate:u}}},aUe=(n,e,t,i,r,s,a)=>{if(!(!n||!i||!r||!s||!t)){var o=KSe(n,t);if(o){var l=REe(o,e),u=NZ(l,a,s,i,r),d=XFe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},oUe=(n,e,t,i,r,s,a,o)=>{if(!(!n||!e||!i||!r||!s))return e==="horizontal"||e==="vertical"?sUe(n,e,i,r,s,a,o):aUe(n,e,t,i,r,s,a)},AUe=se(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var i=n[e];if(i!=null)return t?i.panoramaElementId:i.elementId}}),lUe=se(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(cs)),t=Array.from(new Set(e));return t.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:$1e}});function wq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wq(Object(t),!0).forEach(function(i){uUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uUe(n,e,t){return(e=cUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cUe(n){var e=dUe(n,"string");return typeof e=="symbol"?e:e+""}function dUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fUe={},hUe={zIndexMap:Object.values(cs).reduce((n,e)=>bq(bq({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),fUe)},pUe=new Set(Object.values(cs));function gUe(n){return pUe.has(n)}var HZ=ds({name:"zIndex",initialState:hUe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:_n()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!gUe(t)&&delete n.zIndexMap[t])},prepare:_n()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:i,isPanorama:r}=e.payload;n.zIndexMap[t]?r?n.zIndexMap[t].panoramaElementId=i:n.zIndexMap[t].elementId=i:n.zIndexMap[t]={consumers:0,elementId:r?void 0:i,panoramaElementId:r?i:void 0}},prepare:_n()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:_n()}}}),{registerZIndexPortal:mUe,unregisterZIndexPortal:vUe,registerZIndexPortalId:yUe,unregisterZIndexPortalId:wUe}=HZ.actions,bUe=HZ.reducer;function Ld(n){var{zIndex:e,children:t}=n,i=gxe(),r=i&&e!==void 0&&e!==0,s=Zs(),a=Zn();P.useLayoutEffect(()=>r?(a(mUe({zIndex:e})),()=>{a(vUe({zIndex:e}))}):LB,[a,e,r]);var o=Ve(u=>AUe(u,e,s));if(!r)return t;if(!o)return null;var l=document.getElementById(o);return l?q6.createPortal(t,l):null}function $N(){return $N=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$N.apply(null,arguments)}function Cq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(t),!0).forEach(function(i){CUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CUe(n,e,t){return(e=BUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BUe(n){var e=EUe(n,"string");return typeof e=="symbol"?e:e+""}function EUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xUe(n){var{cursor:e,cursorComp:t,cursorProps:i}=n;return P.isValidElement(e)?P.cloneElement(e,i):P.createElement(t,i)}function SUe(n){var e,{coordinate:t,payload:i,index:r,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=i,v=r;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var b,C,E;if(d==="ScatterChart")b=h,C=rSe,E=cs.cursorLine;else if(d==="BarChart")b=sSe(o,h,s,a),C=xJ,E=cs.cursorRectangle;else if(o==="radial"&&g9(h)){var{cx:S,cy:I,radius:T,startAngle:R,endAngle:M}=SJ(h);b={cx:S,cy:I,startAngle:R,endAngle:M,innerRadius:T,outerRadius:T},C=TJ,E=cs.cursorLine}else b={points:jSe(o,h,s)},C=wJ,E=cs.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,N=fS(fS(fS(fS({stroke:"#ccc",pointerEvents:"none"},s),b),OQ(l)),{},{payload:g,payloadIndex:v,className:bn("recharts-tooltip-cursor",D)});return P.createElement(Ld,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:E},P.createElement(xUe,{cursor:l,cursorComp:C,cursorProps:N}))}function _Ue(n){var e=qFe(),t=fxe(),i=J1(),r=ZFe();return e==null||t==null||i==null||r==null?null:P.createElement(SUe,$N({},n,{offset:t,layout:i,tooltipAxisBandSize:e,chartName:r}))}var VZ=P.createContext(null),TUe=()=>P.useContext(VZ),GP={exports:{}},Bq;function IUe(){return Bq||(Bq=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new r(d,h||l,g),b=t?t+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],v]:l._events[b].push(v):(l._events[b]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,b=new Array(v);g<v;g++)b[g]=h[g].fn;return b},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,b){var C=t?t+u:u;if(!this._events[C])return!1;var E=this._events[C],S=arguments.length,I,T;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,g),!0;case 5:return E.fn.call(E.context,d,h,g,v),!0;case 6:return E.fn.call(E.context,d,h,g,v,b),!0}for(T=1,I=new Array(S-1);T<S;T++)I[T-1]=arguments[T];E.fn.apply(E.context,I)}else{var R=E.length,M;for(T=0;T<R;T++)switch(E[T].once&&this.removeListener(u,E[T].fn,void 0,!0),S){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,d);break;case 3:E[T].fn.call(E[T].context,d,h);break;case 4:E[T].fn.call(E[T].context,d,h,g);break;default:if(!I)for(M=1,I=new Array(S-1);M<S;M++)I[M-1]=arguments[M];E[T].fn.apply(E[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===d&&(!g||b.once)&&(!h||b.context===h)&&a(this,v);else{for(var C=0,E=[],S=b.length;C<S;C++)(b[C].fn!==d||g&&!b[C].once||h&&b[C].context!==h)&&E.push(b[C]);E.length?this._events[v]=E.length===1?E[0]:E:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(GP)),GP.exports}var FUe=IUe();const UUe=wA(FUe);var jw=new UUe,jN="recharts.syncEvent.tooltip",Eq="recharts.syncEvent.brush";function MUe(n,e){if(e){var t=Number.parseInt(e,10);if(!pA(t))return n==null?void 0:n[t]}}var PUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GZ=ds({name:"options",initialState:PUe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),RUe=GZ.reducer,{createEventEmitter:DUe}=GZ.actions;function LUe(n){return n.tooltip.syncInteraction}var NUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KZ=ds({name:"chartData",initialState:NUe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:i}=e.payload;t!=null&&(n.dataStartIndex=t),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:xq,setDataStartEndIndexes:QUe,setComputedData:fQe}=KZ.actions,kUe=KZ.reducer,OUe=["x","y"];function Sq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ug(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sq(Object(t),!0).forEach(function(i){HUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function HUe(n,e,t){return(e=VUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VUe(n){var e=GUe(n,"string");return typeof e=="symbol"?e:e+""}function GUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KUe(n,e){if(n==null)return{};var t,i,r=zUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function zUe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function qUe(){var n=Ve(Nk),e=Ve(Qk),t=Zn(),i=Ve(_7),r=Ve(xu),s=J1(),a=X1(),o=Ve(l=>l.rootProps.className);P.useEffect(()=>{if(n==null)return LB;var l=(u,d,h)=>{if(e!==h&&n===u){if(i==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:b,y:C}=v,E=KUe(v,OUe),{x:S,y:I,width:T,height:R}=d.payload.sourceViewBox,M=ug(ug({},E),{},{x:a.x+(T?(b-S)/T:0)*a.width,y:a.y+(R?(C-I)/R:0)*a.height});t(ug(ug({},d),{},{payload:ug(ug({},d.payload),{},{coordinate:M})}))}else t(d);return}if(r!=null){var D;if(typeof i=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=i(r,N);D=r[H]}else i==="value"&&(D=r.find(V=>String(V.value)===d.payload.label));var{coordinate:k}=d.payload;if(D==null||d.payload.active===!1||k==null||a==null){t(zN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:G}=k,z=Math.min(K,a.x+a.width),J=Math.min(G,a.y+a.height),ne={x:s==="horizontal"?D.coordinate:z,y:s==="horizontal"?J:D.coordinate},pe=zN({active:d.payload.active,coordinate:ne,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(pe)}}};return jw.on(jN,l),()=>{jw.off(jN,l)}},[o,t,e,n,i,r,s,a])}function $Ue(){var n=Ve(Nk),e=Ve(Qk),t=Zn();P.useEffect(()=>{if(n==null)return LB;var i=(r,s,a)=>{e!==a&&n===r&&t(QUe(s))};return jw.on(Eq,i),()=>{jw.off(Eq,i)}},[t,e,n])}function jUe(){var n=Zn();P.useEffect(()=>{n(DUe())},[n]),qUe(),$Ue()}function WUe(n,e,t,i,r,s){var a=Ve(v=>tUe(v,n,e)),o=Ve(Qk),l=Ve(Nk),u=Ve(_7),d=Ve(LUe),h=d==null?void 0:d.active,g=X1();P.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=zN({active:s,coordinate:t,dataKey:a,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});jw.emit(jN,l,v,o)}},[h,t,a,r,i,o,l,u,s,g])}function _q(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_q(Object(t),!0).forEach(function(i){YUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_q(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function YUe(n,e,t){return(e=XUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XUe(n){var e=JUe(n,"string");return typeof e=="symbol"?e:e+""}function JUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZUe(n){return n.dataKey}function eMe(n,e){return P.isValidElement(n)?P.cloneElement(n,e):typeof n=="function"?P.createElement(n,e):P.createElement(Nxe,e)}var Iq=[],tMe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nMe(n){var e,t,i=qa(n,tMe),{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:b,useTranslate3d:C,wrapperStyle:E,cursor:S,shared:I,trigger:T,defaultIndex:R,portal:M,axisId:D}=i,N=Zn(),H=typeof R=="number"?String(R):R;P.useEffect(()=>{N(XIe({shared:I,trigger:T,axisId:D,active:r,defaultIndex:H}))},[N,I,T,D,r,H]);var k=X1(),K=yJ(),G=zIe(I),{activeIndex:z,isActive:J}=(e=Ve(we=>rUe(we,G,T,H)))!==null&&e!==void 0?e:{},ne=Ve(we=>iUe(we,G,T,H)),pe=Ve(we=>OZ(we,G,T,H)),V=Ve(we=>nUe(we,G,T,H)),$=ne,ie=TUe(),ue=(t=r??J)!==null&&t!==void 0?t:!1,[Ce,q]=mBe([$,ue]),Y=G==="axis"?pe:void 0;WUe(G,T,V,Y,z,ue);var Ae=M??ie;if(Ae==null||k==null||G==null)return null;var de=$??Iq;ue||(de=Iq),u&&de.length&&(de=GCe(de.filter(we=>we.value!=null&&(we.hide!==!0||i.includeHidden)),g,ZUe));var be=de.length>0,ye=P.createElement(Kxe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:ue,coordinate:V,hasPayload:be,offset:h,position:v,reverseDirection:b,useTranslate3d:C,viewBox:k,wrapperStyle:E,lastBoundingBox:Ce,innerRef:q,hasPortalFromProps:!!M},eMe(l,Tq(Tq({},i),{},{payload:de,label:Y,active:ue,activeIndex:z,coordinate:V,accessibilityLayer:K})));return P.createElement(P.Fragment,null,q6.createPortal(ye,Ae),ue&&P.createElement(_Ue,{cursor:S,tooltipEventType:G,coordinate:V,payload:de,index:z}))}var lO=n=>null;lO.displayName="Cell";function iMe(n,e,t){return(e=rMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rMe(n){var e=sMe(n,"string");return typeof e=="symbol"?e:e+""}function sMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class aMe{constructor(e){iMe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function Fq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function oMe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fq(Object(t),!0).forEach(function(i){AMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function AMe(n,e,t){return(e=lMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lMe(n){var e=uMe(n,"string");return typeof e=="symbol"?e:e+""}function uMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cMe={cacheSize:2e3,enableCache:!0},zZ=oMe({},cMe),Uq=new aMe(zZ.cacheSize),dMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mq="recharts_measurement_span";function fMe(n,e){var t=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(o)}var Pq=(n,e)=>{try{var t=document.getElementById(Mq);t||(t=document.createElement("span"),t.setAttribute("id",Mq),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,dMe,e),t.textContent="".concat(n);var i=t.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Cw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||VB.isSsr)return{width:0,height:0};if(!zZ.enableCache)return Pq(e,t);var i=fMe(e,t),r=Uq.get(i);if(r)return r;var s=Pq(e,t);return Uq.set(i,s),s},Rq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gMe=Object.keys(qZ),Fg="NaN";function mMe(n,e){return n*qZ[e]}class os{static parse(e){var t,[,i,r]=(t=pMe.exec(e))!==null&&t!==void 0?t:[];return new os(parseFloat(i),r??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,pA(e)&&(this.unit=""),t!==""&&!hMe.test(t)&&(this.num=NaN,this.unit=""),gMe.includes(t)&&(this.num=mMe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new os(NaN,""):new os(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new os(NaN,""):new os(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new os(NaN,""):new os(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new os(NaN,""):new os(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pA(this.num)}}function $Z(n){if(n.includes(Fg))return Fg;for(var e=n;e.includes("*")||e.includes("/");){var t,[,i,r,s]=(t=Rq.exec(e))!==null&&t!==void 0?t:[],a=os.parse(i??""),o=os.parse(s??""),l=r==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Fg;e=e.replace(Rq,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=Dq.exec(e))!==null&&u!==void 0?u:[],v=os.parse(d??""),b=os.parse(g??""),C=h==="+"?v.add(b):v.subtract(b);if(C.isNaN())return Fg;e=e.replace(Dq,C.toString())}return e}var Lq=/\(([^()]*)\)/;function vMe(n){for(var e=n,t;(t=Lq.exec(e))!=null;){var[,i]=t;e=e.replace(Lq,$Z(i))}return e}function yMe(n){var e=n.replace(/\s+/g,"");return e=vMe(e),e=$Z(e),e}function wMe(n){try{return yMe(n)}catch{return Fg}}function KP(n){var e=wMe(n.slice(5,-1));return e===Fg?"":e}var bMe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],CMe=["dx","dy","angle","className","breakAll"];function WN(){return WN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WN.apply(null,arguments)}function Nq(n,e){if(n==null)return{};var t,i,r=BMe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function BMe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var jZ=/[ \f\n\r\t\v\u2028\u2029]+/,WZ=n=>{var{children:e,breakAll:t,style:i}=n;try{var r=[];Qi(e)||(t?r=e.toString().split(""):r=e.toString().split(jZ));var s=r.map(o=>({word:o,width:Cw(o,i).width})),a=t?0:Cw("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function EMe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var YZ=(n,e,t,i)=>n.reduce((r,s)=>{var{word:a,width:o}=s,l=r[r.length-1];if(l&&o!=null&&(e==null||i||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};r.push(u)}return r},[]),XZ=n=>n.reduce((e,t)=>e.width>t.width?e:t),xMe="",Qq=(n,e,t,i,r,s,a,o)=>{var l=n.slice(0,e),u=WZ({breakAll:t,style:i,children:l+xMe});if(!u)return[!1,[]];var d=YZ(u.wordsWithComputedWidth,s,a,o),h=d.length>r||XZ(d).width>Number(s);return[h,d]},SMe=(n,e,t,i,r)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=Ke(s),d=String(a),h=YZ(e,i,t,r);if(!u||r)return h;var g=h.length>s||XZ(h).width>Number(i);if(!g)return h;for(var v=0,b=d.length-1,C=0,E;v<=b&&C<=d.length-1;){var S=Math.floor((v+b)/2),I=S-1,[T,R]=Qq(d,I,l,o,s,i,t,r),[M]=Qq(d,S,l,o,s,i,t,r);if(!T&&!M&&(v=S+1),T&&M&&(b=S-1),!T&&M){E=R;break}C++}return E||h},kq=n=>{var e=Qi(n)?[]:n.toString().split(jZ);return[{words:e,width:void 0}]},_Me=n=>{var{width:e,scaleToFit:t,children:i,style:r,breakAll:s,maxLines:a}=n;if((e||t)&&!VB.isSsr){var o,l,u=WZ({breakAll:s,children:i,style:r});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return kq(i);return SMe({breakAll:s,children:i,maxLines:a,style:r},o,l,e,!!t)}return kq(i)},JZ="#808080",TMe={angle:0,breakAll:!1,capHeight:"0.71em",fill:JZ,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},uO=P.forwardRef((n,e)=>{var t=qa(n,TMe),{x:i,y:r,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=Nq(t,bMe),g=P.useMemo(()=>_Me({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:b,angle:C,className:E,breakAll:S}=h,I=Nq(h,CMe);if(!gA(i)||!gA(r)||g.length===0)return null;var T=Number(i)+(Ke(v)?v:0),R=Number(r)+(Ke(b)?b:0);if(!Jn(T)||!Jn(R))return null;var M;switch(d){case"start":M=KP("calc(".concat(a,")"));break;case"middle":M=KP("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:M=KP("calc(".concat(g.length-1," * -").concat(s,")"));break}var D=[];if(l){var N=g[0].width,{width:H}=h;D.push("scale(".concat(Ke(H)&&Ke(N)?H/N:1,")"))}return C&&D.push("rotate(".concat(C,", ").concat(T,", ").concat(R,")")),D.length&&(I.transform=D.join(" ")),P.createElement("text",WN({},Ga(I),{ref:e,x:T,y:R,className:bn("recharts-text",E),textAnchor:u,fill:o.includes("url")?JZ:o}),g.map((k,K)=>{var G=k.words.join(S?"":" ");return P.createElement("tspan",{x:T,dy:K===0?M:s,key:"".concat(G,"-").concat(K)},G)}))});uO.displayName="Text";var IMe=["labelRef"];function FMe(n,e){if(n==null)return{};var t,i,r=UMe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function UMe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Oq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Oq(Object(t),!0).forEach(function(i){MMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Oq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MMe(n,e,t){return(e=PMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PMe(n){var e=RMe(n,"string");return typeof e=="symbol"?e:e+""}function RMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ql(){return ql=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ql.apply(null,arguments)}var ZZ=P.createContext(null),DMe=n=>{var{x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a,children:o}=n,l=P.useMemo(()=>({x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a}),[e,t,i,r,s,a]);return P.createElement(ZZ.Provider,{value:l},o)},eee=()=>{var n=P.useContext(ZZ),e=X1();return n||cJ(e)},LMe=P.createContext(null),NMe=()=>{var n=P.useContext(LMe),e=Ve(M7);return n||e},QMe=n=>{var{value:e,formatter:t}=n,i=Qi(n.children)?e:n.children;return typeof t=="function"?t(i):i},cO=n=>n!=null&&typeof n=="function",kMe=(n,e)=>{var t=$s(e-n),i=Math.min(Math.abs(e-n),360);return t*i},OMe=(n,e,t,i,r)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=r,b=(u+d)/2,C=kMe(h,g),E=C>=0?1:-1,S,I;switch(e){case"insideStart":S=h+E*s,I=v;break;case"insideEnd":S=g-E*s,I=!v;break;case"end":S=g+E*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=C<=0?I:!I;var T=ar(o,l,b,S),R=ar(o,l,b,S+(I?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),D=Qi(n.id)?Dw("recharts-radial-line-"):n.id;return P.createElement("text",ql({},i,{dominantBaseline:"central",className:bn("recharts-radial-bar-label",a)}),P.createElement("defs",null,P.createElement("path",{id:D,d:M})),P.createElement("textPath",{xlinkHref:"#".concat(D)},t))},HMe=(n,e,t)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=ar(i,r,a+e,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:b}=ar(i,r,g,u);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},YN=n=>"cx"in n&&Ke(n.cx),VMe=(n,e)=>{var{parentViewBox:t,offset:i,position:r}=n,s;t!=null&&!YN(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,b=(l+u)/2,C=h+l/2,E=d>=0?1:-1,S=E*i,I=E>0?"end":"start",T=E>0?"start":"end",R=l>=0?1:-1,M=R*i,D=R>0?"end":"start",N=R>0?"start":"end";if(r==="top"){var H={x:h+l/2,y:o-S,textAnchor:"middle",verticalAnchor:I};return jn(jn({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(r==="bottom"){var k={x:g+u/2,y:o+d+S,textAnchor:"middle",verticalAnchor:T};return jn(jn({},k),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(r==="left"){var K={x:v-M,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return jn(jn({},K),s?{width:Math.max(K.x-s.x,0),height:d}:{})}if(r==="right"){var G={x:v+b+M,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return jn(jn({},G),s?{width:Math.max(s.x+s.width-G.x,0),height:d}:{})}var z=s?{width:b,height:d}:{};return r==="insideLeft"?jn({x:v+M,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},z):r==="insideRight"?jn({x:v+b-M,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},z):r==="insideTop"?jn({x:h+l/2,y:o+S,textAnchor:"middle",verticalAnchor:T},z):r==="insideBottom"?jn({x:g+u/2,y:o+d-S,textAnchor:"middle",verticalAnchor:I},z):r==="insideTopLeft"?jn({x:h+M,y:o+S,textAnchor:N,verticalAnchor:T},z):r==="insideTopRight"?jn({x:h+l-M,y:o+S,textAnchor:D,verticalAnchor:T},z):r==="insideBottomLeft"?jn({x:g+M,y:o+d-S,textAnchor:N,verticalAnchor:I},z):r==="insideBottomRight"?jn({x:g+u-M,y:o+d-S,textAnchor:D,verticalAnchor:I},z):r&&typeof r=="object"&&(Ke(r.x)||ou(r.x))&&(Ke(r.y)||ou(r.y))?jn({x:a+wo(r.x,b),y:o+wo(r.y,d),textAnchor:"end",verticalAnchor:"end"},z):jn({x:C,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},z)},GMe={angle:0,offset:5,zIndex:cs.label,position:"middle",textBreakAll:!1};function ic(n){var e=qa(n,GMe),{viewBox:t,position:i,value:r,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=NMe(),h=eee(),g=i==="center"?h:d??h,v,b,C;if(t==null?v=g:YN(t)?v=t:v=cJ(t),!v||Qi(r)&&Qi(s)&&!P.isValidElement(a)&&typeof a!="function")return null;var E=jn(jn({},e),{},{viewBox:v});if(P.isValidElement(a)){var{labelRef:S}=E,I=FMe(E,IMe);return P.cloneElement(a,I)}if(typeof a=="function"){if(b=P.createElement(a,E),P.isValidElement(b))return b}else b=QMe(e);var T=Ga(e);if(YN(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return OMe(e,i,b,T,v);C=HMe(v,e.offset,e.position)}else C=VMe(e,v);return P.createElement(Ld,{zIndex:e.zIndex},P.createElement(uO,ql({ref:u,className:bn("recharts-label",o)},T,C,{textAnchor:EMe(T.textAnchor)?T.textAnchor:C.textAnchor,breakAll:l}),b))}ic.displayName="Label";var KMe=(n,e,t)=>{if(!n)return null;var i={viewBox:e,labelRef:t};return n===!0?P.createElement(ic,ql({key:"label-implicit"},i)):gA(n)?P.createElement(ic,ql({key:"label-implicit",value:n},i)):P.isValidElement(n)?n.type===ic?P.cloneElement(n,jn({key:"label-implicit"},i)):P.createElement(ic,ql({key:"label-implicit",content:n},i)):cO(n)?P.createElement(ic,ql({key:"label-implicit",content:n},i)):n&&typeof n=="object"?P.createElement(ic,ql({},n,{key:"label-implicit"},i)):null};function zMe(n){var{label:e,labelRef:t}=n,i=eee();return KMe(e,i,t)||null}var zP={},qP={},Hq;function qMe(){return Hq||(Hq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(qP)),qP}var $P={},Vq;function $Me(){return Vq||(Vq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})($P)),$P}var Gq;function jMe(){return Gq||(Gq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=qMe(),t=$Me(),i=jQ();function r(s){if(i.isArrayLike(s))return e.last(t.toArray(s))}n.last=r})(zP)),zP}var jP,Kq;function WMe(){return Kq||(Kq=1,jP=jMe().last),jP}var YMe=WMe();const XMe=wA(YMe);var JMe=["valueAccessor"],ZMe=["dataKey","clockWise","id","textBreakAll","zIndex"];function DT(){return DT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},DT.apply(null,arguments)}function zq(n,e){if(n==null)return{};var t,i,r=ePe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ePe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var tPe=n=>Array.isArray(n.value)?XMe(n.value):n.value,tee=P.createContext(void 0),nPe=tee.Provider,nee=P.createContext(void 0);nee.Provider;function iPe(){return P.useContext(tee)}function rPe(){return P.useContext(nee)}function x_(n){var{valueAccessor:e=tPe}=n,t=zq(n,JMe),{dataKey:i,clockWise:r,id:s,textBreakAll:a,zIndex:o}=t,l=zq(t,ZMe),u=iPe(),d=rPe(),h=u||d;return!h||!h.length?null:P.createElement(Ld,{zIndex:o??cs.label},P.createElement(au,{className:"recharts-label-list"},h.map((g,v)=>{var b,C=Qi(i)?e(g,v):Br(g&&g.payload,i),E=Qi(s)?{}:{id:"".concat(s,"-").concat(v)};return P.createElement(ic,DT({key:"label-".concat(v)},Ga(g),l,E,{fill:(b=t.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:C,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}x_.displayName="LabelList";function sPe(n){var{label:e}=n;return e?e===!0?P.createElement(x_,{key:"labelList-implicit"}):P.isValidElement(e)||cO(e)?P.createElement(x_,{key:"labelList-implicit",content:e}):typeof e=="object"?P.createElement(x_,DT({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var aPe={radiusAxis:{},angleAxis:{}},iee=ds({name:"polarAxis",initialState:aPe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:hQe,removeRadiusAxis:pQe,addAngleAxis:gQe,removeAngleAxis:mQe}=iee.actions,oPe=iee.reducer,WP={exports:{}},qt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qq;function APe(){if(qq)return qt;qq=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(C){if(typeof C=="object"&&C!==null){var E=C.$$typeof;switch(E){case n:switch(C=C.type,C){case t:case r:case i:case l:case u:case g:return C;default:switch(C=C&&C.$$typeof,C){case a:case o:case h:case d:return C;case s:return C;default:return E}}case e:return E}}}return qt.ContextConsumer=s,qt.ContextProvider=a,qt.Element=n,qt.ForwardRef=o,qt.Fragment=t,qt.Lazy=h,qt.Memo=d,qt.Portal=e,qt.Profiler=r,qt.StrictMode=i,qt.Suspense=l,qt.SuspenseList=u,qt.isContextConsumer=function(C){return b(C)===s},qt.isContextProvider=function(C){return b(C)===a},qt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},qt.isForwardRef=function(C){return b(C)===o},qt.isFragment=function(C){return b(C)===t},qt.isLazy=function(C){return b(C)===h},qt.isMemo=function(C){return b(C)===d},qt.isPortal=function(C){return b(C)===e},qt.isProfiler=function(C){return b(C)===r},qt.isStrictMode=function(C){return b(C)===i},qt.isSuspense=function(C){return b(C)===l},qt.isSuspenseList=function(C){return b(C)===u},qt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===r||C===i||C===l||C===u||typeof C=="object"&&C!==null&&(C.$$typeof===h||C.$$typeof===d||C.$$typeof===a||C.$$typeof===s||C.$$typeof===o||C.$$typeof===v||C.getModuleId!==void 0)},qt.typeOf=b,qt}var $q;function lPe(){return $q||($q=1,WP.exports=APe()),WP.exports}var uPe=lPe(),jq=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",Wq=null,YP=null,ree=n=>{if(n===Wq&&Array.isArray(YP))return YP;var e=[];return P.Children.forEach(n,t=>{Qi(t)||(uPe.isFragment(t)?e=e.concat(ree(t.props.children)):e.push(t))}),YP=e,Wq=n,e};function cPe(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(r=>jq(r)):i=[jq(e)],ree(n).forEach(r=>{var s=zv(r,"type.displayName")||zv(r,"type.name");s&&i.indexOf(s)!==-1&&t.push(r)}),t}var XP={},Yq;function dPe(){return Yq||(Yq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${s}]`}let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i}n.isPlainObject=e})(XP)),XP}var JP,Xq;function fPe(){return Xq||(Xq=1,JP=dPe().isPlainObject),JP}var hPe=fPe();const pPe=wA(hPe);function Jq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Zq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(t),!0).forEach(function(i){gPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gPe(n,e,t){return(e=mPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mPe(n){var e=vPe(n,"string");return typeof e=="symbol"?e:e+""}function vPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function LT(){return LT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},LT.apply(null,arguments)}var e6=(n,e,t,i,r)=>{var s=t-i,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+r),a+="L ".concat(n+t-s/2-i,",").concat(e+r),a+="L ".concat(n,",").concat(e," Z"),a},yPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wPe=n=>{var e=qa(n,yPe),{x:t,y:i,upperWidth:r,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=P.useRef(null),[v,b]=P.useState(-1),C=P.useRef(r),E=P.useRef(s),S=P.useRef(a),I=P.useRef(t),T=P.useRef(i),R=lk(n,"trapezoid-");if(P.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ne=g.current.getTotalLength();ne&&b(ne)}catch{}},[]),t!==+t||i!==+i||r!==+r||s!==+s||a!==+a||r===0&&s===0||a===0)return null;var M=bn("recharts-trapezoid",o);if(!h)return P.createElement("g",null,P.createElement("path",LT({},Ga(e),{className:M,d:e6(t,i,r,s,a)})));var D=C.current,N=E.current,H=S.current,k=I.current,K=T.current,G="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),J=bJ(["strokeDasharray"],u,l);return P.createElement(Ak,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},ne=>{var pe=nr(D,r,ne),V=nr(N,s,ne),$=nr(H,a,ne),ie=nr(k,t,ne),ue=nr(K,i,ne);g.current&&(C.current=pe,E.current=V,S.current=$,I.current=ie,T.current=ue);var Ce=ne>0?{transition:J,strokeDasharray:z}:{strokeDasharray:G};return P.createElement("path",LT({},Ga(e),{className:M,d:e6(ie,ue,pe,V,$),ref:g,style:Zq(Zq({},Ce),e.style)}))})},bPe=["option","shapeType","propTransformer","activeClassName"];function CPe(n,e){if(n==null)return{};var t,i,r=BPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function BPe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function t6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function NT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(t),!0).forEach(function(i){EPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):t6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EPe(n,e,t){return(e=xPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xPe(n){var e=SPe(n,"string");return typeof e=="symbol"?e:e+""}function SPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _Pe(n,e){return NT(NT({},e),n)}function TPe(n,e){return n==="symbols"}function n6(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return P.createElement(xJ,t);case"trapezoid":return P.createElement(wPe,t);case"sector":return P.createElement(TJ,t);case"symbols":if(TPe(e))return P.createElement(p9,t);break;case"curve":return P.createElement(wJ,t);default:return null}}function IPe(n){return P.isValidElement(n)?n.props:n}function FPe(n){var{option:e,shapeType:t,propTransformer:i=_Pe,activeClassName:r="recharts-active-shape"}=n,s=CPe(n,bPe),a;if(P.isValidElement(e))a=P.cloneElement(e,NT(NT({},s),IPe(e)));else if(typeof e=="function")a=e(s,s.index);else if(pPe(e)&&typeof e!="boolean"){var o=i(e,s);a=P.createElement(n6,{shapeType:t,elementProps:o})}else{var l=s;a=P.createElement(n6,{shapeType:t,elementProps:l})}return s.isActive?P.createElement(au,{className:r},a):a}var see=(n,e,t)=>{var i=Zn();return(r,s)=>a=>{n==null||n(r,s,a),i(bZ({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}},aee=n=>{var e=Zn();return(t,i)=>r=>{n==null||n(t,i,r),e(JIe())}},oee=(n,e,t)=>{var i=Zn();return(r,s)=>a=>{n==null||n(r,s,a),i(ZIe({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}};function UPe(n){var{tooltipEntrySettings:e}=n,t=Zn(),i=Zs(),r=P.useRef(null);return P.useLayoutEffect(()=>{i||(r.current===null?t(jIe(e)):r.current!==e&&t(WIe({prev:r.current,next:e})),r.current=e)},[e,t,i]),P.useLayoutEffect(()=>()=>{r.current&&(t(YIe(r.current)),r.current=null)},[t]),null}function MPe(n){var{legendPayload:e}=n,t=Zn(),i=Zs(),r=P.useRef(null);return P.useLayoutEffect(()=>{i||(r.current===null?t(Ixe(e)):r.current!==e&&t(Fxe({prev:r.current,next:e})),r.current=e)},[t,i,e]),P.useLayoutEffect(()=>()=>{r.current&&(t(Uxe(r.current)),r.current=null)},[t]),null}var ZP,PPe=()=>{var[n]=P.useState(()=>Dw("uid-"));return n},RPe=(ZP=Jne.useId)!==null&&ZP!==void 0?ZP:PPe;function Aee(n,e){var t=RPe();return e||(n?"".concat(n,"-").concat(t):t)}var DPe=P.createContext(void 0),LPe=n=>{var{id:e,type:t,children:i}=n,r=Aee("recharts-".concat(t),e);return P.createElement(DPe.Provider,{value:r},i(r))},NPe={cartesianItems:[],polarItems:[]},lee=ds({name:"graphicalItems",initialState:NPe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:_n()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:i}=e.payload,r=yo(n).cartesianItems.indexOf(t);r>-1&&(n.cartesianItems[r]=i)},prepare:_n()},removeCartesianGraphicalItem:{reducer(n,e){var t=yo(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:_n()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:_n()},removePolarGraphicalItem:{reducer(n,e){var t=yo(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:_n()}}}),{addCartesianGraphicalItem:QPe,replaceCartesianGraphicalItem:kPe,removeCartesianGraphicalItem:OPe,addPolarGraphicalItem:vQe,removePolarGraphicalItem:yQe}=lee.actions,HPe=lee.reducer,VPe=n=>{var e=Zn(),t=P.useRef(null);return P.useLayoutEffect(()=>{t.current===null?e(QPe(n)):t.current!==n&&e(kPe({prev:t.current,next:n})),t.current=n},[e,n]),P.useLayoutEffect(()=>()=>{t.current&&(e(OPe(t.current)),t.current=null)},[e]),null},GPe=P.memo(VPe);function i6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function r6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(t),!0).forEach(function(i){KPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function KPe(n,e,t){return(e=zPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zPe(n){var e=qPe(n,"string");return typeof e=="symbol"?e:e+""}function qPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $Pe={xAxis:{},yAxis:{},zAxis:{}},uee=ds({name:"cartesianAxis",initialState:$Pe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:_n()},replaceXAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.xAxis[t.id],n.xAxis[i.id]=i)},prepare:_n()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:_n()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:_n()},replaceYAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.yAxis[t.id],n.yAxis[i.id]=i)},prepare:_n()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:_n()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:_n()},replaceZAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.zAxis[t.id],n.zAxis[i.id]=i)},prepare:_n()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:_n()},updateYAxisWidth(n,e){var{id:t,width:i}=e.payload,r=n.yAxis[t];if(r){var s=r.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==r.width&&Math.abs(i-s[0])<=1)return;var a=[...s,i].slice(-3);n.yAxis[t]=r6(r6({},n.yAxis[t]),{},{width:i,widthHistory:a})}}}}),{addXAxis:jPe,replaceXAxis:WPe,removeXAxis:YPe,addYAxis:XPe,replaceYAxis:JPe,removeYAxis:ZPe,addZAxis:wQe,replaceZAxis:bQe,removeZAxis:CQe,updateYAxisWidth:eRe}=uee.actions,tRe=uee.reducer,nRe=se([ki],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),iRe=se([nRe,wu,bu],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),cee=()=>Ve(iRe),rRe="Invariant failed";function sRe(n,e){throw new Error(rRe)}var aRe=["x","y"];function XN(){return XN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XN.apply(null,arguments)}function s6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function F0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(t),!0).forEach(function(i){oRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function oRe(n,e,t){return(e=ARe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ARe(n){var e=lRe(n,"string");return typeof e=="symbol"?e:e+""}function lRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uRe(n,e){if(n==null)return{};var t,i,r=cRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function cRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function dRe(n,e){var{x:t,y:i}=n,r=uRe(n,aRe),s="".concat(t),a=parseInt(s,10),o="".concat(i),l=parseInt(o,10),u="".concat(e.height||r.height),d=parseInt(u,10),h="".concat(e.width||r.width),g=parseInt(h,10);return F0(F0(F0(F0(F0({},e),r),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function QT(n){return P.createElement(FPe,XN({shapeType:"rectangle",propTransformer:dRe,activeClassName:"recharts-active-bar"},n))}var fRe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(Ke(e))return e;var s=Ke(i)||Qi(i);return s?e(i,r):(s||sRe(),t)}},hRe={},dee=ds({name:"errorBars",initialState:hRe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]||(n[t]=[]),n[t].push(i)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:i,next:r}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]&&(n[t]=n[t].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:BQe,replaceErrorBar:EQe,removeErrorBar:xQe}=dee.actions,pRe=dee.reducer,gRe=["children"];function mRe(n,e){if(n==null)return{};var t,i,r=vRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function vRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var yRe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},wRe=P.createContext(yRe);function bRe(n){var{children:e}=n,t=mRe(n,gRe);return P.createElement(wRe.Provider,{value:t},e)}function fee(n,e){var t,i,r=Ve(u=>Bu(u,n)),s=Ve(u=>Eu(u,e)),a=(t=r==null?void 0:r.allowDataOverflow)!==null&&t!==void 0?t:_i.allowDataOverflow,o=(i=s==null?void 0:s.allowDataOverflow)!==null&&i!==void 0?i:Ti.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function CRe(n){var{xAxisId:e,yAxisId:t,clipPathId:i}=n,r=cee(),{needClipX:s,needClipY:a,needClip:o}=fee(e,t);if(!o||!r)return null;var{x:l,y:u,width:d,height:h}=r;return P.createElement("clipPath",{id:"clipPath-".concat(i)},P.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function BRe(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&Jn(n.zIndex)?n.zIndex:e}var eR={exports:{}},tR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a6;function ERe(){if(a6)return tR;a6=1;var n=iy();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return tR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=r(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function E(M){if(!S){if(S=!0,I=M,M=h(M),g!==void 0&&b.hasValue){var D=b.value;if(g(D,M))return T=D}return T=M}if(D=T,t(I,M))return D;var N=h(M);return g!==void 0&&g(D,N)?(I=M,D):(I=M,T=N)}var S=!1,I,T,R=d===void 0?null:d;return[function(){return E(u())},R===null?void 0:function(){return E(R())}]},[u,d,h,g]);var C=i(l,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=C},[C]),o(C),C},tR}var o6;function xRe(){return o6||(o6=1,eR.exports=ERe()),eR.exports}xRe();function SRe(n){n()}function _Re(){let n=null,e=null;return{clear(){n=null,e=null},notify(){SRe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var A6={notify(){},get:()=>[]};function TRe(n,e){let t,i=A6,r=0,s=!1;function a(C){d();const E=i.subscribe(C);let S=!1;return()=>{S||(S=!0,E(),h())}}function o(){i.notify()}function l(){b.onStateChange&&b.onStateChange()}function u(){return s}function d(){r++,t||(t=n.subscribe(l),i=_Re())}function h(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=A6)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>i};return b}var IRe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FRe=IRe(),URe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MRe=URe(),PRe=()=>FRe||MRe?P.useLayoutEffect:P.useEffect,RRe=PRe();function l6(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function DRe(n,e){if(l6(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!l6(n[t[r]],e[t[r]]))return!1;return!0}var nR=Symbol.for("react-redux-context"),iR=typeof globalThis<"u"?globalThis:{};function LRe(){if(!P.createContext)return{};const n=iR[nR]??(iR[nR]=new Map);let e=n.get(P.createContext);return e||(e=P.createContext(null),n.set(P.createContext,e)),e}var NRe=LRe();function QRe(n){const{children:e,context:t,serverState:i,store:r}=n,s=P.useMemo(()=>{const l=TRe(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),a=P.useMemo(()=>r.getState(),[r]);RRe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||NRe;return P.createElement(o.Provider,{value:s},e)}var kRe=QRe,ORe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function HRe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function dO(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var i of t)if(ORe.has(i)){if(n[i]==null&&e[i]==null)continue;if(!DRe(n[i],e[i]))return!1}else if(!HRe(n[i],e[i]))return!1;return!0}var VRe=["onMouseEnter","onMouseLeave","onClick"],GRe=["value","background","tooltipPosition"],KRe=["id"],zRe=["onMouseEnter","onClick","onMouseLeave"];function fu(){return fu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fu.apply(null,arguments)}function u6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Lr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(t),!0).forEach(function(i){qRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function qRe(n,e,t){return(e=$Re(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $Re(n){var e=jRe(n,"string");return typeof e=="symbol"?e:e+""}function jRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kT(n,e){if(n==null)return{};var t,i,r=WRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function WRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var YRe=n=>{var{dataKey:e,name:t,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:e,type:r,color:i,value:aJ(t,e),payload:n}]},XRe=P.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:i,fill:r,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:aJ(s,e),hide:a,type:l,color:r,unit:o}};return P.createElement(UPe,{tooltipEntrySettings:u})});function JRe(n){var e=Ve(ey),{data:t,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=kT(s,VRe),d=see(a,i),h=aee(o),g=oee(l,i);if(!r||t==null)return null;var v=OQ(r);return P.createElement(Ld,{zIndex:BRe(r,cs.barBackground)},t.map((b,C)=>{var{value:E,background:S,tooltipPosition:I}=b,T=kT(b,GRe);if(!S)return null;var R=d(b,C),M=h(b,C),D=g(b,C),N=Lr(Lr(Lr(Lr(Lr({option:r,isActive:String(C)===e},T),{},{fill:"#eee"},S),v),$Q(u,b,C)),{},{onMouseEnter:R,onMouseLeave:M,onClick:D,dataKey:i,index:C,className:"recharts-bar-background-rectangle"});return P.createElement(QT,fu({key:"background-bar-".concat(C)},N))}))}function ZRe(n){var{showLabels:e,children:t,rects:i}=n,r=i==null?void 0:i.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Lr(Lr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return P.createElement(nPe,{value:e?r:void 0},t)}function eDe(n){var{shape:e,activeBar:t,baseProps:i,entry:r,index:s,dataKey:a}=n,o=Ve(ey),l=Ve(DZ),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?P.createElement(Ld,{zIndex:cs.activeBar},P.createElement(QT,fu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))):P.createElement(QT,fu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))}function tDe(n){var{shape:e,baseProps:t,entry:i,index:r,dataKey:s}=n;return P.createElement(QT,fu({},t,{name:String(t.name)},i,{isActive:!1,option:e,index:r,dataKey:s}))}function nDe(n){var e,{data:t,props:i}=n,r=(e=_d(i))!==null&&e!==void 0?e:{},{id:s}=r,a=kT(r,KRe),{shape:o,dataKey:l,activeBar:u}=i,{onMouseEnter:d,onClick:h,onMouseLeave:g}=i,v=kT(i,zRe),b=see(d,l),C=aee(g),E=oee(h,l);return t?P.createElement(P.Fragment,null,t.map((S,I)=>P.createElement(au,fu({key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(I),className:"recharts-bar-rectangle"},$Q(v,S,I),{onMouseEnter:b(S,I),onMouseLeave:C(S,I),onClick:E(S,I)}),u?P.createElement(eDe,{shape:o,activeBar:u,baseProps:a,entry:S,index:I,dataKey:l}):P.createElement(tDe,{shape:o,baseProps:a,entry:S,index:I,dataKey:l})))):null}function iDe(n){var{props:e,previousRectanglesRef:t}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=lk(e,"recharts-bar-"),[v,b]=P.useState(!1),C=!v,E=P.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),S=P.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return P.createElement(ZRe,{showLabels:C,rects:i},P.createElement(Ak,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:E,onAnimationStart:S,key:g},I=>{var T=I===1?i:i==null?void 0:i.map((R,M)=>{var D=h&&h[M];if(D)return Lr(Lr({},R),{},{x:nr(D.x,R.x,I),y:nr(D.y,R.y,I),width:nr(D.width,R.width,I),height:nr(D.height,R.height,I)});if(r==="horizontal"){var N=nr(0,R.height,I),H=nr(R.stackedBarStart,R.y,I);return Lr(Lr({},R),{},{y:H,height:N})}var k=nr(0,R.width,I),K=nr(R.stackedBarStart,R.x,I);return Lr(Lr({},R),{},{width:k,x:K})});return I>0&&(t.current=T??null),T==null?null:P.createElement(au,null,P.createElement(nDe,{props:e,data:T}))}),P.createElement(sPe,{label:e.label}),e.children)}function rDe(n){var e=P.useRef(null);return P.createElement(iDe,{previousRectanglesRef:e,props:n})}var hee=0,sDe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Br(n,e)}};class aDe extends P.PureComponent{render(){var{hide:e,data:t,dataKey:i,className:r,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=bn("recharts-bar",r),h=u;return P.createElement(au,{className:d,id:u},o&&P.createElement("defs",null,P.createElement(CRe,{clipPathId:h,xAxisId:s,yAxisId:a})),P.createElement(au,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},P.createElement(JRe,{data:t,dataKey:i,background:l,allOtherBarProps:this.props}),P.createElement(rDe,this.props)))}}var oDe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:hee,xAxisId:0,yAxisId:0,zIndex:cs.bar};function ADe(n){var{xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=fee(e,t),g=J1(),v=Zs(),b=cPe(n.children,lO),C=Ve(I=>LDe(I,e,t,v,n.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var E,S=C==null?void 0:C[0];return S==null||S.height==null||S.width==null?E=0:E=g==="vertical"?S.height/2:S.width/2,P.createElement(bRe,{xAxisId:e,yAxisId:t,data:C,dataPointFormatter:sDe,errorBarOffset:E},P.createElement(aDe,fu({},n,{layout:g,needClip:h,data:C,xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function lDe(n){var{layout:e,barSettings:{dataKey:t,minPointSize:i},pos:r,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:b,dataStartIndex:C}=n,E=e==="horizontal"?o:a,S=d?E.scale.domain():null,I=IEe({numericAxis:E}),T=E.scale(I);return h.map((R,M)=>{var D,N,H,k,K,G;d?D=BEe(d[M+C],S):(D=Br(R,t),Array.isArray(D)||(D=[I,D]));var z=fRe(i,hee)(D[1],M);if(e==="horizontal"){var J,[ne,pe]=[o.scale(D[0]),o.scale(D[1])];N=D5({axis:a,ticks:l,bandSize:s,offset:r.offset,entry:R,index:M}),H=(J=pe??ne)!==null&&J!==void 0?J:void 0,k=r.size;var V=ne-pe;if(K=pA(V)?0:V,G={x:N,y:g.top,width:k,height:g.height},Math.abs(z)>0&&Math.abs(K)<Math.abs(z)){var $=$s(K||z)*(Math.abs(z)-Math.abs(K));H-=$,K+=$}}else{var[ie,ue]=[a.scale(D[0]),a.scale(D[1])];if(N=ie,H=D5({axis:o,ticks:u,bandSize:s,offset:r.offset,entry:R,index:M}),k=ue-ie,K=r.size,G={x:g.left,y:H,width:g.width,height:K},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var Ce=$s(k||z)*(Math.abs(z)-Math.abs(k));k+=Ce}}if(N==null||H==null||k==null||K==null)return null;var q=Lr(Lr({},R),{},{stackedBarStart:T,x:N,y:H,width:k,height:K,value:d?D:D[1],payload:R,background:G,tooltipPosition:{x:N+k/2,y:H+K/2},parentViewBox:b},v&&v[M]&&v[M].props);return q}).filter(Boolean)}function uDe(n){var e=qa(n,oDe),t=Zs();return P.createElement(LPe,{id:e.id,type:"bar"},i=>P.createElement(P.Fragment,null,P.createElement(MPe,{legendPayload:YRe(e)}),P.createElement(XRe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),P.createElement(GPe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:TEe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),P.createElement(Ld,{zIndex:e.zIndex},P.createElement(ADe,fu({},e,{id:i})))))}var pee=P.memo(uDe,dO);pee.displayName="Bar";function c6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?c6(Object(t),!0).forEach(function(i){cDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cDe(n,e,t){return(e=dDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dDe(n){var e=fDe(n,"string");return typeof e=="symbol"?e:e+""}function fDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hDe=(n,e)=>e,pDe=(n,e,t)=>t,gDe=(n,e,t,i)=>i,mDe=(n,e,t,i,r)=>r,nE=se([Kk,mDe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),vDe=se([nE],n=>n==null?void 0:n.maxBarSize),yDe=(n,e,t,i,r,s)=>s,d6=(n,e,t)=>{var i=t??n;if(!Qi(i))return wo(i,e,0)},wDe=se([Vt,Kk,hDe,pDe,gDe],(n,e,t,i,r)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),bDe=(n,e,t,i)=>{var r=Vt(n);return r==="horizontal"?KN(n,"yAxis",t,i):KN(n,"xAxis",e,i)},CDe=(n,e,t)=>{var i=Vt(n);return i==="horizontal"?fq(n,"xAxis",e):fq(n,"yAxis",t)},BDe=(n,e,t)=>{var i={},r=n.filter(fI),s=n.filter(u=>u.stackId==null),a=r.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),i),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(b=>b.dataKey),v=d6(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=d6(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},EDe=se([wDe,H1e,CDe],BDe),xDe=(n,e,t,i,r)=>{var s,a,o=nE(n,e,t,i,r);if(o!=null){var l=Vt(n),u=E7(n),{maxBarSize:d}=o,h=Qi(d)?u:d,g,v;return l==="horizontal"?(g=Zv(n,"xAxis",e,i),v=Jv(n,"xAxis",e,i)):(g=Zv(n,"yAxis",t,i),v=Jv(n,"yAxis",t,i)),(s=(a=fT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},gee=(n,e,t,i)=>{var r=Vt(n),s,a;return r==="horizontal"?(s=Zv(n,"xAxis",e,i),a=Jv(n,"xAxis",e,i)):(s=Zv(n,"yAxis",t,i),a=Jv(n,"yAxis",t,i)),fT(s,a)};function SDe(n,e,t,i,r){var s=i.length;if(!(s<1)){var a=wo(n,t,0,!0),o,l=[];if(Jn(i[0].barSize)){var u=!1,d=t/s,h=i.reduce((S,I)=>S+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=i.reduce((S,I)=>{var T,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},M=[...S,R];return v=M[M.length-1].position,M},l)}else{var b=wo(e,t,0,!0);t-2*b-(s-1)*a<=0&&(a=0);var C=(t-2*b-(s-1)*a)/s;C>1&&(C>>=0);var E=Jn(r)?Math.min(C,r):C;o=i.reduce((S,I,T)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b+(C+a)*T+(C-E)/2,size:E}}],l)}return o}}var _De=(n,e,t,i,r,s,a)=>{var o=Qi(a)?e:a,l=SDe(t,i,r!==s?r:s,n,o);return r!==s&&l!=null&&(l=l.map(u=>hS(hS({},u),{},{position:hS(hS({},u.position),{},{offset:u.position.offset-r/2})}))),l},TDe=se([EDe,E7,O1e,x7,xDe,gee,vDe],_De),IDe=(n,e,t,i)=>Zv(n,"xAxis",e,i),FDe=(n,e,t,i)=>Zv(n,"yAxis",t,i),UDe=(n,e,t,i)=>Jv(n,"xAxis",e,i),MDe=(n,e,t,i)=>Jv(n,"yAxis",t,i),PDe=se([TDe,nE],(n,e)=>{if(!(n==null||e==null)){var t=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),RDe=(n,e)=>{var t=Vk(e);if(!(!n||t==null||e==null)){var{stackId:i}=e;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(a=>a.key===t)}}}},DDe=se([bDe,nE],RDe),LDe=se([ki,rk,IDe,FDe,UDe,MDe,PDe,Vt,Pk,gee,DDe,nE,yDe],(n,e,t,i,r,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:C}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||i==null||r==null||s==null||u==null)){var{data:E}=h,S;if(E!=null&&E.length>0?S=E:S=v==null?void 0:v.slice(b,C+1),S!=null)return lDe({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:d,displayedData:S,offset:n,cells:g,dataStartIndex:b})}}),NDe=n=>{var{chartData:e}=n,t=Zn(),i=Zs();return P.useEffect(()=>i?()=>{}:(t(xq(e)),()=>{t(xq(void 0))}),[e,t,i]),null},f6={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},mee=ds({name:"brush",initialState:f6,reducers:{setBrushSettings(n,e){return e.payload==null?f6:e.payload}}}),{setBrushSettings:SQe}=mee.actions,QDe=mee.reducer;function kDe(n,e,t){return(e=ODe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ODe(n){var e=HDe(n,"string");return typeof e=="symbol"?e:e+""}function HDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class fO{static create(e){return new fO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),i=t[0],r=t[t.length-1];return i<=r?e>=i&&e<=r:e>=r&&e<=i}}kDe(fO,"EPS",1e-4);function VDe(n){return(n%180+180)%180}var GDe=function(e){var{width:t,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=VDe(r),a=s*Math.PI/180,o=Math.atan(i/t),l=a>o&&a<Math.PI-o?i/Math.sin(a):t/Math.cos(a);return Math.abs(l)},KDe={dots:[],areas:[],lines:[]},vee=ds({name:"referenceElements",initialState:KDe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=yo(n).dots.findIndex(i=>i===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=yo(n).areas.findIndex(i=>i===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=yo(n).lines.findIndex(i=>i===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:_Qe,removeDot:TQe,addArea:IQe,removeArea:FQe,addLine:UQe,removeLine:MQe}=vee.actions,zDe=vee.reducer,qDe=P.createContext(void 0),$De=n=>{var{children:e}=n,[t]=P.useState("".concat(Dw("recharts"),"-clip")),i=cee();if(i==null)return null;var{x:r,y:s,width:a,height:o}=i;return P.createElement(qDe.Provider,{value:t},P.createElement("defs",null,P.createElement("clipPath",{id:t},P.createElement("rect",{x:r,y:s,height:o,width:a}))),e)};function yee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],i=0;i<n.length;i+=e)t.push(n[i]);return t}function jDe(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return GDe(i,t)}function WDe(n,e,t){var i=t==="width",{x:r,y:s,width:a,height:o}=n;return e===1?{start:i?r:s,end:i?r+a:s+o}:{start:i?r+a:s+o,end:i?r:s}}function OT(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function YDe(n,e){return yee(n,e+1)}function XDe(n,e,t,i,r){for(var s=(i||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var b=i==null?void 0:i[l];if(b===void 0)return{v:yee(i,u)};var C=l,E,S=()=>(E===void 0&&(E=t(b,C)),E),I=b.coordinate,T=l===0||OT(n,I,S,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(S()/2+r),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function h6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(t),!0).forEach(function(i){JDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function JDe(n,e,t){return(e=ZDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZDe(n){var e=eLe(n,"string");return typeof e=="symbol"?e:e+""}function eLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tLe(n,e,t,i,r){for(var s=(i||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],b,C=()=>(b===void 0&&(b=t(v,g)),b);if(g===a-1){var E=n*(v.coordinate+n*C()/2-l);s[g]=v=yr(yr({},v),{},{tickCoord:E>0?v.coordinate-E*n:v.coordinate})}else s[g]=v=yr(yr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var S=OT(n,v.tickCoord,C,o,l);S&&(l=v.tickCoord-n*(C()/2+r),s[g]=yr(yr({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function nLe(n,e,t,i,r,s){var a=(i||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=i[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=yr(yr({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=OT(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+r),a[o-1]=yr(yr({},d),{},{isShow:!0}))}}for(var b=s?o-1:o,C=function(I){var T=a[I],R,M=()=>(R===void 0&&(R=t(T,I)),R);if(I===0){var D=n*(T.coordinate-n*M()/2-l);a[I]=T=yr(yr({},T),{},{tickCoord:D<0?T.coordinate-D*n:T.coordinate})}else a[I]=T=yr(yr({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var N=OT(n,T.tickCoord,M,l,u);N&&(l=T.tickCoord+n*(M()/2+r),a[I]=yr(yr({},T),{},{isShow:!0}))}},E=0;E<b;E++)C(E);return a}function iLe(n,e,t){var{tick:i,ticks:r,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!r||!r.length||!i)return[];if(Ke(l)||VB.isSsr){var g;return(g=YDe(r,Ke(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],b=o==="top"||o==="bottom"?"width":"height",C=d&&b==="width"?Cw(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},E=(T,R)=>{var M=typeof u=="function"?u(T.value,R):T.value;return b==="width"?jDe(Cw(M,{fontSize:e,letterSpacing:t}),C,h):Cw(M,{fontSize:e,letterSpacing:t})[b]},S=r.length>=2?$s(r[1].coordinate-r[0].coordinate):1,I=WDe(s,S,b);return l==="equidistantPreserveStart"?XDe(S,I,E,r,a):(l==="preserveStart"||l==="preserveStartEnd"?v=nLe(S,I,E,r,a,l==="preserveStartEnd"):v=tLe(S,I,E,r,a),v.filter(T=>T.isShow))}var rLe=n=>{var{ticks:e,label:t,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=r+s,u=a+l+o+(t?i:0);return Math.round(u)}return 0},sLe=["axisLine","width","height","className","hide","ticks","axisType"];function aLe(n,e){if(n==null)return{};var t,i,r=oLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function oLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function rp(){return rp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rp.apply(null,arguments)}function p6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function oi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(t),!0).forEach(function(i){ALe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ALe(n,e,t){return(e=lLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lLe(n){var e=uLe(n,"string");return typeof e=="symbol"?e:e+""}function uLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Xh={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:cs.axis};function cLe(n){var{x:e,y:t,width:i,height:r,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=oi(oi(oi({},l),_d(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=oi(oi({},u),{},{x1:e,y1:t+d*r,x2:e+i,y2:t+d*r})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=oi(oi({},u),{},{x1:e+h*i,y1:t,x2:e+h*i,y2:t+r})}return P.createElement("line",rp({},u,{className:bn("recharts-cartesian-axis-line",zv(o,"className"))}))}function dLe(n,e,t,i,r,s,a,o,l){var u,d,h,g,v,b,C=o?-1:1,E=n.tickSize||a,S=Ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*r,h=g-C*E,b=h-C*l,v=S;break;case"left":h=g=n.coordinate,d=e+ +!o*i,u=d-C*E,v=u-C*l,b=S;break;case"right":h=g=n.coordinate,d=e+ +o*i,u=d+C*E,v=u+C*l,b=S;break;default:u=d=n.coordinate,g=t+ +o*r,h=g+C*E,b=h+C*l,v=S;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:b}}}function fLe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function hLe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function pLe(n){var{option:e,tickProps:t,value:i}=n,r,s=bn(t.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(e))r=P.cloneElement(e,oi(oi({},t),{},{className:s}));else if(typeof e=="function")r=e(oi(oi({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=bn(a,e==null?void 0:e.className)),r=P.createElement(uO,rp({},t,{className:a}),i)}return r}var gLe=P.forwardRef((n,e)=>{var{ticks:t=[],tick:i,tickLine:r,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:b,height:C,tickSize:E,tickMargin:S,fontSize:I,letterSpacing:T,getTicksConfig:R,events:M,axisType:D}=n,N=iLe(oi(oi({},R),{},{ticks:t}),I,T),H=fLe(d,h),k=hLe(d,h),K=_d(R),G=OQ(i),z={};typeof r=="object"&&(z=r);var J=oi(oi({},K),{},{fill:"none"},z),ne=N.map($=>oi({entry:$},dLe($,g,v,b,C,d,E,h,S))),pe=ne.map($=>{var{entry:ie,line:ue}=$;return P.createElement(au,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},r&&P.createElement("line",rp({},J,ue,{className:bn("recharts-cartesian-axis-tick-line",zv(r,"className"))})))}),V=ne.map(($,ie)=>{var{entry:ue,tick:Ce}=$,q=oi(oi(oi(oi({textAnchor:H,verticalAnchor:k},K),{},{stroke:"none",fill:s},G),Ce),{},{index:ie,payload:ue,visibleTicksCount:N.length,tickFormatter:a,padding:l},u);return P.createElement(au,rp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},$Q(M,ue,ie)),i&&P.createElement(pLe,{option:i,tickProps:q,value:"".concat(typeof a=="function"?a(ue.value,ie):ue.value).concat(o||"")}))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},V.length>0&&P.createElement(Ld,{zIndex:cs.label},P.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},V)),pe.length>0&&P.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},pe))}),mLe=P.forwardRef((n,e)=>{var{axisLine:t,width:i,height:r,className:s,hide:a,ticks:o,axisType:l}=n,u=aLe(n,sLe),[d,h]=P.useState(""),[g,v]=P.useState(""),b=P.useRef(null);P.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return rLe({ticks:b.current,label:(E=n.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var C=P.useCallback(E=>{if(E){var S=E.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=S;var I=S[0];if(I){var T=window.getComputedStyle(I),R=T.fontSize,M=T.letterSpacing;(R!==d||M!==g)&&(h(R),v(M))}}},[d,g]);return a||i!=null&&i<=0||r!=null&&r<=0?null:P.createElement(Ld,{zIndex:n.zIndex},P.createElement(au,{className:bn("recharts-cartesian-axis",s)},P.createElement(cLe,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:_d(n)}),P.createElement(gLe,{ref:C,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),P.createElement(DMe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},P.createElement(zMe,{label:n.label,labelRef:n.labelRef}),n.children)))}),hO=P.forwardRef((n,e)=>{var t=qa(n,Xh);return P.createElement(mLe,rp({},t,{ref:e}))});hO.displayName="CartesianAxis";var vLe=["domain","range"],yLe=["domain","range"];function g6(n,e){if(n==null)return{};var t,i,r=wLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function wLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function m6(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function wee(n,e){if(n===e)return!0;var{domain:t,range:i}=n,r=g6(n,vLe),{domain:s,range:a}=e,o=g6(e,yLe);return!m6(t,s)||!m6(i,a)?!1:dO(r,o)}var bLe=["dangerouslySetInnerHTML","ticks"],CLe=["id"];function JN(){return JN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},JN.apply(null,arguments)}function v6(n,e){if(n==null)return{};var t,i,r=BLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function BLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function ELe(n){var e=Zn(),t=P.useRef(null);return P.useLayoutEffect(()=>{t.current===null?e(jPe(n)):t.current!==n&&e(WPe({prev:t.current,next:n})),t.current=n},[n,e]),P.useLayoutEffect(()=>()=>{t.current&&(e(YPe(t.current)),t.current=null)},[e]),null}var xLe=n=>{var{xAxisId:e,className:t}=n,i=Ve(rk),r=Zs(),s="xAxis",a=Ve(E=>hy(E,s,e,r)),o=Ve(E=>pZ(E,s,e,r)),l=Ve(E=>cZ(E,e)),u=Ve(E=>QIe(E,e)),d=Ve(E=>R7(E,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=v6(n,bLe),{id:b}=d,C=v6(d,CLe);return P.createElement(hO,JN({},v,C,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:bn("recharts-".concat(s," ").concat(s),t),viewBox:i,ticks:o,axisType:s}))},SLe={allowDataOverflow:_i.allowDataOverflow,allowDecimals:_i.allowDecimals,allowDuplicatedCategory:_i.allowDuplicatedCategory,angle:_i.angle,axisLine:Xh.axisLine,height:_i.height,hide:!1,includeHidden:_i.includeHidden,interval:_i.interval,minTickGap:_i.minTickGap,mirror:_i.mirror,orientation:_i.orientation,padding:_i.padding,reversed:_i.reversed,scale:_i.scale,tick:_i.tick,tickCount:_i.tickCount,tickLine:Xh.tickLine,tickSize:Xh.tickSize,type:_i.type,xAxisId:0},_Le=n=>{var e=qa(n,SLe);return P.createElement(P.Fragment,null,P.createElement(ELe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),P.createElement(xLe,e))},bee=P.memo(_Le,wee);bee.displayName="XAxis";var TLe=["dangerouslySetInnerHTML","ticks"],ILe=["id"];function ZN(){return ZN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ZN.apply(null,arguments)}function y6(n,e){if(n==null)return{};var t,i,r=FLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function FLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function ULe(n){var e=Zn(),t=P.useRef(null);return P.useLayoutEffect(()=>{t.current===null?e(XPe(n)):t.current!==n&&e(JPe({prev:t.current,next:n})),t.current=n},[n,e]),P.useLayoutEffect(()=>()=>{t.current&&(e(ZPe(t.current)),t.current=null)},[e]),null}var MLe=n=>{var{yAxisId:e,className:t,width:i,label:r}=n,s=P.useRef(null),a=P.useRef(null),o=Ve(rk),l=Zs(),u=Zn(),d="yAxis",h=Ve(M=>hy(M,d,e,l)),g=Ve(M=>dZ(M,e)),v=Ve(M=>OIe(M,e)),b=Ve(M=>pZ(M,d,e,l)),C=Ve(M=>D7(M,e));if(P.useLayoutEffect(()=>{if(!(i!=="auto"||!g||cO(r)||P.isValidElement(r)||C==null)){var M=s.current;if(M){var D=M.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&u(eRe({id:e,width:D}))}}},[b,g,u,r,e,i,C]),g==null||v==null||C==null)return null;var{dangerouslySetInnerHTML:E,ticks:S}=n,I=y6(n,TLe),{id:T}=C,R=y6(C,ILe);return P.createElement(hO,ZN({},I,R,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:bn("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:b,axisType:d}))},PLe={allowDataOverflow:Ti.allowDataOverflow,allowDecimals:Ti.allowDecimals,allowDuplicatedCategory:Ti.allowDuplicatedCategory,angle:Ti.angle,axisLine:Xh.axisLine,hide:!1,includeHidden:Ti.includeHidden,interval:Ti.interval,minTickGap:Ti.minTickGap,mirror:Ti.mirror,orientation:Ti.orientation,padding:Ti.padding,reversed:Ti.reversed,scale:Ti.scale,tick:Ti.tick,tickCount:Ti.tickCount,tickLine:Xh.tickLine,tickSize:Xh.tickSize,type:Ti.type,width:Ti.width,yAxisId:0},RLe=n=>{var e=qa(n,PLe);return P.createElement(P.Fragment,null,P.createElement(ULe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),P.createElement(MLe,e))},Cee=P.memo(RLe,wee);Cee.displayName="YAxis";var DLe=(n,e)=>e,pO=se([DLe,Vt,M7,Ci,UZ,xu,eUe,ki],oUe),gO=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/i)}},Bee=Ka("mouseClick"),Eee=kB();Eee.startListening({actionCreator:Bee,effect:(n,e)=>{var t=n.payload,i=pO(e.getState(),gO(t));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(eFe({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var eQ=Ka("mouseMove"),xee=kB(),pS=null;xee.startListening({actionCreator:eQ,effect:(n,e)=>{var t=n.payload;pS!==null&&cancelAnimationFrame(pS);var i=gO(t);pS=requestAnimationFrame(()=>{var r=e.getState(),s=Zk(r,r.tooltip.settings.shared);if(s==="axis"){var a=pO(r,i);(a==null?void 0:a.activeIndex)!=null?e.dispatch(BZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(CZ())}pS=null})}});var w6={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},See=ds({name:"rootProps",initialState:w6,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:w6.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),LLe=See.reducer,{updateOptions:NLe}=See.actions,_ee=ds({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:PQe}=_ee.actions,QLe=_ee.reducer,Tee=Ka("keyDown"),Iee=Ka("focus"),mO=kB();mO.startListening({actionCreator:Tee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=eO(r,gy(t),WB(t),eE(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=xu(t);if(s==="Enter"){var u=RT(t,"axis","hover",String(r.index));e.dispatch(qN({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:u}));return}var d=KIe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var b=RT(t,"axis","hover",String(v));e.dispatch(qN({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}}});mO.startListening({actionCreator:Iee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip;if(!r.active&&r.index==null){var s="0",a=RT(t,"axis","hover",String(s));e.dispatch(qN({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ga=Ka("externalEvent"),Fee=kB(),rR=new Map;Fee.startListening({actionCreator:ga,effect:(n,e)=>{var{handler:t,reactEvent:i}=n.payload;if(t!=null){i.persist();var r=i.type,s=rR.get(r);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:kFe(o),activeDataKey:DZ(o),activeIndex:ey(o),activeLabel:RZ(o),activeTooltipIndex:ey(o),isTooltipActive:OFe(o)};t(l,i)}finally{rR.delete(r)}});rR.set(r,a)}}});var kLe=se([py],n=>n.tooltipItemPayloads),OLe=se([kLe,JB,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,i)=>{var r=n.find(o=>o.settings.dataKey===i);if(r!=null){var{positions:s}=r;if(s!=null){var a=e(s,t);return a}}}),Uee=Ka("touchMove"),Mee=kB();Mee.startListening({actionCreator:Uee,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var i=e.getState(),r=Zk(i,i.tooltip.settings.shared);if(r==="axis"){var s=pO(i,gO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(BZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(LEe),d=(a=l.getAttribute(NEe))!==null&&a!==void 0?a:void 0,h=OLe(e.getState(),u,d);e.dispatch(bZ({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var HLe=U9({brush:QDe,cartesianAxis:tRe,chartData:kUe,errorBars:pRe,graphicalItems:HPe,layout:mEe,legend:Mxe,options:RUe,polarAxis:oPe,polarOptions:QLe,referenceElements:zDe,rootProps:LLe,tooltip:tFe,zIndex:bUe}),VLe=function(e){return VBe({reducer:HLe,preloadedState:e,middleware:t=>{var i;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Eee.middleware,xee.middleware,mO.middleware,Fee.middleware,Mee.middleware])},enhancers:t=>{var i=t;return typeof t=="function"&&(i=t()),i.concat(q9({type:"raf"}))},devTools:VB.devToolsEnabled})};function GLe(n){var{preloadedState:e,children:t,reduxStoreName:i}=n,r=Zs(),s=P.useRef(null);if(r)return t;s.current==null&&(s.current=VLe(e));var a=WQ;return P.createElement(kRe,{context:a,store:s.current},t)}function KLe(n){var{layout:e,margin:t}=n,i=Zn(),r=Zs();return P.useEffect(()=>{r||(i(hEe(e)),i(fEe(t)))},[i,r,e,t]),null}var zLe=P.memo(KLe,dO);function qLe(n){var e=Zn();return P.useEffect(()=>{e(NLe(n))},[e,n]),null}function b6(n){var{zIndex:e,isPanorama:t}=n,i=t?"recharts-zindex-panorama-":"recharts-zindex-",r=Aee("".concat(i).concat(e)),s=Zn();return P.useLayoutEffect(()=>(s(yUe({zIndex:e,elementId:r,isPanorama:t})),()=>{s(wUe({zIndex:e,isPanorama:t}))}),[s,e,r,t]),P.createElement("g",{tabIndex:-1,id:r})}function C6(n){var{children:e,isPanorama:t}=n,i=Ve(lUe);if(!i||i.length===0)return e;var r=i.filter(a=>a<0),s=i.filter(a=>a>0);return P.createElement(P.Fragment,null,r.map(a=>P.createElement(b6,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>P.createElement(b6,{key:a,zIndex:a,isPanorama:t})))}var $Le=["children"];function jLe(n,e){if(n==null)return{};var t,i,r=WLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function WLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function HT(){return HT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},HT.apply(null,arguments)}var YLe={width:"100%",height:"100%",display:"block"},XLe=P.forwardRef((n,e)=>{var t=hxe(),i=pxe(),r=yJ();if(!Td(t)||!Td(i))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=r?0:void 0,typeof a.role=="string"?d=a.role:d=r?"application":void 0),P.createElement(WX,HT({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:i,style:YLe,ref:e}),s)}),JLe=n=>{var{children:e}=n,t=Ve(Y1);if(!t)return null;var{width:i,height:r,y:s,x:a}=t;return P.createElement(WX,{width:i,height:r,x:a,y:s},e)},B6=P.forwardRef((n,e)=>{var{children:t}=n,i=jLe(n,$Le),r=Zs();return r?P.createElement(JLe,null,P.createElement(C6,{isPanorama:!0},t)):P.createElement(XLe,HT({ref:e},i),P.createElement(C6,{isPanorama:!1},t))});function ZLe(){var n=Zn(),[e,t]=P.useState(null),i=Ve(DEe);return P.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;Jn(s)&&s!==i&&n(gEe(s))}},[e,n,i]),t}function E6(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function eNe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(t),!0).forEach(function(i){tNe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E6(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tNe(n,e,t){return(e=nNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nNe(n){var e=iNe(n,"string");return typeof e=="symbol"?e:e+""}function iNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sp(){return sp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sp.apply(null,arguments)}var rNe=()=>(jUe(),null);function VT(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var sNe=P.forwardRef((n,e)=>{var t,i,r=P.useRef(null),[s,a]=P.useState({containerWidth:VT((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:VT((i=n.style)===null||i===void 0?void 0:i.height)}),o=P.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=P.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=b=>{var{width:C,height:E}=b[0].contentRect;o(C,E)},v=new ResizeObserver(g);v.observe(u),r.current=v}},[e,o]);return P.useEffect(()=>()=>{var u=r.current;u!=null&&u.disconnect()},[o]),P.createElement(P.Fragment,null,P.createElement(Z1,{width:s.containerWidth,height:s.containerHeight}),P.createElement("div",sp({ref:l},n)))}),aNe=P.forwardRef((n,e)=>{var{width:t,height:i}=n,[r,s]=P.useState({containerWidth:VT(t),containerHeight:VT(i)}),a=P.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=P.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return P.createElement(P.Fragment,null,P.createElement(Z1,{width:r.containerWidth,height:r.containerHeight}),P.createElement("div",sp({ref:o},n)))}),oNe=P.forwardRef((n,e)=>{var{width:t,height:i}=n;return P.createElement(P.Fragment,null,P.createElement(Z1,{width:t,height:i}),P.createElement("div",sp({ref:e},n)))}),ANe=P.forwardRef((n,e)=>{var{width:t,height:i}=n;return ou(t)||ou(i)?P.createElement(aNe,sp({},n,{ref:e})):P.createElement(oNe,sp({},n,{ref:e}))});function lNe(n){return n===!0?sNe:ANe}var uNe=P.forwardRef((n,e)=>{var{children:t,className:i,height:r,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:C,style:E,width:S,responsive:I,dispatchTouchEvents:T=!0}=n,R=P.useRef(null),M=Zn(),[D,N]=P.useState(null),[H,k]=P.useState(null),K=ZLe(),G=sk(),z=(G==null?void 0:G.width)>0?G.width:S,J=(G==null?void 0:G.height)>0?G.height:r,ne=P.useCallback(ae=>{K(ae),typeof e=="function"&&e(ae),N(ae),k(ae),ae!=null&&(R.current=ae)},[K,e,N,k]),pe=P.useCallback(ae=>{M(Bee(ae)),M(ga({handler:s,reactEvent:ae}))},[M,s]),V=P.useCallback(ae=>{M(eQ(ae)),M(ga({handler:u,reactEvent:ae}))},[M,u]),$=P.useCallback(ae=>{M(CZ()),M(ga({handler:d,reactEvent:ae}))},[M,d]),ie=P.useCallback(ae=>{M(eQ(ae)),M(ga({handler:h,reactEvent:ae}))},[M,h]),ue=P.useCallback(()=>{M(Iee())},[M]),Ce=P.useCallback(ae=>{M(Tee(ae.key))},[M]),q=P.useCallback(ae=>{M(ga({handler:a,reactEvent:ae}))},[M,a]),Y=P.useCallback(ae=>{M(ga({handler:o,reactEvent:ae}))},[M,o]),Ae=P.useCallback(ae=>{M(ga({handler:l,reactEvent:ae}))},[M,l]),de=P.useCallback(ae=>{M(ga({handler:g,reactEvent:ae}))},[M,g]),be=P.useCallback(ae=>{M(ga({handler:C,reactEvent:ae}))},[M,C]),ye=P.useCallback(ae=>{T&&M(Uee(ae)),M(ga({handler:b,reactEvent:ae}))},[M,T,b]),we=P.useCallback(ae=>{M(ga({handler:v,reactEvent:ae}))},[M,v]),ft=lNe(I);return P.createElement(VZ.Provider,{value:D},P.createElement(bbe.Provider,{value:H},P.createElement(ft,{width:z??(E==null?void 0:E.width),height:J??(E==null?void 0:E.height),className:bn("recharts-wrapper",i),style:eNe({position:"relative",cursor:"default",width:z,height:J},E),onClick:pe,onContextMenu:q,onDoubleClick:Y,onFocus:ue,onKeyDown:Ce,onMouseDown:Ae,onMouseEnter:V,onMouseLeave:$,onMouseMove:ie,onMouseUp:de,onTouchEnd:we,onTouchMove:ye,onTouchStart:be,ref:ne},P.createElement(rNe,null),t)))}),cNe=["width","height","responsive","children","className","style","compact","title","desc"];function dNe(n,e){if(n==null)return{};var t,i,r=fNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function fNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var hNe=P.forwardRef((n,e)=>{var{width:t,height:i,responsive:r,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=dNe(n,cNe),g=_d(h);return l?P.createElement(P.Fragment,null,P.createElement(Z1,{width:t,height:i}),P.createElement(B6,{otherAttributes:g,title:u,desc:d},s)):P.createElement(uNe,{className:a,style:o,width:t,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},P.createElement(B6,{otherAttributes:g,title:u,desc:d,ref:e},P.createElement($De,null,s)))});function tQ(){return tQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tQ.apply(null,arguments)}var pNe={top:5,right:5,bottom:5,left:5},gNe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:pNe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},mNe=P.forwardRef(function(e,t){var i,r=qa(e.categoricalChartProps,gNe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return P.createElement(GLe,{preloadedState:{options:d},reduxStoreName:(i=u.id)!==null&&i!==void 0?i:s},P.createElement(NDe,{chartData:u.data}),P.createElement(zLe,{layout:r.layout,margin:r.margin}),P.createElement(qLe,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),P.createElement(hNe,tQ({},r,{ref:t})))}),vNe=["axis","item"],yNe=P.forwardRef((n,e)=>P.createElement(mNe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vNe,tooltipPayloadSearcher:MUe,categoricalChartProps:n,ref:e}));const wNe=()=>{const{stats:n,highlights:e}=up(),t=Object.entries(n.chapterVisits).map(([r,s])=>({name:r==="ch1"?"Ch 1":r==="ch2"?"Ch 2":"Ch 3",visits:s})),i=r=>`${Math.floor(r/60)}m ${r%60}s`;return Q.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[Q.jsx(OW,{toggleSidebar:()=>{},toggleNotes:()=>{}}),Q.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[Q.jsxs("div",{className:"mb-8",children:[Q.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),Q.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),Q.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[Q.jsx(gS,{icon:Q.jsx(Ffe,{className:"text-blue-500"}),label:"Reading Time",value:i(n.totalReadingTime)}),Q.jsx(gS,{icon:Q.jsx(yfe,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),Q.jsx(gS,{icon:Q.jsx(NW,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),Q.jsx(gS,{icon:Q.jsx(PG,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),Q.jsx("div",{className:"h-64 w-full",children:Q.jsx(cxe,{width:"100%",height:"100%",children:Q.jsxs(yNe,{data:t,children:[Q.jsx(bee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),Q.jsx(Cee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),Q.jsx(nMe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),Q.jsx(pee,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((r,s)=>Q.jsx(lO,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),Q.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[Q.jsx(PG,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[Q.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),Q.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((r,s)=>Q.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:r.text},s)),e.length===0&&Q.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),Q.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:Q.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},gS=({icon:n,label:e,value:t})=>Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[Q.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),Q.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),Q.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),bNe=()=>Q.jsx(wre,{children:Q.jsx(ufe,{children:Q.jsxs(Xie,{children:[Q.jsx(AR,{path:"/",element:Q.jsx(cbe,{})}),Q.jsx(AR,{path:"/report",element:Q.jsx(wNe,{})})]})})}),Pee=document.getElementById("root");if(!Pee)throw new Error("Could not find root element to mount to");const CNe=sie.createRoot(Pee);CNe.render(Q.jsx(_6.StrictMode,{children:Q.jsx(bNe,{})}));
